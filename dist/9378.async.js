!(function(){var wN=Object.defineProperty,yN=Object.defineProperties;var ON=Object.getOwnPropertyDescriptors;var Qg=Object.getOwnPropertySymbols,PN=Object.getPrototypeOf,U0=Object.prototype.hasOwnProperty,V0=Object.prototype.propertyIsEnumerable,MN=Reflect.get;var _d=Math.pow,G_=(Gt,ze,c)=>ze in Gt?wN(Gt,ze,{enumerable:!0,configurable:!0,writable:!0,value:c}):Gt[ze]=c,Di=(Gt,ze)=>{for(var c in ze||(ze={}))U0.call(ze,c)&&G_(Gt,c,ze[c]);if(Qg)for(var c of Qg(ze))V0.call(ze,c)&&G_(Gt,c,ze[c]);return Gt},sn=(Gt,ze)=>yN(Gt,ON(ze));var G0=(Gt,ze)=>{var c={};for(var D in Gt)U0.call(Gt,D)&&ze.indexOf(D)<0&&(c[D]=Gt[D]);if(Gt!=null&&Qg)for(var D of Qg(Gt))ze.indexOf(D)<0&&V0.call(Gt,D)&&(c[D]=Gt[D]);return c};var ho=(Gt,ze,c)=>(G_(Gt,typeof ze!="symbol"?ze+"":ze,c),c);var z_=(Gt,ze,c)=>MN(PN(Gt),c,ze);var At=(Gt,ze,c)=>new Promise((D,X)=>{var v=T=>{try{L(c.next(T))}catch(M){X(M)}},k=T=>{try{L(c.throw(T))}catch(M){X(M)}},L=T=>T.done?D(T.value):Promise.resolve(T.value).then(v,k);L((c=c.apply(Gt,ze)).next())}),Cd=(Gt,ze,c)=>(ze=Gt[Symbol.asyncIterator],c=(D,X)=>(X=Gt[D])&&(ze[D]=v=>new Promise((k,L,T)=>(v=X.call(Gt,v),T=v.done,Promise.resolve(v.value).then(M=>k({value:M,done:T}),L)))),ze?ze.call(Gt):(Gt=Gt[Symbol.iterator](),ze={},c("next"),c("return"),ze));(self.webpackChunk=self.webpackChunk||[]).push([[9378],{59853:function(){"use strict"},81822:function(){"use strict"},22594:function(){"use strict"},51678:function(Gt,ze,c){"use strict";c.d(ze,{$W:function(){return F},Dt:function(){return R},G6:function(){return u},MG:function(){return N},Pf:function(){return _},Tz:function(){return y},i7:function(){return a},ie:function(){return b},uB:function(){return B},vU:function(){return S}});var D=c(32764),X=c(46328),v=c(83845);class k{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}k.INSTANCE=new k;class L extends v.JT{constructor(){super(),this._onDidChange=this._register(new X.Q5),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(G){var Z;(Z=this._mediaQueryList)===null||Z===void 0||Z.removeEventListener("change",this._listener),this._mediaQueryList=D.vO.matchMedia(`(resolution: ${D.vO.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),G&&this._onDidChange.fire()}}class T extends v.JT{get value(){return this._value}constructor(){super(),this._onDidChange=this._register(new X.Q5),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const G=this._register(new L);this._register(G.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}_getPixelRatio(){const G=document.createElement("canvas").getContext("2d"),Z=D.vO.devicePixelRatio||1,ne=G.webkitBackingStorePixelRatio||G.mozBackingStorePixelRatio||G.msBackingStorePixelRatio||G.oBackingStorePixelRatio||G.backingStorePixelRatio||1;return Z/ne}}class M{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,v.dk)(new T)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function B(Y,G){typeof Y=="string"&&(Y=D.vO.matchMedia(Y)),Y.addEventListener("change",G)}const y=new M;function b(){return k.INSTANCE.getZoomFactor()}const C=navigator.userAgent,S=C.indexOf("Firefox")>=0,_=C.indexOf("AppleWebKit")>=0,a=C.indexOf("Chrome")>=0,u=!a&&C.indexOf("Safari")>=0,N=!a&&!u&&_,O=C.indexOf("Electron/")>=0,R=C.indexOf("Android")>=0;let V=!1;if(D.vO.matchMedia){const Y=D.vO.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),G=D.vO.matchMedia("(display-mode: fullscreen)");V=Y.matches,B(Y,({matches:Z})=>{V&&G.matches||(V=Z)})}function F(){return V}},95671:function(Gt,ze,c){"use strict";c.d(ze,{D:function(){return k}});var D=c(51678),X=c(32764),v=c(43998);const k={clipboard:{writeText:v.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:v.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>v.tY||D.$W()?0:navigator.keyboard||D.G6?1:2)(),touch:"ontouchstart"in X.Ex||navigator.maxTouchPoints>0,pointerEvents:X.Ex.PointerEvent&&("ontouchstart"in X.Ex||navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},82038:function(Gt,ze,c){"use strict";c.d(ze,{g:function(){return X}});var D=c(98584);const X={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:D.v.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}},97480:function(Gt,ze,c){"use strict";c.d(ze,{$:function(){return Bn},$Z:function(){return en},Ay:function(){return Mt},Ce:function(){return Fi},Cp:function(){return Jn},D6:function(){return rt},Dx:function(){return x},FK:function(){return gt},GQ:function(){return P},H9:function(){return Xt},I8:function(){return He},If:function(){return Re},Jc:function(){return Z},Jj:function(){return u},N5:function(){return bi},OO:function(){return pt},PO:function(){return $},R3:function(){return Ri},Ro:function(){return Ze},Uh:function(){return ys},V3:function(){return ds},WN:function(){return Ne},XT:function(){return os},Xo:function(){return G},_0:function(){return Qi},_F:function(){return ui},_h:function(){return In},_q:function(){return Ue},b5:function(){return li},cl:function(){return xi},dS:function(){return De},dp:function(){return ut},e4:function(){return Nt},eg:function(){return bt},fk:function(){return le},go:function(){return Be},h:function(){return fi},i:function(){return ct},iJ:function(){return kn},jL:function(){return Ce},jg:function(){return Tt},jt:function(){return cs},lI:function(){return Ee},mc:function(){return hi},mu:function(){return H},ne:function(){return pe},nm:function(){return se},sQ:function(){return ke},se:function(){return ce},tw:function(){return Ki},uN:function(){return mt},uP:function(){return Yt},uU:function(){return vt},vL:function(){return zt},vY:function(){return Ft},vd:function(){return Ot},vx:function(){return _e},w:function(){return Dt},wY:function(){return ps},wn:function(){return st},xQ:function(){return lt},zB:function(){return dn}});var D=c(51678),X=c(95671),v=c(89056),k=c(9470),L=c(96925),T=c(35541),M=c(46328),B=c(53270),y=c(83845),b=c(90385),C=c(43998),S=c(31815),_=c(32764);const{registerWindow:a,getWindow:u,getDocument:N,getWindows:O,getWindowsCount:R,getWindowId:V,getWindowById:F,hasWindow:Y,onDidRegisterWindow:G,onWillUnregisterWindow:Z,onDidUnregisterWindow:ne}=function(){const Te=new Map;(0,_.HA)(_.Ex,1),Te.set(_.Ex.vscodeWindowId,{window:_.Ex,disposables:new y.SL});const tt=new M.Q5,Wt=new M.Q5,Vt=new M.Q5;return{onDidRegisterWindow:tt.event,onWillUnregisterWindow:Vt.event,onDidUnregisterWindow:Wt.event,registerWindow(Ni){if(Te.has(Ni.vscodeWindowId))return y.JT.None;const ji=new y.SL,Ai={window:Ni,disposables:ji.add(new y.SL)};return Te.set(Ni.vscodeWindowId,Ai),ji.add((0,y.OF)(()=>{Te.delete(Ni.vscodeWindowId),Wt.fire(Ni)})),ji.add(se(Ni,Ki.BEFORE_UNLOAD,()=>{Vt.fire(Ni)})),tt.fire(Ai),ji},getWindows(){return Te.values()},getWindowsCount(){return Te.size},getWindowId(Ni){return Ni.vscodeWindowId},hasWindow(Ni){return Te.has(Ni)},getWindowById(Ni){return Te.get(Ni)},getWindow(Ni){var ji;const Ai=Ni;if(!((ji=Ai==null?void 0:Ai.ownerDocument)===null||ji===void 0)&&ji.defaultView)return Ai.ownerDocument.defaultView.window;const on=Ni;return on!=null&&on.view?on.view.window:_.Ex},getDocument(Ni){return u(Ni).document}}}();function $(Te){for(;Te.firstChild;)Te.firstChild.remove()}class J{constructor(tt,Wt,Vt,Ni){this._node=tt,this._type=Wt,this._handler=Vt,this._options=Ni||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function se(Te,tt,Wt,Vt){return new J(Te,tt,Wt,Vt)}function re(Te,tt){return function(Wt){return tt(new k.n(Te,Wt))}}function he(Te){return function(tt){return Te(new v.y(tt))}}const H=function(tt,Wt,Vt,Ni){let ji=Vt;return Wt==="click"||Wt==="mousedown"?ji=re(u(tt),Vt):(Wt==="keydown"||Wt==="keypress"||Wt==="keyup")&&(ji=he(Vt)),se(tt,Wt,ji,Ni)},P=function(tt,Wt,Vt){const Ni=re(u(tt),Wt);return K(tt,Ni,Vt)},j=function(tt,Wt,Vt){const Ni=re(u(tt),Wt);return ie(tt,Ni,Vt)};function K(Te,tt,Wt){return se(Te,C.gn&&X.D.pointerEvents?Ki.POINTER_DOWN:Ki.MOUSE_DOWN,tt,Wt)}function ie(Te,tt,Wt){return se(Te,platform.isIOS&&BrowserFeatures.pointerEvents?Ki.POINTER_UP:Ki.MOUSE_UP,tt,Wt)}function ce(Te,tt,Wt){return(0,L.y5)(Te,tt,Wt)}class _e extends L.hF{constructor(tt,Wt){super(tt,Wt)}}let Ee,Ce;class pe extends L.zh{cancelAndSet(tt,Wt,Vt){return super.cancelAndSet(tt,Wt,Vt)}}class xe{constructor(tt,Wt=0){this._runner=tt,this.priority=Wt,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(tt){(0,T.dL)(tt)}}static sort(tt,Wt){return Wt.priority-tt.priority}}(function(){const Te=new Map,tt=new Map,Wt=new Map,Vt=new Map,Ni=ji=>{var Ai;Wt.set(ji,!1);const on=(Ai=Te.get(ji))!==null&&Ai!==void 0?Ai:[];for(tt.set(ji,on),Te.set(ji,[]),Vt.set(ji,!0);on.length>0;)on.sort(xe.sort),on.shift().execute();Vt.set(ji,!1)};Ce=(ji,Ai,on=0)=>{const mn=V(ji),Rn=new xe(Ai,on);let pi=Te.get(mn);return pi||(pi=[],Te.set(mn,pi)),pi.push(Rn),Wt.get(mn)||(Wt.set(mn,!0),ji.requestAnimationFrame(()=>Ni(mn))),Rn},Ee=(ji,Ai,on)=>{const mn=V(ji);if(Vt.get(mn)){const Rn=new xe(Ai,on);let pi=tt.get(mn);return pi||(pi=[],tt.set(mn,pi)),pi.push(Rn),Rn}else return Ce(ji,Ai,on)}})();function x(Te){return u(Te).getComputedStyle(Te,null)}function rt(Te,tt){const Wt=u(Te),Vt=Wt.document;if(Te!==Vt.body)return new Ze(Te.clientWidth,Te.clientHeight);if(C.gn&&(Wt!=null&&Wt.visualViewport))return new Ze(Wt.visualViewport.width,Wt.visualViewport.height);if(Wt!=null&&Wt.innerWidth&&Wt.innerHeight)return new Ze(Wt.innerWidth,Wt.innerHeight);if(Vt.body&&Vt.body.clientWidth&&Vt.body.clientHeight)return new Ze(Vt.body.clientWidth,Vt.body.clientHeight);if(Vt.documentElement&&Vt.documentElement.clientWidth&&Vt.documentElement.clientHeight)return new Ze(Vt.documentElement.clientWidth,Vt.documentElement.clientHeight);if(tt)return rt(tt);throw new Error("Unable to figure out browser width and height")}class Xe{static convertToPixels(tt,Wt){return parseFloat(Wt)||0}static getDimension(tt,Wt,Vt){const Ni=x(tt),ji=Ni?Ni.getPropertyValue(Wt):"0";return Xe.convertToPixels(tt,ji)}static getBorderLeftWidth(tt){return Xe.getDimension(tt,"border-left-width","borderLeftWidth")}static getBorderRightWidth(tt){return Xe.getDimension(tt,"border-right-width","borderRightWidth")}static getBorderTopWidth(tt){return Xe.getDimension(tt,"border-top-width","borderTopWidth")}static getBorderBottomWidth(tt){return Xe.getDimension(tt,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(tt){return Xe.getDimension(tt,"padding-left","paddingLeft")}static getPaddingRight(tt){return Xe.getDimension(tt,"padding-right","paddingRight")}static getPaddingTop(tt){return Xe.getDimension(tt,"padding-top","paddingTop")}static getPaddingBottom(tt){return Xe.getDimension(tt,"padding-bottom","paddingBottom")}static getMarginLeft(tt){return Xe.getDimension(tt,"margin-left","marginLeft")}static getMarginTop(tt){return Xe.getDimension(tt,"margin-top","marginTop")}static getMarginRight(tt){return Xe.getDimension(tt,"margin-right","marginRight")}static getMarginBottom(tt){return Xe.getDimension(tt,"margin-bottom","marginBottom")}}class Ze{constructor(tt,Wt){this.width=tt,this.height=Wt}with(tt=this.width,Wt=this.height){return tt!==this.width||Wt!==this.height?new Ze(tt,Wt):this}static is(tt){return typeof tt=="object"&&typeof tt.height=="number"&&typeof tt.width=="number"}static lift(tt){return tt instanceof Ze?tt:new Ze(tt.width,tt.height)}static equals(tt,Wt){return tt===Wt?!0:!tt||!Wt?!1:tt.width===Wt.width&&tt.height===Wt.height}}Ze.None=new Ze(0,0);function lt(Te){let tt=Te.offsetParent,Wt=Te.offsetTop,Vt=Te.offsetLeft;for(;(Te=Te.parentNode)!==null&&Te!==Te.ownerDocument.body&&Te!==Te.ownerDocument.documentElement;){Wt-=Te.scrollTop;const Ni=we(Te)?null:x(Te);Ni&&(Vt-=Ni.direction!=="rtl"?Te.scrollLeft:-Te.scrollLeft),Te===tt&&(Vt+=Xe.getBorderLeftWidth(Te),Wt+=Xe.getBorderTopWidth(Te),Wt+=Te.offsetTop,Vt+=Te.offsetLeft,tt=Te.offsetParent)}return{left:Vt,top:Wt}}function ut(Te,tt,Wt){typeof tt=="number"&&(Te.style.width=`${tt}px`),typeof Wt=="number"&&(Te.style.height=`${Wt}px`)}function ct(Te){const tt=Te.getBoundingClientRect(),Wt=u(Te);return{left:tt.left+Wt.scrollX,top:tt.top+Wt.scrollY,width:tt.width,height:tt.height}}function He(Te){let tt=Te,Wt=1;do{const Vt=x(tt).zoom;Vt!=null&&Vt!=="1"&&(Wt*=Vt),tt=tt.parentElement}while(tt!==null&&tt!==tt.ownerDocument.documentElement);return Wt}function Dt(Te){const tt=Xe.getMarginLeft(Te)+Xe.getMarginRight(Te);return Te.offsetWidth+tt}function gt(Te){const tt=Xe.getBorderLeftWidth(Te)+Xe.getBorderRightWidth(Te),Wt=Xe.getPaddingLeft(Te)+Xe.getPaddingRight(Te);return Te.offsetWidth-tt-Wt}function Re(Te){const tt=Xe.getBorderTopWidth(Te)+Xe.getBorderBottomWidth(Te),Wt=Xe.getPaddingTop(Te)+Xe.getPaddingBottom(Te);return Te.offsetHeight-tt-Wt}function st(Te){const tt=Xe.getMarginTop(Te)+Xe.getMarginBottom(Te);return Te.offsetHeight+tt}function Tt(Te,tt){return!!(tt!=null&&tt.contains(Te))}function xt(Te,tt,Wt){for(;Te&&Te.nodeType===Te.ELEMENT_NODE;){if(Te.classList.contains(tt))return Te;if(Wt){if(typeof Wt=="string"){if(Te.classList.contains(Wt))return null}else if(Te===Wt)return null}Te=Te.parentNode}return null}function vt(Te,tt,Wt){return!!xt(Te,tt,Wt)}function we(Te){return Te&&!!Te.host&&!!Te.mode}function pt(Te){return!!Mt(Te)}function Mt(Te){for(var tt;Te.parentNode;){if(Te===((tt=Te.ownerDocument)===null||tt===void 0?void 0:tt.body))return null;Te=Te.parentNode}return we(Te)?Te:null}function Ft(){let Te=Yt().activeElement;for(;Te!=null&&Te.shadowRoot;)Te=Te.shadowRoot.activeElement;return Te}function Xt(Te){return Te.ownerDocument.activeElement===Te}function li(Te){return Tt(Te.ownerDocument.activeElement,Te)}function Yt(){var Te;return R()<=1?document:(Te=Array.from(O()).map(({window:Wt})=>Wt.document).find(Wt=>Wt.hasFocus()))!==null&&Te!==void 0?Te:document}function Ne(){var Te,tt;return(tt=(Te=Yt().defaultView)===null||Te===void 0?void 0:Te.window)!==null&&tt!==void 0?tt:_.Ex}const yt=new Map;function De(Te=_.Ex.document.head,tt,Wt){const Vt=document.createElement("style");if(Vt.type="text/css",Vt.media="screen",tt==null||tt(Vt),Te.appendChild(Vt),Wt&&Wt.add((0,y.OF)(()=>Te.removeChild(Vt))),Te===_.Ex.document.head){const Ni=new Set;yt.set(Vt,Ni);for(const{window:ji,disposables:Ai}of O()){if(ji===_.Ex)continue;const on=Ai.add(di(Vt,Ni,ji));Wt==null||Wt.add(on)}}return Vt}function di(Te,tt,Wt){var Vt,Ni;const ji=new y.SL,Ai=Te.cloneNode(!0);Wt.document.head.appendChild(Ai),ji.add((0,y.OF)(()=>Wt.document.head.removeChild(Ai)));for(const on of Pt(Te))(Vt=Ai.sheet)===null||Vt===void 0||Vt.insertRule(on.cssText,(Ni=Ai.sheet)===null||Ni===void 0?void 0:Ni.cssRules.length);return ji.add(Ve.observe(Te,ji,{childList:!0})(()=>{Ai.textContent=Te.textContent})),tt.add(Ai),ji.add((0,y.OF)(()=>tt.delete(Ai))),ji}const Ve=new class{constructor(){this.mutationObservers=new Map}observe(Te,tt,Wt){let Vt=this.mutationObservers.get(Te);Vt||(Vt=new Map,this.mutationObservers.set(Te,Vt));const Ni=(0,S.vp)(Wt);let ji=Vt.get(Ni);if(ji)ji.users+=1;else{const Ai=new M.Q5,on=new MutationObserver(Rn=>Ai.fire(Rn));on.observe(Te,Wt);const mn=ji={users:1,observer:on,onDidMutate:Ai.event};tt.add((0,y.OF)(()=>{mn.users-=1,mn.users===0&&(Ai.dispose(),on.disconnect(),Vt==null||Vt.delete(Ni),(Vt==null?void 0:Vt.size)===0&&this.mutationObservers.delete(Te))})),Vt.set(Ni,ji)}return ji.onDidMutate}};let $i=null;function wn(){return $i||($i=De()),$i}function Pt(Te){var tt,Wt;return!((tt=Te==null?void 0:Te.sheet)===null||tt===void 0)&&tt.rules?Te.sheet.rules:!((Wt=Te==null?void 0:Te.sheet)===null||Wt===void 0)&&Wt.cssRules?Te.sheet.cssRules:[]}function le(Te,tt,Wt=wn()){var Vt,Ni;if(!(!Wt||!tt)){(Vt=Wt.sheet)===null||Vt===void 0||Vt.insertRule(`${Te} {${tt}}`,0);for(const ji of(Ni=yt.get(Wt))!==null&&Ni!==void 0?Ni:[])le(Te,tt,ji)}}function mt(Te,tt=wn()){var Wt,Vt;if(!tt)return;const Ni=Pt(tt),ji=[];for(let Ai=0;Ai<Ni.length;Ai++){const on=Ni[Ai];jt(on)&&on.selectorText.indexOf(Te)!==-1&&ji.push(Ai)}for(let Ai=ji.length-1;Ai>=0;Ai--)(Wt=tt.sheet)===null||Wt===void 0||Wt.deleteRule(ji[Ai]);for(const Ai of(Vt=yt.get(tt))!==null&&Vt!==void 0?Vt:[])mt(Te,Ai)}function jt(Te){return typeof Te.selectorText=="string"}function bi(Te){return Te instanceof MouseEvent||Te instanceof u(Te).MouseEvent}function Ot(Te){return Te instanceof KeyboardEvent||Te instanceof u(Te).KeyboardEvent}const Ki={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:D.Pf?"webkitAnimationStart":"animationstart",ANIMATION_END:D.Pf?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:D.Pf?"webkitAnimationIteration":"animationiteration"};function xi(Te){const tt=Te;return!!(tt&&typeof tt.preventDefault=="function"&&typeof tt.stopPropagation=="function")}const dn={stop:(Te,tt)=>(Te.preventDefault(),tt&&Te.stopPropagation(),Te)};function zt(Te){const tt=[];for(let Wt=0;Te&&Te.nodeType===Te.ELEMENT_NODE;Wt++)tt[Wt]=Te.scrollTop,Te=Te.parentNode;return tt}function Qi(Te,tt){for(let Wt=0;Te&&Te.nodeType===Te.ELEMENT_NODE;Wt++)Te.scrollTop!==tt[Wt]&&(Te.scrollTop=tt[Wt]),Te=Te.parentNode}class ei extends y.JT{static hasFocusWithin(tt){if(tt instanceof HTMLElement){const Wt=Mt(tt),Vt=Wt?Wt.activeElement:tt.ownerDocument.activeElement;return Tt(Vt,tt)}else{const Wt=tt;return Tt(Wt.document.activeElement,Wt.document)}}constructor(tt){super(),this._onDidFocus=this._register(new M.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new M.Q5),this.onDidBlur=this._onDidBlur.event;let Wt=ei.hasFocusWithin(tt),Vt=!1;const Ni=()=>{Vt=!1,Wt||(Wt=!0,this._onDidFocus.fire())},ji=()=>{Wt&&(Vt=!0,(tt instanceof HTMLElement?u(tt):tt).setTimeout(()=>{Vt&&(Vt=!1,Wt=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{ei.hasFocusWithin(tt)!==Wt&&(Wt?ji():Ni())},this._register(se(tt,Ki.FOCUS,Ni,!0)),this._register(se(tt,Ki.BLUR,ji,!0)),tt instanceof HTMLElement&&(this._register(se(tt,Ki.FOCUS_IN,()=>this._refreshStateHandler())),this._register(se(tt,Ki.FOCUS_OUT,()=>this._refreshStateHandler())))}}function Be(Te){return new ei(Te)}function Nt(Te,tt){return Te.after(tt),tt}function Ri(Te,...tt){if(Te.append(...tt),tt.length===1&&typeof tt[0]!="string")return tt[0]}function Fi(Te,tt){return Te.insertBefore(tt,Te.firstChild),tt}function hi(Te,...tt){Te.innerText="",Ri(Te,...tt)}const En=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var bn;(function(Te){Te.HTML="http://www.w3.org/1999/xhtml",Te.SVG="http://www.w3.org/2000/svg"})(bn||(bn={}));function gn(Te,tt,Wt,...Vt){const Ni=En.exec(tt);if(!Ni)throw new Error("Bad use of emmet");const ji=Ni[1]||"div";let Ai;return Te!==bn.HTML?Ai=document.createElementNS(Te,ji):Ai=document.createElement(ji),Ni[3]&&(Ai.id=Ni[3]),Ni[4]&&(Ai.className=Ni[4].replace(/\./g," ").trim()),Wt&&Object.entries(Wt).forEach(([on,mn])=>{typeof mn!="undefined"&&(/^on\w+$/.test(on)?Ai[on]=mn:on==="selected"?mn&&Ai.setAttribute(on,"true"):Ai.setAttribute(on,mn))}),Ai.append(...Vt),Ai}function Bn(Te,tt,...Wt){return gn(bn.HTML,Te,tt,...Wt)}Bn.SVG=function(Te,tt,...Wt){return gn(bn.SVG,Te,tt,...Wt)};function kn(Te,...tt){Te?en(...tt):Jn(...tt)}function en(...Te){for(const tt of Te)tt.style.display="",tt.removeAttribute("aria-hidden")}function Jn(...Te){for(const tt of Te)tt.style.display="none",tt.setAttribute("aria-hidden","true")}function ys(Te,tt){const Wt=Te.devicePixelRatio*tt;return Math.max(1,Math.floor(Wt))/Te.devicePixelRatio}function ds(Te){_.Ex.open(Te,"_blank","noopener")}function cs(Te,tt){const Wt=()=>{tt(),Vt=Ce(Te,Wt)};let Vt=Ce(Te,Wt);return(0,y.OF)(()=>Vt.dispose())}b.WX.setPreferredWebSchema(/^https:/.test(_.Ex.location.href)?"https":"http");function ps(Te){return Te?`url('${b.Gi.uriToBrowserUri(Te).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function In(Te){return`'${Te.replace(/'/g,"%27")}'`}function os(Te,tt){if(Te!==void 0){const Wt=Te.match(/^\s*var\((.+)\)$/);if(Wt){const Vt=Wt[1].split(",",2);return Vt.length===2&&(tt=os(Vt[1].trim(),tt)),`var(${Vt[0]}, ${tt})`}return Te}return tt}function ui(Te,tt=!1){const Wt=document.createElement("a");return B.v5("afterSanitizeAttributes",Vt=>{for(const Ni of["href","src"])if(Vt.hasAttribute(Ni)){const ji=Vt.getAttribute(Ni);if(Ni==="href"&&ji.startsWith("#"))continue;if(Wt.href=ji,!Te.includes(Wt.protocol.replace(/:$/,""))){if(tt&&Ni==="src"&&Wt.href.startsWith("data:"))continue;Vt.removeAttribute(Ni)}}}),(0,y.OF)(()=>{B.ok("afterSanitizeAttributes")})}const ke=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]),Ke=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class Ue extends M.Q5{constructor(){super(),this._subscriptions=new y.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(M.ju.runAndSubscribe(G,({window:tt,disposables:Wt})=>this.registerListeners(tt,Wt),{window:_.Ex,disposables:this._subscriptions}))}registerListeners(tt,Wt){Wt.add(se(tt,"keydown",Vt=>{if(Vt.defaultPrevented)return;const Ni=new v.y(Vt);if(!(Ni.keyCode===6&&Vt.repeat)){if(Vt.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Vt.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Vt.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Vt.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Ni.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=Vt.altKey,this._keyStatus.ctrlKey=Vt.ctrlKey,this._keyStatus.metaKey=Vt.metaKey,this._keyStatus.shiftKey=Vt.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=Vt,this.fire(this._keyStatus))}},!0)),Wt.add(se(tt,"keyup",Vt=>{Vt.defaultPrevented||(!Vt.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!Vt.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!Vt.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!Vt.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=Vt.altKey,this._keyStatus.ctrlKey=Vt.ctrlKey,this._keyStatus.metaKey=Vt.metaKey,this._keyStatus.shiftKey=Vt.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=Vt,this.fire(this._keyStatus)))},!0)),Wt.add(se(tt.document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),Wt.add(se(tt.document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),Wt.add(se(tt.document.body,"mousemove",Vt=>{Vt.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),Wt.add(se(tt,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Ue.instance||(Ue.instance=new Ue),Ue.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class bt extends y.JT{constructor(tt,Wt){super(),this.element=tt,this.callbacks=Wt,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this.callbacks.onDragStart&&this._register(se(this.element,Ki.DRAG_START,tt=>{var Wt,Vt;(Vt=(Wt=this.callbacks).onDragStart)===null||Vt===void 0||Vt.call(Wt,tt)})),this.callbacks.onDrag&&this._register(se(this.element,Ki.DRAG,tt=>{var Wt,Vt;(Vt=(Wt=this.callbacks).onDrag)===null||Vt===void 0||Vt.call(Wt,tt)})),this._register(se(this.element,Ki.DRAG_ENTER,tt=>{var Wt,Vt;this.counter++,this.dragStartTime=tt.timeStamp,(Vt=(Wt=this.callbacks).onDragEnter)===null||Vt===void 0||Vt.call(Wt,tt)})),this._register(se(this.element,Ki.DRAG_OVER,tt=>{var Wt,Vt;tt.preventDefault(),(Vt=(Wt=this.callbacks).onDragOver)===null||Vt===void 0||Vt.call(Wt,tt,tt.timeStamp-this.dragStartTime)})),this._register(se(this.element,Ki.DRAG_LEAVE,tt=>{var Wt,Vt;this.counter--,this.counter===0&&(this.dragStartTime=0,(Vt=(Wt=this.callbacks).onDragLeave)===null||Vt===void 0||Vt.call(Wt,tt))})),this._register(se(this.element,Ki.DRAG_END,tt=>{var Wt,Vt;this.counter=0,this.dragStartTime=0,(Vt=(Wt=this.callbacks).onDragEnd)===null||Vt===void 0||Vt.call(Wt,tt)})),this._register(se(this.element,Ki.DROP,tt=>{var Wt,Vt;this.counter=0,this.dragStartTime=0,(Vt=(Wt=this.callbacks).onDrop)===null||Vt===void 0||Vt.call(Wt,tt)}))}}const it=new RegExp("(?<tag>[\\w\\-]+)?(?:#(?<id>[\\w\\-]+))?(?<class>(?:\\.(?:[\\w\\-]+))*)(?:@(?<name>(?:[\\w\\_])+))?");function fi(Te,...tt){let Wt,Vt;Array.isArray(tt[0])?(Wt={},Vt=tt[0]):(Wt=tt[0]||{},Vt=tt[1]);const Ni=it.exec(Te);if(!Ni||!Ni.groups)throw new Error("Bad use of h");const ji=Ni.groups.tag||"div",Ai=document.createElement(ji);Ni.groups.id&&(Ai.id=Ni.groups.id);const on=[];if(Ni.groups.class)for(const Rn of Ni.groups.class.split("."))Rn!==""&&on.push(Rn);if(Wt.className!==void 0)for(const Rn of Wt.className.split("."))Rn!==""&&on.push(Rn);on.length>0&&(Ai.className=on.join(" "));const mn={};if(Ni.groups.name&&(mn[Ni.groups.name]=Ai),Vt)for(const Rn of Vt)Rn instanceof HTMLElement?Ai.appendChild(Rn):typeof Rn=="string"?Ai.append(Rn):"root"in Rn&&(Object.assign(mn,Rn),Ai.appendChild(Rn.root));for(const[Rn,pi]of Object.entries(Wt))if(Rn!=="className")if(Rn==="style")for(const[ti,ii]of Object.entries(pi))Ai.style.setProperty(_i(ti),typeof ii=="number"?ii+"px":""+ii);else Rn==="tabIndex"?Ai.tabIndex=pi:Ai.setAttribute(_i(Rn),pi.toString());return mn.root=Ai,mn}function _i(Te){return Te.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},53270:function(Gt,ze,c){"use strict";c.d(ze,{Nw:function(){return vt},ok:function(){return Xt},v5:function(){return Ft}});const{entries:D,setPrototypeOf:X,isFrozen:v,getPrototypeOf:k,getOwnPropertyDescriptor:L}=Object;let{freeze:T,seal:M,create:B}=Object,{apply:y,construct:b}=typeof Reflect!="undefined"&&Reflect;y||(y=function(yt,De,di){return yt.apply(De,di)}),T||(T=function(yt){return yt}),M||(M=function(yt){return yt}),b||(b=function(yt,De){return new yt(...De)});const C=G(Array.prototype.forEach),S=G(Array.prototype.pop),_=G(Array.prototype.push),a=G(String.prototype.toLowerCase),u=G(String.prototype.toString),N=G(String.prototype.match),O=G(String.prototype.replace),R=G(String.prototype.indexOf),V=G(String.prototype.trim),F=G(RegExp.prototype.test),Y=Z(TypeError);function G(Ne){return function(yt){for(var De=arguments.length,di=new Array(De>1?De-1:0),Ve=1;Ve<De;Ve++)di[Ve-1]=arguments[Ve];return y(Ne,yt,di)}}function Z(Ne){return function(){for(var yt=arguments.length,De=new Array(yt),di=0;di<yt;di++)De[di]=arguments[di];return b(Ne,De)}}function ne(Ne,yt,De){var di;De=(di=De)!==null&&di!==void 0?di:a,X&&X(Ne,null);let Ve=yt.length;for(;Ve--;){let $i=yt[Ve];if(typeof $i=="string"){const wn=De($i);wn!==$i&&(v(yt)||(yt[Ve]=wn),$i=wn)}Ne[$i]=!0}return Ne}function $(Ne){const yt=B(null);for(const[De,di]of D(Ne))yt[De]=di;return yt}function J(Ne,yt){for(;Ne!==null;){const di=L(Ne,yt);if(di){if(di.get)return G(di.get);if(typeof di.value=="function")return G(di.value)}Ne=k(Ne)}function De(di){return console.warn("fallback value for",di),null}return De}const se=T(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),re=T(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),he=T(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),H=T(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),P=T(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),j=T(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),K=T(["#text"]),ie=T(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ce=T(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),_e=T(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ee=T(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ce=M(/\{\{[\w\W]*|[\w\W]*\}\}/gm),pe=M(/<%[\w\W]*|[\w\W]*%>/gm),xe=M(/\${[\w\W]*}/gm),x=M(/^data-[\-\w.\u00B7-\uFFFF]/),rt=M(/^aria-[\-\w]+$/),Xe=M(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ze=M(/^(?:\w+script|data):/i),lt=M(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ut=M(/^html$/i);var ct=Object.freeze({__proto__:null,MUSTACHE_EXPR:Ce,ERB_EXPR:pe,TMPLIT_EXPR:xe,DATA_ATTR:x,ARIA_ATTR:rt,IS_ALLOWED_URI:Xe,IS_SCRIPT_OR_DATA:Ze,ATTR_WHITESPACE:lt,DOCTYPE_NAME:ut});const He=()=>typeof window=="undefined"?null:window,Dt=function(yt,De){if(typeof yt!="object"||typeof yt.createPolicy!="function")return null;let di=null;const Ve="data-tt-policy-suffix";De&&De.hasAttribute(Ve)&&(di=De.getAttribute(Ve));const $i="dompurify"+(di?"#"+di:"");try{return yt.createPolicy($i,{createHTML(wn){return wn},createScriptURL(wn){return wn}})}catch(wn){return console.warn("TrustedTypes policy "+$i+" could not be created."),null}};function gt(){let Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:He();const yt=ri=>gt(ri);if(yt.version="3.0.5",yt.removed=[],!Ne||!Ne.document||Ne.document.nodeType!==9)return yt.isSupported=!1,yt;const De=Ne.document,di=De.currentScript;let{document:Ve}=Ne;const{DocumentFragment:$i,HTMLTemplateElement:wn,Node:Pt,Element:le,NodeFilter:mt,NamedNodeMap:jt=Ne.NamedNodeMap||Ne.MozNamedAttrMap,HTMLFormElement:bi,DOMParser:Ot,trustedTypes:Ki}=Ne,xi=le.prototype,dn=J(xi,"cloneNode"),zt=J(xi,"nextSibling"),Qi=J(xi,"childNodes"),ei=J(xi,"parentNode");if(typeof wn=="function"){const ri=Ve.createElement("template");ri.content&&ri.content.ownerDocument&&(Ve=ri.content.ownerDocument)}let Be,Nt="";const{implementation:Ri,createNodeIterator:Fi,createDocumentFragment:hi,getElementsByTagName:En}=Ve,{importNode:bn}=De;let gn={};yt.isSupported=typeof D=="function"&&typeof ei=="function"&&Ri&&Ri.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Bn,ERB_EXPR:kn,TMPLIT_EXPR:en,DATA_ATTR:Jn,ARIA_ATTR:ys,IS_SCRIPT_OR_DATA:ds,ATTR_WHITESPACE:cs}=ct;let{IS_ALLOWED_URI:ps}=ct,In=null;const os=ne({},[...se,...re,...he,...P,...K]);let ui=null;const ke=ne({},[...ie,...ce,..._e,...Ee]);let Ke=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ue=null,bt=null,it=!0,fi=!0,_i=!1,Te=!0,tt=!1,Wt=!1,Vt=!1,Ni=!1,ji=!1,Ai=!1,on=!1,mn=!0,Rn=!1;const pi="user-content-";let ti=!0,ii=!1,Ct={},It=null;const Qt=ne({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ut=null;const Si=ne({},["audio","video","img","source","image","track"]);let Vi=null;const tn=ne({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ji="http://www.w3.org/1998/Math/MathML",Cn="http://www.w3.org/2000/svg",Tn="http://www.w3.org/1999/xhtml";let Wn=Tn,qn=!1,ln=null;const Gn=ne({},[Ji,Cn,Tn],u);let Kn;const ro=["application/xhtml+xml","text/html"],as="text/html";let Zi,cn=null;const pn=Ve.createElement("form"),rn=function(Se){return Se instanceof RegExp||Se instanceof Function},Xn=function(Se){if(!(cn&&cn===Se)){if((!Se||typeof Se!="object")&&(Se={}),Se=$(Se),Kn=ro.indexOf(Se.PARSER_MEDIA_TYPE)===-1?Kn=as:Kn=Se.PARSER_MEDIA_TYPE,Zi=Kn==="application/xhtml+xml"?u:a,In="ALLOWED_TAGS"in Se?ne({},Se.ALLOWED_TAGS,Zi):os,ui="ALLOWED_ATTR"in Se?ne({},Se.ALLOWED_ATTR,Zi):ke,ln="ALLOWED_NAMESPACES"in Se?ne({},Se.ALLOWED_NAMESPACES,u):Gn,Vi="ADD_URI_SAFE_ATTR"in Se?ne($(tn),Se.ADD_URI_SAFE_ATTR,Zi):tn,Ut="ADD_DATA_URI_TAGS"in Se?ne($(Si),Se.ADD_DATA_URI_TAGS,Zi):Si,It="FORBID_CONTENTS"in Se?ne({},Se.FORBID_CONTENTS,Zi):Qt,Ue="FORBID_TAGS"in Se?ne({},Se.FORBID_TAGS,Zi):{},bt="FORBID_ATTR"in Se?ne({},Se.FORBID_ATTR,Zi):{},Ct="USE_PROFILES"in Se?Se.USE_PROFILES:!1,it=Se.ALLOW_ARIA_ATTR!==!1,fi=Se.ALLOW_DATA_ATTR!==!1,_i=Se.ALLOW_UNKNOWN_PROTOCOLS||!1,Te=Se.ALLOW_SELF_CLOSE_IN_ATTR!==!1,tt=Se.SAFE_FOR_TEMPLATES||!1,Wt=Se.WHOLE_DOCUMENT||!1,ji=Se.RETURN_DOM||!1,Ai=Se.RETURN_DOM_FRAGMENT||!1,on=Se.RETURN_TRUSTED_TYPE||!1,Ni=Se.FORCE_BODY||!1,mn=Se.SANITIZE_DOM!==!1,Rn=Se.SANITIZE_NAMED_PROPS||!1,ti=Se.KEEP_CONTENT!==!1,ii=Se.IN_PLACE||!1,ps=Se.ALLOWED_URI_REGEXP||Xe,Wn=Se.NAMESPACE||Tn,Ke=Se.CUSTOM_ELEMENT_HANDLING||{},Se.CUSTOM_ELEMENT_HANDLING&&rn(Se.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ke.tagNameCheck=Se.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Se.CUSTOM_ELEMENT_HANDLING&&rn(Se.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ke.attributeNameCheck=Se.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Se.CUSTOM_ELEMENT_HANDLING&&typeof Se.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ke.allowCustomizedBuiltInElements=Se.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),tt&&(fi=!1),Ai&&(ji=!0),Ct&&(In=ne({},[...K]),ui=[],Ct.html===!0&&(ne(In,se),ne(ui,ie)),Ct.svg===!0&&(ne(In,re),ne(ui,ce),ne(ui,Ee)),Ct.svgFilters===!0&&(ne(In,he),ne(ui,ce),ne(ui,Ee)),Ct.mathMl===!0&&(ne(In,P),ne(ui,_e),ne(ui,Ee))),Se.ADD_TAGS&&(In===os&&(In=$(In)),ne(In,Se.ADD_TAGS,Zi)),Se.ADD_ATTR&&(ui===ke&&(ui=$(ui)),ne(ui,Se.ADD_ATTR,Zi)),Se.ADD_URI_SAFE_ATTR&&ne(Vi,Se.ADD_URI_SAFE_ATTR,Zi),Se.FORBID_CONTENTS&&(It===Qt&&(It=$(It)),ne(It,Se.FORBID_CONTENTS,Zi)),ti&&(In["#text"]=!0),Wt&&ne(In,["html","head","body"]),In.table&&(ne(In,["tbody"]),delete Ue.tbody),Se.TRUSTED_TYPES_POLICY){if(typeof Se.TRUSTED_TYPES_POLICY.createHTML!="function")throw Y('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Se.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Y('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Be=Se.TRUSTED_TYPES_POLICY,Nt=Be.createHTML("")}else Be===void 0&&(Be=Dt(Ki,di)),Be!==null&&typeof Nt=="string"&&(Nt=Be.createHTML(""));T&&T(Se),cn=Se}},Is=ne({},["mi","mo","mn","ms","mtext"]),hn=ne({},["foreignobject","desc","title","annotation-xml"]),us=ne({},["title","style","font","a","script"]),Rs=ne({},re);ne(Rs,he),ne(Rs,H);const ts=ne({},P);ne(ts,j);const ls=function(Se){let je=ei(Se);(!je||!je.tagName)&&(je={namespaceURI:Wn,tagName:"template"});const Qe=a(Se.tagName),Ht=a(je.tagName);return ln[Se.namespaceURI]?Se.namespaceURI===Cn?je.namespaceURI===Tn?Qe==="svg":je.namespaceURI===Ji?Qe==="svg"&&(Ht==="annotation-xml"||Is[Ht]):!!Rs[Qe]:Se.namespaceURI===Ji?je.namespaceURI===Tn?Qe==="math":je.namespaceURI===Cn?Qe==="math"&&hn[Ht]:!!ts[Qe]:Se.namespaceURI===Tn?je.namespaceURI===Cn&&!hn[Ht]||je.namespaceURI===Ji&&!Is[Ht]?!1:!ts[Qe]&&(us[Qe]||!Rs[Qe]):!!(Kn==="application/xhtml+xml"&&ln[Se.namespaceURI]):!1},ms=function(Se){_(yt.removed,{element:Se});try{Se.parentNode.removeChild(Se)}catch(je){Se.remove()}},qi=function(Se,je){try{_(yt.removed,{attribute:je.getAttributeNode(Se),from:je})}catch(Qe){_(yt.removed,{attribute:null,from:je})}if(je.removeAttribute(Se),Se==="is"&&!ui[Se])if(ji||Ai)try{ms(je)}catch(Qe){}else try{je.setAttribute(Se,"")}catch(Qe){}},Ss=function(Se){let je,Qe;if(Ni)Se="<remove></remove>"+Se;else{const ni=N(Se,/^[\r\n\t ]+/);Qe=ni&&ni[0]}Kn==="application/xhtml+xml"&&Wn===Tn&&(Se='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Se+"</body></html>");const Ht=Be?Be.createHTML(Se):Se;if(Wn===Tn)try{je=new Ot().parseFromString(Ht,Kn)}catch(ni){}if(!je||!je.documentElement){je=Ri.createDocument(Wn,"template",null);try{je.documentElement.innerHTML=qn?Nt:Ht}catch(ni){}}const kt=je.body||je.documentElement;return Se&&Qe&&kt.insertBefore(Ve.createTextNode(Qe),kt.childNodes[0]||null),Wn===Tn?En.call(je,Wt?"html":"body")[0]:Wt?je.documentElement:kt},Gs=function(Se){return Fi.call(Se.ownerDocument||Se,Se,mt.SHOW_ELEMENT|mt.SHOW_COMMENT|mt.SHOW_TEXT,null,!1)},Eo=function(Se){return Se instanceof bi&&(typeof Se.nodeName!="string"||typeof Se.textContent!="string"||typeof Se.removeChild!="function"||!(Se.attributes instanceof jt)||typeof Se.removeAttribute!="function"||typeof Se.setAttribute!="function"||typeof Se.namespaceURI!="string"||typeof Se.insertBefore!="function"||typeof Se.hasChildNodes!="function")},Ys=function(Se){return typeof Pt=="object"?Se instanceof Pt:Se&&typeof Se=="object"&&typeof Se.nodeType=="number"&&typeof Se.nodeName=="string"},vs=function(Se,je,Qe){gn[Se]&&C(gn[Se],Ht=>{Ht.call(yt,je,Qe,cn)})},Fs=function(Se){let je;if(vs("beforeSanitizeElements",Se,null),Eo(Se))return ms(Se),!0;const Qe=Zi(Se.nodeName);if(vs("uponSanitizeElement",Se,{tagName:Qe,allowedTags:In}),Se.hasChildNodes()&&!Ys(Se.firstElementChild)&&(!Ys(Se.content)||!Ys(Se.content.firstElementChild))&&F(/<[/\w]/g,Se.innerHTML)&&F(/<[/\w]/g,Se.textContent))return ms(Se),!0;if(!In[Qe]||Ue[Qe]){if(!Ue[Qe]&&Ns(Qe)&&(Ke.tagNameCheck instanceof RegExp&&F(Ke.tagNameCheck,Qe)||Ke.tagNameCheck instanceof Function&&Ke.tagNameCheck(Qe)))return!1;if(ti&&!It[Qe]){const Ht=ei(Se)||Se.parentNode,kt=Qi(Se)||Se.childNodes;if(kt&&Ht){const ni=kt.length;for(let ai=ni-1;ai>=0;--ai)Ht.insertBefore(dn(kt[ai],!0),zt(Se))}}return ms(Se),!0}return Se instanceof le&&!ls(Se)||(Qe==="noscript"||Qe==="noembed"||Qe==="noframes")&&F(/<\/no(script|embed|frames)/i,Se.innerHTML)?(ms(Se),!0):(tt&&Se.nodeType===3&&(je=Se.textContent,je=O(je,Bn," "),je=O(je,kn," "),je=O(je,en," "),Se.textContent!==je&&(_(yt.removed,{element:Se.cloneNode()}),Se.textContent=je)),vs("afterSanitizeElements",Se,null),!1)},Ws=function(Se,je,Qe){if(mn&&(je==="id"||je==="name")&&(Qe in Ve||Qe in pn))return!1;if(!(fi&&!bt[je]&&F(Jn,je))){if(!(it&&F(ys,je))){if(!ui[je]||bt[je]){if(!(Ns(Se)&&(Ke.tagNameCheck instanceof RegExp&&F(Ke.tagNameCheck,Se)||Ke.tagNameCheck instanceof Function&&Ke.tagNameCheck(Se))&&(Ke.attributeNameCheck instanceof RegExp&&F(Ke.attributeNameCheck,je)||Ke.attributeNameCheck instanceof Function&&Ke.attributeNameCheck(je))||je==="is"&&Ke.allowCustomizedBuiltInElements&&(Ke.tagNameCheck instanceof RegExp&&F(Ke.tagNameCheck,Qe)||Ke.tagNameCheck instanceof Function&&Ke.tagNameCheck(Qe))))return!1}else if(!Vi[je]){if(!F(ps,O(Qe,cs,""))){if(!((je==="src"||je==="xlink:href"||je==="href")&&Se!=="script"&&R(Qe,"data:")===0&&Ut[Se])){if(!(_i&&!F(ds,O(Qe,cs,"")))){if(Qe)return!1}}}}}}return!0},Ns=function(Se){return Se.indexOf("-")>0},fo=function(Se){let je,Qe,Ht,kt;vs("beforeSanitizeAttributes",Se,null);const{attributes:ni}=Se;if(!ni)return;const ai={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ui};for(kt=ni.length;kt--;){je=ni[kt];const{name:si,namespaceURI:Ei}=je;if(Qe=si==="value"?je.value:V(je.value),Ht=Zi(si),ai.attrName=Ht,ai.attrValue=Qe,ai.keepAttr=!0,ai.forceKeepAttr=void 0,vs("uponSanitizeAttribute",Se,ai),Qe=ai.attrValue,ai.forceKeepAttr||(qi(si,Se),!ai.keepAttr))continue;if(!Te&&F(/\/>/i,Qe)){qi(si,Se);continue}tt&&(Qe=O(Qe,Bn," "),Qe=O(Qe,kn," "),Qe=O(Qe,en," "));const Pi=Zi(Se.nodeName);if(Ws(Pi,Ht,Qe)){if(Rn&&(Ht==="id"||Ht==="name")&&(qi(si,Se),Qe=pi+Qe),Be&&typeof Ki=="object"&&typeof Ki.getAttributeType=="function"&&!Ei)switch(Ki.getAttributeType(Pi,Ht)){case"TrustedHTML":{Qe=Be.createHTML(Qe);break}case"TrustedScriptURL":{Qe=Be.createScriptURL(Qe);break}}try{Ei?Se.setAttributeNS(Ei,si,Qe):Se.setAttribute(si,Qe),S(yt.removed)}catch(Li){}}}vs("afterSanitizeAttributes",Se,null)},ao=function ri(Se){let je;const Qe=Gs(Se);for(vs("beforeSanitizeShadowDOM",Se,null);je=Qe.nextNode();)vs("uponSanitizeShadowNode",je,null),!Fs(je)&&(je.content instanceof $i&&ri(je.content),fo(je));vs("afterSanitizeShadowDOM",Se,null)};return yt.sanitize=function(ri){let Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},je,Qe,Ht,kt;if(qn=!ri,qn&&(ri="<!-->"),typeof ri!="string"&&!Ys(ri))if(typeof ri.toString=="function"){if(ri=ri.toString(),typeof ri!="string")throw Y("dirty is not a string, aborting")}else throw Y("toString is not a function");if(!yt.isSupported)return ri;if(Vt||Xn(Se),yt.removed=[],typeof ri=="string"&&(ii=!1),ii){if(ri.nodeName){const si=Zi(ri.nodeName);if(!In[si]||Ue[si])throw Y("root node is forbidden and cannot be sanitized in-place")}}else if(ri instanceof Pt)je=Ss("<!---->"),Qe=je.ownerDocument.importNode(ri,!0),Qe.nodeType===1&&Qe.nodeName==="BODY"||Qe.nodeName==="HTML"?je=Qe:je.appendChild(Qe);else{if(!ji&&!tt&&!Wt&&ri.indexOf("<")===-1)return Be&&on?Be.createHTML(ri):ri;if(je=Ss(ri),!je)return ji?null:on?Nt:""}je&&Ni&&ms(je.firstChild);const ni=Gs(ii?ri:je);for(;Ht=ni.nextNode();)Fs(Ht)||(Ht.content instanceof $i&&ao(Ht.content),fo(Ht));if(ii)return ri;if(ji){if(Ai)for(kt=hi.call(je.ownerDocument);je.firstChild;)kt.appendChild(je.firstChild);else kt=je;return(ui.shadowroot||ui.shadowrootmode)&&(kt=bn.call(De,kt,!0)),kt}let ai=Wt?je.outerHTML:je.innerHTML;return Wt&&In["!doctype"]&&je.ownerDocument&&je.ownerDocument.doctype&&je.ownerDocument.doctype.name&&F(ut,je.ownerDocument.doctype.name)&&(ai="<!DOCTYPE "+je.ownerDocument.doctype.name+`>
`+ai),tt&&(ai=O(ai,Bn," "),ai=O(ai,kn," "),ai=O(ai,en," ")),Be&&on?Be.createHTML(ai):ai},yt.setConfig=function(ri){Xn(ri),Vt=!0},yt.clearConfig=function(){cn=null,Vt=!1},yt.isValidAttribute=function(ri,Se,je){cn||Xn({});const Qe=Zi(ri),Ht=Zi(Se);return Ws(Qe,Ht,je)},yt.addHook=function(ri,Se){typeof Se=="function"&&(gn[ri]=gn[ri]||[],_(gn[ri],Se))},yt.removeHook=function(ri){if(gn[ri])return S(gn[ri])},yt.removeHooks=function(ri){gn[ri]&&(gn[ri]=[])},yt.removeAllHooks=function(){gn={}},yt}var Re=gt(),st=null;const Tt=Re.version,xt=Re.isSupported,vt=Re.sanitize,we=Re.setConfig,pt=Re.clearConfig,Mt=Re.isValidAttribute,Ft=Re.addHook,Xt=Re.removeHook,li=Re.removeHooks,Yt=Re.removeAllHooks},80707:function(Gt,ze,c){"use strict";c.d(ze,{Y:function(){return X}});var D=c(46328);class X{get event(){return this.emitter.event}constructor(k,L,T){const M=B=>this.emitter.fire(B);this.emitter=new D.Q5({onWillAddFirstListener:()=>k.addEventListener(L,M,T),onDidRemoveLastListener:()=>k.removeEventListener(L,M,T)})}dispose(){this.emitter.dispose()}}},50165:function(Gt,ze,c){"use strict";c.d(ze,{X:function(){return v},Z:function(){return D}});class D{constructor(L){this.domNode=L,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(L){const T=X(L);this._maxWidth!==T&&(this._maxWidth=T,this.domNode.style.maxWidth=this._maxWidth)}setWidth(L){const T=X(L);this._width!==T&&(this._width=T,this.domNode.style.width=this._width)}setHeight(L){const T=X(L);this._height!==T&&(this._height=T,this.domNode.style.height=this._height)}setTop(L){const T=X(L);this._top!==T&&(this._top=T,this.domNode.style.top=this._top)}setLeft(L){const T=X(L);this._left!==T&&(this._left=T,this.domNode.style.left=this._left)}setBottom(L){const T=X(L);this._bottom!==T&&(this._bottom=T,this.domNode.style.bottom=this._bottom)}setRight(L){const T=X(L);this._right!==T&&(this._right=T,this.domNode.style.right=this._right)}setPaddingLeft(L){const T=X(L);this._paddingLeft!==T&&(this._paddingLeft=T,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(L){this._fontFamily!==L&&(this._fontFamily=L,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(L){this._fontWeight!==L&&(this._fontWeight=L,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(L){const T=X(L);this._fontSize!==T&&(this._fontSize=T,this.domNode.style.fontSize=this._fontSize)}setFontStyle(L){this._fontStyle!==L&&(this._fontStyle=L,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(L){this._fontFeatureSettings!==L&&(this._fontFeatureSettings=L,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(L){this._fontVariationSettings!==L&&(this._fontVariationSettings=L,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(L){this._textDecoration!==L&&(this._textDecoration=L,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(L){const T=X(L);this._lineHeight!==T&&(this._lineHeight=T,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(L){const T=X(L);this._letterSpacing!==T&&(this._letterSpacing=T,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(L){this._className!==L&&(this._className=L,this.domNode.className=this._className)}toggleClassName(L,T){this.domNode.classList.toggle(L,T),this._className=this.domNode.className}setDisplay(L){this._display!==L&&(this._display=L,this.domNode.style.display=this._display)}setPosition(L){this._position!==L&&(this._position=L,this.domNode.style.position=this._position)}setVisibility(L){this._visibility!==L&&(this._visibility=L,this.domNode.style.visibility=this._visibility)}setColor(L){this._color!==L&&(this._color=L,this.domNode.style.color=this._color)}setBackgroundColor(L){this._backgroundColor!==L&&(this._backgroundColor=L,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(L){this._layerHint!==L&&(this._layerHint=L,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(L){this._boxShadow!==L&&(this._boxShadow=L,this.domNode.style.boxShadow=L)}setContain(L){this._contain!==L&&(this._contain=L,this.domNode.style.contain=this._contain)}setAttribute(L,T){this.domNode.setAttribute(L,T)}removeAttribute(L){this.domNode.removeAttribute(L)}appendChild(L){this.domNode.appendChild(L.domNode)}removeChild(L){this.domNode.removeChild(L.domNode)}}function X(k){return typeof k=="number"?`${k}px`:k}function v(k){return new D(k)}},75430:function(Gt,ze,c){"use strict";c.d(ze,{BO:function(){return v},IY:function(){return X},az:function(){return k}});var D=c(97480);function X(b,C={}){const S=k(C);return S.textContent=b,S}function v(b,C={}){const S=k(C);return T(S,M(b,!!C.renderCodeSegments),C.actionHandler,C.renderCodeSegments),S}function k(b){const C=b.inline?"span":"div",S=document.createElement(C);return b.className&&(S.className=b.className),S}class L{constructor(C){this.source=C,this.index=0}eos(){return this.index>=this.source.length}next(){const C=this.peek();return this.advance(),C}peek(){return this.source[this.index]}advance(){this.index++}}function T(b,C,S,_){let a;if(C.type===2)a=document.createTextNode(C.content||"");else if(C.type===3)a=document.createElement("b");else if(C.type===4)a=document.createElement("i");else if(C.type===7&&_)a=document.createElement("code");else if(C.type===5&&S){const u=document.createElement("a");S.disposables.add(D.mu(u,"click",N=>{S.callback(String(C.index),N)})),a=u}else C.type===8?a=document.createElement("br"):C.type===1&&(a=b);a&&b!==a&&b.appendChild(a),a&&Array.isArray(C.children)&&C.children.forEach(u=>{T(a,u,S,_)})}function M(b,C){const S={type:1,children:[]};let _=0,a=S;const u=[],N=new L(b);for(;!N.eos();){let O=N.next();const R=O==="\\"&&y(N.peek(),C)!==0;if(R&&(O=N.next()),!R&&B(O,C)&&O===N.peek()){N.advance(),a.type===2&&(a=u.pop());const V=y(O,C);if(a.type===V||a.type===5&&V===6)a=u.pop();else{const F={type:V,children:[]};V===5&&(F.index=_,_++),a.children.push(F),u.push(a),a=F}}else if(O===`
`)a.type===2&&(a=u.pop()),a.children.push({type:8});else if(a.type!==2){const V={type:2,content:O};a.children.push(V),u.push(a),a=V}else a.content+=O}return a.type===2&&(a=u.pop()),u.length,S}function B(b,C){return y(b,C)!==0}function y(b,C){switch(b){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return C?7:0;default:return 0}}},90042:function(Gt,ze,c){"use strict";c.d(ze,{C:function(){return v}});var D=c(97480),X=c(83845);class v{constructor(){this._hooks=new X.SL,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(L,T){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const M=this._onStopCallback;this._onStopCallback=null,L&&M&&M(T)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(L,T,M,B,y){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=B,this._onStopCallback=y;let b=L;try{L.setPointerCapture(T),this._hooks.add((0,X.OF)(()=>{try{L.releasePointerCapture(T)}catch(C){}}))}catch(C){b=D.Jj(L)}this._hooks.add(D.nm(b,D.tw.POINTER_MOVE,C=>{if(C.buttons!==M){this.stopMonitoring(!0);return}C.preventDefault(),this._pointerMoveCallback(C)})),this._hooks.add(D.nm(b,D.tw.POINTER_UP,C=>this.stopMonitoring(!0)))}}},89056:function(Gt,ze,c){"use strict";c.d(ze,{y:function(){return b}});var D=c(51678),X=c(82238),v=c(39469),k=c(43998);function L(C){if(C.charCode){const _=String.fromCharCode(C.charCode).toUpperCase();return X.kL.fromString(_)}const S=C.keyCode;if(S===3)return 7;if(D.vU)switch(S){case 59:return 85;case 60:if(k.IJ)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(k.dz)return 57;break}else if(D.Pf){if(k.dz&&S===93)return 57;if(!k.dz&&S===92)return 57}return X.H_[S]||0}const T=k.dz?256:2048,M=512,B=1024,y=k.dz?2048:256;class b{constructor(S){this._standardKeyboardEventBrand=!0;const _=S;this.browserEvent=_,this.target=_.target,this.ctrlKey=_.ctrlKey,this.shiftKey=_.shiftKey,this.altKey=_.altKey,this.metaKey=_.metaKey,this.altGraphKey=_.getModifierState("AltGraph"),this.keyCode=L(_),this.code=_.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(S){return this._asKeybinding===S}_computeKeybinding(){let S=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(S=this.keyCode);let _=0;return this.ctrlKey&&(_|=T),this.altKey&&(_|=M),this.shiftKey&&(_|=B),this.metaKey&&(_|=y),_|=S,_}_computeKeyCodeChord(){let S=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(S=this.keyCode),new v.$M(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,S)}}},45014:function(Gt,ze,c){"use strict";c.d(ze,{ap:function(){return pe},et:function(){return lt}});var D=c(97480),X=c(53270),v=c(80707),k=c(75430),L=c(89056),T=c(9470),M=c(89227),B=c(35541),y=c(46328),b=c(61126),C=c(62396),S=c(18286),_=c(18796),a=c(83845);let u={};(function(){function Yt(Ne,yt){yt(u)}Yt.amd=!0,function(Ne,yt){typeof Yt=="function"&&Yt.amd?Yt(["exports"],yt):typeof exports=="object"?yt(exports):(Ne=typeof globalThis!="undefined"?globalThis:Ne||self,yt(Ne.marked={}))}(this,function(Ne){"use strict";function yt(pi,ti){for(var ii=0;ii<ti.length;ii++){var Ct=ti[ii];Ct.enumerable=Ct.enumerable||!1,Ct.configurable=!0,"value"in Ct&&(Ct.writable=!0),Object.defineProperty(pi,Ct.key,Ct)}}function De(pi,ti,ii){return ti&&yt(pi.prototype,ti),ii&&yt(pi,ii),Object.defineProperty(pi,"prototype",{writable:!1}),pi}function di(pi,ti){if(pi){if(typeof pi=="string")return Ve(pi,ti);var ii=Object.prototype.toString.call(pi).slice(8,-1);if(ii==="Object"&&pi.constructor&&(ii=pi.constructor.name),ii==="Map"||ii==="Set")return Array.from(pi);if(ii==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ii))return Ve(pi,ti)}}function Ve(pi,ti){(ti==null||ti>pi.length)&&(ti=pi.length);for(var ii=0,Ct=new Array(ti);ii<ti;ii++)Ct[ii]=pi[ii];return Ct}function $i(pi,ti){var ii=typeof Symbol!="undefined"&&pi[Symbol.iterator]||pi["@@iterator"];if(ii)return(ii=ii.call(pi)).next.bind(ii);if(Array.isArray(pi)||(ii=di(pi))||ti&&pi&&typeof pi.length=="number"){ii&&(pi=ii);var Ct=0;return function(){return Ct>=pi.length?{done:!0}:{done:!1,value:pi[Ct++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wn(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}Ne.defaults=wn();function Pt(pi){Ne.defaults=pi}var le=/[&<>"']/,mt=/[&<>"']/g,jt=/[<>"']|&(?!#?\w+;)/,bi=/[<>"']|&(?!#?\w+;)/g,Ot={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ki=function(ti){return Ot[ti]};function xi(pi,ti){if(ti){if(le.test(pi))return pi.replace(mt,Ki)}else if(jt.test(pi))return pi.replace(bi,Ki);return pi}var dn=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function zt(pi){return pi.replace(dn,function(ti,ii){return ii=ii.toLowerCase(),ii==="colon"?":":ii.charAt(0)==="#"?ii.charAt(1)==="x"?String.fromCharCode(parseInt(ii.substring(2),16)):String.fromCharCode(+ii.substring(1)):""})}var Qi=/(^|[^\[])\^/g;function ei(pi,ti){pi=typeof pi=="string"?pi:pi.source,ti=ti||"";var ii={replace:function(It,Qt){return Qt=Qt.source||Qt,Qt=Qt.replace(Qi,"$1"),pi=pi.replace(It,Qt),ii},getRegex:function(){return new RegExp(pi,ti)}};return ii}var Be=/[^\w:]/g,Nt=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Ri(pi,ti,ii){if(pi){var Ct;try{Ct=decodeURIComponent(zt(ii)).replace(Be,"").toLowerCase()}catch(It){return null}if(Ct.indexOf("javascript:")===0||Ct.indexOf("vbscript:")===0||Ct.indexOf("data:")===0)return null}ti&&!Nt.test(ii)&&(ii=gn(ti,ii));try{ii=encodeURI(ii).replace(/%25/g,"%")}catch(It){return null}return ii}var Fi={},hi=/^[^:]+:\/*[^/]*$/,En=/^([^:]+:)[\s\S]*$/,bn=/^([^:]+:\/*[^/]*)[\s\S]*$/;function gn(pi,ti){Fi[" "+pi]||(hi.test(pi)?Fi[" "+pi]=pi+"/":Fi[" "+pi]=Jn(pi,"/",!0)),pi=Fi[" "+pi];var ii=pi.indexOf(":")===-1;return ti.substring(0,2)==="//"?ii?ti:pi.replace(En,"$1")+ti:ti.charAt(0)==="/"?ii?ti:pi.replace(bn,"$1")+ti:pi+ti}var Bn={exec:function(){}};function kn(pi){for(var ti=1,ii,Ct;ti<arguments.length;ti++){ii=arguments[ti];for(Ct in ii)Object.prototype.hasOwnProperty.call(ii,Ct)&&(pi[Ct]=ii[Ct])}return pi}function en(pi,ti){var ii=pi.replace(/\|/g,function(Qt,Ut,Si){for(var Vi=!1,tn=Ut;--tn>=0&&Si[tn]==="\\";)Vi=!Vi;return Vi?"|":" |"}),Ct=ii.split(/ \|/),It=0;if(Ct[0].trim()||Ct.shift(),Ct.length>0&&!Ct[Ct.length-1].trim()&&Ct.pop(),Ct.length>ti)Ct.splice(ti);else for(;Ct.length<ti;)Ct.push("");for(;It<Ct.length;It++)Ct[It]=Ct[It].trim().replace(/\\\|/g,"|");return Ct}function Jn(pi,ti,ii){var Ct=pi.length;if(Ct===0)return"";for(var It=0;It<Ct;){var Qt=pi.charAt(Ct-It-1);if(Qt===ti&&!ii)It++;else if(Qt!==ti&&ii)It++;else break}return pi.slice(0,Ct-It)}function ys(pi,ti){if(pi.indexOf(ti[1])===-1)return-1;for(var ii=pi.length,Ct=0,It=0;It<ii;It++)if(pi[It]==="\\")It++;else if(pi[It]===ti[0])Ct++;else if(pi[It]===ti[1]&&(Ct--,Ct<0))return It;return-1}function ds(pi){pi&&pi.sanitize&&!pi.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function cs(pi,ti){if(ti<1)return"";for(var ii="";ti>1;)ti&1&&(ii+=pi),ti>>=1,pi+=pi;return ii+pi}function ps(pi,ti,ii,Ct){var It=ti.href,Qt=ti.title?xi(ti.title):null,Ut=pi[1].replace(/\\([\[\]])/g,"$1");if(pi[0].charAt(0)!=="!"){Ct.state.inLink=!0;var Si={type:"link",raw:ii,href:It,title:Qt,text:Ut,tokens:Ct.inlineTokens(Ut)};return Ct.state.inLink=!1,Si}return{type:"image",raw:ii,href:It,title:Qt,text:xi(Ut)}}function In(pi,ti){var ii=pi.match(/^(\s+)(?:```)/);if(ii===null)return ti;var Ct=ii[1];return ti.split(`
`).map(function(It){var Qt=It.match(/^\s+/);if(Qt===null)return It;var Ut=Qt[0];return Ut.length>=Ct.length?It.slice(Ct.length):It}).join(`
`)}var os=function(){function pi(ii){this.options=ii||Ne.defaults}var ti=pi.prototype;return ti.space=function(Ct){var It=this.rules.block.newline.exec(Ct);if(It&&It[0].length>0)return{type:"space",raw:It[0]}},ti.code=function(Ct){var It=this.rules.block.code.exec(Ct);if(It){var Qt=It[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:It[0],codeBlockStyle:"indented",text:this.options.pedantic?Qt:Jn(Qt,`
`)}}},ti.fences=function(Ct){var It=this.rules.block.fences.exec(Ct);if(It){var Qt=It[0],Ut=In(Qt,It[3]||"");return{type:"code",raw:Qt,lang:It[2]?It[2].trim():It[2],text:Ut}}},ti.heading=function(Ct){var It=this.rules.block.heading.exec(Ct);if(It){var Qt=It[2].trim();if(/#$/.test(Qt)){var Ut=Jn(Qt,"#");(this.options.pedantic||!Ut||/ $/.test(Ut))&&(Qt=Ut.trim())}return{type:"heading",raw:It[0],depth:It[1].length,text:Qt,tokens:this.lexer.inline(Qt)}}},ti.hr=function(Ct){var It=this.rules.block.hr.exec(Ct);if(It)return{type:"hr",raw:It[0]}},ti.blockquote=function(Ct){var It=this.rules.block.blockquote.exec(Ct);if(It){var Qt=It[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:It[0],tokens:this.lexer.blockTokens(Qt,[]),text:Qt}}},ti.list=function(Ct){var It=this.rules.block.list.exec(Ct);if(It){var Qt,Ut,Si,Vi,tn,Ji,Cn,Tn,Wn,qn,ln,Gn,Kn=It[1].trim(),ro=Kn.length>1,as={type:"list",raw:"",ordered:ro,start:ro?+Kn.slice(0,-1):"",loose:!1,items:[]};Kn=ro?"\\d{1,9}\\"+Kn.slice(-1):"\\"+Kn,this.options.pedantic&&(Kn=ro?Kn:"[*+-]");for(var Zi=new RegExp("^( {0,3}"+Kn+")((?:[	 ][^\\n]*)?(?:\\n|$))");Ct&&(Gn=!1,!(!(It=Zi.exec(Ct))||this.rules.block.hr.test(Ct)));){if(Qt=It[0],Ct=Ct.substring(Qt.length),Tn=It[2].split(`
`,1)[0],Wn=Ct.split(`
`,1)[0],this.options.pedantic?(Vi=2,ln=Tn.trimLeft()):(Vi=It[2].search(/[^ ]/),Vi=Vi>4?1:Vi,ln=Tn.slice(Vi),Vi+=It[1].length),Ji=!1,!Tn&&/^ *$/.test(Wn)&&(Qt+=Wn+`
`,Ct=Ct.substring(Wn.length+1),Gn=!0),!Gn)for(var cn=new RegExp("^ {0,"+Math.min(3,Vi-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),pn=new RegExp("^ {0,"+Math.min(3,Vi-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),rn=new RegExp("^ {0,"+Math.min(3,Vi-1)+"}(?:```|~~~)"),Xn=new RegExp("^ {0,"+Math.min(3,Vi-1)+"}#");Ct&&(qn=Ct.split(`
`,1)[0],Tn=qn,this.options.pedantic&&(Tn=Tn.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(rn.test(Tn)||Xn.test(Tn)||cn.test(Tn)||pn.test(Ct)));){if(Tn.search(/[^ ]/)>=Vi||!Tn.trim())ln+=`
`+Tn.slice(Vi);else if(!Ji)ln+=`
`+Tn;else break;!Ji&&!Tn.trim()&&(Ji=!0),Qt+=qn+`
`,Ct=Ct.substring(qn.length+1)}as.loose||(Cn?as.loose=!0:/\n *\n *$/.test(Qt)&&(Cn=!0)),this.options.gfm&&(Ut=/^\[[ xX]\] /.exec(ln),Ut&&(Si=Ut[0]!=="[ ] ",ln=ln.replace(/^\[[ xX]\] +/,""))),as.items.push({type:"list_item",raw:Qt,task:!!Ut,checked:Si,loose:!1,text:ln}),as.raw+=Qt}as.items[as.items.length-1].raw=Qt.trimRight(),as.items[as.items.length-1].text=ln.trimRight(),as.raw=as.raw.trimRight();var Is=as.items.length;for(tn=0;tn<Is;tn++){this.lexer.state.top=!1,as.items[tn].tokens=this.lexer.blockTokens(as.items[tn].text,[]);var hn=as.items[tn].tokens.filter(function(Rs){return Rs.type==="space"}),us=hn.every(function(Rs){for(var ts=Rs.raw.split(""),ls=0,ms=$i(ts),qi;!(qi=ms()).done;){var Ss=qi.value;if(Ss===`
`&&(ls+=1),ls>1)return!0}return!1});!as.loose&&hn.length&&us&&(as.loose=!0,as.items[tn].loose=!0)}return as}},ti.html=function(Ct){var It=this.rules.block.html.exec(Ct);if(It){var Qt={type:"html",raw:It[0],pre:!this.options.sanitizer&&(It[1]==="pre"||It[1]==="script"||It[1]==="style"),text:It[0]};if(this.options.sanitize){var Ut=this.options.sanitizer?this.options.sanitizer(It[0]):xi(It[0]);Qt.type="paragraph",Qt.text=Ut,Qt.tokens=this.lexer.inline(Ut)}return Qt}},ti.def=function(Ct){var It=this.rules.block.def.exec(Ct);if(It){It[3]&&(It[3]=It[3].substring(1,It[3].length-1));var Qt=It[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:Qt,raw:It[0],href:It[2],title:It[3]}}},ti.table=function(Ct){var It=this.rules.block.table.exec(Ct);if(It){var Qt={type:"table",header:en(It[1]).map(function(Cn){return{text:Cn}}),align:It[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:It[3]&&It[3].trim()?It[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(Qt.header.length===Qt.align.length){Qt.raw=It[0];var Ut=Qt.align.length,Si,Vi,tn,Ji;for(Si=0;Si<Ut;Si++)/^ *-+: *$/.test(Qt.align[Si])?Qt.align[Si]="right":/^ *:-+: *$/.test(Qt.align[Si])?Qt.align[Si]="center":/^ *:-+ *$/.test(Qt.align[Si])?Qt.align[Si]="left":Qt.align[Si]=null;for(Ut=Qt.rows.length,Si=0;Si<Ut;Si++)Qt.rows[Si]=en(Qt.rows[Si],Qt.header.length).map(function(Cn){return{text:Cn}});for(Ut=Qt.header.length,Vi=0;Vi<Ut;Vi++)Qt.header[Vi].tokens=this.lexer.inline(Qt.header[Vi].text);for(Ut=Qt.rows.length,Vi=0;Vi<Ut;Vi++)for(Ji=Qt.rows[Vi],tn=0;tn<Ji.length;tn++)Ji[tn].tokens=this.lexer.inline(Ji[tn].text);return Qt}}},ti.lheading=function(Ct){var It=this.rules.block.lheading.exec(Ct);if(It)return{type:"heading",raw:It[0],depth:It[2].charAt(0)==="="?1:2,text:It[1],tokens:this.lexer.inline(It[1])}},ti.paragraph=function(Ct){var It=this.rules.block.paragraph.exec(Ct);if(It){var Qt=It[1].charAt(It[1].length-1)===`
`?It[1].slice(0,-1):It[1];return{type:"paragraph",raw:It[0],text:Qt,tokens:this.lexer.inline(Qt)}}},ti.text=function(Ct){var It=this.rules.block.text.exec(Ct);if(It)return{type:"text",raw:It[0],text:It[0],tokens:this.lexer.inline(It[0])}},ti.escape=function(Ct){var It=this.rules.inline.escape.exec(Ct);if(It)return{type:"escape",raw:It[0],text:xi(It[1])}},ti.tag=function(Ct){var It=this.rules.inline.tag.exec(Ct);if(It)return!this.lexer.state.inLink&&/^<a /i.test(It[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(It[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(It[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(It[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:It[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(It[0]):xi(It[0]):It[0]}},ti.link=function(Ct){var It=this.rules.inline.link.exec(Ct);if(It){var Qt=It[2].trim();if(!this.options.pedantic&&/^</.test(Qt)){if(!/>$/.test(Qt))return;var Ut=Jn(Qt.slice(0,-1),"\\");if((Qt.length-Ut.length)%2===0)return}else{var Si=ys(It[2],"()");if(Si>-1){var Vi=It[0].indexOf("!")===0?5:4,tn=Vi+It[1].length+Si;It[2]=It[2].substring(0,Si),It[0]=It[0].substring(0,tn).trim(),It[3]=""}}var Ji=It[2],Cn="";if(this.options.pedantic){var Tn=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Ji);Tn&&(Ji=Tn[1],Cn=Tn[3])}else Cn=It[3]?It[3].slice(1,-1):"";return Ji=Ji.trim(),/^</.test(Ji)&&(this.options.pedantic&&!/>$/.test(Qt)?Ji=Ji.slice(1):Ji=Ji.slice(1,-1)),ps(It,{href:Ji&&Ji.replace(this.rules.inline._escapes,"$1"),title:Cn&&Cn.replace(this.rules.inline._escapes,"$1")},It[0],this.lexer)}},ti.reflink=function(Ct,It){var Qt;if((Qt=this.rules.inline.reflink.exec(Ct))||(Qt=this.rules.inline.nolink.exec(Ct))){var Ut=(Qt[2]||Qt[1]).replace(/\s+/g," ");if(Ut=It[Ut.toLowerCase()],!Ut||!Ut.href){var Si=Qt[0].charAt(0);return{type:"text",raw:Si,text:Si}}return ps(Qt,Ut,Qt[0],this.lexer)}},ti.emStrong=function(Ct,It,Qt){Qt===void 0&&(Qt="");var Ut=this.rules.inline.emStrong.lDelim.exec(Ct);if(Ut&&!(Ut[3]&&Qt.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Si=Ut[1]||Ut[2]||"";if(!Si||Si&&(Qt===""||this.rules.inline.punctuation.exec(Qt))){var Vi=Ut[0].length-1,tn,Ji,Cn=Vi,Tn=0,Wn=Ut[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Wn.lastIndex=0,It=It.slice(-1*Ct.length+Vi);(Ut=Wn.exec(It))!=null;)if(tn=Ut[1]||Ut[2]||Ut[3]||Ut[4]||Ut[5]||Ut[6],!!tn){if(Ji=tn.length,Ut[3]||Ut[4]){Cn+=Ji;continue}else if((Ut[5]||Ut[6])&&Vi%3&&!((Vi+Ji)%3)){Tn+=Ji;continue}if(Cn-=Ji,!(Cn>0)){if(Ji=Math.min(Ji,Ji+Cn+Tn),Math.min(Vi,Ji)%2){var qn=Ct.slice(1,Vi+Ut.index+Ji);return{type:"em",raw:Ct.slice(0,Vi+Ut.index+Ji+1),text:qn,tokens:this.lexer.inlineTokens(qn)}}var ln=Ct.slice(2,Vi+Ut.index+Ji-1);return{type:"strong",raw:Ct.slice(0,Vi+Ut.index+Ji+1),text:ln,tokens:this.lexer.inlineTokens(ln)}}}}}},ti.codespan=function(Ct){var It=this.rules.inline.code.exec(Ct);if(It){var Qt=It[2].replace(/\n/g," "),Ut=/[^ ]/.test(Qt),Si=/^ /.test(Qt)&&/ $/.test(Qt);return Ut&&Si&&(Qt=Qt.substring(1,Qt.length-1)),Qt=xi(Qt,!0),{type:"codespan",raw:It[0],text:Qt}}},ti.br=function(Ct){var It=this.rules.inline.br.exec(Ct);if(It)return{type:"br",raw:It[0]}},ti.del=function(Ct){var It=this.rules.inline.del.exec(Ct);if(It)return{type:"del",raw:It[0],text:It[2],tokens:this.lexer.inlineTokens(It[2])}},ti.autolink=function(Ct,It){var Qt=this.rules.inline.autolink.exec(Ct);if(Qt){var Ut,Si;return Qt[2]==="@"?(Ut=xi(this.options.mangle?It(Qt[1]):Qt[1]),Si="mailto:"+Ut):(Ut=xi(Qt[1]),Si=Ut),{type:"link",raw:Qt[0],text:Ut,href:Si,tokens:[{type:"text",raw:Ut,text:Ut}]}}},ti.url=function(Ct,It){var Qt;if(Qt=this.rules.inline.url.exec(Ct)){var Ut,Si;if(Qt[2]==="@")Ut=xi(this.options.mangle?It(Qt[0]):Qt[0]),Si="mailto:"+Ut;else{var Vi;do Vi=Qt[0],Qt[0]=this.rules.inline._backpedal.exec(Qt[0])[0];while(Vi!==Qt[0]);Ut=xi(Qt[0]),Qt[1]==="www."?Si="http://"+Ut:Si=Ut}return{type:"link",raw:Qt[0],text:Ut,href:Si,tokens:[{type:"text",raw:Ut,text:Ut}]}}},ti.inlineText=function(Ct,It){var Qt=this.rules.inline.text.exec(Ct);if(Qt){var Ut;return this.lexer.state.inRawBlock?Ut=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Qt[0]):xi(Qt[0]):Qt[0]:Ut=xi(this.options.smartypants?It(Qt[0]):Qt[0]),{type:"text",raw:Qt[0],text:Ut}}},pi}(),ui={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Bn,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};ui._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ui._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,ui.def=ei(ui.def).replace("label",ui._label).replace("title",ui._title).getRegex(),ui.bullet=/(?:[*+-]|\d{1,9}[.)])/,ui.listItemStart=ei(/^( *)(bull) */).replace("bull",ui.bullet).getRegex(),ui.list=ei(ui.list).replace(/bull/g,ui.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ui.def.source+")").getRegex(),ui._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ui._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,ui.html=ei(ui.html,"i").replace("comment",ui._comment).replace("tag",ui._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ui.paragraph=ei(ui._paragraph).replace("hr",ui.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ui._tag).getRegex(),ui.blockquote=ei(ui.blockquote).replace("paragraph",ui.paragraph).getRegex(),ui.normal=kn({},ui),ui.gfm=kn({},ui.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),ui.gfm.table=ei(ui.gfm.table).replace("hr",ui.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ui._tag).getRegex(),ui.gfm.paragraph=ei(ui._paragraph).replace("hr",ui.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",ui.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ui._tag).getRegex(),ui.pedantic=kn({},ui.normal,{html:ei(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ui._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Bn,paragraph:ei(ui.normal._paragraph).replace("hr",ui.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ui.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var ke={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Bn,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Bn,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};ke._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ke.punctuation=ei(ke.punctuation).replace(/punctuation/g,ke._punctuation).getRegex(),ke.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ke.escapedEmSt=/\\\*|\\_/g,ke._comment=ei(ui._comment).replace("(?:-->|$)","-->").getRegex(),ke.emStrong.lDelim=ei(ke.emStrong.lDelim).replace(/punct/g,ke._punctuation).getRegex(),ke.emStrong.rDelimAst=ei(ke.emStrong.rDelimAst,"g").replace(/punct/g,ke._punctuation).getRegex(),ke.emStrong.rDelimUnd=ei(ke.emStrong.rDelimUnd,"g").replace(/punct/g,ke._punctuation).getRegex(),ke._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ke._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ke._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ke.autolink=ei(ke.autolink).replace("scheme",ke._scheme).replace("email",ke._email).getRegex(),ke._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ke.tag=ei(ke.tag).replace("comment",ke._comment).replace("attribute",ke._attribute).getRegex(),ke._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ke._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ke._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ke.link=ei(ke.link).replace("label",ke._label).replace("href",ke._href).replace("title",ke._title).getRegex(),ke.reflink=ei(ke.reflink).replace("label",ke._label).replace("ref",ui._label).getRegex(),ke.nolink=ei(ke.nolink).replace("ref",ui._label).getRegex(),ke.reflinkSearch=ei(ke.reflinkSearch,"g").replace("reflink",ke.reflink).replace("nolink",ke.nolink).getRegex(),ke.normal=kn({},ke),ke.pedantic=kn({},ke.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ei(/^!?\[(label)\]\((.*?)\)/).replace("label",ke._label).getRegex(),reflink:ei(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ke._label).getRegex()}),ke.gfm=kn({},ke.normal,{escape:ei(ke.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ke.gfm.url=ei(ke.gfm.url,"i").replace("email",ke.gfm._extended_email).getRegex(),ke.breaks=kn({},ke.gfm,{br:ei(ke.br).replace("{2,}","*").getRegex(),text:ei(ke.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Ke(pi){return pi.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Ue(pi){var ti="",ii,Ct,It=pi.length;for(ii=0;ii<It;ii++)Ct=pi.charCodeAt(ii),Math.random()>.5&&(Ct="x"+Ct.toString(16)),ti+="&#"+Ct+";";return ti}var bt=function(){function pi(ii){this.tokens=[],this.tokens.links=Object.create(null),this.options=ii||Ne.defaults,this.options.tokenizer=this.options.tokenizer||new os,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var Ct={block:ui.normal,inline:ke.normal};this.options.pedantic?(Ct.block=ui.pedantic,Ct.inline=ke.pedantic):this.options.gfm&&(Ct.block=ui.gfm,this.options.breaks?Ct.inline=ke.breaks:Ct.inline=ke.gfm),this.tokenizer.rules=Ct}pi.lex=function(Ct,It){var Qt=new pi(It);return Qt.lex(Ct)},pi.lexInline=function(Ct,It){var Qt=new pi(It);return Qt.inlineTokens(Ct)};var ti=pi.prototype;return ti.lex=function(Ct){Ct=Ct.replace(/\r\n|\r/g,`
`),this.blockTokens(Ct,this.tokens);for(var It;It=this.inlineQueue.shift();)this.inlineTokens(It.src,It.tokens);return this.tokens},ti.blockTokens=function(Ct,It){var Qt=this;It===void 0&&(It=[]),this.options.pedantic?Ct=Ct.replace(/\t/g,"    ").replace(/^ +$/gm,""):Ct=Ct.replace(/^( *)(\t+)/gm,function(Cn,Tn,Wn){return Tn+"    ".repeat(Wn.length)});for(var Ut,Si,Vi,tn;Ct;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Cn){return(Ut=Cn.call({lexer:Qt},Ct,It))?(Ct=Ct.substring(Ut.raw.length),It.push(Ut),!0):!1}))){if(Ut=this.tokenizer.space(Ct)){Ct=Ct.substring(Ut.raw.length),Ut.raw.length===1&&It.length>0?It[It.length-1].raw+=`
`:It.push(Ut);continue}if(Ut=this.tokenizer.code(Ct)){Ct=Ct.substring(Ut.raw.length),Si=It[It.length-1],Si&&(Si.type==="paragraph"||Si.type==="text")?(Si.raw+=`
`+Ut.raw,Si.text+=`
`+Ut.text,this.inlineQueue[this.inlineQueue.length-1].src=Si.text):It.push(Ut);continue}if(Ut=this.tokenizer.fences(Ct)){Ct=Ct.substring(Ut.raw.length),It.push(Ut);continue}if(Ut=this.tokenizer.heading(Ct)){Ct=Ct.substring(Ut.raw.length),It.push(Ut);continue}if(Ut=this.tokenizer.hr(Ct)){Ct=Ct.substring(Ut.raw.length),It.push(Ut);continue}if(Ut=this.tokenizer.blockquote(Ct)){Ct=Ct.substring(Ut.raw.length),It.push(Ut);continue}if(Ut=this.tokenizer.list(Ct)){Ct=Ct.substring(Ut.raw.length),It.push(Ut);continue}if(Ut=this.tokenizer.html(Ct)){Ct=Ct.substring(Ut.raw.length),It.push(Ut);continue}if(Ut=this.tokenizer.def(Ct)){Ct=Ct.substring(Ut.raw.length),Si=It[It.length-1],Si&&(Si.type==="paragraph"||Si.type==="text")?(Si.raw+=`
`+Ut.raw,Si.text+=`
`+Ut.raw,this.inlineQueue[this.inlineQueue.length-1].src=Si.text):this.tokens.links[Ut.tag]||(this.tokens.links[Ut.tag]={href:Ut.href,title:Ut.title});continue}if(Ut=this.tokenizer.table(Ct)){Ct=Ct.substring(Ut.raw.length),It.push(Ut);continue}if(Ut=this.tokenizer.lheading(Ct)){Ct=Ct.substring(Ut.raw.length),It.push(Ut);continue}if(Vi=Ct,this.options.extensions&&this.options.extensions.startBlock&&function(){var Cn=1/0,Tn=Ct.slice(1),Wn=void 0;Qt.options.extensions.startBlock.forEach(function(qn){Wn=qn.call({lexer:this},Tn),typeof Wn=="number"&&Wn>=0&&(Cn=Math.min(Cn,Wn))}),Cn<1/0&&Cn>=0&&(Vi=Ct.substring(0,Cn+1))}(),this.state.top&&(Ut=this.tokenizer.paragraph(Vi))){Si=It[It.length-1],tn&&Si.type==="paragraph"?(Si.raw+=`
`+Ut.raw,Si.text+=`
`+Ut.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Si.text):It.push(Ut),tn=Vi.length!==Ct.length,Ct=Ct.substring(Ut.raw.length);continue}if(Ut=this.tokenizer.text(Ct)){Ct=Ct.substring(Ut.raw.length),Si=It[It.length-1],Si&&Si.type==="text"?(Si.raw+=`
`+Ut.raw,Si.text+=`
`+Ut.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Si.text):It.push(Ut);continue}if(Ct){var Ji="Infinite loop on byte: "+Ct.charCodeAt(0);if(this.options.silent){console.error(Ji);break}else throw new Error(Ji)}}return this.state.top=!0,It},ti.inline=function(Ct,It){return It===void 0&&(It=[]),this.inlineQueue.push({src:Ct,tokens:It}),It},ti.inlineTokens=function(Ct,It){var Qt=this;It===void 0&&(It=[]);var Ut,Si,Vi,tn=Ct,Ji,Cn,Tn;if(this.tokens.links){var Wn=Object.keys(this.tokens.links);if(Wn.length>0)for(;(Ji=this.tokenizer.rules.inline.reflinkSearch.exec(tn))!=null;)Wn.includes(Ji[0].slice(Ji[0].lastIndexOf("[")+1,-1))&&(tn=tn.slice(0,Ji.index)+"["+cs("a",Ji[0].length-2)+"]"+tn.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Ji=this.tokenizer.rules.inline.blockSkip.exec(tn))!=null;)tn=tn.slice(0,Ji.index)+"["+cs("a",Ji[0].length-2)+"]"+tn.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Ji=this.tokenizer.rules.inline.escapedEmSt.exec(tn))!=null;)tn=tn.slice(0,Ji.index)+"++"+tn.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;Ct;)if(Cn||(Tn=""),Cn=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(ln){return(Ut=ln.call({lexer:Qt},Ct,It))?(Ct=Ct.substring(Ut.raw.length),It.push(Ut),!0):!1}))){if(Ut=this.tokenizer.escape(Ct)){Ct=Ct.substring(Ut.raw.length),It.push(Ut);continue}if(Ut=this.tokenizer.tag(Ct)){Ct=Ct.substring(Ut.raw.length),Si=It[It.length-1],Si&&Ut.type==="text"&&Si.type==="text"?(Si.raw+=Ut.raw,Si.text+=Ut.text):It.push(Ut);continue}if(Ut=this.tokenizer.link(Ct)){Ct=Ct.substring(Ut.raw.length),It.push(Ut);continue}if(Ut=this.tokenizer.reflink(Ct,this.tokens.links)){Ct=Ct.substring(Ut.raw.length),Si=It[It.length-1],Si&&Ut.type==="text"&&Si.type==="text"?(Si.raw+=Ut.raw,Si.text+=Ut.text):It.push(Ut);continue}if(Ut=this.tokenizer.emStrong(Ct,tn,Tn)){Ct=Ct.substring(Ut.raw.length),It.push(Ut);continue}if(Ut=this.tokenizer.codespan(Ct)){Ct=Ct.substring(Ut.raw.length),It.push(Ut);continue}if(Ut=this.tokenizer.br(Ct)){Ct=Ct.substring(Ut.raw.length),It.push(Ut);continue}if(Ut=this.tokenizer.del(Ct)){Ct=Ct.substring(Ut.raw.length),It.push(Ut);continue}if(Ut=this.tokenizer.autolink(Ct,Ue)){Ct=Ct.substring(Ut.raw.length),It.push(Ut);continue}if(!this.state.inLink&&(Ut=this.tokenizer.url(Ct,Ue))){Ct=Ct.substring(Ut.raw.length),It.push(Ut);continue}if(Vi=Ct,this.options.extensions&&this.options.extensions.startInline&&function(){var ln=1/0,Gn=Ct.slice(1),Kn=void 0;Qt.options.extensions.startInline.forEach(function(ro){Kn=ro.call({lexer:this},Gn),typeof Kn=="number"&&Kn>=0&&(ln=Math.min(ln,Kn))}),ln<1/0&&ln>=0&&(Vi=Ct.substring(0,ln+1))}(),Ut=this.tokenizer.inlineText(Vi,Ke)){Ct=Ct.substring(Ut.raw.length),Ut.raw.slice(-1)!=="_"&&(Tn=Ut.raw.slice(-1)),Cn=!0,Si=It[It.length-1],Si&&Si.type==="text"?(Si.raw+=Ut.raw,Si.text+=Ut.text):It.push(Ut);continue}if(Ct){var qn="Infinite loop on byte: "+Ct.charCodeAt(0);if(this.options.silent){console.error(qn);break}else throw new Error(qn)}}return It},De(pi,null,[{key:"rules",get:function(){return{block:ui,inline:ke}}}]),pi}(),it=function(){function pi(ii){this.options=ii||Ne.defaults}var ti=pi.prototype;return ti.code=function(Ct,It,Qt){var Ut=(It||"").match(/\S*/)[0];if(this.options.highlight){var Si=this.options.highlight(Ct,Ut);Si!=null&&Si!==Ct&&(Qt=!0,Ct=Si)}return Ct=Ct.replace(/\n$/,"")+`
`,Ut?'<pre><code class="'+this.options.langPrefix+xi(Ut,!0)+'">'+(Qt?Ct:xi(Ct,!0))+`</code></pre>
`:"<pre><code>"+(Qt?Ct:xi(Ct,!0))+`</code></pre>
`},ti.blockquote=function(Ct){return`<blockquote>
`+Ct+`</blockquote>
`},ti.html=function(Ct){return Ct},ti.heading=function(Ct,It,Qt,Ut){if(this.options.headerIds){var Si=this.options.headerPrefix+Ut.slug(Qt);return"<h"+It+' id="'+Si+'">'+Ct+"</h"+It+`>
`}return"<h"+It+">"+Ct+"</h"+It+`>
`},ti.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ti.list=function(Ct,It,Qt){var Ut=It?"ol":"ul",Si=It&&Qt!==1?' start="'+Qt+'"':"";return"<"+Ut+Si+`>
`+Ct+"</"+Ut+`>
`},ti.listitem=function(Ct){return"<li>"+Ct+`</li>
`},ti.checkbox=function(Ct){return"<input "+(Ct?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ti.paragraph=function(Ct){return"<p>"+Ct+`</p>
`},ti.table=function(Ct,It){return It&&(It="<tbody>"+It+"</tbody>"),`<table>
<thead>
`+Ct+`</thead>
`+It+`</table>
`},ti.tablerow=function(Ct){return`<tr>
`+Ct+`</tr>
`},ti.tablecell=function(Ct,It){var Qt=It.header?"th":"td",Ut=It.align?"<"+Qt+' align="'+It.align+'">':"<"+Qt+">";return Ut+Ct+("</"+Qt+`>
`)},ti.strong=function(Ct){return"<strong>"+Ct+"</strong>"},ti.em=function(Ct){return"<em>"+Ct+"</em>"},ti.codespan=function(Ct){return"<code>"+Ct+"</code>"},ti.br=function(){return this.options.xhtml?"<br/>":"<br>"},ti.del=function(Ct){return"<del>"+Ct+"</del>"},ti.link=function(Ct,It,Qt){if(Ct=Ri(this.options.sanitize,this.options.baseUrl,Ct),Ct===null)return Qt;var Ut='<a href="'+xi(Ct)+'"';return It&&(Ut+=' title="'+It+'"'),Ut+=">"+Qt+"</a>",Ut},ti.image=function(Ct,It,Qt){if(Ct=Ri(this.options.sanitize,this.options.baseUrl,Ct),Ct===null)return Qt;var Ut='<img src="'+Ct+'" alt="'+Qt+'"';return It&&(Ut+=' title="'+It+'"'),Ut+=this.options.xhtml?"/>":">",Ut},ti.text=function(Ct){return Ct},pi}(),fi=function(){function pi(){}var ti=pi.prototype;return ti.strong=function(Ct){return Ct},ti.em=function(Ct){return Ct},ti.codespan=function(Ct){return Ct},ti.del=function(Ct){return Ct},ti.html=function(Ct){return Ct},ti.text=function(Ct){return Ct},ti.link=function(Ct,It,Qt){return""+Qt},ti.image=function(Ct,It,Qt){return""+Qt},ti.br=function(){return""},pi}(),_i=function(){function pi(){this.seen={}}var ti=pi.prototype;return ti.serialize=function(Ct){return Ct.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ti.getNextSafeSlug=function(Ct,It){var Qt=Ct,Ut=0;if(this.seen.hasOwnProperty(Qt)){Ut=this.seen[Ct];do Ut++,Qt=Ct+"-"+Ut;while(this.seen.hasOwnProperty(Qt))}return It||(this.seen[Ct]=Ut,this.seen[Qt]=0),Qt},ti.slug=function(Ct,It){It===void 0&&(It={});var Qt=this.serialize(Ct);return this.getNextSafeSlug(Qt,It.dryrun)},pi}(),Te=function(){function pi(ii){this.options=ii||Ne.defaults,this.options.renderer=this.options.renderer||new it,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new fi,this.slugger=new _i}pi.parse=function(Ct,It){var Qt=new pi(It);return Qt.parse(Ct)},pi.parseInline=function(Ct,It){var Qt=new pi(It);return Qt.parseInline(Ct)};var ti=pi.prototype;return ti.parse=function(Ct,It){It===void 0&&(It=!0);var Qt="",Ut,Si,Vi,tn,Ji,Cn,Tn,Wn,qn,ln,Gn,Kn,ro,as,Zi,cn,pn,rn,Xn,Is=Ct.length;for(Ut=0;Ut<Is;Ut++){if(ln=Ct[Ut],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ln.type]&&(Xn=this.options.extensions.renderers[ln.type].call({parser:this},ln),Xn!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ln.type))){Qt+=Xn||"";continue}switch(ln.type){case"space":continue;case"hr":{Qt+=this.renderer.hr();continue}case"heading":{Qt+=this.renderer.heading(this.parseInline(ln.tokens),ln.depth,zt(this.parseInline(ln.tokens,this.textRenderer)),this.slugger);continue}case"code":{Qt+=this.renderer.code(ln.text,ln.lang,ln.escaped);continue}case"table":{for(Wn="",Tn="",tn=ln.header.length,Si=0;Si<tn;Si++)Tn+=this.renderer.tablecell(this.parseInline(ln.header[Si].tokens),{header:!0,align:ln.align[Si]});for(Wn+=this.renderer.tablerow(Tn),qn="",tn=ln.rows.length,Si=0;Si<tn;Si++){for(Cn=ln.rows[Si],Tn="",Ji=Cn.length,Vi=0;Vi<Ji;Vi++)Tn+=this.renderer.tablecell(this.parseInline(Cn[Vi].tokens),{header:!1,align:ln.align[Vi]});qn+=this.renderer.tablerow(Tn)}Qt+=this.renderer.table(Wn,qn);continue}case"blockquote":{qn=this.parse(ln.tokens),Qt+=this.renderer.blockquote(qn);continue}case"list":{for(Gn=ln.ordered,Kn=ln.start,ro=ln.loose,tn=ln.items.length,qn="",Si=0;Si<tn;Si++)Zi=ln.items[Si],cn=Zi.checked,pn=Zi.task,as="",Zi.task&&(rn=this.renderer.checkbox(cn),ro?Zi.tokens.length>0&&Zi.tokens[0].type==="paragraph"?(Zi.tokens[0].text=rn+" "+Zi.tokens[0].text,Zi.tokens[0].tokens&&Zi.tokens[0].tokens.length>0&&Zi.tokens[0].tokens[0].type==="text"&&(Zi.tokens[0].tokens[0].text=rn+" "+Zi.tokens[0].tokens[0].text)):Zi.tokens.unshift({type:"text",text:rn}):as+=rn),as+=this.parse(Zi.tokens,ro),qn+=this.renderer.listitem(as,pn,cn);Qt+=this.renderer.list(qn,Gn,Kn);continue}case"html":{Qt+=this.renderer.html(ln.text);continue}case"paragraph":{Qt+=this.renderer.paragraph(this.parseInline(ln.tokens));continue}case"text":{for(qn=ln.tokens?this.parseInline(ln.tokens):ln.text;Ut+1<Is&&Ct[Ut+1].type==="text";)ln=Ct[++Ut],qn+=`
`+(ln.tokens?this.parseInline(ln.tokens):ln.text);Qt+=It?this.renderer.paragraph(qn):qn;continue}default:{var hn='Token with "'+ln.type+'" type was not found.';if(this.options.silent){console.error(hn);return}else throw new Error(hn)}}}return Qt},ti.parseInline=function(Ct,It){It=It||this.renderer;var Qt="",Ut,Si,Vi,tn=Ct.length;for(Ut=0;Ut<tn;Ut++){if(Si=Ct[Ut],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Si.type]&&(Vi=this.options.extensions.renderers[Si.type].call({parser:this},Si),Vi!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Si.type))){Qt+=Vi||"";continue}switch(Si.type){case"escape":{Qt+=It.text(Si.text);break}case"html":{Qt+=It.html(Si.text);break}case"link":{Qt+=It.link(Si.href,Si.title,this.parseInline(Si.tokens,It));break}case"image":{Qt+=It.image(Si.href,Si.title,Si.text);break}case"strong":{Qt+=It.strong(this.parseInline(Si.tokens,It));break}case"em":{Qt+=It.em(this.parseInline(Si.tokens,It));break}case"codespan":{Qt+=It.codespan(Si.text);break}case"br":{Qt+=It.br();break}case"del":{Qt+=It.del(this.parseInline(Si.tokens,It));break}case"text":{Qt+=It.text(Si.text);break}default:{var Ji='Token with "'+Si.type+'" type was not found.';if(this.options.silent){console.error(Ji);return}else throw new Error(Ji)}}}return Qt},pi}();function tt(pi,ti,ii){if(typeof pi=="undefined"||pi===null)throw new Error("marked(): input parameter is undefined or null");if(typeof pi!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(pi)+", string expected");if(typeof ti=="function"&&(ii=ti,ti=null),ti=kn({},tt.defaults,ti||{}),ds(ti),ii){var Ct=ti.highlight,It;try{It=bt.lex(pi,ti)}catch(tn){return ii(tn)}var Qt=function(Ji){var Cn;if(!Ji)try{ti.walkTokens&&tt.walkTokens(It,ti.walkTokens),Cn=Te.parse(It,ti)}catch(Tn){Ji=Tn}return ti.highlight=Ct,Ji?ii(Ji):ii(null,Cn)};if(!Ct||Ct.length<3||(delete ti.highlight,!It.length))return Qt();var Ut=0;tt.walkTokens(It,function(tn){tn.type==="code"&&(Ut++,setTimeout(function(){Ct(tn.text,tn.lang,function(Ji,Cn){if(Ji)return Qt(Ji);Cn!=null&&Cn!==tn.text&&(tn.text=Cn,tn.escaped=!0),Ut--,Ut===0&&Qt()})},0))}),Ut===0&&Qt();return}function Si(tn){if(tn.message+=`
Please report this to https://github.com/markedjs/marked.`,ti.silent)return"<p>An error occurred:</p><pre>"+xi(tn.message+"",!0)+"</pre>";throw tn}try{var Vi=bt.lex(pi,ti);if(ti.walkTokens){if(ti.async)return Promise.all(tt.walkTokens(Vi,ti.walkTokens)).then(function(){return Te.parse(Vi,ti)}).catch(Si);tt.walkTokens(Vi,ti.walkTokens)}return Te.parse(Vi,ti)}catch(tn){Si(tn)}}tt.options=tt.setOptions=function(pi){return kn(tt.defaults,pi),Pt(tt.defaults),tt},tt.getDefaults=wn,tt.defaults=Ne.defaults,tt.use=function(){for(var pi=arguments.length,ti=new Array(pi),ii=0;ii<pi;ii++)ti[ii]=arguments[ii];var Ct=kn.apply(void 0,[{}].concat(ti)),It=tt.defaults.extensions||{renderers:{},childTokens:{}},Qt;ti.forEach(function(Ut){if(Ut.extensions&&(Qt=!0,Ut.extensions.forEach(function(Vi){if(!Vi.name)throw new Error("extension name required");if(Vi.renderer){var tn=It.renderers?It.renderers[Vi.name]:null;tn?It.renderers[Vi.name]=function(){for(var Ji=arguments.length,Cn=new Array(Ji),Tn=0;Tn<Ji;Tn++)Cn[Tn]=arguments[Tn];var Wn=Vi.renderer.apply(this,Cn);return Wn===!1&&(Wn=tn.apply(this,Cn)),Wn}:It.renderers[Vi.name]=Vi.renderer}if(Vi.tokenizer){if(!Vi.level||Vi.level!=="block"&&Vi.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");It[Vi.level]?It[Vi.level].unshift(Vi.tokenizer):It[Vi.level]=[Vi.tokenizer],Vi.start&&(Vi.level==="block"?It.startBlock?It.startBlock.push(Vi.start):It.startBlock=[Vi.start]:Vi.level==="inline"&&(It.startInline?It.startInline.push(Vi.start):It.startInline=[Vi.start]))}Vi.childTokens&&(It.childTokens[Vi.name]=Vi.childTokens)})),Ut.renderer&&function(){var Vi=tt.defaults.renderer||new it,tn=function(Tn){var Wn=Vi[Tn];Vi[Tn]=function(){for(var qn=arguments.length,ln=new Array(qn),Gn=0;Gn<qn;Gn++)ln[Gn]=arguments[Gn];var Kn=Ut.renderer[Tn].apply(Vi,ln);return Kn===!1&&(Kn=Wn.apply(Vi,ln)),Kn}};for(var Ji in Ut.renderer)tn(Ji);Ct.renderer=Vi}(),Ut.tokenizer&&function(){var Vi=tt.defaults.tokenizer||new os,tn=function(Tn){var Wn=Vi[Tn];Vi[Tn]=function(){for(var qn=arguments.length,ln=new Array(qn),Gn=0;Gn<qn;Gn++)ln[Gn]=arguments[Gn];var Kn=Ut.tokenizer[Tn].apply(Vi,ln);return Kn===!1&&(Kn=Wn.apply(Vi,ln)),Kn}};for(var Ji in Ut.tokenizer)tn(Ji);Ct.tokenizer=Vi}(),Ut.walkTokens){var Si=tt.defaults.walkTokens;Ct.walkTokens=function(Vi){var tn=[];return tn.push(Ut.walkTokens.call(this,Vi)),Si&&(tn=tn.concat(Si.call(this,Vi))),tn}}Qt&&(Ct.extensions=It),tt.setOptions(Ct)})},tt.walkTokens=function(pi,ti){for(var ii=[],Ct=function(){var Si=Qt.value;switch(ii=ii.concat(ti.call(tt,Si)),Si.type){case"table":{for(var Vi=$i(Si.header),tn;!(tn=Vi()).done;){var Ji=tn.value;ii=ii.concat(tt.walkTokens(Ji.tokens,ti))}for(var Cn=$i(Si.rows),Tn;!(Tn=Cn()).done;)for(var Wn=Tn.value,qn=$i(Wn),ln;!(ln=qn()).done;){var Gn=ln.value;ii=ii.concat(tt.walkTokens(Gn.tokens,ti))}break}case"list":{ii=ii.concat(tt.walkTokens(Si.items,ti));break}default:tt.defaults.extensions&&tt.defaults.extensions.childTokens&&tt.defaults.extensions.childTokens[Si.type]?tt.defaults.extensions.childTokens[Si.type].forEach(function(Kn){ii=ii.concat(tt.walkTokens(Si[Kn],ti))}):Si.tokens&&(ii=ii.concat(tt.walkTokens(Si.tokens,ti)))}},It=$i(pi),Qt;!(Qt=It()).done;)Ct();return ii},tt.parseInline=function(pi,ti){if(typeof pi=="undefined"||pi===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof pi!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(pi)+", string expected");ti=kn({},tt.defaults,ti||{}),ds(ti);try{var ii=bt.lexInline(pi,ti);return ti.walkTokens&&tt.walkTokens(ii,ti.walkTokens),Te.parseInline(ii,ti)}catch(Ct){if(Ct.message+=`
Please report this to https://github.com/markedjs/marked.`,ti.silent)return"<p>An error occurred:</p><pre>"+xi(Ct.message+"",!0)+"</pre>";throw Ct}},tt.Parser=Te,tt.parser=Te.parse,tt.Renderer=it,tt.TextRenderer=fi,tt.Lexer=bt,tt.lexer=bt.lex,tt.Tokenizer=os,tt.Slugger=_i,tt.parse=tt;var Wt=tt.options,Vt=tt.setOptions,Ni=tt.use,ji=tt.walkTokens,Ai=tt.parseInline,on=tt,mn=Te.parse,Rn=bt.lex;Ne.Lexer=bt,Ne.Parser=Te,Ne.Renderer=it,Ne.Slugger=_i,Ne.TextRenderer=fi,Ne.Tokenizer=os,Ne.getDefaults=wn,Ne.lexer=Rn,Ne.marked=tt,Ne.options=Wt,Ne.parse=on,Ne.parseInline=Ai,Ne.parser=mn,Ne.setOptions=Vt,Ne.use=Ni,Ne.walkTokens=ji,Object.defineProperty(Ne,"__esModule",{value:!0})})})();var N=u.Lexer||exports.Lexer,O=u.Parser||exports.Parser,R=u.Renderer||exports.Renderer,V=u.Slugger||exports.Slugger,F=u.TextRenderer||exports.TextRenderer,Y=u.Tokenizer||exports.Tokenizer,G=u.getDefaults||exports.getDefaults,Z=u.lexer||exports.lexer,ne=u.marked||exports.marked,$=u.options||exports.options,J=u.parse||exports.parse,se=u.parseInline||exports.parseInline,re=u.parser||exports.parser,he=u.setOptions||exports.setOptions,H=u.use||exports.use,P=u.walkTokens||exports.walkTokens,j=c(29961),K=c(90385),ie=c(24913),ce=c(94286),_e=c(80360),Ee=c(6685);const Ce=Object.freeze({image:(Yt,Ne,yt)=>{let De=[],di=[];return Yt&&({href:Yt,dimensions:De}=(0,b.v1)(Yt),di.push(`src="${(0,b.d9)(Yt)}"`)),yt&&di.push(`alt="${(0,b.d9)(yt)}"`),Ne&&di.push(`title="${(0,b.d9)(Ne)}"`),De.length&&(di=di.concat(De)),"<img "+di.join(" ")+">"},paragraph:Yt=>`<p>${Yt}</p>`,link:(Yt,Ne,yt)=>typeof Yt!="string"?"":(Yt===yt&&(yt=(0,b.oR)(yt)),Ne=typeof Ne=="string"?(0,b.d9)((0,b.oR)(Ne)):"",Yt=(0,b.oR)(Yt),Yt=Yt.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${Yt}" title="${Ne||Yt}" draggable="false">${yt}</a>`)});function pe(Yt,Ne={},yt={}){var De,di;const Ve=new a.SL;let $i=!1;const wn=(0,k.az)(Ne),Pt=function(zt){let Qi;try{Qi=(0,j.Qc)(decodeURIComponent(zt))}catch(ei){}return Qi?(Qi=(0,ie.rs)(Qi,ei=>{if(Yt.uris&&Yt.uris[ei])return Ee.o.revive(Yt.uris[ei])}),encodeURIComponent(JSON.stringify(Qi))):zt},le=function(zt,Qi){const ei=Yt.uris&&Yt.uris[zt];let Be=Ee.o.revive(ei);return Qi?zt.startsWith(K.lg.data+":")?zt:(Be||(Be=Ee.o.parse(zt)),K.Gi.uriToBrowserUri(Be).toString(!0)):!Be||Ee.o.parse(zt).toString()===Be.toString()?zt:(Be.query&&(Be=Be.with({query:Pt(Be.query)})),Be.toString())},mt=new ne.Renderer;mt.image=Ce.image,mt.link=Ce.link,mt.paragraph=Ce.paragraph;const jt=[],bi=[];if(Ne.codeBlockRendererSync?mt.code=(zt,Qi)=>{const ei=S.a.nextId(),Be=Ne.codeBlockRendererSync(xe(Qi),zt);return bi.push([ei,Be]),`<div class="code" data-code="${ei}">${(0,_e.YU)(zt)}</div>`}:Ne.codeBlockRenderer&&(mt.code=(zt,Qi)=>{const ei=S.a.nextId(),Be=Ne.codeBlockRenderer(xe(Qi),zt);return jt.push(Be.then(Nt=>[ei,Nt])),`<div class="code" data-code="${ei}">${(0,_e.YU)(zt)}</div>`}),Ne.actionHandler){const zt=function(Be){let Nt=Be.target;if(!(Nt.tagName!=="A"&&(Nt=Nt.parentElement,!Nt||Nt.tagName!=="A")))try{let Ri=Nt.dataset.href;Ri&&(Yt.baseUri&&(Ri=x(Ee.o.from(Yt.baseUri),Ri)),Ne.actionHandler.callback(Ri,Be))}catch(Ri){(0,B.dL)(Ri)}finally{Be.preventDefault()}},Qi=Ne.actionHandler.disposables.add(new v.Y(wn,"click")),ei=Ne.actionHandler.disposables.add(new v.Y(wn,"auxclick"));Ne.actionHandler.disposables.add(y.ju.any(Qi.event,ei.event)(Be=>{const Nt=new T.n(D.Jj(wn),Be);!Nt.leftButton&&!Nt.middleButton||zt(Nt)})),Ne.actionHandler.disposables.add(D.nm(wn,"keydown",Be=>{const Nt=new L.y(Be);!Nt.equals(10)&&!Nt.equals(3)||zt(Nt)}))}Yt.supportHtml||(yt.sanitizer=zt=>(Yt.isTrusted?zt.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?zt:"",yt.sanitize=!0,yt.silent=!0),yt.renderer=mt;let Ot=(De=Yt.value)!==null&&De!==void 0?De:"";Ot.length>1e5&&(Ot=`${Ot.substr(0,1e5)}\u2026`),Yt.supportThemeIcons&&(Ot=(0,C.f$)(Ot));let Ki;if(Ne.fillInIncompleteTokens){const zt=Di(Di({},ne.defaults),yt),Qi=ne.lexer(Ot,zt),ei=Re(Qi);Ki=ne.parser(ei,zt)}else Ki=ne.parse(Ot,yt);Yt.supportThemeIcons&&(Ki=(0,M.T)(Ki).map(Qi=>typeof Qi=="string"?Qi:Qi.outerHTML).join(""));const dn=new DOMParser().parseFromString(rt(Yt,Ki),"text/html");if(dn.body.querySelectorAll("img").forEach(zt=>{const Qi=zt.getAttribute("src");if(Qi){let ei=Qi;try{Yt.baseUri&&(ei=x(Ee.o.from(Yt.baseUri),ei))}catch(Be){}zt.src=le(ei,!0)}}),dn.body.querySelectorAll("a").forEach(zt=>{const Qi=zt.getAttribute("href");if(zt.setAttribute("href",""),!Qi||/^data:|javascript:/i.test(Qi)||/^command:/i.test(Qi)&&!Yt.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(Qi))zt.replaceWith(...zt.childNodes);else{let ei=le(Qi,!1);Yt.baseUri&&(ei=x(Ee.o.from(Yt.baseUri),Qi)),zt.dataset.href=ei}}),wn.innerHTML=rt(Yt,dn.body.innerHTML),jt.length>0)Promise.all(jt).then(zt=>{var Qi,ei;if($i)return;const Be=new Map(zt),Nt=wn.querySelectorAll("div[data-code]");for(const Ri of Nt){const Fi=Be.get((Qi=Ri.dataset.code)!==null&&Qi!==void 0?Qi:"");Fi&&D.mc(Ri,Fi)}(ei=Ne.asyncRenderCallback)===null||ei===void 0||ei.call(Ne)});else if(bi.length>0){const zt=new Map(bi),Qi=wn.querySelectorAll("div[data-code]");for(const ei of Qi){const Be=zt.get((di=ei.dataset.code)!==null&&di!==void 0?di:"");Be&&D.mc(ei,Be)}}if(Ne.asyncRenderCallback)for(const zt of wn.getElementsByTagName("img")){const Qi=Ve.add(D.nm(zt,"load",()=>{Qi.dispose(),Ne.asyncRenderCallback()}))}return{element:wn,dispose:()=>{$i=!0,Ve.dispose()}}}function xe(Yt){if(!Yt)return"";const Ne=Yt.split(/[\s+|:|,|\{|\?]/,1);return Ne.length?Ne[0]:Yt}function x(Yt,Ne){return/^\w[\w\d+.-]*:/.test(Ne)?Ne:Yt.path.endsWith("/")?(0,ce.i3)(Yt,Ne).toString():(0,ce.i3)((0,ce.XX)(Yt),Ne).toString()}function rt(Yt,Ne){const{config:yt,allowedSchemes:De}=Ze(Yt);X.v5("uponSanitizeAttribute",(Ve,$i)=>{if($i.attrName==="style"||$i.attrName==="class"){if(Ve.tagName==="SPAN"){if($i.attrName==="style"){$i.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test($i.attrValue);return}else if($i.attrName==="class"){$i.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test($i.attrValue);return}}$i.keepAttr=!1;return}});const di=D._F(De);try{return X.Nw(Ne,sn(Di({},yt),{RETURN_TRUSTED_TYPE:!0}))}finally{X.ok("uponSanitizeAttribute"),di.dispose()}}const Xe=["align","autoplay","alt","class","controls","data-code","data-href","draggable","height","href","loop","muted","playsinline","poster","src","style","target","title","width","start"];function Ze(Yt){const Ne=[K.lg.http,K.lg.https,K.lg.mailto,K.lg.data,K.lg.file,K.lg.vscodeFileResource,K.lg.vscodeRemote,K.lg.vscodeRemoteResource];return Yt.isTrusted&&Ne.push(K.lg.command),{config:{ALLOWED_TAGS:[...D.sQ],ALLOWED_ATTR:Xe,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:Ne}}function lt(Yt){return typeof Yt=="string"?Yt:ut(Yt)}function ut(Yt){var Ne;let yt=(Ne=Yt.value)!==null&&Ne!==void 0?Ne:"";yt.length>1e5&&(yt=`${yt.substr(0,1e5)}\u2026`);const De=ne.parse(yt,{renderer:He.value}).replace(/&(#\d+|[a-zA-Z]+);/g,di=>{var Ve;return(Ve=ct.get(di))!==null&&Ve!==void 0?Ve:di});return rt({isTrusted:!1},De).toString()}const ct=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),He=new _.o(()=>{const Yt=new ne.Renderer;return Yt.code=Ne=>Ne,Yt.blockquote=Ne=>Ne,Yt.html=Ne=>"",Yt.heading=(Ne,yt,De)=>Ne+`
`,Yt.hr=()=>"",Yt.list=(Ne,yt)=>Ne,Yt.listitem=Ne=>Ne+`
`,Yt.paragraph=Ne=>Ne+`
`,Yt.table=(Ne,yt)=>Ne+yt+`
`,Yt.tablerow=Ne=>Ne,Yt.tablecell=(Ne,yt)=>Ne+" ",Yt.strong=Ne=>Ne,Yt.em=Ne=>Ne,Yt.codespan=Ne=>Ne,Yt.br=()=>`
`,Yt.del=Ne=>Ne,Yt.image=(Ne,yt,De)=>"",Yt.text=Ne=>Ne,Yt.link=(Ne,yt,De)=>De,Yt});function Dt(Yt){let Ne="";return Yt.forEach(yt=>{Ne+=yt.raw}),Ne}function gt(Yt){for(const Ne of Yt.tokens)if(Ne.type==="text"){const yt=Ne.raw.split(`
`),De=yt[yt.length-1];if(De.includes("`"))return Tt(Yt);if(De.includes("**"))return Mt(Yt);if(De.match(/\*\w/))return xt(Yt);if(De.match(/(^|\s)__\w/))return Ft(Yt);if(De.match(/(^|\s)_\w/))return vt(Yt);if(De.match(/(^|\s)\[.*\]\(\w*/))return we(Yt);if(De.match(/(^|\s)\[\w/))return pt(Yt)}}function Re(Yt){let Ne,yt;for(Ne=0;Ne<Yt.length;Ne++){const De=Yt[Ne];if(De.type==="paragraph"&&De.raw.match(/(\n|^)```/)){yt=st(Yt.slice(Ne));break}if(De.type==="paragraph"&&De.raw.match(/(\n|^)\|/)){yt=li(Yt.slice(Ne));break}if(Ne===Yt.length-1&&De.type==="paragraph"){const di=gt(De);if(di){yt=[di];break}}}if(yt){const De=[...Yt.slice(0,Ne),...yt];return De.links=Yt.links,De}return Yt}function st(Yt){const Ne=Dt(Yt);return ne.lexer(Ne+"\n```")}function Tt(Yt){return Xt(Yt,"`")}function xt(Yt){return Xt(Yt,"*")}function vt(Yt){return Xt(Yt,"_")}function we(Yt){return Xt(Yt,")")}function pt(Yt){return Xt(Yt,"](about:blank)")}function Mt(Yt){return Xt(Yt,"**")}function Ft(Yt){return Xt(Yt,"__")}function Xt(Yt,Ne){const yt=Dt(Array.isArray(Yt)?Yt:[Yt]);return ne.lexer(yt+Ne)[0]}function li(Yt){const Ne=Dt(Yt),yt=Ne.split(`
`);let De,di=!1;for(let Ve=0;Ve<yt.length;Ve++){const $i=yt[Ve].trim();if(typeof De=="undefined"&&$i.match(/^\s*\|/)){const wn=$i.match(/(\|[^\|]+)(?=\||$)/g);wn&&(De=wn.length)}else if(typeof De=="number")if($i.match(/^\s*\|/)){if(Ve!==yt.length-1)return;di=!0}else return}if(typeof De=="number"&&De>0){const Ve=di?yt.slice(0,-1).join(`
`):Ne,$i=!!Ve.match(/\|\s*$/),wn=Ve+($i?"":"|")+`
|${" --- |".repeat(De)}`;return ne.lexer(wn)}}},9470:function(Gt,ze,c){"use strict";c.d(ze,{n:function(){return T},q:function(){return M}});var D=c(51678);const X=new WeakMap;function v(B){if(!B.parent||B.parent===B)return null;try{const y=B.location,b=B.parent.location;if(y.origin!=="null"&&b.origin!=="null"&&y.origin!==b.origin)return null}catch(y){return null}return B.parent}class k{static getSameOriginWindowChain(y){let b=X.get(y);if(!b){b=[],X.set(y,b);let C=y,S;do S=v(C),S?b.push({window:new WeakRef(C),iframeElement:C.frameElement||null}):b.push({window:new WeakRef(C),iframeElement:null}),C=S;while(C)}return b.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(y,b){var C,S;if(!b||y===b)return{top:0,left:0};let _=0,a=0;const u=this.getSameOriginWindowChain(y);for(const N of u){const O=N.window.deref();if(_+=(C=O==null?void 0:O.scrollY)!==null&&C!==void 0?C:0,a+=(S=O==null?void 0:O.scrollX)!==null&&S!==void 0?S:0,O===b||!N.iframeElement)break;const R=N.iframeElement.getBoundingClientRect();_+=R.top,a+=R.left}return{top:_,left:a}}}var L=c(43998);class T{constructor(y,b){this.timestamp=Date.now(),this.browserEvent=b,this.leftButton=b.button===0,this.middleButton=b.button===1,this.rightButton=b.button===2,this.buttons=b.buttons,this.target=b.target,this.detail=b.detail||1,b.type==="dblclick"&&(this.detail=2),this.ctrlKey=b.ctrlKey,this.shiftKey=b.shiftKey,this.altKey=b.altKey,this.metaKey=b.metaKey,typeof b.pageX=="number"?(this.posx=b.pageX,this.posy=b.pageY):(this.posx=b.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=b.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const C=k.getPositionOfChildWindowRelativeToAncestorWindow(y,b.view);this.posx-=C.left,this.posy-=C.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class M{constructor(y,b=0,C=0){if(this.browserEvent=y||null,this.target=y?y.target||y.targetNode||y.srcElement:null,this.deltaY=C,this.deltaX=b,y){const S=y,_=y;if(typeof S.wheelDeltaY!="undefined")this.deltaY=S.wheelDeltaY/120;else if(typeof _.VERTICAL_AXIS!="undefined"&&_.axis===_.VERTICAL_AXIS)this.deltaY=-_.detail/3;else if(y.type==="wheel"){const a=y;a.deltaMode===a.DOM_DELTA_LINE?D.vU&&!L.dz?this.deltaY=-y.deltaY/3:this.deltaY=-y.deltaY:this.deltaY=-y.deltaY/40}if(typeof S.wheelDeltaX!="undefined")D.G6&&L.ED?this.deltaX=-(S.wheelDeltaX/120):this.deltaX=S.wheelDeltaX/120;else if(typeof _.HORIZONTAL_AXIS!="undefined"&&_.axis===_.HORIZONTAL_AXIS)this.deltaX=-y.detail/3;else if(y.type==="wheel"){const a=y;a.deltaMode===a.DOM_DELTA_LINE?D.vU&&!L.dz?this.deltaX=-y.deltaX/3:this.deltaX=-y.deltaX:this.deltaX=-y.deltaX/40}this.deltaY===0&&this.deltaX===0&&y.wheelDelta&&(this.deltaY=y.wheelDelta/120)}}preventDefault(){var y;(y=this.browserEvent)===null||y===void 0||y.preventDefault()}stopPropagation(){var y;(y=this.browserEvent)===null||y===void 0||y.stopPropagation()}}},98236:function(Gt,ze,c){"use strict";c.d(ze,{B:function(){return D}});var D;(function(X){const v={total:0,min:Number.MAX_VALUE,max:0},k=Di({},v),L=Di({},v),T=Di({},v);let M=0;const B={keydown:0,input:0,render:0};function y(){V(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),B.keydown=1,queueMicrotask(b)}X.onKeyDown=y;function b(){B.keydown===1&&(performance.mark("keydown/end"),B.keydown=2)}function C(){performance.mark("input/start"),B.input=1,R()}X.onBeforeInput=C;function S(){B.input===0&&C(),queueMicrotask(_)}X.onInput=S;function _(){B.input===1&&(performance.mark("input/end"),B.input=2)}function a(){V()}X.onKeyUp=a;function u(){V()}X.onSelectionChange=u;function N(){B.keydown===2&&B.input===2&&B.render===0&&(performance.mark("render/start"),B.render=1,queueMicrotask(O),R())}X.onRenderStart=N;function O(){B.render===1&&(performance.mark("render/end"),B.render=2)}function R(){setTimeout(V)}function V(){B.keydown===2&&B.input===2&&B.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),F("keydown",v),F("input",k),F("render",L),F("inputlatency",T),M++,Y())}function F($,J){const se=performance.getEntriesByName($)[0].duration;J.total+=se,J.min=Math.min(J.min,se),J.max=Math.max(J.max,se)}function Y(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),B.keydown=0,B.input=0,B.render=0}function G(){if(M===0)return;const $={keydown:Z(v),input:Z(k),render:Z(L),total:Z(T),sampleCount:M};return ne(v),ne(k),ne(L),ne(T),M=0,$}X.getAndClearMeasurements=G;function Z($){return{average:$.total/M,max:$.max,min:$.min}}function ne($){$.total=0,$.min=Number.MAX_VALUE,$.max=0}})(D||(D={}))},84702:function(Gt,ze,c){"use strict";c.d(ze,{o:function(){return b},t:function(){return y}});var D=c(97480),X=c(32764),v=c(54888),k=c(62735),L=c(46328),T=c(83845),M=c(29882),B=function(C,S,_,a){var u=arguments.length,N=u<3?S:a===null?a=Object.getOwnPropertyDescriptor(S,_):a,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(C,S,_,a);else for(var R=C.length-1;R>=0;R--)(O=C[R])&&(N=(u<3?O(N):u>3?O(S,_,N):O(S,_))||N);return u>3&&N&&Object.defineProperty(S,_,N),N},y;(function(C){C.Tap="-monaco-gesturetap",C.Change="-monaco-gesturechange",C.Start="-monaco-gesturestart",C.End="-monaco-gesturesend",C.Contextmenu="-monaco-gesturecontextmenu"})(y||(y={}));class b extends T.JT{constructor(){super(),this.dispatched=!1,this.targets=new M.S,this.ignoreTargets=new M.S,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(L.ju.runAndSubscribe(D.Xo,({window:S,disposables:_})=>{_.add(D.nm(S.document,"touchstart",a=>this.onTouchStart(a),{passive:!1})),_.add(D.nm(S.document,"touchend",a=>this.onTouchEnd(S,a))),_.add(D.nm(S.document,"touchmove",a=>this.onTouchMove(a),{passive:!1}))},{window:X.Ex,disposables:this._store}))}static addTarget(S){if(!b.isTouchDevice())return T.JT.None;b.INSTANCE||(b.INSTANCE=(0,T.dk)(new b));const _=b.INSTANCE.targets.push(S);return(0,T.OF)(_)}static ignoreTarget(S){if(!b.isTouchDevice())return T.JT.None;b.INSTANCE||(b.INSTANCE=(0,T.dk)(new b));const _=b.INSTANCE.ignoreTargets.push(S);return(0,T.OF)(_)}static isTouchDevice(){return"ontouchstart"in X.Ex||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(S){const _=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let a=0,u=S.targetTouches.length;a<u;a++){const N=S.targetTouches.item(a);this.activeTouches[N.identifier]={id:N.identifier,initialTarget:N.target,initialTimeStamp:_,initialPageX:N.pageX,initialPageY:N.pageY,rollingTimestamps:[_],rollingPageX:[N.pageX],rollingPageY:[N.pageY]};const O=this.newGestureEvent(y.Start,N.target);O.pageX=N.pageX,O.pageY=N.pageY,this.dispatchEvent(O)}this.dispatched&&(S.preventDefault(),S.stopPropagation(),this.dispatched=!1)}onTouchEnd(S,_){const a=Date.now(),u=Object.keys(this.activeTouches).length;for(let N=0,O=_.changedTouches.length;N<O;N++){const R=_.changedTouches.item(N);if(!this.activeTouches.hasOwnProperty(String(R.identifier))){console.warn("move of an UNKNOWN touch",R);continue}const V=this.activeTouches[R.identifier],F=Date.now()-V.initialTimeStamp;if(F<b.HOLD_DELAY&&Math.abs(V.initialPageX-v.Gb(V.rollingPageX))<30&&Math.abs(V.initialPageY-v.Gb(V.rollingPageY))<30){const Y=this.newGestureEvent(y.Tap,V.initialTarget);Y.pageX=v.Gb(V.rollingPageX),Y.pageY=v.Gb(V.rollingPageY),this.dispatchEvent(Y)}else if(F>=b.HOLD_DELAY&&Math.abs(V.initialPageX-v.Gb(V.rollingPageX))<30&&Math.abs(V.initialPageY-v.Gb(V.rollingPageY))<30){const Y=this.newGestureEvent(y.Contextmenu,V.initialTarget);Y.pageX=v.Gb(V.rollingPageX),Y.pageY=v.Gb(V.rollingPageY),this.dispatchEvent(Y)}else if(u===1){const Y=v.Gb(V.rollingPageX),G=v.Gb(V.rollingPageY),Z=v.Gb(V.rollingTimestamps)-V.rollingTimestamps[0],ne=Y-V.rollingPageX[0],$=G-V.rollingPageY[0],J=[...this.targets].filter(se=>V.initialTarget instanceof Node&&se.contains(V.initialTarget));this.inertia(S,J,a,Math.abs(ne)/Z,ne>0?1:-1,Y,Math.abs($)/Z,$>0?1:-1,G)}this.dispatchEvent(this.newGestureEvent(y.End,V.initialTarget)),delete this.activeTouches[R.identifier]}this.dispatched&&(_.preventDefault(),_.stopPropagation(),this.dispatched=!1)}newGestureEvent(S,_){const a=document.createEvent("CustomEvent");return a.initEvent(S,!1,!0),a.initialTarget=_,a.tapCount=0,a}dispatchEvent(S){if(S.type===y.Tap){const _=new Date().getTime();let a=0;_-this._lastSetTapCountTime>b.CLEAR_TAP_COUNT_TIME?a=1:a=2,this._lastSetTapCountTime=_,S.tapCount=a}else(S.type===y.Change||S.type===y.Contextmenu)&&(this._lastSetTapCountTime=0);if(S.initialTarget instanceof Node){for(const _ of this.ignoreTargets)if(_.contains(S.initialTarget))return;for(const _ of this.targets)_.contains(S.initialTarget)&&(_.dispatchEvent(S),this.dispatched=!0)}}inertia(S,_,a,u,N,O,R,V,F){this.handle=D.jL(S,()=>{const Y=Date.now(),G=Y-a;let Z=0,ne=0,$=!0;u+=b.SCROLL_FRICTION*G,R+=b.SCROLL_FRICTION*G,u>0&&($=!1,Z=N*u*G),R>0&&($=!1,ne=V*R*G);const J=this.newGestureEvent(y.Change);J.translationX=Z,J.translationY=ne,_.forEach(se=>se.dispatchEvent(J)),$||this.inertia(S,_,Y,u,N,O+Z,R,V,F+ne)})}onTouchMove(S){const _=Date.now();for(let a=0,u=S.changedTouches.length;a<u;a++){const N=S.changedTouches.item(a);if(!this.activeTouches.hasOwnProperty(String(N.identifier))){console.warn("end of an UNKNOWN touch",N);continue}const O=this.activeTouches[N.identifier],R=this.newGestureEvent(y.Change,O.initialTarget);R.translationX=N.pageX-v.Gb(O.rollingPageX),R.translationY=N.pageY-v.Gb(O.rollingPageY),R.pageX=N.pageX,R.pageY=N.pageY,this.dispatchEvent(R),O.rollingPageX.length>3&&(O.rollingPageX.shift(),O.rollingPageY.shift(),O.rollingTimestamps.shift()),O.rollingPageX.push(N.pageX),O.rollingPageY.push(N.pageY),O.rollingTimestamps.push(_)}this.dispatched&&(S.preventDefault(),S.stopPropagation(),this.dispatched=!1)}}b.SCROLL_FRICTION=-.005,b.HOLD_DELAY=700,b.CLEAR_TAP_COUNT_TIME=400,B([k.H],b,"isTouchDevice",null)},13158:function(Gt,ze,c){"use strict";c.d(ze,{Z:function(){return v}});var D=c(32764),X=c(35541);function v(k,L){var T;const M=globalThis.MonacoEnvironment;if(M!=null&&M.createTrustedTypesPolicy)try{return M.createTrustedTypesPolicy(k,L)}catch(B){(0,X.dL)(B);return}try{return(T=D.Ex.trustedTypes)===null||T===void 0?void 0:T.createPolicy(k,L)}catch(B){(0,X.dL)(B);return}}},6285:function(Gt,ze,c){"use strict";c.d(ze,{gU:function(){return se},YH:function(){return J},Lc:function(){return re}});var D=c(51678),X=c(82038),v=c(97480),k=c(84702),L=c(44210),T=c(80707),M=c(89056),B=c(45014),y=c(50825),b=c(54888),C=c(46328),S=c(82238),_=c(83845),a=c(43998),u=c(18493);const N=v.$,O="selectOption.entry.template";class R{get templateId(){return O}renderTemplate(H){const P=Object.create(null);return P.root=H,P.text=v.R3(H,N(".option-text")),P.detail=v.R3(H,N(".option-detail")),P.decoratorRight=v.R3(H,N(".option-decorator-right")),P}renderElement(H,P,j){const K=j,ie=H.text,ce=H.detail,_e=H.decoratorRight,Ee=H.isDisabled;K.text.textContent=ie,K.detail.textContent=ce||"",K.decoratorRight.innerText=_e||"",Ee?K.root.classList.add("option-disabled"):K.root.classList.remove("option-disabled")}disposeTemplate(H){}}class V extends _.JT{constructor(H,P,j,K,ie){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=K,this.selectBoxOptions=ie||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=V.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new C.Q5,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(j),this.selected=P||0,H&&this.setOptions(H,P),this.initStyleSheet()}getHeight(){return 22}getTemplateId(){return O}constructSelectDropDown(H){this.contextViewProvider=H,this.selectDropDownContainer=v.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=v.R3(this.selectDropDownContainer,N(".select-box-details-pane"));const P=v.R3(this.selectDropDownContainer,N(".select-box-dropdown-container-width-control")),j=v.R3(P,N(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",v.R3(j,this.widthControlElement),this._dropDownPosition=0,this.styleElement=v.dS(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(v.nm(this.selectDropDownContainer,v.tw.DRAG_START,K=>{v.zB.stop(K,!0)}))}registerListeners(){this._register(v.mu(this.selectElement,"change",P=>{this.selected=P.target.selectedIndex,this._onDidSelect.fire({index:P.target.selectedIndex,selected:P.target.value}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)})),this._register(v.nm(this.selectElement,v.tw.CLICK,P=>{v.zB.stop(P),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(v.nm(this.selectElement,v.tw.MOUSE_DOWN,P=>{v.zB.stop(P)}));let H;this._register(v.nm(this.selectElement,"touchstart",P=>{H=this._isVisible})),this._register(v.nm(this.selectElement,"touchend",P=>{v.zB.stop(P),H?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(v.nm(this.selectElement,v.tw.KEY_DOWN,P=>{const j=new M.y(P);let K=!1;a.dz?(j.keyCode===18||j.keyCode===16||j.keyCode===10||j.keyCode===3)&&(K=!0):(j.keyCode===18&&j.altKey||j.keyCode===16&&j.altKey||j.keyCode===10||j.keyCode===3)&&(K=!0),K&&(this.showSelectDropDown(),v.zB.stop(P,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(H,P){b.fS(this.options,H)||(this.options=H,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((j,K)=>{this.selectElement.add(this.createOption(j.text,K,j.isDisabled)),typeof j.description=="string"&&(this._hasDetails=!0)})),P!==void 0&&(this.select(P),this._currentSelection=this.selected)}setOptionsList(){var H;(H=this.selectList)===null||H===void 0||H.splice(0,this.selectList.length,this.options)}select(H){H>=0&&H<this.options.length?this.selected=H:H>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(H){this.selectElement.tabIndex=H?0:-1}render(H){this.container=H,H.classList.add("select-container"),H.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const H=[];this.styles.listFocusBackground&&H.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&H.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&H.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(H.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),H.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),H.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(H.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),H.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&H.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&H.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&H.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&H.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),H.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),H.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=H.join(`
`)}styleSelectElement(){var H,P,j;const K=(H=this.styles.selectBackground)!==null&&H!==void 0?H:"",ie=(P=this.styles.selectForeground)!==null&&P!==void 0?P:"",ce=(j=this.styles.selectBorder)!==null&&j!==void 0?j:"";this.selectElement.style.backgroundColor=K,this.selectElement.style.color=ie,this.selectElement.style.borderColor=ce}styleList(){var H,P;const j=(H=this.styles.selectBackground)!==null&&H!==void 0?H:"",K=v.XT(this.styles.selectListBackground,j);this.selectDropDownListContainer.style.backgroundColor=K,this.selectionDetailsPane.style.backgroundColor=K;const ie=(P=this.styles.focusBorder)!==null&&P!==void 0?P:"";this.selectDropDownContainer.style.outlineColor=ie,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(H,P,j){const K=document.createElement("option");return K.value=H,K.text=H,K.disabled=!!j,K}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:H=>this.renderSelectDropDown(H,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:H=>this.renderSelectDropDown(H),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(H){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),H&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(H,P){return H.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(P),{dispose:()=>{try{H.removeChild(this.selectDropDownContainer)}catch(j){}}}}measureMaxDetailsHeight(){let H=0;return this.options.forEach((P,j)=>{this.updateDetail(j),this.selectionDetailsPane.offsetHeight>H&&(H=this.selectionDetailsPane.offsetHeight)}),H}layoutSelectDropDown(H){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const P=v.Jj(this.selectElement),j=v.i(this.selectElement),K=v.Jj(this.selectElement).getComputedStyle(this.selectElement),ie=parseFloat(K.getPropertyValue("--dropdown-padding-top"))+parseFloat(K.getPropertyValue("--dropdown-padding-bottom")),ce=P.innerHeight-j.top-j.height-(this.selectBoxOptions.minBottomMargin||0),_e=j.top-V.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,Ee=this.selectElement.offsetWidth,Ce=this.setWidthControlElement(this.widthControlElement),pe=Math.max(Ce,Math.round(Ee)).toString()+"px";this.selectDropDownContainer.style.width=pe,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let xe=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const x=this._hasDetails?this._cachedMaxDetailsHeight:0,rt=xe+ie+x,Xe=Math.floor((ce-ie-x)/this.getHeight()),Ze=Math.floor((_e-ie-x)/this.getHeight());if(H)return j.top+j.height>P.innerHeight-22||j.top<V.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||Xe<1&&Ze<1?!1:(Xe<V.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&Ze>Xe&&this.options.length>Xe?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(j.top+j.height>P.innerHeight-22||j.top<V.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&Xe<1||this._dropDownPosition===1&&Ze<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&Xe+Ze<1)return this.hideSelectDropDown(!0),!1;rt>ce&&(xe=Xe*this.getHeight())}else rt>_e&&(xe=Ze*this.getHeight());return this.selectList.layout(xe),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=xe+ie+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=xe+ie+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=pe,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(H){let P=0;if(H){let j=0,K=0;this.options.forEach((ie,ce)=>{const _e=ie.detail?ie.detail.length:0,Ee=ie.decoratorRight?ie.decoratorRight.length:0,Ce=ie.text.length+_e+Ee;Ce>K&&(j=ce,K=Ce)}),H.textContent=this.options[j].text+(this.options[j].decoratorRight?this.options[j].decoratorRight+" ":""),P=v.w(H)}return P}createSelectList(H){if(this.selectList)return;this.selectDropDownListContainer=v.R3(H,N(".select-box-dropdown-list-container")),this.listRenderer=new R,this.selectList=new y.aV("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:K=>{let ie=K.text;return K.detail&&(ie+=`. ${K.detail}`),K.decoratorRight&&(ie+=`. ${K.decoratorRight}`),K.description&&(ie+=`. ${K.description}`),ie},getWidgetAriaLabel:()=>(0,u.NC)({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>a.dz?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const P=this._register(new T.Y(this.selectDropDownListContainer,"keydown")),j=C.ju.chain(P.event,K=>K.filter(()=>this.selectList.length>0).map(ie=>new M.y(ie)));this._register(C.ju.chain(j,K=>K.filter(ie=>ie.keyCode===3))(this.onEnter,this)),this._register(C.ju.chain(j,K=>K.filter(ie=>ie.keyCode===2))(this.onEnter,this)),this._register(C.ju.chain(j,K=>K.filter(ie=>ie.keyCode===9))(this.onEscape,this)),this._register(C.ju.chain(j,K=>K.filter(ie=>ie.keyCode===16))(this.onUpArrow,this)),this._register(C.ju.chain(j,K=>K.filter(ie=>ie.keyCode===18))(this.onDownArrow,this)),this._register(C.ju.chain(j,K=>K.filter(ie=>ie.keyCode===12))(this.onPageDown,this)),this._register(C.ju.chain(j,K=>K.filter(ie=>ie.keyCode===11))(this.onPageUp,this)),this._register(C.ju.chain(j,K=>K.filter(ie=>ie.keyCode===14))(this.onHome,this)),this._register(C.ju.chain(j,K=>K.filter(ie=>ie.keyCode===13))(this.onEnd,this)),this._register(C.ju.chain(j,K=>K.filter(ie=>ie.keyCode>=21&&ie.keyCode<=56||ie.keyCode>=85&&ie.keyCode<=113))(this.onCharacter,this)),this._register(v.nm(this.selectList.getHTMLElement(),v.tw.POINTER_UP,K=>this.onPointerUp(K))),this._register(this.selectList.onMouseOver(K=>typeof K.index!="undefined"&&this.selectList.setFocus([K.index]))),this._register(this.selectList.onDidChangeFocus(K=>this.onListFocus(K))),this._register(v.nm(this.selectDropDownContainer,v.tw.FOCUS_OUT,K=>{!this._isVisible||v.jg(K.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(H){if(!this.selectList.length)return;v.zB.stop(H);const P=H.target;if(!P||P.classList.contains("slider"))return;const j=P.closest(".monaco-list-row");if(!j)return;const K=Number(j.getAttribute("data-index")),ie=j.classList.contains("option-disabled");K>=0&&K<this.options.length&&!ie&&(this.selected=K,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(H,P){const j=ie=>{for(let ce=0;ce<ie.childNodes.length;ce++){const _e=ie.childNodes.item(ce);(_e.tagName&&_e.tagName.toLowerCase())==="img"?ie.removeChild(_e):j(_e)}},K=(0,B.ap)({value:H,supportThemeIcons:!0},{actionHandler:P});return K.element.classList.add("select-box-description-markdown"),j(K.element),K.element}onListFocus(H){!this._isVisible||!this._hasDetails||this.updateDetail(H.indexes[0])}updateDetail(H){var P,j;this.selectionDetailsPane.innerText="";const K=this.options[H],ie=(P=K==null?void 0:K.description)!==null&&P!==void 0?P:"",ce=(j=K==null?void 0:K.descriptionIsMarkdown)!==null&&j!==void 0?j:!1;if(ie){if(ce){const _e=K.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(ie,_e))}else this.selectionDetailsPane.innerText=ie;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(H){v.zB.stop(H),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(H){v.zB.stop(H),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(H){if(this.selected<this.options.length-1){v.zB.stop(H,!0);const P=this.options[this.selected+1].isDisabled;if(P&&this.options.length>this.selected+2)this.selected+=2;else{if(P)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(H){this.selected>0&&(v.zB.stop(H,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(H){v.zB.stop(H),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(H){v.zB.stop(H),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(H){v.zB.stop(H),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(H){v.zB.stop(H),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(H){const P=S.kL.toString(H.keyCode);let j=-1;for(let K=0;K<this.options.length-1;K++)if(j=(K+this.selected+1)%this.options.length,this.options[j].text.charAt(0).toUpperCase()===P&&!this.options[j].isDisabled){this.select(j),this.selectList.setFocus([j]),this.selectList.reveal(this.selectList.getFocus()[0]),v.zB.stop(H);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}V.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,V.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,V.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3;class F extends _.JT{constructor(H,P,j,K){super(),this.selected=0,this.selectBoxOptions=K||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new C.Q5),this.styles=j,this.registerListeners(),this.setOptions(H,P)}registerListeners(){this._register(k.o.addTarget(this.selectElement)),[k.t.Tap].forEach(H=>{this._register(v.nm(this.selectElement,H,P=>{this.selectElement.focus()}))}),this._register(v.mu(this.selectElement,"click",H=>{v.zB.stop(H,!0)})),this._register(v.mu(this.selectElement,"change",H=>{this.selectElement.title=H.target.value,this._onDidSelect.fire({index:H.target.selectedIndex,selected:H.target.value})})),this._register(v.mu(this.selectElement,"keydown",H=>{let P=!1;a.dz?(H.keyCode===18||H.keyCode===16||H.keyCode===10)&&(P=!0):(H.keyCode===18&&H.altKey||H.keyCode===10||H.keyCode===3)&&(P=!0),P&&H.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(H,P){(!this.options||!b.fS(this.options,H))&&(this.options=H,this.selectElement.options.length=0,this.options.forEach((j,K)=>{this.selectElement.add(this.createOption(j.text,K,j.isDisabled))})),P!==void 0&&this.select(P)}select(H){this.options.length===0?this.selected=0:H>=0&&H<this.options.length?this.selected=H:H>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(H){this.selectElement.tabIndex=H?0:-1}render(H){H.classList.add("select-container"),H.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var H,P,j;this.selectElement&&(this.selectElement.style.backgroundColor=(H=this.styles.selectBackground)!==null&&H!==void 0?H:"",this.selectElement.style.color=(P=this.styles.selectForeground)!==null&&P!==void 0?P:"",this.selectElement.style.borderColor=(j=this.styles.selectBorder)!==null&&j!==void 0?j:"")}createOption(H,P,j){const K=document.createElement("option");return K.value=H,K.text=H,K.disabled=!!j,K}}var Y=c(58595);class G extends Y.${constructor(H,P,j,K,ie){super(),a.dz&&!(ie!=null&&ie.useCustomDrawn)?this.selectBoxDelegate=new F(H,P,K,ie):this.selectBoxDelegate=new V(H,P,j,K,ie),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(H,P){this.selectBoxDelegate.setOptions(H,P)}select(H){this.selectBoxDelegate.select(H)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(H){this.selectBoxDelegate.setFocusable(H)}render(H){this.selectBoxDelegate.render(H)}}var Z=c(66351),ne=c(22968),$=c(59853);class J extends _.JT{get action(){return this._action}constructor(H,P,j={}){super(),this.options=j,this._context=H||this,this._action=P,P instanceof Z.aU&&this._register(P.onDidChange(K=>{this.element&&this.handleActionChangeEvent(K)}))}handleActionChangeEvent(H){H.enabled!==void 0&&this.updateEnabled(),H.checked!==void 0&&this.updateChecked(),H.class!==void 0&&this.updateClass(),H.label!==void 0&&(this.updateLabel(),this.updateTooltip()),H.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new Z.Wi)),this._actionRunner}set actionRunner(H){this._actionRunner=H}isEnabled(){return this._action.enabled}setActionContext(H){this._context=H}render(H){const P=this.element=H;this._register(k.o.addTarget(H));const j=this.options&&this.options.draggable;j&&(H.draggable=!0,D.vU&&this._register((0,v.nm)(H,v.tw.DRAG_START,K=>{var ie;return(ie=K.dataTransfer)===null||ie===void 0?void 0:ie.setData(X.g.TEXT,this._action.label)}))),this._register((0,v.nm)(P,k.t.Tap,K=>this.onClick(K,!0))),this._register((0,v.nm)(P,v.tw.MOUSE_DOWN,K=>{j||v.zB.stop(K,!0),this._action.enabled&&K.button===0&&P.classList.add("active")})),a.dz&&this._register((0,v.nm)(P,v.tw.CONTEXT_MENU,K=>{K.button===0&&K.ctrlKey===!0&&this.onClick(K)})),this._register((0,v.nm)(P,v.tw.CLICK,K=>{v.zB.stop(K,!0),this.options&&this.options.isMenu||this.onClick(K)})),this._register((0,v.nm)(P,v.tw.DBLCLICK,K=>{v.zB.stop(K,!0)})),[v.tw.MOUSE_UP,v.tw.MOUSE_OUT].forEach(K=>{this._register((0,v.nm)(P,K,ie=>{v.zB.stop(ie),P.classList.remove("active")}))})}onClick(H,P=!1){var j;v.zB.stop(H,!0);const K=ne.Jp(this._context)?!((j=this.options)===null||j===void 0)&&j.useEventAsContext?H:{preserveFocus:P}:this._context;this.actionRunner.run(this._action,K)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(H){this.element&&(this.element.tabIndex=H?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){var H;if(!this.element)return;const P=(H=this.getTooltip())!==null&&H!==void 0?H:"";this.updateAriaLabel(),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(P):(this.customHover=(0,L.g)(this.options.hoverDelegate,this.element,P),this._store.add(this.customHover))):this.element.title=P}updateAriaLabel(){var H;if(this.element){const P=(H=this.getTooltip())!==null&&H!==void 0?H:"";this.element.setAttribute("aria-label",P)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}class se extends J{constructor(H,P,j){super(H,P,j),this.options=j,this.options.icon=j.icon!==void 0?j.icon:!1,this.options.label=j.label!==void 0?j.label:!0,this.cssClass=""}render(H){super.render(H),ne.p_(this.element);const P=document.createElement("a");if(P.classList.add("action-label"),P.setAttribute("role",this.getDefaultAriaRole()),this.label=P,this.element.appendChild(P),this.options.label&&this.options.keybinding){const j=document.createElement("span");j.classList.add("keybinding"),j.textContent=this.options.keybinding,this.element.appendChild(j)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===Z.Z0.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(H){this.label&&(this.label.tabIndex=H?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let H=null;return this.action.tooltip?H=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(H=this.action.label,this.options.keybinding&&(H=u.NC({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",H,this.options.keybinding))),H!=null?H:void 0}updateClass(){var H;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(H=this.label)===null||H===void 0||H.classList.remove("codicon")}updateEnabled(){var H,P;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(H=this.element)===null||H===void 0||H.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(P=this.element)===null||P===void 0||P.classList.add("disabled"))}updateAriaLabel(){var H;if(this.label){const P=(H=this.getTooltip())!==null&&H!==void 0?H:"";this.label.setAttribute("aria-label",P)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.removeAttribute("aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}}class re extends J{constructor(H,P,j,K,ie,ce,_e){super(H,P),this.selectBox=new G(j,K,ie,ce,_e),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(H){this.selectBox.select(H)}registerListeners(){this._register(this.selectBox.onDidSelect(H=>this.runAction(H.selected,H.index)))}runAction(H,P){this.actionRunner.run(this._action,this.getActionContext(H,P))}getActionContext(H,P){return H}setFocusable(H){this.selectBox.setFocusable(H)}focus(){var H;(H=this.selectBox)===null||H===void 0||H.focus()}blur(){var H;(H=this.selectBox)===null||H===void 0||H.blur()}render(H){this.selectBox.render(H)}}},18016:function(Gt,ze,c){"use strict";c.d(ze,{o:function(){return y}});var D=c(97480),X=c(89056),v=c(6285),k=c(66351),L=c(46328),T=c(83845),M=c(22968),B=c(59853);class y extends T.JT{constructor(C,S={}){var _,a,u,N,O,R;super(),this._actionRunnerDisposables=this._register(new T.SL),this.viewItemDisposables=this._register(new T.b2),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new L.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new L.Q5({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new L.Q5),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new L.Q5),this.onWillRun=this._onWillRun.event,this.options=S,this._context=(_=S.context)!==null&&_!==void 0?_:null,this._orientation=(a=this.options.orientation)!==null&&a!==void 0?a:0,this._triggerKeys={keyDown:(N=(u=this.options.triggerKeys)===null||u===void 0?void 0:u.keyDown)!==null&&N!==void 0?N:!1,keys:(R=(O=this.options.triggerKeys)===null||O===void 0?void 0:O.keys)!==null&&R!==void 0?R:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new k.Wi,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(Y=>this._onDidRun.fire(Y))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(Y=>this._onWillRun.fire(Y))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",S.animated!==!1&&this.domNode.classList.add("animated");let V,F;switch(this._orientation){case 0:V=[15],F=[17];break;case 1:V=[16],F=[18],this.domNode.className+=" vertical";break}this._register(D.nm(this.domNode,D.tw.KEY_DOWN,Y=>{const G=new X.y(Y);let Z=!0;const ne=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;V&&(G.equals(V[0])||G.equals(V[1]))?Z=this.focusPrevious():F&&(G.equals(F[0])||G.equals(F[1]))?Z=this.focusNext():G.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():G.equals(14)?Z=this.focusFirst():G.equals(13)?Z=this.focusLast():G.equals(2)&&ne instanceof v.YH&&ne.trapsArrowNavigation?Z=this.focusNext():this.isTriggerKeyEvent(G)?this._triggerKeys.keyDown?this.doTrigger(G):this.triggerKeyDown=!0:Z=!1,Z&&(G.preventDefault(),G.stopPropagation())})),this._register(D.nm(this.domNode,D.tw.KEY_UP,Y=>{const G=new X.y(Y);this.isTriggerKeyEvent(G)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(G)),G.preventDefault(),G.stopPropagation()):(G.equals(2)||G.equals(1026)||G.equals(16)||G.equals(18)||G.equals(15)||G.equals(17))&&this.updateFocusedItem()})),this.focusTracker=this._register(D.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(D.vY()===this.domNode||!D.jg(D.vY(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),C.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(C){if(this.focusable=C,this.focusable){const S=this.viewItems.find(_=>_ instanceof v.YH&&_.isEnabled());S instanceof v.YH&&S.setFocusable(!0)}else this.viewItems.forEach(S=>{S instanceof v.YH&&S.setFocusable(!1)})}isTriggerKeyEvent(C){let S=!1;return this._triggerKeys.keys.forEach(_=>{S=S||C.equals(_)}),S}updateFocusedItem(){var C,S;for(let _=0;_<this.actionsList.children.length;_++){const a=this.actionsList.children[_];if(D.jg(D.vY(),a)){this.focusedItem=_,(S=(C=this.viewItems[this.focusedItem])===null||C===void 0?void 0:C.showHover)===null||S===void 0||S.call(C);break}}}get context(){return this._context}set context(C){this._context=C,this.viewItems.forEach(S=>S.setActionContext(C))}get actionRunner(){return this._actionRunner}set actionRunner(C){this._actionRunner=C,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(S=>this._onDidRun.fire(S))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(S=>this._onWillRun.fire(S))),this.viewItems.forEach(S=>S.actionRunner=C)}getContainer(){return this.domNode}getAction(C){var S;if(typeof C=="number")return(S=this.viewItems[C])===null||S===void 0?void 0:S.action;if(C instanceof HTMLElement){for(;C.parentElement!==this.actionsList;){if(!C.parentElement)return;C=C.parentElement}for(let _=0;_<this.actionsList.childNodes.length;_++)if(this.actionsList.childNodes[_]===C)return this.viewItems[_].action}}push(C,S={}){const _=Array.isArray(C)?C:[C];let a=M.hj(S.index)?S.index:null;_.forEach(u=>{const N=document.createElement("li");N.className="action-item",N.setAttribute("role","presentation");let O;const R=Di({hoverDelegate:this.options.hoverDelegate},S);this.options.actionViewItemProvider&&(O=this.options.actionViewItemProvider(u,R)),O||(O=new v.gU(this.context,u,R)),this.options.allowContextMenu||this.viewItemDisposables.set(O,D.nm(N,D.tw.CONTEXT_MENU,V=>{D.zB.stop(V,!0)})),O.actionRunner=this._actionRunner,O.setActionContext(this.context),O.render(N),this.focusable&&O instanceof v.YH&&this.viewItems.length===0&&O.setFocusable(!0),a===null||a<0||a>=this.actionsList.children.length?(this.actionsList.appendChild(N),this.viewItems.push(O)):(this.actionsList.insertBefore(N,this.actionsList.children[a]),this.viewItems.splice(a,0,O),a++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=(0,T.B9)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),D.PO(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(C){let S=!1,_;if(C===void 0?S=!0:typeof C=="number"?_=C:typeof C=="boolean"&&(S=C),S&&typeof this.focusedItem=="undefined"){const a=this.viewItems.findIndex(u=>u.isEnabled());this.focusedItem=a===-1?void 0:a,this.updateFocus(void 0,void 0,!0)}else _!==void 0&&(this.focusedItem=_),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(C){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const S=this.focusedItem;let _;do{if(!C&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=S,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,_=this.viewItems[this.focusedItem]}while(this.focusedItem!==S&&(this.options.focusOnlyEnabledItems&&!_.isEnabled()||_.action.id===k.Z0.ID));return this.updateFocus(),!0}focusPrevious(C){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const S=this.focusedItem;let _;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!C&&this.options.preventLoopNavigation)return this.focusedItem=S,!1;this.focusedItem=this.viewItems.length-1}_=this.viewItems[this.focusedItem]}while(this.focusedItem!==S&&(this.options.focusOnlyEnabledItems&&!_.isEnabled()||_.action.id===k.Z0.ID));return this.updateFocus(!0),!0}updateFocus(C,S,_=!1){var a,u;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:S}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((a=this.viewItems[this.previouslyFocusedItem])===null||a===void 0||a.blur());const N=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(N){let O=!0;M.mf(N.focus)||(O=!1),this.options.focusOnlyEnabledItems&&M.mf(N.isEnabled)&&!N.isEnabled()&&(O=!1),N.action.id===k.Z0.ID&&(O=!1),O&&((u=N.showHover)===null||u===void 0||u.call(N)),O?(_||this.previouslyFocusedItem!==this.focusedItem)&&(N.focus(C),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:S}),this.previouslyFocusedItem=void 0)}}doTrigger(C){if(typeof this.focusedItem=="undefined")return;const S=this.viewItems[this.focusedItem];if(S instanceof v.YH){const _=S._context===null||S._context===void 0?C:S._context;this.run(S._action,_)}}run(C,S){return At(this,null,function*(){yield this._actionRunner.run(C,S)})}dispose(){this._context=void 0,this.viewItems=(0,T.B9)(this.viewItems),this.getContainer().remove(),super.dispose()}}},1891:function(Gt,ze,c){"use strict";c.d(ze,{Z9:function(){return y},wW:function(){return B},i7:function(){return b}});var D=c(97480);const X=2e4;let v,k,L,T,M;function B(S){v=document.createElement("div"),v.className="monaco-aria-container";const _=()=>{const u=document.createElement("div");return u.className="monaco-alert",u.setAttribute("role","alert"),u.setAttribute("aria-atomic","true"),v.appendChild(u),u};k=_(),L=_();const a=()=>{const u=document.createElement("div");return u.className="monaco-status",u.setAttribute("aria-live","polite"),u.setAttribute("aria-atomic","true"),v.appendChild(u),u};T=a(),M=a(),S.appendChild(v)}function y(S){v&&(k.textContent!==S?(D.PO(L),C(k,S)):(D.PO(k),C(L,S)))}function b(S){v&&(T.textContent!==S?(D.PO(M),C(T,S)):(D.PO(T),C(M,S)))}function C(S,_){D.PO(S),_.length>X&&(_=_.substr(0,X)),S.textContent=_,S.style.visibility="hidden",S.style.visibility="visible"}},84632:function(Gt,ze,c){"use strict";c.d(ze,{z:function(){return _}});var D=c(97480),X=c(53270),v=c(89056),k=c(45014),L=c(84702),T=c(89227),M=c(72225),B=c(46328),y=c(61126),b=c(83845),C=c(12003);const S={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:M.Il.white.toString(),buttonForeground:M.Il.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};class _ extends b.JT{get onDidClick(){return this._onDidClick.event}constructor(u,N){super(),this._label="",this._onDidClick=this._register(new B.Q5),this.options=N,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!N.secondary);const O=N.secondary?N.buttonSecondaryBackground:N.buttonBackground,R=N.secondary?N.buttonSecondaryForeground:N.buttonForeground;this._element.style.color=R||"",this._element.style.backgroundColor=O||"",N.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),u.appendChild(this._element),this._register(L.o.addTarget(this._element)),[D.tw.CLICK,L.t.Tap].forEach(V=>{this._register((0,D.nm)(this._element,V,F=>{if(!this.enabled){D.zB.stop(F);return}this._onDidClick.fire(F)}))}),this._register((0,D.nm)(this._element,D.tw.KEY_DOWN,V=>{const F=new v.y(V);let Y=!1;this.enabled&&(F.equals(3)||F.equals(10))?(this._onDidClick.fire(V),Y=!0):F.equals(9)&&(this._element.blur(),Y=!0),Y&&D.zB.stop(F,!0)})),this._register((0,D.nm)(this._element,D.tw.MOUSE_OVER,V=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register((0,D.nm)(this._element,D.tw.MOUSE_OUT,V=>{this.updateBackground(!1)})),this.focusTracker=this._register((0,D.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(u){const N=[];for(let O of(0,T.T)(u))if(typeof O=="string"){if(O=O.trim(),O==="")continue;const R=document.createElement("span");R.textContent=O,N.push(R)}else N.push(O);return N}updateBackground(u){let N;this.options.secondary?N=u?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:N=u?this.options.buttonHoverBackground:this.options.buttonBackground,N&&(this._element.style.backgroundColor=N)}get element(){return this._element}set label(u){var N;if(this._label===u||(0,y.Fr)(this._label)&&(0,y.Fr)(u)&&(0,y.g_)(this._label,u))return;this._element.classList.add("monaco-text-button");const O=this.options.supportShortLabel?this._labelElement:this._element;if((0,y.Fr)(u)){const R=(0,k.ap)(u,{inline:!0});R.dispose();const V=(N=R.element.querySelector("p"))===null||N===void 0?void 0:N.innerHTML;if(V){const F=(0,X.Nw)(V,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});O.innerHTML=F}else(0,D.mc)(O)}else this.options.supportIcons?(0,D.mc)(O,...this.getContentElements(u)):O.textContent=u;typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=(0,k.et)(u)),this._label=u}get label(){return this._label}set icon(u){this._element.classList.add(...C.k.asClassNameArray(u))}set enabled(u){u?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}},74213:function(Gt,ze,c){"use strict";c.d(ze,{Z:function(){return v}});var D=c(97480),X=c(80360);class v{constructor(L,T,M){this.options=T,this.styles=M,this.count=0,this.element=(0,D.R3)(L,(0,D.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(L){this.count=L,this.render()}setTitleFormat(L){this.titleFormat=L,this.render()}render(){var L,T;this.element.textContent=(0,X.WU)(this.countFormat,this.count),this.element.title=(0,X.WU)(this.titleFormat,this.count),this.element.style.backgroundColor=(L=this.styles.badgeBackground)!==null&&L!==void 0?L:"",this.element.style.color=(T=this.styles.badgeForeground)!==null&&T!==void 0?T:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}},30380:function(Gt,ze,c){"use strict";c.d(ze,{C:function(){return y}});var D=c(97480),X=c(6285),v=c(89056),k=c(84702),L=c(66351),T=c(46328);class M extends L.Wi{constructor(C,S){super(),this._onDidChangeVisibility=this._register(new T.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,D.R3)(C,(0,D.$)(".monaco-dropdown")),this._label=(0,D.R3)(this._element,(0,D.$)(".dropdown-label"));let _=S.labelRenderer;_||(_=u=>(u.textContent=S.label||"",null));for(const u of[D.tw.CLICK,D.tw.MOUSE_DOWN,k.t.Tap])this._register((0,D.nm)(this.element,u,N=>D.zB.stop(N,!0)));for(const u of[D.tw.MOUSE_DOWN,k.t.Tap])this._register((0,D.nm)(this._label,u,N=>{(0,D.N5)(N)&&(N.detail>1||N.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,D.nm)(this._label,D.tw.KEY_UP,u=>{const N=new v.y(u);(N.equals(3)||N.equals(10))&&(D.zB.stop(u,!0),this.visible?this.hide():this.show())}));const a=_(this._label);a&&this._register(a),this._register(k.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class B extends M{constructor(C,S){super(C,S),this._options=S,this._actions=[],this.actions=S.actions||[]}set menuOptions(C){this._menuOptions=C}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(C){this._actions=C}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(C,S)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(C,S):void 0,getKeyBinding:C=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(C):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class y extends X.YH{constructor(C,S,_,a=Object.create(null)){super(null,C,a),this.actionItem=null,this._onDidChangeVisibility=this._register(new T.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=S,this.contextMenuProvider=_,this.options=a,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(C){this.actionItem=C;const S=u=>{this.element=(0,D.R3)(u,(0,D.$)("a.action-label"));let N=[];return typeof this.options.classNames=="string"?N=this.options.classNames.split(/\s+/g).filter(O=>!!O):this.options.classNames&&(N=this.options.classNames),N.find(O=>O==="icon")||N.push("codicon"),this.element.classList.add(...N),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},_=Array.isArray(this.menuActionsOrProvider),a={contextMenuProvider:this.contextMenuProvider,labelRenderer:S,menuAsChild:this.options.menuAsChild,actions:_?this.menuActionsOrProvider:void 0,actionProvider:_?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new B(C,a)),this._register(this.dropdownMenu.onDidChangeVisibility(u=>{var N;(N=this.element)===null||N===void 0||N.setAttribute("aria-expanded",`${u}`),this._onDidChangeVisibility.fire(u)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const u=this;this.dropdownMenu.menuOptions=sn(Di({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return u.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let C=null;return this.action.tooltip?C=this.action.tooltip:this.action.label&&(C=this.action.label),C!=null?C:void 0}setActionContext(C){super.setActionContext(C),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=C:this.dropdownMenu.menuOptions={context:C})}show(){var C;(C=this.dropdownMenu)===null||C===void 0||C.show()}updateEnabled(){var C,S;const _=!this.action.enabled;(C=this.actionItem)===null||C===void 0||C.classList.toggle("disabled",_),(S=this.element)===null||S===void 0||S.classList.toggle("disabled",_)}}},68641:function(Gt,ze,c){"use strict";c.d(ze,{V:function(){return b}});var D=c(97480),X=c(18195),v=c(3347),k=c(58595),L=c(46328),T=c(81822),M=c(18493),B=c(83845);const y=M.NC("defaultLabel","input");class b extends k.${constructor(S,_,a){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new B.XK),this.additionalToggles=[],this._onDidOptionChange=this._register(new L.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new L.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new L.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new L.Q5),this._onKeyUp=this._register(new L.Q5),this._onCaseSensitiveKeyDown=this._register(new L.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new L.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=a.placeholder||"",this.validation=a.validation,this.label=a.label||y,this.showCommonFindToggles=!!a.showCommonFindToggles;const u=a.appendCaseSensitiveLabel||"",N=a.appendWholeWordsLabel||"",O=a.appendRegexLabel||"",R=a.history||[],V=!!a.flexibleHeight,F=!!a.flexibleWidth,Y=a.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new v.pG(this.domNode,_,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:R,showHistoryHint:a.showHistoryHint,flexibleHeight:V,flexibleWidth:F,flexibleMaxHeight:Y,inputBoxStyles:a.inputBoxStyles})),this.showCommonFindToggles){this.regex=this._register(new X.eH(Di({appendTitle:O,isChecked:!1},a.toggleStyles))),this._register(this.regex.onChange(Z=>{this._onDidOptionChange.fire(Z),!Z&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(Z=>{this._onRegexKeyDown.fire(Z)})),this.wholeWords=this._register(new X.Qx(Di({appendTitle:N,isChecked:!1},a.toggleStyles))),this._register(this.wholeWords.onChange(Z=>{this._onDidOptionChange.fire(Z),!Z&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new X.rk(Di({appendTitle:u,isChecked:!1},a.toggleStyles))),this._register(this.caseSensitive.onChange(Z=>{this._onDidOptionChange.fire(Z),!Z&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(Z=>{this._onCaseSensitiveKeyDown.fire(Z)}));const G=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,Z=>{if(Z.equals(15)||Z.equals(17)||Z.equals(9)){const ne=G.indexOf(this.domNode.ownerDocument.activeElement);if(ne>=0){let $=-1;Z.equals(17)?$=(ne+1)%G.length:Z.equals(15)&&(ne===0?$=G.length-1:$=ne-1),Z.equals(9)?(G[ne].blur(),this.inputBox.focus()):$>=0&&G[$].focus(),D.zB.stop(Z,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(a==null?void 0:a.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),S==null||S.appendChild(this.domNode),this._register(D.nm(this.inputBox.inputElement,"compositionstart",G=>{this.imeSessionInProgress=!0})),this._register(D.nm(this.inputBox.inputElement,"compositionend",G=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,G=>this._onKeyDown.fire(G)),this.onkeyup(this.inputBox.inputElement,G=>this._onKeyUp.fire(G)),this.oninput(this.inputBox.inputElement,G=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,G=>this._onMouseDown.fire(G))}get onDidChange(){return this.inputBox.onDidChange}layout(S){this.inputBox.layout(),this.updateInputBoxPadding(S.collapsedFindWidget)}enable(){var S,_,a;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(S=this.regex)===null||S===void 0||S.enable(),(_=this.wholeWords)===null||_===void 0||_.enable(),(a=this.caseSensitive)===null||a===void 0||a.enable();for(const u of this.additionalToggles)u.enable()}disable(){var S,_,a;this.domNode.classList.add("disabled"),this.inputBox.disable(),(S=this.regex)===null||S===void 0||S.disable(),(_=this.wholeWords)===null||_===void 0||_.disable(),(a=this.caseSensitive)===null||a===void 0||a.disable();for(const u of this.additionalToggles)u.disable()}setFocusInputOnOptionClick(S){this.fixFocusOnOptionClickEnabled=S}setEnabled(S){S?this.enable():this.disable()}setAdditionalToggles(S){for(const _ of this.additionalToggles)_.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new B.SL;for(const _ of S!=null?S:[])this.additionalTogglesDisposables.value.add(_),this.controls.appendChild(_.domNode),this.additionalTogglesDisposables.value.add(_.onChange(a=>{this._onDidOptionChange.fire(a),!a&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(_);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(S=!1){var _,a,u,N,O,R;S?this.inputBox.paddingRight=0:this.inputBox.paddingRight=((a=(_=this.caseSensitive)===null||_===void 0?void 0:_.width())!==null&&a!==void 0?a:0)+((N=(u=this.wholeWords)===null||u===void 0?void 0:u.width())!==null&&N!==void 0?N:0)+((R=(O=this.regex)===null||O===void 0?void 0:O.width())!==null&&R!==void 0?R:0)+this.additionalToggles.reduce((V,F)=>V+F.width(),0)}getValue(){return this.inputBox.value}setValue(S){this.inputBox.value!==S&&(this.inputBox.value=S)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var S,_;return(_=(S=this.caseSensitive)===null||S===void 0?void 0:S.checked)!==null&&_!==void 0?_:!1}setCaseSensitive(S){this.caseSensitive&&(this.caseSensitive.checked=S)}getWholeWords(){var S,_;return(_=(S=this.wholeWords)===null||S===void 0?void 0:S.checked)!==null&&_!==void 0?_:!1}setWholeWords(S){this.wholeWords&&(this.wholeWords.checked=S)}getRegex(){var S,_;return(_=(S=this.regex)===null||S===void 0?void 0:S.checked)!==null&&_!==void 0?_:!1}setRegex(S){this.regex&&(this.regex.checked=S,this.validate())}focusOnCaseSensitive(){var S;(S=this.caseSensitive)===null||S===void 0||S.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(S){this.inputBox.showMessage(S)}clearMessage(){this.inputBox.hideMessage()}}},18195:function(Gt,ze,c){"use strict";c.d(ze,{Qx:function(){return B},eH:function(){return y},rk:function(){return M}});var D=c(94225),X=c(64423),v=c(18493);const k=v.NC("caseDescription","Match Case"),L=v.NC("wordsDescription","Match Whole Word"),T=v.NC("regexDescription","Use Regular Expression");class M extends D.Z{constructor(C){super({icon:X.l.caseSensitive,title:k+C.appendTitle,isChecked:C.isChecked,inputActiveOptionBorder:C.inputActiveOptionBorder,inputActiveOptionForeground:C.inputActiveOptionForeground,inputActiveOptionBackground:C.inputActiveOptionBackground})}}class B extends D.Z{constructor(C){super({icon:X.l.wholeWord,title:L+C.appendTitle,isChecked:C.isChecked,inputActiveOptionBorder:C.inputActiveOptionBorder,inputActiveOptionForeground:C.inputActiveOptionForeground,inputActiveOptionBackground:C.inputActiveOptionBackground})}}class y extends D.Z{constructor(C){super({icon:X.l.regex,title:T+C.appendTitle,isChecked:C.isChecked,inputActiveOptionBorder:C.inputActiveOptionBorder,inputActiveOptionForeground:C.inputActiveOptionForeground,inputActiveOptionBackground:C.inputActiveOptionBackground})}}},31568:function(Gt,ze,c){"use strict";c.d(ze,{q:function(){return k}});var D=c(97480),X=c(89227),v=c(24913);class k{constructor(T,M){var B;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(B=M==null?void 0:M.supportIcons)!==null&&B!==void 0?B:!1,this.domNode=D.R3(T,D.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(T,M=[],B="",y){T||(T=""),y&&(T=k.escapeNewLines(T,M)),!(this.didEverRender&&this.text===T&&this.title===B&&v.fS(this.highlights,M))&&(this.text=T,this.title=B,this.highlights=M,this.render())}render(){const T=[];let M=0;for(const B of this.highlights){if(B.end===B.start)continue;if(M<B.start){const C=this.text.substring(M,B.start);this.supportIcons?T.push(...(0,X.T)(C)):T.push(C),M=B.start}const y=this.text.substring(M,B.end),b=D.$("span.highlight",void 0,...this.supportIcons?(0,X.T)(y):[y]);B.extraClasses&&b.classList.add(...B.extraClasses),T.push(b),M=B.end}if(M<this.text.length){const B=this.text.substring(M);this.supportIcons?T.push(...(0,X.T)(B)):T.push(B)}D.mc(this.domNode,...T),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(T,M){let B=0,y=0;return T.replace(/\r\n|\r|\n/g,(b,C)=>{y=b===`\r
`?-1:0,C+=B;for(const S of M)S.end<=C||(S.start>=C&&(S.start+=y),S.end>=C&&(S.end+=y));return B+=y,"\u23CE"})}}},87232:function(Gt,ze,c){"use strict";c.d(ze,{g:function(){return B}});var D=c(97480),X=c(31568),v=c(44210),k=c(83845),L=c(24913),T=c(57344);class M{constructor(_){this._element=_}get element(){return this._element}set textContent(_){this.disposed||_===this._textContent||(this._textContent=_,this._element.textContent=_)}set className(_){this.disposed||_===this._className||(this._className=_,this._element.className=_)}set empty(_){this.disposed||_===this._empty||(this._empty=_,this._element.style.marginLeft=_?"0":"")}dispose(){this.disposed=!0}}class B extends k.JT{constructor(_,a){super(),this.customHovers=new Map,this.creationOptions=a,this.domNode=this._register(new M(D.R3(_,D.$(".monaco-icon-label")))),this.labelContainer=D.R3(this.domNode.element,D.$(".monaco-icon-label-container")),this.nameContainer=D.R3(this.labelContainer,D.$("span.monaco-icon-name-container")),a!=null&&a.supportHighlights||a!=null&&a.supportIcons?this.nameNode=new C(this.nameContainer,!!a.supportIcons):this.nameNode=new y(this.nameContainer),this.hoverDelegate=a==null?void 0:a.hoverDelegate}get element(){return this.domNode.element}setLabel(_,a,u){var N;const O=["monaco-icon-label"],R=["monaco-icon-label-container"];let V="";if(u&&(u.extraClasses&&O.push(...u.extraClasses),u.italic&&O.push("italic"),u.strikethrough&&O.push("strikethrough"),u.disabledCommand&&R.push("disabled"),u.title&&(typeof u.title=="string"?V+=u.title:V+=_)),this.domNode.className=O.join(" "),this.domNode.element.setAttribute("aria-label",V),this.labelContainer.className=R.join(" "),this.setupHover(u!=null&&u.descriptionTitle?this.labelContainer:this.element,u==null?void 0:u.title),this.nameNode.setLabel(_,u),a||this.descriptionNode){const F=this.getOrCreateDescriptionNode();F instanceof X.q?(F.set(a||"",u?u.descriptionMatches:void 0,void 0,u==null?void 0:u.labelEscapeNewLines),this.setupHover(F.element,u==null?void 0:u.descriptionTitle)):(F.textContent=a&&(u!=null&&u.labelEscapeNewLines)?X.q.escapeNewLines(a,[]):a||"",this.setupHover(F.element,(u==null?void 0:u.descriptionTitle)||""),F.empty=!a)}if(u!=null&&u.suffix||this.suffixNode){const F=this.getOrCreateSuffixNode();F.textContent=(N=u==null?void 0:u.suffix)!==null&&N!==void 0?N:""}}setupHover(_,a){const u=this.customHovers.get(_);if(u&&(u.dispose(),this.customHovers.delete(_)),!a){_.removeAttribute("title");return}if(!this.hoverDelegate)(0,v.O)(_,a);else{const N=(0,v.g)(this.hoverDelegate,_,a);N&&this.customHovers.set(_,N)}}dispose(){super.dispose();for(const _ of this.customHovers.values())_.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){const _=this._register(new M(D.e4(this.nameContainer,D.$("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new M(D.R3(_.element,D.$("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){var _;if(!this.descriptionNode){const a=this._register(new M(D.R3(this.labelContainer,D.$("span.monaco-icon-description-container"))));!((_=this.creationOptions)===null||_===void 0)&&_.supportDescriptionHighlights?this.descriptionNode=new X.q(D.R3(a.element,D.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons}):this.descriptionNode=this._register(new M(D.R3(a.element,D.$("span.label-description"))))}return this.descriptionNode}}class y{constructor(_){this.container=_,this.label=void 0,this.singleLabel=void 0}setLabel(_,a){if(!(this.label===_&&(0,L.fS)(this.options,a)))if(this.label=_,this.options=a,typeof _=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=D.R3(this.container,D.$("a.label-name",{id:a==null?void 0:a.domId}))),this.singleLabel.textContent=_;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let u=0;u<_.length;u++){const N=_[u],O=(a==null?void 0:a.domId)&&`${a==null?void 0:a.domId}_${u}`;D.R3(this.container,D.$("a.label-name",{id:O,"data-icon-label-count":_.length,"data-icon-label-index":u,role:"treeitem"},N)),u<_.length-1&&D.R3(this.container,D.$("span.label-separator",void 0,(a==null?void 0:a.separator)||"/"))}}}}function b(S,_,a){if(!a)return;let u=0;return S.map(N=>{const O={start:u,end:u+N.length},R=a.map(V=>T.e.intersect(O,V)).filter(V=>!T.e.isEmpty(V)).map(({start:V,end:F})=>({start:V-u,end:F-u}));return u=O.end+_.length,R})}class C{constructor(_,a){this.container=_,this.supportIcons=a,this.label=void 0,this.singleLabel=void 0}setLabel(_,a){if(!(this.label===_&&(0,L.fS)(this.options,a)))if(this.label=_,this.options=a,typeof _=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new X.q(D.R3(this.container,D.$("a.label-name",{id:a==null?void 0:a.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(_,a==null?void 0:a.matches,void 0,a==null?void 0:a.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const u=(a==null?void 0:a.separator)||"/",N=b(_,u,a==null?void 0:a.matches);for(let O=0;O<_.length;O++){const R=_[O],V=N?N[O]:void 0,F=(a==null?void 0:a.domId)&&`${a==null?void 0:a.domId}_${O}`,Y=D.$("a.label-name",{id:F,"data-icon-label-count":_.length,"data-icon-label-index":O,role:"treeitem"});new X.q(D.R3(this.container,Y),{supportIcons:this.supportIcons}).set(R,V,void 0,a==null?void 0:a.labelEscapeNewLines),O<_.length-1&&D.R3(Y,D.$("span.label-separator",void 0,u))}}}}},44210:function(Gt,ze,c){"use strict";c.d(ze,{O:function(){return y},g:function(){return C}});var D=c(97480),X=c(96925),v=c(60902),k=c(61126),L=c(62396),T=c(83845),M=c(22968),B=c(18493);function y(S,_){(0,M.HD)(_)?S.title=(0,L.x$)(_):_!=null&&_.markdownNotSupportedFallback?S.title=_.markdownNotSupportedFallback:S.removeAttribute("title")}class b{constructor(_,a,u){this.hoverDelegate=_,this.target=a,this.fadeInAnimation=u}update(_,a,u){return At(this,null,function*(){var N;if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let O;if(_===void 0||(0,M.HD)(_)||_ instanceof HTMLElement)O=_;else if(!(0,M.mf)(_.markdown))O=(N=_.markdown)!==null&&N!==void 0?N:_.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,B.NC)("iconLabel.loading","Loading..."),a),this._cancellationTokenSource=new v.A;const R=this._cancellationTokenSource.token;if(O=yield _.markdown(R),O===void 0&&(O=_.markdownNotSupportedFallback),this.isDisposed||R.isCancellationRequested)return}this.show(O,a,u)})}show(_,a,u){const N=this._hoverWidget;if(this.hasContent(_)){const O=Di({content:_,target:this.target,appearance:{showPointer:this.hoverDelegate.placement==="element",skipFadeInAnimation:!this.fadeInAnimation||!!N},position:{hoverPosition:2}},u);this._hoverWidget=this.hoverDelegate.showHover(O,a)}N==null||N.dispose()}hasContent(_){return _?(0,k.Fr)(_)?!!_.value:!0:!1}get isDisposed(){var _;return(_=this._hoverWidget)===null||_===void 0?void 0:_.isDisposed}dispose(){var _,a;(_=this._hoverWidget)===null||_===void 0||_.dispose(),(a=this._cancellationTokenSource)===null||a===void 0||a.dispose(!0),this._cancellationTokenSource=void 0}}function C(S,_,a,u){let N,O;const R=($,J)=>{var se;const re=O!==void 0;$&&(O==null||O.dispose(),O=void 0),J&&(N==null||N.dispose(),N=void 0),re&&((se=S.onDidHideHover)===null||se===void 0||se.call(S))},V=($,J,se)=>new X._F(()=>At(this,null,function*(){(!O||O.isDisposed)&&(O=new b(S,se||_,$>0),yield O.update(a,J,u))}),$),F=()=>{if(N)return;const $=new T.SL,J=he=>R(!1,he.fromElement===_);$.add(D.nm(_,D.tw.MOUSE_LEAVE,J,!0));const se=()=>R(!0,!0);$.add(D.nm(_,D.tw.MOUSE_DOWN,se,!0));const re={targetElements:[_],dispose:()=>{}};if(S.placement===void 0||S.placement==="mouse"){const he=H=>{re.x=H.x+10,H.target instanceof HTMLElement&&H.target.classList.contains("action-label")&&R(!0,!0)};$.add(D.nm(_,D.tw.MOUSE_MOVE,he,!0))}$.add(V(S.delay,!1,re)),N=$},Y=D.nm(_,D.tw.MOUSE_OVER,F,!0),G=()=>{if(N)return;const $={targetElements:[_],dispose:()=>{}},J=new T.SL,se=()=>R(!0,!0);J.add(D.nm(_,D.tw.BLUR,se,!0)),J.add(V(S.delay,!1,$)),N=J},Z=D.nm(_,D.tw.FOCUS,G,!0);return{show:$=>{R(!1,!0),V(0,$)},hide:()=>{R(!0,!0)},update:($,J)=>At(this,null,function*(){a=$,yield O==null?void 0:O.update(a,void 0,J)}),dispose:()=>{Y.dispose(),Z.dispose(),R(!0,!0)}}}},89227:function(Gt,ze,c){"use strict";c.d(ze,{T:function(){return k},h:function(){return L}});var D=c(97480),X=c(12003);const v=new RegExp(`(\\\\)?\\$\\((${X.k.iconNameExpression}(?:${X.k.iconModifierExpression})?)\\)`,"g");function k(T){const M=new Array;let B,y=0,b=0;for(;(B=v.exec(T))!==null;){b=B.index||0,y<b&&M.push(T.substring(y,b)),y=(B.index||0)+B[0].length;const[,C,S]=B;M.push(C?`$(${S})`:L({id:S}))}return y<T.length&&M.push(T.substring(y)),M}function L(T){const M=D.$("span");return M.classList.add(...X.k.asClassNameArray(T)),M}},3347:function(Gt,ze,c){"use strict";c.d(ze,{pG:function(){return N},g4:function(){return a}});var D=c(97480),X=c(80707),v=c(75430),k=c(18016),L=c(1891),T=c(97918),M=c(58595),B=c(46328);class y{constructor(R,V=0,F=R.length,Y=V-1){this.items=R,this.start=V,this.end=F,this.index=Y}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class b{constructor(R=[],V=10){this._initialize(R),this._limit=V,this._onChange()}getHistory(){return this._elements}add(R){this._history.delete(R),this._history.add(R),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(R){return this._history.has(R)}_onChange(){this._reduceToLimit();const R=this._elements;this._navigator=new y(R,0,R.length,R.length)}_reduceToLimit(){const R=this._elements;R.length>this._limit&&this._initialize(R.slice(R.length-this._limit))}_currentPosition(){const R=this._navigator.current();return R?this._elements.indexOf(R):-1}_initialize(R){this._history=new Set;for(const V of R)this._history.add(V)}get _elements(){const R=[];return this._history.forEach(V=>R.push(V)),R}}var C=c(24913),S=c(18493);const _=D.$,a={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class u extends M.${constructor(R,V,F){var Y;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new B.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new B.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=V,this.options=F,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(Y=this.options.tooltip)!==null&&Y!==void 0?Y:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=D.R3(R,_(".monaco-inputbox.idle"));const G=this.options.flexibleHeight?"textarea":"input",Z=D.R3(this.element,_(".ibwrapper"));if(this.input=D.R3(Z,_(G+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=D.R3(Z,_("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new T.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),D.R3(R,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(J=>this.input.scrollTop=J.scrollTop));const ne=this._register(new X.Y(R.ownerDocument,"selectionchange")),$=B.ju.filter(ne.event,()=>{const J=R.ownerDocument.getSelection();return(J==null?void 0:J.anchorNode)===Z});this._register($(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new k.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(R){this.placeholder=R,this.input.setAttribute("placeholder",R)}setTooltip(R){this.tooltip=R,this.input.title=R}get inputElement(){return this.input}get value(){return this.input.value}set value(R){this.input.value!==R&&(this.input.value=R,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:D.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return D.H9(this.input)}select(R=null){this.input.select(),R&&(this.input.setSelectionRange(R.start,R.end),R.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(R){this.input.style.width=`calc(100% - ${R}px)`,this.mirror&&(this.mirror.style.paddingRight=R+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const R=this.cachedContentHeight,V=this.cachedHeight,F=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:R,height:V}),this.scrollableElement.setScrollPosition({scrollTop:F})}showMessage(R,V){if(this.state==="open"&&(0,C.fS)(this.message,R))return;this.message=R,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(R.type));const F=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${D.XT(F.border,"transparent")}`,this.message.content&&(this.hasFocus()||V)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let R=null;return this.validation&&(R=this.validation(this.value),R?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(R)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),R==null?void 0:R.type}stylesForType(R){const V=this.options.inputBoxStyles;switch(R){case 1:return{border:V.inputValidationInfoBorder,background:V.inputValidationInfoBackground,foreground:V.inputValidationInfoForeground};case 2:return{border:V.inputValidationWarningBorder,background:V.inputValidationWarningBackground,foreground:V.inputValidationWarningForeground};default:return{border:V.inputValidationErrorBorder,background:V.inputValidationErrorBackground,foreground:V.inputValidationErrorForeground}}}classForType(R){switch(R){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let R;const V=()=>R.style.width=D.w(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:Y=>{var G,Z;if(!this.message)return null;R=D.R3(Y,_(".monaco-inputbox-container")),V();const ne={inline:!0,className:"monaco-inputbox-message"},$=this.message.formatContent?(0,v.BO)(this.message.content,ne):(0,v.IY)(this.message.content,ne);$.classList.add(this.classForType(this.message.type));const J=this.stylesForType(this.message.type);return $.style.backgroundColor=(G=J.background)!==null&&G!==void 0?G:"",$.style.color=(Z=J.foreground)!==null&&Z!==void 0?Z:"",$.style.border=J.border?`1px solid ${J.border}`:"",D.R3(R,$),null},onHide:()=>{this.state="closed"},layout:V});let F;this.message.type===3?F=S.NC("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?F=S.NC("alertWarningMessage","Warning: {0}",this.message.content):F=S.NC("alertInfoMessage","Info: {0}",this.message.content),L.Z9(F),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const R=this.value,F=R.charCodeAt(R.length-1)===10?" ":"";(R+F).replace(/\u000c/g,"")?this.mirror.textContent=R+F:this.mirror.innerText="\xA0",this.layout()}applyStyles(){var R,V,F;const Y=this.options.inputBoxStyles,G=(R=Y.inputBackground)!==null&&R!==void 0?R:"",Z=(V=Y.inputForeground)!==null&&V!==void 0?V:"",ne=(F=Y.inputBorder)!==null&&F!==void 0?F:"";this.element.style.backgroundColor=G,this.element.style.color=Z,this.input.style.backgroundColor="inherit",this.input.style.color=Z,this.element.style.border=`1px solid ${D.XT(ne,"transparent")}`}layout(){if(!this.mirror)return;const R=this.cachedContentHeight;this.cachedContentHeight=D.wn(this.mirror),R!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(R){const V=this.inputElement,F=V.selectionStart,Y=V.selectionEnd,G=V.value;F!==null&&Y!==null&&(this.value=G.substr(0,F)+R+G.substr(Y),V.setSelectionRange(F+1,F+1),this.layout())}dispose(){var R;this._hideMessage(),this.message=null,(R=this.actionbar)===null||R===void 0||R.dispose(),super.dispose()}}class N extends u{constructor(R,V,F){const Y=S.NC({key:"history.inputbox.hint.suffix.noparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis ")", for example "Filter (e.g. text, !exclude)". The character inserted into the final string is \u21C5 to represent the up and down arrow keys.']}," or {0} for history","\u21C5"),G=S.NC({key:"history.inputbox.hint.suffix.inparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. "Find"). The character inserted into the final string is \u21C5 to represent the up and down arrow keys.']}," ({0} for history)","\u21C5");super(R,V,F),this._onDidFocus=this._register(new B.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new B.Q5),this.onDidBlur=this._onDidBlur.event,this.history=new b(F.history,100);const Z=()=>{if(F.showHistoryHint&&F.showHistoryHint()&&!this.placeholder.endsWith(Y)&&!this.placeholder.endsWith(G)&&this.history.getHistory().length){const ne=this.placeholder.endsWith(")")?Y:G,$=this.placeholder+ne;F.showPlaceholderOnFocus&&!D.H9(this.input)?this.placeholder=$:this.setPlaceHolder($)}};this.observer=new MutationObserver((ne,$)=>{ne.forEach(J=>{J.target.textContent||Z()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>Z()),this.onblur(this.input,()=>{const ne=$=>{if(this.placeholder.endsWith($)){const J=this.placeholder.slice(0,this.placeholder.length-$.length);return F.showPlaceholderOnFocus?this.placeholder=J:this.setPlaceHolder(J),!0}else return!1};ne(G)||ne(Y)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(R){this.value&&(R||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let R=this.getNextValue();R&&(R=R===this.value?this.getNextValue():R),this.value=R!=null?R:"",L.i7(this.value?this.value:S.NC("clearedInput","Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let R=this.getPreviousValue();R&&(R=R===this.value?this.getPreviousValue():R),R&&(this.value=R,L.i7(this.value))}setPlaceHolder(R){super.setPlaceHolder(R),this.setTooltip(R)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let R=this.history.current();return R||(R=this.history.last(),this.history.next()),R}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}},53762:function(Gt,ze,c){"use strict";c.d(ze,{e:function(){return M},F:function(){return T}});var D=c(97480),X=c(7461),v=c(24913),k=c(18493);const L=D.$,T={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class M{constructor(y,b,C){this.os=b,this.keyElements=new Set,this.options=C||Object.create(null);const S=this.options.keybindingLabelForeground;this.domNode=D.R3(y,L(".monaco-keybinding")),S&&(this.domNode.style.color=S),this.didEverRender=!1,y.appendChild(this.domNode)}get element(){return this.domNode}set(y,b){this.didEverRender&&this.keybinding===y&&M.areSame(this.matches,b)||(this.keybinding=y,this.matches=b,this.render())}render(){var y;if(this.clear(),this.keybinding){const b=this.keybinding.getChords();b[0]&&this.renderChord(this.domNode,b[0],this.matches?this.matches.firstPart:null);for(let S=1;S<b.length;S++)D.R3(this.domNode,L("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,b[S],this.matches?this.matches.chordPart:null);const C=(y=this.options.disableTitle)!==null&&y!==void 0&&y?void 0:this.keybinding.getAriaLabel()||void 0;C!==void 0?this.domNode.title=C:this.domNode.removeAttribute("title")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){D.PO(this.domNode),this.keyElements.clear()}renderChord(y,b,C){const S=X.xo.modifierLabels[this.os];b.ctrlKey&&this.renderKey(y,S.ctrlKey,!!(C!=null&&C.ctrlKey),S.separator),b.shiftKey&&this.renderKey(y,S.shiftKey,!!(C!=null&&C.shiftKey),S.separator),b.altKey&&this.renderKey(y,S.altKey,!!(C!=null&&C.altKey),S.separator),b.metaKey&&this.renderKey(y,S.metaKey,!!(C!=null&&C.metaKey),S.separator);const _=b.keyLabel;_&&this.renderKey(y,_,!!(C!=null&&C.keyCode),"")}renderKey(y,b,C,S){D.R3(y,this.createKeyElement(b,C?".highlight":"")),S&&D.R3(y,L("span.monaco-keybinding-key-separator",void 0,S))}renderUnbound(y){D.R3(y,this.createKeyElement((0,k.NC)("unbound","Unbound")))}createKeyElement(y,b=""){const C=L("span.monaco-keybinding-key"+b,void 0,y);return this.keyElements.add(C),this.options.keybindingLabelBackground&&(C.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(C.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(C.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(C.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),C}static areSame(y,b){return y===b||!y&&!b?!0:!!y&&!!b&&(0,v.fS)(y.firstPart,b.firstPart)&&(0,v.fS)(y.chordPart,b.chordPart)}}},17187:function(Gt,ze,c){"use strict";c.d(ze,{kX:function(){return ne},Bv:function(){return he}});var D=c(82038),X=c(97480),v=c(80707),k=c(84702),L=c(97918),T=c(54888),M=c(96925),B=c(62735),y=c(46328),b=c(83845),C=c(57344),S=c(36773);function _(H,P){const j=[];for(const K of P){if(H.start>=K.range.end)continue;if(H.end<K.range.start)break;const ie=C.e.intersect(H,K.range);C.e.isEmpty(ie)||j.push({range:ie,size:K.size})}return j}function a({start:H,end:P},j){return{start:H+j,end:P+j}}function u(H){const P=[];let j=null;for(const K of H){const ie=K.range.start,ce=K.range.end,_e=K.size;if(j&&_e===j.size){j.range.end=ce;continue}j={range:{start:ie,end:ce},size:_e},P.push(j)}return P}function N(...H){return u(H.reduce((P,j)=>P.concat(j),[]))}class O{get paddingTop(){return this._paddingTop}set paddingTop(P){this._size=this._size+P-this._paddingTop,this._paddingTop=P}constructor(P){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=P!=null?P:0,this._size=this._paddingTop}splice(P,j,K=[]){const ie=K.length-j,ce=_({start:0,end:P},this.groups),_e=_({start:P+j,end:Number.POSITIVE_INFINITY},this.groups).map(Ce=>({range:a(Ce.range,ie),size:Ce.size})),Ee=K.map((Ce,pe)=>({range:{start:P+pe,end:P+pe+1},size:Ce.size}));this.groups=N(ce,Ee,_e),this._size=this._paddingTop+this.groups.reduce((Ce,pe)=>Ce+pe.size*(pe.range.end-pe.range.start),0)}get count(){const P=this.groups.length;return P?this.groups[P-1].range.end:0}get size(){return this._size}indexAt(P){if(P<0)return-1;if(P<this._paddingTop)return 0;let j=0,K=this._paddingTop;for(const ie of this.groups){const ce=ie.range.end-ie.range.start,_e=K+ce*ie.size;if(P<_e)return j+Math.floor((P-K)/ie.size);j+=ce,K=_e}return j}indexAfter(P){return Math.min(this.indexAt(P)+1,this.count)}positionAt(P){if(P<0)return-1;let j=0,K=0;for(const ie of this.groups){const ce=ie.range.end-ie.range.start,_e=K+ce;if(P<_e)return this._paddingTop+j+(P-K)*ie.size;j+=ce*ie.size,K=_e}return-1}}function R(H){var P;try{(P=H.parentElement)===null||P===void 0||P.removeChild(H)}catch(j){}}class V{constructor(P){this.renderers=P,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(P){let j=this.getTemplateCache(P).pop(),K=!1;if(j)K=this.transactionNodesPendingRemoval.has(j.domNode),K&&this.transactionNodesPendingRemoval.delete(j.domNode);else{const ie=(0,X.$)(".monaco-list-row"),_e=this.getRenderer(P).renderTemplate(ie);j={domNode:ie,templateId:P,templateData:_e}}return{row:j,isReusingConnectedDomNode:K}}release(P){P&&this.releaseRow(P)}transact(P){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{P()}finally{for(const j of this.transactionNodesPendingRemoval)this.doRemoveNode(j);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(P){const{domNode:j,templateId:K}=P;j&&(this.inTransaction?this.transactionNodesPendingRemoval.add(j):this.doRemoveNode(j)),this.getTemplateCache(K).push(P)}doRemoveNode(P){P.classList.remove("scrolling"),R(P)}getTemplateCache(P){let j=this.cache.get(P);return j||(j=[],this.cache.set(P,j)),j}dispose(){this.cache.forEach((P,j)=>{for(const K of P)this.getRenderer(j).disposeTemplate(K.templateData),K.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(P){const j=this.renderers.get(P);if(!j)throw new Error(`No renderer found for ${P}`);return j}}var F=c(35541),Y=function(H,P,j,K){var ie=arguments.length,ce=ie<3?P:K===null?K=Object.getOwnPropertyDescriptor(P,j):K,_e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ce=Reflect.decorate(H,P,j,K);else for(var Ee=H.length-1;Ee>=0;Ee--)(_e=H[Ee])&&(ce=(ie<3?_e(ce):ie>3?_e(P,j,ce):_e(P,j))||ce);return ie>3&&ce&&Object.defineProperty(P,j,ce),ce};const G={CurrentDragAndDropData:void 0},Z={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(H){return[H]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class ne{constructor(P){this.elements=P}update(){}getData(){return this.elements}}class ${constructor(P){this.elements=P}update(){}getData(){return this.elements}}class J{constructor(){this.types=[],this.files=[]}update(P){if(P.types&&this.types.splice(0,this.types.length,...P.types),P.files){this.files.splice(0,this.files.length);for(let j=0;j<P.files.length;j++){const K=P.files.item(j);K&&(K.size||K.type)&&this.files.push(K)}}}getData(){return{types:this.types,files:this.files}}}function se(H,P){return Array.isArray(H)&&Array.isArray(P)?(0,T.fS)(H,P):H===P}class re{constructor(P){P!=null&&P.getSetSize?this.getSetSize=P.getSetSize.bind(P):this.getSetSize=(j,K,ie)=>ie,P!=null&&P.getPosInSet?this.getPosInSet=P.getPosInSet.bind(P):this.getPosInSet=(j,K)=>K+1,P!=null&&P.getRole?this.getRole=P.getRole.bind(P):this.getRole=j=>"listitem",P!=null&&P.isChecked?this.isChecked=P.isChecked.bind(P):this.isChecked=j=>{}}}class he{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(P){if(P!==this._horizontalScrolling){if(P&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=P,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const j of this.items)this.measureItemWidth(j);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,X.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(P,j,K,ie=Z){var ce,_e,Ee,Ce,pe,xe,x,rt,Xe,Ze,lt,ut,ct;if(this.virtualDelegate=j,this.domId=`list_id_${++he.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new M.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=b.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=b.JT.None,this.onDragLeaveTimeout=b.JT.None,this.disposables=new b.SL,this._onDidChangeContentHeight=new y.Q5,this._onDidChangeContentWidth=new y.Q5,this.onDidChangeContentHeight=y.ju.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,ie.horizontalScrolling&&ie.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new O((ce=ie.paddingTop)!==null&&ce!==void 0?ce:0);for(const Dt of K)this.renderers.set(Dt.templateId,Dt);this.cache=this.disposables.add(new V(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof ie.mouseSupport=="boolean"?ie.mouseSupport:!0),this._horizontalScrolling=(_e=ie.horizontalScrolling)!==null&&_e!==void 0?_e:Z.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof ie.paddingBottom=="undefined"?0:ie.paddingBottom,this.accessibilityProvider=new re(ie.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((Ee=ie.transformOptimization)!==null&&Ee!==void 0?Ee:Z.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(k.o.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new S.Rm({forceIntegerValues:!0,smoothScrollDuration:(Ce=ie.smoothScrolling)!==null&&Ce!==void 0&&Ce?125:0,scheduleAtNextAnimationFrame:Dt=>(0,X.jL)((0,X.Jj)(this.domNode),Dt)})),this.scrollableElement=this.disposables.add(new L.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:(pe=ie.alwaysConsumeMouseWheel)!==null&&pe!==void 0?pe:Z.alwaysConsumeMouseWheel,horizontal:1,vertical:(xe=ie.verticalScrollMode)!==null&&xe!==void 0?xe:Z.verticalScrollMode,useShadows:(x=ie.useShadows)!==null&&x!==void 0?x:Z.useShadows,mouseWheelScrollSensitivity:ie.mouseWheelScrollSensitivity,fastScrollSensitivity:ie.fastScrollSensitivity,scrollByPage:ie.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),P.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,X.nm)(this.rowsContainer,k.t.Change,Dt=>this.onTouchChange(Dt))),this.disposables.add((0,X.nm)(this.scrollableElement.getDomNode(),"scroll",Dt=>Dt.target.scrollTop=0)),this.disposables.add((0,X.nm)(this.domNode,"dragover",Dt=>this.onDragOver(this.toDragEvent(Dt)))),this.disposables.add((0,X.nm)(this.domNode,"drop",Dt=>this.onDrop(this.toDragEvent(Dt)))),this.disposables.add((0,X.nm)(this.domNode,"dragleave",Dt=>this.onDragLeave(this.toDragEvent(Dt)))),this.disposables.add((0,X.nm)(this.domNode,"dragend",Dt=>this.onDragEnd(Dt))),this.setRowLineHeight=(rt=ie.setRowLineHeight)!==null&&rt!==void 0?rt:Z.setRowLineHeight,this.setRowHeight=(Xe=ie.setRowHeight)!==null&&Xe!==void 0?Xe:Z.setRowHeight,this.supportDynamicHeights=(Ze=ie.supportDynamicHeights)!==null&&Ze!==void 0?Ze:Z.supportDynamicHeights,this.dnd=(lt=ie.dnd)!==null&&lt!==void 0?lt:this.disposables.add(Z.dnd),this.layout((ut=ie.initialSize)===null||ut===void 0?void 0:ut.height,(ct=ie.initialSize)===null||ct===void 0?void 0:ct.width)}updateOptions(P){P.paddingBottom!==void 0&&(this.paddingBottom=P.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),P.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(P.smoothScrolling?125:0),P.horizontalScrolling!==void 0&&(this.horizontalScrolling=P.horizontalScrolling);let j;if(P.scrollByPage!==void 0&&(j=sn(Di({},j!=null?j:{}),{scrollByPage:P.scrollByPage})),P.mouseWheelScrollSensitivity!==void 0&&(j=sn(Di({},j!=null?j:{}),{mouseWheelScrollSensitivity:P.mouseWheelScrollSensitivity})),P.fastScrollSensitivity!==void 0&&(j=sn(Di({},j!=null?j:{}),{fastScrollSensitivity:P.fastScrollSensitivity})),j&&this.scrollableElement.updateOptions(j),P.paddingTop!==void 0&&P.paddingTop!==this.rangeMap.paddingTop){const K=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),ie=P.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=P.paddingTop,this.render(K,Math.max(0,this.lastRenderTop+ie),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}splice(P,j,K=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(P,j,K)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(P,j,K=[]){const ie=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),ce={start:P,end:P+j},_e=C.e.intersect(ie,ce),Ee=new Map;for(let st=_e.end-1;st>=_e.start;st--){const Tt=this.items[st];if(Tt.dragStartDisposable.dispose(),Tt.checkedDisposable.dispose(),Tt.row){let xt=Ee.get(Tt.templateId);xt||(xt=[],Ee.set(Tt.templateId,xt));const vt=this.renderers.get(Tt.templateId);vt&&vt.disposeElement&&vt.disposeElement(Tt.element,st,Tt.row.templateData,Tt.size),xt.push(Tt.row)}Tt.row=null}const Ce={start:P+j,end:this.items.length},pe=C.e.intersect(Ce,ie),xe=C.e.relativeComplement(Ce,ie),x=K.map(st=>({id:String(this.itemId++),element:st,templateId:this.virtualDelegate.getTemplateId(st),size:this.virtualDelegate.getHeight(st),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(st),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:b.JT.None,checkedDisposable:b.JT.None}));let rt;P===0&&j>=this.items.length?(this.rangeMap=new O(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,x),rt=this.items,this.items=x):(this.rangeMap.splice(P,j,x),rt=this.items.splice(P,j,...x));const Xe=K.length-j,Ze=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),lt=a(pe,Xe),ut=C.e.intersect(Ze,lt);for(let st=ut.start;st<ut.end;st++)this.updateItemInDOM(this.items[st],st);const ct=C.e.relativeComplement(lt,Ze);for(const st of ct)for(let Tt=st.start;Tt<st.end;Tt++)this.removeItemFromDOM(Tt);const He=xe.map(st=>a(st,Xe)),gt=[{start:P,end:P+K.length},...He].map(st=>C.e.intersect(Ze,st)),Re=this.getNextToLastElement(gt);for(const st of gt)for(let Tt=st.start;Tt<st.end;Tt++){const xt=this.items[Tt],vt=Ee.get(xt.templateId),we=vt==null?void 0:vt.pop();this.insertItemInDOM(Tt,Re,we)}for(const st of Ee.values())for(const Tt of st)this.cache.release(Tt);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),rt.map(st=>st.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,X.jL)((0,X.Jj)(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let P=0;for(const j of this.items)typeof j.width!="undefined"&&(P=Math.max(P,j.width));this.scrollWidth=P,this.scrollableElement.setScrollDimensions({scrollWidth:P===0?0:P+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const P of this.items)P.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}element(P){return this.items[P].element}indexOf(P){return this.items.findIndex(j=>j.element===P)}domElement(P){const j=this.items[P].row;return j&&j.domNode}elementHeight(P){return this.items[P].size}elementTop(P){return this.rangeMap.positionAt(P)}indexAt(P){return this.rangeMap.indexAt(P)}indexAfter(P){return this.rangeMap.indexAfter(P)}layout(P,j){const K={height:typeof P=="number"?P:(0,X.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,K.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(K),typeof j!="undefined"&&(this.renderWidth=j,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof j=="number"?j:(0,X.FK)(this.domNode)})}render(P,j,K,ie,ce,_e=!1){const Ee=this.getRenderRange(j,K),Ce=C.e.relativeComplement(Ee,P),pe=C.e.relativeComplement(P,Ee),xe=this.getNextToLastElement(Ce);if(_e){const x=C.e.intersect(P,Ee);for(let rt=x.start;rt<x.end;rt++)this.updateItemInDOM(this.items[rt],rt)}this.cache.transact(()=>{for(const x of pe)for(let rt=x.start;rt<x.end;rt++)this.removeItemFromDOM(rt);for(const x of Ce)for(let rt=x.start;rt<x.end;rt++)this.insertItemInDOM(rt,xe)}),ie!==void 0&&(this.rowsContainer.style.left=`-${ie}px`),this.rowsContainer.style.top=`-${j}px`,this.horizontalScrolling&&ce!==void 0&&(this.rowsContainer.style.width=`${Math.max(ce,this.renderWidth)}px`),this.lastRenderTop=j,this.lastRenderHeight=K}insertItemInDOM(P,j,K){const ie=this.items[P];let ce=!1;if(!ie.row)if(K)ie.row=K;else{const xe=this.cache.alloc(ie.templateId);ie.row=xe.row,ce=xe.isReusingConnectedDomNode}const _e=this.accessibilityProvider.getRole(ie.element)||"listitem";ie.row.domNode.setAttribute("role",_e);const Ee=this.accessibilityProvider.isChecked(ie.element);if(typeof Ee=="boolean")ie.row.domNode.setAttribute("aria-checked",String(!!Ee));else if(Ee){const xe=x=>ie.row.domNode.setAttribute("aria-checked",String(!!x));xe(Ee.value),ie.checkedDisposable=Ee.onDidChange(xe)}(ce||!ie.row.domNode.parentElement)&&(j?this.rowsContainer.insertBefore(ie.row.domNode,j):this.rowsContainer.appendChild(ie.row.domNode)),this.updateItemInDOM(ie,P);const Ce=this.renderers.get(ie.templateId);if(!Ce)throw new Error(`No renderer found for template id ${ie.templateId}`);Ce==null||Ce.renderElement(ie.element,P,ie.row.templateData,ie.size);const pe=this.dnd.getDragURI(ie.element);ie.dragStartDisposable.dispose(),ie.row.domNode.draggable=!!pe,pe&&(ie.dragStartDisposable=(0,X.nm)(ie.row.domNode,"dragstart",xe=>this.onDragStart(ie.element,pe,xe))),this.horizontalScrolling&&(this.measureItemWidth(ie),this.eventuallyUpdateScrollWidth())}measureItemWidth(P){if(!P.row||!P.row.domNode)return;P.row.domNode.style.width="fit-content",P.width=(0,X.FK)(P.row.domNode);const j=(0,X.Jj)(P.row.domNode).getComputedStyle(P.row.domNode);j.paddingLeft&&(P.width+=parseFloat(j.paddingLeft)),j.paddingRight&&(P.width+=parseFloat(j.paddingRight)),P.row.domNode.style.width=""}updateItemInDOM(P,j){P.row.domNode.style.top=`${this.elementTop(j)}px`,this.setRowHeight&&(P.row.domNode.style.height=`${P.size}px`),this.setRowLineHeight&&(P.row.domNode.style.lineHeight=`${P.size}px`),P.row.domNode.setAttribute("data-index",`${j}`),P.row.domNode.setAttribute("data-last-element",j===this.length-1?"true":"false"),P.row.domNode.setAttribute("data-parity",j%2===0?"even":"odd"),P.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(P.element,j,this.length))),P.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(P.element,j))),P.row.domNode.setAttribute("id",this.getElementDomId(j)),P.row.domNode.classList.toggle("drop-target",P.dropTarget)}removeItemFromDOM(P){const j=this.items[P];if(j.dragStartDisposable.dispose(),j.checkedDisposable.dispose(),j.row){const K=this.renderers.get(j.templateId);K&&K.disposeElement&&K.disposeElement(j.element,P,j.row.templateData,j.size),this.cache.release(j.row),j.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(P,j){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:P,reuseAnimation:j})}get scrollTop(){return this.getScrollTop()}set scrollTop(P){this.setScrollTop(P)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return y.ju.map(this.disposables.add(new v.Y(this.domNode,"click")).event,P=>this.toMouseEvent(P),this.disposables)}get onMouseDblClick(){return y.ju.map(this.disposables.add(new v.Y(this.domNode,"dblclick")).event,P=>this.toMouseEvent(P),this.disposables)}get onMouseMiddleClick(){return y.ju.filter(y.ju.map(this.disposables.add(new v.Y(this.domNode,"auxclick")).event,P=>this.toMouseEvent(P),this.disposables),P=>P.browserEvent.button===1,this.disposables)}get onMouseDown(){return y.ju.map(this.disposables.add(new v.Y(this.domNode,"mousedown")).event,P=>this.toMouseEvent(P),this.disposables)}get onMouseOver(){return y.ju.map(this.disposables.add(new v.Y(this.domNode,"mouseover")).event,P=>this.toMouseEvent(P),this.disposables)}get onMouseOut(){return y.ju.map(this.disposables.add(new v.Y(this.domNode,"mouseout")).event,P=>this.toMouseEvent(P),this.disposables)}get onContextMenu(){return y.ju.any(y.ju.map(this.disposables.add(new v.Y(this.domNode,"contextmenu")).event,P=>this.toMouseEvent(P),this.disposables),y.ju.map(this.disposables.add(new v.Y(this.domNode,k.t.Contextmenu)).event,P=>this.toGestureEvent(P),this.disposables))}get onTouchStart(){return y.ju.map(this.disposables.add(new v.Y(this.domNode,"touchstart")).event,P=>this.toTouchEvent(P),this.disposables)}get onTap(){return y.ju.map(this.disposables.add(new v.Y(this.rowsContainer,k.t.Tap)).event,P=>this.toGestureEvent(P),this.disposables)}toMouseEvent(P){const j=this.getItemIndexFromEventTarget(P.target||null),K=typeof j=="undefined"?void 0:this.items[j],ie=K&&K.element;return{browserEvent:P,index:j,element:ie}}toTouchEvent(P){const j=this.getItemIndexFromEventTarget(P.target||null),K=typeof j=="undefined"?void 0:this.items[j],ie=K&&K.element;return{browserEvent:P,index:j,element:ie}}toGestureEvent(P){const j=this.getItemIndexFromEventTarget(P.initialTarget||null),K=typeof j=="undefined"?void 0:this.items[j],ie=K&&K.element;return{browserEvent:P,index:j,element:ie}}toDragEvent(P){const j=this.getItemIndexFromEventTarget(P.target||null),K=typeof j=="undefined"?void 0:this.items[j],ie=K&&K.element;return{browserEvent:P,index:j,element:ie}}onScroll(P){try{const j=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(j,P.scrollTop,P.height,P.scrollLeft,P.scrollWidth),this.supportDynamicHeights&&this._rerender(P.scrollTop,P.height,P.inSmoothScrolling)}catch(j){throw console.error("Got bad scroll event:",P),j}}onTouchChange(P){P.preventDefault(),P.stopPropagation(),this.scrollTop-=P.translationY}onDragStart(P,j,K){var ie,ce;if(!K.dataTransfer)return;const _e=this.dnd.getDragElements(P);if(K.dataTransfer.effectAllowed="copyMove",K.dataTransfer.setData(D.g.TEXT,j),K.dataTransfer.setDragImage){let Ee;this.dnd.getDragLabel&&(Ee=this.dnd.getDragLabel(_e,K)),typeof Ee=="undefined"&&(Ee=String(_e.length));const Ce=(0,X.$)(".monaco-drag-image");Ce.textContent=Ee;const xe=(x=>{for(;x&&!x.classList.contains("monaco-workbench");)x=x.parentElement;return x||this.domNode.ownerDocument})(this.domNode);xe.appendChild(Ce),K.dataTransfer.setDragImage(Ce,-10,-10),setTimeout(()=>xe.removeChild(Ce),0)}this.domNode.classList.add("dragging"),this.currentDragData=new ne(_e),G.CurrentDragAndDropData=new $(_e),(ce=(ie=this.dnd).onDragStart)===null||ce===void 0||ce.call(ie,this.currentDragData,K)}onDragOver(P){var j;if(P.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),G.CurrentDragAndDropData&&G.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(P.browserEvent),!P.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(G.CurrentDragAndDropData)this.currentDragData=G.CurrentDragAndDropData;else{if(!P.browserEvent.dataTransfer.types)return!1;this.currentDragData=new J}const K=this.dnd.onDragOver(this.currentDragData,P.element,P.index,P.browserEvent);if(this.canDrop=typeof K=="boolean"?K:K.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;P.browserEvent.dataTransfer.dropEffect=typeof K!="boolean"&&K.effect===0?"copy":"move";let ie;if(typeof K!="boolean"&&K.feedback?ie=K.feedback:typeof P.index=="undefined"?ie=[-1]:ie=[P.index],ie=(0,T.EB)(ie).filter(ce=>ce>=-1&&ce<this.length).sort((ce,_e)=>ce-_e),ie=ie[0]===-1?[-1]:ie,se(this.currentDragFeedback,ie))return!0;if(this.currentDragFeedback=ie,this.currentDragFeedbackDisposable.dispose(),ie[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,b.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const ce of ie){const _e=this.items[ce];_e.dropTarget=!0,(j=_e.row)===null||j===void 0||j.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,b.OF)(()=>{var ce;for(const _e of ie){const Ee=this.items[_e];Ee.dropTarget=!1,(ce=Ee.row)===null||ce===void 0||ce.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(P){var j,K;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,M.Vg)(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&((K=(j=this.dnd).onDragLeave)===null||K===void 0||K.call(j,this.currentDragData,P.element,P.index,P.browserEvent))}onDrop(P){if(!this.canDrop)return;const j=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,G.CurrentDragAndDropData=void 0,!(!j||!P.browserEvent.dataTransfer)&&(P.browserEvent.preventDefault(),j.update(P.browserEvent.dataTransfer),this.dnd.drop(j,P.element,P.index,P.browserEvent))}onDragEnd(P){var j,K;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,G.CurrentDragAndDropData=void 0,(K=(j=this.dnd).onDragEnd)===null||K===void 0||K.call(j,P)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=b.JT.None}setupDragAndDropScrollTopAnimation(P){if(!this.dragOverAnimationDisposable){const j=(0,X.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,X.jt)((0,X.Jj)(this.domNode),this.animateDragAndDropScrollTop.bind(this,j))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,M.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=P.pageY}animateDragAndDropScrollTop(P){if(this.dragOverMouseY===void 0)return;const j=this.dragOverMouseY-P,K=this.renderHeight-35;j<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(j-35))):j>K&&(this.scrollTop+=Math.min(14,Math.floor(.3*(j-K))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(P){const j=this.scrollableElement.getDomNode();let K=P;for(;K instanceof HTMLElement&&K!==this.rowsContainer&&j.contains(K);){const ie=K.getAttribute("data-index");if(ie){const ce=Number(ie);if(!isNaN(ce))return ce}K=K.parentElement}}getRenderRange(P,j){return{start:this.rangeMap.indexAt(P),end:this.rangeMap.indexAfter(P+j-1)}}_rerender(P,j,K){const ie=this.getRenderRange(P,j);let ce,_e;P===this.elementTop(ie.start)?(ce=ie.start,_e=0):ie.end-ie.start>1&&(ce=ie.start+1,_e=this.elementTop(ce)-P);let Ee=0;for(;;){const Ce=this.getRenderRange(P,j);let pe=!1;for(let xe=Ce.start;xe<Ce.end;xe++){const x=this.probeDynamicHeight(xe);x!==0&&this.rangeMap.splice(xe,1,[this.items[xe]]),Ee+=x,pe=pe||x!==0}if(!pe){Ee!==0&&this.eventuallyUpdateScrollDimensions();const xe=C.e.relativeComplement(ie,Ce);for(const rt of xe)for(let Xe=rt.start;Xe<rt.end;Xe++)this.items[Xe].row&&this.removeItemFromDOM(Xe);const x=C.e.relativeComplement(Ce,ie);for(const rt of x)for(let Xe=rt.start;Xe<rt.end;Xe++){const Ze=Xe+1,lt=Ze<this.items.length?this.items[Ze].row:null,ut=lt?lt.domNode:null;this.insertItemInDOM(Xe,ut)}for(let rt=Ce.start;rt<Ce.end;rt++)this.items[rt].row&&this.updateItemInDOM(this.items[rt],rt);if(typeof ce=="number"){const rt=this.scrollable.getFutureScrollPosition().scrollTop-P,Xe=this.elementTop(ce)-_e+rt;this.setScrollTop(Xe,K)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(P){var j,K,ie;const ce=this.items[P];if(this.virtualDelegate.getDynamicHeight){const pe=this.virtualDelegate.getDynamicHeight(ce.element);if(pe!==null){const xe=ce.size;return ce.size=pe,ce.lastDynamicHeightWidth=this.renderWidth,pe-xe}}if(!ce.hasDynamicHeight||ce.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(ce.element))return 0;const _e=ce.size;if(ce.row)return ce.row.domNode.style.height="",ce.size=ce.row.domNode.offsetHeight,ce.lastDynamicHeightWidth=this.renderWidth,ce.size-_e;const{row:Ee}=this.cache.alloc(ce.templateId);Ee.domNode.style.height="",this.rowsContainer.appendChild(Ee.domNode);const Ce=this.renderers.get(ce.templateId);if(!Ce)throw new F.he("Missing renderer for templateId: "+ce.templateId);return Ce.renderElement(ce.element,P,Ee.templateData,void 0),ce.size=Ee.domNode.offsetHeight,(j=Ce.disposeElement)===null||j===void 0||j.call(Ce,ce.element,P,Ee.templateData,void 0),(ie=(K=this.virtualDelegate).setDynamicHeight)===null||ie===void 0||ie.call(K,ce.element,ce.size),ce.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(Ee.domNode),this.cache.release(Ee),ce.size-_e}getNextToLastElement(P){const j=P[P.length-1];if(!j)return null;const K=this.items[j.end];return!K||!K.row?null:K.row.domNode}getElementDomId(P){return`${this.domId}_${P}`}dispose(){var P,j;for(const K of this.items)if(K.dragStartDisposable.dispose(),K.checkedDisposable.dispose(),K.row){const ie=this.renderers.get(K.row.templateId);ie&&((P=ie.disposeElement)===null||P===void 0||P.call(ie,K.element,-1,K.row.templateData,void 0),ie.disposeTemplate(K.row.templateData))}this.items=[],this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(j=this.dragOverAnimationDisposable)===null||j===void 0||j.dispose(),this.disposables.dispose()}}he.InstanceCount=0,Y([B.H],he.prototype,"onMouseClick",null),Y([B.H],he.prototype,"onMouseDblClick",null),Y([B.H],he.prototype,"onMouseMiddleClick",null),Y([B.H],he.prototype,"onMouseDown",null),Y([B.H],he.prototype,"onMouseOver",null),Y([B.H],he.prototype,"onMouseOut",null),Y([B.H],he.prototype,"onContextMenu",null),Y([B.H],he.prototype,"onTouchStart",null),Y([B.H],he.prototype,"onTap",null)},50825:function(Gt,ze,c){"use strict";c.d(ze,{wD:function(){return Ze},aV:function(){return xt},sx:function(){return Xe},AA:function(){return ie},dk:function(){return H},iK:function(){return j},cK:function(){return J},$B:function(){return he},hD:function(){return re},wn:function(){return xe},Zo:function(){return pe},Et:function(){return P},uZ:function(){return lt}});var D=c(97480),X=c(80707),v=c(89056),k=c(84702),L=c(1891);class T{constructor(we){this.spliceables=we}splice(we,pt,Mt){this.spliceables.forEach(Ft=>Ft.splice(we,pt,Mt))}}var M=c(54888),B=c(96925),y=c(72225),b=c(62735),C=c(46328),S=c(27469),_=c(83845),a=c(79664),u=c(43998),N=c(22968),O=c(22594);class R extends Error{constructor(we,pt){super(`ListError [${we}] ${pt}`)}}var V=c(17187),F=c(9470),Y=function(vt,we,pt,Mt){var Ft=arguments.length,Xt=Ft<3?we:Mt===null?Mt=Object.getOwnPropertyDescriptor(we,pt):Mt,li;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Xt=Reflect.decorate(vt,we,pt,Mt);else for(var Yt=vt.length-1;Yt>=0;Yt--)(li=vt[Yt])&&(Xt=(Ft<3?li(Xt):Ft>3?li(we,pt,Xt):li(we,pt))||Xt);return Ft>3&&Xt&&Object.defineProperty(we,pt,Xt),Xt};class G{constructor(we){this.trait=we,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(we){return we}renderElement(we,pt,Mt){const Ft=this.renderedElements.findIndex(Xt=>Xt.templateData===Mt);if(Ft>=0){const Xt=this.renderedElements[Ft];this.trait.unrender(Mt),Xt.index=pt}else{const Xt={index:pt,templateData:Mt};this.renderedElements.push(Xt)}this.trait.renderIndex(pt,Mt)}splice(we,pt,Mt){const Ft=[];for(const Xt of this.renderedElements)Xt.index<we?Ft.push(Xt):Xt.index>=we+pt&&Ft.push({index:Xt.index+Mt-pt,templateData:Xt.templateData});this.renderedElements=Ft}renderIndexes(we){for(const{index:pt,templateData:Mt}of this.renderedElements)we.indexOf(pt)>-1&&this.trait.renderIndex(pt,Mt)}disposeTemplate(we){const pt=this.renderedElements.findIndex(Mt=>Mt.templateData===we);pt<0||this.renderedElements.splice(pt,1)}}class Z{get name(){return this._trait}get renderer(){return new G(this)}constructor(we){this._trait=we,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new C.Q5,this.onChange=this._onChange.event}splice(we,pt,Mt){var Ft;pt=Math.max(0,Math.min(pt,this.length-we));const Xt=Mt.length-pt,li=we+pt,Yt=[];let Ne=0;for(;Ne<this.sortedIndexes.length&&this.sortedIndexes[Ne]<we;)Yt.push(this.sortedIndexes[Ne++]);for(let De=0;De<Mt.length;De++)Mt[De]&&Yt.push(De+we);for(;Ne<this.sortedIndexes.length&&this.sortedIndexes[Ne]>=li;)Yt.push(this.sortedIndexes[Ne++]+Xt);const yt=this.length+Xt;if(this.sortedIndexes.length>0&&Yt.length===0&&yt>0){const De=(Ft=this.sortedIndexes.find(di=>di>=we))!==null&&Ft!==void 0?Ft:yt-1;Yt.push(Math.min(De,yt-1))}this.renderer.splice(we,pt,Mt.length),this._set(Yt,Yt),this.length=yt}renderIndex(we,pt){pt.classList.toggle(this._trait,this.contains(we))}unrender(we){we.classList.remove(this._trait)}set(we,pt){return this._set(we,[...we].sort(gt),pt)}_set(we,pt,Mt){const Ft=this.indexes,Xt=this.sortedIndexes;this.indexes=we,this.sortedIndexes=pt;const li=He(Xt,we);return this.renderer.renderIndexes(li),this._onChange.fire({indexes:we,browserEvent:Mt}),Ft}get(){return this.indexes}contains(we){return(0,M.ry)(this.sortedIndexes,we,gt)>=0}dispose(){(0,_.B9)(this._onChange)}}Y([b.H],Z.prototype,"renderer",null);class ne extends Z{constructor(we){super("selected"),this.setAriaSelected=we}renderIndex(we,pt){super.renderIndex(we,pt),this.setAriaSelected&&(this.contains(we)?pt.setAttribute("aria-selected","true"):pt.setAttribute("aria-selected","false"))}}class ${constructor(we,pt,Mt){this.trait=we,this.view=pt,this.identityProvider=Mt}splice(we,pt,Mt){if(!this.identityProvider)return this.trait.splice(we,pt,new Array(Mt.length).fill(!1));const Ft=this.trait.get().map(Yt=>this.identityProvider.getId(this.view.element(Yt)).toString());if(Ft.length===0)return this.trait.splice(we,pt,new Array(Mt.length).fill(!1));const Xt=new Set(Ft),li=Mt.map(Yt=>Xt.has(this.identityProvider.getId(Yt).toString()));this.trait.splice(we,pt,li)}}function J(vt){return vt.tagName==="INPUT"||vt.tagName==="TEXTAREA"}function se(vt,we){return vt.classList.contains(we)?!0:vt.classList.contains("monaco-list")||!vt.parentElement?!1:se(vt.parentElement,we)}function re(vt){return se(vt,"monaco-editor")}function he(vt){return se(vt,"monaco-custom-toggle")}function H(vt){return se(vt,"action-item")}function P(vt){return se(vt,"monaco-tree-sticky-row")}function j(vt){return vt.tagName==="A"&&vt.classList.contains("monaco-button")||vt.tagName==="DIV"&&vt.classList.contains("monaco-button-dropdown")?!0:vt.classList.contains("monaco-list")||!vt.parentElement?!1:j(vt.parentElement)}class K{get onKeyDown(){return C.ju.chain(this.disposables.add(new X.Y(this.view.domNode,"keydown")).event,we=>we.filter(pt=>!J(pt.target)).map(pt=>new v.y(pt)))}constructor(we,pt,Mt){this.list=we,this.view=pt,this.disposables=new _.SL,this.multipleSelectionDisposables=new _.SL,this.multipleSelectionSupport=Mt.multipleSelectionSupport,this.disposables.add(this.onKeyDown(Ft=>{switch(Ft.keyCode){case 3:return this.onEnter(Ft);case 16:return this.onUpArrow(Ft);case 18:return this.onDownArrow(Ft);case 11:return this.onPageUpArrow(Ft);case 12:return this.onPageDownArrow(Ft);case 9:return this.onEscape(Ft);case 31:this.multipleSelectionSupport&&(u.dz?Ft.metaKey:Ft.ctrlKey)&&this.onCtrlA(Ft)}}))}updateOptions(we){we.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=we.multipleSelectionSupport)}onEnter(we){we.preventDefault(),we.stopPropagation(),this.list.setSelection(this.list.getFocus(),we.browserEvent)}onUpArrow(we){we.preventDefault(),we.stopPropagation(),this.list.focusPrevious(1,!1,we.browserEvent);const pt=this.list.getFocus()[0];this.list.setAnchor(pt),this.list.reveal(pt),this.view.domNode.focus()}onDownArrow(we){we.preventDefault(),we.stopPropagation(),this.list.focusNext(1,!1,we.browserEvent);const pt=this.list.getFocus()[0];this.list.setAnchor(pt),this.list.reveal(pt),this.view.domNode.focus()}onPageUpArrow(we){we.preventDefault(),we.stopPropagation(),this.list.focusPreviousPage(we.browserEvent);const pt=this.list.getFocus()[0];this.list.setAnchor(pt),this.list.reveal(pt),this.view.domNode.focus()}onPageDownArrow(we){we.preventDefault(),we.stopPropagation(),this.list.focusNextPage(we.browserEvent);const pt=this.list.getFocus()[0];this.list.setAnchor(pt),this.list.reveal(pt),this.view.domNode.focus()}onCtrlA(we){we.preventDefault(),we.stopPropagation(),this.list.setSelection((0,M.w6)(this.list.length),we.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(we){this.list.getSelection().length&&(we.preventDefault(),we.stopPropagation(),this.list.setSelection([],we.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Y([b.H],K.prototype,"onKeyDown",null);var ie;(function(vt){vt[vt.Automatic=0]="Automatic",vt[vt.Trigger=1]="Trigger"})(ie||(ie={}));var ce;(function(vt){vt[vt.Idle=0]="Idle",vt[vt.Typing=1]="Typing"})(ce||(ce={}));const _e=new class{mightProducePrintableCharacter(vt){return vt.ctrlKey||vt.metaKey||vt.altKey?!1:vt.keyCode>=31&&vt.keyCode<=56||vt.keyCode>=21&&vt.keyCode<=30||vt.keyCode>=98&&vt.keyCode<=107||vt.keyCode>=85&&vt.keyCode<=95}};class Ee{constructor(we,pt,Mt,Ft,Xt){this.list=we,this.view=pt,this.keyboardNavigationLabelProvider=Mt,this.keyboardNavigationEventFilter=Ft,this.delegate=Xt,this.enabled=!1,this.state=ce.Idle,this.mode=ie.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new _.SL,this.disposables=new _.SL,this.updateOptions(we.options)}updateOptions(we){var pt,Mt;!((pt=we.typeNavigationEnabled)!==null&&pt!==void 0)||pt?this.enable():this.disable(),this.mode=(Mt=we.typeNavigationMode)!==null&&Mt!==void 0?Mt:ie.Automatic}enable(){if(this.enabled)return;let we=!1;const pt=C.ju.chain(this.enabledDisposables.add(new X.Y(this.view.domNode,"keydown")).event,Xt=>Xt.filter(li=>!J(li.target)).filter(()=>this.mode===ie.Automatic||this.triggered).map(li=>new v.y(li)).filter(li=>we||this.keyboardNavigationEventFilter(li)).filter(li=>this.delegate.mightProducePrintableCharacter(li)).forEach(li=>D.zB.stop(li,!0)).map(li=>li.browserEvent.key)),Mt=C.ju.debounce(pt,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);C.ju.reduce(C.ju.any(pt,Mt),(Xt,li)=>li===null?null:(Xt||"")+li,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),Mt(this.onClear,this,this.enabledDisposables),pt(()=>we=!0,void 0,this.enabledDisposables),Mt(()=>we=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var we;const pt=this.list.getFocus();if(pt.length>0&&pt[0]===this.previouslyFocused){const Mt=(we=this.list.options.accessibilityProvider)===null||we===void 0?void 0:we.getAriaLabel(this.list.element(pt[0]));Mt&&(0,L.Z9)(Mt)}this.previouslyFocused=-1}onInput(we){if(!we){this.state=ce.Idle,this.triggered=!1;return}const pt=this.list.getFocus(),Mt=pt.length>0?pt[0]:0,Ft=this.state===ce.Idle?1:0;this.state=ce.Typing;for(let Xt=0;Xt<this.list.length;Xt++){const li=(Mt+Xt+Ft)%this.list.length,Yt=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(li)),Ne=Yt&&Yt.toString();if(this.list.options.typeNavigationEnabled){if(typeof Ne!="undefined"){if((0,S.Ji)(we,Ne)){this.previouslyFocused=Mt,this.list.setFocus([li]),this.list.reveal(li);return}const yt=(0,S.XU)(we,Ne);if(yt&&yt[0].end-yt[0].start>1&&yt.length===1){this.previouslyFocused=Mt,this.list.setFocus([li]),this.list.reveal(li);return}}}else if(typeof Ne=="undefined"||(0,S.Ji)(we,Ne)){this.previouslyFocused=Mt,this.list.setFocus([li]),this.list.reveal(li);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class Ce{constructor(we,pt){this.list=we,this.view=pt,this.disposables=new _.SL;const Mt=C.ju.chain(this.disposables.add(new X.Y(pt.domNode,"keydown")).event,Xt=>Xt.filter(li=>!J(li.target)).map(li=>new v.y(li)));C.ju.chain(Mt,Xt=>Xt.filter(li=>li.keyCode===2&&!li.ctrlKey&&!li.metaKey&&!li.shiftKey&&!li.altKey))(this.onTab,this,this.disposables)}onTab(we){if(we.target!==this.view.domNode)return;const pt=this.list.getFocus();if(pt.length===0)return;const Mt=this.view.domElement(pt[0]);if(!Mt)return;const Ft=Mt.querySelector("[tabIndex]");if(!Ft||!(Ft instanceof HTMLElement)||Ft.tabIndex===-1)return;const Xt=(0,D.Jj)(Ft).getComputedStyle(Ft);Xt.visibility==="hidden"||Xt.display==="none"||(we.preventDefault(),we.stopPropagation(),Ft.focus())}dispose(){this.disposables.dispose()}}function pe(vt){return u.dz?vt.browserEvent.metaKey:vt.browserEvent.ctrlKey}function xe(vt){return vt.browserEvent.shiftKey}function x(vt){return(0,D.N5)(vt)&&vt.button===2}const rt={isSelectionSingleChangeEvent:pe,isSelectionRangeChangeEvent:xe};class Xe{constructor(we){this.list=we,this.disposables=new _.SL,this._onPointer=new C.Q5,this.onPointer=this._onPointer.event,we.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||rt),this.mouseSupport=typeof we.options.mouseSupport=="undefined"||!!we.options.mouseSupport,this.mouseSupport&&(we.onMouseDown(this.onMouseDown,this,this.disposables),we.onContextMenu(this.onContextMenu,this,this.disposables),we.onMouseDblClick(this.onDoubleClick,this,this.disposables),we.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(k.o.addTarget(we.getHTMLElement()))),C.ju.any(we.onMouseClick,we.onMouseMiddleClick,we.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(we){we.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,we.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||rt))}isSelectionSingleChangeEvent(we){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(we):!1}isSelectionRangeChangeEvent(we){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(we):!1}isSelectionChangeEvent(we){return this.isSelectionSingleChangeEvent(we)||this.isSelectionRangeChangeEvent(we)}onMouseDown(we){re(we.browserEvent.target)||(0,D.vY)()!==we.browserEvent.target&&this.list.domFocus()}onContextMenu(we){if(J(we.browserEvent.target)||re(we.browserEvent.target))return;const pt=typeof we.index=="undefined"?[]:[we.index];this.list.setFocus(pt,we.browserEvent)}onViewPointer(we){if(!this.mouseSupport||J(we.browserEvent.target)||re(we.browserEvent.target)||we.browserEvent.isHandledByList)return;we.browserEvent.isHandledByList=!0;const pt=we.index;if(typeof pt=="undefined"){this.list.setFocus([],we.browserEvent),this.list.setSelection([],we.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(we))return this.changeSelection(we);this.list.setFocus([pt],we.browserEvent),this.list.setAnchor(pt),x(we.browserEvent)||this.list.setSelection([pt],we.browserEvent),this._onPointer.fire(we)}onDoubleClick(we){if(J(we.browserEvent.target)||re(we.browserEvent.target)||this.isSelectionChangeEvent(we)||we.browserEvent.isHandledByList)return;we.browserEvent.isHandledByList=!0;const pt=this.list.getFocus();this.list.setSelection(pt,we.browserEvent)}changeSelection(we){const pt=we.index;let Mt=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(we)){if(typeof Mt=="undefined"){const De=this.list.getFocus()[0];Mt=De!=null?De:pt,this.list.setAnchor(Mt)}const Ft=Math.min(Mt,pt),Xt=Math.max(Mt,pt),li=(0,M.w6)(Ft,Xt+1),Yt=this.list.getSelection(),Ne=ct(He(Yt,[Mt]),Mt);if(Ne.length===0)return;const yt=He(li,Dt(Yt,Ne));this.list.setSelection(yt,we.browserEvent),this.list.setFocus([pt],we.browserEvent)}else if(this.isSelectionSingleChangeEvent(we)){const Ft=this.list.getSelection(),Xt=Ft.filter(li=>li!==pt);this.list.setFocus([pt]),this.list.setAnchor(pt),Ft.length===Xt.length?this.list.setSelection([...Xt,pt],we.browserEvent):this.list.setSelection(Xt,we.browserEvent)}}dispose(){this.disposables.dispose()}}class Ze{constructor(we,pt){this.styleElement=we,this.selectorSuffix=pt}style(we){var pt,Mt;const Ft=this.selectorSuffix&&`.${this.selectorSuffix}`,Xt=[];we.listBackground&&Xt.push(`.monaco-list${Ft} .monaco-list-rows { background: ${we.listBackground}; }`),we.listFocusBackground&&(Xt.push(`.monaco-list${Ft}:focus .monaco-list-row.focused { background-color: ${we.listFocusBackground}; }`),Xt.push(`.monaco-list${Ft}:focus .monaco-list-row.focused:hover { background-color: ${we.listFocusBackground}; }`)),we.listFocusForeground&&Xt.push(`.monaco-list${Ft}:focus .monaco-list-row.focused { color: ${we.listFocusForeground}; }`),we.listActiveSelectionBackground&&(Xt.push(`.monaco-list${Ft}:focus .monaco-list-row.selected { background-color: ${we.listActiveSelectionBackground}; }`),Xt.push(`.monaco-list${Ft}:focus .monaco-list-row.selected:hover { background-color: ${we.listActiveSelectionBackground}; }`)),we.listActiveSelectionForeground&&Xt.push(`.monaco-list${Ft}:focus .monaco-list-row.selected { color: ${we.listActiveSelectionForeground}; }`),we.listActiveSelectionIconForeground&&Xt.push(`.monaco-list${Ft}:focus .monaco-list-row.selected .codicon { color: ${we.listActiveSelectionIconForeground}; }`),we.listFocusAndSelectionBackground&&Xt.push(`
				.monaco-drag-image,
				.monaco-list${Ft}:focus .monaco-list-row.selected.focused { background-color: ${we.listFocusAndSelectionBackground}; }
			`),we.listFocusAndSelectionForeground&&Xt.push(`
				.monaco-drag-image,
				.monaco-list${Ft}:focus .monaco-list-row.selected.focused { color: ${we.listFocusAndSelectionForeground}; }
			`),we.listInactiveFocusForeground&&(Xt.push(`.monaco-list${Ft} .monaco-list-row.focused { color:  ${we.listInactiveFocusForeground}; }`),Xt.push(`.monaco-list${Ft} .monaco-list-row.focused:hover { color:  ${we.listInactiveFocusForeground}; }`)),we.listInactiveSelectionIconForeground&&Xt.push(`.monaco-list${Ft} .monaco-list-row.focused .codicon { color:  ${we.listInactiveSelectionIconForeground}; }`),we.listInactiveFocusBackground&&(Xt.push(`.monaco-list${Ft} .monaco-list-row.focused { background-color:  ${we.listInactiveFocusBackground}; }`),Xt.push(`.monaco-list${Ft} .monaco-list-row.focused:hover { background-color:  ${we.listInactiveFocusBackground}; }`)),we.listInactiveSelectionBackground&&(Xt.push(`.monaco-list${Ft} .monaco-list-row.selected { background-color:  ${we.listInactiveSelectionBackground}; }`),Xt.push(`.monaco-list${Ft} .monaco-list-row.selected:hover { background-color:  ${we.listInactiveSelectionBackground}; }`)),we.listInactiveSelectionForeground&&Xt.push(`.monaco-list${Ft} .monaco-list-row.selected { color: ${we.listInactiveSelectionForeground}; }`),we.listHoverBackground&&Xt.push(`.monaco-list${Ft}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${we.listHoverBackground}; }`),we.listHoverForeground&&Xt.push(`.monaco-list${Ft}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${we.listHoverForeground}; }`);const li=(0,D.XT)(we.listFocusAndSelectionOutline,(0,D.XT)(we.listSelectionOutline,(pt=we.listFocusOutline)!==null&&pt!==void 0?pt:""));li&&Xt.push(`.monaco-list${Ft}:focus .monaco-list-row.focused.selected { outline: 1px solid ${li}; outline-offset: -1px;}`),we.listFocusOutline&&Xt.push(`
				.monaco-drag-image,
				.monaco-list${Ft}:focus .monaco-list-row.focused { outline: 1px solid ${we.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${Ft}.last-focused .monaco-list-row.focused { outline: 1px solid ${we.listFocusOutline}; outline-offset: -1px; }
			`);const Yt=(0,D.XT)(we.listSelectionOutline,(Mt=we.listInactiveFocusOutline)!==null&&Mt!==void 0?Mt:"");Yt&&Xt.push(`.monaco-list${Ft} .monaco-list-row.focused.selected { outline: 1px dotted ${Yt}; outline-offset: -1px; }`),we.listSelectionOutline&&Xt.push(`.monaco-list${Ft} .monaco-list-row.selected { outline: 1px dotted ${we.listSelectionOutline}; outline-offset: -1px; }`),we.listInactiveFocusOutline&&Xt.push(`.monaco-list${Ft} .monaco-list-row.focused { outline: 1px dotted ${we.listInactiveFocusOutline}; outline-offset: -1px; }`),we.listHoverOutline&&Xt.push(`.monaco-list${Ft} .monaco-list-row:hover { outline: 1px dashed ${we.listHoverOutline}; outline-offset: -1px; }`),we.listDropBackground&&Xt.push(`
				.monaco-list${Ft}.drop-target,
				.monaco-list${Ft} .monaco-list-rows.drop-target,
				.monaco-list${Ft} .monaco-list-row.drop-target { background-color: ${we.listDropBackground} !important; color: inherit !important; }
			`),we.tableColumnsBorder&&Xt.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${we.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),we.tableOddRowsBackgroundColor&&Xt.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${we.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=Xt.join(`
`)}}const lt={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropBackground:"#383B3D",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:y.Il.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:y.Il.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:y.Il.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0},ut={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function ct(vt,we){const pt=vt.indexOf(we);if(pt===-1)return[];const Mt=[];let Ft=pt-1;for(;Ft>=0&&vt[Ft]===we-(pt-Ft);)Mt.push(vt[Ft--]);for(Mt.reverse(),Ft=pt;Ft<vt.length&&vt[Ft]===we+(Ft-pt);)Mt.push(vt[Ft++]);return Mt}function He(vt,we){const pt=[];let Mt=0,Ft=0;for(;Mt<vt.length||Ft<we.length;)if(Mt>=vt.length)pt.push(we[Ft++]);else if(Ft>=we.length)pt.push(vt[Mt++]);else if(vt[Mt]===we[Ft]){pt.push(vt[Mt]),Mt++,Ft++;continue}else vt[Mt]<we[Ft]?pt.push(vt[Mt++]):pt.push(we[Ft++]);return pt}function Dt(vt,we){const pt=[];let Mt=0,Ft=0;for(;Mt<vt.length||Ft<we.length;)if(Mt>=vt.length)pt.push(we[Ft++]);else if(Ft>=we.length)pt.push(vt[Mt++]);else if(vt[Mt]===we[Ft]){Mt++,Ft++;continue}else vt[Mt]<we[Ft]?pt.push(vt[Mt++]):Ft++;return pt}const gt=(vt,we)=>vt-we;class Re{constructor(we,pt){this._templateId=we,this.renderers=pt}get templateId(){return this._templateId}renderTemplate(we){return this.renderers.map(pt=>pt.renderTemplate(we))}renderElement(we,pt,Mt,Ft){let Xt=0;for(const li of this.renderers)li.renderElement(we,pt,Mt[Xt++],Ft)}disposeElement(we,pt,Mt,Ft){var Xt;let li=0;for(const Yt of this.renderers)(Xt=Yt.disposeElement)===null||Xt===void 0||Xt.call(Yt,we,pt,Mt[li],Ft),li+=1}disposeTemplate(we){let pt=0;for(const Mt of this.renderers)Mt.disposeTemplate(we[pt++])}}class st{constructor(we){this.accessibilityProvider=we,this.templateId="a18n"}renderTemplate(we){return we}renderElement(we,pt,Mt){const Ft=this.accessibilityProvider.getAriaLabel(we);Ft?Mt.setAttribute("aria-label",Ft):Mt.removeAttribute("aria-label");const Xt=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(we);typeof Xt=="number"?Mt.setAttribute("aria-level",`${Xt}`):Mt.removeAttribute("aria-level")}disposeTemplate(we){}}class Tt{constructor(we,pt){this.list=we,this.dnd=pt}getDragElements(we){const pt=this.list.getSelectedElements();return pt.indexOf(we)>-1?pt:[we]}getDragURI(we){return this.dnd.getDragURI(we)}getDragLabel(we,pt){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(we,pt)}onDragStart(we,pt){var Mt,Ft;(Ft=(Mt=this.dnd).onDragStart)===null||Ft===void 0||Ft.call(Mt,we,pt)}onDragOver(we,pt,Mt,Ft){return this.dnd.onDragOver(we,pt,Mt,Ft)}onDragLeave(we,pt,Mt,Ft){var Xt,li;(li=(Xt=this.dnd).onDragLeave)===null||li===void 0||li.call(Xt,we,pt,Mt,Ft)}onDragEnd(we){var pt,Mt;(Mt=(pt=this.dnd).onDragEnd)===null||Mt===void 0||Mt.call(pt,we)}drop(we,pt,Mt,Ft){this.dnd.drop(we,pt,Mt,Ft)}dispose(){this.dnd.dispose()}}class xt{get onDidChangeFocus(){return C.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),we=>this.toListEvent(we),this.disposables)}get onDidChangeSelection(){return C.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),we=>this.toListEvent(we),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let we=!1;const pt=C.ju.chain(this.disposables.add(new X.Y(this.view.domNode,"keydown")).event,Xt=>Xt.map(li=>new v.y(li)).filter(li=>we=li.keyCode===58||li.shiftKey&&li.keyCode===68).map(li=>D.zB.stop(li,!0)).filter(()=>!1)),Mt=C.ju.chain(this.disposables.add(new X.Y(this.view.domNode,"keyup")).event,Xt=>Xt.forEach(()=>we=!1).map(li=>new v.y(li)).filter(li=>li.keyCode===58||li.shiftKey&&li.keyCode===68).map(li=>D.zB.stop(li,!0)).map(({browserEvent:li})=>{const Yt=this.getFocus(),Ne=Yt.length?Yt[0]:void 0,yt=typeof Ne!="undefined"?this.view.element(Ne):void 0,De=typeof Ne!="undefined"?this.view.domElement(Ne):this.view.domNode;return{index:Ne,element:yt,anchor:De,browserEvent:li}})),Ft=C.ju.chain(this.view.onContextMenu,Xt=>Xt.filter(li=>!we).map(({element:li,index:Yt,browserEvent:Ne})=>({element:li,index:Yt,anchor:new F.n((0,D.Jj)(this.view.domNode),Ne),browserEvent:Ne})));return C.ju.any(pt,Mt,Ft)}get onKeyDown(){return this.disposables.add(new X.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return C.ju.signal(this.disposables.add(new X.Y(this.view.domNode,"focus",!0)).event)}constructor(we,pt,Mt,Ft,Xt=ut){var li,Yt,Ne,yt;this.user=we,this._options=Xt,this.focus=new Z("focused"),this.anchor=new Z("anchor"),this.eventBufferer=new C.E7,this._ariaLabel="",this.disposables=new _.SL,this._onDidDispose=new C.Q5,this.onDidDispose=this._onDidDispose.event;const De=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(li=this._options.accessibilityProvider)===null||li===void 0?void 0:li.getWidgetRole():"list";this.selection=new ne(De!=="listbox");const di=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=Xt.accessibilityProvider,this.accessibilityProvider&&(di.push(new st(this.accessibilityProvider)),(Ne=(Yt=this.accessibilityProvider).onDidChangeActiveDescendant)===null||Ne===void 0||Ne.call(Yt,this.onDidChangeActiveDescendant,this,this.disposables)),Ft=Ft.map($i=>new Re($i.templateId,[...di,$i]));const Ve=sn(Di({},Xt),{dnd:Xt.dnd&&new Tt(this,Xt.dnd)});if(this.view=this.createListView(pt,Mt,Ft,Ve),this.view.domNode.setAttribute("role",De),Xt.styleController)this.styleController=Xt.styleController(this.view.domId);else{const $i=(0,D.dS)(this.view.domNode);this.styleController=new Ze($i,this.view.domId)}if(this.spliceable=new T([new $(this.focus,this.view,Xt.identityProvider),new $(this.selection,this.view,Xt.identityProvider),new $(this.anchor,this.view,Xt.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new Ce(this,this.view)),(typeof Xt.keyboardSupport!="boolean"||Xt.keyboardSupport)&&(this.keyboardController=new K(this,this.view,Xt),this.disposables.add(this.keyboardController)),Xt.keyboardNavigationLabelProvider){const $i=Xt.keyboardNavigationDelegate||_e;this.typeNavigationController=new Ee(this,this.view,Xt.keyboardNavigationLabelProvider,(yt=Xt.keyboardNavigationEventFilter)!==null&&yt!==void 0?yt:()=>!0,$i),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(Xt),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(we,pt,Mt,Ft){return new V.Bv(we,pt,Mt,Ft)}createMouseController(we){return new Xe(this)}updateOptions(we={}){var pt,Mt;this._options=Di(Di({},this._options),we),(pt=this.typeNavigationController)===null||pt===void 0||pt.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(we),(Mt=this.keyboardController)===null||Mt===void 0||Mt.updateOptions(we),this.view.updateOptions(we)}get options(){return this._options}splice(we,pt,Mt=[]){if(we<0||we>this.view.length)throw new R(this.user,`Invalid start index: ${we}`);if(pt<0)throw new R(this.user,`Invalid delete count: ${pt}`);pt===0&&Mt.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(we,pt,Mt))}rerender(){this.view.rerender()}element(we){return this.view.element(we)}indexOf(we){return this.view.indexOf(we)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(we){this.view.setScrollTop(we)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(we){this._ariaLabel=we,this.view.domNode.setAttribute("aria-label",we)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(we,pt){this.view.layout(we,pt)}setSelection(we,pt){for(const Mt of we)if(Mt<0||Mt>=this.length)throw new R(this.user,`Invalid index ${Mt}`);this.selection.set(we,pt)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(we=>this.view.element(we))}setAnchor(we){if(typeof we=="undefined"){this.anchor.set([]);return}if(we<0||we>=this.length)throw new R(this.user,`Invalid index ${we}`);this.anchor.set([we])}getAnchor(){return(0,M.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const we=this.getAnchor();return typeof we=="undefined"?void 0:this.element(we)}setFocus(we,pt){for(const Mt of we)if(Mt<0||Mt>=this.length)throw new R(this.user,`Invalid index ${Mt}`);this.focus.set(we,pt)}focusNext(we=1,pt=!1,Mt,Ft){if(this.length===0)return;const Xt=this.focus.get(),li=this.findNextIndex(Xt.length>0?Xt[0]+we:0,pt,Ft);li>-1&&this.setFocus([li],Mt)}focusPrevious(we=1,pt=!1,Mt,Ft){if(this.length===0)return;const Xt=this.focus.get(),li=this.findPreviousIndex(Xt.length>0?Xt[0]-we:0,pt,Ft);li>-1&&this.setFocus([li],Mt)}focusNextPage(we,pt){return At(this,null,function*(){let Mt=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);Mt=Mt===0?0:Mt-1;const Ft=this.getFocus()[0];if(Ft!==Mt&&(Ft===void 0||Mt>Ft)){const Xt=this.findPreviousIndex(Mt,!1,pt);Xt>-1&&Ft!==Xt?this.setFocus([Xt],we):this.setFocus([Mt],we)}else{const Xt=this.view.getScrollTop();let li=Xt+this.view.renderHeight;Mt>Ft&&(li-=this.view.elementHeight(Mt)),this.view.setScrollTop(li),this.view.getScrollTop()!==Xt&&(this.setFocus([]),yield(0,B.Vs)(0),yield this.focusNextPage(we,pt))}})}focusPreviousPage(we,pt){return At(this,null,function*(){let Mt;const Ft=this.view.getScrollTop();Ft===0?Mt=this.view.indexAt(Ft):Mt=this.view.indexAfter(Ft-1);const Xt=this.getFocus()[0];if(Xt!==Mt&&(Xt===void 0||Xt>=Mt)){const li=this.findNextIndex(Mt,!1,pt);li>-1&&Xt!==li?this.setFocus([li],we):this.setFocus([Mt],we)}else{const li=Ft;this.view.setScrollTop(Ft-this.view.renderHeight),this.view.getScrollTop()!==li&&(this.setFocus([]),yield(0,B.Vs)(0),yield this.focusPreviousPage(we,pt))}})}focusLast(we,pt){if(this.length===0)return;const Mt=this.findPreviousIndex(this.length-1,!1,pt);Mt>-1&&this.setFocus([Mt],we)}focusFirst(we,pt){this.focusNth(0,we,pt)}focusNth(we,pt,Mt){if(this.length===0)return;const Ft=this.findNextIndex(we,!1,Mt);Ft>-1&&this.setFocus([Ft],pt)}findNextIndex(we,pt=!1,Mt){for(let Ft=0;Ft<this.length;Ft++){if(we>=this.length&&!pt)return-1;if(we=we%this.length,!Mt||Mt(this.element(we)))return we;we++}return-1}findPreviousIndex(we,pt=!1,Mt){for(let Ft=0;Ft<this.length;Ft++){if(we<0&&!pt)return-1;if(we=(this.length+we%this.length)%this.length,!Mt||Mt(this.element(we)))return we;we--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(we=>this.view.element(we))}reveal(we,pt,Mt=0){if(we<0||we>=this.length)throw new R(this.user,`Invalid index ${we}`);const Ft=this.view.getScrollTop(),Xt=this.view.elementTop(we),li=this.view.elementHeight(we);if((0,N.hj)(pt)){const Yt=li-this.view.renderHeight+Mt;this.view.setScrollTop(Yt*(0,a.uZ)(pt,0,1)+Xt-Mt)}else{const Yt=Xt+li,Ne=Ft+this.view.renderHeight;Xt<Ft+Mt&&Yt>=Ne||(Xt<Ft+Mt||Yt>=Ne&&li>=this.view.renderHeight?this.view.setScrollTop(Xt-Mt):Yt>=Ne&&this.view.setScrollTop(Yt-this.view.renderHeight))}}getRelativeTop(we,pt=0){if(we<0||we>=this.length)throw new R(this.user,`Invalid index ${we}`);const Mt=this.view.getScrollTop(),Ft=this.view.elementTop(we),Xt=this.view.elementHeight(we);if(Ft<Mt+pt||Ft+Xt>Mt+this.view.renderHeight)return null;const li=Xt-this.view.renderHeight+pt;return Math.abs((Mt+pt-Ft)/li)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(we){return this.view.getElementDomId(we)}getElementTop(we){return this.view.elementTop(we)}style(we){this.styleController.style(we)}toListEvent({indexes:we,browserEvent:pt}){return{indexes:we,elements:we.map(Mt=>this.view.element(Mt)),browserEvent:pt}}_onFocusChange(){const we=this.focus.get();this.view.domNode.classList.toggle("element-focused",we.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var we;const pt=this.focus.get();if(pt.length>0){let Mt;!((we=this.accessibilityProvider)===null||we===void 0)&&we.getActiveDescendantId&&(Mt=this.accessibilityProvider.getActiveDescendantId(this.view.element(pt[0]))),this.view.domNode.setAttribute("aria-activedescendant",Mt||this.view.getElementDomId(pt[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const we=this.selection.get();this.view.domNode.classList.toggle("selection-none",we.length===0),this.view.domNode.classList.toggle("selection-single",we.length===1),this.view.domNode.classList.toggle("selection-multiple",we.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Y([b.H],xt.prototype,"onDidChangeFocus",null),Y([b.H],xt.prototype,"onDidChangeSelection",null),Y([b.H],xt.prototype,"onContextMenu",null),Y([b.H],xt.prototype,"onKeyDown",null),Y([b.H],xt.prototype,"onDidFocus",null)},13491:function(Gt,ze,c){"use strict";c.d(ze,{l:function(){return C},g:function(){return F}});var D=c(97480),X=c(80707),v=c(84702),k=c(96925),L=c(62735),T=c(46328),M=c(83845),B=c(43998),y=function(Y,G,Z,ne){var $=arguments.length,J=$<3?G:ne===null?ne=Object.getOwnPropertyDescriptor(G,Z):ne,se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(Y,G,Z,ne);else for(var re=Y.length-1;re>=0;re--)(se=Y[re])&&(J=($<3?se(J):$>3?se(G,Z,J):se(G,Z))||J);return $>3&&J&&Object.defineProperty(G,Z,J),J};const b=!1;var C;(function(Y){Y.North="north",Y.South="south",Y.East="east",Y.West="west"})(C||(C={}));let S=4;const _=new T.Q5;let a=300;const u=new T.Q5;class N{constructor(G){this.el=G,this.disposables=new M.SL}get onPointerMove(){return this.disposables.add(new X.Y((0,D.Jj)(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new X.Y((0,D.Jj)(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}y([L.H],N.prototype,"onPointerMove",null),y([L.H],N.prototype,"onPointerUp",null);class O{get onPointerMove(){return this.disposables.add(new X.Y(this.el,v.t.Change)).event}get onPointerUp(){return this.disposables.add(new X.Y(this.el,v.t.End)).event}constructor(G){this.el=G,this.disposables=new M.SL}dispose(){this.disposables.dispose()}}y([L.H],O.prototype,"onPointerMove",null),y([L.H],O.prototype,"onPointerUp",null);class R{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(G){this.factory=G}dispose(){}}y([L.H],R.prototype,"onPointerMove",null),y([L.H],R.prototype,"onPointerUp",null);const V="pointer-events-disabled";class F extends M.JT{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(G){this._state!==G&&(this.el.classList.toggle("disabled",G===0),this.el.classList.toggle("minimum",G===1),this.el.classList.toggle("maximum",G===2),this._state=G,this.onDidEnablementChange.fire(G))}set orthogonalStartSash(G){if(this._orthogonalStartSash!==G){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),G){const Z=ne=>{this.orthogonalStartDragHandleDisposables.clear(),ne!==0&&(this._orthogonalStartDragHandle=(0,D.R3)(this.el,(0,D.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,M.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new X.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>F.onMouseEnter(G),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new X.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>F.onMouseLeave(G),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(G.onDidEnablementChange.event(Z,this)),Z(G.state)}this._orthogonalStartSash=G}}set orthogonalEndSash(G){if(this._orthogonalEndSash!==G){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),G){const Z=ne=>{this.orthogonalEndDragHandleDisposables.clear(),ne!==0&&(this._orthogonalEndDragHandle=(0,D.R3)(this.el,(0,D.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,M.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new X.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>F.onMouseEnter(G),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new X.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>F.onMouseLeave(G),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(G.onDidEnablementChange.event(Z,this)),Z(G.state)}this._orthogonalEndSash=G}}constructor(G,Z,ne){super(),this.hoverDelay=a,this.hoverDelayer=this._register(new k.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new T.Q5),this._onDidStart=this._register(new T.Q5),this._onDidChange=this._register(new T.Q5),this._onDidReset=this._register(new T.Q5),this._onDidEnd=this._register(new T.Q5),this.orthogonalStartSashDisposables=this._register(new M.SL),this.orthogonalStartDragHandleDisposables=this._register(new M.SL),this.orthogonalEndSashDisposables=this._register(new M.SL),this.orthogonalEndDragHandleDisposables=this._register(new M.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,D.R3)(G,(0,D.$)(".monaco-sash")),ne.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${ne.orthogonalEdge}`),B.dz&&this.el.classList.add("mac");const $=this._register(new X.Y(this.el,"mousedown")).event;this._register($(j=>this.onPointerStart(j,new N(G)),this));const J=this._register(new X.Y(this.el,"dblclick")).event;this._register(J(this.onPointerDoublePress,this));const se=this._register(new X.Y(this.el,"mouseenter")).event;this._register(se(()=>F.onMouseEnter(this)));const re=this._register(new X.Y(this.el,"mouseleave")).event;this._register(re(()=>F.onMouseLeave(this))),this._register(v.o.addTarget(this.el));const he=this._register(new X.Y(this.el,v.t.Start)).event;this._register(he(j=>this.onPointerStart(j,new O(this.el)),this));const H=this._register(new X.Y(this.el,v.t.Tap)).event;let P;this._register(H(j=>{if(P){clearTimeout(P),P=void 0,this.onPointerDoublePress(j);return}clearTimeout(P),P=setTimeout(()=>P=void 0,250)},this)),typeof ne.size=="number"?(this.size=ne.size,ne.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=S,this._register(_.event(j=>{this.size=j,this.layout()}))),this._register(u.event(j=>this.hoverDelay=j)),this.layoutProvider=Z,this.orthogonalStartSash=ne.orthogonalStartSash,this.orthogonalEndSash=ne.orthogonalEndSash,this.orientation=ne.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",b),this.layout()}onPointerStart(G,Z){D.zB.stop(G);let ne=!1;if(!G.__orthogonalSashEvent){const ce=this.getOrthogonalSash(G);ce&&(ne=!0,G.__orthogonalSashEvent=!0,ce.onPointerStart(G,new R(Z)))}if(this.linkedSash&&!G.__linkedSashEvent&&(G.__linkedSashEvent=!0,this.linkedSash.onPointerStart(G,new R(Z))),!this.state)return;const $=this.el.ownerDocument.getElementsByTagName("iframe");for(const ce of $)ce.classList.add(V);const J=G.pageX,se=G.pageY,re=G.altKey,he={startX:J,currentX:J,startY:se,currentY:se,altKey:re};this.el.classList.add("active"),this._onDidStart.fire(he);const H=(0,D.dS)(this.el),P=()=>{let ce="";ne?ce="all-scroll":this.orientation===1?this.state===1?ce="s-resize":this.state===2?ce="n-resize":ce=B.dz?"row-resize":"ns-resize":this.state===1?ce="e-resize":this.state===2?ce="w-resize":ce=B.dz?"col-resize":"ew-resize",H.textContent=`* { cursor: ${ce} !important; }`},j=new M.SL;P(),ne||this.onDidEnablementChange.event(P,null,j);const K=ce=>{D.zB.stop(ce,!1);const _e={startX:J,currentX:ce.pageX,startY:se,currentY:ce.pageY,altKey:re};this._onDidChange.fire(_e)},ie=ce=>{D.zB.stop(ce,!1),this.el.removeChild(H),this.el.classList.remove("active"),this._onDidEnd.fire(),j.dispose();for(const _e of $)_e.classList.remove(V)};Z.onPointerMove(K,null,j),Z.onPointerUp(ie,null,j),j.add(Z)}onPointerDoublePress(G){const Z=this.getOrthogonalSash(G);Z&&Z._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(G,Z=!1){G.el.classList.contains("active")?(G.hoverDelayer.cancel(),G.el.classList.add("hover")):G.hoverDelayer.trigger(()=>G.el.classList.add("hover"),G.hoverDelay).then(void 0,()=>{}),!Z&&G.linkedSash&&F.onMouseEnter(G.linkedSash,!0)}static onMouseLeave(G,Z=!1){G.hoverDelayer.cancel(),G.el.classList.remove("hover"),!Z&&G.linkedSash&&F.onMouseLeave(G.linkedSash,!0)}clearSashHoverState(){F.onMouseLeave(this)}layout(){if(this.orientation===0){const G=this.layoutProvider;this.el.style.left=G.getVerticalSashLeft(this)-this.size/2+"px",G.getVerticalSashTop&&(this.el.style.top=G.getVerticalSashTop(this)+"px"),G.getVerticalSashHeight&&(this.el.style.height=G.getVerticalSashHeight(this)+"px")}else{const G=this.layoutProvider;this.el.style.top=G.getHorizontalSashTop(this)-this.size/2+"px",G.getHorizontalSashLeft&&(this.el.style.left=G.getHorizontalSashLeft(this)+"px"),G.getHorizontalSashWidth&&(this.el.style.width=G.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(G){var Z;const ne=(Z=G.initialTarget)!==null&&Z!==void 0?Z:G.target;if(!(!ne||!(ne instanceof HTMLElement))&&ne.classList.contains("orthogonal-drag-handle"))return ne.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},97918:function(Gt,ze,c){"use strict";c.d(ze,{s$:function(){return H},Io:function(){return J},NB:function(){return re},$Z:function(){return he}});var D=c(51678),X=c(97480),v=c(50165),k=c(9470),L=c(90042),T=c(58595),M=c(96925),B=c(12003);const y=11;class b extends T.${constructor(K){super(),this._onActivate=K.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=K.bgWidth+"px",this.bgDomNode.style.height=K.bgHeight+"px",typeof K.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof K.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof K.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof K.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=K.className,this.domNode.classList.add(...B.k.asClassNameArray(K.icon)),this.domNode.style.position="absolute",this.domNode.style.width=y+"px",this.domNode.style.height=y+"px",typeof K.top!="undefined"&&(this.domNode.style.top=K.top+"px"),typeof K.left!="undefined"&&(this.domNode.style.left=K.left+"px"),typeof K.bottom!="undefined"&&(this.domNode.style.bottom=K.bottom+"px"),typeof K.right!="undefined"&&(this.domNode.style.right=K.right+"px"),this._pointerMoveMonitor=this._register(new L.C),this._register(X.mu(this.bgDomNode,X.tw.POINTER_DOWN,ie=>this._arrowPointerDown(ie))),this._register(X.mu(this.domNode,X.tw.POINTER_DOWN,ie=>this._arrowPointerDown(ie))),this._pointerdownRepeatTimer=this._register(new X.ne),this._pointerdownScheduleRepeatTimer=this._register(new M._F)}_arrowPointerDown(K){if(!K.target||!(K.target instanceof Element))return;const ie=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,X.Jj(K))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(ie,200),this._pointerMoveMonitor.startMonitoring(K.target,K.pointerId,K.buttons,ce=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),K.preventDefault()}}var C=c(83845);class S extends C.JT{constructor(K,ie,ce){super(),this._visibility=K,this._visibleClassName=ie,this._invisibleClassName=ce,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new M._F)}setVisibility(K){this._visibility!==K&&(this._visibility=K,this._updateShouldBeVisible())}setShouldBeVisible(K){this._rawShouldBeVisible=K,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const K=this._applyVisibilitySetting();this._shouldBeVisible!==K&&(this._shouldBeVisible=K,this.ensureVisibility())}setIsNeeded(K){this._isNeeded!==K&&(this._isNeeded=K,this.ensureVisibility())}setDomNode(K){this._domNode=K,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var K;(K=this._domNode)===null||K===void 0||K.setClassName(this._visibleClassName)},0))}_hide(K){var ie;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(ie=this._domNode)===null||ie===void 0||ie.setClassName(this._invisibleClassName+(K?" fade":"")))}}var _=c(43998);const a=140;class u extends T.${constructor(K){super(),this._lazyRender=K.lazyRender,this._host=K.host,this._scrollable=K.scrollable,this._scrollByPage=K.scrollByPage,this._scrollbarState=K.scrollbarState,this._visibilityController=this._register(new S(K.visibility,"visible scrollbar "+K.extraScrollbarClassName,"invisible scrollbar "+K.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new L.C),this._shouldRender=!0,this.domNode=(0,v.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(X.nm(this.domNode.domNode,X.tw.POINTER_DOWN,ie=>this._domNodePointerDown(ie)))}_createArrow(K){const ie=this._register(new b(K));this.domNode.domNode.appendChild(ie.bgDomNode),this.domNode.domNode.appendChild(ie.domNode)}_createSlider(K,ie,ce,_e){this.slider=(0,v.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(K),this.slider.setLeft(ie),typeof ce=="number"&&this.slider.setWidth(ce),typeof _e=="number"&&this.slider.setHeight(_e),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(X.nm(this.slider.domNode,X.tw.POINTER_DOWN,Ee=>{Ee.button===0&&(Ee.preventDefault(),this._sliderPointerDown(Ee))})),this.onclick(this.slider.domNode,Ee=>{Ee.leftButton&&Ee.stopPropagation()})}_onElementSize(K){return this._scrollbarState.setVisibleSize(K)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(K){return this._scrollbarState.setScrollSize(K)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(K){return this._scrollbarState.setScrollPosition(K)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(K){K.target===this.domNode.domNode&&this._onPointerDown(K)}delegatePointerDown(K){const ie=this.domNode.domNode.getClientRects()[0].top,ce=ie+this._scrollbarState.getSliderPosition(),_e=ie+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),Ee=this._sliderPointerPosition(K);ce<=Ee&&Ee<=_e?K.button===0&&(K.preventDefault(),this._sliderPointerDown(K)):this._onPointerDown(K)}_onPointerDown(K){let ie,ce;if(K.target===this.domNode.domNode&&typeof K.offsetX=="number"&&typeof K.offsetY=="number")ie=K.offsetX,ce=K.offsetY;else{const Ee=X.i(this.domNode.domNode);ie=K.pageX-Ee.left,ce=K.pageY-Ee.top}const _e=this._pointerDownRelativePosition(ie,ce);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(_e):this._scrollbarState.getDesiredScrollPositionFromOffset(_e)),K.button===0&&(K.preventDefault(),this._sliderPointerDown(K))}_sliderPointerDown(K){if(!K.target||!(K.target instanceof Element))return;const ie=this._sliderPointerPosition(K),ce=this._sliderOrthogonalPointerPosition(K),_e=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(K.target,K.pointerId,K.buttons,Ee=>{const Ce=this._sliderOrthogonalPointerPosition(Ee),pe=Math.abs(Ce-ce);if(_.ED&&pe>a){this._setDesiredScrollPositionNow(_e.getScrollPosition());return}const x=this._sliderPointerPosition(Ee)-ie;this._setDesiredScrollPositionNow(_e.getDesiredScrollPositionFromDelta(x))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(K){const ie={};this.writeScrollPosition(ie,K),this._scrollable.setScrollPositionNow(ie)}updateScrollbarSize(K){this._updateScrollbarSize(K),this._scrollbarState.setScrollbarSize(K),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}var N=c(77739),O=c(64423);class R extends u{constructor(K,ie,ce){const _e=K.getScrollDimensions(),Ee=K.getCurrentScrollPosition();if(super({lazyRender:ie.lazyRender,host:ce,scrollbarState:new N.M(ie.horizontalHasArrows?ie.arrowSize:0,ie.horizontal===2?0:ie.horizontalScrollbarSize,ie.vertical===2?0:ie.verticalScrollbarSize,_e.width,_e.scrollWidth,Ee.scrollLeft),visibility:ie.horizontal,extraScrollbarClassName:"horizontal",scrollable:K,scrollByPage:ie.scrollByPage}),ie.horizontalHasArrows){const Ce=(ie.arrowSize-y)/2,pe=(ie.horizontalScrollbarSize-y)/2;this._createArrow({className:"scra",icon:O.l.scrollbarButtonLeft,top:pe,left:Ce,bottom:void 0,right:void 0,bgWidth:ie.arrowSize,bgHeight:ie.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new k.q(null,1,0))}),this._createArrow({className:"scra",icon:O.l.scrollbarButtonRight,top:pe,left:void 0,bottom:void 0,right:Ce,bgWidth:ie.arrowSize,bgHeight:ie.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new k.q(null,-1,0))})}this._createSlider(Math.floor((ie.horizontalScrollbarSize-ie.horizontalSliderSize)/2),0,void 0,ie.horizontalSliderSize)}_updateSlider(K,ie){this.slider.setWidth(K),this.slider.setLeft(ie)}_renderDomNode(K,ie){this.domNode.setWidth(K),this.domNode.setHeight(ie),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(K){return this._shouldRender=this._onElementScrollSize(K.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(K.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(K.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(K,ie){return K}_sliderPointerPosition(K){return K.pageX}_sliderOrthogonalPointerPosition(K){return K.pageY}_updateScrollbarSize(K){this.slider.setHeight(K)}writeScrollPosition(K,ie){K.scrollLeft=ie}updateOptions(K){this.updateScrollbarSize(K.horizontal===2?0:K.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(K.vertical===2?0:K.verticalScrollbarSize),this._visibilityController.setVisibility(K.horizontal),this._scrollByPage=K.scrollByPage}}class V extends u{constructor(K,ie,ce){const _e=K.getScrollDimensions(),Ee=K.getCurrentScrollPosition();if(super({lazyRender:ie.lazyRender,host:ce,scrollbarState:new N.M(ie.verticalHasArrows?ie.arrowSize:0,ie.vertical===2?0:ie.verticalScrollbarSize,0,_e.height,_e.scrollHeight,Ee.scrollTop),visibility:ie.vertical,extraScrollbarClassName:"vertical",scrollable:K,scrollByPage:ie.scrollByPage}),ie.verticalHasArrows){const Ce=(ie.arrowSize-y)/2,pe=(ie.verticalScrollbarSize-y)/2;this._createArrow({className:"scra",icon:O.l.scrollbarButtonUp,top:Ce,left:pe,bottom:void 0,right:void 0,bgWidth:ie.verticalScrollbarSize,bgHeight:ie.arrowSize,onActivate:()=>this._host.onMouseWheel(new k.q(null,0,1))}),this._createArrow({className:"scra",icon:O.l.scrollbarButtonDown,top:void 0,left:pe,bottom:Ce,right:void 0,bgWidth:ie.verticalScrollbarSize,bgHeight:ie.arrowSize,onActivate:()=>this._host.onMouseWheel(new k.q(null,0,-1))})}this._createSlider(0,Math.floor((ie.verticalScrollbarSize-ie.verticalSliderSize)/2),ie.verticalSliderSize,void 0)}_updateSlider(K,ie){this.slider.setHeight(K),this.slider.setTop(ie)}_renderDomNode(K,ie){this.domNode.setWidth(ie),this.domNode.setHeight(K),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(K){return this._shouldRender=this._onElementScrollSize(K.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(K.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(K.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(K,ie){return ie}_sliderPointerPosition(K){return K.pageY}_sliderOrthogonalPointerPosition(K){return K.pageX}_updateScrollbarSize(K){this.slider.setWidth(K)}writeScrollPosition(K,ie){K.scrollTop=ie}updateOptions(K){this.updateScrollbarSize(K.vertical===2?0:K.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(K.vertical),this._scrollByPage=K.scrollByPage}}var F=c(46328),Y=c(36773);const G=500,Z=50,ne=!0;class ${constructor(K,ie,ce){this.timestamp=K,this.deltaX=ie,this.deltaY=ce,this.score=0}}class J{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let K=1,ie=0,ce=1,_e=this._rear;do{const Ee=_e===this._front?K:Math.pow(2,-ce);if(K-=Ee,ie+=this._memory[_e].score*Ee,_e===this._front)break;_e=(this._capacity+_e-1)%this._capacity,ce++}while(!0);return ie<=.5}acceptStandardWheelEvent(K){const ie=X.Jj(K.browserEvent).devicePixelRatio/(0,D.ie)();_.ED||_.IJ?this.accept(Date.now(),K.deltaX/ie,K.deltaY/ie):this.accept(Date.now(),K.deltaX,K.deltaY)}accept(K,ie,ce){const _e=new $(K,ie,ce);_e.score=this._computeScore(_e),this._front===-1&&this._rear===-1?(this._memory[0]=_e,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=_e)}_computeScore(K){if(Math.abs(K.deltaX)>0&&Math.abs(K.deltaY)>0)return 1;let ie=.5;const ce=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(K.deltaX)||!this._isAlmostInt(K.deltaY))&&(ie+=.25),Math.min(Math.max(ie,0),1)}_isAlmostInt(K){return Math.abs(Math.round(K)-K)<.01}}J.INSTANCE=new J;class se extends T.${get options(){return this._options}constructor(K,ie,ce){super(),this._onScroll=this._register(new F.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new F.Q5),K.style.overflow="hidden",this._options=P(ie),this._scrollable=ce,this._register(this._scrollable.onScroll(Ee=>{this._onWillScroll.fire(Ee),this._onDidScroll(Ee),this._onScroll.fire(Ee)}));const _e={onMouseWheel:Ee=>this._onMouseWheel(Ee),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new V(this._scrollable,this._options,_e)),this._horizontalScrollbar=this._register(new R(this._scrollable,this._options,_e)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(K),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,v.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,v.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,v.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,Ee=>this._onMouseOver(Ee)),this.onmouseleave(this._listenOnDomNode,Ee=>this._onMouseLeave(Ee)),this._hideTimeout=this._register(new M._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,C.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(K){this._verticalScrollbar.delegatePointerDown(K)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(K){this._scrollable.setScrollDimensions(K,!1)}updateClassName(K){this._options.className=K,_.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(K){typeof K.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=K.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof K.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=K.mouseWheelScrollSensitivity),typeof K.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=K.fastScrollSensitivity),typeof K.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=K.scrollPredominantAxis),typeof K.horizontal!="undefined"&&(this._options.horizontal=K.horizontal),typeof K.vertical!="undefined"&&(this._options.vertical=K.vertical),typeof K.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=K.horizontalScrollbarSize),typeof K.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=K.verticalScrollbarSize),typeof K.scrollByPage!="undefined"&&(this._options.scrollByPage=K.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(K){this._onMouseWheel(new k.q(K))}_setListeningToMouseWheel(K){if(this._mouseWheelToDispose.length>0!==K&&(this._mouseWheelToDispose=(0,C.B9)(this._mouseWheelToDispose),K)){const ce=_e=>{this._onMouseWheel(new k.q(_e))};this._mouseWheelToDispose.push(X.nm(this._listenOnDomNode,X.tw.MOUSE_WHEEL,ce,{passive:!1}))}}_onMouseWheel(K){var ie;if(!((ie=K.browserEvent)===null||ie===void 0)&&ie.defaultPrevented)return;const ce=J.INSTANCE;ne&&ce.acceptStandardWheelEvent(K);let _e=!1;if(K.deltaY||K.deltaX){let Ce=K.deltaY*this._options.mouseWheelScrollSensitivity,pe=K.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&pe+Ce===0?pe=Ce=0:Math.abs(Ce)>=Math.abs(pe)?pe=0:Ce=0),this._options.flipAxes&&([Ce,pe]=[pe,Ce]);const xe=!_.dz&&K.browserEvent&&K.browserEvent.shiftKey;(this._options.scrollYToX||xe)&&!pe&&(pe=Ce,Ce=0),K.browserEvent&&K.browserEvent.altKey&&(pe=pe*this._options.fastScrollSensitivity,Ce=Ce*this._options.fastScrollSensitivity);const x=this._scrollable.getFutureScrollPosition();let rt={};if(Ce){const Xe=Z*Ce,Ze=x.scrollTop-(Xe<0?Math.floor(Xe):Math.ceil(Xe));this._verticalScrollbar.writeScrollPosition(rt,Ze)}if(pe){const Xe=Z*pe,Ze=x.scrollLeft-(Xe<0?Math.floor(Xe):Math.ceil(Xe));this._horizontalScrollbar.writeScrollPosition(rt,Ze)}rt=this._scrollable.validateScrollPosition(rt),(x.scrollLeft!==rt.scrollLeft||x.scrollTop!==rt.scrollTop)&&(ne&&this._options.mouseWheelSmoothScroll&&ce.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(rt):this._scrollable.setScrollPositionNow(rt),_e=!0)}let Ee=_e;!Ee&&this._options.alwaysConsumeMouseWheel&&(Ee=!0),!Ee&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(Ee=!0),Ee&&(K.preventDefault(),K.stopPropagation())}_onDidScroll(K){this._shouldRender=this._horizontalScrollbar.onDidScroll(K)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(K)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const K=this._scrollable.getCurrentScrollPosition(),ie=K.scrollTop>0,ce=K.scrollLeft>0,_e=ce?" left":"",Ee=ie?" top":"",Ce=ce||ie?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${_e}`),this._topShadowDomNode.setClassName(`shadow${Ee}`),this._topLeftShadowDomNode.setClassName(`shadow${Ce}${Ee}${_e}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(K){this._mouseIsOver=!1,this._hide()}_onMouseOver(K){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),G)}}class re extends se{constructor(K,ie){ie=ie||{},ie.mouseWheelSmoothScroll=!1;const ce=new Y.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:_e=>X.jL(X.Jj(K),_e)});super(K,ie,ce),this._register(ce)}setScrollPosition(K){this._scrollable.setScrollPositionNow(K)}}class he extends se{constructor(K,ie,ce){super(K,ie,ce)}setScrollPosition(K){K.reuseAnimation?this._scrollable.setScrollPositionSmooth(K,K.reuseAnimation):this._scrollable.setScrollPositionNow(K)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class H extends se{constructor(K,ie){ie=ie||{},ie.mouseWheelSmoothScroll=!1;const ce=new Y.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:_e=>X.jL(X.Jj(K),_e)});super(K,ie,ce),this._register(ce),this._element=K,this._register(this.onScroll(_e=>{_e.scrollTopChanged&&(this._element.scrollTop=_e.scrollTop),_e.scrollLeftChanged&&(this._element.scrollLeft=_e.scrollLeft)})),this.scanDomNode()}setScrollPosition(K){this._scrollable.setScrollPositionNow(K)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function P(j){const K={lazyRender:typeof j.lazyRender!="undefined"?j.lazyRender:!1,className:typeof j.className!="undefined"?j.className:"",useShadows:typeof j.useShadows!="undefined"?j.useShadows:!0,handleMouseWheel:typeof j.handleMouseWheel!="undefined"?j.handleMouseWheel:!0,flipAxes:typeof j.flipAxes!="undefined"?j.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof j.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?j.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof j.alwaysConsumeMouseWheel!="undefined"?j.alwaysConsumeMouseWheel:!1,scrollYToX:typeof j.scrollYToX!="undefined"?j.scrollYToX:!1,mouseWheelScrollSensitivity:typeof j.mouseWheelScrollSensitivity!="undefined"?j.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof j.fastScrollSensitivity!="undefined"?j.fastScrollSensitivity:5,scrollPredominantAxis:typeof j.scrollPredominantAxis!="undefined"?j.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof j.mouseWheelSmoothScroll!="undefined"?j.mouseWheelSmoothScroll:!0,arrowSize:typeof j.arrowSize!="undefined"?j.arrowSize:11,listenOnDomNode:typeof j.listenOnDomNode!="undefined"?j.listenOnDomNode:null,horizontal:typeof j.horizontal!="undefined"?j.horizontal:1,horizontalScrollbarSize:typeof j.horizontalScrollbarSize!="undefined"?j.horizontalScrollbarSize:10,horizontalSliderSize:typeof j.horizontalSliderSize!="undefined"?j.horizontalSliderSize:0,horizontalHasArrows:typeof j.horizontalHasArrows!="undefined"?j.horizontalHasArrows:!1,vertical:typeof j.vertical!="undefined"?j.vertical:1,verticalScrollbarSize:typeof j.verticalScrollbarSize!="undefined"?j.verticalScrollbarSize:10,verticalHasArrows:typeof j.verticalHasArrows!="undefined"?j.verticalHasArrows:!1,verticalSliderSize:typeof j.verticalSliderSize!="undefined"?j.verticalSliderSize:0,scrollByPage:typeof j.scrollByPage!="undefined"?j.scrollByPage:!1};return K.horizontalSliderSize=typeof j.horizontalSliderSize!="undefined"?j.horizontalSliderSize:K.horizontalScrollbarSize,K.verticalSliderSize=typeof j.verticalSliderSize!="undefined"?j.verticalSliderSize:K.verticalScrollbarSize,_.dz&&(K.className+=" mac"),K}},77739:function(Gt,ze,c){"use strict";c.d(ze,{M:function(){return X}});const D=20;class X{constructor(k,L,T,M,B,y){this._scrollbarSize=Math.round(L),this._oppositeScrollbarSize=Math.round(T),this._arrowSize=Math.round(k),this._visibleSize=M,this._scrollSize=B,this._scrollPosition=y,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new X(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(k){const L=Math.round(k);return this._visibleSize!==L?(this._visibleSize=L,this._refreshComputedValues(),!0):!1}setScrollSize(k){const L=Math.round(k);return this._scrollSize!==L?(this._scrollSize=L,this._refreshComputedValues(),!0):!1}setScrollPosition(k){const L=Math.round(k);return this._scrollPosition!==L?(this._scrollPosition=L,this._refreshComputedValues(),!0):!1}setScrollbarSize(k){this._scrollbarSize=Math.round(k)}setOppositeScrollbarSize(k){this._oppositeScrollbarSize=Math.round(k)}static _computeValues(k,L,T,M,B){const y=Math.max(0,T-k),b=Math.max(0,y-2*L),C=M>0&&M>T;if(!C)return{computedAvailableSize:Math.round(y),computedIsNeeded:C,computedSliderSize:Math.round(b),computedSliderRatio:0,computedSliderPosition:0};const S=Math.round(Math.max(D,Math.floor(T*b/M))),_=(b-S)/(M-T),a=B*_;return{computedAvailableSize:Math.round(y),computedIsNeeded:C,computedSliderSize:Math.round(S),computedSliderRatio:_,computedSliderPosition:Math.round(a)}}_refreshComputedValues(){const k=X._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=k.computedAvailableSize,this._computedIsNeeded=k.computedIsNeeded,this._computedSliderSize=k.computedSliderSize,this._computedSliderRatio=k.computedSliderRatio,this._computedSliderPosition=k.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(k){if(!this._computedIsNeeded)return 0;const L=k-this._arrowSize-this._computedSliderSize/2;return Math.round(L/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(k){if(!this._computedIsNeeded)return 0;const L=k-this._arrowSize;let T=this._scrollPosition;return L<this._computedSliderPosition?T-=this._visibleSize:T+=this._visibleSize,T}getDesiredScrollPositionFromDelta(k){if(!this._computedIsNeeded)return 0;const L=this._computedSliderPosition+k;return Math.round(L/this._computedSliderRatio)}}},57996:function(Gt,ze,c){"use strict";c.d(ze,{M:function(){return O},z:function(){return R}});var D=c(97480),X=c(80707),v=c(13491),k=c(97918),L=c(54888),T=c(72225),M=c(46328),B=c(83845),y=c(79664),b=c(36773),C=c(22968);const S={separatorBorder:T.Il.transparent};class _{set size(F){this._size=F}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(F,Y){var G,Z;if(F!==this.visible){F?(this.size=(0,y.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof Y=="number"?Y:this.size,this.size=0),this.container.classList.toggle("visible",F);try{(Z=(G=this.view).setVisible)===null||Z===void 0||Z.call(G,F)}catch(ne){console.error("Splitview: Failed to set visible view"),console.error(ne)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var F;return(F=this.view.proportionalLayout)!==null&&F!==void 0?F:!0}get snap(){return!!this.view.snap}set enabled(F){this.container.style.pointerEvents=F?"":"none"}constructor(F,Y,G,Z){this.container=F,this.view=Y,this.disposable=Z,this._cachedVisibleSize=void 0,typeof G=="number"?(this._size=G,this._cachedVisibleSize=void 0,F.classList.add("visible")):(this._size=0,this._cachedVisibleSize=G.cachedVisibleSize)}layout(F,Y){this.layoutContainer(F);try{this.view.layout(this.size,F,Y)}catch(G){console.error("Splitview: Failed to layout view"),console.error(G)}}dispose(){this.disposable.dispose()}}class a extends _{layoutContainer(F){this.container.style.top=`${F}px`,this.container.style.height=`${this.size}px`}}class u extends _{layoutContainer(F){this.container.style.left=`${F}px`,this.container.style.width=`${this.size}px`}}var N;(function(V){V[V.Idle=0]="Idle",V[V.Busy=1]="Busy"})(N||(N={}));var O;(function(V){V.Distribute={type:"distribute"};function F(Z){return{type:"split",index:Z}}V.Split=F;function Y(Z){return{type:"auto",index:Z}}V.Auto=Y;function G(Z){return{type:"invisible",cachedVisibleSize:Z}}V.Invisible=G})(O||(O={}));class R extends B.JT{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(F){for(const Y of this.sashItems)Y.sash.orthogonalStartSash=F;this._orthogonalStartSash=F}set orthogonalEndSash(F){for(const Y of this.sashItems)Y.sash.orthogonalEndSash=F;this._orthogonalEndSash=F}set startSnappingEnabled(F){this._startSnappingEnabled!==F&&(this._startSnappingEnabled=F,this.updateSashEnablement())}set endSnappingEnabled(F){this._endSnappingEnabled!==F&&(this._endSnappingEnabled=F,this.updateSashEnablement())}constructor(F,Y={}){var G,Z,ne,$,J;super(),this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=N.Idle,this._onDidSashChange=this._register(new M.Q5),this._onDidSashReset=this._register(new M.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(G=Y.orientation)!==null&&G!==void 0?G:0,this.inverseAltBehavior=(Z=Y.inverseAltBehavior)!==null&&Z!==void 0?Z:!1,this.proportionalLayout=(ne=Y.proportionalLayout)!==null&&ne!==void 0?ne:!0,this.getSashOrthogonalSize=Y.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),F.appendChild(this.el),this.sashContainer=(0,D.R3)(this.el,(0,D.$)(".sash-container")),this.viewContainer=(0,D.$)(".split-view-container"),this.scrollable=this._register(new b.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:re=>(0,D.jL)((0,D.Jj)(this.el),re)})),this.scrollableElement=this._register(new k.$Z(this.viewContainer,{vertical:this.orientation===0?($=Y.scrollbarVisibility)!==null&&$!==void 0?$:1:2,horizontal:this.orientation===1?(J=Y.scrollbarVisibility)!==null&&J!==void 0?J:1:2},this.scrollable));const se=this._register(new X.Y(this.viewContainer,"scroll")).event;this._register(se(re=>{const he=this.scrollableElement.getScrollPosition(),H=Math.abs(this.viewContainer.scrollLeft-he.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,P=Math.abs(this.viewContainer.scrollTop-he.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(H!==void 0||P!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:H,scrollTop:P})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(re=>{re.scrollTopChanged&&(this.viewContainer.scrollTop=re.scrollTop),re.scrollLeftChanged&&(this.viewContainer.scrollLeft=re.scrollLeft)})),(0,D.R3)(this.el,this.scrollableElement.getDomNode()),this.style(Y.styles||S),Y.descriptor&&(this.size=Y.descriptor.size,Y.descriptor.views.forEach((re,he)=>{const H=C.o8(re.visible)||re.visible?re.size:{type:"invisible",cachedVisibleSize:re.size},P=re.view;this.doAddView(P,H,he,!0)}),this._contentSize=this.viewItems.reduce((re,he)=>re+he.size,0),this.saveProportions())}style(F){F.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",F.separatorBorder.toString()))}addView(F,Y,G=this.viewItems.length,Z){this.doAddView(F,Y,G,Z)}layout(F,Y){const G=Math.max(this.size,this._contentSize);if(this.size=F,this.layoutContext=Y,this.proportions){let Z=0;for(let ne=0;ne<this.viewItems.length;ne++){const $=this.viewItems[ne],J=this.proportions[ne];typeof J=="number"?Z+=J:F-=$.size}for(let ne=0;ne<this.viewItems.length;ne++){const $=this.viewItems[ne],J=this.proportions[ne];typeof J=="number"&&Z>0&&($.size=(0,y.uZ)(Math.round(J*F/Z),$.minimumSize,$.maximumSize))}}else{const Z=(0,L.w6)(this.viewItems.length),ne=Z.filter(J=>this.viewItems[J].priority===1),$=Z.filter(J=>this.viewItems[J].priority===2);this.resize(this.viewItems.length-1,F-G,void 0,ne,$)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map(F=>F.proportionalLayout&&F.visible?F.size/this._contentSize:void 0))}onSashStart({sash:F,start:Y,alt:G}){for(const J of this.viewItems)J.enabled=!1;const Z=this.sashItems.findIndex(J=>J.sash===F),ne=(0,B.F8)((0,D.nm)(this.el.ownerDocument.body,"keydown",J=>$(this.sashDragState.current,J.altKey)),(0,D.nm)(this.el.ownerDocument.body,"keyup",()=>$(this.sashDragState.current,!1))),$=(J,se)=>{const re=this.viewItems.map(K=>K.size);let he=Number.NEGATIVE_INFINITY,H=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(se=!se),se)if(Z===this.sashItems.length-1){const ie=this.viewItems[Z];he=(ie.minimumSize-ie.size)/2,H=(ie.maximumSize-ie.size)/2}else{const ie=this.viewItems[Z+1];he=(ie.size-ie.maximumSize)/2,H=(ie.size-ie.minimumSize)/2}let P,j;if(!se){const K=(0,L.w6)(Z,-1),ie=(0,L.w6)(Z+1,this.viewItems.length),ce=K.reduce((Xe,Ze)=>Xe+(this.viewItems[Ze].minimumSize-re[Ze]),0),_e=K.reduce((Xe,Ze)=>Xe+(this.viewItems[Ze].viewMaximumSize-re[Ze]),0),Ee=ie.length===0?Number.POSITIVE_INFINITY:ie.reduce((Xe,Ze)=>Xe+(re[Ze]-this.viewItems[Ze].minimumSize),0),Ce=ie.length===0?Number.NEGATIVE_INFINITY:ie.reduce((Xe,Ze)=>Xe+(re[Ze]-this.viewItems[Ze].viewMaximumSize),0),pe=Math.max(ce,Ce),xe=Math.min(Ee,_e),x=this.findFirstSnapIndex(K),rt=this.findFirstSnapIndex(ie);if(typeof x=="number"){const Xe=this.viewItems[x],Ze=Math.floor(Xe.viewMinimumSize/2);P={index:x,limitDelta:Xe.visible?pe-Ze:pe+Ze,size:Xe.size}}if(typeof rt=="number"){const Xe=this.viewItems[rt],Ze=Math.floor(Xe.viewMinimumSize/2);j={index:rt,limitDelta:Xe.visible?xe+Ze:xe-Ze,size:Xe.size}}}this.sashDragState={start:J,current:J,index:Z,sizes:re,minDelta:he,maxDelta:H,alt:se,snapBefore:P,snapAfter:j,disposable:ne}};$(Y,G)}onSashChange({current:F}){const{index:Y,start:G,sizes:Z,alt:ne,minDelta:$,maxDelta:J,snapBefore:se,snapAfter:re}=this.sashDragState;this.sashDragState.current=F;const he=F-G,H=this.resize(Y,he,Z,void 0,void 0,$,J,se,re);if(ne){const P=Y===this.sashItems.length-1,j=this.viewItems.map(Ce=>Ce.size),K=P?Y:Y+1,ie=this.viewItems[K],ce=ie.size-ie.maximumSize,_e=ie.size-ie.minimumSize,Ee=P?Y-1:Y+1;this.resize(Ee,-H,j,void 0,void 0,ce,_e)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(F){this._onDidSashChange.fire(F),this.sashDragState.disposable.dispose(),this.saveProportions();for(const Y of this.viewItems)Y.enabled=!0}onViewChange(F,Y){const G=this.viewItems.indexOf(F);G<0||G>=this.viewItems.length||(Y=typeof Y=="number"?Y:F.size,Y=(0,y.uZ)(Y,F.minimumSize,F.maximumSize),this.inverseAltBehavior&&G>0?(this.resize(G-1,Math.floor((F.size-Y)/2)),this.distributeEmptySpace(),this.layoutViews()):(F.size=Y,this.relayout([G],void 0)))}resizeView(F,Y){if(!(F<0||F>=this.viewItems.length)){if(this.state!==N.Idle)throw new Error("Cant modify splitview");this.state=N.Busy;try{const G=(0,L.w6)(this.viewItems.length).filter(J=>J!==F),Z=[...G.filter(J=>this.viewItems[J].priority===1),F],ne=G.filter(J=>this.viewItems[J].priority===2),$=this.viewItems[F];Y=Math.round(Y),Y=(0,y.uZ)(Y,$.minimumSize,Math.min($.maximumSize,this.size)),$.size=Y,this.relayout(Z,ne)}finally{this.state=N.Idle}}}distributeViewSizes(){const F=[];let Y=0;for(const J of this.viewItems)J.maximumSize-J.minimumSize>0&&(F.push(J),Y+=J.size);const G=Math.floor(Y/F.length);for(const J of F)J.size=(0,y.uZ)(G,J.minimumSize,J.maximumSize);const Z=(0,L.w6)(this.viewItems.length),ne=Z.filter(J=>this.viewItems[J].priority===1),$=Z.filter(J=>this.viewItems[J].priority===2);this.relayout(ne,$)}getViewSize(F){return F<0||F>=this.viewItems.length?-1:this.viewItems[F].size}doAddView(F,Y,G=this.viewItems.length,Z){if(this.state!==N.Idle)throw new Error("Cant modify splitview");this.state=N.Busy;try{const ne=(0,D.$)(".split-view-view");G===this.viewItems.length?this.viewContainer.appendChild(ne):this.viewContainer.insertBefore(ne,this.viewContainer.children.item(G));const $=F.onDidChange(P=>this.onViewChange(he,P)),J=(0,B.OF)(()=>this.viewContainer.removeChild(ne)),se=(0,B.F8)($,J);let re;typeof Y=="number"?re=Y:(Y.type==="auto"&&(this.areViewsDistributed()?Y={type:"distribute"}:Y={type:"split",index:Y.index}),Y.type==="split"?re=this.getViewSize(Y.index)/2:Y.type==="invisible"?re={cachedVisibleSize:Y.cachedVisibleSize}:re=F.minimumSize);const he=this.orientation===0?new a(ne,F,re,se):new u(ne,F,re,se);if(this.viewItems.splice(G,0,he),this.viewItems.length>1){const P={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},j=this.orientation===0?new v.g(this.sashContainer,{getHorizontalSashTop:Xe=>this.getSashPosition(Xe),getHorizontalSashWidth:this.getSashOrthogonalSize},sn(Di({},P),{orientation:1})):new v.g(this.sashContainer,{getVerticalSashLeft:Xe=>this.getSashPosition(Xe),getVerticalSashHeight:this.getSashOrthogonalSize},sn(Di({},P),{orientation:0})),K=this.orientation===0?Xe=>({sash:j,start:Xe.startY,current:Xe.currentY,alt:Xe.altKey}):Xe=>({sash:j,start:Xe.startX,current:Xe.currentX,alt:Xe.altKey}),ce=M.ju.map(j.onDidStart,K)(this.onSashStart,this),Ee=M.ju.map(j.onDidChange,K)(this.onSashChange,this),pe=M.ju.map(j.onDidEnd,()=>this.sashItems.findIndex(Xe=>Xe.sash===j))(this.onSashEnd,this),xe=j.onDidReset(()=>{const Xe=this.sashItems.findIndex(He=>He.sash===j),Ze=(0,L.w6)(Xe,-1),lt=(0,L.w6)(Xe+1,this.viewItems.length),ut=this.findFirstSnapIndex(Ze),ct=this.findFirstSnapIndex(lt);typeof ut=="number"&&!this.viewItems[ut].visible||typeof ct=="number"&&!this.viewItems[ct].visible||this._onDidSashReset.fire(Xe)}),x=(0,B.F8)(ce,Ee,pe,xe,j),rt={sash:j,disposable:x};this.sashItems.splice(G-1,0,rt)}ne.appendChild(F.element);let H;typeof Y!="number"&&Y.type==="split"&&(H=[Y.index]),Z||this.relayout([G],H),!Z&&typeof Y!="number"&&Y.type==="distribute"&&this.distributeViewSizes()}finally{this.state=N.Idle}}relayout(F,Y){const G=this.viewItems.reduce((Z,ne)=>Z+ne.size,0);this.resize(this.viewItems.length-1,this.size-G,void 0,F,Y),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(F,Y,G=this.viewItems.map(he=>he.size),Z,ne,$=Number.NEGATIVE_INFINITY,J=Number.POSITIVE_INFINITY,se,re){if(F<0||F>=this.viewItems.length)return 0;const he=(0,L.w6)(F,-1),H=(0,L.w6)(F+1,this.viewItems.length);if(ne)for(const rt of ne)(0,L.zI)(he,rt),(0,L.zI)(H,rt);if(Z)for(const rt of Z)(0,L.al)(he,rt),(0,L.al)(H,rt);const P=he.map(rt=>this.viewItems[rt]),j=he.map(rt=>G[rt]),K=H.map(rt=>this.viewItems[rt]),ie=H.map(rt=>G[rt]),ce=he.reduce((rt,Xe)=>rt+(this.viewItems[Xe].minimumSize-G[Xe]),0),_e=he.reduce((rt,Xe)=>rt+(this.viewItems[Xe].maximumSize-G[Xe]),0),Ee=H.length===0?Number.POSITIVE_INFINITY:H.reduce((rt,Xe)=>rt+(G[Xe]-this.viewItems[Xe].minimumSize),0),Ce=H.length===0?Number.NEGATIVE_INFINITY:H.reduce((rt,Xe)=>rt+(G[Xe]-this.viewItems[Xe].maximumSize),0),pe=Math.max(ce,Ce,$),xe=Math.min(Ee,_e,J);let x=!1;if(se){const rt=this.viewItems[se.index],Xe=Y>=se.limitDelta;x=Xe!==rt.visible,rt.setVisible(Xe,se.size)}if(!x&&re){const rt=this.viewItems[re.index],Xe=Y<re.limitDelta;x=Xe!==rt.visible,rt.setVisible(Xe,re.size)}if(x)return this.resize(F,Y,G,Z,ne,$,J);Y=(0,y.uZ)(Y,pe,xe);for(let rt=0,Xe=Y;rt<P.length;rt++){const Ze=P[rt],lt=(0,y.uZ)(j[rt]+Xe,Ze.minimumSize,Ze.maximumSize),ut=lt-j[rt];Xe-=ut,Ze.size=lt}for(let rt=0,Xe=Y;rt<K.length;rt++){const Ze=K[rt],lt=(0,y.uZ)(ie[rt]-Xe,Ze.minimumSize,Ze.maximumSize),ut=lt-ie[rt];Xe+=ut,Ze.size=lt}return Y}distributeEmptySpace(F){const Y=this.viewItems.reduce((J,se)=>J+se.size,0);let G=this.size-Y;const Z=(0,L.w6)(this.viewItems.length-1,-1),ne=Z.filter(J=>this.viewItems[J].priority===1),$=Z.filter(J=>this.viewItems[J].priority===2);for(const J of $)(0,L.zI)(Z,J);for(const J of ne)(0,L.al)(Z,J);typeof F=="number"&&(0,L.al)(Z,F);for(let J=0;G!==0&&J<Z.length;J++){const se=this.viewItems[Z[J]],re=(0,y.uZ)(se.size+G,se.minimumSize,se.maximumSize),he=re-se.size;G-=he,se.size=re}}layoutViews(){this._contentSize=this.viewItems.reduce((Y,G)=>Y+G.size,0);let F=0;for(const Y of this.viewItems)Y.layout(F,this.layoutContext),F+=Y.size;this.sashItems.forEach(Y=>Y.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let F=!1;const Y=this.viewItems.map(se=>F=se.size-se.minimumSize>0||F);F=!1;const G=this.viewItems.map(se=>F=se.maximumSize-se.size>0||F),Z=[...this.viewItems].reverse();F=!1;const ne=Z.map(se=>F=se.size-se.minimumSize>0||F).reverse();F=!1;const $=Z.map(se=>F=se.maximumSize-se.size>0||F).reverse();let J=0;for(let se=0;se<this.sashItems.length;se++){const{sash:re}=this.sashItems[se],he=this.viewItems[se];J+=he.size;const H=!(Y[se]&&$[se+1]),P=!(G[se]&&ne[se+1]);if(H&&P){const j=(0,L.w6)(se,-1),K=(0,L.w6)(se+1,this.viewItems.length),ie=this.findFirstSnapIndex(j),ce=this.findFirstSnapIndex(K),_e=typeof ie=="number"&&!this.viewItems[ie].visible,Ee=typeof ce=="number"&&!this.viewItems[ce].visible;_e&&ne[se]&&(J>0||this.startSnappingEnabled)?re.state=1:Ee&&Y[se]&&(J<this._contentSize||this.endSnappingEnabled)?re.state=2:re.state=0}else H&&!P?re.state=1:!H&&P?re.state=2:re.state=3}}getSashPosition(F){let Y=0;for(let G=0;G<this.sashItems.length;G++)if(Y+=this.viewItems[G].size,this.sashItems[G].sash===F)return Y;return 0}findFirstSnapIndex(F){for(const Y of F){const G=this.viewItems[Y];if(G.visible&&G.snap)return Y}for(const Y of F){const G=this.viewItems[Y];if(G.visible&&G.maximumSize-G.minimumSize>0)return;if(!G.visible&&G.snap)return Y}}areViewsDistributed(){let F,Y;for(const G of this.viewItems)if(F=F===void 0?G.size:Math.min(F,G.size),Y=Y===void 0?G.size:Math.max(Y,G.size),Y-F>2)return!1;return!0}dispose(){var F;(F=this.sashDragState)===null||F===void 0||F.disposable.dispose(),(0,B.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach(Y=>Y.disposable.dispose()),this.sashItems=[],super.dispose()}}},94225:function(Gt,ze,c){"use strict";c.d(ze,{Z:function(){return L},D:function(){return k}});var D=c(58595),X=c(12003),v=c(46328);const k={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class L extends D.${constructor(M){super(),this._onChange=this._register(new v.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new v.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=M,this._checked=this._opts.isChecked;const B=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,B.push(...X.k.asClassNameArray(this._icon))),this._opts.actionClassName&&B.push(...this._opts.actionClassName.split(" ")),this._checked&&B.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...B),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,y=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),y.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,y=>{if(y.keyCode===10||y.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),y.preventDefault(),y.stopPropagation();return}this._onKeyDown.fire(y)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(M){this._checked=M,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}},58595:function(Gt,ze,c){"use strict";c.d(ze,{$:function(){return T}});var D=c(97480),X=c(89056),v=c(9470),k=c(84702),L=c(83845);class T extends L.JT{onclick(B,y){this._register(D.nm(B,D.tw.CLICK,b=>y(new v.n(D.Jj(B),b))))}onmousedown(B,y){this._register(D.nm(B,D.tw.MOUSE_DOWN,b=>y(new v.n(D.Jj(B),b))))}onmouseover(B,y){this._register(D.nm(B,D.tw.MOUSE_OVER,b=>y(new v.n(D.Jj(B),b))))}onmouseleave(B,y){this._register(D.nm(B,D.tw.MOUSE_LEAVE,b=>y(new v.n(D.Jj(B),b))))}onkeydown(B,y){this._register(D.nm(B,D.tw.KEY_DOWN,b=>y(new X.y(b))))}onkeyup(B,y){this._register(D.nm(B,D.tw.KEY_UP,b=>y(new X.y(b))))}oninput(B,y){this._register(D.nm(B,D.tw.INPUT,y))}onblur(B,y){this._register(D.nm(B,D.tw.BLUR,y))}onfocus(B,y){this._register(D.nm(B,D.tw.FOCUS,y))}ignoreGesture(B){return k.o.ignoreTarget(B)}}},32764:function(Gt,ze,c){"use strict";c.d(ze,{Ex:function(){return X},HA:function(){return D},vO:function(){return v}});function D(k,L){const T=k;typeof T.vscodeWindowId!="number"&&Object.defineProperty(T,"vscodeWindowId",{get:()=>L})}const X=window,v=X},66351:function(Gt,ze,c){"use strict";c.d(ze,{Wi:function(){return L},Z0:function(){return T},aU:function(){return k},eZ:function(){return B},wY:function(){return M},xw:function(){return y}});var D=c(46328),X=c(83845),v=c(18493);class k extends X.JT{constructor(C,S="",_="",a=!0,u){super(),this._onDidChange=this._register(new D.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=C,this._label=S,this._cssClass=_,this._enabled=a,this._actionCallback=u}get id(){return this._id}get label(){return this._label}set label(C){this._setLabel(C)}_setLabel(C){this._label!==C&&(this._label=C,this._onDidChange.fire({label:C}))}get tooltip(){return this._tooltip||""}set tooltip(C){this._setTooltip(C)}_setTooltip(C){this._tooltip!==C&&(this._tooltip=C,this._onDidChange.fire({tooltip:C}))}get class(){return this._cssClass}set class(C){this._setClass(C)}_setClass(C){this._cssClass!==C&&(this._cssClass=C,this._onDidChange.fire({class:C}))}get enabled(){return this._enabled}set enabled(C){this._setEnabled(C)}_setEnabled(C){this._enabled!==C&&(this._enabled=C,this._onDidChange.fire({enabled:C}))}get checked(){return this._checked}set checked(C){this._setChecked(C)}_setChecked(C){this._checked!==C&&(this._checked=C,this._onDidChange.fire({checked:C}))}run(C,S){return At(this,null,function*(){this._actionCallback&&(yield this._actionCallback(C))})}}class L extends X.JT{constructor(){super(...arguments),this._onWillRun=this._register(new D.Q5),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new D.Q5),this.onDidRun=this._onDidRun.event}run(C,S){return At(this,null,function*(){if(!C.enabled)return;this._onWillRun.fire({action:C});let _;try{yield this.runAction(C,S)}catch(a){_=a}this._onDidRun.fire({action:C,error:_})})}runAction(C,S){return At(this,null,function*(){yield C.run(S)})}}class T{constructor(){this.id=T.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...C){let S=[];for(const _ of C)_.length&&(S.length?S=[...S,new T,..._]:S=_);return S}run(){return At(this,null,function*(){})}}T.ID="vs.actions.separator";class M{get actions(){return this._actions}constructor(C,S,_,a){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=C,this.label=S,this.class=a,this._actions=_}run(){return At(this,null,function*(){})}}class B extends k{constructor(){super(B.ID,v.NC("submenu.empty","(empty)"),void 0,!1)}}B.ID="vs.actions.empty";function y(b){var C,S;return{id:b.id,label:b.label,class:b.class,enabled:(C=b.enabled)!==null&&C!==void 0?C:!0,checked:(S=b.checked)!==null&&S!==void 0?S:!1,run:(..._)=>At(this,null,function*(){return b.run(..._)}),tooltip:b.label}}},54888:function(Gt,ze,c){"use strict";c.d(ze,{BV:function(){return j},EB:function(){return N},Gb:function(){return D},H9:function(){return K},HW:function(){return M},JH:function(){return X},KO:function(){return C},LS:function(){return k},Of:function(){return u},Rs:function(){return _},W$:function(){return ie},XY:function(){return a},Xh:function(){return O},Zv:function(){return V},_2:function(){return Z},al:function(){return Y},db:function(){return $},fS:function(){return v},f_:function(){return he},fv:function(){return H},kX:function(){return S},mw:function(){return y},nW:function(){return P},ry:function(){return L},tT:function(){return re},vA:function(){return G},vM:function(){return B},w6:function(){return R},zI:function(){return F},zy:function(){return b}});function D(ce,_e=0){return ce[ce.length-(1+_e)]}function X(ce){if(ce.length===0)throw new Error("Invalid tail call");return[ce.slice(0,ce.length-1),ce[ce.length-1]]}function v(ce,_e,Ee=(Ce,pe)=>Ce===pe){if(ce===_e)return!0;if(!ce||!_e||ce.length!==_e.length)return!1;for(let Ce=0,pe=ce.length;Ce<pe;Ce++)if(!Ee(ce[Ce],_e[Ce]))return!1;return!0}function k(ce,_e){const Ee=ce.length-1;_e<Ee&&(ce[_e]=ce[Ee]),ce.pop()}function L(ce,_e,Ee){return T(ce.length,Ce=>Ee(ce[Ce],_e))}function T(ce,_e){let Ee=0,Ce=ce-1;for(;Ee<=Ce;){const pe=(Ee+Ce)/2|0,xe=_e(pe);if(xe<0)Ee=pe+1;else if(xe>0)Ce=pe-1;else return pe}return-(Ee+1)}function M(ce,_e,Ee){if(ce=ce|0,ce>=_e.length)throw new TypeError("invalid index");const Ce=_e[Math.floor(_e.length*Math.random())],pe=[],xe=[],x=[];for(const rt of _e){const Xe=Ee(rt,Ce);Xe<0?pe.push(rt):Xe>0?xe.push(rt):x.push(rt)}return ce<pe.length?M(ce,pe,Ee):ce<pe.length+x.length?x[0]:M(ce-(pe.length+x.length),xe,Ee)}function B(ce,_e){const Ee=[];let Ce;for(const pe of ce.slice(0).sort(_e))!Ce||_e(Ce[0],pe)!==0?(Ce=[pe],Ee.push(Ce)):Ce.push(pe);return Ee}function*y(ce,_e){let Ee,Ce;for(const pe of ce)Ce!==void 0&&_e(Ce,pe)?Ee.push(pe):(Ee&&(yield Ee),Ee=[pe]),Ce=pe;Ee&&(yield Ee)}function b(ce,_e){for(let Ee=0;Ee<=ce.length;Ee++)_e(Ee===0?void 0:ce[Ee-1],Ee===ce.length?void 0:ce[Ee])}function C(ce,_e){for(let Ee=0;Ee<ce.length;Ee++)_e(Ee===0?void 0:ce[Ee-1],ce[Ee],Ee+1===ce.length?void 0:ce[Ee+1])}function S(ce){return ce.filter(_e=>!!_e)}function _(ce){let _e=0;for(let Ee=0;Ee<ce.length;Ee++)ce[Ee]&&(ce[_e]=ce[Ee],_e+=1);ce.length=_e}function a(ce){return!Array.isArray(ce)||ce.length===0}function u(ce){return Array.isArray(ce)&&ce.length>0}function N(ce,_e=Ee=>Ee){const Ee=new Set;return ce.filter(Ce=>{const pe=_e(Ce);return Ee.has(pe)?!1:(Ee.add(pe),!0)})}function O(ce,_e){return ce.length>0?ce[0]:_e}function R(ce,_e){let Ee=typeof _e=="number"?ce:0;typeof _e=="number"?Ee=ce:(Ee=0,_e=ce);const Ce=[];if(Ee<=_e)for(let pe=Ee;pe<_e;pe++)Ce.push(pe);else for(let pe=Ee;pe>_e;pe--)Ce.push(pe);return Ce}function V(ce,_e,Ee){const Ce=ce.slice(0,_e),pe=ce.slice(_e);return Ce.concat(Ee,pe)}function F(ce,_e){const Ee=ce.indexOf(_e);Ee>-1&&(ce.splice(Ee,1),ce.unshift(_e))}function Y(ce,_e){const Ee=ce.indexOf(_e);Ee>-1&&(ce.splice(Ee,1),ce.push(_e))}function G(ce,_e){for(const Ee of _e)ce.push(Ee)}function Z(ce){return Array.isArray(ce)?ce:[ce]}function ne(ce,_e,Ee){const Ce=J(ce,_e),pe=ce.length,xe=Ee.length;ce.length=pe+xe;for(let x=pe-1;x>=Ce;x--)ce[x+xe]=ce[x];for(let x=0;x<xe;x++)ce[x+Ce]=Ee[x]}function $(ce,_e,Ee,Ce){const pe=J(ce,_e);let xe=ce.splice(pe,Ee);return xe===void 0&&(xe=[]),ne(ce,pe,Ce),xe}function J(ce,_e){return _e<0?Math.max(_e+ce.length,0):Math.min(_e,ce.length)}var se;(function(ce){function _e(xe){return xe<0}ce.isLessThan=_e;function Ee(xe){return xe<=0}ce.isLessThanOrEqual=Ee;function Ce(xe){return xe>0}ce.isGreaterThan=Ce;function pe(xe){return xe===0}ce.isNeitherLessOrGreaterThan=pe,ce.greaterThan=1,ce.lessThan=-1,ce.neitherLessOrGreaterThan=0})(se||(se={}));function re(ce,_e){return(Ee,Ce)=>_e(ce(Ee),ce(Ce))}function he(...ce){return(_e,Ee)=>{for(const Ce of ce){const pe=Ce(_e,Ee);if(!se.isNeitherLessOrGreaterThan(pe))return pe}return se.neitherLessOrGreaterThan}}const H=(ce,_e)=>ce-_e,P=(ce,_e)=>H(ce?1:0,_e?1:0);function j(ce){return(_e,Ee)=>-ce(_e,Ee)}class K{constructor(_e){this.items=_e,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(_e){let Ee=this.firstIdx;for(;Ee<this.items.length&&_e(this.items[Ee]);)Ee++;const Ce=Ee===this.firstIdx?null:this.items.slice(this.firstIdx,Ee);return this.firstIdx=Ee,Ce}takeFromEndWhile(_e){let Ee=this.lastIdx;for(;Ee>=0&&_e(this.items[Ee]);)Ee--;const Ce=Ee===this.lastIdx?null:this.items.slice(Ee+1,this.lastIdx+1);return this.lastIdx=Ee,Ce}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const _e=this.items[this.firstIdx];return this.firstIdx++,_e}takeCount(_e){const Ee=this.items.slice(this.firstIdx,this.firstIdx+_e);return this.firstIdx+=_e,Ee}}class ie{constructor(_e){this.iterate=_e}toArray(){const _e=[];return this.iterate(Ee=>(_e.push(Ee),!0)),_e}filter(_e){return new ie(Ee=>this.iterate(Ce=>_e(Ce)?Ee(Ce):!0))}map(_e){return new ie(Ee=>this.iterate(Ce=>Ee(_e(Ce))))}findLast(_e){let Ee;return this.iterate(Ce=>(_e(Ce)&&(Ee=Ce),!0)),Ee}findLastMaxBy(_e){let Ee,Ce=!0;return this.iterate(pe=>((Ce||se.isGreaterThan(_e(pe,Ee)))&&(Ce=!1,Ee=pe),!0)),Ee}}ie.empty=new ie(ce=>{})},99637:function(Gt,ze,c){"use strict";c.d(ze,{Fr:function(){return S},J_:function(){return T},Jw:function(){return k},Ph:function(){return b},b1:function(){return M},cn:function(){return L},dF:function(){return D},dI:function(){return B},jV:function(){return y},tQ:function(){return C},ti:function(){return v}});function D(_,a,u){const N=X(_,a);if(N!==-1)return _[N]}function X(_,a,u=_.length-1){for(let N=u;N>=0;N--){const O=_[N];if(a(O))return N}return-1}function v(_,a){const u=k(_,a);return u===-1?void 0:_[u]}function k(_,a,u=0,N=_.length){let O=u,R=N;for(;O<R;){const V=Math.floor((O+R)/2);a(_[V])?O=V+1:R=V}return O-1}function L(_,a){const u=T(_,a);return u===_.length?void 0:_[u]}function T(_,a,u=0,N=_.length){let O=u,R=N;for(;O<R;){const V=Math.floor((O+R)/2);a(_[V])?R=V:O=V+1}return O}class M{constructor(a){this._array=a,this._findLastMonotonousLastIdx=0}findLastMonotonous(a){if(M.assertInvariants){if(this._prevFindLastPredicate){for(const N of this._array)if(this._prevFindLastPredicate(N)&&!a(N))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=a}const u=k(this._array,a,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=u+1,u===-1?void 0:this._array[u]}}M.assertInvariants=!1;function B(_,a){if(_.length===0)return;let u=_[0];for(let N=1;N<_.length;N++){const O=_[N];a(O,u)>0&&(u=O)}return u}function y(_,a){if(_.length===0)return;let u=_[0];for(let N=1;N<_.length;N++){const O=_[N];a(O,u)>=0&&(u=O)}return u}function b(_,a){return B(_,(u,N)=>-a(u,N))}function C(_,a){if(_.length===0)return-1;let u=0;for(let N=1;N<_.length;N++){const O=_[N];a(O,_[u])>0&&(u=N)}return u}function S(_,a){for(const u of _){const N=a(u);if(N!==void 0)return N}}},32522:function(Gt,ze,c){"use strict";c.d(ze,{DM:function(){return L},eZ:function(){return k},ok:function(){return X},vE:function(){return v}});var D=c(35541);function X(T,M){if(!T)throw new Error(M?`Assertion failed (${M})`:"Assertion Failed")}function v(T,M="Unreachable"){throw new Error(M)}function k(T){if(!T()){debugger;T(),(0,D.dL)(new D.he("Assertion Failed"))}}function L(T,M){let B=0;for(;B<T.length-1;){const y=T[B],b=T[B+1];if(!M(y,b))return!1;B++}return!0}},96925:function(Gt,ze,c){"use strict";c.d(ze,{Aq:function(){return se},CR:function(){return $},J8:function(){return M},PG:function(){return B},Ps:function(){return O},R5:function(){return ne},Vg:function(){return N},Vs:function(){return u},_F:function(){return R},eP:function(){return y},hF:function(){return Z},jT:function(){return J},jg:function(){return Y},pY:function(){return F},rH:function(){return a},vp:function(){return _},y5:function(){return G},zS:function(){return he},zh:function(){return V}});var D=c(60902),X=c(35541),v=c(46328),k=c(83845),L=c(43998),T=c(9505);function M(H){return!!H&&typeof H.then=="function"}function B(H){const P=new D.A,j=H(P.token),K=new Promise((ie,ce)=>{const _e=P.token.onCancellationRequested(()=>{_e.dispose(),P.dispose(),ce(new X.FU)});Promise.resolve(j).then(Ee=>{_e.dispose(),P.dispose(),ie(Ee)},Ee=>{_e.dispose(),P.dispose(),ce(Ee)})});return new class{cancel(){P.cancel()}then(ie,ce){return K.then(ie,ce)}catch(ie){return this.then(void 0,ie)}finally(ie){return K.finally(ie)}}}function y(H,P,j){return new Promise((K,ie)=>{const ce=P.onCancellationRequested(()=>{ce.dispose(),K(j)});H.then(K,ie).finally(()=>ce.dispose())})}class b{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(P){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=P,!this.queuedPromise){const j=()=>{if(this.queuedPromise=null,this.isDisposed)return;const K=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,K};this.queuedPromise=new Promise(K=>{this.activePromise.then(j,j).then(K)})}return new Promise((j,K)=>{this.queuedPromise.then(j,K)})}return this.activePromise=P(),new Promise((j,K)=>{this.activePromise.then(ie=>{this.activePromise=null,j(ie)},ie=>{this.activePromise=null,K(ie)})})}dispose(){this.isDisposed=!0}}const C=(H,P)=>{let j=!0;const K=setTimeout(()=>{j=!1,P()},H);return{isTriggered:()=>j,dispose:()=>{clearTimeout(K),j=!1}}},S=H=>{let P=!0;return queueMicrotask(()=>{P&&(P=!1,H())}),{isTriggered:()=>P,dispose:()=>{P=!1}}};class _{constructor(P){this.defaultDelay=P,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(P,j=this.defaultDelay){this.task=P,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((ie,ce)=>{this.doResolve=ie,this.doReject=ce}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const ie=this.task;return this.task=null,ie()}}));const K=()=>{var ie;this.deferred=null,(ie=this.doResolve)===null||ie===void 0||ie.call(this,null)};return this.deferred=j===T.n?S(K):C(j,K),this.completionPromise}isTriggered(){var P;return!!(!((P=this.deferred)===null||P===void 0)&&P.isTriggered())}cancel(){var P;this.cancelTimeout(),this.completionPromise&&((P=this.doReject)===null||P===void 0||P.call(this,new X.FU),this.completionPromise=null)}cancelTimeout(){var P;(P=this.deferred)===null||P===void 0||P.dispose(),this.deferred=null}dispose(){this.cancel()}}class a{constructor(P){this.delayer=new _(P),this.throttler=new b}trigger(P,j){return this.delayer.trigger(()=>this.throttler.queue(P),j)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}function u(H,P){return P?new Promise((j,K)=>{const ie=setTimeout(()=>{ce.dispose(),j()},H),ce=P.onCancellationRequested(()=>{clearTimeout(ie),ce.dispose(),K(new X.FU)})}):B(j=>u(H,j))}function N(H,P=0,j){const K=setTimeout(()=>{H(),j&&ie.dispose()},P),ie=(0,k.OF)(()=>{clearTimeout(K),j==null||j.deleteAndLeak(ie)});return j==null||j.add(ie),ie}function O(H,P=K=>!!K,j=null){let K=0;const ie=H.length,ce=()=>{if(K>=ie)return Promise.resolve(j);const _e=H[K++];return Promise.resolve(_e()).then(Ce=>P(Ce)?Promise.resolve(Ce):ce())};return ce()}class R{constructor(P,j){this._token=-1,typeof P=="function"&&typeof j=="number"&&this.setIfNotSet(P,j)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(P,j){this.cancel(),this._token=setTimeout(()=>{this._token=-1,P()},j)}setIfNotSet(P,j){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,P()},j))}}class V{constructor(){this.disposable=void 0}cancel(){var P;(P=this.disposable)===null||P===void 0||P.dispose(),this.disposable=void 0}cancelAndSet(P,j,K=globalThis){this.cancel();const ie=K.setInterval(()=>{P()},j);this.disposable=(0,k.OF)(()=>{K.clearInterval(ie),this.disposable=void 0})}dispose(){this.cancel()}}class F{constructor(P,j){this.timeoutToken=-1,this.runner=P,this.timeout=j,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(P=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,P)}get delay(){return this.timeout}set delay(P){this.timeout=P}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var P;(P=this.runner)===null||P===void 0||P.call(this)}}let Y,G;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?G=(H,P)=>{(0,L.fn)(()=>{if(j)return;const K=Date.now()+15;P(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,K-Date.now())}}))});let j=!1;return{dispose(){j||(j=!0)}}}:G=(H,P,j)=>{const K=H.requestIdleCallback(P,typeof j=="number"?{timeout:j}:void 0);let ie=!1;return{dispose(){ie||(ie=!0,H.cancelIdleCallback(K))}}},Y=H=>G(globalThis,H)})();class Z{constructor(P,j){this._didRun=!1,this._executor=()=>{try{this._value=j()}catch(K){this._error=K}finally{this._didRun=!0}},this._handle=G(P,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class ne extends Z{constructor(P){super(globalThis,P)}}class ${get isRejected(){var P;return((P=this.outcome)===null||P===void 0?void 0:P.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((P,j)=>{this.completeCallback=P,this.errorCallback=j})}complete(P){return new Promise(j=>{this.completeCallback(P),this.outcome={outcome:0,value:P},j()})}error(P){return new Promise(j=>{this.errorCallback(P),this.outcome={outcome:1,value:P},j()})}cancel(){return this.error(new X.FU)}}var J;(function(H){function P(K){return At(this,null,function*(){let ie;const ce=yield Promise.all(K.map(_e=>_e.then(Ee=>Ee,Ee=>{ie||(ie=Ee)})));if(typeof ie!="undefined")throw ie;return ce})}H.settled=P;function j(K){return new Promise((ie,ce)=>At(this,null,function*(){try{yield K(ie,ce)}catch(_e){ce(_e)}}))}H.withAsyncBody=j})(J||(J={}));class se{static fromArray(P){return new se(j=>{j.emitMany(P)})}static fromPromise(P){return new se(j=>At(this,null,function*(){j.emitMany(yield P)}))}static fromPromises(P){return new se(j=>At(this,null,function*(){yield Promise.all(P.map(K=>At(this,null,function*(){return j.emitOne(yield K)})))}))}static merge(P){return new se(j=>At(this,null,function*(){yield Promise.all(P.map(K=>At(this,null,function*(){try{for(var ie=Cd(K),ce,_e,Ee;ce=!(_e=yield ie.next()).done;ce=!1){const Ce=_e.value;j.emitOne(Ce)}}catch(_e){Ee=[_e]}finally{try{ce&&(_e=ie.return)&&(yield _e.call(ie))}finally{if(Ee)throw Ee[0]}}})))}))}constructor(P){this._state=0,this._results=[],this._error=null,this._onStateChanged=new v.Q5,queueMicrotask(()=>At(this,null,function*(){const j={emitOne:K=>this.emitOne(K),emitMany:K=>this.emitMany(K),reject:K=>this.reject(K)};try{yield Promise.resolve(P(j)),this.resolve()}catch(K){this.reject(K)}finally{j.emitOne=void 0,j.emitMany=void 0,j.reject=void 0}}))}[Symbol.asyncIterator](){let P=0;return{next:()=>At(this,null,function*(){do{if(this._state===2)throw this._error;if(P<this._results.length)return{done:!1,value:this._results[P++]};if(this._state===1)return{done:!0,value:void 0};yield v.ju.toPromise(this._onStateChanged.event)}while(!0)})}}static map(P,j){return new se(K=>At(this,null,function*(){try{for(var ie=Cd(P),ce,_e,Ee;ce=!(_e=yield ie.next()).done;ce=!1){const Ce=_e.value;K.emitOne(j(Ce))}}catch(_e){Ee=[_e]}finally{try{ce&&(_e=ie.return)&&(yield _e.call(ie))}finally{if(Ee)throw Ee[0]}}}))}map(P){return se.map(this,P)}static filter(P,j){return new se(K=>At(this,null,function*(){try{for(var ie=Cd(P),ce,_e,Ee;ce=!(_e=yield ie.next()).done;ce=!1){const Ce=_e.value;j(Ce)&&K.emitOne(Ce)}}catch(_e){Ee=[_e]}finally{try{ce&&(_e=ie.return)&&(yield _e.call(ie))}finally{if(Ee)throw Ee[0]}}}))}filter(P){return se.filter(this,P)}static coalesce(P){return se.filter(P,j=>!!j)}coalesce(){return se.coalesce(this)}static toPromise(P){return At(this,null,function*(){const j=[];try{for(var K=Cd(P),ie,ce,_e;ie=!(ce=yield K.next()).done;ie=!1){const Ee=ce.value;j.push(Ee)}}catch(ce){_e=[ce]}finally{try{ie&&(ce=K.return)&&(yield ce.call(K))}finally{if(_e)throw _e[0]}}return j})}toPromise(){return se.toPromise(this)}emitOne(P){this._state===0&&(this._results.push(P),this._onStateChanged.fire())}emitMany(P){this._state===0&&(this._results=this._results.concat(P),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(P){this._state===0&&(this._state=2,this._error=P,this._onStateChanged.fire())}}se.EMPTY=se.fromArray([]);class re extends se{constructor(P,j){super(j),this._source=P}cancel(){this._source.cancel()}}function he(H){const P=new D.A,j=H(P.token);return new re(P,K=>At(this,null,function*(){const ie=P.token.onCancellationRequested(()=>{ie.dispose(),P.dispose(),K.reject(new X.FU)});try{try{for(var ce=Cd(j),_e,Ee,Ce;_e=!(Ee=yield ce.next()).done;_e=!1){const pe=Ee.value;if(P.token.isCancellationRequested)return;K.emitOne(pe)}}catch(Ee){Ce=[Ee]}finally{try{_e&&(Ee=ce.return)&&(yield Ee.call(ce))}finally{if(Ce)throw Ce[0]}}ie.dispose(),P.dispose()}catch(pe){ie.dispose(),P.dispose(),K.reject(pe)}}))}},49159:function(Gt,ze,c){"use strict";c.d(ze,{Ag:function(){return y},Cg:function(){return S},KN:function(){return T},Q$:function(){return C},T4:function(){return b},mP:function(){return M},oq:function(){return B}});var D=c(18796),X=c(44011).lW;const v=typeof X!="undefined",k=new D.o(()=>new Uint8Array(256));let L;class T{static wrap(a){return v&&!X.isBuffer(a)&&(a=X.from(a.buffer,a.byteOffset,a.byteLength)),new T(a)}constructor(a){this.buffer=a,this.byteLength=this.buffer.byteLength}toString(){return v?this.buffer.toString():(L||(L=new TextDecoder),L.decode(this.buffer))}}function M(_,a){return _[a+0]<<0>>>0|_[a+1]<<8>>>0}function B(_,a,u){_[u+0]=a&255,a=a>>>8,_[u+1]=a&255}function y(_,a){return _[a]*_d(2,24)+_[a+1]*_d(2,16)+_[a+2]*_d(2,8)+_[a+3]}function b(_,a,u){_[u+3]=a,a=a>>>8,_[u+2]=a,a=a>>>8,_[u+1]=a,a=a>>>8,_[u]=a}function C(_,a){return _[a]}function S(_,a,u){_[u]=a}},36346:function(Gt,ze,c){"use strict";c.d(ze,{b:function(){return X},t:function(){return D}});class D{constructor(k){this.fn=k,this.lastCache=void 0,this.lastArgKey=void 0}get(k){const L=JSON.stringify(k);return this.lastArgKey!==L&&(this.lastArgKey=L,this.lastCache=this.fn(k)),this.lastCache}}class X{get cachedValues(){return this._map}constructor(k){this.fn=k,this._map=new Map}get(k){if(this._map.has(k))return this._map.get(k);const L=this.fn(k);return this._map.set(k,L),L}}},60902:function(Gt,ze,c){"use strict";c.d(ze,{A:function(){return L},T:function(){return v}});var D=c(46328);const X=Object.freeze(function(T,M){const B=setTimeout(T.bind(M),0);return{dispose(){clearTimeout(B)}}});var v;(function(T){function M(B){return B===T.None||B===T.Cancelled||B instanceof k?!0:!B||typeof B!="object"?!1:typeof B.isCancellationRequested=="boolean"&&typeof B.onCancellationRequested=="function"}T.isCancellationToken=M,T.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:D.ju.None}),T.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:X})})(v||(v={}));class k{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?X:(this._emitter||(this._emitter=new D.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class L{constructor(M){this._token=void 0,this._parentListener=void 0,this._parentListener=M&&M.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new k),this._token}cancel(){this._token?this._token instanceof k&&this._token.cancel():this._token=v.Cancelled}dispose(M=!1){var B;M&&this.cancel(),(B=this._parentListener)===null||B===void 0||B.dispose(),this._token?this._token instanceof k&&this._token.dispose():this._token=v.None}}},64423:function(Gt,ze,c){"use strict";c.d(ze,{l:function(){return L},u:function(){return k}});var D=c(22968);const X=Object.create(null);function v(T,M){if((0,D.HD)(M)){const B=X[M];if(B===void 0)throw new Error(`${T} references an unknown codicon: ${M}`);M=B}return X[T]=M,{id:T}}function k(){return X}const L={add:v("add",6e4),plus:v("plus",6e4),gistNew:v("gist-new",6e4),repoCreate:v("repo-create",6e4),lightbulb:v("lightbulb",60001),lightBulb:v("light-bulb",60001),repo:v("repo",60002),repoDelete:v("repo-delete",60002),gistFork:v("gist-fork",60003),repoForked:v("repo-forked",60003),gitPullRequest:v("git-pull-request",60004),gitPullRequestAbandoned:v("git-pull-request-abandoned",60004),recordKeys:v("record-keys",60005),keyboard:v("keyboard",60005),tag:v("tag",60006),tagAdd:v("tag-add",60006),tagRemove:v("tag-remove",60006),gitPullRequestLabel:v("git-pull-request-label",60006),person:v("person",60007),personFollow:v("person-follow",60007),personOutline:v("person-outline",60007),personFilled:v("person-filled",60007),gitBranch:v("git-branch",60008),gitBranchCreate:v("git-branch-create",60008),gitBranchDelete:v("git-branch-delete",60008),sourceControl:v("source-control",60008),mirror:v("mirror",60009),mirrorPublic:v("mirror-public",60009),star:v("star",60010),starAdd:v("star-add",60010),starDelete:v("star-delete",60010),starEmpty:v("star-empty",60010),comment:v("comment",60011),commentAdd:v("comment-add",60011),alert:v("alert",60012),warning:v("warning",60012),search:v("search",60013),searchSave:v("search-save",60013),logOut:v("log-out",60014),signOut:v("sign-out",60014),logIn:v("log-in",60015),signIn:v("sign-in",60015),eye:v("eye",60016),eyeUnwatch:v("eye-unwatch",60016),eyeWatch:v("eye-watch",60016),circleFilled:v("circle-filled",60017),primitiveDot:v("primitive-dot",60017),closeDirty:v("close-dirty",60017),debugBreakpoint:v("debug-breakpoint",60017),debugBreakpointDisabled:v("debug-breakpoint-disabled",60017),debugHint:v("debug-hint",60017),primitiveSquare:v("primitive-square",60018),edit:v("edit",60019),pencil:v("pencil",60019),info:v("info",60020),issueOpened:v("issue-opened",60020),gistPrivate:v("gist-private",60021),gitForkPrivate:v("git-fork-private",60021),lock:v("lock",60021),mirrorPrivate:v("mirror-private",60021),close:v("close",60022),removeClose:v("remove-close",60022),x:v("x",60022),repoSync:v("repo-sync",60023),sync:v("sync",60023),clone:v("clone",60024),desktopDownload:v("desktop-download",60024),beaker:v("beaker",60025),microscope:v("microscope",60025),vm:v("vm",60026),deviceDesktop:v("device-desktop",60026),file:v("file",60027),fileText:v("file-text",60027),more:v("more",60028),ellipsis:v("ellipsis",60028),kebabHorizontal:v("kebab-horizontal",60028),mailReply:v("mail-reply",60029),reply:v("reply",60029),organization:v("organization",60030),organizationFilled:v("organization-filled",60030),organizationOutline:v("organization-outline",60030),newFile:v("new-file",60031),fileAdd:v("file-add",60031),newFolder:v("new-folder",60032),fileDirectoryCreate:v("file-directory-create",60032),trash:v("trash",60033),trashcan:v("trashcan",60033),history:v("history",60034),clock:v("clock",60034),folder:v("folder",60035),fileDirectory:v("file-directory",60035),symbolFolder:v("symbol-folder",60035),logoGithub:v("logo-github",60036),markGithub:v("mark-github",60036),github:v("github",60036),terminal:v("terminal",60037),console:v("console",60037),repl:v("repl",60037),zap:v("zap",60038),symbolEvent:v("symbol-event",60038),error:v("error",60039),stop:v("stop",60039),variable:v("variable",60040),symbolVariable:v("symbol-variable",60040),array:v("array",60042),symbolArray:v("symbol-array",60042),symbolModule:v("symbol-module",60043),symbolPackage:v("symbol-package",60043),symbolNamespace:v("symbol-namespace",60043),symbolObject:v("symbol-object",60043),symbolMethod:v("symbol-method",60044),symbolFunction:v("symbol-function",60044),symbolConstructor:v("symbol-constructor",60044),symbolBoolean:v("symbol-boolean",60047),symbolNull:v("symbol-null",60047),symbolNumeric:v("symbol-numeric",60048),symbolNumber:v("symbol-number",60048),symbolStructure:v("symbol-structure",60049),symbolStruct:v("symbol-struct",60049),symbolParameter:v("symbol-parameter",60050),symbolTypeParameter:v("symbol-type-parameter",60050),symbolKey:v("symbol-key",60051),symbolText:v("symbol-text",60051),symbolReference:v("symbol-reference",60052),goToFile:v("go-to-file",60052),symbolEnum:v("symbol-enum",60053),symbolValue:v("symbol-value",60053),symbolRuler:v("symbol-ruler",60054),symbolUnit:v("symbol-unit",60054),activateBreakpoints:v("activate-breakpoints",60055),archive:v("archive",60056),arrowBoth:v("arrow-both",60057),arrowDown:v("arrow-down",60058),arrowLeft:v("arrow-left",60059),arrowRight:v("arrow-right",60060),arrowSmallDown:v("arrow-small-down",60061),arrowSmallLeft:v("arrow-small-left",60062),arrowSmallRight:v("arrow-small-right",60063),arrowSmallUp:v("arrow-small-up",60064),arrowUp:v("arrow-up",60065),bell:v("bell",60066),bold:v("bold",60067),book:v("book",60068),bookmark:v("bookmark",60069),debugBreakpointConditionalUnverified:v("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:v("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:v("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:v("debug-breakpoint-data-unverified",60072),debugBreakpointData:v("debug-breakpoint-data",60073),debugBreakpointDataDisabled:v("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:v("debug-breakpoint-log-unverified",60074),debugBreakpointLog:v("debug-breakpoint-log",60075),debugBreakpointLogDisabled:v("debug-breakpoint-log-disabled",60075),briefcase:v("briefcase",60076),broadcast:v("broadcast",60077),browser:v("browser",60078),bug:v("bug",60079),calendar:v("calendar",60080),caseSensitive:v("case-sensitive",60081),check:v("check",60082),checklist:v("checklist",60083),chevronDown:v("chevron-down",60084),dropDownButton:v("drop-down-button",60084),chevronLeft:v("chevron-left",60085),chevronRight:v("chevron-right",60086),chevronUp:v("chevron-up",60087),chromeClose:v("chrome-close",60088),chromeMaximize:v("chrome-maximize",60089),chromeMinimize:v("chrome-minimize",60090),chromeRestore:v("chrome-restore",60091),circle:v("circle",60092),circleOutline:v("circle-outline",60092),debugBreakpointUnverified:v("debug-breakpoint-unverified",60092),circleSlash:v("circle-slash",60093),circuitBoard:v("circuit-board",60094),clearAll:v("clear-all",60095),clippy:v("clippy",60096),closeAll:v("close-all",60097),cloudDownload:v("cloud-download",60098),cloudUpload:v("cloud-upload",60099),code:v("code",60100),collapseAll:v("collapse-all",60101),colorMode:v("color-mode",60102),commentDiscussion:v("comment-discussion",60103),compareChanges:v("compare-changes",60157),creditCard:v("credit-card",60105),dash:v("dash",60108),dashboard:v("dashboard",60109),database:v("database",60110),debugContinue:v("debug-continue",60111),debugDisconnect:v("debug-disconnect",60112),debugPause:v("debug-pause",60113),debugRestart:v("debug-restart",60114),debugStart:v("debug-start",60115),debugStepInto:v("debug-step-into",60116),debugStepOut:v("debug-step-out",60117),debugStepOver:v("debug-step-over",60118),debugStop:v("debug-stop",60119),debug:v("debug",60120),deviceCameraVideo:v("device-camera-video",60121),deviceCamera:v("device-camera",60122),deviceMobile:v("device-mobile",60123),diffAdded:v("diff-added",60124),diffIgnored:v("diff-ignored",60125),diffModified:v("diff-modified",60126),diffRemoved:v("diff-removed",60127),diffRenamed:v("diff-renamed",60128),diff:v("diff",60129),discard:v("discard",60130),editorLayout:v("editor-layout",60131),emptyWindow:v("empty-window",60132),exclude:v("exclude",60133),extensions:v("extensions",60134),eyeClosed:v("eye-closed",60135),fileBinary:v("file-binary",60136),fileCode:v("file-code",60137),fileMedia:v("file-media",60138),filePdf:v("file-pdf",60139),fileSubmodule:v("file-submodule",60140),fileSymlinkDirectory:v("file-symlink-directory",60141),fileSymlinkFile:v("file-symlink-file",60142),fileZip:v("file-zip",60143),files:v("files",60144),filter:v("filter",60145),flame:v("flame",60146),foldDown:v("fold-down",60147),foldUp:v("fold-up",60148),fold:v("fold",60149),folderActive:v("folder-active",60150),folderOpened:v("folder-opened",60151),gear:v("gear",60152),gift:v("gift",60153),gistSecret:v("gist-secret",60154),gist:v("gist",60155),gitCommit:v("git-commit",60156),gitCompare:v("git-compare",60157),gitMerge:v("git-merge",60158),githubAction:v("github-action",60159),githubAlt:v("github-alt",60160),globe:v("globe",60161),grabber:v("grabber",60162),graph:v("graph",60163),gripper:v("gripper",60164),heart:v("heart",60165),home:v("home",60166),horizontalRule:v("horizontal-rule",60167),hubot:v("hubot",60168),inbox:v("inbox",60169),issueClosed:v("issue-closed",60324),issueReopened:v("issue-reopened",60171),issues:v("issues",60172),italic:v("italic",60173),jersey:v("jersey",60174),json:v("json",60175),bracket:v("bracket",60175),kebabVertical:v("kebab-vertical",60176),key:v("key",60177),law:v("law",60178),lightbulbAutofix:v("lightbulb-autofix",60179),linkExternal:v("link-external",60180),link:v("link",60181),listOrdered:v("list-ordered",60182),listUnordered:v("list-unordered",60183),liveShare:v("live-share",60184),loading:v("loading",60185),location:v("location",60186),mailRead:v("mail-read",60187),mail:v("mail",60188),markdown:v("markdown",60189),megaphone:v("megaphone",60190),mention:v("mention",60191),milestone:v("milestone",60192),gitPullRequestMilestone:v("git-pull-request-milestone",60192),mortarBoard:v("mortar-board",60193),move:v("move",60194),multipleWindows:v("multiple-windows",60195),mute:v("mute",60196),noNewline:v("no-newline",60197),note:v("note",60198),octoface:v("octoface",60199),openPreview:v("open-preview",60200),package:v("package",60201),paintcan:v("paintcan",60202),pin:v("pin",60203),play:v("play",60204),run:v("run",60204),plug:v("plug",60205),preserveCase:v("preserve-case",60206),preview:v("preview",60207),project:v("project",60208),pulse:v("pulse",60209),question:v("question",60210),quote:v("quote",60211),radioTower:v("radio-tower",60212),reactions:v("reactions",60213),references:v("references",60214),refresh:v("refresh",60215),regex:v("regex",60216),remoteExplorer:v("remote-explorer",60217),remote:v("remote",60218),remove:v("remove",60219),replaceAll:v("replace-all",60220),replace:v("replace",60221),repoClone:v("repo-clone",60222),repoForcePush:v("repo-force-push",60223),repoPull:v("repo-pull",60224),repoPush:v("repo-push",60225),report:v("report",60226),requestChanges:v("request-changes",60227),rocket:v("rocket",60228),rootFolderOpened:v("root-folder-opened",60229),rootFolder:v("root-folder",60230),rss:v("rss",60231),ruby:v("ruby",60232),saveAll:v("save-all",60233),saveAs:v("save-as",60234),save:v("save",60235),screenFull:v("screen-full",60236),screenNormal:v("screen-normal",60237),searchStop:v("search-stop",60238),server:v("server",60240),settingsGear:v("settings-gear",60241),settings:v("settings",60242),shield:v("shield",60243),smiley:v("smiley",60244),sortPrecedence:v("sort-precedence",60245),splitHorizontal:v("split-horizontal",60246),splitVertical:v("split-vertical",60247),squirrel:v("squirrel",60248),starFull:v("star-full",60249),starHalf:v("star-half",60250),symbolClass:v("symbol-class",60251),symbolColor:v("symbol-color",60252),symbolCustomColor:v("symbol-customcolor",60252),symbolConstant:v("symbol-constant",60253),symbolEnumMember:v("symbol-enum-member",60254),symbolField:v("symbol-field",60255),symbolFile:v("symbol-file",60256),symbolInterface:v("symbol-interface",60257),symbolKeyword:v("symbol-keyword",60258),symbolMisc:v("symbol-misc",60259),symbolOperator:v("symbol-operator",60260),symbolProperty:v("symbol-property",60261),wrench:v("wrench",60261),wrenchSubaction:v("wrench-subaction",60261),symbolSnippet:v("symbol-snippet",60262),tasklist:v("tasklist",60263),telescope:v("telescope",60264),textSize:v("text-size",60265),threeBars:v("three-bars",60266),thumbsdown:v("thumbsdown",60267),thumbsup:v("thumbsup",60268),tools:v("tools",60269),triangleDown:v("triangle-down",60270),triangleLeft:v("triangle-left",60271),triangleRight:v("triangle-right",60272),triangleUp:v("triangle-up",60273),twitter:v("twitter",60274),unfold:v("unfold",60275),unlock:v("unlock",60276),unmute:v("unmute",60277),unverified:v("unverified",60278),verified:v("verified",60279),versions:v("versions",60280),vmActive:v("vm-active",60281),vmOutline:v("vm-outline",60282),vmRunning:v("vm-running",60283),watch:v("watch",60284),whitespace:v("whitespace",60285),wholeWord:v("whole-word",60286),window:v("window",60287),wordWrap:v("word-wrap",60288),zoomIn:v("zoom-in",60289),zoomOut:v("zoom-out",60290),listFilter:v("list-filter",60291),listFlat:v("list-flat",60292),listSelection:v("list-selection",60293),selection:v("selection",60293),listTree:v("list-tree",60294),debugBreakpointFunctionUnverified:v("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:v("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:v("debug-breakpoint-function-disabled",60296),debugStackframeActive:v("debug-stackframe-active",60297),circleSmallFilled:v("circle-small-filled",60298),debugStackframeDot:v("debug-stackframe-dot",60298),debugStackframe:v("debug-stackframe",60299),debugStackframeFocused:v("debug-stackframe-focused",60299),debugBreakpointUnsupported:v("debug-breakpoint-unsupported",60300),symbolString:v("symbol-string",60301),debugReverseContinue:v("debug-reverse-continue",60302),debugStepBack:v("debug-step-back",60303),debugRestartFrame:v("debug-restart-frame",60304),callIncoming:v("call-incoming",60306),callOutgoing:v("call-outgoing",60307),menu:v("menu",60308),expandAll:v("expand-all",60309),feedback:v("feedback",60310),gitPullRequestReviewer:v("git-pull-request-reviewer",60310),groupByRefType:v("group-by-ref-type",60311),ungroupByRefType:v("ungroup-by-ref-type",60312),account:v("account",60313),gitPullRequestAssignee:v("git-pull-request-assignee",60313),bellDot:v("bell-dot",60314),debugConsole:v("debug-console",60315),library:v("library",60316),output:v("output",60317),runAll:v("run-all",60318),syncIgnored:v("sync-ignored",60319),pinned:v("pinned",60320),githubInverted:v("github-inverted",60321),debugAlt:v("debug-alt",60305),serverProcess:v("server-process",60322),serverEnvironment:v("server-environment",60323),pass:v("pass",60324),stopCircle:v("stop-circle",60325),playCircle:v("play-circle",60326),record:v("record",60327),debugAltSmall:v("debug-alt-small",60328),vmConnect:v("vm-connect",60329),cloud:v("cloud",60330),merge:v("merge",60331),exportIcon:v("export",60332),graphLeft:v("graph-left",60333),magnet:v("magnet",60334),notebook:v("notebook",60335),redo:v("redo",60336),checkAll:v("check-all",60337),pinnedDirty:v("pinned-dirty",60338),passFilled:v("pass-filled",60339),circleLargeFilled:v("circle-large-filled",60340),circleLarge:v("circle-large",60341),circleLargeOutline:v("circle-large-outline",60341),combine:v("combine",60342),gather:v("gather",60342),table:v("table",60343),variableGroup:v("variable-group",60344),typeHierarchy:v("type-hierarchy",60345),typeHierarchySub:v("type-hierarchy-sub",60346),typeHierarchySuper:v("type-hierarchy-super",60347),gitPullRequestCreate:v("git-pull-request-create",60348),runAbove:v("run-above",60349),runBelow:v("run-below",60350),notebookTemplate:v("notebook-template",60351),debugRerun:v("debug-rerun",60352),workspaceTrusted:v("workspace-trusted",60353),workspaceUntrusted:v("workspace-untrusted",60354),workspaceUnspecified:v("workspace-unspecified",60355),terminalCmd:v("terminal-cmd",60356),terminalDebian:v("terminal-debian",60357),terminalLinux:v("terminal-linux",60358),terminalPowershell:v("terminal-powershell",60359),terminalTmux:v("terminal-tmux",60360),terminalUbuntu:v("terminal-ubuntu",60361),terminalBash:v("terminal-bash",60362),arrowSwap:v("arrow-swap",60363),copy:v("copy",60364),personAdd:v("person-add",60365),filterFilled:v("filter-filled",60366),wand:v("wand",60367),debugLineByLine:v("debug-line-by-line",60368),inspect:v("inspect",60369),layers:v("layers",60370),layersDot:v("layers-dot",60371),layersActive:v("layers-active",60372),compass:v("compass",60373),compassDot:v("compass-dot",60374),compassActive:v("compass-active",60375),azure:v("azure",60376),issueDraft:v("issue-draft",60377),gitPullRequestClosed:v("git-pull-request-closed",60378),gitPullRequestDraft:v("git-pull-request-draft",60379),debugAll:v("debug-all",60380),debugCoverage:v("debug-coverage",60381),runErrors:v("run-errors",60382),folderLibrary:v("folder-library",60383),debugContinueSmall:v("debug-continue-small",60384),beakerStop:v("beaker-stop",60385),graphLine:v("graph-line",60386),graphScatter:v("graph-scatter",60387),pieChart:v("pie-chart",60388),bracketDot:v("bracket-dot",60389),bracketError:v("bracket-error",60390),lockSmall:v("lock-small",60391),azureDevops:v("azure-devops",60392),verifiedFilled:v("verified-filled",60393),newLine:v("newline",60394),layout:v("layout",60395),layoutActivitybarLeft:v("layout-activitybar-left",60396),layoutActivitybarRight:v("layout-activitybar-right",60397),layoutPanelLeft:v("layout-panel-left",60398),layoutPanelCenter:v("layout-panel-center",60399),layoutPanelJustify:v("layout-panel-justify",60400),layoutPanelRight:v("layout-panel-right",60401),layoutPanel:v("layout-panel",60402),layoutSidebarLeft:v("layout-sidebar-left",60403),layoutSidebarRight:v("layout-sidebar-right",60404),layoutStatusbar:v("layout-statusbar",60405),layoutMenubar:v("layout-menubar",60406),layoutCentered:v("layout-centered",60407),layoutSidebarRightOff:v("layout-sidebar-right-off",60416),layoutPanelOff:v("layout-panel-off",60417),layoutSidebarLeftOff:v("layout-sidebar-left-off",60418),target:v("target",60408),indent:v("indent",60409),recordSmall:v("record-small",60410),errorSmall:v("error-small",60411),arrowCircleDown:v("arrow-circle-down",60412),arrowCircleLeft:v("arrow-circle-left",60413),arrowCircleRight:v("arrow-circle-right",60414),arrowCircleUp:v("arrow-circle-up",60415),heartFilled:v("heart-filled",60420),map:v("map",60421),mapFilled:v("map-filled",60422),circleSmall:v("circle-small",60423),bellSlash:v("bell-slash",60424),bellSlashDot:v("bell-slash-dot",60425),commentUnresolved:v("comment-unresolved",60426),gitPullRequestGoToChanges:v("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:v("git-pull-request-new-changes",60428),searchFuzzy:v("search-fuzzy",60429),commentDraft:v("comment-draft",60430),send:v("send",60431),sparkle:v("sparkle",60432),insert:v("insert",60433),mic:v("mic",60434),thumbsDownFilled:v("thumbsdown-filled",60435),thumbsUpFilled:v("thumbsup-filled",60436),coffee:v("coffee",60437),snake:v("snake",60438),game:v("game",60439),vr:v("vr",60440),chip:v("chip",60441),piano:v("piano",60442),music:v("music",60443),micFilled:v("mic-filled",60444),gitFetch:v("git-fetch",60445),copilot:v("copilot",60446),lightbulbSparkle:v("lightbulb-sparkle",60447),lightbulbSparkleAutofix:v("lightbulb-sparkle-autofix",60447),robot:v("robot",60448),sparkleFilled:v("sparkle-filled",60449),diffSingle:v("diff-single",60450),diffMultiple:v("diff-multiple",60451),dialogError:v("dialog-error","error"),dialogWarning:v("dialog-warning","warning"),dialogInfo:v("dialog-info","info"),dialogClose:v("dialog-close","close"),treeItemExpanded:v("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:v("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:v("tree-filter-on-type-off","list-selection"),treeFilterClear:v("tree-filter-clear","close"),treeItemLoading:v("tree-item-loading","loading"),menuSelection:v("menu-selection","check"),menuSubmenu:v("menu-submenu","chevron-right"),menuBarMore:v("menubar-more","more"),scrollbarButtonLeft:v("scrollbar-button-left","triangle-left"),scrollbarButtonRight:v("scrollbar-button-right","triangle-right"),scrollbarButtonUp:v("scrollbar-button-up","triangle-up"),scrollbarButtonDown:v("scrollbar-button-down","triangle-down"),toolBarMore:v("toolbar-more","more"),quickInputBack:v("quick-input-back","arrow-left")}},55263:function(Gt,ze,c){"use strict";c.d(ze,{j:function(){return X},q:function(){return D}});function D(v,k){const L=[],T=[];for(const M of v)k.has(M)||L.push(M);for(const M of k)v.has(M)||T.push(M);return{removed:L,added:T}}function X(v,k){const L=new Set;for(const T of k)v.has(T)&&L.add(T);return L}},72225:function(Gt,ze,c){"use strict";c.d(ze,{Il:function(){return L},Oz:function(){return v},VS:function(){return X},tx:function(){return k}});function D(T,M){const B=Math.pow(10,M);return Math.round(T*B)/B}class X{constructor(M,B,y,b=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,M))|0,this.g=Math.min(255,Math.max(0,B))|0,this.b=Math.min(255,Math.max(0,y))|0,this.a=D(Math.max(Math.min(1,b),0),3)}static equals(M,B){return M.r===B.r&&M.g===B.g&&M.b===B.b&&M.a===B.a}}class v{constructor(M,B,y,b){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,M),0)|0,this.s=D(Math.max(Math.min(1,B),0),3),this.l=D(Math.max(Math.min(1,y),0),3),this.a=D(Math.max(Math.min(1,b),0),3)}static equals(M,B){return M.h===B.h&&M.s===B.s&&M.l===B.l&&M.a===B.a}static fromRGBA(M){const B=M.r/255,y=M.g/255,b=M.b/255,C=M.a,S=Math.max(B,y,b),_=Math.min(B,y,b);let a=0,u=0;const N=(_+S)/2,O=S-_;if(O>0){switch(u=Math.min(N<=.5?O/(2*N):O/(2-2*N),1),S){case B:a=(y-b)/O+(y<b?6:0);break;case y:a=(b-B)/O+2;break;case b:a=(B-y)/O+4;break}a*=60,a=Math.round(a)}return new v(a,u,N,C)}static _hue2rgb(M,B,y){return y<0&&(y+=1),y>1&&(y-=1),y<1/6?M+(B-M)*6*y:y<1/2?B:y<2/3?M+(B-M)*(2/3-y)*6:M}static toRGBA(M){const B=M.h/360,{s:y,l:b,a:C}=M;let S,_,a;if(y===0)S=_=a=b;else{const u=b<.5?b*(1+y):b+y-b*y,N=2*b-u;S=v._hue2rgb(N,u,B+1/3),_=v._hue2rgb(N,u,B),a=v._hue2rgb(N,u,B-1/3)}return new X(Math.round(S*255),Math.round(_*255),Math.round(a*255),C)}}class k{constructor(M,B,y,b){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,M),0)|0,this.s=D(Math.max(Math.min(1,B),0),3),this.v=D(Math.max(Math.min(1,y),0),3),this.a=D(Math.max(Math.min(1,b),0),3)}static equals(M,B){return M.h===B.h&&M.s===B.s&&M.v===B.v&&M.a===B.a}static fromRGBA(M){const B=M.r/255,y=M.g/255,b=M.b/255,C=Math.max(B,y,b),S=Math.min(B,y,b),_=C-S,a=C===0?0:_/C;let u;return _===0?u=0:C===B?u=((y-b)/_%6+6)%6:C===y?u=(b-B)/_+2:u=(B-y)/_+4,new k(Math.round(u*60),a,C,M.a)}static toRGBA(M){const{h:B,s:y,v:b,a:C}=M,S=b*y,_=S*(1-Math.abs(B/60%2-1)),a=b-S;let[u,N,O]=[0,0,0];return B<60?(u=S,N=_):B<120?(u=_,N=S):B<180?(N=S,O=_):B<240?(N=_,O=S):B<300?(u=_,O=S):B<=360&&(u=S,O=_),u=Math.round((u+a)*255),N=Math.round((N+a)*255),O=Math.round((O+a)*255),new X(u,N,O,C)}}class L{static fromHex(M){return L.Format.CSS.parseHex(M)||L.red}static equals(M,B){return!M&&!B?!0:!M||!B?!1:M.equals(B)}get hsla(){return this._hsla?this._hsla:v.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:k.fromRGBA(this.rgba)}constructor(M){if(M)if(M instanceof X)this.rgba=M;else if(M instanceof v)this._hsla=M,this.rgba=v.toRGBA(M);else if(M instanceof k)this._hsva=M,this.rgba=k.toRGBA(M);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(M){return!!M&&X.equals(this.rgba,M.rgba)&&v.equals(this.hsla,M.hsla)&&k.equals(this.hsva,M.hsva)}getRelativeLuminance(){const M=L._relativeLuminanceForComponent(this.rgba.r),B=L._relativeLuminanceForComponent(this.rgba.g),y=L._relativeLuminanceForComponent(this.rgba.b),b=.2126*M+.7152*B+.0722*y;return D(b,4)}static _relativeLuminanceForComponent(M){const B=M/255;return B<=.03928?B/12.92:Math.pow((B+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(M){const B=this.getRelativeLuminance(),y=M.getRelativeLuminance();return B>y}isDarkerThan(M){const B=this.getRelativeLuminance(),y=M.getRelativeLuminance();return B<y}lighten(M){return new L(new v(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*M,this.hsla.a))}darken(M){return new L(new v(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*M,this.hsla.a))}transparent(M){const{r:B,g:y,b,a:C}=this.rgba;return new L(new X(B,y,b,C*M))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new L(new X(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(M){if(this.isOpaque()||M.rgba.a!==1)return this;const{r:B,g:y,b,a:C}=this.rgba;return new L(new X(M.rgba.r-C*(M.rgba.r-B),M.rgba.g-C*(M.rgba.g-y),M.rgba.b-C*(M.rgba.b-b),1))}toString(){return this._toString||(this._toString=L.Format.CSS.format(this)),this._toString}static getLighterColor(M,B,y){if(M.isLighterThan(B))return M;y=y||.5;const b=M.getRelativeLuminance(),C=B.getRelativeLuminance();return y=y*(C-b)/C,M.lighten(y)}static getDarkerColor(M,B,y){if(M.isDarkerThan(B))return M;y=y||.5;const b=M.getRelativeLuminance(),C=B.getRelativeLuminance();return y=y*(b-C)/b,M.darken(y)}}L.white=new L(new X(255,255,255,1)),L.black=new L(new X(0,0,0,1)),L.red=new L(new X(255,0,0,1)),L.blue=new L(new X(0,0,255,1)),L.green=new L(new X(0,255,0,1)),L.cyan=new L(new X(0,255,255,1)),L.lightgrey=new L(new X(211,211,211,1)),L.transparent=new L(new X(0,0,0,0)),function(T){let M;(function(B){let y;(function(b){function C(Y){return Y.rgba.a===1?`rgb(${Y.rgba.r}, ${Y.rgba.g}, ${Y.rgba.b})`:T.Format.CSS.formatRGBA(Y)}b.formatRGB=C;function S(Y){return`rgba(${Y.rgba.r}, ${Y.rgba.g}, ${Y.rgba.b}, ${+Y.rgba.a.toFixed(2)})`}b.formatRGBA=S;function _(Y){return Y.hsla.a===1?`hsl(${Y.hsla.h}, ${(Y.hsla.s*100).toFixed(2)}%, ${(Y.hsla.l*100).toFixed(2)}%)`:T.Format.CSS.formatHSLA(Y)}b.formatHSL=_;function a(Y){return`hsla(${Y.hsla.h}, ${(Y.hsla.s*100).toFixed(2)}%, ${(Y.hsla.l*100).toFixed(2)}%, ${Y.hsla.a.toFixed(2)})`}b.formatHSLA=a;function u(Y){const G=Y.toString(16);return G.length!==2?"0"+G:G}function N(Y){return`#${u(Y.rgba.r)}${u(Y.rgba.g)}${u(Y.rgba.b)}`}b.formatHex=N;function O(Y,G=!1){return G&&Y.rgba.a===1?T.Format.CSS.formatHex(Y):`#${u(Y.rgba.r)}${u(Y.rgba.g)}${u(Y.rgba.b)}${u(Math.round(Y.rgba.a*255))}`}b.formatHexA=O;function R(Y){return Y.isOpaque()?T.Format.CSS.formatHex(Y):T.Format.CSS.formatRGBA(Y)}b.format=R;function V(Y){const G=Y.length;if(G===0||Y.charCodeAt(0)!==35)return null;if(G===7){const Z=16*F(Y.charCodeAt(1))+F(Y.charCodeAt(2)),ne=16*F(Y.charCodeAt(3))+F(Y.charCodeAt(4)),$=16*F(Y.charCodeAt(5))+F(Y.charCodeAt(6));return new T(new X(Z,ne,$,1))}if(G===9){const Z=16*F(Y.charCodeAt(1))+F(Y.charCodeAt(2)),ne=16*F(Y.charCodeAt(3))+F(Y.charCodeAt(4)),$=16*F(Y.charCodeAt(5))+F(Y.charCodeAt(6)),J=16*F(Y.charCodeAt(7))+F(Y.charCodeAt(8));return new T(new X(Z,ne,$,J/255))}if(G===4){const Z=F(Y.charCodeAt(1)),ne=F(Y.charCodeAt(2)),$=F(Y.charCodeAt(3));return new T(new X(16*Z+Z,16*ne+ne,16*$+$))}if(G===5){const Z=F(Y.charCodeAt(1)),ne=F(Y.charCodeAt(2)),$=F(Y.charCodeAt(3)),J=F(Y.charCodeAt(4));return new T(new X(16*Z+Z,16*ne+ne,16*$+$,(16*J+J)/255))}return null}b.parseHex=V;function F(Y){switch(Y){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(y=B.CSS||(B.CSS={}))})(M=T.Format||(T.Format={}))}(L||(L={}))},62735:function(Gt,ze,c){"use strict";c.d(ze,{H:function(){return D}});function D(X,v,k){let L=null,T=null;if(typeof k.value=="function"?(L="value",T=k.value,T.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof k.get=="function"&&(L="get",T=k.get),!T)throw new Error("not supported");const M=`$memoize$${v}`;k[L]=function(...B){return this.hasOwnProperty(M)||Object.defineProperty(this,M,{configurable:!1,enumerable:!1,writable:!1,value:T.apply(this,B)}),this[M]}}},72221:function(Gt,ze,c){"use strict";c.d(ze,{Hs:function(){return B},a$:function(){return k}});class D{constructor(b,C,S,_){this.originalStart=b,this.originalLength=C,this.modifiedStart=S,this.modifiedLength=_}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var X=c(31815);class v{constructor(b){this.source=b}getElements(){const b=this.source,C=new Int32Array(b.length);for(let S=0,_=b.length;S<_;S++)C[S]=b.charCodeAt(S);return C}}function k(y,b,C){return new B(new v(y),new v(b)).ComputeDiff(C).changes}class L{static Assert(b,C){if(!b)throw new Error(C)}}class T{static Copy(b,C,S,_,a){for(let u=0;u<a;u++)S[_+u]=b[C+u]}static Copy2(b,C,S,_,a){for(let u=0;u<a;u++)S[_+u]=b[C+u]}}class M{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new D(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(b,C){this.m_originalStart=Math.min(this.m_originalStart,b),this.m_modifiedStart=Math.min(this.m_modifiedStart,C),this.m_originalCount++}AddModifiedElement(b,C){this.m_originalStart=Math.min(this.m_originalStart,b),this.m_modifiedStart=Math.min(this.m_modifiedStart,C),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class B{constructor(b,C,S=null){this.ContinueProcessingPredicate=S,this._originalSequence=b,this._modifiedSequence=C;const[_,a,u]=B._getElements(b),[N,O,R]=B._getElements(C);this._hasStrings=u&&R,this._originalStringElements=_,this._originalElementsOrHash=a,this._modifiedStringElements=N,this._modifiedElementsOrHash=O,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(b){return b.length>0&&typeof b[0]=="string"}static _getElements(b){const C=b.getElements();if(B._isStringArray(C)){const S=new Int32Array(C.length);for(let _=0,a=C.length;_<a;_++)S[_]=(0,X.Cv)(C[_],0);return[C,S,!0]}return C instanceof Int32Array?[[],C,!1]:[[],new Int32Array(C),!1]}ElementsAreEqual(b,C){return this._originalElementsOrHash[b]!==this._modifiedElementsOrHash[C]?!1:this._hasStrings?this._originalStringElements[b]===this._modifiedStringElements[C]:!0}ElementsAreStrictEqual(b,C){if(!this.ElementsAreEqual(b,C))return!1;const S=B._getStrictElement(this._originalSequence,b),_=B._getStrictElement(this._modifiedSequence,C);return S===_}static _getStrictElement(b,C){return typeof b.getStrictElement=="function"?b.getStrictElement(C):null}OriginalElementsAreEqual(b,C){return this._originalElementsOrHash[b]!==this._originalElementsOrHash[C]?!1:this._hasStrings?this._originalStringElements[b]===this._originalStringElements[C]:!0}ModifiedElementsAreEqual(b,C){return this._modifiedElementsOrHash[b]!==this._modifiedElementsOrHash[C]?!1:this._hasStrings?this._modifiedStringElements[b]===this._modifiedStringElements[C]:!0}ComputeDiff(b){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,b)}_ComputeDiff(b,C,S,_,a){const u=[!1];let N=this.ComputeDiffRecursive(b,C,S,_,u);return a&&(N=this.PrettifyChanges(N)),{quitEarly:u[0],changes:N}}ComputeDiffRecursive(b,C,S,_,a){for(a[0]=!1;b<=C&&S<=_&&this.ElementsAreEqual(b,S);)b++,S++;for(;C>=b&&_>=S&&this.ElementsAreEqual(C,_);)C--,_--;if(b>C||S>_){let F;return S<=_?(L.Assert(b===C+1,"originalStart should only be one more than originalEnd"),F=[new D(b,0,S,_-S+1)]):b<=C?(L.Assert(S===_+1,"modifiedStart should only be one more than modifiedEnd"),F=[new D(b,C-b+1,S,0)]):(L.Assert(b===C+1,"originalStart should only be one more than originalEnd"),L.Assert(S===_+1,"modifiedStart should only be one more than modifiedEnd"),F=[]),F}const u=[0],N=[0],O=this.ComputeRecursionPoint(b,C,S,_,u,N,a),R=u[0],V=N[0];if(O!==null)return O;if(!a[0]){const F=this.ComputeDiffRecursive(b,R,S,V,a);let Y=[];return a[0]?Y=[new D(R+1,C-(R+1)+1,V+1,_-(V+1)+1)]:Y=this.ComputeDiffRecursive(R+1,C,V+1,_,a),this.ConcatenateChanges(F,Y)}return[new D(b,C-b+1,S,_-S+1)]}WALKTRACE(b,C,S,_,a,u,N,O,R,V,F,Y,G,Z,ne,$,J,se){let re=null,he=null,H=new M,P=C,j=S,K=G[0]-$[0]-_,ie=-1073741824,ce=this.m_forwardHistory.length-1;do{const _e=K+b;_e===P||_e<j&&R[_e-1]<R[_e+1]?(F=R[_e+1],Z=F-K-_,F<ie&&H.MarkNextChange(),ie=F,H.AddModifiedElement(F+1,Z),K=_e+1-b):(F=R[_e-1]+1,Z=F-K-_,F<ie&&H.MarkNextChange(),ie=F-1,H.AddOriginalElement(F,Z+1),K=_e-1-b),ce>=0&&(R=this.m_forwardHistory[ce],b=R[0],P=1,j=R.length-1)}while(--ce>=-1);if(re=H.getReverseChanges(),se[0]){let _e=G[0]+1,Ee=$[0]+1;if(re!==null&&re.length>0){const Ce=re[re.length-1];_e=Math.max(_e,Ce.getOriginalEnd()),Ee=Math.max(Ee,Ce.getModifiedEnd())}he=[new D(_e,Y-_e+1,Ee,ne-Ee+1)]}else{H=new M,P=u,j=N,K=G[0]-$[0]-O,ie=1073741824,ce=J?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const _e=K+a;_e===P||_e<j&&V[_e-1]>=V[_e+1]?(F=V[_e+1]-1,Z=F-K-O,F>ie&&H.MarkNextChange(),ie=F+1,H.AddOriginalElement(F+1,Z+1),K=_e+1-a):(F=V[_e-1],Z=F-K-O,F>ie&&H.MarkNextChange(),ie=F,H.AddModifiedElement(F+1,Z+1),K=_e-1-a),ce>=0&&(V=this.m_reverseHistory[ce],a=V[0],P=1,j=V.length-1)}while(--ce>=-1);he=H.getChanges()}return this.ConcatenateChanges(re,he)}ComputeRecursionPoint(b,C,S,_,a,u,N){let O=0,R=0,V=0,F=0,Y=0,G=0;b--,S--,a[0]=0,u[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const Z=C-b+(_-S),ne=Z+1,$=new Int32Array(ne),J=new Int32Array(ne),se=_-S,re=C-b,he=b-S,H=C-_,j=(re-se)%2===0;$[se]=b,J[re]=C,N[0]=!1;for(let K=1;K<=Z/2+1;K++){let ie=0,ce=0;V=this.ClipDiagonalBound(se-K,K,se,ne),F=this.ClipDiagonalBound(se+K,K,se,ne);for(let Ee=V;Ee<=F;Ee+=2){Ee===V||Ee<F&&$[Ee-1]<$[Ee+1]?O=$[Ee+1]:O=$[Ee-1]+1,R=O-(Ee-se)-he;const Ce=O;for(;O<C&&R<_&&this.ElementsAreEqual(O+1,R+1);)O++,R++;if($[Ee]=O,O+R>ie+ce&&(ie=O,ce=R),!j&&Math.abs(Ee-re)<=K-1&&O>=J[Ee])return a[0]=O,u[0]=R,Ce<=J[Ee]&&1447>0&&K<=1447+1?this.WALKTRACE(se,V,F,he,re,Y,G,H,$,J,O,C,a,R,_,u,j,N):null}const _e=(ie-b+(ce-S)-K)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(ie,_e))return N[0]=!0,a[0]=ie,u[0]=ce,_e>0&&1447>0&&K<=1447+1?this.WALKTRACE(se,V,F,he,re,Y,G,H,$,J,O,C,a,R,_,u,j,N):(b++,S++,[new D(b,C-b+1,S,_-S+1)]);Y=this.ClipDiagonalBound(re-K,K,re,ne),G=this.ClipDiagonalBound(re+K,K,re,ne);for(let Ee=Y;Ee<=G;Ee+=2){Ee===Y||Ee<G&&J[Ee-1]>=J[Ee+1]?O=J[Ee+1]-1:O=J[Ee-1],R=O-(Ee-re)-H;const Ce=O;for(;O>b&&R>S&&this.ElementsAreEqual(O,R);)O--,R--;if(J[Ee]=O,j&&Math.abs(Ee-se)<=K&&O<=$[Ee])return a[0]=O,u[0]=R,Ce>=$[Ee]&&1447>0&&K<=1447+1?this.WALKTRACE(se,V,F,he,re,Y,G,H,$,J,O,C,a,R,_,u,j,N):null}if(K<=1447){let Ee=new Int32Array(F-V+2);Ee[0]=se-V+1,T.Copy2($,V,Ee,1,F-V+1),this.m_forwardHistory.push(Ee),Ee=new Int32Array(G-Y+2),Ee[0]=re-Y+1,T.Copy2(J,Y,Ee,1,G-Y+1),this.m_reverseHistory.push(Ee)}}return this.WALKTRACE(se,V,F,he,re,Y,G,H,$,J,O,C,a,R,_,u,j,N)}PrettifyChanges(b){for(let C=0;C<b.length;C++){const S=b[C],_=C<b.length-1?b[C+1].originalStart:this._originalElementsOrHash.length,a=C<b.length-1?b[C+1].modifiedStart:this._modifiedElementsOrHash.length,u=S.originalLength>0,N=S.modifiedLength>0;for(;S.originalStart+S.originalLength<_&&S.modifiedStart+S.modifiedLength<a&&(!u||this.OriginalElementsAreEqual(S.originalStart,S.originalStart+S.originalLength))&&(!N||this.ModifiedElementsAreEqual(S.modifiedStart,S.modifiedStart+S.modifiedLength));){const R=this.ElementsAreStrictEqual(S.originalStart,S.modifiedStart);if(this.ElementsAreStrictEqual(S.originalStart+S.originalLength,S.modifiedStart+S.modifiedLength)&&!R)break;S.originalStart++,S.modifiedStart++}const O=[null];if(C<b.length-1&&this.ChangesOverlap(b[C],b[C+1],O)){b[C]=O[0],b.splice(C+1,1),C--;continue}}for(let C=b.length-1;C>=0;C--){const S=b[C];let _=0,a=0;if(C>0){const F=b[C-1];_=F.originalStart+F.originalLength,a=F.modifiedStart+F.modifiedLength}const u=S.originalLength>0,N=S.modifiedLength>0;let O=0,R=this._boundaryScore(S.originalStart,S.originalLength,S.modifiedStart,S.modifiedLength);for(let F=1;;F++){const Y=S.originalStart-F,G=S.modifiedStart-F;if(Y<_||G<a||u&&!this.OriginalElementsAreEqual(Y,Y+S.originalLength)||N&&!this.ModifiedElementsAreEqual(G,G+S.modifiedLength))break;const ne=(Y===_&&G===a?5:0)+this._boundaryScore(Y,S.originalLength,G,S.modifiedLength);ne>R&&(R=ne,O=F)}S.originalStart-=O,S.modifiedStart-=O;const V=[null];if(C>0&&this.ChangesOverlap(b[C-1],b[C],V)){b[C-1]=V[0],b.splice(C,1),C++;continue}}if(this._hasStrings)for(let C=1,S=b.length;C<S;C++){const _=b[C-1],a=b[C],u=a.originalStart-_.originalStart-_.originalLength,N=_.originalStart,O=a.originalStart+a.originalLength,R=O-N,V=_.modifiedStart,F=a.modifiedStart+a.modifiedLength,Y=F-V;if(u<5&&R<20&&Y<20){const G=this._findBetterContiguousSequence(N,R,V,Y,u);if(G){const[Z,ne]=G;(Z!==_.originalStart+_.originalLength||ne!==_.modifiedStart+_.modifiedLength)&&(_.originalLength=Z-_.originalStart,_.modifiedLength=ne-_.modifiedStart,a.originalStart=Z+u,a.modifiedStart=ne+u,a.originalLength=O-a.originalStart,a.modifiedLength=F-a.modifiedStart)}}}return b}_findBetterContiguousSequence(b,C,S,_,a){if(C<a||_<a)return null;const u=b+C-a+1,N=S+_-a+1;let O=0,R=0,V=0;for(let F=b;F<u;F++)for(let Y=S;Y<N;Y++){const G=this._contiguousSequenceScore(F,Y,a);G>0&&G>O&&(O=G,R=F,V=Y)}return O>0?[R,V]:null}_contiguousSequenceScore(b,C,S){let _=0;for(let a=0;a<S;a++){if(!this.ElementsAreEqual(b+a,C+a))return 0;_+=this._originalStringElements[b+a].length}return _}_OriginalIsBoundary(b){return b<=0||b>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[b])}_OriginalRegionIsBoundary(b,C){if(this._OriginalIsBoundary(b)||this._OriginalIsBoundary(b-1))return!0;if(C>0){const S=b+C;if(this._OriginalIsBoundary(S-1)||this._OriginalIsBoundary(S))return!0}return!1}_ModifiedIsBoundary(b){return b<=0||b>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[b])}_ModifiedRegionIsBoundary(b,C){if(this._ModifiedIsBoundary(b)||this._ModifiedIsBoundary(b-1))return!0;if(C>0){const S=b+C;if(this._ModifiedIsBoundary(S-1)||this._ModifiedIsBoundary(S))return!0}return!1}_boundaryScore(b,C,S,_){const a=this._OriginalRegionIsBoundary(b,C)?1:0,u=this._ModifiedRegionIsBoundary(S,_)?1:0;return a+u}ConcatenateChanges(b,C){const S=[];if(b.length===0||C.length===0)return C.length>0?C:b;if(this.ChangesOverlap(b[b.length-1],C[0],S)){const _=new Array(b.length+C.length-1);return T.Copy(b,0,_,0,b.length-1),_[b.length-1]=S[0],T.Copy(C,1,_,b.length,C.length-1),_}else{const _=new Array(b.length+C.length);return T.Copy(b,0,_,0,b.length),T.Copy(C,0,_,b.length,C.length),_}}ChangesOverlap(b,C,S){if(L.Assert(b.originalStart<=C.originalStart,"Left change is not less than or equal to right change"),L.Assert(b.modifiedStart<=C.modifiedStart,"Left change is not less than or equal to right change"),b.originalStart+b.originalLength>=C.originalStart||b.modifiedStart+b.modifiedLength>=C.modifiedStart){const _=b.originalStart;let a=b.originalLength;const u=b.modifiedStart;let N=b.modifiedLength;return b.originalStart+b.originalLength>=C.originalStart&&(a=C.originalStart+C.originalLength-b.originalStart),b.modifiedStart+b.modifiedLength>=C.modifiedStart&&(N=C.modifiedStart+C.modifiedLength-b.modifiedStart),S[0]=new D(_,a,u,N),!0}else return S[0]=null,!1}ClipDiagonalBound(b,C,S,_){if(b>=0&&b<_)return b;const a=S,u=_-S-1,N=C%2===0;if(b<0){const O=a%2===0;return N===O?0:1}else{const O=u%2===0;return N===O?_-1:_-2}}}},35541:function(Gt,ze,c){"use strict";c.d(ze,{B8:function(){return S},Cp:function(){return k},F0:function(){return y},FU:function(){return B},L6:function(){return C},b1:function(){return b},dL:function(){return v},he:function(){return a},n2:function(){return M},ri:function(){return L}});class D{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(N){setTimeout(()=>{throw N.stack?_.isErrorNoTelemetry(N)?new _(N.message+`

`+N.stack):new Error(N.message+`

`+N.stack):N},0)}}emit(N){this.listeners.forEach(O=>{O(N)})}onUnexpectedError(N){this.unexpectedErrorHandler(N),this.emit(N)}onUnexpectedExternalError(N){this.unexpectedErrorHandler(N)}}const X=new D;function v(u){M(u)||X.onUnexpectedError(u)}function k(u){M(u)||X.onUnexpectedExternalError(u)}function L(u){if(u instanceof Error){const{name:N,message:O}=u,R=u.stacktrace||u.stack;return{$isError:!0,name:N,message:O,stack:R,noTelemetry:_.isErrorNoTelemetry(u)}}return u}const T="Canceled";function M(u){return u instanceof B?!0:u instanceof Error&&u.name===T&&u.message===T}class B extends Error{constructor(){super(T),this.name=this.message}}function y(){const u=new Error(T);return u.name=u.message,u}function b(u){return u?new Error(`Illegal argument: ${u}`):new Error("Illegal argument")}function C(u){return u?new Error(`Illegal state: ${u}`):new Error("Illegal state")}class S extends Error{constructor(N){super("NotSupported"),N&&(this.message=N)}}class _ extends Error{constructor(N){super(N),this.name="CodeExpectedError"}static fromError(N){if(N instanceof _)return N;const O=new _;return O.message=N.message,O.stack=N.stack,O}static isErrorNoTelemetry(N){return N.name==="CodeExpectedError"}}class a extends Error{constructor(N){super(N||"An unexpected bug occurred."),Object.setPrototypeOf(this,a.prototype)}}},46328:function(Gt,ze,c){"use strict";c.d(ze,{D0:function(){return F},E7:function(){return Z},K3:function(){return V},Q5:function(){return N},SZ:function(){return Y},Sp:function(){return O},ZD:function(){return ne},ju:function(){return B},z5:function(){return G}});var D=c(35541),X=c(15039),v=c(83845),k=c(29882),L=c(74987);const T=!1,M=!1;var B;(function($){$.None=()=>v.JT.None;function J(xt){if(M){const{onDidAddListener:vt}=xt,we=S.create();let pt=0;xt.onDidAddListener=()=>{++pt===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),we.print()),vt==null||vt()}}}function se(xt,vt){return Ee(xt,()=>{},0,void 0,!0,void 0,vt)}$.defer=se;function re(xt){return(vt,we=null,pt)=>{let Mt=!1,Ft;return Ft=xt(Xt=>{if(!Mt)return Ft?Ft.dispose():Mt=!0,vt.call(we,Xt)},null,pt),Mt&&Ft.dispose(),Ft}}$.once=re;function he(xt,vt,we){return ce((pt,Mt=null,Ft)=>xt(Xt=>pt.call(Mt,vt(Xt)),null,Ft),we)}$.map=he;function H(xt,vt,we){return ce((pt,Mt=null,Ft)=>xt(Xt=>{vt(Xt),pt.call(Mt,Xt)},null,Ft),we)}$.forEach=H;function P(xt,vt,we){return ce((pt,Mt=null,Ft)=>xt(Xt=>vt(Xt)&&pt.call(Mt,Xt),null,Ft),we)}$.filter=P;function j(xt){return xt}$.signal=j;function K(...xt){return(vt,we=null,pt)=>{const Mt=(0,v.F8)(...xt.map(Ft=>Ft(Xt=>vt.call(we,Xt))));return _e(Mt,pt)}}$.any=K;function ie(xt,vt,we,pt){let Mt=we;return he(xt,Ft=>(Mt=vt(Mt,Ft),Mt),pt)}$.reduce=ie;function ce(xt,vt){let we;const pt={onWillAddFirstListener(){we=xt(Mt.fire,Mt)},onDidRemoveLastListener(){we==null||we.dispose()}};vt||J(pt);const Mt=new N(pt);return vt==null||vt.add(Mt),Mt.event}function _e(xt,vt){return vt instanceof Array?vt.push(xt):vt&&vt.add(xt),xt}function Ee(xt,vt,we=100,pt=!1,Mt=!1,Ft,Xt){let li,Yt,Ne,yt=0,De;const di={leakWarningThreshold:Ft,onWillAddFirstListener(){li=xt($i=>{yt++,Yt=vt(Yt,$i),pt&&!Ne&&(Ve.fire(Yt),Yt=void 0),De=()=>{const wn=Yt;Yt=void 0,Ne=void 0,(!pt||yt>1)&&Ve.fire(wn),yt=0},typeof we=="number"?(clearTimeout(Ne),Ne=setTimeout(De,we)):Ne===void 0&&(Ne=0,queueMicrotask(De))})},onWillRemoveListener(){Mt&&yt>0&&(De==null||De())},onDidRemoveLastListener(){De=void 0,li.dispose()}};Xt||J(di);const Ve=new N(di);return Xt==null||Xt.add(Ve),Ve.event}$.debounce=Ee;function Ce(xt,vt=0,we){return $.debounce(xt,(pt,Mt)=>pt?(pt.push(Mt),pt):[Mt],vt,void 0,!0,void 0,we)}$.accumulate=Ce;function pe(xt,vt=(pt,Mt)=>pt===Mt,we){let pt=!0,Mt;return P(xt,Ft=>{const Xt=pt||!vt(Ft,Mt);return pt=!1,Mt=Ft,Xt},we)}$.latch=pe;function xe(xt,vt,we){return[$.filter(xt,vt,we),$.filter(xt,pt=>!vt(pt),we)]}$.split=xe;function x(xt,vt=!1,we=[],pt){let Mt=we.slice(),Ft=xt(Yt=>{Mt?Mt.push(Yt):li.fire(Yt)});pt&&pt.add(Ft);const Xt=()=>{Mt==null||Mt.forEach(Yt=>li.fire(Yt)),Mt=null},li=new N({onWillAddFirstListener(){Ft||(Ft=xt(Yt=>li.fire(Yt)),pt&&pt.add(Ft))},onDidAddFirstListener(){Mt&&(vt?setTimeout(Xt):Xt())},onDidRemoveLastListener(){Ft&&Ft.dispose(),Ft=null}});return pt&&pt.add(li),li.event}$.buffer=x;function rt(xt,vt){return(pt,Mt,Ft)=>{const Xt=vt(new Ze);return xt(function(li){const Yt=Xt.evaluate(li);Yt!==Xe&&pt.call(Mt,Yt)},void 0,Ft)}}$.chain=rt;const Xe=Symbol("HaltChainable");class Ze{constructor(){this.steps=[]}map(vt){return this.steps.push(vt),this}forEach(vt){return this.steps.push(we=>(vt(we),we)),this}filter(vt){return this.steps.push(we=>vt(we)?we:Xe),this}reduce(vt,we){let pt=we;return this.steps.push(Mt=>(pt=vt(pt,Mt),pt)),this}latch(vt=(we,pt)=>we===pt){let we=!0,pt;return this.steps.push(Mt=>{const Ft=we||!vt(Mt,pt);return we=!1,pt=Mt,Ft?Mt:Xe}),this}evaluate(vt){for(const we of this.steps)if(vt=we(vt),vt===Xe)break;return vt}}function lt(xt,vt,we=pt=>pt){const pt=(...li)=>Xt.fire(we(...li)),Mt=()=>xt.on(vt,pt),Ft=()=>xt.removeListener(vt,pt),Xt=new N({onWillAddFirstListener:Mt,onDidRemoveLastListener:Ft});return Xt.event}$.fromNodeEventEmitter=lt;function ut(xt,vt,we=pt=>pt){const pt=(...li)=>Xt.fire(we(...li)),Mt=()=>xt.addEventListener(vt,pt),Ft=()=>xt.removeEventListener(vt,pt),Xt=new N({onWillAddFirstListener:Mt,onDidRemoveLastListener:Ft});return Xt.event}$.fromDOMEventEmitter=ut;function ct(xt){return new Promise(vt=>re(xt)(vt))}$.toPromise=ct;function He(xt){const vt=new N;return xt.then(we=>{vt.fire(we)},()=>{vt.fire(void 0)}).finally(()=>{vt.dispose()}),vt.event}$.fromPromise=He;function Dt(xt,vt,we){return vt(we),xt(pt=>vt(pt))}$.runAndSubscribe=Dt;function gt(xt,vt){let we=null;function pt(Ft){we==null||we.dispose(),we=new v.SL,vt(Ft,we)}pt(void 0);const Mt=xt(Ft=>pt(Ft));return(0,v.OF)(()=>{Mt.dispose(),we==null||we.dispose()})}$.runAndSubscribeWithStore=gt;class Re{constructor(vt,we){this._observable=vt,this._counter=0,this._hasChanged=!1;const pt={onWillAddFirstListener:()=>{vt.addObserver(this)},onDidRemoveLastListener:()=>{vt.removeObserver(this)}};we||J(pt),this.emitter=new N(pt),we&&we.add(this.emitter)}beginUpdate(vt){this._counter++}handlePossibleChange(vt){}handleChange(vt,we){this._hasChanged=!0}endUpdate(vt){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function st(xt,vt){return new Re(xt,vt).emitter.event}$.fromObservable=st;function Tt(xt){return(vt,we,pt)=>{let Mt=0,Ft=!1;const Xt={beginUpdate(){Mt++},endUpdate(){Mt--,Mt===0&&(xt.reportChanges(),Ft&&(Ft=!1,vt.call(we)))},handlePossibleChange(){},handleChange(){Ft=!0}};xt.addObserver(Xt),xt.reportChanges();const li={dispose(){xt.removeObserver(Xt)}};return pt instanceof v.SL?pt.add(li):Array.isArray(pt)&&pt.push(li),li}}$.fromObservableLight=Tt})(B||(B={}));class y{constructor(J){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${J}_${y._idPool++}`,y.all.add(this)}start(J){this._stopWatch=new L.G,this.listenerCount=J}stop(){if(this._stopWatch){const J=this._stopWatch.elapsed();this.durations.push(J),this.elapsedOverall+=J,this.invocationCount+=1,this._stopWatch=void 0}}}y.all=new Set,y._idPool=0;let b=-1;class C{constructor(J,se=Math.random().toString(18).slice(2,5)){this.threshold=J,this.name=se,this._warnCountdown=0}dispose(){var J;(J=this._stacks)===null||J===void 0||J.clear()}check(J,se){const re=this.threshold;if(re<=0||se<re)return;this._stacks||(this._stacks=new Map);const he=this._stacks.get(J.value)||0;if(this._stacks.set(J.value,he+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=re*.5;let H,P=0;for(const[j,K]of this._stacks)(!H||P<K)&&(H=j,P=K);console.warn(`[${this.name}] potential listener LEAK detected, having ${se} listeners already. MOST frequent listener (${P}):`),console.warn(H)}return()=>{const H=this._stacks.get(J.value)||0;this._stacks.set(J.value,H-1)}}}class S{static create(){var J;return new S((J=new Error().stack)!==null&&J!==void 0?J:"")}constructor(J){this.value=J}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class _{constructor(J){this.value=J}}const a=2,u=($,J)=>{if($ instanceof _)J($);else for(let se=0;se<$.length;se++){const re=$[se];re&&J(re)}};class N{constructor(J){var se,re,he,H,P;this._size=0,this._options=J,this._leakageMon=b>0||!((se=this._options)===null||se===void 0)&&se.leakWarningThreshold?new C((he=(re=this._options)===null||re===void 0?void 0:re.leakWarningThreshold)!==null&&he!==void 0?he:b):void 0,this._perfMon=!((H=this._options)===null||H===void 0)&&H._profName?new y(this._options._profName):void 0,this._deliveryQueue=(P=this._options)===null||P===void 0?void 0:P.deliveryQueue}dispose(){var J,se,re,he;if(!this._disposed){if(this._disposed=!0,((J=this._deliveryQueue)===null||J===void 0?void 0:J.current)===this&&this._deliveryQueue.reset(),this._listeners){if(T){const H=this._listeners;queueMicrotask(()=>{u(H,P=>{var j;return(j=P.stack)===null||j===void 0?void 0:j.print()})})}this._listeners=void 0,this._size=0}(re=(se=this._options)===null||se===void 0?void 0:se.onDidRemoveLastListener)===null||re===void 0||re.call(se),(he=this._leakageMon)===null||he===void 0||he.dispose()}}get event(){var J;return(J=this._event)!==null&&J!==void 0||(this._event=(se,re,he)=>{var H,P,j,K,ie;if(this._leakageMon&&this._size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),v.JT.None;if(this._disposed)return v.JT.None;re&&(se=se.bind(re));const ce=new _(se);let _e,Ee;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(ce.stack=S.create(),_e=this._leakageMon.check(ce.stack,this._size+1)),T&&(ce.stack=Ee!=null?Ee:S.create()),this._listeners?this._listeners instanceof _?((ie=this._deliveryQueue)!==null&&ie!==void 0||(this._deliveryQueue=new R),this._listeners=[this._listeners,ce]):this._listeners.push(ce):((P=(H=this._options)===null||H===void 0?void 0:H.onWillAddFirstListener)===null||P===void 0||P.call(H,this),this._listeners=ce,(K=(j=this._options)===null||j===void 0?void 0:j.onDidAddFirstListener)===null||K===void 0||K.call(j,this)),this._size++;const Ce=(0,v.OF)(()=>{_e==null||_e(),this._removeListener(ce)});return he instanceof v.SL?he.add(Ce):Array.isArray(he)&&he.push(Ce),Ce}),this._event}_removeListener(J){var se,re,he,H;if((re=(se=this._options)===null||se===void 0?void 0:se.onWillRemoveListener)===null||re===void 0||re.call(se,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(H=(he=this._options)===null||he===void 0?void 0:he.onDidRemoveLastListener)===null||H===void 0||H.call(he,this),this._size=0;return}const P=this._listeners,j=P.indexOf(J);if(j===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,P[j]=void 0;const K=this._deliveryQueue.current===this;if(this._size*a<=P.length){let ie=0;for(let ce=0;ce<P.length;ce++)P[ce]?P[ie++]=P[ce]:K&&(this._deliveryQueue.end--,ie<this._deliveryQueue.i&&this._deliveryQueue.i--);P.length=ie}}_deliver(J,se){var re;if(!J)return;const he=((re=this._options)===null||re===void 0?void 0:re.onListenerError)||D.dL;if(!he){J.value(se);return}try{J.value(se)}catch(H){he(H)}}_deliverQueue(J){const se=J.current._listeners;for(;J.i<J.end;)this._deliver(se[J.i++],J.value);J.reset()}fire(J){var se,re,he,H;if(!((se=this._deliveryQueue)===null||se===void 0)&&se.current&&(this._deliverQueue(this._deliveryQueue),(re=this._perfMon)===null||re===void 0||re.stop()),(he=this._perfMon)===null||he===void 0||he.start(this._size),this._listeners)if(this._listeners instanceof _)this._deliver(this._listeners,J);else{const P=this._deliveryQueue;P.enqueue(this,J,this._listeners.length),this._deliverQueue(P)}(H=this._perfMon)===null||H===void 0||H.stop()}hasListeners(){return this._size>0}}const O=()=>new R;class R{constructor(){this.i=-1,this.end=0}enqueue(J,se,re){this.i=0,this.end=re,this.current=J,this.value=se}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class V extends N{constructor(J){super(J),this._isPaused=0,this._eventQueue=new k.S,this._mergeFn=J==null?void 0:J.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const J=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(J))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(J){this._size&&(this._isPaused!==0?this._eventQueue.push(J):super.fire(J))}}class F extends V{constructor(J){var se;super(J),this._delay=(se=J.delay)!==null&&se!==void 0?se:100}fire(J){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(J)}}class Y extends N{constructor(J){super(J),this._queuedEvents=[],this._mergeFn=J==null?void 0:J.merge}fire(J){this.hasListeners()&&(this._queuedEvents.push(J),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(se=>super.fire(se)),this._queuedEvents=[]}))}}class G{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new N({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(J){const se={event:J,listener:null};this.events.push(se),this.hasListeners&&this.hook(se);const re=()=>{this.hasListeners&&this.unhook(se);const he=this.events.indexOf(se);this.events.splice(he,1)};return(0,v.OF)((0,X.M)(re))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(J=>this.hook(J))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(J=>this.unhook(J))}hook(J){J.listener=J.event(se=>this.emitter.fire(se))}unhook(J){J.listener&&J.listener.dispose(),J.listener=null}dispose(){this.emitter.dispose()}}class Z{constructor(){this.buffers=[]}wrapEvent(J){return(se,re,he)=>J(H=>{const P=this.buffers[this.buffers.length-1];P?P.push(()=>se.call(re,H)):se.call(re,H)},void 0,he)}bufferEvents(J){const se=[];this.buffers.push(se);const re=J();return this.buffers.pop(),se.forEach(he=>he()),re}}class ne{constructor(){this.listening=!1,this.inputEvent=B.None,this.inputEventListener=v.JT.None,this.emitter=new N({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(J){this.inputEvent=J,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=J(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},64095:function(Gt,ze,c){"use strict";c.d(ze,{KM:function(){return B},ej:function(){return L},fn:function(){return T},oP:function(){return b},yj:function(){return M}});var D=c(40795),X=c(43998),v=c(80360);function k(C){return C===47||C===92}function L(C){return C.replace(/[\\/]/g,D.KR.sep)}function T(C){return C.indexOf("/")===-1&&(C=L(C)),/^[a-zA-Z]:(\/|$)/.test(C)&&(C="/"+C),C}function M(C,S=D.KR.sep){if(!C)return"";const _=C.length,a=C.charCodeAt(0);if(k(a)){if(k(C.charCodeAt(1))&&!k(C.charCodeAt(2))){let N=3;const O=N;for(;N<_&&!k(C.charCodeAt(N));N++);if(O!==N&&!k(C.charCodeAt(N+1))){for(N+=1;N<_;N++)if(k(C.charCodeAt(N)))return C.slice(0,N+1).replace(/[\\/]/g,S)}}return S}else if(y(a)&&C.charCodeAt(1)===58)return k(C.charCodeAt(2))?C.slice(0,2)+S:C.slice(0,2);let u=C.indexOf("://");if(u!==-1){for(u+=3;u<_;u++)if(k(C.charCodeAt(u)))return C.slice(0,u+1)}return""}function B(C,S,_,a=D.ir){if(C===S)return!0;if(!C||!S||S.length>C.length)return!1;if(_){if(!(0,v.ok)(C,S))return!1;if(S.length===C.length)return!0;let N=S.length;return S.charAt(S.length-1)===a&&N--,C.charAt(N)===a}return S.charAt(S.length-1)!==a&&(S+=a),C.indexOf(S)===0}function y(C){return C>=65&&C<=90||C>=97&&C<=122}function b(C,S=X.ED){return S?y(C.charCodeAt(0))&&C.charCodeAt(1)===58:!1}},27469:function(Gt,ze,c){"use strict";c.d(ze,{CL:function(){return Ne},mX:function(){return yt},jB:function(){return ut},mB:function(){return ct},EW:function(){return De},l7:function(){return $i},ir:function(){return O},Oh:function(){return Ze},XU:function(){return lt},Ji:function(){return u},Sy:function(){return R},KZ:function(){return Ce},or:function(){return _}});var D=c(83987);function X(le){const mt=L(le);if(mt&&mt.length>0)return new Uint32Array(mt)}let v=0;const k=new Uint32Array(10);function L(le){if(v=0,T(le,B,4352),v>0||(T(le,y,4449),v>0)||(T(le,b,4520),v>0)||(T(le,C,12593),v))return k.subarray(0,v);if(le>=44032&&le<=55203){const mt=le-44032,jt=mt%588,bi=Math.floor(mt/588),Ot=Math.floor(jt/28),Ki=jt%28-1;if(bi<B.length?T(bi,B,0):4352+bi-12593<C.length&&T(4352+bi,C,12593),Ot<y.length?T(Ot,y,0):4449+Ot-12593<C.length&&T(4449+Ot-12593,C,12593),Ki>=0&&(Ki<b.length?T(Ki,b,0):4520+Ki-12593<C.length&&T(4520+Ki-12593,C,12593)),v>0)return k.subarray(0,v)}}function T(le,mt,jt){le>=jt&&le<jt+mt.length&&M(mt[le-jt])}function M(le){le!==0&&(k[v++]=le&255,le>>8&&(k[v++]=le>>8&255),le>>16&&(k[v++]=le>>16&255))}const B=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),y=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),b=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),C=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]);var S=c(80360);function _(...le){return function(mt,jt){for(let bi=0,Ot=le.length;bi<Ot;bi++){const Ki=le[bi](mt,jt);if(Ki)return Ki}return null}}const a=N.bind(void 0,!1),u=N.bind(void 0,!0);function N(le,mt,jt){if(!jt||jt.length<mt.length)return null;let bi;return le?bi=S.ok(jt,mt):bi=jt.indexOf(mt)===0,bi?mt.length>0?[{start:0,end:mt.length}]:[]:null}function O(le,mt){const jt=mt.toLowerCase().indexOf(le.toLowerCase());return jt===-1?null:[{start:jt,end:jt+le.length}]}function R(le,mt){return V(le.toLowerCase(),mt.toLowerCase(),0,0)}function V(le,mt,jt,bi){if(jt===le.length)return[];if(bi===mt.length)return null;if(le[jt]===mt[bi]){let Ot=null;return(Ot=V(le,mt,jt+1,bi+1))?H({start:bi,end:bi+1},Ot):null}return V(le,mt,jt,bi+1)}function F(le){return 97<=le&&le<=122}function Y(le){return 65<=le&&le<=90}function G(le){return 48<=le&&le<=57}function Z(le){return le===32||le===9||le===10||le===13}const ne=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(le=>ne.add(le.charCodeAt(0)));function $(le){return Z(le)||ne.has(le)}function J(le,mt){return le===mt||$(le)&&$(mt)}const se=new Map;function re(le){if(se.has(le))return se.get(le);let mt;const jt=X(le);return jt&&(mt=jt),se.set(le,mt),mt}function he(le){return F(le)||Y(le)||G(le)}function H(le,mt){return mt.length===0?mt=[le]:le.end===mt[0].start?mt[0].start=le.start:mt.unshift(le),mt}function P(le,mt){for(let jt=mt;jt<le.length;jt++){const bi=le.charCodeAt(jt);if(Y(bi)||G(bi)||jt>0&&!he(le.charCodeAt(jt-1)))return jt}return le.length}function j(le,mt,jt,bi){if(jt===le.length)return[];if(bi===mt.length)return null;if(le[jt]!==mt[bi].toLowerCase())return null;{let Ot=null,Ki=bi+1;for(Ot=j(le,mt,jt+1,bi+1);!Ot&&(Ki=P(mt,Ki))<mt.length;)Ot=j(le,mt,jt+1,Ki),Ki++;return Ot===null?null:H({start:bi,end:bi+1},Ot)}}function K(le){let mt=0,jt=0,bi=0,Ot=0,Ki=0;for(let ei=0;ei<le.length;ei++)Ki=le.charCodeAt(ei),Y(Ki)&&mt++,F(Ki)&&jt++,he(Ki)&&bi++,G(Ki)&&Ot++;const xi=mt/le.length,dn=jt/le.length,zt=bi/le.length,Qi=Ot/le.length;return{upperPercent:xi,lowerPercent:dn,alphaPercent:zt,numericPercent:Qi}}function ie(le){const{upperPercent:mt,lowerPercent:jt}=le;return jt===0&&mt>.6}function ce(le){const{upperPercent:mt,lowerPercent:jt,alphaPercent:bi,numericPercent:Ot}=le;return jt>.2&&mt<.8&&bi>.6&&Ot<.2}function _e(le){let mt=0,jt=0,bi=0,Ot=0;for(let Ki=0;Ki<le.length;Ki++)bi=le.charCodeAt(Ki),Y(bi)&&mt++,F(bi)&&jt++,Z(bi)&&Ot++;return(mt===0||jt===0)&&Ot===0?le.length<=30:mt<=5}function Ee(le,mt){if(!mt||(mt=mt.trim(),mt.length===0)||!_e(le)||mt.length>60)return null;const jt=K(mt);if(!ce(jt)){if(!ie(jt))return null;mt=mt.toLowerCase()}let bi=null,Ot=0;for(le=le.toLowerCase();Ot<mt.length&&(bi=j(le,mt,0,Ot))===null;)Ot=P(mt,Ot+1);return bi}function Ce(le,mt,jt=!1){if(!mt||mt.length===0)return null;let bi=null,Ot=0;for(le=le.toLowerCase(),mt=mt.toLowerCase();Ot<mt.length&&(bi=pe(le,mt,0,Ot,jt),bi===null);)Ot=xe(mt,Ot+1);return bi}function pe(le,mt,jt,bi,Ot){let Ki=0;if(jt===le.length)return[];if(bi===mt.length)return null;if(!J(le.charCodeAt(jt),mt.charCodeAt(bi))){const zt=re(le.charCodeAt(jt));if(!zt)return null;for(let Qi=0;Qi<zt.length;Qi++)if(!J(zt[Qi],mt.charCodeAt(bi+Qi)))return null;Ki+=zt.length-1}let xi=null,dn=bi+Ki+1;if(xi=pe(le,mt,jt+1,dn,Ot),!Ot)for(;!xi&&(dn=xe(mt,dn))<mt.length;)xi=pe(le,mt,jt+1,dn,Ot),dn++;if(!xi)return null;if(le.charCodeAt(jt)!==mt.charCodeAt(bi)){const zt=re(le.charCodeAt(jt));if(!zt)return xi;for(let Qi=0;Qi<zt.length;Qi++)if(zt[Qi]!==mt.charCodeAt(bi+Qi))return xi}return H({start:bi,end:bi+Ki+1},xi)}function xe(le,mt){for(let jt=mt;jt<le.length;jt++)if($(le.charCodeAt(jt))||jt>0&&$(le.charCodeAt(jt-1)))return jt;return le.length}const x=_(u,Ee,O),rt=_(u,Ee,R),Xe=new D.z6(1e4);function Ze(le,mt,jt=!1){if(typeof le!="string"||typeof mt!="string")return null;let bi=Xe.get(le);bi||(bi=new RegExp(S.un(le),"i"),Xe.set(le,bi));const Ot=bi.exec(mt);return Ot?[{start:Ot.index,end:Ot.index+Ot[0].length}]:jt?rt(le,mt):x(le,mt)}function lt(le,mt){const jt=De(le,le.toLowerCase(),0,mt,mt.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return jt?ct(jt):null}function ut(le,mt,jt,bi,Ot,Ki){const xi=Math.min(13,le.length);for(;jt<xi;jt++){const dn=De(le,mt,jt,bi,Ot,Ki,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(dn)return dn}return[0,Ki]}function ct(le){if(typeof le=="undefined")return[];const mt=[],jt=le[1];for(let bi=le.length-1;bi>1;bi--){const Ot=le[bi]+jt,Ki=mt[mt.length-1];Ki&&Ki.end===Ot?Ki.end=Ot+1:mt.push({start:Ot,end:Ot+1})}return mt}const He=128;function Dt(){const le=[],mt=[];for(let jt=0;jt<=He;jt++)mt[jt]=0;for(let jt=0;jt<=He;jt++)le.push(mt.slice(0));return le}function gt(le){const mt=[];for(let jt=0;jt<=le;jt++)mt[jt]=0;return mt}const Re=gt(2*He),st=gt(2*He),Tt=Dt(),xt=Dt(),vt=Dt(),we=!1;function pt(le,mt,jt,bi,Ot){function Ki(dn,zt,Qi=" "){for(;dn.length<zt;)dn=Qi+dn;return dn}let xi=` |   |${bi.split("").map(dn=>Ki(dn,3)).join("|")}
`;for(let dn=0;dn<=jt;dn++)dn===0?xi+=" |":xi+=`${mt[dn-1]}|`,xi+=le[dn].slice(0,Ot+1).map(zt=>Ki(zt.toString(),3)).join("|")+`
`;return xi}function Mt(le,mt,jt,bi){le=le.substr(mt),jt=jt.substr(bi),console.log(pt(xt,le,le.length,jt,jt.length)),console.log(pt(vt,le,le.length,jt,jt.length)),console.log(pt(Tt,le,le.length,jt,jt.length))}function Ft(le,mt){if(mt<0||mt>=le.length)return!1;const jt=le.codePointAt(mt);switch(jt){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!S.C8(jt)}}function Xt(le,mt){if(mt<0||mt>=le.length)return!1;switch(le.charCodeAt(mt)){case 32:case 9:return!0;default:return!1}}function li(le,mt,jt){return mt[le]!==jt[le]}function Yt(le,mt,jt,bi,Ot,Ki,xi=!1){for(;mt<jt&&Ot<Ki;)le[mt]===bi[Ot]&&(xi&&(Re[mt]=Ot),mt+=1),Ot+=1;return mt===jt}var Ne;(function(le){le.Default=[-100,0];function mt(jt){return!jt||jt.length===2&&jt[0]===-100&&jt[1]===0}le.isDefault=mt})(Ne||(Ne={}));class yt{constructor(mt,jt){this.firstMatchCanBeWeak=mt,this.boostFullMatch=jt}}yt.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function De(le,mt,jt,bi,Ot,Ki,xi=yt.default){const dn=le.length>He?He:le.length,zt=bi.length>He?He:bi.length;if(jt>=dn||Ki>=zt||dn-jt>zt-Ki||!Yt(mt,jt,dn,Ot,Ki,zt,!0))return;di(dn,zt,jt,Ki,mt,Ot);let Qi=1,ei=1,Be=jt,Nt=Ki;const Ri=[!1];for(Qi=1,Be=jt;Be<dn;Qi++,Be++){const gn=Re[Be],Bn=st[Be],kn=Be+1<dn?st[Be+1]:zt;for(ei=gn-Ki+1,Nt=gn;Nt<kn;ei++,Nt++){let en=Number.MIN_SAFE_INTEGER,Jn=!1;Nt<=Bn&&(en=Ve(le,mt,Be,jt,bi,Ot,Nt,zt,Ki,Tt[Qi-1][ei-1]===0,Ri));let ys=0;en!==Number.MAX_SAFE_INTEGER&&(Jn=!0,ys=en+xt[Qi-1][ei-1]);const ds=Nt>gn,cs=ds?xt[Qi][ei-1]+(Tt[Qi][ei-1]>0?-5:0):0,ps=Nt>gn+1&&Tt[Qi][ei-1]>0,In=ps?xt[Qi][ei-2]+(Tt[Qi][ei-2]>0?-5:0):0;if(ps&&(!ds||In>=cs)&&(!Jn||In>=ys))xt[Qi][ei]=In,vt[Qi][ei]=3,Tt[Qi][ei]=0;else if(ds&&(!Jn||cs>=ys))xt[Qi][ei]=cs,vt[Qi][ei]=2,Tt[Qi][ei]=0;else if(Jn)xt[Qi][ei]=ys,vt[Qi][ei]=1,Tt[Qi][ei]=Tt[Qi-1][ei-1]+1;else throw new Error("not possible")}}if(we&&Mt(le,jt,bi,Ki),!Ri[0]&&!xi.firstMatchCanBeWeak)return;Qi--,ei--;const Fi=[xt[Qi][ei],Ki];let hi=0,En=0;for(;Qi>=1;){let gn=ei;do{const Bn=vt[Qi][gn];if(Bn===3)gn=gn-2;else if(Bn===2)gn=gn-1;else break}while(gn>=1);hi>1&&mt[jt+Qi-1]===Ot[Ki+ei-1]&&!li(gn+Ki-1,bi,Ot)&&hi+1>Tt[Qi][gn]&&(gn=ei),gn===ei?hi++:hi=1,En||(En=gn),Qi--,ei=gn-1,Fi.push(ei)}zt===dn&&xi.boostFullMatch&&(Fi[0]+=2);const bn=En-dn;return Fi[0]-=bn,Fi}function di(le,mt,jt,bi,Ot,Ki){let xi=le-1,dn=mt-1;for(;xi>=jt&&dn>=bi;)Ot[xi]===Ki[dn]&&(st[xi]=dn,xi--),dn--}function Ve(le,mt,jt,bi,Ot,Ki,xi,dn,zt,Qi,ei){if(mt[jt]!==Ki[xi])return Number.MIN_SAFE_INTEGER;let Be=1,Nt=!1;return xi===jt-bi?Be=le[jt]===Ot[xi]?7:5:li(xi,Ot,Ki)&&(xi===0||!li(xi-1,Ot,Ki))?(Be=le[jt]===Ot[xi]?7:5,Nt=!0):Ft(Ki,xi)&&(xi===0||!Ft(Ki,xi-1))?Be=5:(Ft(Ki,xi-1)||Xt(Ki,xi-1))&&(Be=5,Nt=!0),Be>1&&jt===bi&&(ei[0]=!0),Nt||(Nt=li(xi,Ot,Ki)||Ft(Ki,xi-1)||Xt(Ki,xi-1)),jt===bi?xi>zt&&(Be-=Nt?3:5):Qi?Be+=Nt?2:0:Be+=Nt?0:1,xi+1===dn&&(Be-=Nt?3:5),Be}function $i(le,mt,jt,bi,Ot,Ki,xi){return wn(le,mt,jt,bi,Ot,Ki,!0,xi)}function wn(le,mt,jt,bi,Ot,Ki,xi,dn){let zt=De(le,mt,jt,bi,Ot,Ki,dn);if(zt&&!xi)return zt;if(le.length>=3){const Qi=Math.min(7,le.length-1);for(let ei=jt+1;ei<Qi;ei++){const Be=Pt(le,ei);if(Be){const Nt=De(Be,Be.toLowerCase(),jt,bi,Ot,Ki,dn);Nt&&(Nt[0]-=3,(!zt||Nt[0]>zt[0])&&(zt=Nt))}}}return zt}function Pt(le,mt){if(mt+1>=le.length)return;const jt=le[mt],bi=le[mt+1];if(jt!==bi)return le.slice(0,mt)+bi+jt+le.slice(mt+2)}},15039:function(Gt,ze,c){"use strict";c.d(ze,{M:function(){return D}});function D(X,v){const k=this;let L=!1,T;return function(){if(L)return T;if(L=!0,v)try{T=X.apply(k,arguments)}finally{v()}else T=X.apply(k,arguments);return T}}},2611:function(Gt,ze,c){"use strict";c.d(ze,{EQ:function(){return j},Qc:function(){return K}});var D=c(96925),X=c(64095),v=c(83987),k=c(40795),L=c(43998),T=c(80360);const M="**",B="/",y="[/\\\\]",b="[^/\\\\]",C=/\//g;function S(Ce,pe){switch(Ce){case 0:return"";case 1:return`${b}*?`;default:return`(?:${y}|${b}+${y}${pe?`|${y}${b}+`:""})*?`}}function _(Ce,pe){if(!Ce)return[];const xe=[];let x=!1,rt=!1,Xe="";for(const Ze of Ce){switch(Ze){case pe:if(!x&&!rt){xe.push(Xe),Xe="";continue}break;case"{":x=!0;break;case"}":x=!1;break;case"[":rt=!0;break;case"]":rt=!1;break}Xe+=Ze}return Xe&&xe.push(Xe),xe}function a(Ce){if(!Ce)return"";let pe="";const xe=_(Ce,B);if(xe.every(x=>x===M))pe=".*";else{let x=!1;xe.forEach((rt,Xe)=>{if(rt===M){if(x)return;pe+=S(2,Xe===xe.length-1)}else{let Ze=!1,lt="",ut=!1,ct="";for(const He of rt){if(He!=="}"&&Ze){lt+=He;continue}if(ut&&(He!=="]"||!ct)){let Dt;He==="-"?Dt=He:(He==="^"||He==="!")&&!ct?Dt="^":He===B?Dt="":Dt=(0,T.ec)(He),ct+=Dt;continue}switch(He){case"{":Ze=!0;continue;case"[":ut=!0;continue;case"}":{const gt=`(?:${_(lt,",").map(Re=>a(Re)).join("|")})`;pe+=gt,Ze=!1,lt="";break}case"]":{pe+="["+ct+"]",ut=!1,ct="";break}case"?":pe+=b;continue;case"*":pe+=S(1);continue;default:pe+=(0,T.ec)(He)}}Xe<xe.length-1&&(xe[Xe+1]!==M||Xe+2<xe.length)&&(pe+=y)}x=rt===M})}return pe}const u=/^\*\*\/\*\.[\w\.-]+$/,N=/^\*\*\/([\w\.-]+)\/?$/,O=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,R=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,V=/^\*\*((\/[\w\.-]+)+)\/?$/,F=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,Y=new v.z6(1e4),G=function(){return!1},Z=function(){return null};function ne(Ce,pe){if(!Ce)return Z;let xe;typeof Ce!="string"?xe=Ce.pattern:xe=Ce,xe=xe.trim();const x=`${xe}_${!!pe.trimForExclusions}`;let rt=Y.get(x);if(rt)return $(rt,Ce);let Xe;return u.test(xe)?rt=se(xe.substr(4),xe):(Xe=N.exec(J(xe,pe)))?rt=re(Xe[1],xe):(pe.trimForExclusions?R:O).test(xe)?rt=he(xe,pe):(Xe=V.exec(J(xe,pe)))?rt=H(Xe[1].substr(1),xe,!0):(Xe=F.exec(J(xe,pe)))?rt=H(Xe[1],xe,!1):rt=P(xe),Y.set(x,rt),$(rt,Ce)}function $(Ce,pe){if(typeof pe=="string")return Ce;const xe=function(x,rt){return(0,X.KM)(x,pe.base,!L.IJ)?Ce((0,T.j3)(x.substr(pe.base.length),k.ir),rt):null};return xe.allBasenames=Ce.allBasenames,xe.allPaths=Ce.allPaths,xe.basenames=Ce.basenames,xe.patterns=Ce.patterns,xe}function J(Ce,pe){return pe.trimForExclusions&&Ce.endsWith("/**")?Ce.substr(0,Ce.length-2):Ce}function se(Ce,pe){return function(xe,x){return typeof xe=="string"&&xe.endsWith(Ce)?pe:null}}function re(Ce,pe){const xe=`/${Ce}`,x=`\\${Ce}`,rt=function(Ze,lt){return typeof Ze!="string"?null:lt?lt===Ce?pe:null:Ze===Ce||Ze.endsWith(xe)||Ze.endsWith(x)?pe:null},Xe=[Ce];return rt.basenames=Xe,rt.patterns=[pe],rt.allBasenames=Xe,rt}function he(Ce,pe){const xe=Ee(Ce.slice(1,-1).split(",").map(lt=>ne(lt,pe)).filter(lt=>lt!==Z),Ce),x=xe.length;if(!x)return Z;if(x===1)return xe[0];const rt=function(lt,ut){for(let ct=0,He=xe.length;ct<He;ct++)if(xe[ct](lt,ut))return Ce;return null},Xe=xe.find(lt=>!!lt.allBasenames);Xe&&(rt.allBasenames=Xe.allBasenames);const Ze=xe.reduce((lt,ut)=>ut.allPaths?lt.concat(ut.allPaths):lt,[]);return Ze.length&&(rt.allPaths=Ze),rt}function H(Ce,pe,xe){const x=k.ir===k.KR.sep,rt=x?Ce:Ce.replace(C,k.ir),Xe=k.ir+rt,Ze=k.KR.sep+Ce;let lt;return xe?lt=function(ut,ct){return typeof ut=="string"&&(ut===rt||ut.endsWith(Xe)||!x&&(ut===Ce||ut.endsWith(Ze)))?pe:null}:lt=function(ut,ct){return typeof ut=="string"&&(ut===rt||!x&&ut===Ce)?pe:null},lt.allPaths=[(xe?"*/":"./")+Ce],lt}function P(Ce){try{const pe=new RegExp(`^${a(Ce)}$`);return function(xe){return pe.lastIndex=0,typeof xe=="string"&&pe.test(xe)?Ce:null}}catch(pe){return Z}}function j(Ce,pe,xe){return!Ce||typeof pe!="string"?!1:K(Ce)(pe,void 0,xe)}function K(Ce,pe={}){if(!Ce)return G;if(typeof Ce=="string"||ie(Ce)){const xe=ne(Ce,pe);if(xe===Z)return G;const x=function(rt,Xe){return!!xe(rt,Xe)};return xe.allBasenames&&(x.allBasenames=xe.allBasenames),xe.allPaths&&(x.allPaths=xe.allPaths),x}return ce(Ce,pe)}function ie(Ce){const pe=Ce;return pe?typeof pe.base=="string"&&typeof pe.pattern=="string":!1}function ce(Ce,pe){const xe=Ee(Object.getOwnPropertyNames(Ce).map(lt=>_e(lt,Ce[lt],pe)).filter(lt=>lt!==Z)),x=xe.length;if(!x)return Z;if(!xe.some(lt=>!!lt.requiresSiblings)){if(x===1)return xe[0];const lt=function(He,Dt){let gt;for(let Re=0,st=xe.length;Re<st;Re++){const Tt=xe[Re](He,Dt);if(typeof Tt=="string")return Tt;(0,D.J8)(Tt)&&(gt||(gt=[]),gt.push(Tt))}return gt?(()=>At(this,null,function*(){for(const Re of gt){const st=yield Re;if(typeof st=="string")return st}return null}))():null},ut=xe.find(He=>!!He.allBasenames);ut&&(lt.allBasenames=ut.allBasenames);const ct=xe.reduce((He,Dt)=>Dt.allPaths?He.concat(Dt.allPaths):He,[]);return ct.length&&(lt.allPaths=ct),lt}const rt=function(lt,ut,ct){let He,Dt;for(let gt=0,Re=xe.length;gt<Re;gt++){const st=xe[gt];st.requiresSiblings&&ct&&(ut||(ut=(0,k.EZ)(lt)),He||(He=ut.substr(0,ut.length-(0,k.DZ)(lt).length)));const Tt=st(lt,ut,He,ct);if(typeof Tt=="string")return Tt;(0,D.J8)(Tt)&&(Dt||(Dt=[]),Dt.push(Tt))}return Dt?(()=>At(this,null,function*(){for(const gt of Dt){const Re=yield gt;if(typeof Re=="string")return Re}return null}))():null},Xe=xe.find(lt=>!!lt.allBasenames);Xe&&(rt.allBasenames=Xe.allBasenames);const Ze=xe.reduce((lt,ut)=>ut.allPaths?lt.concat(ut.allPaths):lt,[]);return Ze.length&&(rt.allPaths=Ze),rt}function _e(Ce,pe,xe){if(pe===!1)return Z;const x=ne(Ce,xe);if(x===Z)return Z;if(typeof pe=="boolean")return x;if(pe){const rt=pe.when;if(typeof rt=="string"){const Xe=(Ze,lt,ut,ct)=>{if(!ct||!x(Ze,lt))return null;const He=rt.replace("$(basename)",()=>ut),Dt=ct(He);return(0,D.J8)(Dt)?Dt.then(gt=>gt?Ce:null):Dt?Ce:null};return Xe.requiresSiblings=!0,Xe}}return x}function Ee(Ce,pe){const xe=Ce.filter(lt=>!!lt.basenames);if(xe.length<2)return Ce;const x=xe.reduce((lt,ut)=>{const ct=ut.basenames;return ct?lt.concat(ct):lt},[]);let rt;if(pe){rt=[];for(let lt=0,ut=x.length;lt<ut;lt++)rt.push(pe)}else rt=xe.reduce((lt,ut)=>{const ct=ut.patterns;return ct?lt.concat(ct):lt},[]);const Xe=function(lt,ut){if(typeof lt!="string")return null;if(!ut){let He;for(He=lt.length;He>0;He--){const Dt=lt.charCodeAt(He-1);if(Dt===47||Dt===92)break}ut=lt.substr(He)}const ct=x.indexOf(ut);return ct!==-1?rt[ct]:null};Xe.basenames=x,Xe.patterns=rt,Xe.allBasenames=x;const Ze=Ce.filter(lt=>!lt.basenames);return Ze.push(Xe),Ze}},31815:function(Gt,ze,c){"use strict";c.d(ze,{Cv:function(){return T},SP:function(){return v},vp:function(){return X},yP:function(){return _}});var D=c(80360);function X(a){return v(a,0)}function v(a,u){switch(typeof a){case"object":return a===null?k(349,u):Array.isArray(a)?M(a,u):B(a,u);case"string":return T(a,u);case"boolean":return L(a,u);case"number":return k(a,u);case"undefined":return k(937,u);default:return k(617,u)}}function k(a,u){return(u<<5)-u+a|0}function L(a,u){return k(a?433:863,u)}function T(a,u){u=k(149417,u);for(let N=0,O=a.length;N<O;N++)u=k(a.charCodeAt(N),u);return u}function M(a,u){return u=k(104579,u),a.reduce((N,O)=>v(O,N),u)}function B(a,u){return u=k(181387,u),Object.keys(a).sort().reduce((N,O)=>(N=T(O,N),v(a[O],N)),u)}function y(a,u,N=32){const O=N-u,R=~((1<<O)-1);return(a<<u|(R&a)>>>O)>>>0}function b(a,u=0,N=a.byteLength,O=0){for(let R=0;R<N;R++)a[u+R]=O}function C(a,u,N="0"){for(;a.length<u;)a=N+a;return a}function S(a,u=32){return a instanceof ArrayBuffer?Array.from(new Uint8Array(a)).map(N=>N.toString(16).padStart(2,"0")).join(""):C((a>>>0).toString(16),u/4)}class _{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(u){const N=u.length;if(N===0)return;const O=this._buff;let R=this._buffLen,V=this._leftoverHighSurrogate,F,Y;for(V!==0?(F=V,Y=-1,V=0):(F=u.charCodeAt(0),Y=0);;){let G=F;if(D.ZG(F))if(Y+1<N){const Z=u.charCodeAt(Y+1);D.YK(Z)?(Y++,G=D.rL(F,Z)):G=65533}else{V=F;break}else D.YK(F)&&(G=65533);if(R=this._push(O,R,G),Y++,Y<N)F=u.charCodeAt(Y);else break}this._buffLen=R,this._leftoverHighSurrogate=V}_push(u,N,O){return O<128?u[N++]=O:O<2048?(u[N++]=192|(O&1984)>>>6,u[N++]=128|(O&63)>>>0):O<65536?(u[N++]=224|(O&61440)>>>12,u[N++]=128|(O&4032)>>>6,u[N++]=128|(O&63)>>>0):(u[N++]=240|(O&1835008)>>>18,u[N++]=128|(O&258048)>>>12,u[N++]=128|(O&4032)>>>6,u[N++]=128|(O&63)>>>0),N>=64&&(this._step(),N-=64,this._totalLen+=64,u[0]=u[64+0],u[1]=u[64+1],u[2]=u[64+2]),N}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),S(this._h0)+S(this._h1)+S(this._h2)+S(this._h3)+S(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,b(this._buff,this._buffLen),this._buffLen>56&&(this._step(),b(this._buff));const u=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(u/4294967296),!1),this._buffDV.setUint32(60,u%4294967296,!1),this._step()}_step(){const u=_._bigBlock32,N=this._buffDV;for(let $=0;$<64;$+=4)u.setUint32($,N.getUint32($,!1),!1);for(let $=64;$<320;$+=4)u.setUint32($,y(u.getUint32($-12,!1)^u.getUint32($-32,!1)^u.getUint32($-56,!1)^u.getUint32($-64,!1),1),!1);let O=this._h0,R=this._h1,V=this._h2,F=this._h3,Y=this._h4,G,Z,ne;for(let $=0;$<80;$++)$<20?(G=R&V|~R&F,Z=1518500249):$<40?(G=R^V^F,Z=1859775393):$<60?(G=R&V|R&F|V&F,Z=2400959708):(G=R^V^F,Z=3395469782),ne=y(O,5)+G+Y+Z+u.getUint32($*4,!1)&4294967295,Y=F,F=V,V=y(R,30),R=O,O=ne;this._h0=this._h0+O&4294967295,this._h1=this._h1+R&4294967295,this._h2=this._h2+V&4294967295,this._h3=this._h3+F&4294967295,this._h4=this._h4+Y&4294967295}}_._bigBlock32=new DataView(new ArrayBuffer(320))},61126:function(Gt,ze,c){"use strict";c.d(ze,{CP:function(){return M},Fr:function(){return B},W5:function(){return T},d9:function(){return C},g_:function(){return y},oR:function(){return S},v1:function(){return _}});var D=c(35541),X=c(62396),v=c(94286),k=c(80360),L=c(6685);class T{constructor(u="",N=!1){var O,R,V;if(this.value=u,typeof this.value!="string")throw(0,D.b1)("value");typeof N=="boolean"?(this.isTrusted=N,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(O=N.isTrusted)!==null&&O!==void 0?O:void 0,this.supportThemeIcons=(R=N.supportThemeIcons)!==null&&R!==void 0?R:!1,this.supportHtml=(V=N.supportHtml)!==null&&V!==void 0?V:!1)}appendText(u,N=0){return this.value+=b(this.supportThemeIcons?(0,X.Qo)(u):u).replace(/([ \t]+)/g,(O,R)=>"&nbsp;".repeat(R.length)).replace(/\>/gm,"\\>").replace(/\n/g,N===1?`\\
`:`

`),this}appendMarkdown(u){return this.value+=u,this}appendCodeblock(u,N){return this.value+="\n```",this.value+=u,this.value+=`
`,this.value+=N,this.value+="\n```\n",this}appendLink(u,N,O){return this.value+="[",this.value+=this._escape(N,"]"),this.value+="](",this.value+=this._escape(String(u),")"),O&&(this.value+=` "${this._escape(this._escape(O,'"'),")")}"`),this.value+=")",this}_escape(u,N){const O=new RegExp((0,k.ec)(N),"g");return u.replace(O,(R,V)=>u.charAt(V-1)!=="\\"?`\\${R}`:R)}}function M(a){return B(a)?!a.value:Array.isArray(a)?a.every(M):!0}function B(a){return a instanceof T?!0:a&&typeof a=="object"?typeof a.value=="string"&&(typeof a.isTrusted=="boolean"||typeof a.isTrusted=="object"||a.isTrusted===void 0)&&(typeof a.supportThemeIcons=="boolean"||a.supportThemeIcons===void 0):!1}function y(a,u){return a===u?!0:!a||!u?!1:a.value===u.value&&a.isTrusted===u.isTrusted&&a.supportThemeIcons===u.supportThemeIcons&&a.supportHtml===u.supportHtml&&(a.baseUri===u.baseUri||!!a.baseUri&&!!u.baseUri&&(0,v.Xy)(L.o.from(a.baseUri),L.o.from(u.baseUri)))}function b(a){return a.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function C(a){return a.replace(/"/g,"&quot;")}function S(a){return a&&a.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function _(a){const u=[],N=a.split("|").map(R=>R.trim());a=N[0];const O=N[1];if(O){const R=/height=(\d+)/.exec(O),V=/width=(\d+)/.exec(O),F=R?R[1]:"",Y=V?V[1]:"",G=isFinite(parseInt(Y)),Z=isFinite(parseInt(F));G&&u.push(`width="${Y}"`),Z&&u.push(`height="${F}"`)}return{href:a,dimensions:u}}},62396:function(Gt,ze,c){"use strict";c.d(ze,{Gt:function(){return u},Ho:function(){return a},JL:function(){return S},Qo:function(){return M},f$:function(){return y},x$:function(){return C}});var D=c(27469),X=c(80360),v=c(12003);const k="$(",L=new RegExp(`\\$\\(${v.k.iconNameExpression}(?:${v.k.iconModifierExpression})?\\)`,"g"),T=new RegExp(`(\\\\)?${L.source}`,"g");function M(N){return N.replace(T,(O,R)=>R?O:`\\${O}`)}const B=new RegExp(`\\\\${L.source}`,"g");function y(N){return N.replace(B,O=>`\\${O}`)}const b=new RegExp(`(\\s)?(\\\\)?${L.source}(\\s)?`,"g");function C(N){return N.indexOf(k)===-1?N:N.replace(b,(O,R,V,F)=>V?O:R||F||"")}function S(N){return N?N.replace(/\$\((.*?)\)/g,(O,R)=>` ${R} `).trim():""}const _=new RegExp(`\\$\\(${v.k.iconNameCharacter}+\\)`,"g");function a(N){_.lastIndex=0;let O="";const R=[];let V=0;for(;;){const F=_.lastIndex,Y=_.exec(N),G=N.substring(F,Y==null?void 0:Y.index);if(G.length>0){O+=G;for(let Z=0;Z<G.length;Z++)R.push(V)}if(!Y)break;V+=Y[0].length}return{text:O,iconOffsets:R}}function u(N,O,R=!1){const{text:V,iconOffsets:F}=O;if(!F||F.length===0)return(0,D.Oh)(N,V,R);const Y=(0,X.j3)(V," "),G=V.length-Y.length,Z=(0,D.Oh)(N,Y,R);if(Z)for(const ne of Z){const $=F[ne.start+G]+G;ne.start+=$,ne.end+=$}return Z}},18286:function(Gt,ze,c){"use strict";c.d(ze,{R:function(){return D},a:function(){return X}});class D{constructor(k){this._prefix=k,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const X=new D("id#")},23395:function(Gt,ze,c){"use strict";c.d(ze,{F:function(){return v}});var D=c(46328);class X{constructor(){this._onDidChange=new D.Q5,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}const v=new X},54362:function(Gt,ze,c){"use strict";c.d(ze,{$:function(){return D}});var D;(function(X){function v(F){return F&&typeof F=="object"&&typeof F[Symbol.iterator]=="function"}X.is=v;const k=Object.freeze([]);function L(){return k}X.empty=L;function*T(F){yield F}X.single=T;function M(F){return v(F)?F:T(F)}X.wrap=M;function B(F){return F||k}X.from=B;function*y(F){for(let Y=F.length-1;Y>=0;Y--)yield F[Y]}X.reverse=y;function b(F){return!F||F[Symbol.iterator]().next().done===!0}X.isEmpty=b;function C(F){return F[Symbol.iterator]().next().value}X.first=C;function S(F,Y){for(const G of F)if(Y(G))return!0;return!1}X.some=S;function _(F,Y){for(const G of F)if(Y(G))return G}X.find=_;function*a(F,Y){for(const G of F)Y(G)&&(yield G)}X.filter=a;function*u(F,Y){let G=0;for(const Z of F)yield Y(Z,G++)}X.map=u;function*N(...F){for(const Y of F)yield*Y}X.concat=N;function O(F,Y,G){let Z=G;for(const ne of F)Z=Y(Z,ne);return Z}X.reduce=O;function*R(F,Y,G=F.length){for(Y<0&&(Y+=F.length),G<0?G+=F.length:G>F.length&&(G=F.length);Y<G;Y++)yield F[Y]}X.slice=R;function V(F,Y=Number.POSITIVE_INFINITY){const G=[];if(Y===0)return[G,F];const Z=F[Symbol.iterator]();for(let ne=0;ne<Y;ne++){const $=Z.next();if($.done)return[G,X.empty()];G.push($.value)}return[G,{[Symbol.iterator](){return Z}}]}X.consume=V})(D||(D={}))},82238:function(Gt,ze,c){"use strict";c.d(ze,{H_:function(){return L},Vd:function(){return b},gx:function(){return _},kL:function(){return S}});class D{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(u,N){this._keyCodeToStr[u]=N,this._strToKeyCode[N.toLowerCase()]=u}keyCodeToStr(u){return this._keyCodeToStr[u]}strToKeyCode(u){return this._strToKeyCode[u.toLowerCase()]||0}}const X=new D,v=new D,k=new D,L=new Array(230),T={},M=[],B=Object.create(null),y=Object.create(null),b=[],C=[];for(let a=0;a<=193;a++)b[a]=-1;for(let a=0;a<=132;a++)C[a]=-1;(function(){const a="",u=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",a,a],[1,1,"Hyper",0,a,0,a,a,a],[1,2,"Super",0,a,0,a,a,a],[1,3,"Fn",0,a,0,a,a,a],[1,4,"FnLock",0,a,0,a,a,a],[1,5,"Suspend",0,a,0,a,a,a],[1,6,"Resume",0,a,0,a,a,a],[1,7,"Turbo",0,a,0,a,a,a],[1,8,"Sleep",0,a,0,"VK_SLEEP",a,a],[1,9,"WakeUp",0,a,0,a,a,a],[0,10,"KeyA",31,"A",65,"VK_A",a,a],[0,11,"KeyB",32,"B",66,"VK_B",a,a],[0,12,"KeyC",33,"C",67,"VK_C",a,a],[0,13,"KeyD",34,"D",68,"VK_D",a,a],[0,14,"KeyE",35,"E",69,"VK_E",a,a],[0,15,"KeyF",36,"F",70,"VK_F",a,a],[0,16,"KeyG",37,"G",71,"VK_G",a,a],[0,17,"KeyH",38,"H",72,"VK_H",a,a],[0,18,"KeyI",39,"I",73,"VK_I",a,a],[0,19,"KeyJ",40,"J",74,"VK_J",a,a],[0,20,"KeyK",41,"K",75,"VK_K",a,a],[0,21,"KeyL",42,"L",76,"VK_L",a,a],[0,22,"KeyM",43,"M",77,"VK_M",a,a],[0,23,"KeyN",44,"N",78,"VK_N",a,a],[0,24,"KeyO",45,"O",79,"VK_O",a,a],[0,25,"KeyP",46,"P",80,"VK_P",a,a],[0,26,"KeyQ",47,"Q",81,"VK_Q",a,a],[0,27,"KeyR",48,"R",82,"VK_R",a,a],[0,28,"KeyS",49,"S",83,"VK_S",a,a],[0,29,"KeyT",50,"T",84,"VK_T",a,a],[0,30,"KeyU",51,"U",85,"VK_U",a,a],[0,31,"KeyV",52,"V",86,"VK_V",a,a],[0,32,"KeyW",53,"W",87,"VK_W",a,a],[0,33,"KeyX",54,"X",88,"VK_X",a,a],[0,34,"KeyY",55,"Y",89,"VK_Y",a,a],[0,35,"KeyZ",56,"Z",90,"VK_Z",a,a],[0,36,"Digit1",22,"1",49,"VK_1",a,a],[0,37,"Digit2",23,"2",50,"VK_2",a,a],[0,38,"Digit3",24,"3",51,"VK_3",a,a],[0,39,"Digit4",25,"4",52,"VK_4",a,a],[0,40,"Digit5",26,"5",53,"VK_5",a,a],[0,41,"Digit6",27,"6",54,"VK_6",a,a],[0,42,"Digit7",28,"7",55,"VK_7",a,a],[0,43,"Digit8",29,"8",56,"VK_8",a,a],[0,44,"Digit9",30,"9",57,"VK_9",a,a],[0,45,"Digit0",21,"0",48,"VK_0",a,a],[1,46,"Enter",3,"Enter",13,"VK_RETURN",a,a],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",a,a],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",a,a],[1,49,"Tab",2,"Tab",9,"VK_TAB",a,a],[1,50,"Space",10,"Space",32,"VK_SPACE",a,a],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,a,0,a,a,a],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",a,a],[1,64,"F1",59,"F1",112,"VK_F1",a,a],[1,65,"F2",60,"F2",113,"VK_F2",a,a],[1,66,"F3",61,"F3",114,"VK_F3",a,a],[1,67,"F4",62,"F4",115,"VK_F4",a,a],[1,68,"F5",63,"F5",116,"VK_F5",a,a],[1,69,"F6",64,"F6",117,"VK_F6",a,a],[1,70,"F7",65,"F7",118,"VK_F7",a,a],[1,71,"F8",66,"F8",119,"VK_F8",a,a],[1,72,"F9",67,"F9",120,"VK_F9",a,a],[1,73,"F10",68,"F10",121,"VK_F10",a,a],[1,74,"F11",69,"F11",122,"VK_F11",a,a],[1,75,"F12",70,"F12",123,"VK_F12",a,a],[1,76,"PrintScreen",0,a,0,a,a,a],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",a,a],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",a,a],[1,79,"Insert",19,"Insert",45,"VK_INSERT",a,a],[1,80,"Home",14,"Home",36,"VK_HOME",a,a],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",a,a],[1,82,"Delete",20,"Delete",46,"VK_DELETE",a,a],[1,83,"End",13,"End",35,"VK_END",a,a],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",a,a],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",a],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",a],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",a],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",a],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",a,a],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",a,a],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",a,a],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",a,a],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",a,a],[1,94,"NumpadEnter",3,a,0,a,a,a],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",a,a],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",a,a],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",a,a],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",a,a],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",a,a],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",a,a],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",a,a],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",a,a],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",a,a],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",a,a],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",a,a],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",a,a],[1,107,"ContextMenu",58,"ContextMenu",93,a,a,a],[1,108,"Power",0,a,0,a,a,a],[1,109,"NumpadEqual",0,a,0,a,a,a],[1,110,"F13",71,"F13",124,"VK_F13",a,a],[1,111,"F14",72,"F14",125,"VK_F14",a,a],[1,112,"F15",73,"F15",126,"VK_F15",a,a],[1,113,"F16",74,"F16",127,"VK_F16",a,a],[1,114,"F17",75,"F17",128,"VK_F17",a,a],[1,115,"F18",76,"F18",129,"VK_F18",a,a],[1,116,"F19",77,"F19",130,"VK_F19",a,a],[1,117,"F20",78,"F20",131,"VK_F20",a,a],[1,118,"F21",79,"F21",132,"VK_F21",a,a],[1,119,"F22",80,"F22",133,"VK_F22",a,a],[1,120,"F23",81,"F23",134,"VK_F23",a,a],[1,121,"F24",82,"F24",135,"VK_F24",a,a],[1,122,"Open",0,a,0,a,a,a],[1,123,"Help",0,a,0,a,a,a],[1,124,"Select",0,a,0,a,a,a],[1,125,"Again",0,a,0,a,a,a],[1,126,"Undo",0,a,0,a,a,a],[1,127,"Cut",0,a,0,a,a,a],[1,128,"Copy",0,a,0,a,a,a],[1,129,"Paste",0,a,0,a,a,a],[1,130,"Find",0,a,0,a,a,a],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",a,a],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",a,a],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",a,a],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",a,a],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",a,a],[1,136,"KanaMode",0,a,0,a,a,a],[0,137,"IntlYen",0,a,0,a,a,a],[1,138,"Convert",0,a,0,a,a,a],[1,139,"NonConvert",0,a,0,a,a,a],[1,140,"Lang1",0,a,0,a,a,a],[1,141,"Lang2",0,a,0,a,a,a],[1,142,"Lang3",0,a,0,a,a,a],[1,143,"Lang4",0,a,0,a,a,a],[1,144,"Lang5",0,a,0,a,a,a],[1,145,"Abort",0,a,0,a,a,a],[1,146,"Props",0,a,0,a,a,a],[1,147,"NumpadParenLeft",0,a,0,a,a,a],[1,148,"NumpadParenRight",0,a,0,a,a,a],[1,149,"NumpadBackspace",0,a,0,a,a,a],[1,150,"NumpadMemoryStore",0,a,0,a,a,a],[1,151,"NumpadMemoryRecall",0,a,0,a,a,a],[1,152,"NumpadMemoryClear",0,a,0,a,a,a],[1,153,"NumpadMemoryAdd",0,a,0,a,a,a],[1,154,"NumpadMemorySubtract",0,a,0,a,a,a],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",a,a],[1,156,"NumpadClearEntry",0,a,0,a,a,a],[1,0,a,5,"Ctrl",17,"VK_CONTROL",a,a],[1,0,a,4,"Shift",16,"VK_SHIFT",a,a],[1,0,a,6,"Alt",18,"VK_MENU",a,a],[1,0,a,57,"Meta",91,"VK_COMMAND",a,a],[1,157,"ControlLeft",5,a,0,"VK_LCONTROL",a,a],[1,158,"ShiftLeft",4,a,0,"VK_LSHIFT",a,a],[1,159,"AltLeft",6,a,0,"VK_LMENU",a,a],[1,160,"MetaLeft",57,a,0,"VK_LWIN",a,a],[1,161,"ControlRight",5,a,0,"VK_RCONTROL",a,a],[1,162,"ShiftRight",4,a,0,"VK_RSHIFT",a,a],[1,163,"AltRight",6,a,0,"VK_RMENU",a,a],[1,164,"MetaRight",57,a,0,"VK_RWIN",a,a],[1,165,"BrightnessUp",0,a,0,a,a,a],[1,166,"BrightnessDown",0,a,0,a,a,a],[1,167,"MediaPlay",0,a,0,a,a,a],[1,168,"MediaRecord",0,a,0,a,a,a],[1,169,"MediaFastForward",0,a,0,a,a,a],[1,170,"MediaRewind",0,a,0,a,a,a],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",a,a],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",a,a],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",a,a],[1,174,"Eject",0,a,0,a,a,a],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",a,a],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",a,a],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",a,a],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",a,a],[1,179,"LaunchApp1",0,a,0,"VK_MEDIA_LAUNCH_APP1",a,a],[1,180,"SelectTask",0,a,0,a,a,a],[1,181,"LaunchScreenSaver",0,a,0,a,a,a],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",a,a],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",a,a],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",a,a],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",a,a],[1,186,"BrowserStop",0,a,0,"VK_BROWSER_STOP",a,a],[1,187,"BrowserRefresh",0,a,0,"VK_BROWSER_REFRESH",a,a],[1,188,"BrowserFavorites",0,a,0,"VK_BROWSER_FAVORITES",a,a],[1,189,"ZoomToggle",0,a,0,a,a,a],[1,190,"MailReply",0,a,0,a,a,a],[1,191,"MailForward",0,a,0,a,a,a],[1,192,"MailSend",0,a,0,a,a,a],[1,0,a,114,"KeyInComposition",229,a,a,a],[1,0,a,116,"ABNT_C2",194,"VK_ABNT_C2",a,a],[1,0,a,96,"OEM_8",223,"VK_OEM_8",a,a],[1,0,a,0,a,0,"VK_KANA",a,a],[1,0,a,0,a,0,"VK_HANGUL",a,a],[1,0,a,0,a,0,"VK_JUNJA",a,a],[1,0,a,0,a,0,"VK_FINAL",a,a],[1,0,a,0,a,0,"VK_HANJA",a,a],[1,0,a,0,a,0,"VK_KANJI",a,a],[1,0,a,0,a,0,"VK_CONVERT",a,a],[1,0,a,0,a,0,"VK_NONCONVERT",a,a],[1,0,a,0,a,0,"VK_ACCEPT",a,a],[1,0,a,0,a,0,"VK_MODECHANGE",a,a],[1,0,a,0,a,0,"VK_SELECT",a,a],[1,0,a,0,a,0,"VK_PRINT",a,a],[1,0,a,0,a,0,"VK_EXECUTE",a,a],[1,0,a,0,a,0,"VK_SNAPSHOT",a,a],[1,0,a,0,a,0,"VK_HELP",a,a],[1,0,a,0,a,0,"VK_APPS",a,a],[1,0,a,0,a,0,"VK_PROCESSKEY",a,a],[1,0,a,0,a,0,"VK_PACKET",a,a],[1,0,a,0,a,0,"VK_DBE_SBCSCHAR",a,a],[1,0,a,0,a,0,"VK_DBE_DBCSCHAR",a,a],[1,0,a,0,a,0,"VK_ATTN",a,a],[1,0,a,0,a,0,"VK_CRSEL",a,a],[1,0,a,0,a,0,"VK_EXSEL",a,a],[1,0,a,0,a,0,"VK_EREOF",a,a],[1,0,a,0,a,0,"VK_PLAY",a,a],[1,0,a,0,a,0,"VK_ZOOM",a,a],[1,0,a,0,a,0,"VK_NONAME",a,a],[1,0,a,0,a,0,"VK_PA1",a,a],[1,0,a,0,a,0,"VK_OEM_CLEAR",a,a]],N=[],O=[];for(const R of u){const[V,F,Y,G,Z,ne,$,J,se]=R;if(O[F]||(O[F]=!0,M[F]=Y,B[Y]=F,y[Y.toLowerCase()]=F,V&&(b[F]=G,G!==0&&G!==3&&G!==5&&G!==4&&G!==6&&G!==57&&(C[G]=F))),!N[G]){if(N[G]=!0,!Z)throw new Error(`String representation missing for key code ${G} around scan code ${Y}`);X.define(G,Z),v.define(G,J||Z),k.define(G,se||J||Z)}ne&&(L[ne]=G),$&&(T[$]=G)}C[3]=46})();var S;(function(a){function u(Y){return X.keyCodeToStr(Y)}a.toString=u;function N(Y){return X.strToKeyCode(Y)}a.fromString=N;function O(Y){return v.keyCodeToStr(Y)}a.toUserSettingsUS=O;function R(Y){return k.keyCodeToStr(Y)}a.toUserSettingsGeneral=R;function V(Y){return v.strToKeyCode(Y)||k.strToKeyCode(Y)}a.fromUserSettings=V;function F(Y){if(Y>=98&&Y<=113)return null;switch(Y){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return X.keyCodeToStr(Y)}a.toElectronAccelerator=F})(S||(S={}));function _(a,u){const N=(u&65535)<<16>>>0;return(a|N)>>>0}},7461:function(Gt,ze,c){"use strict";c.d(ze,{X4:function(){return k},jC:function(){return L},r6:function(){return T},xo:function(){return v}});var D=c(18493);class X{constructor(y,b,C=b){this.modifierLabels=[null],this.modifierLabels[2]=y,this.modifierLabels[1]=b,this.modifierLabels[3]=C}toLabel(y,b,C){if(b.length===0)return null;const S=[];for(let _=0,a=b.length;_<a;_++){const u=b[_],N=C(u);if(N===null)return null;S[_]=M(u,N,this.modifierLabels[y])}return S.join(" ")}}const v=new X({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:D.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:D.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:D.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:D.NC({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:D.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:D.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:D.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:D.NC({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),k=new X({ctrlKey:D.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:D.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:D.NC({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:D.NC({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:D.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:D.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:D.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:D.NC({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:D.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:D.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:D.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:D.NC({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),L=new X({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),T=new X({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function M(B,y,b){if(y===null)return"";const C=[];return B.ctrlKey&&C.push(b.ctrlKey),B.shiftKey&&C.push(b.shiftKey),B.altKey&&C.push(b.altKey),B.metaKey&&C.push(b.metaKey),y!==""&&C.push(y),C.join(b.separator)}},39469:function(Gt,ze,c){"use strict";c.d(ze,{$M:function(){return k},Z9:function(){return X},aZ:function(){return M},f1:function(){return B}});var D=c(35541);function X(y,b){if(typeof y=="number"){if(y===0)return null;const C=(y&65535)>>>0,S=(y&4294901760)>>>16;return S!==0?new T([v(C,b),v(S,b)]):new T([v(C,b)])}else{const C=[];for(let S=0;S<y.length;S++)C.push(v(y[S],b));return new T(C)}}function v(y,b){const C=!!(y&2048),S=!!(y&256),_=b===2?S:C,a=!!(y&1024),u=!!(y&512),N=b===2?C:S,O=y&255;return new k(_,a,u,N,O)}class k{constructor(b,C,S,_,a){this.ctrlKey=b,this.shiftKey=C,this.altKey=S,this.metaKey=_,this.keyCode=a}equals(b){return b instanceof k&&this.ctrlKey===b.ctrlKey&&this.shiftKey===b.shiftKey&&this.altKey===b.altKey&&this.metaKey===b.metaKey&&this.keyCode===b.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class L{constructor(b,C,S,_,a){this.ctrlKey=b,this.shiftKey=C,this.altKey=S,this.metaKey=_,this.scanCode=a}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}class T{constructor(b){if(b.length===0)throw(0,D.b1)("chords");this.chords=b}}class M{constructor(b,C,S,_,a,u){this.ctrlKey=b,this.shiftKey=C,this.altKey=S,this.metaKey=_,this.keyLabel=a,this.keyAriaLabel=u}}class B{}},18796:function(Gt,ze,c){"use strict";c.d(ze,{o:function(){return D}});class D{constructor(v){this.executor=v,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(v){this._error=v}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},83845:function(Gt,ze,c){"use strict";c.d(ze,{B9:function(){return S},F8:function(){return _},JT:function(){return N},Jz:function(){return V},L6:function(){return R},Nq:function(){return M},OF:function(){return a},SL:function(){return u},Wf:function(){return C},XK:function(){return O},b2:function(){return F},dk:function(){return b},wi:function(){return T}});var D=c(15039),X=c(54362);const v=!1;let k=null;function L(Y){k=Y}if(v){const Y="__is_disposable_tracked__";L(new class{trackDisposable(G){const Z=new Error("Potentially leaked disposable").stack;setTimeout(()=>{G[Y]||console.log(Z)},3e3)}setParent(G,Z){if(G&&G!==N.None)try{G[Y]=!0}catch(ne){}}markAsDisposed(G){if(G&&G!==N.None)try{G[Y]=!0}catch(Z){}}markAsSingleton(G){}})}function T(Y){return k==null||k.trackDisposable(Y),Y}function M(Y){k==null||k.markAsDisposed(Y)}function B(Y,G){k==null||k.setParent(Y,G)}function y(Y,G){if(k)for(const Z of Y)k.setParent(Z,G)}function b(Y){return k==null||k.markAsSingleton(Y),Y}function C(Y){return typeof Y.dispose=="function"&&Y.dispose.length===0}function S(Y){if(X.$.is(Y)){const G=[];for(const Z of Y)if(Z)try{Z.dispose()}catch(ne){G.push(ne)}if(G.length===1)throw G[0];if(G.length>1)throw new AggregateError(G,"Encountered errors while disposing of store");return Array.isArray(Y)?[]:Y}else if(Y)return Y.dispose(),Y}function _(...Y){const G=a(()=>S(Y));return y(Y,G),G}function a(Y){const G=T({dispose:(0,D.M)(()=>{M(G),Y()})});return G}class u{constructor(){this._toDispose=new Set,this._isDisposed=!1,T(this)}dispose(){this._isDisposed||(M(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{S(this._toDispose)}finally{this._toDispose.clear()}}add(G){if(!G)return G;if(G===this)throw new Error("Cannot register a disposable on itself!");return B(G,this),this._isDisposed?u.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(G),G}deleteAndLeak(G){G&&this._toDispose.has(G)&&(this._toDispose.delete(G),B(G,null))}}u.DISABLE_DISPOSED_WARNING=!1;class N{constructor(){this._store=new u,T(this),B(this._store,this)}dispose(){M(this),this._store.dispose()}_register(G){if(G===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(G)}}N.None=Object.freeze({dispose(){}});class O{constructor(){this._isDisposed=!1,T(this)}get value(){return this._isDisposed?void 0:this._value}set value(G){var Z;this._isDisposed||G===this._value||((Z=this._value)===null||Z===void 0||Z.dispose(),G&&B(G,this),this._value=G)}clear(){this.value=void 0}dispose(){var G;this._isDisposed=!0,M(this),(G=this._value)===null||G===void 0||G.dispose(),this._value=void 0}}class R{constructor(G){this._disposable=G,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}class V{constructor(G){this.object=G}dispose(){}}class F{constructor(){this._store=new Map,this._isDisposed=!1,T(this)}dispose(){M(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{S(this._store.values())}finally{this._store.clear()}}get(G){return this._store.get(G)}set(G,Z,ne=!1){var $;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),ne||($=this._store.get(G))===null||$===void 0||$.dispose(),this._store.set(G,Z)}deleteAndDispose(G){var Z;(Z=this._store.get(G))===null||Z===void 0||Z.dispose(),this._store.delete(G)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}},29882:function(Gt,ze,c){"use strict";c.d(ze,{S:function(){return X}});class D{constructor(k){this.element=k,this.next=D.Undefined,this.prev=D.Undefined}}D.Undefined=new D(void 0);class X{constructor(){this._first=D.Undefined,this._last=D.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===D.Undefined}clear(){let k=this._first;for(;k!==D.Undefined;){const L=k.next;k.prev=D.Undefined,k.next=D.Undefined,k=L}this._first=D.Undefined,this._last=D.Undefined,this._size=0}unshift(k){return this._insert(k,!1)}push(k){return this._insert(k,!0)}_insert(k,L){const T=new D(k);if(this._first===D.Undefined)this._first=T,this._last=T;else if(L){const B=this._last;this._last=T,T.prev=B,B.next=T}else{const B=this._first;this._first=T,T.next=B,B.prev=T}this._size+=1;let M=!1;return()=>{M||(M=!0,this._remove(T))}}shift(){if(this._first!==D.Undefined){const k=this._first.element;return this._remove(this._first),k}}pop(){if(this._last!==D.Undefined){const k=this._last.element;return this._remove(this._last),k}}_remove(k){if(k.prev!==D.Undefined&&k.next!==D.Undefined){const L=k.prev;L.next=k.next,k.next.prev=L}else k.prev===D.Undefined&&k.next===D.Undefined?(this._first=D.Undefined,this._last=D.Undefined):k.next===D.Undefined?(this._last=this._last.prev,this._last.next=D.Undefined):k.prev===D.Undefined&&(this._first=this._first.next,this._first.prev=D.Undefined);this._size-=1}*[Symbol.iterator](){let k=this._first;for(;k!==D.Undefined;)yield k.element,k=k.next}}},83987:function(Gt,ze,c){"use strict";c.d(ze,{Y9:function(){return L},YQ:function(){return B},ri:function(){return y},z6:function(){return M}});var D,X;class v{constructor(C,S){this.uri=C,this.value=S}}function k(b){return Array.isArray(b)}class L{constructor(C,S){if(this[D]="ResourceMap",C instanceof L)this.map=new Map(C.map),this.toKey=S!=null?S:L.defaultToKey;else if(k(C)){this.map=new Map,this.toKey=S!=null?S:L.defaultToKey;for(const[_,a]of C)this.set(_,a)}else this.map=new Map,this.toKey=C!=null?C:L.defaultToKey}set(C,S){return this.map.set(this.toKey(C),new v(C,S)),this}get(C){var S;return(S=this.map.get(this.toKey(C)))===null||S===void 0?void 0:S.value}has(C){return this.map.has(this.toKey(C))}get size(){return this.map.size}clear(){this.map.clear()}delete(C){return this.map.delete(this.toKey(C))}forEach(C,S){typeof S!="undefined"&&(C=C.bind(S));for(const[_,a]of this.map)C(a.value,a.uri,this)}*values(){for(const C of this.map.values())yield C.value}*keys(){for(const C of this.map.values())yield C.uri}*entries(){for(const C of this.map.values())yield[C.uri,C.value]}*[(D=Symbol.toStringTag,Symbol.iterator)](){for(const[,C]of this.map)yield[C.uri,C.value]}}L.defaultToKey=b=>b.toString();class T{constructor(){this[X]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var C;return(C=this._head)===null||C===void 0?void 0:C.value}get last(){var C;return(C=this._tail)===null||C===void 0?void 0:C.value}has(C){return this._map.has(C)}get(C,S=0){const _=this._map.get(C);if(_)return S!==0&&this.touch(_,S),_.value}set(C,S,_=0){let a=this._map.get(C);if(a)a.value=S,_!==0&&this.touch(a,_);else{switch(a={key:C,value:S,next:void 0,previous:void 0},_){case 0:this.addItemLast(a);break;case 1:this.addItemFirst(a);break;case 2:this.addItemLast(a);break;default:this.addItemLast(a);break}this._map.set(C,a),this._size++}return this}delete(C){return!!this.remove(C)}remove(C){const S=this._map.get(C);if(S)return this._map.delete(C),this.removeItem(S),this._size--,S.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const C=this._head;return this._map.delete(C.key),this.removeItem(C),this._size--,C.value}forEach(C,S){const _=this._state;let a=this._head;for(;a;){if(S?C.bind(S)(a.value,a.key,this):C(a.value,a.key,this),this._state!==_)throw new Error("LinkedMap got modified during iteration.");a=a.next}}keys(){const C=this,S=this._state;let _=this._head;const a={[Symbol.iterator](){return a},next(){if(C._state!==S)throw new Error("LinkedMap got modified during iteration.");if(_){const u={value:_.key,done:!1};return _=_.next,u}else return{value:void 0,done:!0}}};return a}values(){const C=this,S=this._state;let _=this._head;const a={[Symbol.iterator](){return a},next(){if(C._state!==S)throw new Error("LinkedMap got modified during iteration.");if(_){const u={value:_.value,done:!1};return _=_.next,u}else return{value:void 0,done:!0}}};return a}entries(){const C=this,S=this._state;let _=this._head;const a={[Symbol.iterator](){return a},next(){if(C._state!==S)throw new Error("LinkedMap got modified during iteration.");if(_){const u={value:[_.key,_.value],done:!1};return _=_.next,u}else return{value:void 0,done:!0}}};return a}[(X=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(C){if(C>=this.size)return;if(C===0){this.clear();return}let S=this._head,_=this.size;for(;S&&_>C;)this._map.delete(S.key),S=S.next,_--;this._head=S,this._size=_,S&&(S.previous=void 0),this._state++}addItemFirst(C){if(!this._head&&!this._tail)this._tail=C;else if(this._head)C.next=this._head,this._head.previous=C;else throw new Error("Invalid list");this._head=C,this._state++}addItemLast(C){if(!this._head&&!this._tail)this._head=C;else if(this._tail)C.previous=this._tail,this._tail.next=C;else throw new Error("Invalid list");this._tail=C,this._state++}removeItem(C){if(C===this._head&&C===this._tail)this._head=void 0,this._tail=void 0;else if(C===this._head){if(!C.next)throw new Error("Invalid list");C.next.previous=void 0,this._head=C.next}else if(C===this._tail){if(!C.previous)throw new Error("Invalid list");C.previous.next=void 0,this._tail=C.previous}else{const S=C.next,_=C.previous;if(!S||!_)throw new Error("Invalid list");S.previous=_,_.next=S}C.next=void 0,C.previous=void 0,this._state++}touch(C,S){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(S!==1&&S!==2)){if(S===1){if(C===this._head)return;const _=C.next,a=C.previous;C===this._tail?(a.next=void 0,this._tail=a):(_.previous=a,a.next=_),C.previous=void 0,C.next=this._head,this._head.previous=C,this._head=C,this._state++}else if(S===2){if(C===this._tail)return;const _=C.next,a=C.previous;C===this._head?(_.previous=void 0,this._head=_):(_.previous=a,a.next=_),C.next=void 0,C.previous=this._tail,this._tail.next=C,this._tail=C,this._state++}}}toJSON(){const C=[];return this.forEach((S,_)=>{C.push([_,S])}),C}fromJSON(C){this.clear();for(const[S,_]of C)this.set(S,_)}}class M extends T{constructor(C,S=1){super(),this._limit=C,this._ratio=Math.min(Math.max(0,S),1)}get limit(){return this._limit}set limit(C){this._limit=C,this.checkTrim()}get(C,S=2){return super.get(C,S)}peek(C){return super.get(C,0)}set(C,S){return super.set(C,S,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}class B{constructor(C){if(this._m1=new Map,this._m2=new Map,C)for(const[S,_]of C)this.set(S,_)}clear(){this._m1.clear(),this._m2.clear()}set(C,S){this._m1.set(C,S),this._m2.set(S,C)}get(C){return this._m1.get(C)}getKey(C){return this._m2.get(C)}delete(C){const S=this._m1.get(C);return S===void 0?!1:(this._m1.delete(C),this._m2.delete(S),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}class y{constructor(){this.map=new Map}add(C,S){let _=this.map.get(C);_||(_=new Set,this.map.set(C,_)),_.add(S)}delete(C,S){const _=this.map.get(C);_&&(_.delete(S),_.size===0&&this.map.delete(C))}forEach(C,S){const _=this.map.get(C);_&&_.forEach(S)}get(C){const S=this.map.get(C);return S||new Set}}},29961:function(Gt,ze,c){"use strict";c.d(ze,{Pz:function(){return v},Qc:function(){return k}});var D=c(49159),X=c(6685);function v(M){return JSON.stringify(M,L)}function k(M){let B=JSON.parse(M);return B=T(B),B}function L(M,B){return B instanceof RegExp?{$mid:2,source:B.source,flags:B.flags}:B}function T(M,B=0){if(!M||B>200)return M;if(typeof M=="object"){switch(M.$mid){case 1:return X.o.revive(M);case 2:return new RegExp(M.source,M.flags);case 17:return new Date(M.source)}if(M instanceof D.KN||M instanceof Uint8Array)return M;if(Array.isArray(M))for(let y=0;y<M.length;++y)M[y]=T(M[y],B+1);else for(const y in M)Object.hasOwnProperty.call(M,y)&&(M[y]=T(M[y],B+1))}return M}},98584:function(Gt,ze,c){"use strict";c.d(ze,{v:function(){return D}});const D=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},90385:function(Gt,ze,c){"use strict";c.d(ze,{Gi:function(){return _},Gs:function(){return M},WX:function(){return b},lg:function(){return L},xn:function(){return T}});var D=c(35541),X=c(43998),v=c(80360),k=c(6685),L;(function(u){u.inMemory="inmemory",u.vscode="vscode",u.internal="private",u.walkThrough="walkThrough",u.walkThroughSnippet="walkThroughSnippet",u.http="http",u.https="https",u.file="file",u.mailto="mailto",u.untitled="untitled",u.data="data",u.command="command",u.vscodeRemote="vscode-remote",u.vscodeRemoteResource="vscode-remote-resource",u.vscodeManagedRemoteResource="vscode-managed-remote-resource",u.vscodeUserData="vscode-userdata",u.vscodeCustomEditor="vscode-custom-editor",u.vscodeNotebookCell="vscode-notebook-cell",u.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",u.vscodeNotebookCellOutput="vscode-notebook-cell-output",u.vscodeInteractiveInput="vscode-interactive-input",u.vscodeSettings="vscode-settings",u.vscodeWorkspaceTrust="vscode-workspace-trust",u.vscodeTerminal="vscode-terminal",u.vscodeChatSesssion="vscode-chat-editor",u.webviewPanel="webview-panel",u.vscodeWebview="vscode-webview",u.extension="extension",u.vscodeFileResource="vscode-file",u.tmp="tmp",u.vsls="vsls",u.vscodeSourceControl="vscode-scm"})(L||(L={}));function T(u,N){return k.o.isUri(u)?(0,v.qq)(u.scheme,N):(0,v.ok)(u,N+":")}function M(u,...N){return N.some(O=>T(u,O))}const B="tkn";class y{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${L.vscodeRemoteResource}`}setPreferredWebSchema(N){this._preferredWebSchema=N}rewrite(N){if(this._delegate)try{return this._delegate(N)}catch(G){return D.dL(G),N}const O=N.authority;let R=this._hosts[O];R&&R.indexOf(":")!==-1&&R.indexOf("[")===-1&&(R=`[${R}]`);const V=this._ports[O],F=this._connectionTokens[O];let Y=`path=${encodeURIComponent(N.path)}`;return typeof F=="string"&&(Y+=`&${B}=${encodeURIComponent(F)}`),k.o.from({scheme:X.$L?this._preferredWebSchema:L.vscodeRemoteResource,authority:`${R}:${V}`,path:this._remoteResourcesPath,query:Y})}}const b=new y,C="vscode-app";class S{uriToBrowserUri(N){return N.scheme===L.vscodeRemote?b.rewrite(N):N.scheme===L.file&&(X.tY||X.qB===`${L.vscodeFileResource}://${S.FALLBACK_AUTHORITY}`)?N.with({scheme:L.vscodeFileResource,authority:N.authority||S.FALLBACK_AUTHORITY,query:null,fragment:null}):N}}S.FALLBACK_AUTHORITY=C;const _=new S;var a;(function(u){const N=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);u.CoopAndCoep=Object.freeze(N.get("3"));const O="vscode-coi";function R(F){let Y;typeof F=="string"?Y=new URL(F).searchParams:F instanceof URL?Y=F.searchParams:k.o.isUri(F)&&(Y=new URL(F.toString(!0)).searchParams);const G=Y==null?void 0:Y.get(O);if(G)return N.get(G)}u.getHeadersFromQuery=R;function V(F,Y,G){if(!globalThis.crossOriginIsolated)return;const Z=Y&&G?"3":G?"2":"1";F instanceof URLSearchParams?F.set(O,Z):F[O]=Z}u.addSearchParam=V})(a||(a={}))},79664:function(Gt,ze,c){"use strict";c.d(ze,{N:function(){return v},nM:function(){return X},uZ:function(){return D}});function D(k,L,T){return Math.min(Math.max(k,L),T)}class X{constructor(){this._n=1,this._val=0}update(L){return this._val=this._val+(L-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class v{constructor(L){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(L),this._values.fill(0,0,L)}update(L){const T=this._values[this._index];return this._values[this._index]=L,this._index=(this._index+1)%this._values.length,this._sum-=T,this._sum+=L,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},24913:function(Gt,ze,c){"use strict";c.d(ze,{$E:function(){return b},I8:function(){return X},IU:function(){return C},_A:function(){return v},fS:function(){return B},jB:function(){return M},rs:function(){return L}});var D=c(22968);function X(S){if(!S||typeof S!="object"||S instanceof RegExp)return S;const _=Array.isArray(S)?[]:{};return Object.entries(S).forEach(([a,u])=>{_[a]=u&&typeof u=="object"?X(u):u}),_}function v(S){if(!S||typeof S!="object")return S;const _=[S];for(;_.length>0;){const a=_.shift();Object.freeze(a);for(const u in a)if(k.call(a,u)){const N=a[u];typeof N=="object"&&!Object.isFrozen(N)&&!(0,D.fU)(N)&&_.push(N)}}return S}const k=Object.prototype.hasOwnProperty;function L(S,_){return T(S,_,new Set)}function T(S,_,a){if((0,D.Jp)(S))return S;const u=_(S);if(typeof u!="undefined")return u;if(Array.isArray(S)){const N=[];for(const O of S)N.push(T(O,_,a));return N}if((0,D.Kn)(S)){if(a.has(S))throw new Error("Cannot clone recursive data-structure");a.add(S);const N={};for(const O in S)k.call(S,O)&&(N[O]=T(S[O],_,a));return a.delete(S),N}return S}function M(S,_,a=!0){return(0,D.Kn)(S)?((0,D.Kn)(_)&&Object.keys(_).forEach(u=>{u in S?a&&((0,D.Kn)(S[u])&&(0,D.Kn)(_[u])?M(S[u],_[u],a):S[u]=_[u]):S[u]=_[u]}),S):_}function B(S,_){if(S===_)return!0;if(S==null||_===null||_===void 0||typeof S!=typeof _||typeof S!="object"||Array.isArray(S)!==Array.isArray(_))return!1;let a,u;if(Array.isArray(S)){if(S.length!==_.length)return!1;for(a=0;a<S.length;a++)if(!B(S[a],_[a]))return!1}else{const N=[];for(u in S)N.push(u);N.sort();const O=[];for(u in _)O.push(u);if(O.sort(),!B(N,O))return!1;for(a=0;a<N.length;a++)if(!B(S[N[a]],_[N[a]]))return!1}return!0}function y(S){let _=[];for(;Object.prototype!==S;)_=_.concat(Object.getOwnPropertyNames(S)),S=Object.getPrototypeOf(S);return _}function b(S){const _=[];for(const a of y(S))typeof S[a]=="function"&&_.push(a);return _}function C(S,_){const a=N=>function(){const O=Array.prototype.slice.call(arguments,0);return _(N,O)},u={};for(const N of S)u[N]=a(N);return u}},13611:function(Gt,ze,c){"use strict";c.d(ze,{EH:function(){return T},nJ:function(){return B},UV:function(){return M},gp:function(){return y},Dz:function(){return C},nK:function(){return X.nK},aK:function(){return X.aK},bx:function(){return G},bk:function(){return X.bk},Be:function(){return X.Be},DN:function(){return D.DN},rD:function(){return a},GN:function(){return R},aq:function(){return N},uh:function(){return D.uh},jx:function(){return F},c8:function(){return D.c8},PS:function(){return D.PS},F_:function(){return _}});var D=c(5411),X=c(86799),v=c(32522),k=c(83845),L=c(96500);function T(ne){return new b(void 0,ne,void 0,void 0)}function M(ne,$){return new b(ne.debugName,$,void 0,void 0)}function B(ne,$){return new b(ne.debugName,$,ne.createEmptyChangeSummary,ne.handleChange)}function y(ne){const $=new k.SL,J=M({debugName:()=>(0,D.$P)(ne)||"(anonymous)"},se=>{$.clear(),ne(se,$)});return(0,k.OF)(()=>{J.dispose(),$.dispose()})}class b{get debugName(){if(typeof this._debugName=="string")return this._debugName;if(typeof this._debugName=="function"){const J=this._debugName();if(J!==void 0)return J}const $=(0,D.$P)(this._runFn);return $!==void 0?$:"(anonymous)"}constructor($,J,se,re){var he,H;this._debugName=$,this._runFn=J,this.createChangeSummary=se,this._handleChange=re,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(he=this.createChangeSummary)===null||he===void 0?void 0:he.call(this),(H=(0,L.jl)())===null||H===void 0||H.handleAutorunCreated(this),this._runIfNeeded(),(0,k.wi)(this)}dispose(){this.disposed=!0;for(const $ of this.dependencies)$.removeObserver(this);this.dependencies.clear(),(0,k.Nq)(this)}_runIfNeeded(){var $,J,se;if(this.state===3)return;const re=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=re,this.state=3;const he=this.disposed;try{if(!he){($=(0,L.jl)())===null||$===void 0||$.handleAutorunTriggered(this);const H=this.changeSummary;this.changeSummary=(J=this.createChangeSummary)===null||J===void 0?void 0:J.call(this),this._runFn(this,H)}}finally{he||(se=(0,L.jl)())===null||se===void 0||se.handleAutorunFinished(this);for(const H of this.dependenciesToBeRemoved)H.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const $ of this.dependencies)if($.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,(0,v.eZ)(()=>this.updateCount>=0)}handlePossibleChange($){this.state===3&&this.dependencies.has($)&&!this.dependenciesToBeRemoved.has($)&&(this.state=1)}handleChange($,J){this.dependencies.has($)&&!this.dependenciesToBeRemoved.has($)&&(!this._handleChange||this._handleChange({changedObservable:$,change:J,didChange:re=>re===$},this.changeSummary))&&(this.state=2)}readObservable($){if(this.disposed)return $.get();$.addObserver(this);const J=$.get();return this.dependencies.add($),this.dependenciesToBeRemoved.delete($),J}}(function(ne){ne.Observer=b})(T||(T={}));function C(ne){return new S(ne)}class S extends D.Nc{constructor($){super(),this.value=$}get debugName(){return this.toString()}get(){return this.value}addObserver($){}removeObserver($){}toString(){return`Const: ${this.value}`}}function _(ne,$){return new Promise(J=>{let se=!1,re=!1;const he=ne.map(P=>({isFinished:$(P),state:P})),H=T(P=>{const{isFinished:j,state:K}=he.read(P);j&&(se?H.dispose():re=!0,J(K))});se=!0,re&&H.dispose()})}function a(ne,$){return new u(ne,$)}class u extends D.hm{constructor($,J){super(),this.event=$,this._getValue=J,this.hasValue=!1,this.handleEvent=se=>{var re;const he=this._getValue(se),H=this.value,P=!this.hasValue||H!==he;let j=!1;P&&(this.value=he,this.hasValue&&(j=!0,(0,D.c8)(u.globalTransaction,K=>{var ie;(ie=(0,L.jl)())===null||ie===void 0||ie.handleFromEventObservableTriggered(this,{oldValue:H,newValue:he,change:void 0,didChange:P,hadValue:this.hasValue});for(const ce of this.observers)K.updateObserver(ce,this),ce.handleChange(this,void 0)},()=>{const K=this.getDebugName();return"Event fired"+(K?`: ${K}`:"")})),this.hasValue=!0),j||(re=(0,L.jl)())===null||re===void 0||re.handleFromEventObservableTriggered(this,{oldValue:H,newValue:he,change:void 0,didChange:P,hadValue:this.hasValue})}}getDebugName(){return(0,D.$P)(this._getValue)}get debugName(){const $=this.getDebugName();return"From Event"+($?`: ${$}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}(function(ne){ne.Observer=u;function $(J,se){let re=!1;u.globalTransaction===void 0&&(u.globalTransaction=J,re=!0);try{se()}finally{re&&(u.globalTransaction=void 0)}}ne.batchEventsGlobally=$})(a||(a={}));function N(ne,$){return new O(ne,$)}class O extends D.hm{constructor($,J){super(),this.debugName=$,this.event=J,this.handleEvent=()=>{(0,D.PS)(se=>{for(const re of this.observers)se.updateObserver(re,this),re.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function R(ne){return typeof ne=="string"?new V(ne):new V(void 0,ne)}class V extends D.hm{get debugName(){var $;return($=(0,D.fE)(this,this._debugName,void 0,this._owner,this))!==null&&$!==void 0?$:"Observable Signal"}constructor($,J){super(),this._debugName=$,this._owner=J}trigger($,J){if(!$){(0,D.PS)(se=>{this.trigger(se,J)},()=>`Trigger signal ${this.debugName}`);return}for(const se of this.observers)$.updateObserver(se,this),se.handleChange(this,J)}get(){}}function F(ne,$){const J=new Y(!0,$);return ne.addObserver(J),$?$(ne.get()):ne.reportChanges(),(0,k.OF)(()=>{ne.removeObserver(J)})}(0,D.MK)(F);class Y{constructor($,J){this._forceRecompute=$,this._handleValue=J,this._counter=0}beginUpdate($){this._counter++}endUpdate($){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue($.get()):$.reportChanges())}handlePossibleChange($){}handleChange($,J){}}function G(ne){let $;return(0,X.nK)(se=>($=ne(se,$),$))}!1&&(0,L.EK)(new L.Qy)},5411:function(Gt,ze,c){"use strict";c.d(ze,{$P:function(){return G},Bl:function(){return b},DN:function(){return $},Hr:function(){return C},MK:function(){return v},Nc:function(){return T},PS:function(){return B},c8:function(){return S},fE:function(){return N},hm:function(){return M},mT:function(){return L},uh:function(){return Z}});var D=c(96500);let X;function v(se){X=se}let k;function L(se){k=se}class T{get TChange(){return null}reportChanges(){this.get()}read(re){return re?re.readObservable(this):this.get()}map(re,he){const H=he===void 0?void 0:re,P=he===void 0?re:he;return k({owner:H,debugName:()=>{const j=G(P);if(j!==void 0)return j;const ie=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(P.toString());if(ie)return`${this.debugName}.${ie[2]}`;if(!H)return`${this.debugName} (mapped)`}},j=>P(this.read(j),j))}recomputeInitiallyAndOnChange(re,he){return re.add(X(this,he)),this}}class M extends T{constructor(){super(...arguments),this.observers=new Set}addObserver(re){const he=this.observers.size;this.observers.add(re),he===0&&this.onFirstObserverAdded()}removeObserver(re){this.observers.delete(re)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function B(se,re){const he=new _(se,re);try{se(he)}finally{he.finish()}}let y;function b(se){if(y)se(y);else{const re=new _(se,void 0);y=re;try{se(re)}finally{re.finish(),y=void 0}}}function C(se,re){return At(this,null,function*(){const he=new _(se,re);try{yield se(he)}finally{he.finish()}})}function S(se,re,he){se?re(se):B(re,he)}class _{constructor(re,he){var H;this._fn=re,this._getDebugName=he,this.updatingObservers=[],(H=(0,D.jl)())===null||H===void 0||H.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():G(this._fn)}updateObserver(re,he){this.updatingObservers.push({observer:re,observable:he}),re.beginUpdate(he)}finish(){var re;const he=this.updatingObservers;for(let H=0;H<he.length;H++){const{observer:P,observable:j}=he[H];P.endUpdate(j)}this.updatingObservers=null,(re=(0,D.jl)())===null||re===void 0||re.handleEndTransaction()}}const a=new Map,u=new WeakMap;function N(se,re,he,H,P){var j;const K=u.get(se);if(K)return K;const ie=O(se,re,he,H,P);if(ie){let ce=(j=a.get(ie))!==null&&j!==void 0?j:0;ce++,a.set(ie,ce);const _e=ce===1?ie:`${ie}#${ce}`;return u.set(se,_e),_e}}function O(se,re,he,H,P){const j=u.get(se);if(j)return j;const K=H?F(H)+".":"";let ie;if(re!==void 0)if(typeof re=="function"){if(ie=re(),ie!==void 0)return K+ie}else return K+re;if(he!==void 0&&(ie=G(he),ie!==void 0))return K+ie;if(H!==void 0){for(const ce in H)if(H[ce]===P)return K+ce}}const R=new Map,V=new WeakMap;function F(se){var re;const he=V.get(se);if(he)return he;const H=Y(se);let P=(re=R.get(H))!==null&&re!==void 0?re:0;P++,R.set(H,P);const j=P===1?H:`${H}#${P}`;return V.set(se,j),j}function Y(se){const re=se.constructor;return re?re.name:"Object"}function G(se){const re=se.toString(),H=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(re),P=H?H[1]:void 0;return P==null?void 0:P.trim()}function Z(se,re){return typeof se=="string"?new ne(void 0,se,re):new ne(se,void 0,re)}class ne extends M{get debugName(){var re;return(re=N(this,this._debugName,void 0,this._owner,this))!==null&&re!==void 0?re:"ObservableValue"}constructor(re,he,H){super(),this._owner=re,this._debugName=he,this._value=H}get(){return this._value}set(re,he,H){var P;if(this._value===re)return;let j;he||(he=j=new _(()=>{},()=>`Setting ${this.debugName}`));try{const K=this._value;this._setValue(re),(P=(0,D.jl)())===null||P===void 0||P.handleObservableChanged(this,{oldValue:K,newValue:re,change:H,didChange:!0,hadValue:!0});for(const ie of this.observers)he.updateObserver(ie,this),ie.handleChange(this,H)}finally{j&&j.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(re){this._value=re}}function $(se,re){return typeof se=="string"?new J(void 0,se,re):new J(se,void 0,re)}class J extends ne{_setValue(re){this._value!==re&&(this._value&&this._value.dispose(),this._value=re)}dispose(){var re;(re=this._value)===null||re===void 0||re.dispose()}}},86799:function(Gt,ze,c){"use strict";c.d(ze,{Be:function(){return y},aK:function(){return B},bk:function(){return M},kA:function(){return b},nK:function(){return T}});var D=c(35541),X=c(83845),v=c(5411),k=c(96500);const L=(S,_)=>S===_;function T(S,_){return _!==void 0?new C(S,void 0,_,void 0,void 0,void 0,L):new C(void 0,void 0,S,void 0,void 0,void 0,L)}function M(S,_){var a;return new C(S.owner,S.debugName,_,void 0,void 0,void 0,(a=S.equalityComparer)!==null&&a!==void 0?a:L)}function B(S,_){var a;return new C(S.owner,S.debugName,_,S.createEmptyChangeSummary,S.handleChange,void 0,(a=S.equalityComparer)!==null&&a!==void 0?a:L)}function y(S,_){let a,u;_===void 0?(a=S,u=void 0):(u=S,a=_);const N=new X.SL;return new C(u,()=>{var O;return(O=(0,v.$P)(a))!==null&&O!==void 0?O:"(anonymous)"},O=>(N.clear(),a(O,N)),void 0,void 0,()=>N.dispose(),L)}function b(S,_){let a,u;_===void 0?(a=S,u=void 0):(u=S,a=_);const N=new X.SL;return new C(u,()=>{var O;return(O=(0,v.$P)(a))!==null&&O!==void 0?O:"(anonymous)"},O=>{N.clear();const R=a(O);return R&&N.add(R),R},void 0,void 0,()=>N.dispose(),L)}(0,v.mT)(M);class C extends v.hm{get debugName(){var _;return(_=(0,v.fE)(this,this._debugName,this._computeFn,this._owner,this))!==null&&_!==void 0?_:"(anonymous)"}constructor(_,a,u,N,O,R=void 0,V){var F,Y;super(),this._owner=_,this._debugName=a,this._computeFn=u,this.createChangeSummary=N,this._handleChange=O,this._handleLastObserverRemoved=R,this._equalityComparator=V,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(F=this.createChangeSummary)===null||F===void 0?void 0:F.call(this),(Y=(0,k.jl)())===null||Y===void 0||Y.handleDerivedCreated(this)}onLastObserverRemoved(){var _;this.state=0,this.value=void 0;for(const a of this.dependencies)a.removeObserver(this);this.dependencies.clear(),(_=this._handleLastObserverRemoved)===null||_===void 0||_.call(this)}get(){var _;if(this.observers.size===0){const a=this._computeFn(this,(_=this.createChangeSummary)===null||_===void 0?void 0:_.call(this));return this.onLastObserverRemoved(),a}else{do{if(this.state===1){for(const a of this.dependencies)if(a.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var _,a;if(this.state===3)return;const u=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=u;const N=this.state!==0,O=this.value;this.state=3;const R=this.changeSummary;this.changeSummary=(_=this.createChangeSummary)===null||_===void 0?void 0:_.call(this);try{this.value=this._computeFn(this,R)}finally{for(const F of this.dependenciesToBeRemoved)F.removeObserver(this);this.dependenciesToBeRemoved.clear()}const V=N&&!this._equalityComparator(O,this.value);if((a=(0,k.jl)())===null||a===void 0||a.handleDerivedRecomputed(this,{oldValue:O,newValue:this.value,change:void 0,didChange:V,hadValue:N}),V)for(const F of this.observers)F.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(_){this.updateCount++;const a=this.updateCount===1;if(this.state===3&&(this.state=1,!a))for(const u of this.observers)u.handlePossibleChange(this);if(a)for(const u of this.observers)u.beginUpdate(this)}endUpdate(_){if(this.updateCount--,this.updateCount===0){const a=[...this.observers];for(const u of a)u.endUpdate(this)}if(this.updateCount<0)throw new D.he}handlePossibleChange(_){if(this.state===3&&this.dependencies.has(_)&&!this.dependenciesToBeRemoved.has(_)){this.state=1;for(const a of this.observers)a.handlePossibleChange(this)}}handleChange(_,a){if(this.dependencies.has(_)&&!this.dependenciesToBeRemoved.has(_)){const u=this._handleChange?this._handleChange({changedObservable:_,change:a,didChange:O=>O===_},this.changeSummary):!0,N=this.state===3;if(u&&(this.state===1||N)&&(this.state=2,N))for(const O of this.observers)O.handlePossibleChange(this)}}readObservable(_){_.addObserver(this);const a=_.get();return this.dependencies.add(_),this.dependenciesToBeRemoved.delete(_),a}addObserver(_){const a=!this.observers.has(_)&&this.updateCount>0;super.addObserver(_),a&&_.beginUpdate(this)}removeObserver(_){const a=this.observers.has(_)&&this.updateCount>0;super.removeObserver(_),a&&_.endUpdate(this)}}},96500:function(Gt,ze,c){"use strict";c.d(ze,{EK:function(){return X},Qy:function(){return k},jl:function(){return v}});let D;function X(a){D=a}function v(){return D}class k{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(u){return L([T(S("|  ",this.indentation)),u])}formatInfo(u){return u.hadValue?u.didChange?[T(" "),B(y(u.oldValue,70),{color:"red",strikeThrough:!0}),T(" "),B(y(u.newValue,60),{color:"green"})]:[T(" (unchanged)")]:[T(" "),B(y(u.newValue,60),{color:"green"}),T(" (initial)")]}handleObservableChanged(u,N){console.log(...this.textToConsoleArgs([M("observable value changed"),B(u.debugName,{color:"BlueViolet"}),...this.formatInfo(N)]))}formatChanges(u){if(u.size!==0)return B(" (changed deps: "+[...u].map(N=>N.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(u){const N=u.handleChange;this.changedObservablesSets.set(u,new Set),u.handleChange=(O,R)=>(this.changedObservablesSets.get(u).add(O),N.apply(u,[O,R]))}handleDerivedRecomputed(u,N){const O=this.changedObservablesSets.get(u);console.log(...this.textToConsoleArgs([M("derived recomputed"),B(u.debugName,{color:"BlueViolet"}),...this.formatInfo(N),this.formatChanges(O),{data:[{fn:u._computeFn}]}])),O.clear()}handleFromEventObservableTriggered(u,N){console.log(...this.textToConsoleArgs([M("observable from event triggered"),B(u.debugName,{color:"BlueViolet"}),...this.formatInfo(N),{data:[{fn:u._getValue}]}]))}handleAutorunCreated(u){const N=u.handleChange;this.changedObservablesSets.set(u,new Set),u.handleChange=(O,R)=>(this.changedObservablesSets.get(u).add(O),N.apply(u,[O,R]))}handleAutorunTriggered(u){const N=this.changedObservablesSets.get(u);console.log(...this.textToConsoleArgs([M("autorun"),B(u.debugName,{color:"BlueViolet"}),this.formatChanges(N),{data:[{fn:u._runFn}]}])),N.clear(),this.indentation++}handleAutorunFinished(u){this.indentation--}handleBeginTransaction(u){let N=u.getDebugName();N===void 0&&(N=""),console.log(...this.textToConsoleArgs([M("transaction"),B(N,{color:"BlueViolet"}),{data:[{fn:u._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}function L(a){const u=new Array,N=[];let O="";function R(F){if("length"in F)for(const Y of F)Y&&R(Y);else"text"in F?(O+=`%c${F.text}`,u.push(F.style),F.data&&N.push(...F.data)):"data"in F&&N.push(...F.data)}R(a);const V=[O,...u];return V.push(...N),V}function T(a){return B(a,{color:"black"})}function M(a){return B(_(`${a}: `,10),{color:"black",bold:!0})}function B(a,u={color:"black"}){function N(R){return Object.entries(R).reduce((V,[F,Y])=>`${V}${F}:${Y};`,"")}const O={color:u.color};return u.strikeThrough&&(O["text-decoration"]="line-through"),u.bold&&(O["font-weight"]="bold"),{text:a,style:N(O)}}function y(a,u){switch(typeof a){case"number":return""+a;case"string":return a.length+2<=u?`"${a}"`:`"${a.substr(0,u-7)}"+...`;case"boolean":return a?"true":"false";case"undefined":return"undefined";case"object":return a===null?"null":Array.isArray(a)?b(a,u):C(a,u);case"symbol":return a.toString();case"function":return`[[Function${a.name?" "+a.name:""}]]`;default:return""+a}}function b(a,u){let N="[ ",O=!0;for(const R of a){if(O||(N+=", "),N.length-5>u){N+="...";break}O=!1,N+=`${y(R,u-N.length)}`}return N+=" ]",N}function C(a,u){let N="{ ",O=!0;for(const[R,V]of Object.entries(a)){if(O||(N+=", "),N.length-5>u){N+="...";break}O=!1,N+=`${R}: ${y(V,u-N.length)}`}return N+=" }",N}function S(a,u){let N="";for(let O=1;O<=u;O++)N+=a;return N}function _(a,u){for(;a.length<u;)a+=" ";return a}},40795:function(Gt,ze,c){"use strict";c.d(ze,{DB:function(){return ne},DZ:function(){return re},EZ:function(){return se},Fv:function(){return Z},Gf:function(){return $},KR:function(){return G},Ku:function(){return F},XX:function(){return J},ir:function(){return he}});var D=c(7781);const X=65,v=97,k=90,L=122,T=46,M=47,B=92,y=58,b=63;class C extends Error{constructor(P,j,K){let ie;typeof j=="string"&&j.indexOf("not ")===0?(ie="must not be",j=j.replace(/^not /,"")):ie="must be";const ce=P.indexOf(".")!==-1?"property":"argument";let _e=`The "${P}" ${ce} ${ie} of type ${j}`;_e+=`. Received type ${typeof K}`,super(_e),this.code="ERR_INVALID_ARG_TYPE"}}function S(H,P){if(H===null||typeof H!="object")throw new C(P,"Object",H)}function _(H,P){if(typeof H!="string")throw new C(P,"string",H)}const a=D.Jv==="win32";function u(H){return H===M||H===B}function N(H){return H===M}function O(H){return H>=X&&H<=k||H>=v&&H<=L}function R(H,P,j,K){let ie="",ce=0,_e=-1,Ee=0,Ce=0;for(let pe=0;pe<=H.length;++pe){if(pe<H.length)Ce=H.charCodeAt(pe);else{if(K(Ce))break;Ce=M}if(K(Ce)){if(!(_e===pe-1||Ee===1))if(Ee===2){if(ie.length<2||ce!==2||ie.charCodeAt(ie.length-1)!==T||ie.charCodeAt(ie.length-2)!==T){if(ie.length>2){const xe=ie.lastIndexOf(j);xe===-1?(ie="",ce=0):(ie=ie.slice(0,xe),ce=ie.length-1-ie.lastIndexOf(j)),_e=pe,Ee=0;continue}else if(ie.length!==0){ie="",ce=0,_e=pe,Ee=0;continue}}P&&(ie+=ie.length>0?`${j}..`:"..",ce=2)}else ie.length>0?ie+=`${j}${H.slice(_e+1,pe)}`:ie=H.slice(_e+1,pe),ce=pe-_e-1;_e=pe,Ee=0}else Ce===T&&Ee!==-1?++Ee:Ee=-1}return ie}function V(H,P){S(P,"pathObject");const j=P.dir||P.root,K=P.base||`${P.name||""}${P.ext||""}`;return j?j===P.root?`${j}${K}`:`${j}${H}${K}`:K}const F={resolve(...H){let P="",j="",K=!1;for(let ie=H.length-1;ie>=-1;ie--){let ce;if(ie>=0){if(ce=H[ie],_(ce,"path"),ce.length===0)continue}else P.length===0?ce=D.Vj():(ce={NODE_ENV:"production",PUBLIC_PATH:"/"}[`=${P}`]||D.Vj(),(ce===void 0||ce.slice(0,2).toLowerCase()!==P.toLowerCase()&&ce.charCodeAt(2)===B)&&(ce=`${P}\\`));const _e=ce.length;let Ee=0,Ce="",pe=!1;const xe=ce.charCodeAt(0);if(_e===1)u(xe)&&(Ee=1,pe=!0);else if(u(xe))if(pe=!0,u(ce.charCodeAt(1))){let x=2,rt=x;for(;x<_e&&!u(ce.charCodeAt(x));)x++;if(x<_e&&x!==rt){const Xe=ce.slice(rt,x);for(rt=x;x<_e&&u(ce.charCodeAt(x));)x++;if(x<_e&&x!==rt){for(rt=x;x<_e&&!u(ce.charCodeAt(x));)x++;(x===_e||x!==rt)&&(Ce=`\\\\${Xe}\\${ce.slice(rt,x)}`,Ee=x)}}}else Ee=1;else O(xe)&&ce.charCodeAt(1)===y&&(Ce=ce.slice(0,2),Ee=2,_e>2&&u(ce.charCodeAt(2))&&(pe=!0,Ee=3));if(Ce.length>0)if(P.length>0){if(Ce.toLowerCase()!==P.toLowerCase())continue}else P=Ce;if(K){if(P.length>0)break}else if(j=`${ce.slice(Ee)}\\${j}`,K=pe,pe&&P.length>0)break}return j=R(j,!K,"\\",u),K?`${P}\\${j}`:`${P}${j}`||"."},normalize(H){_(H,"path");const P=H.length;if(P===0)return".";let j=0,K,ie=!1;const ce=H.charCodeAt(0);if(P===1)return N(ce)?"\\":H;if(u(ce))if(ie=!0,u(H.charCodeAt(1))){let Ee=2,Ce=Ee;for(;Ee<P&&!u(H.charCodeAt(Ee));)Ee++;if(Ee<P&&Ee!==Ce){const pe=H.slice(Ce,Ee);for(Ce=Ee;Ee<P&&u(H.charCodeAt(Ee));)Ee++;if(Ee<P&&Ee!==Ce){for(Ce=Ee;Ee<P&&!u(H.charCodeAt(Ee));)Ee++;if(Ee===P)return`\\\\${pe}\\${H.slice(Ce)}\\`;Ee!==Ce&&(K=`\\\\${pe}\\${H.slice(Ce,Ee)}`,j=Ee)}}}else j=1;else O(ce)&&H.charCodeAt(1)===y&&(K=H.slice(0,2),j=2,P>2&&u(H.charCodeAt(2))&&(ie=!0,j=3));let _e=j<P?R(H.slice(j),!ie,"\\",u):"";return _e.length===0&&!ie&&(_e="."),_e.length>0&&u(H.charCodeAt(P-1))&&(_e+="\\"),K===void 0?ie?`\\${_e}`:_e:ie?`${K}\\${_e}`:`${K}${_e}`},isAbsolute(H){_(H,"path");const P=H.length;if(P===0)return!1;const j=H.charCodeAt(0);return u(j)||P>2&&O(j)&&H.charCodeAt(1)===y&&u(H.charCodeAt(2))},join(...H){if(H.length===0)return".";let P,j;for(let ce=0;ce<H.length;++ce){const _e=H[ce];_(_e,"path"),_e.length>0&&(P===void 0?P=j=_e:P+=`\\${_e}`)}if(P===void 0)return".";let K=!0,ie=0;if(typeof j=="string"&&u(j.charCodeAt(0))){++ie;const ce=j.length;ce>1&&u(j.charCodeAt(1))&&(++ie,ce>2&&(u(j.charCodeAt(2))?++ie:K=!1))}if(K){for(;ie<P.length&&u(P.charCodeAt(ie));)ie++;ie>=2&&(P=`\\${P.slice(ie)}`)}return F.normalize(P)},relative(H,P){if(_(H,"from"),_(P,"to"),H===P)return"";const j=F.resolve(H),K=F.resolve(P);if(j===K||(H=j.toLowerCase(),P=K.toLowerCase(),H===P))return"";let ie=0;for(;ie<H.length&&H.charCodeAt(ie)===B;)ie++;let ce=H.length;for(;ce-1>ie&&H.charCodeAt(ce-1)===B;)ce--;const _e=ce-ie;let Ee=0;for(;Ee<P.length&&P.charCodeAt(Ee)===B;)Ee++;let Ce=P.length;for(;Ce-1>Ee&&P.charCodeAt(Ce-1)===B;)Ce--;const pe=Ce-Ee,xe=_e<pe?_e:pe;let x=-1,rt=0;for(;rt<xe;rt++){const Ze=H.charCodeAt(ie+rt);if(Ze!==P.charCodeAt(Ee+rt))break;Ze===B&&(x=rt)}if(rt!==xe){if(x===-1)return K}else{if(pe>xe){if(P.charCodeAt(Ee+rt)===B)return K.slice(Ee+rt+1);if(rt===2)return K.slice(Ee+rt)}_e>xe&&(H.charCodeAt(ie+rt)===B?x=rt:rt===2&&(x=3)),x===-1&&(x=0)}let Xe="";for(rt=ie+x+1;rt<=ce;++rt)(rt===ce||H.charCodeAt(rt)===B)&&(Xe+=Xe.length===0?"..":"\\..");return Ee+=x,Xe.length>0?`${Xe}${K.slice(Ee,Ce)}`:(K.charCodeAt(Ee)===B&&++Ee,K.slice(Ee,Ce))},toNamespacedPath(H){if(typeof H!="string"||H.length===0)return H;const P=F.resolve(H);if(P.length<=2)return H;if(P.charCodeAt(0)===B){if(P.charCodeAt(1)===B){const j=P.charCodeAt(2);if(j!==b&&j!==T)return`\\\\?\\UNC\\${P.slice(2)}`}}else if(O(P.charCodeAt(0))&&P.charCodeAt(1)===y&&P.charCodeAt(2)===B)return`\\\\?\\${P}`;return H},dirname(H){_(H,"path");const P=H.length;if(P===0)return".";let j=-1,K=0;const ie=H.charCodeAt(0);if(P===1)return u(ie)?H:".";if(u(ie)){if(j=K=1,u(H.charCodeAt(1))){let Ee=2,Ce=Ee;for(;Ee<P&&!u(H.charCodeAt(Ee));)Ee++;if(Ee<P&&Ee!==Ce){for(Ce=Ee;Ee<P&&u(H.charCodeAt(Ee));)Ee++;if(Ee<P&&Ee!==Ce){for(Ce=Ee;Ee<P&&!u(H.charCodeAt(Ee));)Ee++;if(Ee===P)return H;Ee!==Ce&&(j=K=Ee+1)}}}}else O(ie)&&H.charCodeAt(1)===y&&(j=P>2&&u(H.charCodeAt(2))?3:2,K=j);let ce=-1,_e=!0;for(let Ee=P-1;Ee>=K;--Ee)if(u(H.charCodeAt(Ee))){if(!_e){ce=Ee;break}}else _e=!1;if(ce===-1){if(j===-1)return".";ce=j}return H.slice(0,ce)},basename(H,P){P!==void 0&&_(P,"ext"),_(H,"path");let j=0,K=-1,ie=!0,ce;if(H.length>=2&&O(H.charCodeAt(0))&&H.charCodeAt(1)===y&&(j=2),P!==void 0&&P.length>0&&P.length<=H.length){if(P===H)return"";let _e=P.length-1,Ee=-1;for(ce=H.length-1;ce>=j;--ce){const Ce=H.charCodeAt(ce);if(u(Ce)){if(!ie){j=ce+1;break}}else Ee===-1&&(ie=!1,Ee=ce+1),_e>=0&&(Ce===P.charCodeAt(_e)?--_e===-1&&(K=ce):(_e=-1,K=Ee))}return j===K?K=Ee:K===-1&&(K=H.length),H.slice(j,K)}for(ce=H.length-1;ce>=j;--ce)if(u(H.charCodeAt(ce))){if(!ie){j=ce+1;break}}else K===-1&&(ie=!1,K=ce+1);return K===-1?"":H.slice(j,K)},extname(H){_(H,"path");let P=0,j=-1,K=0,ie=-1,ce=!0,_e=0;H.length>=2&&H.charCodeAt(1)===y&&O(H.charCodeAt(0))&&(P=K=2);for(let Ee=H.length-1;Ee>=P;--Ee){const Ce=H.charCodeAt(Ee);if(u(Ce)){if(!ce){K=Ee+1;break}continue}ie===-1&&(ce=!1,ie=Ee+1),Ce===T?j===-1?j=Ee:_e!==1&&(_e=1):j!==-1&&(_e=-1)}return j===-1||ie===-1||_e===0||_e===1&&j===ie-1&&j===K+1?"":H.slice(j,ie)},format:V.bind(null,"\\"),parse(H){_(H,"path");const P={root:"",dir:"",base:"",ext:"",name:""};if(H.length===0)return P;const j=H.length;let K=0,ie=H.charCodeAt(0);if(j===1)return u(ie)?(P.root=P.dir=H,P):(P.base=P.name=H,P);if(u(ie)){if(K=1,u(H.charCodeAt(1))){let x=2,rt=x;for(;x<j&&!u(H.charCodeAt(x));)x++;if(x<j&&x!==rt){for(rt=x;x<j&&u(H.charCodeAt(x));)x++;if(x<j&&x!==rt){for(rt=x;x<j&&!u(H.charCodeAt(x));)x++;x===j?K=x:x!==rt&&(K=x+1)}}}}else if(O(ie)&&H.charCodeAt(1)===y){if(j<=2)return P.root=P.dir=H,P;if(K=2,u(H.charCodeAt(2))){if(j===3)return P.root=P.dir=H,P;K=3}}K>0&&(P.root=H.slice(0,K));let ce=-1,_e=K,Ee=-1,Ce=!0,pe=H.length-1,xe=0;for(;pe>=K;--pe){if(ie=H.charCodeAt(pe),u(ie)){if(!Ce){_e=pe+1;break}continue}Ee===-1&&(Ce=!1,Ee=pe+1),ie===T?ce===-1?ce=pe:xe!==1&&(xe=1):ce!==-1&&(xe=-1)}return Ee!==-1&&(ce===-1||xe===0||xe===1&&ce===Ee-1&&ce===_e+1?P.base=P.name=H.slice(_e,Ee):(P.name=H.slice(_e,ce),P.base=H.slice(_e,Ee),P.ext=H.slice(ce,Ee))),_e>0&&_e!==K?P.dir=H.slice(0,_e-1):P.dir=P.root,P},sep:"\\",delimiter:";",win32:null,posix:null},Y=(()=>{if(a){const H=/\\/g;return()=>{const P=D.Vj().replace(H,"/");return P.slice(P.indexOf("/"))}}return()=>D.Vj()})(),G={resolve(...H){let P="",j=!1;for(let K=H.length-1;K>=-1&&!j;K--){const ie=K>=0?H[K]:Y();_(ie,"path"),ie.length!==0&&(P=`${ie}/${P}`,j=ie.charCodeAt(0)===M)}return P=R(P,!j,"/",N),j?`/${P}`:P.length>0?P:"."},normalize(H){if(_(H,"path"),H.length===0)return".";const P=H.charCodeAt(0)===M,j=H.charCodeAt(H.length-1)===M;return H=R(H,!P,"/",N),H.length===0?P?"/":j?"./":".":(j&&(H+="/"),P?`/${H}`:H)},isAbsolute(H){return _(H,"path"),H.length>0&&H.charCodeAt(0)===M},join(...H){if(H.length===0)return".";let P;for(let j=0;j<H.length;++j){const K=H[j];_(K,"path"),K.length>0&&(P===void 0?P=K:P+=`/${K}`)}return P===void 0?".":G.normalize(P)},relative(H,P){if(_(H,"from"),_(P,"to"),H===P||(H=G.resolve(H),P=G.resolve(P),H===P))return"";const j=1,K=H.length,ie=K-j,ce=1,_e=P.length-ce,Ee=ie<_e?ie:_e;let Ce=-1,pe=0;for(;pe<Ee;pe++){const x=H.charCodeAt(j+pe);if(x!==P.charCodeAt(ce+pe))break;x===M&&(Ce=pe)}if(pe===Ee)if(_e>Ee){if(P.charCodeAt(ce+pe)===M)return P.slice(ce+pe+1);if(pe===0)return P.slice(ce+pe)}else ie>Ee&&(H.charCodeAt(j+pe)===M?Ce=pe:pe===0&&(Ce=0));let xe="";for(pe=j+Ce+1;pe<=K;++pe)(pe===K||H.charCodeAt(pe)===M)&&(xe+=xe.length===0?"..":"/..");return`${xe}${P.slice(ce+Ce)}`},toNamespacedPath(H){return H},dirname(H){if(_(H,"path"),H.length===0)return".";const P=H.charCodeAt(0)===M;let j=-1,K=!0;for(let ie=H.length-1;ie>=1;--ie)if(H.charCodeAt(ie)===M){if(!K){j=ie;break}}else K=!1;return j===-1?P?"/":".":P&&j===1?"//":H.slice(0,j)},basename(H,P){P!==void 0&&_(P,"ext"),_(H,"path");let j=0,K=-1,ie=!0,ce;if(P!==void 0&&P.length>0&&P.length<=H.length){if(P===H)return"";let _e=P.length-1,Ee=-1;for(ce=H.length-1;ce>=0;--ce){const Ce=H.charCodeAt(ce);if(Ce===M){if(!ie){j=ce+1;break}}else Ee===-1&&(ie=!1,Ee=ce+1),_e>=0&&(Ce===P.charCodeAt(_e)?--_e===-1&&(K=ce):(_e=-1,K=Ee))}return j===K?K=Ee:K===-1&&(K=H.length),H.slice(j,K)}for(ce=H.length-1;ce>=0;--ce)if(H.charCodeAt(ce)===M){if(!ie){j=ce+1;break}}else K===-1&&(ie=!1,K=ce+1);return K===-1?"":H.slice(j,K)},extname(H){_(H,"path");let P=-1,j=0,K=-1,ie=!0,ce=0;for(let _e=H.length-1;_e>=0;--_e){const Ee=H.charCodeAt(_e);if(Ee===M){if(!ie){j=_e+1;break}continue}K===-1&&(ie=!1,K=_e+1),Ee===T?P===-1?P=_e:ce!==1&&(ce=1):P!==-1&&(ce=-1)}return P===-1||K===-1||ce===0||ce===1&&P===K-1&&P===j+1?"":H.slice(P,K)},format:V.bind(null,"/"),parse(H){_(H,"path");const P={root:"",dir:"",base:"",ext:"",name:""};if(H.length===0)return P;const j=H.charCodeAt(0)===M;let K;j?(P.root="/",K=1):K=0;let ie=-1,ce=0,_e=-1,Ee=!0,Ce=H.length-1,pe=0;for(;Ce>=K;--Ce){const xe=H.charCodeAt(Ce);if(xe===M){if(!Ee){ce=Ce+1;break}continue}_e===-1&&(Ee=!1,_e=Ce+1),xe===T?ie===-1?ie=Ce:pe!==1&&(pe=1):ie!==-1&&(pe=-1)}if(_e!==-1){const xe=ce===0&&j?1:ce;ie===-1||pe===0||pe===1&&ie===_e-1&&ie===ce+1?P.base=P.name=H.slice(xe,_e):(P.name=H.slice(xe,ie),P.base=H.slice(xe,_e),P.ext=H.slice(ie,_e))}return ce>0?P.dir=H.slice(0,ce-1):j&&(P.dir="/"),P},sep:"/",delimiter:":",win32:null,posix:null};G.win32=F.win32=F,G.posix=F.posix=G;const Z=a?F.normalize:G.normalize,ne=a?F.resolve:G.resolve,$=a?F.relative:G.relative,J=a?F.dirname:G.dirname,se=a?F.basename:G.basename,re=a?F.extname:G.extname,he=a?F.sep:G.sep},43998:function(Gt,ze,c){"use strict";c.d(ze,{$L:function(){return he},ED:function(){return $},G6:function(){return Ze},IJ:function(){return se},OS:function(){return Ce},dK:function(){return ce},dz:function(){return J},fn:function(){return Ee},gn:function(){return j},i7:function(){return rt},qB:function(){return P},r:function(){return x},tY:function(){return re},tq:function(){return K},un:function(){return lt},vU:function(){return Xe}});var D=c(18493),X=c(84425),v;const k="en";let L=!1,T=!1,M=!1,B=!1,y=!1,b=!1,C=!1,S=!1,_=!1,a=!1,u,N=k,O=null,R=null,V;const F=globalThis;let Y;typeof F.vscode!="undefined"&&typeof F.vscode.process!="undefined"?Y=F.vscode.process:typeof X!="undefined"&&(Y=X);const G=typeof((v=Y==null?void 0:Y.versions)===null||v===void 0?void 0:v.electron)=="string",Z=G&&(Y==null?void 0:Y.type)==="renderer";if(typeof navigator=="object"&&!Z)V=navigator.userAgent,L=V.indexOf("Windows")>=0,T=V.indexOf("Macintosh")>=0,S=(V.indexOf("Macintosh")>=0||V.indexOf("iPad")>=0||V.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,M=V.indexOf("Linux")>=0,a=(V==null?void 0:V.indexOf("Mobi"))>=0,b=!0,u=D.aj(D.NC({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||k,N=u,O=navigator.language;else if(typeof Y=="object"){L=Y.platform==="win32",T=Y.platform==="darwin",M=Y.platform==="linux",B=M&&!!Y.env.SNAP&&!!Y.env.SNAP_REVISION,C=G,_=!!Y.env.CI||!!Y.env.BUILD_ARTIFACTSTAGINGDIRECTORY,u=k,N=k;const ct=Y.env.VSCODE_NLS_CONFIG;if(ct)try{const He=JSON.parse(ct),Dt=He.availableLanguages["*"];u=He.locale,O=He.osLocale,N=Dt||k,R=He._translationsConfigFile}catch(He){}y=!0}else console.error("Unable to resolve platform.");let ne=0;T?ne=1:L?ne=3:M&&(ne=2);const $=L,J=T,se=M,re=y,he=b,P=b&&typeof F.importScripts=="function"?F.origin:void 0,j=S,K=a,ie=V,ce=N,_e=typeof F.postMessage=="function"&&!F.importScripts,Ee=(()=>{if(_e){const ct=[];F.addEventListener("message",Dt=>{if(Dt.data&&Dt.data.vscodeScheduleAsyncWork)for(let gt=0,Re=ct.length;gt<Re;gt++){const st=ct[gt];if(st.id===Dt.data.vscodeScheduleAsyncWork){ct.splice(gt,1),st.callback();return}}});let He=0;return Dt=>{const gt=++He;ct.push({id:gt,callback:Dt}),F.postMessage({vscodeScheduleAsyncWork:gt},"*")}}return ct=>setTimeout(ct)})(),Ce=T||S?2:L?1:3;let pe=!0,xe=!1;function x(){if(!xe){xe=!0;const ct=new Uint8Array(2);ct[0]=1,ct[1]=2,pe=new Uint16Array(ct.buffer)[0]===512+1}return pe}const rt=!!(ie&&ie.indexOf("Chrome")>=0),Xe=!!(ie&&ie.indexOf("Firefox")>=0),Ze=!!(!rt&&ie&&ie.indexOf("Safari")>=0),lt=!!(ie&&ie.indexOf("Edg/")>=0),ut=!!(ie&&ie.indexOf("Android")>=0)},7781:function(Gt,ze,c){"use strict";c.d(ze,{Jv:function(){return M},OB:function(){return T},Vj:function(){return L}});var D=c(43998),X=c(84425);let v;const k=globalThis.vscode;if(typeof k!="undefined"&&typeof k.process!="undefined"){const B=k.process;v={get platform(){return B.platform},get arch(){return B.arch},get env(){return B.env},cwd(){return B.cwd()}}}else typeof X!="undefined"?v={get platform(){return X.platform},get arch(){return X.arch},get env(){return{NODE_ENV:"production",PUBLIC_PATH:"/"}},cwd(){return{NODE_ENV:"production",PUBLIC_PATH:"/"}.VSCODE_CWD||X.cwd()}}:v={get platform(){return D.ED?"win32":D.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const L=v.cwd,T=v.env,M=v.platform},57344:function(Gt,ze,c){"use strict";c.d(ze,{e:function(){return D}});var D;(function(X){function v(M,B){if(M.start>=B.end||B.start>=M.end)return{start:0,end:0};const y=Math.max(M.start,B.start),b=Math.min(M.end,B.end);return b-y<=0?{start:0,end:0}:{start:y,end:b}}X.intersect=v;function k(M){return M.end-M.start<=0}X.isEmpty=k;function L(M,B){return!k(v(M,B))}X.intersects=L;function T(M,B){const y=[],b={start:M.start,end:Math.min(B.start,M.end)},C={start:Math.max(B.end,M.start),end:M.end};return k(b)||y.push(b),k(C)||y.push(C),y}X.relativeComplement=T})(D||(D={}))},94286:function(Gt,ze,c){"use strict";c.d(ze,{AH:function(){return F},DZ:function(){return O},EZ:function(){return N},Hx:function(){return u},SF:function(){return y},Vb:function(){return re},Vo:function(){return V},XX:function(){return R},Xy:function(){return S},i3:function(){return G},lX:function(){return Y},z_:function(){return M}});var D=c(64095),X=c(90385),v=c(40795),k=c(43998),L=c(80360),T=c(6685);function M(he){return(0,T.q)(he,!0)}class B{constructor(H){this._ignorePathCasing=H}compare(H,P,j=!1){return H===P?0:(0,L.qu)(this.getComparisonKey(H,j),this.getComparisonKey(P,j))}isEqual(H,P,j=!1){return H===P?!0:!H||!P?!1:this.getComparisonKey(H,j)===this.getComparisonKey(P,j)}getComparisonKey(H,P=!1){return H.with({path:this._ignorePathCasing(H)?H.path.toLowerCase():void 0,fragment:P?null:void 0}).toString()}isEqualOrParent(H,P,j=!1){if(H.scheme===P.scheme){if(H.scheme===X.lg.file)return D.KM(M(H),M(P),this._ignorePathCasing(H))&&H.query===P.query&&(j||H.fragment===P.fragment);if(ne(H.authority,P.authority))return D.KM(H.path,P.path,this._ignorePathCasing(H),"/")&&H.query===P.query&&(j||H.fragment===P.fragment)}return!1}joinPath(H,...P){return T.o.joinPath(H,...P)}basenameOrAuthority(H){return N(H)||H.authority}basename(H){return v.KR.basename(H.path)}extname(H){return v.KR.extname(H.path)}dirname(H){if(H.path.length===0)return H;let P;return H.scheme===X.lg.file?P=T.o.file(v.XX(M(H))).path:(P=v.KR.dirname(H.path),H.authority&&P.length&&P.charCodeAt(0)!==47&&(console.error(`dirname("${H.toString})) resulted in a relative path`),P="/")),H.with({path:P})}normalizePath(H){if(!H.path.length)return H;let P;return H.scheme===X.lg.file?P=T.o.file(v.Fv(M(H))).path:P=v.KR.normalize(H.path),H.with({path:P})}relativePath(H,P){if(H.scheme!==P.scheme||!ne(H.authority,P.authority))return;if(H.scheme===X.lg.file){const ie=v.Gf(M(H),M(P));return k.ED?D.ej(ie):ie}let j=H.path||"/";const K=P.path||"/";if(this._ignorePathCasing(H)){let ie=0;for(const ce=Math.min(j.length,K.length);ie<ce&&!(j.charCodeAt(ie)!==K.charCodeAt(ie)&&j.charAt(ie).toLowerCase()!==K.charAt(ie).toLowerCase());ie++);j=K.substr(0,ie)+j.substr(ie)}return v.KR.relative(j,K)}resolvePath(H,P){if(H.scheme===X.lg.file){const j=T.o.file(v.DB(M(H),P));return H.with({authority:j.authority,path:j.path})}return P=D.fn(P),H.with({path:v.KR.resolve(H.path,P)})}isAbsolutePath(H){return!!H.path&&H.path[0]==="/"}isEqualAuthority(H,P){return H===P||H!==void 0&&P!==void 0&&(0,L.qq)(H,P)}hasTrailingPathSeparator(H,P=v.ir){if(H.scheme===X.lg.file){const j=M(H);return j.length>D.yj(j).length&&j[j.length-1]===P}else{const j=H.path;return j.length>1&&j.charCodeAt(j.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(H.fsPath)}}removeTrailingPathSeparator(H,P=v.ir){return $(H,P)?H.with({path:H.path.substr(0,H.path.length-1)}):H}addTrailingPathSeparator(H,P=v.ir){let j=!1;if(H.scheme===X.lg.file){const K=M(H);j=K!==void 0&&K.length===D.yj(K).length&&K[K.length-1]===P}else{P="/";const K=H.path;j=K.length===1&&K.charCodeAt(K.length-1)===47}return!j&&!$(H,P)?H.with({path:H.path+"/"}):H}}const y=new B(()=>!1),b=new B(he=>he.scheme===X.lg.file?!k.IJ:!0),C=new B(he=>!0),S=y.isEqual.bind(y),_=y.isEqualOrParent.bind(y),a=y.getComparisonKey.bind(y),u=y.basenameOrAuthority.bind(y),N=y.basename.bind(y),O=y.extname.bind(y),R=y.dirname.bind(y),V=y.joinPath.bind(y),F=y.normalizePath.bind(y),Y=y.relativePath.bind(y),G=y.resolvePath.bind(y),Z=y.isAbsolutePath.bind(y),ne=y.isEqualAuthority.bind(y),$=y.hasTrailingPathSeparator.bind(y),J=y.removeTrailingPathSeparator.bind(y),se=y.addTrailingPathSeparator.bind(y);var re;(function(he){he.META_DATA_LABEL="label",he.META_DATA_DESCRIPTION="description",he.META_DATA_SIZE="size",he.META_DATA_MIME="mime";function H(P){const j=new Map;P.path.substring(P.path.indexOf(";")+1,P.path.lastIndexOf(";")).split(";").forEach(ce=>{const[_e,Ee]=ce.split(":");_e&&Ee&&j.set(_e,Ee)});const ie=P.path.substring(0,P.path.indexOf(";"));return ie&&j.set(he.META_DATA_MIME,ie),j}he.parseMetaData=H})(re||(re={}))},36773:function(Gt,ze,c){"use strict";c.d(ze,{Rm:function(){return k}});var D=c(46328),X=c(83845);class v{constructor(S,_,a,u,N,O,R){this._forceIntegerValues=S,this._scrollStateBrand=void 0,this._forceIntegerValues&&(_=_|0,a=a|0,u=u|0,N=N|0,O=O|0,R=R|0),this.rawScrollLeft=u,this.rawScrollTop=R,_<0&&(_=0),u+_>a&&(u=a-_),u<0&&(u=0),N<0&&(N=0),R+N>O&&(R=O-N),R<0&&(R=0),this.width=_,this.scrollWidth=a,this.scrollLeft=u,this.height=N,this.scrollHeight=O,this.scrollTop=R}equals(S){return this.rawScrollLeft===S.rawScrollLeft&&this.rawScrollTop===S.rawScrollTop&&this.width===S.width&&this.scrollWidth===S.scrollWidth&&this.scrollLeft===S.scrollLeft&&this.height===S.height&&this.scrollHeight===S.scrollHeight&&this.scrollTop===S.scrollTop}withScrollDimensions(S,_){return new v(this._forceIntegerValues,typeof S.width!="undefined"?S.width:this.width,typeof S.scrollWidth!="undefined"?S.scrollWidth:this.scrollWidth,_?this.rawScrollLeft:this.scrollLeft,typeof S.height!="undefined"?S.height:this.height,typeof S.scrollHeight!="undefined"?S.scrollHeight:this.scrollHeight,_?this.rawScrollTop:this.scrollTop)}withScrollPosition(S){return new v(this._forceIntegerValues,this.width,this.scrollWidth,typeof S.scrollLeft!="undefined"?S.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof S.scrollTop!="undefined"?S.scrollTop:this.rawScrollTop)}createScrollEvent(S,_){const a=this.width!==S.width,u=this.scrollWidth!==S.scrollWidth,N=this.scrollLeft!==S.scrollLeft,O=this.height!==S.height,R=this.scrollHeight!==S.scrollHeight,V=this.scrollTop!==S.scrollTop;return{inSmoothScrolling:_,oldWidth:S.width,oldScrollWidth:S.scrollWidth,oldScrollLeft:S.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:S.height,oldScrollHeight:S.scrollHeight,oldScrollTop:S.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:a,scrollWidthChanged:u,scrollLeftChanged:N,heightChanged:O,scrollHeightChanged:R,scrollTopChanged:V}}}class k extends X.JT{constructor(S){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new D.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=S.smoothScrollDuration,this._scheduleAtNextAnimationFrame=S.scheduleAtNextAnimationFrame,this._state=new v(S.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(S){this._smoothScrollDuration=S}validateScrollPosition(S){return this._state.withScrollPosition(S)}getScrollDimensions(){return this._state}setScrollDimensions(S,_){var a;const u=this._state.withScrollDimensions(S,_);this._setState(u,!!this._smoothScrolling),(a=this._smoothScrolling)===null||a===void 0||a.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(S){const _=this._state.withScrollPosition(S);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(_,!1)}setScrollPositionSmooth(S,_){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(S);if(this._smoothScrolling){S={scrollLeft:typeof S.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:S.scrollLeft,scrollTop:typeof S.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:S.scrollTop};const a=this._state.withScrollPosition(S);if(this._smoothScrolling.to.scrollLeft===a.scrollLeft&&this._smoothScrolling.to.scrollTop===a.scrollTop)return;let u;_?u=new B(this._smoothScrolling.from,a,this._smoothScrolling.startTime,this._smoothScrolling.duration):u=this._smoothScrolling.combine(this._state,a,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=u}else{const a=this._state.withScrollPosition(S);this._smoothScrolling=B.start(this._state,a,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const S=this._smoothScrolling.tick(),_=this._state.withScrollPosition(S);if(this._setState(_,!0),!!this._smoothScrolling){if(S.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(S,_){const a=this._state;a.equals(S)||(this._state=S,this._onScroll.fire(this._state.createScrollEvent(a,_)))}}class L{constructor(S,_,a){this.scrollLeft=S,this.scrollTop=_,this.isDone=a}}function T(C,S){const _=S-C;return function(a){return C+_*b(a)}}function M(C,S,_){return function(a){return a<_?C(a/_):S((a-_)/(1-_))}}class B{constructor(S,_,a,u){this.from=S,this.to=_,this.duration=u,this.startTime=a,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(S,_,a){if(Math.abs(S-_)>2.5*a){let N,O;return S<_?(N=S+.75*a,O=_-.75*a):(N=S-.75*a,O=_+.75*a),M(T(S,N),T(O,_),.33)}return T(S,_)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(S){this.to=S.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(S){const _=(S-this.startTime)/this.duration;if(_<1){const a=this.scrollLeft(_),u=this.scrollTop(_);return new L(a,u,!1)}return new L(this.to.scrollLeft,this.to.scrollTop,!0)}combine(S,_,a){return B.start(S,_,a)}static start(S,_,a){a=a+10;const u=Date.now()-10;return new B(S,_,u,a)}}function y(C){return Math.pow(C,3)}function b(C){return 1-y(1-C)}},40539:function(Gt,ze,c){"use strict";var D=c(80360),X;(function(v){v[v.Ignore=0]="Ignore",v[v.Info=1]="Info",v[v.Warning=2]="Warning",v[v.Error=3]="Error"})(X||(X={})),function(v){const k="error",L="warning",T="warn",M="info",B="ignore";function y(C){return C?D.qq(k,C)?v.Error:D.qq(L,C)||D.qq(T,C)?v.Warning:D.qq(M,C)?v.Info:v.Ignore:v.Ignore}v.fromValue=y;function b(C){switch(C){case v.Error:return k;case v.Warning:return L;case v.Info:return M;default:return B}}v.toString=b}(X||(X={})),ze.Z=X},74987:function(Gt,ze,c){"use strict";c.d(ze,{G:function(){return X}});const D=globalThis.performance&&typeof globalThis.performance.now=="function";class X{static create(k){return new X(k)}constructor(k){this._now=D&&k===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}},80360:function(Gt,ze,c){"use strict";c.d(ze,{$i:function(){return lt},B4:function(){return Xt},C8:function(){return Dt},GF:function(){return a},HO:function(){return pe},IO:function(){return u},J_:function(){return xe},K7:function(){return He},Kw:function(){return st},LC:function(){return O},Mh:function(){return he},P1:function(){return H},PJ:function(){return Tt},Qe:function(){return ut},R1:function(){return _},T5:function(){return ne},TT:function(){return Y},Ut:function(){return Xe},V8:function(){return R},W1:function(){return Ee},WU:function(){return T},YK:function(){return j},YU:function(){return M},ZG:function(){return P},ZH:function(){return ie},ZK:function(){return li},ab:function(){return ct},c1:function(){return gt},df:function(){return J},ec:function(){return B},fy:function(){return y},j3:function(){return b},j_:function(){return Z},m5:function(){return k},mK:function(){return $},oH:function(){return pt},oL:function(){return C},ok:function(){return re},ow:function(){return V},qq:function(){return se},qu:function(){return F},rL:function(){return K},uS:function(){return Re},un:function(){return S},uq:function(){return N},vH:function(){return Ce},vU:function(){return Yt},zY:function(){return G}});var D=c(36346),X=c(18796),v;function k(Ne){return!Ne||typeof Ne!="string"?!0:Ne.trim().length===0}const L=/{(\d+)}/g;function T(Ne,...yt){return yt.length===0?Ne:Ne.replace(L,function(De,di){const Ve=parseInt(di,10);return isNaN(Ve)||Ve<0||Ve>=yt.length?De:yt[Ve]})}function M(Ne){return Ne.replace(/[<>&]/g,function(yt){switch(yt){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return yt}})}function B(Ne){return Ne.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function y(Ne,yt=" "){const De=b(Ne,yt);return C(De,yt)}function b(Ne,yt){if(!Ne||!yt)return Ne;const De=yt.length;if(De===0||Ne.length===0)return Ne;let di=0;for(;Ne.indexOf(yt,di)===di;)di=di+De;return Ne.substring(di)}function C(Ne,yt){if(!Ne||!yt)return Ne;const De=yt.length,di=Ne.length;if(De===0||di===0)return Ne;let Ve=di,$i=-1;for(;$i=Ne.lastIndexOf(yt,Ve-1),!($i===-1||$i+De!==Ve);){if($i===0)return"";Ve=$i}return Ne.substring(0,Ve)}function S(Ne){return Ne.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function _(Ne){return Ne.replace(/\*/g,"")}function a(Ne,yt,De={}){if(!Ne)throw new Error("Cannot create regex from empty string");yt||(Ne=B(Ne)),De.wholeWord&&(/\B/.test(Ne.charAt(0))||(Ne="\\b"+Ne),/\B/.test(Ne.charAt(Ne.length-1))||(Ne=Ne+"\\b"));let di="";return De.global&&(di+="g"),De.matchCase||(di+="i"),De.multiline&&(di+="m"),De.unicode&&(di+="u"),new RegExp(Ne,di)}function u(Ne){return Ne.source==="^"||Ne.source==="^$"||Ne.source==="$"||Ne.source==="^\\s*$"?!1:!!(Ne.exec("")&&Ne.lastIndex===0)}function N(Ne){return Ne.split(/\r\n|\r|\n/)}function O(Ne){for(let yt=0,De=Ne.length;yt<De;yt++){const di=Ne.charCodeAt(yt);if(di!==32&&di!==9)return yt}return-1}function R(Ne,yt=0,De=Ne.length){for(let di=yt;di<De;di++){const Ve=Ne.charCodeAt(di);if(Ve!==32&&Ve!==9)return Ne.substring(yt,di)}return Ne.substring(yt,De)}function V(Ne,yt=Ne.length-1){for(let De=yt;De>=0;De--){const di=Ne.charCodeAt(De);if(di!==32&&di!==9)return De}return-1}function F(Ne,yt){return Ne<yt?-1:Ne>yt?1:0}function Y(Ne,yt,De=0,di=Ne.length,Ve=0,$i=yt.length){for(;De<di&&Ve<$i;De++,Ve++){const le=Ne.charCodeAt(De),mt=yt.charCodeAt(Ve);if(le<mt)return-1;if(le>mt)return 1}const wn=di-De,Pt=$i-Ve;return wn<Pt?-1:wn>Pt?1:0}function G(Ne,yt){return Z(Ne,yt,0,Ne.length,0,yt.length)}function Z(Ne,yt,De=0,di=Ne.length,Ve=0,$i=yt.length){for(;De<di&&Ve<$i;De++,Ve++){let le=Ne.charCodeAt(De),mt=yt.charCodeAt(Ve);if(le===mt)continue;if(le>=128||mt>=128)return Y(Ne.toLowerCase(),yt.toLowerCase(),De,di,Ve,$i);$(le)&&(le-=32),$(mt)&&(mt-=32);const jt=le-mt;if(jt!==0)return jt}const wn=di-De,Pt=$i-Ve;return wn<Pt?-1:wn>Pt?1:0}function ne(Ne){return Ne>=48&&Ne<=57}function $(Ne){return Ne>=97&&Ne<=122}function J(Ne){return Ne>=65&&Ne<=90}function se(Ne,yt){return Ne.length===yt.length&&Z(Ne,yt)===0}function re(Ne,yt){const De=yt.length;return yt.length>Ne.length?!1:Z(Ne,yt,0,De)===0}function he(Ne,yt){const De=Math.min(Ne.length,yt.length);let di;for(di=0;di<De;di++)if(Ne.charCodeAt(di)!==yt.charCodeAt(di))return di;return De}function H(Ne,yt){const De=Math.min(Ne.length,yt.length);let di;const Ve=Ne.length-1,$i=yt.length-1;for(di=0;di<De;di++)if(Ne.charCodeAt(Ve-di)!==yt.charCodeAt($i-di))return di;return De}function P(Ne){return 55296<=Ne&&Ne<=56319}function j(Ne){return 56320<=Ne&&Ne<=57343}function K(Ne,yt){return(Ne-55296<<10)+(yt-56320)+65536}function ie(Ne,yt,De){const di=Ne.charCodeAt(De);if(P(di)&&De+1<yt){const Ve=Ne.charCodeAt(De+1);if(j(Ve))return K(di,Ve)}return di}function ce(Ne,yt){const De=Ne.charCodeAt(yt-1);if(j(De)&&yt>1){const di=Ne.charCodeAt(yt-2);if(P(di))return K(di,De)}return De}class _e{get offset(){return this._offset}constructor(yt,De=0){this._str=yt,this._len=yt.length,this._offset=De}setOffset(yt){this._offset=yt}prevCodePoint(){const yt=ce(this._str,this._offset);return this._offset-=yt>=65536?2:1,yt}nextCodePoint(){const yt=ie(this._str,this._len,this._offset);return this._offset+=yt>=65536?2:1,yt}eol(){return this._offset>=this._len}}class Ee{get offset(){return this._iterator.offset}constructor(yt,De=0){this._iterator=new _e(yt,De)}nextGraphemeLength(){const yt=vt.getInstance(),De=this._iterator,di=De.offset;let Ve=yt.getGraphemeBreakType(De.nextCodePoint());for(;!De.eol();){const $i=De.offset,wn=yt.getGraphemeBreakType(De.nextCodePoint());if(xt(Ve,wn)){De.setOffset($i);break}Ve=wn}return De.offset-di}prevGraphemeLength(){const yt=vt.getInstance(),De=this._iterator,di=De.offset;let Ve=yt.getGraphemeBreakType(De.prevCodePoint());for(;De.offset>0;){const $i=De.offset,wn=yt.getGraphemeBreakType(De.prevCodePoint());if(xt(wn,Ve)){De.setOffset($i);break}Ve=wn}return di-De.offset}eol(){return this._iterator.eol()}}function Ce(Ne,yt){return new Ee(Ne,yt).nextGraphemeLength()}function pe(Ne,yt){return new Ee(Ne,yt).prevGraphemeLength()}function xe(Ne,yt){yt>0&&j(Ne.charCodeAt(yt))&&yt--;const De=yt+Ce(Ne,yt);return[De-pe(Ne,De),De]}let x;function rt(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function Xe(Ne){return x||(x=rt()),x.test(Ne)}const Ze=/^[\t\n\r\x20-\x7E]*$/;function lt(Ne){return Ze.test(Ne)}const ut=/[\u2028\u2029]/;function ct(Ne){return ut.test(Ne)}function He(Ne){return Ne>=11904&&Ne<=55215||Ne>=63744&&Ne<=64255||Ne>=65281&&Ne<=65374}function Dt(Ne){return Ne>=127462&&Ne<=127487||Ne===8986||Ne===8987||Ne===9200||Ne===9203||Ne>=9728&&Ne<=10175||Ne===11088||Ne===11093||Ne>=127744&&Ne<=128591||Ne>=128640&&Ne<=128764||Ne>=128992&&Ne<=129008||Ne>=129280&&Ne<=129535||Ne>=129648&&Ne<=129782}const gt=String.fromCharCode(65279);function Re(Ne){return!!(Ne&&Ne.length>0&&Ne.charCodeAt(0)===65279)}function st(Ne,yt=!1){return Ne?(yt&&(Ne=Ne.replace(/\\./g,"")),Ne.toLowerCase()!==Ne):!1}function Tt(Ne){return Ne=Ne%(2*26),Ne<26?String.fromCharCode(97+Ne):String.fromCharCode(65+Ne-26)}function xt(Ne,yt){return Ne===0?yt!==5&&yt!==7:Ne===2&&yt===3?!1:Ne===4||Ne===2||Ne===3||yt===4||yt===2||yt===3?!0:!(Ne===8&&(yt===8||yt===9||yt===11||yt===12)||(Ne===11||Ne===9)&&(yt===9||yt===10)||(Ne===12||Ne===10)&&yt===10||yt===5||yt===13||yt===7||Ne===1||Ne===13&&yt===14||Ne===6&&yt===6)}class vt{static getInstance(){return vt._INSTANCE||(vt._INSTANCE=new vt),vt._INSTANCE}constructor(){this._data=we()}getGraphemeBreakType(yt){if(yt<32)return yt===10?3:yt===13?2:4;if(yt<127)return 0;const De=this._data,di=De.length/3;let Ve=1;for(;Ve<=di;)if(yt<De[3*Ve])Ve=2*Ve;else if(yt>De[3*Ve+1])Ve=2*Ve+1;else return De[3*Ve+2];return 0}}vt._INSTANCE=null;function we(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function pt(Ne,yt){if(Ne===0)return 0;const De=Mt(Ne,yt);if(De!==void 0)return De;const di=new _e(yt,Ne);return di.prevCodePoint(),di.offset}function Mt(Ne,yt){const De=new _e(yt,Ne);let di=De.prevCodePoint();for(;Ft(di)||di===65039||di===8419;){if(De.offset===0)return;di=De.prevCodePoint()}if(!Dt(di))return;let Ve=De.offset;return Ve>0&&De.prevCodePoint()===8205&&(Ve=De.offset),Ve}function Ft(Ne){return 127995<=Ne&&Ne<=127999}const Xt="\xA0";class li{static getInstance(yt){return v.cache.get(Array.from(yt))}static getLocales(){return v._locales.value}constructor(yt){this.confusableDictionary=yt}isAmbiguous(yt){return this.confusableDictionary.has(yt)}getPrimaryConfusable(yt){return this.confusableDictionary.get(yt)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}v=li,li.ambiguousCharacterData=new X.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),li.cache=new D.t(Ne=>{function yt(mt){const jt=new Map;for(let bi=0;bi<mt.length;bi+=2)jt.set(mt[bi],mt[bi+1]);return jt}function De(mt,jt){const bi=new Map(mt);for(const[Ot,Ki]of jt)bi.set(Ot,Ki);return bi}function di(mt,jt){if(!mt)return jt;const bi=new Map;for(const[Ot,Ki]of mt)jt.has(Ot)&&bi.set(Ot,Ki);return bi}const Ve=v.ambiguousCharacterData.value;let $i=Ne.filter(mt=>!mt.startsWith("_")&&mt in Ve);$i.length===0&&($i=["_default"]);let wn;for(const mt of $i){const jt=yt(Ve[mt]);wn=di(wn,jt)}const Pt=yt(Ve._common),le=De(Pt,wn);return new v(le)}),li._locales=new X.o(()=>Object.keys(v.ambiguousCharacterData.value).filter(Ne=>!Ne.startsWith("_")));class Yt{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Yt.getRawData())),this._data}static isInvisibleCharacter(yt){return Yt.getData().has(yt)}static get codePoints(){return Yt.getData()}}Yt._data=void 0},9505:function(Gt,ze,c){"use strict";c.d(ze,{n:function(){return D}});const D=Symbol("MicrotaskDelay")},7350:function(Gt,ze,c){"use strict";c.d(ze,{Id:function(){return M}});var D=c(80360);class X{constructor(){this._value="",this._pos=0}reset(y){return this._value=y,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(y){const b=y.charCodeAt(0),C=this._value.charCodeAt(this._pos);return b-C}value(){return this._value[this._pos]}}class v{constructor(y=!0){this._caseSensitive=y}reset(y){return this._value=y,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let y=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(y)this._from++;else break;else y=!1;return this}cmp(y){return this._caseSensitive?(0,D.TT)(y,this._value,0,y.length,this._from,this._to):(0,D.j_)(y,this._value,0,y.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class k{constructor(y=!0,b=!0){this._splitOnBackslash=y,this._caseSensitive=b}reset(y){this._from=0,this._to=0,this._value=y,this._valueLen=y.length;for(let b=y.length-1;b>=0;b--,this._valueLen--){const C=this._value.charCodeAt(b);if(!(C===47||this._splitOnBackslash&&C===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let y=!0;for(;this._to<this._valueLen;this._to++){const b=this._value.charCodeAt(this._to);if(b===47||this._splitOnBackslash&&b===92)if(y)this._from++;else break;else y=!1}return this}cmp(y){return this._caseSensitive?(0,D.TT)(y,this._value,0,y.length,this._from,this._to):(0,D.j_)(y,this._value,0,y.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class L{constructor(y,b){this._ignorePathCasing=y,this._ignoreQueryAndFragment=b,this._states=[],this._stateIdx=0}reset(y){return this._value=y,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new k(!1,!this._ignorePathCasing(y)),this._pathIterator.reset(y.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(y)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(y){if(this._states[this._stateIdx]===1)return(0,D.zY)(y,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,D.zY)(y,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(y);if(this._states[this._stateIdx]===4)return(0,D.qu)(y,this._value.query);if(this._states[this._stateIdx]===5)return(0,D.qu)(y,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class T{constructor(){this.height=1}rotateLeft(){const y=this.right;return this.right=y.left,y.left=this,this.updateHeight(),y.updateHeight(),y}rotateRight(){const y=this.left;return this.left=y.right,y.right=this,this.updateHeight(),y.updateHeight(),y}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var y,b;return(b=(y=this.left)===null||y===void 0?void 0:y.height)!==null&&b!==void 0?b:0}get heightRight(){var y,b;return(b=(y=this.right)===null||y===void 0?void 0:y.height)!==null&&b!==void 0?b:0}}class M{static forUris(y=()=>!1,b=()=>!1){return new M(new L(y,b))}static forStrings(){return new M(new X)}static forConfigKeys(){return new M(new v)}constructor(y){this._iter=y}clear(){this._root=void 0}set(y,b){const C=this._iter.reset(y);let S;this._root||(this._root=new T,this._root.segment=C.value());const _=[];for(S=this._root;;){const u=C.cmp(S.segment);if(u>0)S.left||(S.left=new T,S.left.segment=C.value()),_.push([-1,S]),S=S.left;else if(u<0)S.right||(S.right=new T,S.right.segment=C.value()),_.push([1,S]),S=S.right;else if(C.hasNext())C.next(),S.mid||(S.mid=new T,S.mid.segment=C.value()),_.push([0,S]),S=S.mid;else break}const a=S.value;S.value=b,S.key=y;for(let u=_.length-1;u>=0;u--){const N=_[u][1];N.updateHeight();const O=N.balanceFactor();if(O<-1||O>1){const R=_[u][0],V=_[u+1][0];if(R===1&&V===1)_[u][1]=N.rotateLeft();else if(R===-1&&V===-1)_[u][1]=N.rotateRight();else if(R===1&&V===-1)N.right=_[u+1][1]=_[u+1][1].rotateRight(),_[u][1]=N.rotateLeft();else if(R===-1&&V===1)N.left=_[u+1][1]=_[u+1][1].rotateLeft(),_[u][1]=N.rotateRight();else throw new Error;if(u>0)switch(_[u-1][0]){case-1:_[u-1][1].left=_[u][1];break;case 1:_[u-1][1].right=_[u][1];break;case 0:_[u-1][1].mid=_[u][1];break}else this._root=_[0][1]}}return a}get(y){var b;return(b=this._getNode(y))===null||b===void 0?void 0:b.value}_getNode(y){const b=this._iter.reset(y);let C=this._root;for(;C;){const S=b.cmp(C.segment);if(S>0)C=C.left;else if(S<0)C=C.right;else if(b.hasNext())b.next(),C=C.mid;else break}return C}has(y){const b=this._getNode(y);return!((b==null?void 0:b.value)===void 0&&(b==null?void 0:b.mid)===void 0)}delete(y){return this._delete(y,!1)}deleteSuperstr(y){return this._delete(y,!0)}_delete(y,b){var C;const S=this._iter.reset(y),_=[];let a=this._root;for(;a;){const u=S.cmp(a.segment);if(u>0)_.push([-1,a]),a=a.left;else if(u<0)_.push([1,a]),a=a.right;else if(S.hasNext())S.next(),_.push([0,a]),a=a.mid;else break}if(a){if(b?(a.left=void 0,a.mid=void 0,a.right=void 0,a.height=1):(a.key=void 0,a.value=void 0),!a.mid&&!a.value)if(a.left&&a.right){const u=this._min(a.right);if(u.key){const{key:N,value:O,segment:R}=u;this._delete(u.key,!1),a.key=N,a.value=O,a.segment=R}}else{const u=(C=a.left)!==null&&C!==void 0?C:a.right;if(_.length>0){const[N,O]=_[_.length-1];switch(N){case-1:O.left=u;break;case 0:O.mid=u;break;case 1:O.right=u;break}}else this._root=u}for(let u=_.length-1;u>=0;u--){const N=_[u][1];N.updateHeight();const O=N.balanceFactor();if(O>1?(N.right.balanceFactor()>=0||(N.right=N.right.rotateRight()),_[u][1]=N.rotateLeft()):O<-1&&(N.left.balanceFactor()<=0||(N.left=N.left.rotateLeft()),_[u][1]=N.rotateRight()),u>0)switch(_[u-1][0]){case-1:_[u-1][1].left=_[u][1];break;case 1:_[u-1][1].right=_[u][1];break;case 0:_[u-1][1].mid=_[u][1];break}else this._root=_[0][1]}}}_min(y){for(;y.left;)y=y.left;return y}findSubstr(y){const b=this._iter.reset(y);let C=this._root,S;for(;C;){const _=b.cmp(C.segment);if(_>0)C=C.left;else if(_<0)C=C.right;else if(b.hasNext())b.next(),S=C.value||S,C=C.mid;else break}return C&&C.value||S}findSuperstr(y){return this._findSuperstrOrElement(y,!1)}_findSuperstrOrElement(y,b){const C=this._iter.reset(y);let S=this._root;for(;S;){const _=C.cmp(S.segment);if(_>0)S=S.left;else if(_<0)S=S.right;else if(C.hasNext())C.next(),S=S.mid;else return S.mid?this._entries(S.mid):b?S.value:void 0}}forEach(y){for(const[b,C]of this)y(C,b)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(y){const b=[];return this._dfsEntries(y,b),b[Symbol.iterator]()}_dfsEntries(y,b){y&&(y.left&&this._dfsEntries(y.left,b),y.value&&b.push([y.key,y.value]),y.mid&&this._dfsEntries(y.mid,b),y.right&&this._dfsEntries(y.right,b))}}},12003:function(Gt,ze,c){"use strict";c.d(ze,{k:function(){return v}});var D=c(64423),X;(function(k){function L(T){return T&&typeof T=="object"&&typeof T.id=="string"}k.isThemeColor=L})(X||(X={}));var v;(function(k){k.iconNameSegment="[A-Za-z0-9]+",k.iconNameExpression="[A-Za-z0-9-]+",k.iconModifierExpression="~[A-Za-z]+",k.iconNameCharacter="[A-Za-z0-9~-]";const L=new RegExp(`^(${k.iconNameExpression})(${k.iconModifierExpression})?$`);function T(N){const O=L.exec(N.id);if(!O)return T(D.l.error);const[,R,V]=O,F=["codicon","codicon-"+R];return V&&F.push("codicon-modifier-"+V.substring(1)),F}k.asClassNameArray=T;function M(N){return T(N).join(" ")}k.asClassName=M;function B(N){return"."+T(N).join(".")}k.asCSSSelector=B;function y(N){return N&&typeof N=="object"&&typeof N.id=="string"&&(typeof N.color=="undefined"||X.isThemeColor(N.color))}k.isThemeIcon=y;const b=new RegExp(`^\\$\\((${k.iconNameExpression}(?:${k.iconModifierExpression})?)\\)$`);function C(N){const O=b.exec(N);if(!O)return;const[,R]=O;return{id:R}}k.fromString=C;function S(N){return{id:N}}k.fromId=S;function _(N,O){let R=N.id;const V=R.lastIndexOf("~");return V!==-1&&(R=R.substring(0,V)),O&&(R=`${R}~${O}`),{id:R}}k.modify=_;function a(N){const O=N.id.lastIndexOf("~");if(O!==-1)return N.id.substring(O+1)}k.getModifier=a;function u(N,O){var R,V;return N.id===O.id&&((R=N.color)===null||R===void 0?void 0:R.id)===((V=O.color)===null||V===void 0?void 0:V.id)}k.isEqual=u})(v||(v={}))},22968:function(Gt,ze,c){"use strict";c.d(ze,{$K:function(){return B},D8:function(){return _},HD:function(){return D},Jp:function(){return y},Kn:function(){return X},TW:function(){return L},cW:function(){return C},fU:function(){return v},hj:function(){return k},jn:function(){return T},mf:function(){return S},o8:function(){return M},p_:function(){return b}});function D(u){return typeof u=="string"}function X(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)&&!(u instanceof RegExp)&&!(u instanceof Date)}function v(u){const N=Object.getPrototypeOf(Uint8Array);return typeof u=="object"&&u instanceof N}function k(u){return typeof u=="number"&&!isNaN(u)}function L(u){return!!u&&typeof u[Symbol.iterator]=="function"}function T(u){return u===!0||u===!1}function M(u){return typeof u=="undefined"}function B(u){return!y(u)}function y(u){return M(u)||u===null}function b(u,N){if(!u)throw new Error(N?`Unexpected type, expected '${N}'`:"Unexpected type")}function C(u){if(y(u))throw new Error("Assertion Failed: argument is undefined or null");return u}function S(u){return typeof u=="function"}function _(u,N){const O=Math.min(u.length,N.length);for(let R=0;R<O;R++)a(u[R],N[R])}function a(u,N){if(D(N)){if(typeof u!==N)throw new Error(`argument does not match constraint: typeof ${N}`)}else if(S(N)){try{if(u instanceof N)return}catch(O){}if(!y(u)&&u.constructor===N||N.length===1&&N.call(void 0,u)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}},57684:function(Gt,ze,c){"use strict";c.d(ze,{A:function(){return X},K:function(){return D}});function D(v){return v<0?0:v>255?255:v|0}function X(v){return v<0?0:v>4294967295?4294967295:v|0}},6685:function(Gt,ze,c){"use strict";c.d(ze,{o:function(){return S},q:function(){return R}});var D=c(40795),X=c(43998);const v=/^\w[\w\d+.-]*$/,k=/^\//,L=/^\/\//;function T(Z,ne){if(!Z.scheme&&ne)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${Z.authority}", path: "${Z.path}", query: "${Z.query}", fragment: "${Z.fragment}"}`);if(Z.scheme&&!v.test(Z.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(Z.path){if(Z.authority){if(!k.test(Z.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(L.test(Z.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function M(Z,ne){return!Z&&!ne?"file":Z}function B(Z,ne){switch(Z){case"https":case"http":case"file":ne?ne[0]!==b&&(ne=b+ne):ne=b;break}return ne}const y="",b="/",C=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class S{static isUri(ne){return ne instanceof S?!0:ne?typeof ne.authority=="string"&&typeof ne.fragment=="string"&&typeof ne.path=="string"&&typeof ne.query=="string"&&typeof ne.scheme=="string"&&typeof ne.fsPath=="string"&&typeof ne.with=="function"&&typeof ne.toString=="function":!1}constructor(ne,$,J,se,re,he=!1){typeof ne=="object"?(this.scheme=ne.scheme||y,this.authority=ne.authority||y,this.path=ne.path||y,this.query=ne.query||y,this.fragment=ne.fragment||y):(this.scheme=M(ne,he),this.authority=$||y,this.path=B(this.scheme,J||y),this.query=se||y,this.fragment=re||y,T(this,he))}get fsPath(){return R(this,!1)}with(ne){if(!ne)return this;let{scheme:$,authority:J,path:se,query:re,fragment:he}=ne;return $===void 0?$=this.scheme:$===null&&($=y),J===void 0?J=this.authority:J===null&&(J=y),se===void 0?se=this.path:se===null&&(se=y),re===void 0?re=this.query:re===null&&(re=y),he===void 0?he=this.fragment:he===null&&(he=y),$===this.scheme&&J===this.authority&&se===this.path&&re===this.query&&he===this.fragment?this:new a($,J,se,re,he)}static parse(ne,$=!1){const J=C.exec(ne);return J?new a(J[2]||y,G(J[4]||y),G(J[5]||y),G(J[7]||y),G(J[9]||y),$):new a(y,y,y,y,y)}static file(ne){let $=y;if(X.ED&&(ne=ne.replace(/\\/g,b)),ne[0]===b&&ne[1]===b){const J=ne.indexOf(b,2);J===-1?($=ne.substring(2),ne=b):($=ne.substring(2,J),ne=ne.substring(J)||b)}return new a("file",$,ne,y,y)}static from(ne,$){return new a(ne.scheme,ne.authority,ne.path,ne.query,ne.fragment,$)}static joinPath(ne,...$){if(!ne.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let J;return X.ED&&ne.scheme==="file"?J=S.file(D.Ku.join(R(ne,!0),...$)).path:J=D.KR.join(ne.path,...$),ne.with({path:J})}toString(ne=!1){return V(this,ne)}toJSON(){return this}static revive(ne){var $,J;if(ne){if(ne instanceof S)return ne;{const se=new a(ne);return se._formatted=($=ne.external)!==null&&$!==void 0?$:null,se._fsPath=ne._sep===_&&(J=ne.fsPath)!==null&&J!==void 0?J:null,se}}else return ne}}const _=X.ED?1:void 0;class a extends S{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=R(this,!1)),this._fsPath}toString(ne=!1){return ne?V(this,!0):(this._formatted||(this._formatted=V(this,!1)),this._formatted)}toJSON(){const ne={$mid:1};return this._fsPath&&(ne.fsPath=this._fsPath,ne._sep=_),this._formatted&&(ne.external=this._formatted),this.path&&(ne.path=this.path),this.scheme&&(ne.scheme=this.scheme),this.authority&&(ne.authority=this.authority),this.query&&(ne.query=this.query),this.fragment&&(ne.fragment=this.fragment),ne}}const u={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function N(Z,ne,$){let J,se=-1;for(let re=0;re<Z.length;re++){const he=Z.charCodeAt(re);if(he>=97&&he<=122||he>=65&&he<=90||he>=48&&he<=57||he===45||he===46||he===95||he===126||ne&&he===47||$&&he===91||$&&he===93||$&&he===58)se!==-1&&(J+=encodeURIComponent(Z.substring(se,re)),se=-1),J!==void 0&&(J+=Z.charAt(re));else{J===void 0&&(J=Z.substr(0,re));const H=u[he];H!==void 0?(se!==-1&&(J+=encodeURIComponent(Z.substring(se,re)),se=-1),J+=H):se===-1&&(se=re)}}return se!==-1&&(J+=encodeURIComponent(Z.substring(se))),J!==void 0?J:Z}function O(Z){let ne;for(let $=0;$<Z.length;$++){const J=Z.charCodeAt($);J===35||J===63?(ne===void 0&&(ne=Z.substr(0,$)),ne+=u[J]):ne!==void 0&&(ne+=Z[$])}return ne!==void 0?ne:Z}function R(Z,ne){let $;return Z.authority&&Z.path.length>1&&Z.scheme==="file"?$=`//${Z.authority}${Z.path}`:Z.path.charCodeAt(0)===47&&(Z.path.charCodeAt(1)>=65&&Z.path.charCodeAt(1)<=90||Z.path.charCodeAt(1)>=97&&Z.path.charCodeAt(1)<=122)&&Z.path.charCodeAt(2)===58?ne?$=Z.path.substr(1):$=Z.path[1].toLowerCase()+Z.path.substr(2):$=Z.path,X.ED&&($=$.replace(/\//g,"\\")),$}function V(Z,ne){const $=ne?O:N;let J="",{scheme:se,authority:re,path:he,query:H,fragment:P}=Z;if(se&&(J+=se,J+=":"),(re||se==="file")&&(J+=b,J+=b),re){let j=re.indexOf("@");if(j!==-1){const K=re.substr(0,j);re=re.substr(j+1),j=K.lastIndexOf(":"),j===-1?J+=$(K,!1,!1):(J+=$(K.substr(0,j),!1,!1),J+=":",J+=$(K.substr(j+1),!1,!0)),J+="@"}re=re.toLowerCase(),j=re.lastIndexOf(":"),j===-1?J+=$(re,!1,!0):(J+=$(re.substr(0,j),!1,!0),J+=re.substr(j))}if(he){if(he.length>=3&&he.charCodeAt(0)===47&&he.charCodeAt(2)===58){const j=he.charCodeAt(1);j>=65&&j<=90&&(he=`/${String.fromCharCode(j+32)}:${he.substr(3)}`)}else if(he.length>=2&&he.charCodeAt(1)===58){const j=he.charCodeAt(0);j>=65&&j<=90&&(he=`${String.fromCharCode(j+32)}:${he.substr(2)}`)}J+=$(he,!0,!1)}return H&&(J+="?",J+=$(H,!1,!1)),P&&(J+="#",J+=ne?P:N(P,!1,!1)),J}function F(Z){try{return decodeURIComponent(Z)}catch(ne){return Z.length>3?Z.substr(0,3)+F(Z.substr(3)):Z}}const Y=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function G(Z){return Z.match(Y)?Z.replace(Y,ne=>F(ne)):Z}},13687:function(Gt,ze,c){"use strict";c.d(ze,{N:function(){return X}});var D=c(50165);function X(v,k){v instanceof D.Z?(v.setFontFamily(k.getMassagedFontFamily()),v.setFontWeight(k.fontWeight),v.setFontSize(k.fontSize),v.setFontFeatureSettings(k.fontFeatureSettings),v.setFontVariationSettings(k.fontVariationSettings),v.setLineHeight(k.lineHeight),v.setLetterSpacing(k.letterSpacing)):(v.style.fontFamily=k.getMassagedFontFamily(),v.style.fontWeight=k.fontWeight,v.style.fontSize=k.fontSize+"px",v.style.fontFeatureSettings=k.fontFeatureSettings,v.style.fontVariationSettings=k.fontVariationSettings,v.style.lineHeight=k.lineHeight+"px",v.style.letterSpacing=k.letterSpacing+"px")}},90555:function(Gt,ze,c){"use strict";c.d(ze,{I:function(){return k}});var D=c(83845),X=c(46328),v=c(97480);class k extends D.JT{constructor(T,M){super(),this._onDidChange=this._register(new X.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=T,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,M)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let T=null;const M=()=>{T?this.observe({width:T.width,height:T.height}):this.observe()};let B=!1,y=!1;const b=()=>{if(B&&!y)try{B=!1,y=!0,M()}finally{(0,v.jL)((0,v.Jj)(this._referenceDomElement),()=>{y=!1,b()})}};this._resizeObserver=new ResizeObserver(C=>{T=C&&C[0]&&C[0].contentRect?C[0].contentRect:null,B=!0,b()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(T){this.measureReferenceDomElement(!0,T)}measureReferenceDomElement(T,M){let B=0,y=0;M?(B=M.width,y=M.height):this._referenceDomElement&&(B=this._referenceDomElement.clientWidth,y=this._referenceDomElement.clientHeight),B=Math.max(5,B),y=Math.max(5,y),(this._width!==B||this._height!==y)&&(this._width=B,this._height=y,T&&this._onDidChange.fire())}}},99384:function(Gt,ze,c){"use strict";c.d(ze,{g:function(){return _}});var D=c(51678),X=c(32764),v=c(46328),k=c(83845),L=c(13687);class T{constructor(u,N){this.chr=u,this.type=N,this.width=0}fulfill(u){this.width=u}}class M{constructor(u,N){this._bareFontInfo=u,this._requests=N,this._container=null,this._testElements=null}read(){this._createDomElements(),X.vO.document.body.appendChild(this._container),this._readFromDomElements(),X.vO.document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const u=document.createElement("div");u.style.position="absolute",u.style.top="-50000px",u.style.width="50000px";const N=document.createElement("div");(0,L.N)(N,this._bareFontInfo),u.appendChild(N);const O=document.createElement("div");(0,L.N)(O,this._bareFontInfo),O.style.fontWeight="bold",u.appendChild(O);const R=document.createElement("div");(0,L.N)(R,this._bareFontInfo),R.style.fontStyle="italic",u.appendChild(R);const V=[];for(const F of this._requests){let Y;F.type===0&&(Y=N),F.type===2&&(Y=O),F.type===1&&(Y=R),Y.appendChild(document.createElement("br"));const G=document.createElement("span");M._render(G,F),Y.appendChild(G),V.push(G)}this._container=u,this._testElements=V}static _render(u,N){if(N.chr===" "){let O="\xA0";for(let R=0;R<8;R++)O+=O;u.innerText=O}else{let O=N.chr;for(let R=0;R<8;R++)O+=O;u.textContent=O}}_readFromDomElements(){for(let u=0,N=this._requests.length;u<N;u++){const O=this._requests[u],R=this._testElements[u];O.fulfill(R.offsetWidth/256)}}}function B(a,u){new M(a,u).read()}var y=c(38074),b=c(22690);class C extends k.JT{constructor(){super(),this._onDidChange=this._register(new v.Q5),this.onDidChange=this._onDidChange.event,this._cache=new S,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new S,this._onDidChange.fire()}_writeToCache(u,N){this._cache.put(u,N),!N.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=X.Ex.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const u=this._cache.getValues();let N=!1;for(const O of u)O.isTrusted||(N=!0,this._cache.remove(O));N&&this._onDidChange.fire()}readFontInfo(u){if(!this._cache.has(u)){let N=this._actualReadFontInfo(u);(N.typicalHalfwidthCharacterWidth<=2||N.typicalFullwidthCharacterWidth<=2||N.spaceWidth<=2||N.maxDigitWidth<=2)&&(N=new b.pR({pixelRatio:D.Tz.value,fontFamily:N.fontFamily,fontWeight:N.fontWeight,fontSize:N.fontSize,fontFeatureSettings:N.fontFeatureSettings,fontVariationSettings:N.fontVariationSettings,lineHeight:N.lineHeight,letterSpacing:N.letterSpacing,isMonospace:N.isMonospace,typicalHalfwidthCharacterWidth:Math.max(N.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(N.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:N.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(N.spaceWidth,5),middotWidth:Math.max(N.middotWidth,5),wsmiddotWidth:Math.max(N.wsmiddotWidth,5),maxDigitWidth:Math.max(N.maxDigitWidth,5)},!1)),this._writeToCache(u,N)}return this._cache.get(u)}_createRequest(u,N,O,R){const V=new T(u,N);return O.push(V),R==null||R.push(V),V}_actualReadFontInfo(u){const N=[],O=[],R=this._createRequest("n",0,N,O),V=this._createRequest("\uFF4D",0,N,null),F=this._createRequest(" ",0,N,O),Y=this._createRequest("0",0,N,O),G=this._createRequest("1",0,N,O),Z=this._createRequest("2",0,N,O),ne=this._createRequest("3",0,N,O),$=this._createRequest("4",0,N,O),J=this._createRequest("5",0,N,O),se=this._createRequest("6",0,N,O),re=this._createRequest("7",0,N,O),he=this._createRequest("8",0,N,O),H=this._createRequest("9",0,N,O),P=this._createRequest("\u2192",0,N,O),j=this._createRequest("\uFFEB",0,N,null),K=this._createRequest("\xB7",0,N,O),ie=this._createRequest(String.fromCharCode(11825),0,N,null),ce="|/-_ilm%";for(let xe=0,x=ce.length;xe<x;xe++)this._createRequest(ce.charAt(xe),0,N,O),this._createRequest(ce.charAt(xe),1,N,O),this._createRequest(ce.charAt(xe),2,N,O);B(u,N);const _e=Math.max(Y.width,G.width,Z.width,ne.width,$.width,J.width,se.width,re.width,he.width,H.width);let Ee=u.fontFeatureSettings===y.n0.OFF;const Ce=O[0].width;for(let xe=1,x=O.length;Ee&&xe<x;xe++){const rt=Ce-O[xe].width;if(rt<-.001||rt>.001){Ee=!1;break}}let pe=!0;return Ee&&j.width!==Ce&&(pe=!1),j.width>P.width&&(pe=!1),new b.pR({pixelRatio:D.Tz.value,fontFamily:u.fontFamily,fontWeight:u.fontWeight,fontSize:u.fontSize,fontFeatureSettings:u.fontFeatureSettings,fontVariationSettings:u.fontVariationSettings,lineHeight:u.lineHeight,letterSpacing:u.letterSpacing,isMonospace:Ee,typicalHalfwidthCharacterWidth:R.width,typicalFullwidthCharacterWidth:V.width,canUseHalfwidthRightwardsArrow:pe,spaceWidth:F.width,middotWidth:K.width,wsmiddotWidth:ie.width,maxDigitWidth:_e},!0)}}class S{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(u){const N=u.getId();return!!this._values[N]}get(u){const N=u.getId();return this._values[N]}put(u,N){const O=u.getId();this._keys[O]=u,this._values[O]=N}remove(u){const N=u.getId();delete this._keys[N],delete this._values[N]}getValues(){return Object.keys(this._keys).map(u=>this._values[u])}}const _=new C},59869:function(Gt,ze,c){"use strict";c.d(ze,{n:function(){return v}});var D=c(46328);class X{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new D.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(L){this._tabFocus=L,this._onDidChangeTabFocus.fire(this._tabFocus)}}const v=new X},2635:function(Gt,ze,c){"use strict";c.d(ze,{Fz:function(){return Y},Nl:function(){return V},RA:function(){return R},Tj:function(){return Z},b6:function(){return G},pd:function(){return O}});var D=c(51678),X=c(97480),v=c(80707),k=c(89056),L=c(98236),T=c(96925),M=c(46328),B=c(83845),y=c(98584),b=c(80360),C=c(64977),S=c(37753),_=c(87943),a=c(58316),u=function(ne,$,J,se){var re=arguments.length,he=re<3?$:se===null?se=Object.getOwnPropertyDescriptor($,J):se,H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")he=Reflect.decorate(ne,$,J,se);else for(var P=ne.length-1;P>=0;P--)(H=ne[P])&&(he=(re<3?H(he):re>3?H($,J,he):H($,J))||he);return re>3&&he&&Object.defineProperty($,J,he),he},N=function(ne,$){return function(J,se){$(J,se,ne)}},O;(function(ne){ne.Tap="-monaco-textarea-synthetic-tap"})(O||(O={}));const R={forceCopyWithSyntaxHighlighting:!1};class V{constructor(){this._lastState=null}set($,J){this._lastState={lastCopiedValue:$,data:J}}get($){return this._lastState&&this._lastState.lastCopiedValue===$?this._lastState.data:(this._lastState=null,null)}}V.INSTANCE=new V;class F{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate($){$=$||"";const J={text:$,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=$.length,J}}let Y=class extends B.JT{get textAreaState(){return this._textAreaState}constructor($,J,se,re,he,H){super(),this._host=$,this._textArea=J,this._OS=se,this._browser=re,this._accessibilityService=he,this._logService=H,this._onFocus=this._register(new M.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new M.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new M.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new M.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new M.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new M.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new M.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new M.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new M.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new M.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new M.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new B.XK),this._asyncTriggerCut=this._register(new T.pY(()=>this._onCut.fire(),0)),this._textAreaState=C.un.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized()&&this.writeNativeTextAreaContent("ctor"),this._register(M.ju.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>{this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value?this._asyncFocusGainWriteScreenReaderContent.value=this._register(new T.pY(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)):this._asyncFocusGainWriteScreenReaderContent.clear()})),this._hasFocus=!1,this._currentComposition=null;let P=null;this._register(this._textArea.onKeyDown(j=>{const K=new k.y(j);(K.keyCode===114||this._currentComposition&&K.keyCode===1)&&K.stopPropagation(),K.equals(9)&&K.preventDefault(),P=K,this._onKeyDown.fire(K)})),this._register(this._textArea.onKeyUp(j=>{const K=new k.y(j);this._onKeyUp.fire(K)})),this._register(this._textArea.onCompositionStart(j=>{C.al&&console.log("[compositionstart]",j);const K=new F;if(this._currentComposition){this._currentComposition=K;return}if(this._currentComposition=K,this._OS===2&&P&&P.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===j.data&&(P.code==="ArrowRight"||P.code==="ArrowLeft")){C.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",j),K.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:j.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:j.data});return}this._onCompositionStart.fire({data:j.data})})),this._register(this._textArea.onCompositionUpdate(j=>{C.al&&console.log("[compositionupdate]",j);const K=this._currentComposition;if(!K)return;if(this._browser.isAndroid){const ce=C.un.readFromTextArea(this._textArea,this._textAreaState),_e=C.un.deduceAndroidCompositionInput(this._textAreaState,ce);this._textAreaState=ce,this._onType.fire(_e),this._onCompositionUpdate.fire(j);return}const ie=K.handleCompositionUpdate(j.data);this._textAreaState=C.un.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(ie),this._onCompositionUpdate.fire(j)})),this._register(this._textArea.onCompositionEnd(j=>{C.al&&console.log("[compositionend]",j);const K=this._currentComposition;if(!K)return;if(this._currentComposition=null,this._browser.isAndroid){const ce=C.un.readFromTextArea(this._textArea,this._textAreaState),_e=C.un.deduceAndroidCompositionInput(this._textAreaState,ce);this._textAreaState=ce,this._onType.fire(_e),this._onCompositionEnd.fire();return}const ie=K.handleCompositionUpdate(j.data);this._textAreaState=C.un.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(ie),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(j=>{if(C.al&&console.log("[input]",j),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const K=C.un.readFromTextArea(this._textArea,this._textAreaState),ie=C.un.deduceInput(this._textAreaState,K,this._OS===2);ie.replacePrevCharCnt===0&&ie.text.length===1&&(b.ZG(ie.text.charCodeAt(0))||ie.text.charCodeAt(0)===127)||(this._textAreaState=K,(ie.text!==""||ie.replacePrevCharCnt!==0||ie.replaceNextCharCnt!==0||ie.positionDelta!==0)&&this._onType.fire(ie))})),this._register(this._textArea.onCut(j=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(j),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(j=>{this._ensureClipboardGetsEditorSelection(j)})),this._register(this._textArea.onPaste(j=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),j.preventDefault(),!j.clipboardData)return;let[K,ie]=G.getTextData(j.clipboardData);K&&(ie=ie||V.INSTANCE.get(K),this._onPaste.fire({text:K,metadata:ie}))})),this._register(this._textArea.onFocus(()=>{const j=this._hasFocus;this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!j&&this._hasFocus&&(this._asyncFocusGainWriteScreenReaderContent.value||(this._asyncFocusGainWriteScreenReaderContent.value=new T.pY(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)),this._asyncFocusGainWriteScreenReaderContent.value.schedule())})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let $=0;return X.nm(this._textArea.ownerDocument,"selectionchange",J=>{if(L.B.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const se=Date.now(),re=se-$;if($=se,re<5)return;const he=se-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),he<100||!this._textAreaState.selection)return;const H=this._textArea.getValue();if(this._textAreaState.value!==H)return;const P=this._textArea.getSelectionStart(),j=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===P&&this._textAreaState.selectionEnd===j)return;const K=this._textAreaState.deduceEditorPosition(P),ie=this._host.deduceModelPosition(K[0],K[1],K[2]),ce=this._textAreaState.deduceEditorPosition(j),_e=this._host.deduceModelPosition(ce[0],ce[1],ce[2]),Ee=new S.Y(ie.lineNumber,ie.column,_e.lineNumber,_e.column);this._onSelectionChangeRequest.fire(Ee)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus($){this._hasFocus!==$&&(this._hasFocus=$,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeNativeTextAreaContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState($,J){this._hasFocus||(J=J.collapseSelection()),J.writeToTextArea($,this._textArea,this._hasFocus),this._textAreaState=J}writeNativeTextAreaContent($){!this._accessibilityService.isScreenReaderOptimized()&&$==="render"||this._currentComposition||(this._logService.trace(`writeTextAreaState(reason: ${$})`),this._setAndWriteTextAreaState($,this._host.getScreenReaderContent()))}_ensureClipboardGetsEditorSelection($){const J=this._host.getDataToCopy(),se={version:1,isFromEmptySelection:J.isFromEmptySelection,multicursorText:J.multicursorText,mode:J.mode};V.INSTANCE.set(this._browser.isFirefox?J.text.replace(/\r\n/g,`
`):J.text,se),$.preventDefault(),$.clipboardData&&G.setTextData($.clipboardData,J.text,J.html,se)}};Y=u([N(4,_.F7),N(5,a.VZ)],Y);const G={getTextData(ne){const $=ne.getData(y.v.text);let J=null;const se=ne.getData("vscode-editor-data");if(typeof se=="string")try{J=JSON.parse(se),J.version!==1&&(J=null)}catch(re){}return $.length===0&&J===null&&ne.files.length>0?[Array.prototype.slice.call(ne.files,0).map(he=>he.name).join(`
`),null]:[$,J]},setTextData(ne,$,J,se){ne.setData(y.v.text,$),typeof J=="string"&&ne.setData("text/html",J),ne.setData("vscode-editor-data",JSON.stringify(se))}};class Z extends B.JT{get ownerDocument(){return this._actual.ownerDocument}constructor($){super(),this._actual=$,this.onKeyDown=this._register(new v.Y(this._actual,"keydown")).event,this.onKeyUp=this._register(new v.Y(this._actual,"keyup")).event,this.onCompositionStart=this._register(new v.Y(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new v.Y(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new v.Y(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new v.Y(this._actual,"beforeinput")).event,this.onInput=this._register(new v.Y(this._actual,"input")).event,this.onCut=this._register(new v.Y(this._actual,"cut")).event,this.onCopy=this._register(new v.Y(this._actual,"copy")).event,this.onPaste=this._register(new v.Y(this._actual,"paste")).event,this.onFocus=this._register(new v.Y(this._actual,"focus")).event,this.onBlur=this._register(new v.Y(this._actual,"blur")).event,this._onSyntheticTap=this._register(new M.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>L.B.onKeyDown())),this._register(this.onBeforeInput(()=>L.B.onBeforeInput())),this._register(this.onInput(()=>L.B.onInput())),this._register(this.onKeyUp(()=>L.B.onKeyUp())),this._register(X.nm(this._actual,O.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const $=X.Ay(this._actual);return $?$.activeElement===this._actual:this._actual.isConnected?this._actual.ownerDocument.activeElement===this._actual:!1}setIgnoreSelectionChangeTime($){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue($,J){const se=this._actual;se.value!==J&&(this.setIgnoreSelectionChangeTime("setValue"),se.value=J)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange($,J,se){const re=this._actual;let he=null;const H=X.Ay(re);H?he=H.activeElement:he=re.ownerDocument.activeElement;const P=X.Jj(he),j=he===re,K=re.selectionStart,ie=re.selectionEnd;if(j&&K===J&&ie===se){D.vU&&P.parent!==P&&re.focus();return}if(j){this.setIgnoreSelectionChangeTime("setSelectionRange"),re.setSelectionRange(J,se),D.vU&&P.parent!==P&&re.focus();return}try{const ce=X.vL(re);this.setIgnoreSelectionChangeTime("setSelectionRange"),re.focus(),re.setSelectionRange(J,se),X._0(re,ce)}catch(ce){}}}},64977:function(Gt,ze,c){"use strict";c.d(ze,{al:function(){return v},ee:function(){return L},un:function(){return k}});var D=c(80360),X=c(54125);const v=!1;class k{constructor(M,B,y,b,C){this.value=M,this.selectionStart=B,this.selectionEnd=y,this.selection=b,this.newlineCountBeforeSelection=C}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(M,B){const y=M.getValue(),b=M.getSelectionStart(),C=M.getSelectionEnd();let S;if(B){const _=y.substring(0,b),a=B.value.substring(0,B.selectionStart);_===a&&(S=B.newlineCountBeforeSelection)}return new k(y,b,C,null,S)}collapseSelection(){return this.selectionStart===this.value.length?this:new k(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(M,B,y){v&&console.log(`writeToTextArea ${M}: ${this.toString()}`),B.setValue(M,this.value),y&&B.setSelectionRange(M,this.selectionStart,this.selectionEnd)}deduceEditorPosition(M){var B,y,b,C,S,_,a,u;if(M<=this.selectionStart){const R=this.value.substring(M,this.selectionStart);return this._finishDeduceEditorPosition((y=(B=this.selection)===null||B===void 0?void 0:B.getStartPosition())!==null&&y!==void 0?y:null,R,-1)}if(M>=this.selectionEnd){const R=this.value.substring(this.selectionEnd,M);return this._finishDeduceEditorPosition((C=(b=this.selection)===null||b===void 0?void 0:b.getEndPosition())!==null&&C!==void 0?C:null,R,1)}const N=this.value.substring(this.selectionStart,M);if(N.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition((_=(S=this.selection)===null||S===void 0?void 0:S.getStartPosition())!==null&&_!==void 0?_:null,N,1);const O=this.value.substring(M,this.selectionEnd);return this._finishDeduceEditorPosition((u=(a=this.selection)===null||a===void 0?void 0:a.getEndPosition())!==null&&u!==void 0?u:null,O,-1)}_finishDeduceEditorPosition(M,B,y){let b=0,C=-1;for(;(C=B.indexOf(`
`,C+1))!==-1;)b++;return[M,y*B.length,b]}static deduceInput(M,B,y){if(!M)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};v&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${M.toString()}`),console.log(`CURRENT STATE: ${B.toString()}`));const b=Math.min(D.Mh(M.value,B.value),M.selectionStart,B.selectionStart),C=Math.min(D.P1(M.value,B.value),M.value.length-M.selectionEnd,B.value.length-B.selectionEnd),S=M.value.substring(b,M.value.length-C),_=B.value.substring(b,B.value.length-C),a=M.selectionStart-b,u=M.selectionEnd-b,N=B.selectionStart-b,O=B.selectionEnd-b;if(v&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${S}>, selectionStart: ${a}, selectionEnd: ${u}`),console.log(`AFTER DIFFING CURRENT STATE: <${_}>, selectionStart: ${N}, selectionEnd: ${O}`)),N===O){const V=M.selectionStart-b;return v&&console.log(`REMOVE PREVIOUS: ${V} chars`),{text:_,replacePrevCharCnt:V,replaceNextCharCnt:0,positionDelta:0}}const R=u-a;return{text:_,replacePrevCharCnt:R,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(M,B){if(!M)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(v&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${M.toString()}`),console.log(`CURRENT STATE: ${B.toString()}`)),M.value===B.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:B.selectionEnd-M.selectionEnd};const y=Math.min(D.Mh(M.value,B.value),M.selectionEnd),b=Math.min(D.P1(M.value,B.value),M.value.length-M.selectionEnd),C=M.value.substring(y,M.value.length-b),S=B.value.substring(y,B.value.length-b),_=M.selectionStart-y,a=M.selectionEnd-y,u=B.selectionStart-y,N=B.selectionEnd-y;return v&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${C}>, selectionStart: ${_}, selectionEnd: ${a}`),console.log(`AFTER DIFFING CURRENT STATE: <${S}>, selectionStart: ${u}, selectionEnd: ${N}`)),{text:S,replacePrevCharCnt:a,replaceNextCharCnt:C.length-a,positionDelta:N-S.length}}}k.EMPTY=new k("",0,0,null,void 0);class L{static _getPageOfLine(M,B){return Math.floor((M-1)/B)}static _getRangeForPage(M,B){const y=M*B,b=y+1,C=y+B;return new X.e(b,1,C+1,1)}static fromEditorSelection(M,B,y,b){const S=L._getPageOfLine(B.startLineNumber,y),_=L._getRangeForPage(S,y),a=L._getPageOfLine(B.endLineNumber,y),u=L._getRangeForPage(a,y);let N=_.intersectRanges(new X.e(1,1,B.startLineNumber,B.startColumn));if(b&&M.getValueLengthInRange(N,1)>500){const Z=M.modifyPosition(N.getEndPosition(),-500);N=X.e.fromPositions(Z,N.getEndPosition())}const O=M.getValueInRange(N,1),R=M.getLineCount(),V=M.getLineMaxColumn(R);let F=u.intersectRanges(new X.e(B.endLineNumber,B.endColumn,R,V));if(b&&M.getValueLengthInRange(F,1)>500){const Z=M.modifyPosition(F.getStartPosition(),500);F=X.e.fromPositions(F.getStartPosition(),Z)}const Y=M.getValueInRange(F,1);let G;if(S===a||S+1===a)G=M.getValueInRange(B,1);else{const Z=_.intersectRanges(B),ne=u.intersectRanges(B);G=M.getValueInRange(Z,1)+String.fromCharCode(8230)+M.getValueInRange(ne,1)}return b&&G.length>2*500&&(G=G.substring(0,500)+String.fromCharCode(8230)+G.substring(G.length-500,G.length)),new k(O+G+Y,O.length,O.length+G.length,B,N.endLineNumber-N.startLineNumber)}}},55508:function(Gt,ze,c){"use strict";c.d(ze,{wk:function(){return se},Ox:function(){return Z}});var D=c(18493),X=c(51678),v=c(22968),k=c(1891),L=c(4593),T=c(79602),M=c(46656),B=c(79946),y=c(54125);class b{static columnSelect(P,j,K,ie,ce,_e){const Ee=Math.abs(ce-K)+1,Ce=K>ce,pe=ie>_e,xe=ie<_e,x=[];for(let rt=0;rt<Ee;rt++){const Xe=K+(Ce?-rt:rt),Ze=P.columnFromVisibleColumn(j,Xe,ie),lt=P.columnFromVisibleColumn(j,Xe,_e),ut=P.visibleColumnFromColumn(j,new B.L(Xe,Ze)),ct=P.visibleColumnFromColumn(j,new B.L(Xe,lt));xe&&(ut>_e||ct<ie)||pe&&(ct>ie||ut<_e)||x.push(new M.rS(new y.e(Xe,Ze,Xe,Ze),0,0,new B.L(Xe,lt),0))}if(x.length===0)for(let rt=0;rt<Ee;rt++){const Xe=K+(Ce?-rt:rt),Ze=j.getLineMaxColumn(Xe);x.push(new M.rS(new y.e(Xe,Ze,Xe,Ze),0,0,new B.L(Xe,Ze),0))}return{viewStates:x,reversed:Ce,fromLineNumber:K,fromVisualColumn:ie,toLineNumber:ce,toVisualColumn:_e}}static columnSelectLeft(P,j,K){let ie=K.toViewVisualColumn;return ie>0&&ie--,b.columnSelect(P,j,K.fromViewLineNumber,K.fromViewVisualColumn,K.toViewLineNumber,ie)}static columnSelectRight(P,j,K){let ie=0;const ce=Math.min(K.fromViewLineNumber,K.toViewLineNumber),_e=Math.max(K.fromViewLineNumber,K.toViewLineNumber);for(let Ce=ce;Ce<=_e;Ce++){const pe=j.getLineMaxColumn(Ce),xe=P.visibleColumnFromColumn(j,new B.L(Ce,pe));ie=Math.max(ie,xe)}let Ee=K.toViewVisualColumn;return Ee<ie&&Ee++,this.columnSelect(P,j,K.fromViewLineNumber,K.fromViewVisualColumn,K.toViewLineNumber,Ee)}static columnSelectUp(P,j,K,ie){const ce=ie?P.pageSize:1,_e=Math.max(1,K.toViewLineNumber-ce);return this.columnSelect(P,j,K.fromViewLineNumber,K.fromViewVisualColumn,_e,K.toViewVisualColumn)}static columnSelectDown(P,j,K,ie){const ce=ie?P.pageSize:1,_e=Math.min(j.getLineCount(),K.toViewLineNumber+ce);return this.columnSelect(P,j,K.fromViewLineNumber,K.fromViewVisualColumn,_e,K.toViewVisualColumn)}}var C=c(8243),S=c(35392),_=c(79123),a=c(88582),u=c(81002),N=c(26586),O=c(97480);const R=0;class V extends L._l{runEditorCommand(P,j,K){const ie=j._getViewModel();ie&&this.runCoreEditorCommand(ie,K||{})}}var F;(function(H){const P=function(K){if(!v.Kn(K))return!1;const ie=K;return!(!v.HD(ie.to)||!v.o8(ie.by)&&!v.HD(ie.by)||!v.o8(ie.value)&&!v.hj(ie.value)||!v.o8(ie.revealCursor)&&!v.jn(ie.revealCursor))};H.metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:P,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},H.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},H.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function j(K){let ie;switch(K.to){case H.RawDirection.Up:ie=1;break;case H.RawDirection.Right:ie=2;break;case H.RawDirection.Down:ie=3;break;case H.RawDirection.Left:ie=4;break;default:return null}let ce;switch(K.by){case H.RawUnit.Line:ce=1;break;case H.RawUnit.WrappedLine:ce=2;break;case H.RawUnit.Page:ce=3;break;case H.RawUnit.HalfPage:ce=4;break;case H.RawUnit.Editor:ce=5;break;case H.RawUnit.Column:ce=6;break;default:ce=2}const _e=Math.floor(K.value||1),Ee=!!K.revealCursor;return{direction:ie,unit:ce,value:_e,revealCursor:Ee,select:!!K.select}}H.parse=j})(F||(F={}));var Y;(function(H){const P=function(j){if(!v.Kn(j))return!1;const K=j;return!(!v.hj(K.lineNumber)&&!v.HD(K.lineNumber)||!v.o8(K.at)&&!v.HD(K.at))};H.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:P,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},H.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(Y||(Y={}));class G{constructor(P){P.addImplementation(1e4,"code-editor",(j,K)=>{const ie=j.get(T.$).getFocusedCodeEditor();return ie&&ie.hasTextFocus()?this._runEditorCommand(j,ie,K):!1}),P.addImplementation(1e3,"generic-dom-input-textarea",(j,K)=>{const ie=(0,O.vY)();return ie&&["input","textarea"].indexOf(ie.tagName.toLowerCase())>=0?(this.runDOMCommand(ie),!0):!1}),P.addImplementation(0,"generic-dom",(j,K)=>{const ie=j.get(T.$).getActiveCodeEditor();return ie?(ie.focus(),this._runEditorCommand(j,ie,K)):!1})}_runEditorCommand(P,j,K){const ie=this.runEditorCommand(P,j,K);return ie||!0}}var Z;(function(H){class P extends V{constructor(He){super(He),this._inSelectionMode=He.inSelectionMode}runCoreEditorCommand(He,Dt){if(!Dt.position)return;He.model.pushStackElement(),He.setCursorStates(Dt.source,3,[S.P.moveTo(He,He.getPrimaryCursorState(),this._inSelectionMode,Dt.position,Dt.viewPosition)])&&Dt.revealType!==2&&He.revealPrimaryCursor(Dt.source,!0,!0)}}H.MoveTo=(0,L.fK)(new P({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),H.MoveToSelect=(0,L.fK)(new P({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class j extends V{runCoreEditorCommand(He,Dt){He.model.pushStackElement();const gt=this._getColumnSelectResult(He,He.getPrimaryCursorState(),He.getCursorColumnSelectData(),Dt);gt!==null&&(He.setCursorStates(Dt.source,3,gt.viewStates.map(Re=>M.Vi.fromViewState(Re))),He.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:gt.fromLineNumber,fromViewVisualColumn:gt.fromVisualColumn,toViewLineNumber:gt.toLineNumber,toViewVisualColumn:gt.toVisualColumn}),gt.reversed?He.revealTopMostCursor(Dt.source):He.revealBottomMostCursor(Dt.source))}}H.ColumnSelect=(0,L.fK)(new class extends j{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(ct,He,Dt,gt){if(typeof gt.position=="undefined"||typeof gt.viewPosition=="undefined"||typeof gt.mouseColumn=="undefined")return null;const Re=ct.model.validatePosition(gt.position),st=ct.coordinatesConverter.validateViewPosition(new B.L(gt.viewPosition.lineNumber,gt.viewPosition.column),Re),Tt=gt.doColumnSelect?Dt.fromViewLineNumber:st.lineNumber,xt=gt.doColumnSelect?Dt.fromViewVisualColumn:gt.mouseColumn-1;return b.columnSelect(ct.cursorConfig,ct,Tt,xt,st.lineNumber,gt.mouseColumn-1)}}),H.CursorColumnSelectLeft=(0,L.fK)(new class extends j{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(ct,He,Dt,gt){return b.columnSelectLeft(ct.cursorConfig,ct,Dt)}}),H.CursorColumnSelectRight=(0,L.fK)(new class extends j{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(ct,He,Dt,gt){return b.columnSelectRight(ct.cursorConfig,ct,Dt)}});class K extends j{constructor(He){super(He),this._isPaged=He.isPaged}_getColumnSelectResult(He,Dt,gt,Re){return b.columnSelectUp(He.cursorConfig,He,gt,this._isPaged)}}H.CursorColumnSelectUp=(0,L.fK)(new K({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:3600,linux:{primary:0}}})),H.CursorColumnSelectPageUp=(0,L.fK)(new K({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:3595,linux:{primary:0}}}));class ie extends j{constructor(He){super(He),this._isPaged=He.isPaged}_getColumnSelectResult(He,Dt,gt,Re){return b.columnSelectDown(He.cursorConfig,He,gt,this._isPaged)}}H.CursorColumnSelectDown=(0,L.fK)(new ie({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:3602,linux:{primary:0}}})),H.CursorColumnSelectPageDown=(0,L.fK)(new ie({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:3596,linux:{primary:0}}}));class ce extends V{constructor(){super({id:"cursorMove",precondition:void 0,metadata:S.N.metadata})}runCoreEditorCommand(He,Dt){const gt=S.N.parse(Dt);gt&&this._runCursorMove(He,Dt.source,gt)}_runCursorMove(He,Dt,gt){He.model.pushStackElement(),He.setCursorStates(Dt,3,ce._move(He,He.getCursorStates(),gt)),He.revealPrimaryCursor(Dt,!0)}static _move(He,Dt,gt){const Re=gt.select,st=gt.value;switch(gt.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return S.P.simpleMove(He,Dt,gt.direction,Re,st,gt.unit);case 11:case 13:case 12:case 14:return S.P.viewportMove(He,Dt,gt.direction,Re,st);default:return null}}}H.CursorMoveImpl=ce,H.CursorMove=(0,L.fK)(new ce);class _e extends V{constructor(He){super(He),this._staticArgs=He.args}runCoreEditorCommand(He,Dt){let gt=this._staticArgs;this._staticArgs.value===-1&&(gt={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:Dt.pageSize||He.cursorConfig.pageSize}),He.model.pushStackElement(),He.setCursorStates(Dt.source,3,S.P.simpleMove(He,He.getCursorStates(),gt.direction,gt.select,gt.value,gt.unit)),He.revealPrimaryCursor(Dt.source,!0)}}H.CursorLeft=(0,L.fK)(new _e({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),H.CursorLeftSelect=(0,L.fK)(new _e({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:1039}})),H.CursorRight=(0,L.fK)(new _e({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),H.CursorRightSelect=(0,L.fK)(new _e({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:1041}})),H.CursorUp=(0,L.fK)(new _e({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),H.CursorUpSelect=(0,L.fK)(new _e({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),H.CursorPageUp=(0,L.fK)(new _e({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:11}})),H.CursorPageUpSelect=(0,L.fK)(new _e({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:1035}})),H.CursorDown=(0,L.fK)(new _e({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),H.CursorDownSelect=(0,L.fK)(new _e({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),H.CursorPageDown=(0,L.fK)(new _e({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:12}})),H.CursorPageDownSelect=(0,L.fK)(new _e({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:1036}})),H.CreateCursor=(0,L.fK)(new class extends V{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(ct,He){if(!He.position)return;let Dt;He.wholeLine?Dt=S.P.line(ct,ct.getPrimaryCursorState(),!1,He.position,He.viewPosition):Dt=S.P.moveTo(ct,ct.getPrimaryCursorState(),!1,He.position,He.viewPosition);const gt=ct.getCursorStates();if(gt.length>1){const Re=Dt.modelState?Dt.modelState.position:null,st=Dt.viewState?Dt.viewState.position:null;for(let Tt=0,xt=gt.length;Tt<xt;Tt++){const vt=gt[Tt];if(!(Re&&!vt.modelState.selection.containsPosition(Re))&&!(st&&!vt.viewState.selection.containsPosition(st))){gt.splice(Tt,1),ct.model.pushStackElement(),ct.setCursorStates(He.source,3,gt);return}}}gt.push(Dt),ct.model.pushStackElement(),ct.setCursorStates(He.source,3,gt)}}),H.LastCursorMoveToSelect=(0,L.fK)(new class extends V{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(ct,He){if(!He.position)return;const Dt=ct.getLastAddedCursorIndex(),gt=ct.getCursorStates(),Re=gt.slice(0);Re[Dt]=S.P.moveTo(ct,gt[Dt],!0,He.position,He.viewPosition),ct.model.pushStackElement(),ct.setCursorStates(He.source,3,Re)}});class Ee extends V{constructor(He){super(He),this._inSelectionMode=He.inSelectionMode}runCoreEditorCommand(He,Dt){He.model.pushStackElement(),He.setCursorStates(Dt.source,3,S.P.moveToBeginningOfLine(He,He.getCursorStates(),this._inSelectionMode)),He.revealPrimaryCursor(Dt.source,!0)}}H.CursorHome=(0,L.fK)(new Ee({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),H.CursorHomeSelect=(0,L.fK)(new Ee({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class Ce extends V{constructor(He){super(He),this._inSelectionMode=He.inSelectionMode}runCoreEditorCommand(He,Dt){He.model.pushStackElement(),He.setCursorStates(Dt.source,3,this._exec(He.getCursorStates())),He.revealPrimaryCursor(Dt.source,!0)}_exec(He){const Dt=[];for(let gt=0,Re=He.length;gt<Re;gt++){const st=He[gt],Tt=st.modelState.position.lineNumber;Dt[gt]=M.Vi.fromModelState(st.modelState.move(this._inSelectionMode,Tt,1,0))}return Dt}}H.CursorLineStart=(0,L.fK)(new Ce({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:0,mac:{primary:287}}})),H.CursorLineStartSelect=(0,L.fK)(new Ce({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:0,mac:{primary:1311}}}));class pe extends V{constructor(He){super(He),this._inSelectionMode=He.inSelectionMode}runCoreEditorCommand(He,Dt){He.model.pushStackElement(),He.setCursorStates(Dt.source,3,S.P.moveToEndOfLine(He,He.getCursorStates(),this._inSelectionMode,Dt.sticky||!1)),He.revealPrimaryCursor(Dt.source,!0)}}H.CursorEnd=(0,L.fK)(new pe({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:R,kbExpr:a.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:D.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),H.CursorEndSelect=(0,L.fK)(new pe({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:R,kbExpr:a.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:D.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class xe extends V{constructor(He){super(He),this._inSelectionMode=He.inSelectionMode}runCoreEditorCommand(He,Dt){He.model.pushStackElement(),He.setCursorStates(Dt.source,3,this._exec(He,He.getCursorStates())),He.revealPrimaryCursor(Dt.source,!0)}_exec(He,Dt){const gt=[];for(let Re=0,st=Dt.length;Re<st;Re++){const Tt=Dt[Re],xt=Tt.modelState.position.lineNumber,vt=He.model.getLineMaxColumn(xt);gt[Re]=M.Vi.fromModelState(Tt.modelState.move(this._inSelectionMode,xt,vt,0))}return gt}}H.CursorLineEnd=(0,L.fK)(new xe({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:0,mac:{primary:291}}})),H.CursorLineEndSelect=(0,L.fK)(new xe({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:0,mac:{primary:1315}}}));class x extends V{constructor(He){super(He),this._inSelectionMode=He.inSelectionMode}runCoreEditorCommand(He,Dt){He.model.pushStackElement(),He.setCursorStates(Dt.source,3,S.P.moveToBeginningOfBuffer(He,He.getCursorStates(),this._inSelectionMode)),He.revealPrimaryCursor(Dt.source,!0)}}H.CursorTop=(0,L.fK)(new x({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:2062,mac:{primary:2064}}})),H.CursorTopSelect=(0,L.fK)(new x({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class rt extends V{constructor(He){super(He),this._inSelectionMode=He.inSelectionMode}runCoreEditorCommand(He,Dt){He.model.pushStackElement(),He.setCursorStates(Dt.source,3,S.P.moveToEndOfBuffer(He,He.getCursorStates(),this._inSelectionMode)),He.revealPrimaryCursor(Dt.source,!0)}}H.CursorBottom=(0,L.fK)(new rt({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:2061,mac:{primary:2066}}})),H.CursorBottomSelect=(0,L.fK)(new rt({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class Xe extends V{constructor(){super({id:"editorScroll",precondition:void 0,metadata:F.metadata})}determineScrollMethod(He){const Dt=[6],gt=[1,2,3,4,5,6],Re=[4,2],st=[1,3];return Dt.includes(He.unit)&&Re.includes(He.direction)?this._runHorizontalEditorScroll.bind(this):gt.includes(He.unit)&&st.includes(He.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(He,Dt){const gt=F.parse(Dt);if(!gt)return;const Re=this.determineScrollMethod(gt);Re&&Re(He,Dt.source,gt)}_runVerticalEditorScroll(He,Dt,gt){const Re=this._computeDesiredScrollTop(He,gt);if(gt.revealCursor){const st=He.getCompletelyVisibleViewRangeAtScrollTop(Re);He.setCursorStates(Dt,3,[S.P.findPositionInViewportIfOutside(He,He.getPrimaryCursorState(),st,gt.select)])}He.viewLayout.setScrollPosition({scrollTop:Re},0)}_computeDesiredScrollTop(He,Dt){if(Dt.unit===1){const st=He.viewLayout.getFutureViewport(),Tt=He.getCompletelyVisibleViewRangeAtScrollTop(st.top),xt=He.coordinatesConverter.convertViewRangeToModelRange(Tt);let vt;Dt.direction===1?vt=Math.max(1,xt.startLineNumber-Dt.value):vt=Math.min(He.model.getLineCount(),xt.startLineNumber+Dt.value);const we=He.coordinatesConverter.convertModelPositionToViewPosition(new B.L(vt,1));return He.viewLayout.getVerticalOffsetForLineNumber(we.lineNumber)}if(Dt.unit===5){let st=0;return Dt.direction===3&&(st=He.model.getLineCount()-He.cursorConfig.pageSize),He.viewLayout.getVerticalOffsetForLineNumber(st)}let gt;Dt.unit===3?gt=He.cursorConfig.pageSize*Dt.value:Dt.unit===4?gt=Math.round(He.cursorConfig.pageSize/2)*Dt.value:gt=Dt.value;const Re=(Dt.direction===1?-1:1)*gt;return He.viewLayout.getCurrentScrollTop()+Re*He.cursorConfig.lineHeight}_runHorizontalEditorScroll(He,Dt,gt){const Re=this._computeDesiredScrollLeft(He,gt);He.viewLayout.setScrollPosition({scrollLeft:Re},0)}_computeDesiredScrollLeft(He,Dt){const gt=(Dt.direction===4?-1:1)*Dt.value;return He.viewLayout.getCurrentScrollLeft()+gt*He.cursorConfig.typicalHalfwidthCharacterWidth}}H.EditorScrollImpl=Xe,H.EditorScroll=(0,L.fK)(new Xe),H.ScrollLineUp=(0,L.fK)(new class extends V{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(ct,He){H.EditorScroll.runCoreEditorCommand(ct,{to:F.RawDirection.Up,by:F.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:He.source})}}),H.ScrollPageUp=(0,L.fK)(new class extends V{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(ct,He){H.EditorScroll.runCoreEditorCommand(ct,{to:F.RawDirection.Up,by:F.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:He.source})}}),H.ScrollEditorTop=(0,L.fK)(new class extends V{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus}})}runCoreEditorCommand(ct,He){H.EditorScroll.runCoreEditorCommand(ct,{to:F.RawDirection.Up,by:F.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:He.source})}}),H.ScrollLineDown=(0,L.fK)(new class extends V{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(ct,He){H.EditorScroll.runCoreEditorCommand(ct,{to:F.RawDirection.Down,by:F.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:He.source})}}),H.ScrollPageDown=(0,L.fK)(new class extends V{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(ct,He){H.EditorScroll.runCoreEditorCommand(ct,{to:F.RawDirection.Down,by:F.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:He.source})}}),H.ScrollEditorBottom=(0,L.fK)(new class extends V{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus}})}runCoreEditorCommand(ct,He){H.EditorScroll.runCoreEditorCommand(ct,{to:F.RawDirection.Down,by:F.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:He.source})}}),H.ScrollLeft=(0,L.fK)(new class extends V{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus}})}runCoreEditorCommand(ct,He){H.EditorScroll.runCoreEditorCommand(ct,{to:F.RawDirection.Left,by:F.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:He.source})}}),H.ScrollRight=(0,L.fK)(new class extends V{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus}})}runCoreEditorCommand(ct,He){H.EditorScroll.runCoreEditorCommand(ct,{to:F.RawDirection.Right,by:F.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:He.source})}});class Ze extends V{constructor(He){super(He),this._inSelectionMode=He.inSelectionMode}runCoreEditorCommand(He,Dt){Dt.position&&(He.model.pushStackElement(),He.setCursorStates(Dt.source,3,[S.P.word(He,He.getPrimaryCursorState(),this._inSelectionMode,Dt.position)]),Dt.revealType!==2&&He.revealPrimaryCursor(Dt.source,!0,!0))}}H.WordSelect=(0,L.fK)(new Ze({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),H.WordSelectDrag=(0,L.fK)(new Ze({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),H.LastCursorWordSelect=(0,L.fK)(new class extends V{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(ct,He){if(!He.position)return;const Dt=ct.getLastAddedCursorIndex(),gt=ct.getCursorStates(),Re=gt.slice(0),st=gt[Dt];Re[Dt]=S.P.word(ct,st,st.modelState.hasSelection(),He.position),ct.model.pushStackElement(),ct.setCursorStates(He.source,3,Re)}});class lt extends V{constructor(He){super(He),this._inSelectionMode=He.inSelectionMode}runCoreEditorCommand(He,Dt){Dt.position&&(He.model.pushStackElement(),He.setCursorStates(Dt.source,3,[S.P.line(He,He.getPrimaryCursorState(),this._inSelectionMode,Dt.position,Dt.viewPosition)]),Dt.revealType!==2&&He.revealPrimaryCursor(Dt.source,!1,!0))}}H.LineSelect=(0,L.fK)(new lt({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),H.LineSelectDrag=(0,L.fK)(new lt({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class ut extends V{constructor(He){super(He),this._inSelectionMode=He.inSelectionMode}runCoreEditorCommand(He,Dt){if(!Dt.position)return;const gt=He.getLastAddedCursorIndex(),Re=He.getCursorStates(),st=Re.slice(0);st[gt]=S.P.line(He,Re[gt],this._inSelectionMode,Dt.position,Dt.viewPosition),He.model.pushStackElement(),He.setCursorStates(Dt.source,3,st)}}H.LastCursorLineSelect=(0,L.fK)(new ut({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),H.LastCursorLineSelectDrag=(0,L.fK)(new ut({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),H.CancelSelection=(0,L.fK)(new class extends V{constructor(){super({id:"cancelSelection",precondition:a.u.hasNonEmptySelection,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(ct,He){ct.model.pushStackElement(),ct.setCursorStates(He.source,3,[S.P.cancelSelection(ct,ct.getPrimaryCursorState())]),ct.revealPrimaryCursor(He.source,!0)}}),H.RemoveSecondaryCursors=(0,L.fK)(new class extends V{constructor(){super({id:"removeSecondaryCursors",precondition:a.u.hasMultipleSelections,kbOpts:{weight:R+1,kbExpr:a.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(ct,He){ct.model.pushStackElement(),ct.setCursorStates(He.source,3,[ct.getPrimaryCursorState()]),ct.revealPrimaryCursor(He.source,!0),(0,k.i7)(D.NC("removedCursor","Removed secondary cursors"))}}),H.RevealLine=(0,L.fK)(new class extends V{constructor(){super({id:"revealLine",precondition:void 0,metadata:Y.metadata})}runCoreEditorCommand(ct,He){const Dt=He,gt=Dt.lineNumber||0;let Re=typeof gt=="number"?gt+1:parseInt(gt)+1;Re<1&&(Re=1);const st=ct.model.getLineCount();Re>st&&(Re=st);const Tt=new y.e(Re,1,Re,ct.model.getLineMaxColumn(Re));let xt=0;if(Dt.at)switch(Dt.at){case Y.RawAtArgument.Top:xt=3;break;case Y.RawAtArgument.Center:xt=1;break;case Y.RawAtArgument.Bottom:xt=4;break;default:break}const vt=ct.coordinatesConverter.convertModelRangeToViewRange(Tt);ct.revealRange(He.source,!1,vt,xt,0)}}),H.SelectAll=new class extends G{constructor(){super(L.Sq)}runDOMCommand(ct){X.vU&&(ct.focus(),ct.select()),ct.ownerDocument.execCommand("selectAll")}runEditorCommand(ct,He,Dt){const gt=He._getViewModel();gt&&this.runCoreEditorCommand(gt,Dt)}runCoreEditorCommand(ct,He){ct.model.pushStackElement(),ct.setCursorStates("keyboard",3,[S.P.selectAll(ct,ct.getPrimaryCursorState())])}},H.SetSelection=(0,L.fK)(new class extends V{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(ct,He){He.selection&&(ct.model.pushStackElement(),ct.setCursorStates(He.source,3,[M.Vi.fromModelSelection(He.selection)]))}})})(Z||(Z={}));const ne=u.Ao.and(a.u.textInputFocus,a.u.columnSelection);function $(H,P){N.W.registerKeybindingRule({id:H,primary:P,when:ne,weight:R+1})}$(Z.CursorColumnSelectLeft.id,1039),$(Z.CursorColumnSelectRight.id,1041),$(Z.CursorColumnSelectUp.id,1040),$(Z.CursorColumnSelectPageUp.id,1035),$(Z.CursorColumnSelectDown.id,1042),$(Z.CursorColumnSelectPageDown.id,1036);function J(H){return H.register(),H}var se;(function(H){class P extends L._l{runEditorCommand(K,ie,ce){const _e=ie._getViewModel();_e&&this.runCoreEditingCommand(ie,_e,ce||{})}}H.CoreEditingCommand=P,H.LineBreakInsert=(0,L.fK)(new class extends P{constructor(){super({id:"lineBreakInsert",precondition:a.u.writable,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(j,K,ie){j.pushUndoStop(),j.executeCommands(this.id,_.u6.lineBreakInsert(K.cursorConfig,K.model,K.getCursorStates().map(ce=>ce.modelState.selection)))}}),H.Outdent=(0,L.fK)(new class extends P{constructor(){super({id:"outdent",precondition:a.u.writable,kbOpts:{weight:R,kbExpr:u.Ao.and(a.u.editorTextFocus,a.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(j,K,ie){j.pushUndoStop(),j.executeCommands(this.id,_.u6.outdent(K.cursorConfig,K.model,K.getCursorStates().map(ce=>ce.modelState.selection))),j.pushUndoStop()}}),H.Tab=(0,L.fK)(new class extends P{constructor(){super({id:"tab",precondition:a.u.writable,kbOpts:{weight:R,kbExpr:u.Ao.and(a.u.editorTextFocus,a.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(j,K,ie){j.pushUndoStop(),j.executeCommands(this.id,_.u6.tab(K.cursorConfig,K.model,K.getCursorStates().map(ce=>ce.modelState.selection))),j.pushUndoStop()}}),H.DeleteLeft=(0,L.fK)(new class extends P{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(j,K,ie){const[ce,_e]=C.A.deleteLeft(K.getPrevEditOperationType(),K.cursorConfig,K.model,K.getCursorStates().map(Ee=>Ee.modelState.selection),K.getCursorAutoClosedCharacters());ce&&j.pushUndoStop(),j.executeCommands(this.id,_e),K.setPrevEditOperationType(2)}}),H.DeleteRight=(0,L.fK)(new class extends P{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:R,kbExpr:a.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(j,K,ie){const[ce,_e]=C.A.deleteRight(K.getPrevEditOperationType(),K.cursorConfig,K.model,K.getCursorStates().map(Ee=>Ee.modelState.selection));ce&&j.pushUndoStop(),j.executeCommands(this.id,_e),K.setPrevEditOperationType(3)}}),H.Undo=new class extends G{constructor(){super(L.n_)}runDOMCommand(j){j.ownerDocument.execCommand("undo")}runEditorCommand(j,K,ie){if(!(!K.hasModel()||K.getOption(90)===!0))return K.getModel().undo()}},H.Redo=new class extends G{constructor(){super(L.kz)}runDOMCommand(j){j.ownerDocument.execCommand("redo")}runEditorCommand(j,K,ie){if(!(!K.hasModel()||K.getOption(90)===!0))return K.getModel().redo()}}})(se||(se={}));class re extends L.mY{constructor(P,j,K){super({id:P,precondition:void 0,metadata:K}),this._handlerId=j}runCommand(P,j){const K=P.get(T.$).getFocusedCodeEditor();K&&K.trigger("keyboard",this._handlerId,j)}}function he(H,P){J(new re("default:"+H,H)),J(new re(H,H,P))}he("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),he("replacePreviousChar"),he("compositionType"),he("compositionStart"),he("compositionEnd"),he("paste"),he("cut")},1764:function(Gt,ze,c){"use strict";c.d(ze,{CL:function(){return X},Pi:function(){return L},QI:function(){return v}});var D=c(39347);function X(T){return T&&typeof T.getEditorType=="function"?T.getEditorType()===D.g.ICodeEditor:!1}function v(T){return T&&typeof T.getEditorType=="function"?T.getEditorType()===D.g.IDiffEditor:!1}function k(T){return!!T&&typeof T=="object"&&typeof T.onDidChangeActiveEditor=="function"}function L(T){return X(T)?T:v(T)?T.getModifiedEditor():k(T)&&X(T.activeCodeEditor)?T.activeCodeEditor:null}},29945:function(Gt,ze,c){"use strict";c.d(ze,{AL:function(){return N},N5:function(){return a},Pp:function(){return S},YN:function(){return M},gy:function(){return _},kG:function(){return C},rU:function(){return B},t7:function(){return O},tC:function(){return u}});var D=c(97480),X=c(90042),v=c(9470),k=c(96925),L=c(83845),T=c(32955);class M{constructor(Y,G){this.x=Y,this.y=G,this._pageCoordinatesBrand=void 0}toClientCoordinates(Y){return new B(this.x-Y.scrollX,this.y-Y.scrollY)}}class B{constructor(Y,G){this.clientX=Y,this.clientY=G,this._clientCoordinatesBrand=void 0}toPageCoordinates(Y){return new M(this.clientX+Y.scrollX,this.clientY+Y.scrollY)}}class y{constructor(Y,G,Z,ne){this.x=Y,this.y=G,this.width=Z,this.height=ne,this._editorPagePositionBrand=void 0}}class b{constructor(Y,G){this.x=Y,this.y=G,this._positionRelativeToEditorBrand=void 0}}function C(F){const Y=D.i(F);return new y(Y.left,Y.top,Y.width,Y.height)}function S(F,Y,G){const Z=Y.width/F.offsetWidth,ne=Y.height/F.offsetHeight,$=(G.x-Y.x)/Z,J=(G.y-Y.y)/ne;return new b($,J)}class _ extends v.n{constructor(Y,G,Z){super(D.Jj(Z),Y),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=G,this.pos=new M(this.posx,this.posy),this.editorPos=C(Z),this.relativePos=S(Z,this.editorPos,this.pos)}}class a{constructor(Y){this._editorViewDomNode=Y}_create(Y){return new _(Y,!1,this._editorViewDomNode)}onContextMenu(Y,G){return D.nm(Y,"contextmenu",Z=>{G(this._create(Z))})}onMouseUp(Y,G){return D.nm(Y,"mouseup",Z=>{G(this._create(Z))})}onMouseDown(Y,G){return D.nm(Y,D.tw.MOUSE_DOWN,Z=>{G(this._create(Z))})}onPointerDown(Y,G){return D.nm(Y,D.tw.POINTER_DOWN,Z=>{G(this._create(Z),Z.pointerId)})}onMouseLeave(Y,G){return D.nm(Y,D.tw.MOUSE_LEAVE,Z=>{G(this._create(Z))})}onMouseMove(Y,G){return D.nm(Y,"mousemove",Z=>G(this._create(Z)))}}class u{constructor(Y){this._editorViewDomNode=Y}_create(Y){return new _(Y,!1,this._editorViewDomNode)}onPointerUp(Y,G){return D.nm(Y,"pointerup",Z=>{G(this._create(Z))})}onPointerDown(Y,G){return D.nm(Y,D.tw.POINTER_DOWN,Z=>{G(this._create(Z),Z.pointerId)})}onPointerLeave(Y,G){return D.nm(Y,D.tw.POINTER_LEAVE,Z=>{G(this._create(Z))})}onPointerMove(Y,G){return D.nm(Y,"pointermove",Z=>G(this._create(Z)))}}class N extends L.JT{constructor(Y){super(),this._editorViewDomNode=Y,this._globalPointerMoveMonitor=this._register(new X.C),this._keydownListener=null}startMonitoring(Y,G,Z,ne,$){this._keydownListener=D.mu(Y.ownerDocument,"keydown",J=>{J.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,J.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(Y,G,Z,J=>{ne(new _(J,!0,this._editorViewDomNode))},J=>{this._keydownListener.dispose(),$(J)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class O{constructor(Y){this._editor=Y,this._instanceId=++O._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new k.pY(()=>this.garbageCollect(),1e3)}createClassNameRef(Y){const G=this.getOrCreateRule(Y);return G.increaseRefCount(),{className:G.className,dispose:()=>{G.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(Y){const G=this.computeUniqueKey(Y);let Z=this._rules.get(G);if(!Z){const ne=this._counter++;Z=new R(G,`dyn-rule-${this._instanceId}-${ne}`,D.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,Y),this._rules.set(G,Z)}return Z}computeUniqueKey(Y){return JSON.stringify(Y)}garbageCollect(){for(const Y of this._rules.values())Y.hasReferences()||(this._rules.delete(Y.key),Y.dispose())}}O._idPool=0;class R{constructor(Y,G,Z,ne){this.key=Y,this.className=G,this.properties=ne,this._referenceCount=0,this._styleElementDisposables=new L.SL,this._styleElement=D.dS(Z,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(Y,G){let Z=`.${Y} {`;for(const ne in G){const $=G[ne];let J;typeof $=="object"?J=(0,T.n_1)($.id):J=$;const se=V(ne);Z+=`
	${se}: ${J};`}return Z+=`
}`,Z}dispose(){this._styleElementDisposables.dispose(),this._styleElement=void 0}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function V(F){return F.replace(/(^[A-Z])/,([Y])=>Y.toLowerCase()).replace(/([A-Z])/g,([Y])=>`-${Y.toLowerCase()}`)}},4593:function(Gt,ze,c){"use strict";c.d(ze,{AJ:function(){return R},QG:function(){return re},Qr:function(){return J},R6:function(){return Y},Sq:function(){return _e},Uc:function(){return H},_K:function(){return he},_l:function(){return F},fK:function(){return $},jY:function(){return G},kz:function(){return ce},mY:function(){return O},n_:function(){return ie},rn:function(){return se},sb:function(){return ne},x1:function(){return Z}});var D=c(18493),X=c(6685),v=c(79602),k=c(79946),L=c(15056),T=c(18540),M=c(61008),B=c(50544),y=c(81002),b=c(99068),C=c(26586),S=c(93796),_=c(53174),a=c(22968),u=c(58316),N=c(97480);class O{constructor(Ce){this.id=Ce.id,this.precondition=Ce.precondition,this._kbOpts=Ce.kbOpts,this._menuOpts=Ce.menuOpts,this.metadata=Ce.metadata}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const Ce=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const pe of Ce){let xe=pe.kbExpr;this.precondition&&(xe?xe=y.Ao.and(xe,this.precondition):xe=this.precondition);const x={id:this.id,weight:pe.weight,args:pe.args,when:xe,primary:pe.primary,secondary:pe.secondary,win:pe.win,linux:pe.linux,mac:pe.mac};C.W.registerKeybindingRule(x)}}B.P.registerCommand({id:this.id,handler:(Ce,pe)=>this.runCommand(Ce,pe),metadata:this.metadata})}_registerMenuItem(Ce){M.BH.appendMenuItem(Ce.menuId,{group:Ce.group,command:{id:this.id,title:Ce.title,icon:Ce.icon,precondition:this.precondition},when:Ce.when,order:Ce.order})}}class R extends O{constructor(){super(...arguments),this._implementations=[]}addImplementation(Ce,pe,xe,x){return this._implementations.push({priority:Ce,name:pe,implementation:xe,when:x}),this._implementations.sort((rt,Xe)=>Xe.priority-rt.priority),{dispose:()=>{for(let rt=0;rt<this._implementations.length;rt++)if(this._implementations[rt].implementation===xe){this._implementations.splice(rt,1);return}}}}runCommand(Ce,pe){const xe=Ce.get(u.VZ),x=Ce.get(y.i6);xe.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const rt of this._implementations){if(rt.when){const Ze=x.getContext((0,N.vY)());if(!rt.when.evaluate(Ze))continue}const Xe=rt.implementation(Ce,pe);if(Xe)return xe.trace(`Command '${this.id}' was handled by '${rt.name}'.`),typeof Xe=="boolean"?void 0:Xe}xe.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class V extends O{constructor(Ce,pe){super(pe),this.command=Ce}runCommand(Ce,pe){return this.command.runCommand(Ce,pe)}}class F extends O{static bindToContribution(Ce){return class extends F{constructor(xe){super(xe),this._callback=xe.handler}runEditorCommand(xe,x,rt){const Xe=Ce(x);Xe&&this._callback(Xe,rt)}}}static runEditorCommand(Ce,pe,xe,x){const rt=Ce.get(v.$),Xe=rt.getFocusedCodeEditor()||rt.getActiveCodeEditor();if(Xe)return Xe.invokeWithinContext(Ze=>{if(Ze.get(y.i6).contextMatchesRules(xe!=null?xe:void 0))return x(Ze,Xe,pe)})}runCommand(Ce,pe){return F.runEditorCommand(Ce,pe,this.precondition,(xe,x,rt)=>this.runEditorCommand(xe,x,rt))}}class Y extends F{static convertOptions(Ce){let pe;Array.isArray(Ce.menuOpts)?pe=Ce.menuOpts:Ce.menuOpts?pe=[Ce.menuOpts]:pe=[];function xe(x){return x.menuId||(x.menuId=M.eH.EditorContext),x.title||(x.title=Ce.label),x.when=y.Ao.and(Ce.precondition,x.when),x}return Array.isArray(Ce.contextMenuOpts)?pe.push(...Ce.contextMenuOpts.map(xe)):Ce.contextMenuOpts&&pe.push(xe(Ce.contextMenuOpts)),Ce.menuOpts=pe,Ce}constructor(Ce){super(Y.convertOptions(Ce)),this.label=Ce.label,this.alias=Ce.alias}runEditorCommand(Ce,pe,xe){return this.reportTelemetry(Ce,pe),this.run(Ce,pe,xe||{})}reportTelemetry(Ce,pe){Ce.get(_.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class G extends Y{constructor(){super(...arguments),this._implementations=[]}addImplementation(Ce,pe){return this._implementations.push([Ce,pe]),this._implementations.sort((xe,x)=>x[0]-xe[0]),{dispose:()=>{for(let xe=0;xe<this._implementations.length;xe++)if(this._implementations[xe][1]===pe){this._implementations.splice(xe,1);return}}}}run(Ce,pe,xe){for(const x of this._implementations){const rt=x[1](Ce,pe,xe);if(rt)return typeof rt=="boolean"?void 0:rt}}}class Z extends M.Ke{run(Ce,...pe){const xe=Ce.get(v.$),x=xe.getFocusedCodeEditor()||xe.getActiveCodeEditor();if(x)return x.invokeWithinContext(rt=>{var Xe,Ze;const lt=rt.get(y.i6),ut=rt.get(u.VZ);if(!lt.contextMatchesRules((Xe=this.desc.precondition)!==null&&Xe!==void 0?Xe:void 0)){ut.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,(Ze=this.desc.precondition)===null||Ze===void 0?void 0:Ze.serialize());return}return this.runEditorCommand(rt,x,...pe)})}}function ne(Ee,Ce){B.P.registerCommand(Ee,function(pe,...xe){const x=pe.get(b.TG),[rt,Xe]=xe;(0,a.p_)(X.o.isUri(rt)),(0,a.p_)(k.L.isIPosition(Xe));const Ze=pe.get(L.q).getModel(rt);if(Ze){const lt=k.L.lift(Xe);return x.invokeFunction(Ce,Ze,lt,...xe.slice(2))}return pe.get(T.S).createModelReference(rt).then(lt=>new Promise((ut,ct)=>{try{const He=x.invokeFunction(Ce,lt.object.textEditorModel,k.L.lift(Xe),xe.slice(2));ut(He)}catch(He){ct(He)}}).finally(()=>{lt.dispose()}))})}function $(Ee){return j.INSTANCE.registerEditorCommand(Ee),Ee}function J(Ee){const Ce=new Ee;return j.INSTANCE.registerEditorAction(Ce),Ce}function se(Ee){return j.INSTANCE.registerEditorAction(Ee),Ee}function re(Ee){j.INSTANCE.registerEditorAction(Ee)}function he(Ee,Ce,pe){j.INSTANCE.registerEditorContribution(Ee,Ce,pe)}var H;(function(Ee){function Ce(Xe){return j.INSTANCE.getEditorCommand(Xe)}Ee.getEditorCommand=Ce;function pe(){return j.INSTANCE.getEditorActions()}Ee.getEditorActions=pe;function xe(){return j.INSTANCE.getEditorContributions()}Ee.getEditorContributions=xe;function x(Xe){return j.INSTANCE.getEditorContributions().filter(Ze=>Xe.indexOf(Ze.id)>=0)}Ee.getSomeEditorContributions=x;function rt(){return j.INSTANCE.getDiffEditorContributions()}Ee.getDiffEditorContributions=rt})(H||(H={}));const P={EditorCommonContributions:"editor.contributions"};class j{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(Ce,pe,xe){this.editorContributions.push({id:Ce,ctor:pe,instantiation:xe})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(Ce){Ce.register(),this.editorActions.push(Ce)}getEditorActions(){return this.editorActions}registerEditorCommand(Ce){Ce.register(),this.editorCommands[Ce.id]=Ce}getEditorCommand(Ce){return this.editorCommands[Ce]||null}}j.INSTANCE=new j,S.B.add(P.EditorCommonContributions,j.INSTANCE);function K(Ee){return Ee.register(),Ee}const ie=K(new R({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:M.eH.MenubarEditMenu,group:"1_do",title:D.NC({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:M.eH.CommandPalette,group:"",title:D.NC("undo","Undo"),order:1}]}));K(new V(ie,{id:"default:undo",precondition:void 0}));const ce=K(new R({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:M.eH.MenubarEditMenu,group:"1_do",title:D.NC({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:M.eH.CommandPalette,group:"",title:D.NC("redo","Redo"),order:1}]}));K(new V(ce,{id:"default:redo",precondition:void 0}));const _e=K(new R({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:M.eH.MenubarSelectionMenu,group:"1_basic",title:D.NC({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:M.eH.CommandPalette,group:"",title:D.NC("selectAll","Select All"),order:1}]}))},85079:function(Gt,ze,c){"use strict";c.d(ze,{Gl:function(){return T},fo:function(){return L},vu:function(){return k}});var D=c(99068),X=c(6685),v=c(22968);const k=(0,D.yh)("IWorkspaceEditService");class L{constructor(y){this.metadata=y}static convert(y){return y.edits.map(b=>{if(T.is(b))return T.lift(b);if(M.is(b))return M.lift(b);throw new Error("Unsupported edit")})}}class T extends L{static is(y){return y instanceof T?!0:(0,v.Kn)(y)&&X.o.isUri(y.resource)&&(0,v.Kn)(y.textEdit)}static lift(y){return y instanceof T?y:new T(y.resource,y.textEdit,y.versionId,y.metadata)}constructor(y,b,C=void 0,S){super(S),this.resource=y,this.textEdit=b,this.versionId=C}}class M extends L{static is(y){return y instanceof M?!0:(0,v.Kn)(y)&&(!!y.newResource||!!y.oldResource)}static lift(y){return y instanceof M?y:new M(y.oldResource,y.newResource,y.options,y.metadata)}constructor(y,b,C={},S){super(S),this.oldResource=y,this.newResource=b,this.options=C}}},79602:function(Gt,ze,c){"use strict";c.d(ze,{$:function(){return X}});var D=c(99068);const X=(0,D.yh)("codeEditorService")},53085:function(Gt,ze,c){"use strict";c.d(ze,{Q8:function(){return os},eu:function(){return Jn}});var D=c(96925),X=c(83845),v=c(35541),k=c(46328),L=c(24913),T=c(43998),M=c(80360);const B="$initialize";let y=!1;function b(ui){T.$L&&(y||(y=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(ui.message))}class C{constructor(ke,Ke,Ue,bt){this.vsWorker=ke,this.req=Ke,this.method=Ue,this.args=bt,this.type=0}}class S{constructor(ke,Ke,Ue,bt){this.vsWorker=ke,this.seq=Ke,this.res=Ue,this.err=bt,this.type=1}}class _{constructor(ke,Ke,Ue,bt){this.vsWorker=ke,this.req=Ke,this.eventName=Ue,this.arg=bt,this.type=2}}class a{constructor(ke,Ke,Ue){this.vsWorker=ke,this.req=Ke,this.event=Ue,this.type=3}}class u{constructor(ke,Ke){this.vsWorker=ke,this.req=Ke,this.type=4}}class N{constructor(ke){this._workerId=-1,this._handler=ke,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(ke){this._workerId=ke}sendMessage(ke,Ke){const Ue=String(++this._lastSentReq);return new Promise((bt,it)=>{this._pendingReplies[Ue]={resolve:bt,reject:it},this._send(new C(this._workerId,Ue,ke,Ke))})}listen(ke,Ke){let Ue=null;const bt=new k.Q5({onWillAddFirstListener:()=>{Ue=String(++this._lastSentReq),this._pendingEmitters.set(Ue,bt),this._send(new _(this._workerId,Ue,ke,Ke))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(Ue),this._send(new u(this._workerId,Ue)),Ue=null}});return bt.event}handleMessage(ke){!ke||!ke.vsWorker||this._workerId!==-1&&ke.vsWorker!==this._workerId||this._handleMessage(ke)}_handleMessage(ke){switch(ke.type){case 1:return this._handleReplyMessage(ke);case 0:return this._handleRequestMessage(ke);case 2:return this._handleSubscribeEventMessage(ke);case 3:return this._handleEventMessage(ke);case 4:return this._handleUnsubscribeEventMessage(ke)}}_handleReplyMessage(ke){if(!this._pendingReplies[ke.seq]){console.warn("Got reply to unknown seq");return}const Ke=this._pendingReplies[ke.seq];if(delete this._pendingReplies[ke.seq],ke.err){let Ue=ke.err;ke.err.$isError&&(Ue=new Error,Ue.name=ke.err.name,Ue.message=ke.err.message,Ue.stack=ke.err.stack),Ke.reject(Ue);return}Ke.resolve(ke.res)}_handleRequestMessage(ke){const Ke=ke.req;this._handler.handleMessage(ke.method,ke.args).then(bt=>{this._send(new S(this._workerId,Ke,bt,void 0))},bt=>{bt.detail instanceof Error&&(bt.detail=(0,v.ri)(bt.detail)),this._send(new S(this._workerId,Ke,void 0,(0,v.ri)(bt)))})}_handleSubscribeEventMessage(ke){const Ke=ke.req,Ue=this._handler.handleEvent(ke.eventName,ke.arg)(bt=>{this._send(new a(this._workerId,Ke,bt))});this._pendingEvents.set(Ke,Ue)}_handleEventMessage(ke){if(!this._pendingEmitters.has(ke.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(ke.req).fire(ke.event)}_handleUnsubscribeEventMessage(ke){if(!this._pendingEvents.has(ke.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(ke.req).dispose(),this._pendingEvents.delete(ke.req)}_send(ke){const Ke=[];if(ke.type===0)for(let Ue=0;Ue<ke.args.length;Ue++)ke.args[Ue]instanceof ArrayBuffer&&Ke.push(ke.args[Ue]);else ke.type===1&&ke.res instanceof ArrayBuffer&&Ke.push(ke.res);this._handler.sendMessage(ke,Ke)}}class O extends X.JT{constructor(ke,Ke,Ue){super();let bt=null;this._worker=this._register(ke.create("vs/base/common/worker/simpleWorker",Wt=>{this._protocol.handleMessage(Wt)},Wt=>{bt==null||bt(Wt)})),this._protocol=new N({sendMessage:(Wt,Vt)=>{this._worker.postMessage(Wt,Vt)},handleMessage:(Wt,Vt)=>{if(typeof Ue[Wt]!="function")return Promise.reject(new Error("Missing method "+Wt+" on main thread host."));try{return Promise.resolve(Ue[Wt].apply(Ue,Vt))}catch(Ni){return Promise.reject(Ni)}},handleEvent:(Wt,Vt)=>{if(V(Wt)){const Ni=Ue[Wt].call(Ue,Vt);if(typeof Ni!="function")throw new Error(`Missing dynamic event ${Wt} on main thread host.`);return Ni}if(R(Wt)){const Ni=Ue[Wt];if(typeof Ni!="function")throw new Error(`Missing event ${Wt} on main thread host.`);return Ni}throw new Error(`Malformed event name ${Wt}`)}}),this._protocol.setWorkerId(this._worker.getId());let it=null;const fi=globalThis.require;typeof fi!="undefined"&&typeof fi.getConfig=="function"?it=fi.getConfig():typeof globalThis.requirejs!="undefined"&&(it=globalThis.requirejs.s.contexts._.config);const _i=(0,L.$E)(Ue);this._onModuleLoaded=this._protocol.sendMessage(B,[this._worker.getId(),JSON.parse(JSON.stringify(it)),Ke,_i]);const Te=(Wt,Vt)=>this._request(Wt,Vt),tt=(Wt,Vt)=>this._protocol.listen(Wt,Vt);this._lazyProxy=new Promise((Wt,Vt)=>{bt=Vt,this._onModuleLoaded.then(Ni=>{Wt(F(Ni,Te,tt))},Ni=>{Vt(Ni),this._onError("Worker failed to load "+Ke,Ni)})})}getProxyObject(){return this._lazyProxy}_request(ke,Ke){return new Promise((Ue,bt)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(ke,Ke).then(Ue,bt)},bt)})}_onError(ke,Ke){console.error(ke),console.info(Ke)}}function R(ui){return ui[0]==="o"&&ui[1]==="n"&&M.df(ui.charCodeAt(2))}function V(ui){return/^onDynamic/.test(ui)&&M.df(ui.charCodeAt(9))}function F(ui,ke,Ke){const Ue=fi=>function(){const _i=Array.prototype.slice.call(arguments,0);return ke(fi,_i)},bt=fi=>function(_i){return Ke(fi,_i)},it={};for(const fi of ui){if(V(fi)){it[fi]=bt(fi);continue}if(R(fi)){it[fi]=Ke(fi,void 0);continue}it[fi]=Ue(fi)}return it}class Y{constructor(ke,Ke){this._requestHandlerFactory=Ke,this._requestHandler=null,this._protocol=new N({sendMessage:(Ue,bt)=>{ke(Ue,bt)},handleMessage:(Ue,bt)=>this._handleMessage(Ue,bt),handleEvent:(Ue,bt)=>this._handleEvent(Ue,bt)})}onmessage(ke){this._protocol.handleMessage(ke)}_handleMessage(ke,Ke){if(ke===B)return this.initialize(Ke[0],Ke[1],Ke[2],Ke[3]);if(!this._requestHandler||typeof this._requestHandler[ke]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+ke));try{return Promise.resolve(this._requestHandler[ke].apply(this._requestHandler,Ke))}catch(Ue){return Promise.reject(Ue)}}_handleEvent(ke,Ke){if(!this._requestHandler)throw new Error("Missing requestHandler");if(V(ke)){const Ue=this._requestHandler[ke].call(this._requestHandler,Ke);if(typeof Ue!="function")throw new Error(`Missing dynamic event ${ke} on request handler.`);return Ue}if(R(ke)){const Ue=this._requestHandler[ke];if(typeof Ue!="function")throw new Error(`Missing event ${ke} on request handler.`);return Ue}throw new Error(`Malformed event name ${ke}`)}initialize(ke,Ke,Ue,bt){this._protocol.setWorkerId(ke);const _i=F(bt,(Te,tt)=>this._protocol.sendMessage(Te,tt),(Te,tt)=>this._protocol.listen(Te,tt));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(_i),Promise.resolve(getAllMethodNames(this._requestHandler))):(Ke&&(typeof Ke.baseUrl!="undefined"&&delete Ke.baseUrl,typeof Ke.paths!="undefined"&&typeof Ke.paths.vs!="undefined"&&delete Ke.paths.vs,typeof Ke.trustedTypesPolicy!==void 0&&delete Ke.trustedTypesPolicy,Ke.catchError=!0,globalThis.require.config(Ke)),new Promise((Te,tt)=>{const Wt=globalThis.require;Wt([Ue],Vt=>{if(this._requestHandler=Vt.create(_i),!this._requestHandler){tt(new Error("No RequestHandler!"));return}Te(getAllMethodNames(this._requestHandler))},tt)}))}}function G(ui){return new Y(ui,null)}var Z=c(13158);const ne=(0,Z.Z)("defaultWorkerFactory",{createScriptURL:ui=>ui});function $(ui){const ke=globalThis.MonacoEnvironment;if(ke){if(typeof ke.getWorker=="function")return ke.getWorker("workerMain.js",ui);if(typeof ke.getWorkerUrl=="function"){const Ke=ke.getWorkerUrl("workerMain.js",ui);return new Worker(ne?ne.createScriptURL(Ke):Ke,{name:ui})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function J(ui){return typeof ui.then=="function"}class se{constructor(ke,Ke,Ue,bt,it){this.id=Ke,this.label=Ue;const fi=$(Ue);J(fi)?this.worker=fi:this.worker=Promise.resolve(fi),this.postMessage(ke,[]),this.worker.then(_i=>{_i.onmessage=function(Te){bt(Te.data)},_i.onmessageerror=it,typeof _i.addEventListener=="function"&&_i.addEventListener("error",it)})}getId(){return this.id}postMessage(ke,Ke){var Ue;(Ue=this.worker)===null||Ue===void 0||Ue.then(bt=>{try{bt.postMessage(ke,Ke)}catch(it){(0,v.dL)(it),(0,v.dL)(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:it}))}})}dispose(){var ke;(ke=this.worker)===null||ke===void 0||ke.then(Ke=>Ke.terminate()),this.worker=null}}class re{constructor(ke){this._label=ke,this._webWorkerFailedBeforeError=!1}create(ke,Ke,Ue){const bt=++re.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new se(ke,bt,this._label||"anonymous"+bt,Ke,it=>{b(it),this._webWorkerFailedBeforeError=it,Ue(it)})}}re.LAST_WORKER_ID=0;var he=c(54125),H=c(79993),P=c(72221),j=c(6685),K=c(79946),ie=c(89442);class ce{constructor(ke,Ke,Ue,bt){this._uri=ke,this._lines=Ke,this._eol=Ue,this._versionId=bt,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(ke){ke.eol&&ke.eol!==this._eol&&(this._eol=ke.eol,this._lineStarts=null);const Ke=ke.changes;for(const Ue of Ke)this._acceptDeleteRange(Ue.range),this._acceptInsertText(new K.L(Ue.range.startLineNumber,Ue.range.startColumn),Ue.text);this._versionId=ke.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const ke=this._eol.length,Ke=this._lines.length,Ue=new Uint32Array(Ke);for(let bt=0;bt<Ke;bt++)Ue[bt]=this._lines[bt].length+ke;this._lineStarts=new ie.oQ(Ue)}}_setLineText(ke,Ke){this._lines[ke]=Ke,this._lineStarts&&this._lineStarts.setValue(ke,this._lines[ke].length+this._eol.length)}_acceptDeleteRange(ke){if(ke.startLineNumber===ke.endLineNumber){if(ke.startColumn===ke.endColumn)return;this._setLineText(ke.startLineNumber-1,this._lines[ke.startLineNumber-1].substring(0,ke.startColumn-1)+this._lines[ke.startLineNumber-1].substring(ke.endColumn-1));return}this._setLineText(ke.startLineNumber-1,this._lines[ke.startLineNumber-1].substring(0,ke.startColumn-1)+this._lines[ke.endLineNumber-1].substring(ke.endColumn-1)),this._lines.splice(ke.startLineNumber,ke.endLineNumber-ke.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(ke.startLineNumber,ke.endLineNumber-ke.startLineNumber)}_acceptInsertText(ke,Ke){if(Ke.length===0)return;const Ue=(0,M.uq)(Ke);if(Ue.length===1){this._setLineText(ke.lineNumber-1,this._lines[ke.lineNumber-1].substring(0,ke.column-1)+Ue[0]+this._lines[ke.lineNumber-1].substring(ke.column-1));return}Ue[Ue.length-1]+=this._lines[ke.lineNumber-1].substring(ke.column-1),this._setLineText(ke.lineNumber-1,this._lines[ke.lineNumber-1].substring(0,ke.column-1)+Ue[0]);const bt=new Uint32Array(Ue.length-1);for(let it=1;it<Ue.length;it++)this._lines.splice(ke.lineNumber+it-1,0,Ue[it]),bt[it-1]=Ue[it].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(ke.lineNumber,bt)}}var _e=c(1149),Ee=c(72842);class Ce{constructor(ke,Ke,Ue){const bt=new Uint8Array(ke*Ke);for(let it=0,fi=ke*Ke;it<fi;it++)bt[it]=Ue;this._data=bt,this.rows=ke,this.cols=Ke}get(ke,Ke){return this._data[ke*this.cols+Ke]}set(ke,Ke,Ue){this._data[ke*this.cols+Ke]=Ue}}class pe{constructor(ke){let Ke=0,Ue=0;for(let it=0,fi=ke.length;it<fi;it++){const[_i,Te,tt]=ke[it];Te>Ke&&(Ke=Te),_i>Ue&&(Ue=_i),tt>Ue&&(Ue=tt)}Ke++,Ue++;const bt=new Ce(Ue,Ke,0);for(let it=0,fi=ke.length;it<fi;it++){const[_i,Te,tt]=ke[it];bt.set(_i,Te,tt)}this._states=bt,this._maxCharCode=Ke}nextState(ke,Ke){return Ke<0||Ke>=this._maxCharCode?0:this._states.get(ke,Ke)}}let xe=null;function x(){return xe===null&&(xe=new pe([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),xe}let rt=null;function Xe(){if(rt===null){rt=new Ee.N(0);const ui=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let Ke=0;Ke<ui.length;Ke++)rt.set(ui.charCodeAt(Ke),1);const ke=".,;:";for(let Ke=0;Ke<ke.length;Ke++)rt.set(ke.charCodeAt(Ke),2)}return rt}class Ze{static _createLink(ke,Ke,Ue,bt,it){let fi=it-1;do{const _i=Ke.charCodeAt(fi);if(ke.get(_i)!==2)break;fi--}while(fi>bt);if(bt>0){const _i=Ke.charCodeAt(bt-1),Te=Ke.charCodeAt(fi);(_i===40&&Te===41||_i===91&&Te===93||_i===123&&Te===125)&&fi--}return{range:{startLineNumber:Ue,startColumn:bt+1,endLineNumber:Ue,endColumn:fi+2},url:Ke.substring(bt,fi+1)}}static computeLinks(ke,Ke=x()){const Ue=Xe(),bt=[];for(let it=1,fi=ke.getLineCount();it<=fi;it++){const _i=ke.getLineContent(it),Te=_i.length;let tt=0,Wt=0,Vt=0,Ni=1,ji=!1,Ai=!1,on=!1,mn=!1;for(;tt<Te;){let Rn=!1;const pi=_i.charCodeAt(tt);if(Ni===13){let ti;switch(pi){case 40:ji=!0,ti=0;break;case 41:ti=ji?0:1;break;case 91:on=!0,Ai=!0,ti=0;break;case 93:on=!1,ti=Ai?0:1;break;case 123:mn=!0,ti=0;break;case 125:ti=mn?0:1;break;case 39:case 34:case 96:Vt===pi?ti=1:Vt===39||Vt===34||Vt===96?ti=0:ti=1;break;case 42:ti=Vt===42?1:0;break;case 124:ti=Vt===124?1:0;break;case 32:ti=on?0:1;break;default:ti=Ue.get(pi)}ti===1&&(bt.push(Ze._createLink(Ue,_i,it,Wt,tt)),Rn=!0)}else if(Ni===12){let ti;pi===91?(Ai=!0,ti=0):ti=Ue.get(pi),ti===1?Rn=!0:Ni=13}else Ni=Ke.nextState(Ni,pi),Ni===0&&(Rn=!0);Rn&&(Ni=1,ji=!1,Ai=!1,mn=!1,Wt=tt+1,Vt=pi),tt++}Ni===13&&bt.push(Ze._createLink(Ue,_i,it,Wt,Te))}return bt}}function lt(ui){return!ui||typeof ui.getLineCount!="function"||typeof ui.getLineContent!="function"?[]:Ze.computeLinks(ui)}class ut{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(ke,Ke,Ue,bt,it){if(ke&&Ke){const fi=this.doNavigateValueSet(Ke,it);if(fi)return{range:ke,value:fi}}if(Ue&&bt){const fi=this.doNavigateValueSet(bt,it);if(fi)return{range:Ue,value:fi}}return null}doNavigateValueSet(ke,Ke){const Ue=this.numberReplace(ke,Ke);return Ue!==null?Ue:this.textReplace(ke,Ke)}numberReplace(ke,Ke){const Ue=Math.pow(10,ke.length-(ke.lastIndexOf(".")+1));let bt=Number(ke);const it=parseFloat(ke);return!isNaN(bt)&&!isNaN(it)&&bt===it?bt===0&&!Ke?null:(bt=Math.floor(bt*Ue),bt+=Ke?Ue:-Ue,String(bt/Ue)):null}textReplace(ke,Ke){return this.valueSetsReplace(this._defaultValueSet,ke,Ke)}valueSetsReplace(ke,Ke,Ue){let bt=null;for(let it=0,fi=ke.length;bt===null&&it<fi;it++)bt=this.valueSetReplace(ke[it],Ke,Ue);return bt}valueSetReplace(ke,Ke,Ue){let bt=ke.indexOf(Ke);return bt>=0?(bt+=Ue?1:-1,bt<0?bt=ke.length-1:bt%=ke.length,ke[bt]):null}}ut.INSTANCE=new ut;var ct=c(43705),He=c(74987),Dt=c(15769),gt=c(41104),Re=c(35498),st=c(32522),Tt=c(50838);const xt=3;class vt{computeDiff(ke,Ke,Ue){var bt;const fi=new Yt(ke,Ke,{maxComputationTime:Ue.maxComputationTimeMs,shouldIgnoreTrimWhitespace:Ue.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),_i=[];let Te=null;for(const tt of fi.changes){let Wt;tt.originalEndLineNumber===0?Wt=new Tt.z(tt.originalStartLineNumber+1,tt.originalStartLineNumber+1):Wt=new Tt.z(tt.originalStartLineNumber,tt.originalEndLineNumber+1);let Vt;tt.modifiedEndLineNumber===0?Vt=new Tt.z(tt.modifiedStartLineNumber+1,tt.modifiedStartLineNumber+1):Vt=new Tt.z(tt.modifiedStartLineNumber,tt.modifiedEndLineNumber+1);let Ni=new Re.gB(Wt,Vt,(bt=tt.charChanges)===null||bt===void 0?void 0:bt.map(ji=>new Re.iy(new he.e(ji.originalStartLineNumber,ji.originalStartColumn,ji.originalEndLineNumber,ji.originalEndColumn),new he.e(ji.modifiedStartLineNumber,ji.modifiedStartColumn,ji.modifiedEndLineNumber,ji.modifiedEndColumn))));Te&&(Te.modified.endLineNumberExclusive===Ni.modified.startLineNumber||Te.original.endLineNumberExclusive===Ni.original.startLineNumber)&&(Ni=new Re.gB(Te.original.join(Ni.original),Te.modified.join(Ni.modified),Te.innerChanges&&Ni.innerChanges?Te.innerChanges.concat(Ni.innerChanges):void 0),_i.pop()),_i.push(Ni),Te=Ni}return(0,st.eZ)(()=>(0,st.DM)(_i,(tt,Wt)=>Wt.original.startLineNumber-tt.original.endLineNumberExclusive===Wt.modified.startLineNumber-tt.modified.endLineNumberExclusive&&tt.original.endLineNumberExclusive<Wt.original.startLineNumber&&tt.modified.endLineNumberExclusive<Wt.modified.startLineNumber)),new gt.h(_i,[],fi.quitEarly)}}function we(ui,ke,Ke,Ue){return new P.Hs(ui,ke,Ke).ComputeDiff(Ue)}class pt{constructor(ke){const Ke=[],Ue=[];for(let bt=0,it=ke.length;bt<it;bt++)Ke[bt]=Ne(ke[bt],1),Ue[bt]=yt(ke[bt],1);this.lines=ke,this._startColumns=Ke,this._endColumns=Ue}getElements(){const ke=[];for(let Ke=0,Ue=this.lines.length;Ke<Ue;Ke++)ke[Ke]=this.lines[Ke].substring(this._startColumns[Ke]-1,this._endColumns[Ke]-1);return ke}getStrictElement(ke){return this.lines[ke]}getStartLineNumber(ke){return ke+1}getEndLineNumber(ke){return ke+1}createCharSequence(ke,Ke,Ue){const bt=[],it=[],fi=[];let _i=0;for(let Te=Ke;Te<=Ue;Te++){const tt=this.lines[Te],Wt=ke?this._startColumns[Te]:1,Vt=ke?this._endColumns[Te]:tt.length+1;for(let Ni=Wt;Ni<Vt;Ni++)bt[_i]=tt.charCodeAt(Ni-1),it[_i]=Te+1,fi[_i]=Ni,_i++;!ke&&Te<Ue&&(bt[_i]=10,it[_i]=Te+1,fi[_i]=tt.length+1,_i++)}return new Mt(bt,it,fi)}}class Mt{constructor(ke,Ke,Ue){this._charCodes=ke,this._lineNumbers=Ke,this._columns=Ue}toString(){return"["+this._charCodes.map((ke,Ke)=>(ke===10?"\\n":String.fromCharCode(ke))+`-(${this._lineNumbers[Ke]},${this._columns[Ke]})`).join(", ")+"]"}_assertIndex(ke,Ke){if(ke<0||ke>=Ke.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(ke){return ke>0&&ke===this._lineNumbers.length?this.getEndLineNumber(ke-1):(this._assertIndex(ke,this._lineNumbers),this._lineNumbers[ke])}getEndLineNumber(ke){return ke===-1?this.getStartLineNumber(ke+1):(this._assertIndex(ke,this._lineNumbers),this._charCodes[ke]===10?this._lineNumbers[ke]+1:this._lineNumbers[ke])}getStartColumn(ke){return ke>0&&ke===this._columns.length?this.getEndColumn(ke-1):(this._assertIndex(ke,this._columns),this._columns[ke])}getEndColumn(ke){return ke===-1?this.getStartColumn(ke+1):(this._assertIndex(ke,this._columns),this._charCodes[ke]===10?1:this._columns[ke]+1)}}class Ft{constructor(ke,Ke,Ue,bt,it,fi,_i,Te){this.originalStartLineNumber=ke,this.originalStartColumn=Ke,this.originalEndLineNumber=Ue,this.originalEndColumn=bt,this.modifiedStartLineNumber=it,this.modifiedStartColumn=fi,this.modifiedEndLineNumber=_i,this.modifiedEndColumn=Te}static createFromDiffChange(ke,Ke,Ue){const bt=Ke.getStartLineNumber(ke.originalStart),it=Ke.getStartColumn(ke.originalStart),fi=Ke.getEndLineNumber(ke.originalStart+ke.originalLength-1),_i=Ke.getEndColumn(ke.originalStart+ke.originalLength-1),Te=Ue.getStartLineNumber(ke.modifiedStart),tt=Ue.getStartColumn(ke.modifiedStart),Wt=Ue.getEndLineNumber(ke.modifiedStart+ke.modifiedLength-1),Vt=Ue.getEndColumn(ke.modifiedStart+ke.modifiedLength-1);return new Ft(bt,it,fi,_i,Te,tt,Wt,Vt)}}function Xt(ui){if(ui.length<=1)return ui;const ke=[ui[0]];let Ke=ke[0];for(let Ue=1,bt=ui.length;Ue<bt;Ue++){const it=ui[Ue],fi=it.originalStart-(Ke.originalStart+Ke.originalLength),_i=it.modifiedStart-(Ke.modifiedStart+Ke.modifiedLength);Math.min(fi,_i)<xt?(Ke.originalLength=it.originalStart+it.originalLength-Ke.originalStart,Ke.modifiedLength=it.modifiedStart+it.modifiedLength-Ke.modifiedStart):(ke.push(it),Ke=it)}return ke}class li{constructor(ke,Ke,Ue,bt,it){this.originalStartLineNumber=ke,this.originalEndLineNumber=Ke,this.modifiedStartLineNumber=Ue,this.modifiedEndLineNumber=bt,this.charChanges=it}static createFromDiffResult(ke,Ke,Ue,bt,it,fi,_i){let Te,tt,Wt,Vt,Ni;if(Ke.originalLength===0?(Te=Ue.getStartLineNumber(Ke.originalStart)-1,tt=0):(Te=Ue.getStartLineNumber(Ke.originalStart),tt=Ue.getEndLineNumber(Ke.originalStart+Ke.originalLength-1)),Ke.modifiedLength===0?(Wt=bt.getStartLineNumber(Ke.modifiedStart)-1,Vt=0):(Wt=bt.getStartLineNumber(Ke.modifiedStart),Vt=bt.getEndLineNumber(Ke.modifiedStart+Ke.modifiedLength-1)),fi&&Ke.originalLength>0&&Ke.originalLength<20&&Ke.modifiedLength>0&&Ke.modifiedLength<20&&it()){const ji=Ue.createCharSequence(ke,Ke.originalStart,Ke.originalStart+Ke.originalLength-1),Ai=bt.createCharSequence(ke,Ke.modifiedStart,Ke.modifiedStart+Ke.modifiedLength-1);if(ji.getElements().length>0&&Ai.getElements().length>0){let on=we(ji,Ai,it,!0).changes;_i&&(on=Xt(on)),Ni=[];for(let mn=0,Rn=on.length;mn<Rn;mn++)Ni.push(Ft.createFromDiffChange(on[mn],ji,Ai))}}return new li(Te,tt,Wt,Vt,Ni)}}class Yt{constructor(ke,Ke,Ue){this.shouldComputeCharChanges=Ue.shouldComputeCharChanges,this.shouldPostProcessCharChanges=Ue.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=Ue.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=Ue.shouldMakePrettyDiff,this.originalLines=ke,this.modifiedLines=Ke,this.original=new pt(ke),this.modified=new pt(Ke),this.continueLineDiff=De(Ue.maxComputationTime),this.continueCharDiff=De(Ue.maxComputationTime===0?0:Math.min(Ue.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const ke=we(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),Ke=ke.changes,Ue=ke.quitEarly;if(this.shouldIgnoreTrimWhitespace){const _i=[];for(let Te=0,tt=Ke.length;Te<tt;Te++)_i.push(li.createFromDiffResult(this.shouldIgnoreTrimWhitespace,Ke[Te],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:Ue,changes:_i}}const bt=[];let it=0,fi=0;for(let _i=-1,Te=Ke.length;_i<Te;_i++){const tt=_i+1<Te?Ke[_i+1]:null,Wt=tt?tt.originalStart:this.originalLines.length,Vt=tt?tt.modifiedStart:this.modifiedLines.length;for(;it<Wt&&fi<Vt;){const Ni=this.originalLines[it],ji=this.modifiedLines[fi];if(Ni!==ji){{let Ai=Ne(Ni,1),on=Ne(ji,1);for(;Ai>1&&on>1;){const mn=Ni.charCodeAt(Ai-2),Rn=ji.charCodeAt(on-2);if(mn!==Rn)break;Ai--,on--}(Ai>1||on>1)&&this._pushTrimWhitespaceCharChange(bt,it+1,1,Ai,fi+1,1,on)}{let Ai=yt(Ni,1),on=yt(ji,1);const mn=Ni.length+1,Rn=ji.length+1;for(;Ai<mn&&on<Rn;){const pi=Ni.charCodeAt(Ai-1),ti=Ni.charCodeAt(on-1);if(pi!==ti)break;Ai++,on++}(Ai<mn||on<Rn)&&this._pushTrimWhitespaceCharChange(bt,it+1,Ai,mn,fi+1,on,Rn)}}it++,fi++}tt&&(bt.push(li.createFromDiffResult(this.shouldIgnoreTrimWhitespace,tt,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),it+=tt.originalLength,fi+=tt.modifiedLength)}return{quitEarly:Ue,changes:bt}}_pushTrimWhitespaceCharChange(ke,Ke,Ue,bt,it,fi,_i){if(this._mergeTrimWhitespaceCharChange(ke,Ke,Ue,bt,it,fi,_i))return;let Te;this.shouldComputeCharChanges&&(Te=[new Ft(Ke,Ue,Ke,bt,it,fi,it,_i)]),ke.push(new li(Ke,Ke,it,it,Te))}_mergeTrimWhitespaceCharChange(ke,Ke,Ue,bt,it,fi,_i){const Te=ke.length;if(Te===0)return!1;const tt=ke[Te-1];return tt.originalEndLineNumber===0||tt.modifiedEndLineNumber===0?!1:tt.originalEndLineNumber===Ke&&tt.modifiedEndLineNumber===it?(this.shouldComputeCharChanges&&tt.charChanges&&tt.charChanges.push(new Ft(Ke,Ue,Ke,bt,it,fi,it,_i)),!0):tt.originalEndLineNumber+1===Ke&&tt.modifiedEndLineNumber+1===it?(tt.originalEndLineNumber=Ke,tt.modifiedEndLineNumber=it,this.shouldComputeCharChanges&&tt.charChanges&&tt.charChanges.push(new Ft(Ke,Ue,Ke,bt,it,fi,it,_i)),!0):!1}}function Ne(ui,ke){const Ke=M.LC(ui);return Ke===-1?ke:Ke+1}function yt(ui,ke){const Ke=M.ow(ui);return Ke===-1?ke:Ke+2}function De(ui){if(ui===0)return()=>!0;const ke=Date.now();return()=>Date.now()-ke<ui}var di=c(15923);const Ve={getLegacy:()=>new vt,getDefault:()=>new di.DW};var $i=c(72225);function wn(ui){const ke=[];for(const Ke of ui){const Ue=Number(Ke);(Ue||Ue===0&&Ke.replace(/\s/g,"")!=="")&&ke.push(Ue)}return ke}function Pt(ui,ke,Ke,Ue){return{red:ui/255,blue:Ke/255,green:ke/255,alpha:Ue}}function le(ui,ke){const Ke=ke.index,Ue=ke[0].length;if(!Ke)return;const bt=ui.positionAt(Ke);return{startLineNumber:bt.lineNumber,startColumn:bt.column,endLineNumber:bt.lineNumber,endColumn:bt.column+Ue}}function mt(ui,ke){if(!ui)return;const Ke=$i.Il.Format.CSS.parseHex(ke);if(Ke)return{range:ui,color:Pt(Ke.rgba.r,Ke.rgba.g,Ke.rgba.b,Ke.rgba.a)}}function jt(ui,ke,Ke){if(!ui||ke.length!==1)return;const bt=ke[0].values(),it=wn(bt);return{range:ui,color:Pt(it[0],it[1],it[2],Ke?it[3]:1)}}function bi(ui,ke,Ke){if(!ui||ke.length!==1)return;const bt=ke[0].values(),it=wn(bt),fi=new $i.Il(new $i.Oz(it[0],it[1]/100,it[2]/100,Ke?it[3]:1));return{range:ui,color:Pt(fi.rgba.r,fi.rgba.g,fi.rgba.b,fi.rgba.a)}}function Ot(ui,ke){return typeof ui=="string"?[...ui.matchAll(ke)]:ui.findMatches(ke)}function Ki(ui){const ke=[],Ue=Ot(ui,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(Ue.length>0)for(const bt of Ue){const it=bt.filter(tt=>tt!==void 0),fi=it[1],_i=it[2];if(!_i)continue;let Te;if(fi==="rgb"){const tt=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;Te=jt(le(ui,bt),Ot(_i,tt),!1)}else if(fi==="rgba"){const tt=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;Te=jt(le(ui,bt),Ot(_i,tt),!0)}else if(fi==="hsl"){const tt=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;Te=bi(le(ui,bt),Ot(_i,tt),!1)}else if(fi==="hsla"){const tt=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;Te=bi(le(ui,bt),Ot(_i,tt),!0)}else fi==="#"&&(Te=mt(le(ui,bt),fi+_i));Te&&ke.push(Te)}return ke}function xi(ui){return!ui||typeof ui.getValue!="function"||typeof ui.positionAt!="function"?[]:Ki(ui)}class dn extends ce{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(ke){const Ke=[];for(let Ue=0;Ue<this._lines.length;Ue++){const bt=this._lines[Ue],it=this.offsetAt(new K.L(Ue+1,1)),fi=bt.matchAll(ke);for(const _i of fi)(_i.index||_i.index===0)&&(_i.index=_i.index+it),Ke.push(_i)}return Ke}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(ke){return this._lines[ke-1]}getWordAtPosition(ke,Ke){const Ue=(0,_e.t2)(ke.column,(0,_e.eq)(Ke),this._lines[ke.lineNumber-1],0);return Ue?new he.e(ke.lineNumber,Ue.startColumn,ke.lineNumber,Ue.endColumn):null}words(ke){const Ke=this._lines,Ue=this._wordenize.bind(this);let bt=0,it="",fi=0,_i=[];return{*[Symbol.iterator](){for(;;)if(fi<_i.length){const Te=it.substring(_i[fi].start,_i[fi].end);fi+=1,yield Te}else if(bt<Ke.length)it=Ke[bt],_i=Ue(it,ke),fi=0,bt+=1;else break}}}getLineWords(ke,Ke){const Ue=this._lines[ke-1],bt=this._wordenize(Ue,Ke),it=[];for(const fi of bt)it.push({word:Ue.substring(fi.start,fi.end),startColumn:fi.start+1,endColumn:fi.end+1});return it}_wordenize(ke,Ke){const Ue=[];let bt;for(Ke.lastIndex=0;(bt=Ke.exec(ke))&&bt[0].length!==0;)Ue.push({start:bt.index,end:bt.index+bt[0].length});return Ue}getValueInRange(ke){if(ke=this._validateRange(ke),ke.startLineNumber===ke.endLineNumber)return this._lines[ke.startLineNumber-1].substring(ke.startColumn-1,ke.endColumn-1);const Ke=this._eol,Ue=ke.startLineNumber-1,bt=ke.endLineNumber-1,it=[];it.push(this._lines[Ue].substring(ke.startColumn-1));for(let fi=Ue+1;fi<bt;fi++)it.push(this._lines[fi]);return it.push(this._lines[bt].substring(0,ke.endColumn-1)),it.join(Ke)}offsetAt(ke){return ke=this._validatePosition(ke),this._ensureLineStarts(),this._lineStarts.getPrefixSum(ke.lineNumber-2)+(ke.column-1)}positionAt(ke){ke=Math.floor(ke),ke=Math.max(0,ke),this._ensureLineStarts();const Ke=this._lineStarts.getIndexOf(ke),Ue=this._lines[Ke.index].length;return{lineNumber:1+Ke.index,column:1+Math.min(Ke.remainder,Ue)}}_validateRange(ke){const Ke=this._validatePosition({lineNumber:ke.startLineNumber,column:ke.startColumn}),Ue=this._validatePosition({lineNumber:ke.endLineNumber,column:ke.endColumn});return Ke.lineNumber!==ke.startLineNumber||Ke.column!==ke.startColumn||Ue.lineNumber!==ke.endLineNumber||Ue.column!==ke.endColumn?{startLineNumber:Ke.lineNumber,startColumn:Ke.column,endLineNumber:Ue.lineNumber,endColumn:Ue.column}:ke}_validatePosition(ke){if(!K.L.isIPosition(ke))throw new Error("bad position");let{lineNumber:Ke,column:Ue}=ke,bt=!1;if(Ke<1)Ke=1,Ue=1,bt=!0;else if(Ke>this._lines.length)Ke=this._lines.length,Ue=this._lines[Ke-1].length+1,bt=!0;else{const it=this._lines[Ke-1].length+1;Ue<1?(Ue=1,bt=!0):Ue>it&&(Ue=it,bt=!0)}return bt?{lineNumber:Ke,column:Ue}:ke}}class zt{constructor(ke,Ke){this._host=ke,this._models=Object.create(null),this._foreignModuleFactory=Ke,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(ke){return this._models[ke]}_getModels(){const ke=[];return Object.keys(this._models).forEach(Ke=>ke.push(this._models[Ke])),ke}acceptNewModel(ke){this._models[ke.url]=new dn(j.o.parse(ke.url),ke.lines,ke.EOL,ke.versionId)}acceptModelChanged(ke,Ke){if(!this._models[ke])return;this._models[ke].onEvents(Ke)}acceptRemovedModel(ke){this._models[ke]&&delete this._models[ke]}computeUnicodeHighlights(ke,Ke,Ue){return At(this,null,function*(){const bt=this._getModel(ke);return bt?Dt.a.computeUnicodeHighlights(bt,Ke,Ue):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(ke,Ke,Ue,bt){return At(this,null,function*(){const it=this._getModel(ke),fi=this._getModel(Ke);return!it||!fi?null:zt.computeDiff(it,fi,Ue,bt)})}static computeDiff(ke,Ke,Ue,bt){const it=bt==="advanced"?Ve.getDefault():Ve.getLegacy(),fi=ke.getLinesContent(),_i=Ke.getLinesContent(),Te=it.computeDiff(fi,_i,Ue),tt=Te.changes.length>0?!1:this._modelsAreIdentical(ke,Ke);function Wt(Vt){return Vt.map(Ni=>{var ji;return[Ni.original.startLineNumber,Ni.original.endLineNumberExclusive,Ni.modified.startLineNumber,Ni.modified.endLineNumberExclusive,(ji=Ni.innerChanges)===null||ji===void 0?void 0:ji.map(Ai=>[Ai.originalRange.startLineNumber,Ai.originalRange.startColumn,Ai.originalRange.endLineNumber,Ai.originalRange.endColumn,Ai.modifiedRange.startLineNumber,Ai.modifiedRange.startColumn,Ai.modifiedRange.endLineNumber,Ai.modifiedRange.endColumn])]})}return{identical:tt,quitEarly:Te.hitTimeout,changes:Wt(Te.changes),moves:Te.moves.map(Vt=>[Vt.lineRangeMapping.original.startLineNumber,Vt.lineRangeMapping.original.endLineNumberExclusive,Vt.lineRangeMapping.modified.startLineNumber,Vt.lineRangeMapping.modified.endLineNumberExclusive,Wt(Vt.changes)])}}static _modelsAreIdentical(ke,Ke){const Ue=ke.getLineCount(),bt=Ke.getLineCount();if(Ue!==bt)return!1;for(let it=1;it<=Ue;it++){const fi=ke.getLineContent(it),_i=Ke.getLineContent(it);if(fi!==_i)return!1}return!0}computeMoreMinimalEdits(ke,Ke,Ue){return At(this,null,function*(){const bt=this._getModel(ke);if(!bt)return Ke;const it=[];let fi;Ke=Ke.slice(0).sort((Te,tt)=>{if(Te.range&&tt.range)return he.e.compareRangesUsingStarts(Te.range,tt.range);const Wt=Te.range?0:1,Vt=tt.range?0:1;return Wt-Vt});let _i=0;for(let Te=1;Te<Ke.length;Te++)he.e.getEndPosition(Ke[_i].range).equals(he.e.getStartPosition(Ke[Te].range))?(Ke[_i].range=he.e.fromPositions(he.e.getStartPosition(Ke[_i].range),he.e.getEndPosition(Ke[Te].range)),Ke[_i].text+=Ke[Te].text):(_i++,Ke[_i]=Ke[Te]);Ke.length=_i+1;for(let{range:Te,text:tt,eol:Wt}of Ke){if(typeof Wt=="number"&&(fi=Wt),he.e.isEmpty(Te)&&!tt)continue;const Vt=bt.getValueInRange(Te);if(tt=tt.replace(/\r\n|\n|\r/g,bt.eol),Vt===tt)continue;if(Math.max(tt.length,Vt.length)>zt._diffLimit){it.push({range:Te,text:tt});continue}const Ni=(0,P.a$)(Vt,tt,Ue),ji=bt.offsetAt(he.e.lift(Te).getStartPosition());for(const Ai of Ni){const on=bt.positionAt(ji+Ai.originalStart),mn=bt.positionAt(ji+Ai.originalStart+Ai.originalLength),Rn={text:tt.substr(Ai.modifiedStart,Ai.modifiedLength),range:{startLineNumber:on.lineNumber,startColumn:on.column,endLineNumber:mn.lineNumber,endColumn:mn.column}};bt.getValueInRange(Rn.range)!==Rn.text&&it.push(Rn)}}return typeof fi=="number"&&it.push({eol:fi,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),it})}computeLinks(ke){return At(this,null,function*(){const Ke=this._getModel(ke);return Ke?lt(Ke):null})}computeDefaultDocumentColors(ke){return At(this,null,function*(){const Ke=this._getModel(ke);return Ke?xi(Ke):null})}textualSuggest(ke,Ke,Ue,bt){return At(this,null,function*(){const it=new He.G,fi=new RegExp(Ue,bt),_i=new Set;e:for(const Te of ke){const tt=this._getModel(Te);if(tt){for(const Wt of tt.words(fi))if(!(Wt===Ke||!isNaN(Number(Wt)))&&(_i.add(Wt),_i.size>zt._suggestionsLimit))break e}}return{words:Array.from(_i),duration:it.elapsed()}})}computeWordRanges(ke,Ke,Ue,bt){return At(this,null,function*(){const it=this._getModel(ke);if(!it)return Object.create(null);const fi=new RegExp(Ue,bt),_i=Object.create(null);for(let Te=Ke.startLineNumber;Te<Ke.endLineNumber;Te++){const tt=it.getLineWords(Te,fi);for(const Wt of tt){if(!isNaN(Number(Wt.word)))continue;let Vt=_i[Wt.word];Vt||(Vt=[],_i[Wt.word]=Vt),Vt.push({startLineNumber:Te,startColumn:Wt.startColumn,endLineNumber:Te,endColumn:Wt.endColumn})}}return _i})}navigateValueSet(ke,Ke,Ue,bt,it){return At(this,null,function*(){const fi=this._getModel(ke);if(!fi)return null;const _i=new RegExp(bt,it);Ke.startColumn===Ke.endColumn&&(Ke={startLineNumber:Ke.startLineNumber,startColumn:Ke.startColumn,endLineNumber:Ke.endLineNumber,endColumn:Ke.endColumn+1});const Te=fi.getValueInRange(Ke),tt=fi.getWordAtPosition({lineNumber:Ke.startLineNumber,column:Ke.startColumn},_i);if(!tt)return null;const Wt=fi.getValueInRange(tt);return ut.INSTANCE.navigateValueSet(Ke,Te,tt,Wt,Ue)})}loadForeignModule(ke,Ke,Ue){const bt=(_i,Te)=>this._host.fhr(_i,Te),fi={host:(0,L.IU)(Ue,bt),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(fi,Ke),Promise.resolve((0,L.$E)(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(ke,Ke){if(!this._foreignModule||typeof this._foreignModule[ke]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+ke));try{return Promise.resolve(this._foreignModule[ke].apply(this._foreignModule,Ke))}catch(Ue){return Promise.reject(Ue)}}}zt._diffLimit=1e5,zt._suggestionsLimit=1e4;function Qi(ui){return new zt(ui,null)}typeof importScripts=="function"&&(globalThis.monaco=(0,ct.O)());var ei=c(15056),Be=c(11519),Nt=c(54888),Ri=c(58316),Fi=c(36276),hi=c(32764),En=c(97480),bn=function(ui,ke,Ke,Ue){var bt=arguments.length,it=bt<3?ke:Ue===null?Ue=Object.getOwnPropertyDescriptor(ke,Ke):Ue,fi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")it=Reflect.decorate(ui,ke,Ke,Ue);else for(var _i=ui.length-1;_i>=0;_i--)(fi=ui[_i])&&(it=(bt<3?fi(it):bt>3?fi(ke,Ke,it):fi(ke,Ke))||it);return bt>3&&it&&Object.defineProperty(ke,Ke,it),it},gn=function(ui,ke){return function(Ke,Ue){ke(Ke,Ue,ui)}};const Bn=60*1e3,kn=5*60*1e3;function en(ui,ke){const Ke=ui.getModel(ke);return!(!Ke||Ke.isTooLargeForSyncing())}let Jn=class extends X.JT{constructor(ke,Ke,Ue,bt,it){super(),this._modelService=ke,this._workerManager=this._register(new ds(this._modelService,bt)),this._logService=Ue,this._register(it.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(fi,_i)=>en(this._modelService,fi.uri)?this._workerManager.withWorker().then(Te=>Te.computeLinks(fi.uri)).then(Te=>Te&&{links:Te}):Promise.resolve({links:[]})})),this._register(it.completionProvider.register("*",new ys(this._workerManager,Ke,this._modelService,bt)))}dispose(){super.dispose()}canComputeUnicodeHighlights(ke){return en(this._modelService,ke)}computedUnicodeHighlights(ke,Ke,Ue){return this._workerManager.withWorker().then(bt=>bt.computedUnicodeHighlights(ke,Ke,Ue))}computeDiff(ke,Ke,Ue,bt){return At(this,null,function*(){const it=yield this._workerManager.withWorker().then(Te=>Te.computeDiff(ke,Ke,Ue,bt));if(!it)return null;return{identical:it.identical,quitEarly:it.quitEarly,changes:_i(it.changes),moves:it.moves.map(Te=>new gt.y(new Re.f0(new Tt.z(Te[0],Te[1]),new Tt.z(Te[2],Te[3])),_i(Te[4])))};function _i(Te){return Te.map(tt=>{var Wt;return new Re.gB(new Tt.z(tt[0],tt[1]),new Tt.z(tt[2],tt[3]),(Wt=tt[4])===null||Wt===void 0?void 0:Wt.map(Vt=>new Re.iy(new he.e(Vt[0],Vt[1],Vt[2],Vt[3]),new he.e(Vt[4],Vt[5],Vt[6],Vt[7]))))})}})}computeMoreMinimalEdits(ke,Ke,Ue=!1){if((0,Nt.Of)(Ke)){if(!en(this._modelService,ke))return Promise.resolve(Ke);const bt=He.G.create(),it=this._workerManager.withWorker().then(fi=>fi.computeMoreMinimalEdits(ke,Ke,Ue));return it.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",ke.toString(!0),bt.elapsed())),Promise.race([it,(0,D.Vs)(1e3).then(()=>Ke)])}else return Promise.resolve(void 0)}canNavigateValueSet(ke){return en(this._modelService,ke)}navigateValueSet(ke,Ke,Ue){return this._workerManager.withWorker().then(bt=>bt.navigateValueSet(ke,Ke,Ue))}canComputeWordRanges(ke){return en(this._modelService,ke)}computeWordRanges(ke,Ke){return this._workerManager.withWorker().then(Ue=>Ue.computeWordRanges(ke,Ke))}};Jn=bn([gn(0,ei.q),gn(1,Be.V),gn(2,Ri.VZ),gn(3,H.c_),gn(4,Fi.p)],Jn);class ys{constructor(ke,Ke,Ue,bt){this.languageConfigurationService=bt,this._debugDisplayName="wordbasedCompletions",this._workerManager=ke,this._configurationService=Ke,this._modelService=Ue}provideCompletionItems(ke,Ke){return At(this,null,function*(){const Ue=this._configurationService.getValue(ke.uri,Ke,"editor");if(Ue.wordBasedSuggestions==="off")return;const bt=[];if(Ue.wordBasedSuggestions==="currentDocument")en(this._modelService,ke.uri)&&bt.push(ke.uri);else for(const Vt of this._modelService.getModels())en(this._modelService,Vt.uri)&&(Vt===ke?bt.unshift(Vt.uri):(Ue.wordBasedSuggestions==="allDocuments"||Vt.getLanguageId()===ke.getLanguageId())&&bt.push(Vt.uri));if(bt.length===0)return;const it=this.languageConfigurationService.getLanguageConfiguration(ke.getLanguageId()).getWordDefinition(),fi=ke.getWordAtPosition(Ke),_i=fi?new he.e(Ke.lineNumber,fi.startColumn,Ke.lineNumber,fi.endColumn):he.e.fromPositions(Ke),Te=_i.setEndPosition(Ke.lineNumber,Ke.column),Wt=yield(yield this._workerManager.withWorker()).textualSuggest(bt,fi==null?void 0:fi.word,it);if(Wt)return{duration:Wt.duration,suggestions:Wt.words.map(Vt=>({kind:18,label:Vt,insertText:Vt,range:{insert:Te,replace:_i}}))}})}}class ds extends X.JT{constructor(ke,Ke){super(),this.languageConfigurationService=Ke,this._modelService=ke,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new En.ne).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(kn/2),hi.vO),this._register(this._modelService.onModelRemoved(bt=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>kn&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new os(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class cs extends X.JT{constructor(ke,Ke,Ue){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=ke,this._modelService=Ke,!Ue){const bt=new D.zh;bt.cancelAndSet(()=>this._checkStopModelSync(),Math.round(Bn/2)),this._register(bt)}}dispose(){for(const ke in this._syncedModels)(0,X.B9)(this._syncedModels[ke]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(ke,Ke){for(const Ue of ke){const bt=Ue.toString();this._syncedModels[bt]||this._beginModelSync(Ue,Ke),this._syncedModels[bt]&&(this._syncedModelsLastUsedTime[bt]=new Date().getTime())}}_checkStopModelSync(){const ke=new Date().getTime(),Ke=[];for(const Ue in this._syncedModelsLastUsedTime)ke-this._syncedModelsLastUsedTime[Ue]>Bn&&Ke.push(Ue);for(const Ue of Ke)this._stopModelSync(Ue)}_beginModelSync(ke,Ke){const Ue=this._modelService.getModel(ke);if(!Ue||!Ke&&Ue.isTooLargeForSyncing())return;const bt=ke.toString();this._proxy.acceptNewModel({url:Ue.uri.toString(),lines:Ue.getLinesContent(),EOL:Ue.getEOL(),versionId:Ue.getVersionId()});const it=new X.SL;it.add(Ue.onDidChangeContent(fi=>{this._proxy.acceptModelChanged(bt.toString(),fi)})),it.add(Ue.onWillDispose(()=>{this._stopModelSync(bt)})),it.add((0,X.OF)(()=>{this._proxy.acceptRemovedModel(bt)})),this._syncedModels[bt]=it}_stopModelSync(ke){const Ke=this._syncedModels[ke];delete this._syncedModels[ke],delete this._syncedModelsLastUsedTime[ke],(0,X.B9)(Ke)}}class ps{constructor(ke){this._instance=ke,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class In{constructor(ke){this._workerClient=ke}fhr(ke,Ke){return this._workerClient.fhr(ke,Ke)}}class os extends X.JT{constructor(ke,Ke,Ue,bt){super(),this.languageConfigurationService=bt,this._disposed=!1,this._modelService=ke,this._keepIdleModels=Ke,this._workerFactory=new re(Ue),this._worker=null,this._modelManager=null}fhr(ke,Ke){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new O(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new In(this)))}catch(ke){b(ke),this._worker=new ps(new zt(new In(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,ke=>(b(ke),this._worker=new ps(new zt(new In(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(ke){return this._modelManager||(this._modelManager=this._register(new cs(ke,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(ke,Ke=!1){return At(this,null,function*(){return this._disposed?Promise.reject((0,v.F0)()):this._getProxy().then(Ue=>(this._getOrCreateModelManager(Ue).ensureSyncedResources(ke,Ke),Ue))})}computedUnicodeHighlights(ke,Ke,Ue){return this._withSyncedResources([ke]).then(bt=>bt.computeUnicodeHighlights(ke.toString(),Ke,Ue))}computeDiff(ke,Ke,Ue,bt){return this._withSyncedResources([ke,Ke],!0).then(it=>it.computeDiff(ke.toString(),Ke.toString(),Ue,bt))}computeMoreMinimalEdits(ke,Ke,Ue){return this._withSyncedResources([ke]).then(bt=>bt.computeMoreMinimalEdits(ke.toString(),Ke,Ue))}computeLinks(ke){return this._withSyncedResources([ke]).then(Ke=>Ke.computeLinks(ke.toString()))}computeDefaultDocumentColors(ke){return this._withSyncedResources([ke]).then(Ke=>Ke.computeDefaultDocumentColors(ke.toString()))}textualSuggest(ke,Ke,Ue){return At(this,null,function*(){const bt=yield this._withSyncedResources(ke),it=Ue.source,fi=Ue.flags;return bt.textualSuggest(ke.map(_i=>_i.toString()),Ke,it,fi)})}computeWordRanges(ke,Ke){return this._withSyncedResources([ke]).then(Ue=>{const bt=this._modelService.getModel(ke);if(!bt)return Promise.resolve(null);const it=this.languageConfigurationService.getLanguageConfiguration(bt.getLanguageId()).getWordDefinition(),fi=it.source,_i=it.flags;return Ue.computeWordRanges(ke.toString(),Ke,fi,_i)})}navigateValueSet(ke,Ke,Ue){return this._withSyncedResources([ke]).then(bt=>{const it=this._modelService.getModel(ke);if(!it)return null;const fi=this.languageConfigurationService.getLanguageConfiguration(it.getLanguageId()).getWordDefinition(),_i=fi.source,Te=fi.flags;return bt.navigateValueSet(ke.toString(),Ke,Ue,_i,Te)})}dispose(){super.dispose(),this._disposed=!0}}},55426:function(Gt,ze,c){"use strict";c.d(ze,{Z:function(){return D}});class D{static capture(v){if(v.getScrollTop()===0||v.hasPendingScrollAnimation())return new D(v.getScrollTop(),v.getContentHeight(),null,0,null);let k=null,L=0;const T=v.getVisibleRanges();if(T.length>0){k=T[0].getStartPosition();const M=v.getTopForPosition(k.lineNumber,k.column);L=v.getScrollTop()-M}return new D(v.getScrollTop(),v.getContentHeight(),k,L,v.getPosition())}constructor(v,k,L,T,M){this._initialScrollTop=v,this._initialContentHeight=k,this._visiblePosition=L,this._visiblePositionScrollDelta=T,this._cursorPosition=M}restore(v){if(!(this._initialContentHeight===v.getContentHeight()&&this._initialScrollTop===v.getScrollTop())&&this._visiblePosition){const k=v.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);v.setScrollTop(k+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(v){if(this._initialContentHeight===v.getContentHeight()&&this._initialScrollTop===v.getScrollTop())return;const k=v.getPosition();if(!this._cursorPosition||!k)return;const L=v.getTopForLineNumber(k.lineNumber)-v.getTopForLineNumber(this._cursorPosition.lineNumber);v.setScrollTop(v.getScrollTop()+L)}}},86171:function(Gt,ze,c){"use strict";c.d(ze,{CH:function(){return M},CR:function(){return L},D4:function(){return T},u7:function(){return v},xh:function(){return X},yu:function(){return k}});class D{constructor(y,b){this._restrictedRenderingContextBrand=void 0,this._viewLayout=y,this.viewportData=b,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const C=this._viewLayout.getCurrentViewport();this.scrollTop=C.top,this.scrollLeft=C.left,this.viewportWidth=C.width,this.viewportHeight=C.height}getScrolledTopFromAbsoluteTop(y){return y-this.scrollTop}getVerticalOffsetForLineNumber(y,b){return this._viewLayout.getVerticalOffsetForLineNumber(y,b)}getVerticalOffsetAfterLineNumber(y,b){return this._viewLayout.getVerticalOffsetAfterLineNumber(y,b)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class X extends D{constructor(y,b,C){super(y,b),this._renderingContextBrand=void 0,this._viewLines=C}linesVisibleRangesForRange(y,b){return this._viewLines.linesVisibleRangesForRange(y,b)}visibleRangeForPosition(y){return this._viewLines.visibleRangeForPosition(y)}}class v{constructor(y,b,C,S){this.outsideRenderedLine=y,this.lineNumber=b,this.ranges=C,this.continuesOnNextLine=S}}class k{static from(y){const b=new Array(y.length);for(let C=0,S=y.length;C<S;C++){const _=y[C];b[C]=new k(_.left,_.width)}return b}constructor(y,b){this._horizontalRangeBrand=void 0,this.left=Math.round(y),this.width=Math.round(b)}toString(){return`[${this.left},${this.width}]`}}class L{constructor(y,b){this._floatHorizontalRangeBrand=void 0,this.left=y,this.width=b}toString(){return`[${this.left},${this.width}]`}static compare(y,b){return y.left-b.left}}class T{constructor(y,b){this.outsideRenderedLine=y,this.originalLeft=b,this.left=Math.round(this.originalLeft)}}class M{constructor(y,b){this.outsideRenderedLine=y,this.ranges=b}}},71588:function(Gt,ze,c){"use strict";c.d(ze,{Nt:function(){return _},ob:function(){return S},dL:function(){return F}});var D=c(51678),X=c(50165),v=c(43998),k=c(86171);class L{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(G,Z){G.selectNodeContents(Z)}static _readClientRects(G,Z,ne,$,J){const se=this._createRange();try{return se.setStart(G,Z),se.setEnd(ne,$),se.getClientRects()}catch(re){return null}finally{this._detachRange(se,J)}}static _mergeAdjacentRanges(G){if(G.length===1)return G;G.sort(k.CR.compare);const Z=[];let ne=0,$=G[0];for(let J=1,se=G.length;J<se;J++){const re=G[J];$.left+$.width+.9>=re.left?$.width=Math.max($.width,re.left+re.width-$.left):(Z[ne++]=$,$=re)}return Z[ne++]=$,Z}static _createHorizontalRangesFromClientRects(G,Z,ne){if(!G||G.length===0)return null;const $=[];for(let J=0,se=G.length;J<se;J++){const re=G[J];$[J]=new k.CR(Math.max(0,(re.left-Z)/ne),re.width/ne)}return this._mergeAdjacentRanges($)}static readHorizontalRanges(G,Z,ne,$,J,se){const he=G.children.length-1;if(0>he)return null;if(Z=Math.min(he,Math.max(0,Z)),$=Math.min(he,Math.max(0,$)),Z===$&&ne===J&&ne===0&&!G.children[Z].firstChild){const K=G.children[Z].getClientRects();return se.markDidDomLayout(),this._createHorizontalRangesFromClientRects(K,se.clientRectDeltaLeft,se.clientRectScale)}Z!==$&&$>0&&J===0&&($--,J=1073741824);let H=G.children[Z].firstChild,P=G.children[$].firstChild;if((!H||!P)&&(!H&&ne===0&&Z>0&&(H=G.children[Z-1].firstChild,ne=1073741824),!P&&J===0&&$>0&&(P=G.children[$-1].firstChild,J=1073741824)),!H||!P)return null;ne=Math.min(H.textContent.length,Math.max(0,ne)),J=Math.min(P.textContent.length,Math.max(0,J));const j=this._readClientRects(H,ne,P,J,se.endNode);return se.markDidDomLayout(),this._createHorizontalRangesFromClientRects(j,se.clientRectDeltaLeft,se.clientRectScale)}}var T=c(56943),M=c(88748),B=c(34732),y=c(38074);const b=function(){return v.tY?!0:!(v.IJ||D.vU||D.G6)}();let C=!0;class S{constructor(G,Z){this.themeType=Z;const ne=G.options,$=ne.get(50);ne.get(38)==="off"?this.renderWhitespace=ne.get(98):this.renderWhitespace="none",this.renderControlCharacters=ne.get(93),this.spaceWidth=$.spaceWidth,this.middotWidth=$.middotWidth,this.wsmiddotWidth=$.wsmiddotWidth,this.useMonospaceOptimizations=$.isMonospace&&!ne.get(33),this.canUseHalfwidthRightwardsArrow=$.canUseHalfwidthRightwardsArrow,this.lineHeight=ne.get(66),this.stopRenderingLineAfter=ne.get(116),this.fontLigatures=ne.get(51)}equals(G){return this.themeType===G.themeType&&this.renderWhitespace===G.renderWhitespace&&this.renderControlCharacters===G.renderControlCharacters&&this.spaceWidth===G.spaceWidth&&this.middotWidth===G.middotWidth&&this.wsmiddotWidth===G.wsmiddotWidth&&this.useMonospaceOptimizations===G.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===G.canUseHalfwidthRightwardsArrow&&this.lineHeight===G.lineHeight&&this.stopRenderingLineAfter===G.stopRenderingLineAfter&&this.fontLigatures===G.fontLigatures}}class _{constructor(G){this._options=G,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(G){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,X.X)(G);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(G){this._isMaybeInvalid=!0,this._options=G}onSelectionChanged(){return(0,B.c3)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(G,Z,ne,$){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const J=ne.getViewLineRenderingData(G),se=this._options,re=T.Kp.filter(J.inlineDecorations,G,J.minColumn,J.maxColumn);let he=null;if((0,B.c3)(se.themeType)||this._options.renderWhitespace==="selection"){const K=ne.selections;for(const ie of K){if(ie.endLineNumber<G||ie.startLineNumber>G)continue;const ce=ie.startLineNumber===G?ie.startColumn:J.minColumn,_e=ie.endLineNumber===G?ie.endColumn:J.maxColumn;ce<_e&&((0,B.c3)(se.themeType)&&re.push(new T.Kp(ce,_e,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(he||(he=[]),he.push(new M.zG(ce-1,_e-1))))}}const H=new M.IJ(se.useMonospaceOptimizations,se.canUseHalfwidthRightwardsArrow,J.content,J.continuesWithWrappedLine,J.isBasicASCII,J.containsRTL,J.minColumn-1,J.tokens,re,J.tabSize,J.startVisibleColumn,se.spaceWidth,se.middotWidth,se.wsmiddotWidth,se.stopRenderingLineAfter,se.renderWhitespace,se.renderControlCharacters,se.fontLigatures!==y.n0.OFF,he);if(this._renderedViewLine&&this._renderedViewLine.input.equals(H))return!1;$.appendString('<div style="top:'),$.appendString(String(Z)),$.appendString("px;height:"),$.appendString(String(this._options.lineHeight)),$.appendString('px;" class="'),$.appendString(_.CLASS_NAME),$.appendString('">');const P=(0,M.d1)(H,$);$.appendString("</div>");let j=null;return C&&b&&J.isBasicASCII&&se.useMonospaceOptimizations&&P.containsForeignElements===0&&(j=new a(this._renderedViewLine?this._renderedViewLine.domNode:null,H,P.characterMapping)),j||(j=O(this._renderedViewLine?this._renderedViewLine.domNode:null,H,P.characterMapping,P.containsRTL,P.containsForeignElements)),this._renderedViewLine=j,!0}layoutLine(G,Z){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(Z),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(G){return this._renderedViewLine?this._renderedViewLine.getWidth(G):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof a:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof a?this._renderedViewLine.monospaceAssumptionsAreValid():C}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof a&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(G,Z,ne,$){if(!this._renderedViewLine)return null;Z=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,Z)),ne=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,ne));const J=this._renderedViewLine.input.stopRenderingLineAfter;if(J!==-1&&Z>J+1&&ne>J+1)return new k.CH(!0,[new k.CR(this.getWidth($),0)]);J!==-1&&Z>J+1&&(Z=J+1),J!==-1&&ne>J+1&&(ne=J+1);const se=this._renderedViewLine.getVisibleRangesForRange(G,Z,ne,$);return se&&se.length>0?new k.CH(!1,se):null}getColumnOfNodeOffset(G,Z){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(G,Z):1}}_.CLASS_NAME="view-line";class a{constructor(G,Z,ne){this._cachedWidth=-1,this.domNode=G,this.input=Z;const $=Math.floor(Z.lineContent.length/300);if($>0){this._keyColumnPixelOffsetCache=new Float32Array($);for(let J=0;J<$;J++)this._keyColumnPixelOffsetCache[J]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=ne,this._charWidth=Z.spaceWidth}getWidth(G){if(!this.domNode||this.input.lineContent.length<300){const Z=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*Z)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,G==null||G.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return C;if(this.input.lineContent.length<300){const G=this.getWidth(null),Z=this.domNode.domNode.firstChild.offsetWidth;Math.abs(G-Z)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),C=!1)}return C}toSlowRenderedLine(){return O(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(G,Z,ne,$){const J=this._getColumnPixelOffset(G,Z,$),se=this._getColumnPixelOffset(G,ne,$);return[new k.CR(J,se-J)]}_getColumnPixelOffset(G,Z,ne){if(Z<=300){const H=this._characterMapping.getHorizontalOffset(Z);return this._charWidth*H}const $=Math.floor((Z-1)/300)-1,J=($+1)*300+1;let se=-1;if(this._keyColumnPixelOffsetCache&&(se=this._keyColumnPixelOffsetCache[$],se===-1&&(se=this._actualReadPixelOffset(G,J,ne),this._keyColumnPixelOffsetCache[$]=se)),se===-1){const H=this._characterMapping.getHorizontalOffset(Z);return this._charWidth*H}const re=this._characterMapping.getHorizontalOffset(J),he=this._characterMapping.getHorizontalOffset(Z);return se+this._charWidth*(he-re)}_getReadingTarget(G){return G.domNode.firstChild}_actualReadPixelOffset(G,Z,ne){if(!this.domNode)return-1;const $=this._characterMapping.getDomPosition(Z),J=L.readHorizontalRanges(this._getReadingTarget(this.domNode),$.partIndex,$.charIndex,$.partIndex,$.charIndex,ne);return!J||J.length===0?-1:J[0].left}getColumnOfNodeOffset(G,Z){return F(this._characterMapping,G,Z)}}class u{constructor(G,Z,ne,$,J){if(this.domNode=G,this.input=Z,this._characterMapping=ne,this._isWhitespaceOnly=/^\s*$/.test(Z.lineContent),this._containsForeignElements=J,this._cachedWidth=-1,this._pixelOffsetCache=null,!$||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let se=0,re=this._characterMapping.length;se<=re;se++)this._pixelOffsetCache[se]=-1}}_getReadingTarget(G){return G.domNode.firstChild}getWidth(G){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,G==null||G.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(G,Z,ne,$){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const J=this._readPixelOffset(this.domNode,G,Z,$);if(J===-1)return null;const se=this._readPixelOffset(this.domNode,G,ne,$);return se===-1?null:[new k.CR(J,se-J)]}return this._readVisibleRangesForRange(this.domNode,G,Z,ne,$)}_readVisibleRangesForRange(G,Z,ne,$,J){if(ne===$){const se=this._readPixelOffset(G,Z,ne,J);return se===-1?null:[new k.CR(se,0)]}else return this._readRawVisibleRangesForRange(G,ne,$,J)}_readPixelOffset(G,Z,ne,$){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth($);const J=this._getReadingTarget(G);return J.firstChild?($.markDidDomLayout(),J.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const J=this._pixelOffsetCache[ne];if(J!==-1)return J;const se=this._actualReadPixelOffset(G,Z,ne,$);return this._pixelOffsetCache[ne]=se,se}return this._actualReadPixelOffset(G,Z,ne,$)}_actualReadPixelOffset(G,Z,ne,$){if(this._characterMapping.length===0){const he=L.readHorizontalRanges(this._getReadingTarget(G),0,0,0,0,$);return!he||he.length===0?-1:he[0].left}if(ne===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth($);const J=this._characterMapping.getDomPosition(ne),se=L.readHorizontalRanges(this._getReadingTarget(G),J.partIndex,J.charIndex,J.partIndex,J.charIndex,$);if(!se||se.length===0)return-1;const re=se[0].left;if(this.input.isBasicASCII){const he=this._characterMapping.getHorizontalOffset(ne),H=Math.round(this.input.spaceWidth*he);if(Math.abs(H-re)<=1)return H}return re}_readRawVisibleRangesForRange(G,Z,ne,$){if(Z===1&&ne===this._characterMapping.length)return[new k.CR(0,this.getWidth($))];const J=this._characterMapping.getDomPosition(Z),se=this._characterMapping.getDomPosition(ne);return L.readHorizontalRanges(this._getReadingTarget(G),J.partIndex,J.charIndex,se.partIndex,se.charIndex,$)}getColumnOfNodeOffset(G,Z){return F(this._characterMapping,G,Z)}}class N extends u{_readVisibleRangesForRange(G,Z,ne,$,J){const se=super._readVisibleRangesForRange(G,Z,ne,$,J);if(!se||se.length===0||ne===$||ne===1&&$===this._characterMapping.length)return se;if(!this.input.containsRTL){const re=this._readPixelOffset(G,Z,$,J);if(re!==-1){const he=se[se.length-1];he.left<re&&(he.width=re-he.left)}}return se}}const O=function(){return D.Pf?R:V}();function R(Y,G,Z,ne,$){return new N(Y,G,Z,ne,$)}function V(Y,G,Z,ne,$){return new u(Y,G,Z,ne,$)}function F(Y,G,Z){const ne=G.textContent.length;let $=-1;for(;G;)G=G.previousSibling,$++;return Y.getColumn(new M.Nd($,Z),ne)}},93309:function(Gt,ze,c){"use strict";c.d(ze,{Gm:function(){return Ur}});var D=c(19524),X=c(4593),v=function(Lt,n,l,m){var w=arguments.length,z=w<3?n:m===null?m=Object.getOwnPropertyDescriptor(n,l):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(Lt,n,l,m);else for(var ge=Lt.length-1;ge>=0;ge--)(ae=Lt[ge])&&(z=(w<3?ae(z):w>3?ae(n,l,z):ae(n,l))||z);return w>3&&z&&Object.defineProperty(n,l,z),z},k=function(Lt,n){return function(l,m){n(l,m,Lt)}};let L=class{constructor(n,l){}dispose(){}};L.ID="editor.contrib.markerDecorations",L=v([k(1,D.i)],L),(0,X._K)(L.ID,L,0);var T=c(18493),M=c(97480),B=c(35541),y=c(46328),b=c(83845),C=c(90385),S=c(51678),_=c(54888),a=c(24913),u=c(43998),N=c(90555),O=c(99384);class R{constructor(n,l){this.key=n,this.migrate=l}apply(n){const l=R._read(n,this.key),m=z=>R._read(n,z),w=(z,ae)=>R._write(n,z,ae);this.migrate(l,m,w)}static _read(n,l){if(typeof n=="undefined")return;const m=l.indexOf(".");if(m>=0){const w=l.substring(0,m);return this._read(n[w],l.substring(m+1))}return n[l]}static _write(n,l,m){const w=l.indexOf(".");if(w>=0){const z=l.substring(0,w);n[z]=n[z]||{},this._write(n[z],l.substring(w+1),m);return}n[l]=m}}R.items=[];function V(Lt,n){R.items.push(new R(Lt,n))}function F(Lt,n){V(Lt,(l,m,w)=>{if(typeof l!="undefined"){for(const[z,ae]of n)if(l===z){w(Lt,ae);return}}})}function Y(Lt){R.items.forEach(n=>n.apply(Lt))}F("wordWrap",[[!0,"on"],[!1,"off"]]),F("lineNumbers",[[!0,"on"],[!1,"off"]]),F("cursorBlinking",[["visible","solid"]]),F("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),F("renderLineHighlight",[[!0,"line"],[!1,"none"]]),F("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),F("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),F("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),F("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),F("autoIndent",[[!1,"advanced"],[!0,"full"]]),F("matchBrackets",[[!0,"always"],[!1,"never"]]),F("renderFinalNewline",[[!0,"on"],[!1,"off"]]),F("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),F("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]),F("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]),V("autoClosingBrackets",(Lt,n,l)=>{Lt===!1&&(l("autoClosingBrackets","never"),typeof n("autoClosingQuotes")=="undefined"&&l("autoClosingQuotes","never"),typeof n("autoSurround")=="undefined"&&l("autoSurround","never"))}),V("renderIndentGuides",(Lt,n,l)=>{typeof Lt!="undefined"&&(l("renderIndentGuides",void 0),typeof n("guides.indentation")=="undefined"&&l("guides.indentation",!!Lt))}),V("highlightActiveIndentGuide",(Lt,n,l)=>{typeof Lt!="undefined"&&(l("highlightActiveIndentGuide",void 0),typeof n("guides.highlightActiveIndentation")=="undefined"&&l("guides.highlightActiveIndentation",!!Lt))});const G={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};V("suggest.filteredTypes",(Lt,n,l)=>{if(Lt&&typeof Lt=="object"){for(const m of Object.entries(G))Lt[m[0]]===!1&&typeof n(`suggest.${m[1]}`)=="undefined"&&l(`suggest.${m[1]}`,!1);l("suggest.filteredTypes",void 0)}}),V("quickSuggestions",(Lt,n,l)=>{if(typeof Lt=="boolean"){const m=Lt?"on":"off";l("quickSuggestions",{comments:m,strings:m,other:m})}}),V("experimental.stickyScroll.enabled",(Lt,n,l)=>{typeof Lt=="boolean"&&(l("experimental.stickyScroll.enabled",void 0),typeof n("stickyScroll.enabled")=="undefined"&&l("stickyScroll.enabled",Lt))}),V("experimental.stickyScroll.maxLineCount",(Lt,n,l)=>{typeof Lt=="number"&&(l("experimental.stickyScroll.maxLineCount",void 0),typeof n("stickyScroll.maxLineCount")=="undefined"&&l("stickyScroll.maxLineCount",Lt))}),V("codeActionsOnSave",(Lt,n,l)=>{if(Lt&&typeof Lt=="object"){let m=!1;const w={};for(const z of Object.entries(Lt))typeof z[1]=="boolean"?(m=!0,w[z[0]]=z[1]?"explicit":"never"):w[z[0]]=z[1];m&&l("codeActionsOnSave",w)}}),V("codeActionWidget.includeNearbyQuickfixes",(Lt,n,l)=>{typeof Lt=="boolean"&&(l("codeActionWidget.includeNearbyQuickfixes",void 0),typeof n("codeActionWidget.includeNearbyQuickFixes")=="undefined"&&l("codeActionWidget.includeNearbyQuickFixes",Lt))});var Z=c(59869),ne=c(38074),$=c(65072),J=c(22690),se=c(87943),re=function(Lt,n,l,m){var w=arguments.length,z=w<3?n:m===null?m=Object.getOwnPropertyDescriptor(n,l):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(Lt,n,l,m);else for(var ge=Lt.length-1;ge>=0;ge--)(ae=Lt[ge])&&(z=(w<3?ae(z):w>3?ae(n,l,z):ae(n,l))||z);return w>3&&z&&Object.defineProperty(n,l,z),z},he=function(Lt,n){return function(l,m){n(l,m,Lt)}};let H=class extends b.JT{constructor(n,l,m,w){super(),this._accessibilityService=w,this._onDidChange=this._register(new y.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new y.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new ne.LJ,this.isSimpleWidget=n,this._containerObserver=this._register(new N.I(m,l.dimension)),this._rawOptions=_e(l),this._validatedOptions=ce.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register($.C.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(Z.n.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(O.g.onDidChange(()=>this._recomputeOptions())),this._register(S.Tz.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const n=this._computeOptions(),l=ce.checkEquals(this.options,n);l!==null&&(this.options=n,this._onDidChangeFast.fire(l),this._onDidChange.fire(l))}_computeOptions(){const n=this._readEnvConfiguration(),l=J.E4.createFromValidatedSettings(this._validatedOptions,n.pixelRatio,this.isSimpleWidget),m=this._readFontInfo(l),w={memory:this._computeOptionsMemory,outerWidth:n.outerWidth,outerHeight:n.outerHeight-this._reservedHeight,fontInfo:m,extraEditorClassName:n.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:n.emptySelectionClipboard,pixelRatio:n.pixelRatio,tabFocusMode:Z.n.getTabFocusMode(),accessibilitySupport:n.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return ce.computeOptions(this._validatedOptions,w)}_readEnvConfiguration(){return{extraEditorClassName:j(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:S.Pf||S.vU,pixelRatio:S.Tz.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(n){return O.g.readFontInfo(n)}getRawOptions(){return this._rawOptions}updateOptions(n){const l=_e(n);ce.applyUpdate(this._rawOptions,l)&&(this._validatedOptions=ce.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(n){this._containerObserver.observe(n)}setIsDominatedByLongLines(n){this._isDominatedByLongLines!==n&&(this._isDominatedByLongLines=n,this._recomputeOptions())}setModelLineCount(n){const l=P(n);this._lineNumbersDigitCount!==l&&(this._lineNumbersDigitCount=l,this._recomputeOptions())}setViewLineCount(n){this._viewLineCount!==n&&(this._viewLineCount=n,this._recomputeOptions())}setReservedHeight(n){this._reservedHeight!==n&&(this._reservedHeight=n,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(n){this._glyphMarginDecorationLaneCount!==n&&(this._glyphMarginDecorationLaneCount=n,this._recomputeOptions())}};H=re([he(3,se.F7)],H);function P(Lt){let n=0;for(;Lt;)Lt=Math.floor(Lt/10),n++;return n||1}function j(){let Lt="";return!S.G6&&!S.MG&&(Lt+="no-user-select "),S.G6&&(Lt+="no-minimap-shadow ",Lt+="enable-user-select "),u.dz&&(Lt+="mac "),Lt}class K{constructor(){this._values=[]}_read(n){return this._values[n]}get(n){return this._values[n]}_write(n,l){this._values[n]=l}}class ie{constructor(){this._values=[]}_read(n){if(n>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[n]}get(n){return this._read(n)}_write(n,l){this._values[n]=l}}class ce{static validateOptions(n){const l=new K;for(const m of ne.Bc){const w=m.name==="_never_"?void 0:n[m.name];l._write(m.id,m.validate(w))}return l}static computeOptions(n,l){const m=new ie;for(const w of ne.Bc)m._write(w.id,w.compute(l,m,n._read(w.id)));return m}static _deepEquals(n,l){if(typeof n!="object"||typeof l!="object"||!n||!l)return n===l;if(Array.isArray(n)||Array.isArray(l))return Array.isArray(n)&&Array.isArray(l)?_.fS(n,l):!1;if(Object.keys(n).length!==Object.keys(l).length)return!1;for(const m in n)if(!ce._deepEquals(n[m],l[m]))return!1;return!0}static checkEquals(n,l){const m=[];let w=!1;for(const z of ne.Bc){const ae=!ce._deepEquals(n._read(z.id),l._read(z.id));m[z.id]=ae,ae&&(w=!0)}return w?new ne.Bb(m):null}static applyUpdate(n,l){let m=!1;for(const w of ne.Bc)if(l.hasOwnProperty(w.name)){const z=w.applyUpdate(n[w.name],l[w.name]);n[w.name]=z.newValue,m=m||z.didChange}return m}}function _e(Lt){const n=a.I8(Lt);return Y(n),n}var Ee=c(79602),Ce=c(37753),pe=c(54125),xe=c(50165),x=c(84702),rt=c(9470),Xe=c(29945);class Ze extends b.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(n){return!1}onCompositionEnd(n){return!1}onConfigurationChanged(n){return!1}onCursorStateChanged(n){return!1}onDecorationsChanged(n){return!1}onFlushed(n){return!1}onFocusChanged(n){return!1}onLanguageConfigurationChanged(n){return!1}onLineMappingChanged(n){return!1}onLinesChanged(n){return!1}onLinesDeleted(n){return!1}onLinesInserted(n){return!1}onRevealRangeRequest(n){return!1}onScrollChanged(n){return!1}onThemeChanged(n){return!1}onTokensChanged(n){return!1}onTokensColorsChanged(n){return!1}onZonesChanged(n){return!1}handleEvents(n){let l=!1;for(let m=0,w=n.length;m<w;m++){const z=n[m];switch(z.type){case 0:this.onCompositionStart(z)&&(l=!0);break;case 1:this.onCompositionEnd(z)&&(l=!0);break;case 2:this.onConfigurationChanged(z)&&(l=!0);break;case 3:this.onCursorStateChanged(z)&&(l=!0);break;case 4:this.onDecorationsChanged(z)&&(l=!0);break;case 5:this.onFlushed(z)&&(l=!0);break;case 6:this.onFocusChanged(z)&&(l=!0);break;case 7:this.onLanguageConfigurationChanged(z)&&(l=!0);break;case 8:this.onLineMappingChanged(z)&&(l=!0);break;case 9:this.onLinesChanged(z)&&(l=!0);break;case 10:this.onLinesDeleted(z)&&(l=!0);break;case 11:this.onLinesInserted(z)&&(l=!0);break;case 12:this.onRevealRangeRequest(z)&&(l=!0);break;case 13:this.onScrollChanged(z)&&(l=!0);break;case 15:this.onTokensChanged(z)&&(l=!0);break;case 14:this.onThemeChanged(z)&&(l=!0);break;case 16:this.onTokensColorsChanged(z)&&(l=!0);break;case 17:this.onZonesChanged(z)&&(l=!0);break;default:console.info("View received unknown event: "),console.info(z)}}l&&(this._shouldRender=!0)}}class lt extends Ze{constructor(n){super(),this._context=n,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class ut{static write(n,l){n.setAttribute("data-mprt",String(l))}static read(n){const l=n.getAttribute("data-mprt");return l===null?0:parseInt(l,10)}static collect(n,l){const m=[];let w=0;for(;n&&n!==n.ownerDocument.body&&n!==l;)n.nodeType===n.ELEMENT_NODE&&(m[w++]=this.read(n)),n=n.parentElement;const z=new Uint8Array(w);for(let ae=0;ae<w;ae++)z[ae]=m[w-ae-1];return z}}var ct=c(71588),He=c(79946),Dt=c(41498),gt=c(40750);class Re{constructor(n=null){this.hitTarget=n,this.type=0}}class st{constructor(n,l,m){this.position=n,this.spanNode=l,this.injectedText=m,this.type=1}}var Tt;(function(Lt){function n(l,m,w){const z=l.getPositionFromDOMInfo(m,w);return z?new st(z,m,null):new Re(m)}Lt.createFromDOMInfo=n})(Tt||(Tt={}));class xt{constructor(n,l){this.lastViewCursorsRenderData=n,this.lastTextareaPosition=l}}class vt{static _deduceRage(n,l=null){return!l&&n?new pe.e(n.lineNumber,n.column,n.lineNumber,n.column):l!=null?l:null}static createUnknown(n,l,m){return{type:0,element:n,mouseColumn:l,position:m,range:this._deduceRage(m)}}static createTextarea(n,l){return{type:1,element:n,mouseColumn:l,position:null,range:null}}static createMargin(n,l,m,w,z,ae){return{type:n,element:l,mouseColumn:m,position:w,range:z,detail:ae}}static createViewZone(n,l,m,w,z){return{type:n,element:l,mouseColumn:m,position:w,range:this._deduceRage(w),detail:z}}static createContentText(n,l,m,w,z){return{type:6,element:n,mouseColumn:l,position:m,range:this._deduceRage(m,w),detail:z}}static createContentEmpty(n,l,m,w){return{type:7,element:n,mouseColumn:l,position:m,range:this._deduceRage(m),detail:w}}static createContentWidget(n,l,m){return{type:9,element:n,mouseColumn:l,position:null,range:null,detail:m}}static createScrollbar(n,l,m){return{type:11,element:n,mouseColumn:l,position:m,range:this._deduceRage(m)}}static createOverlayWidget(n,l,m){return{type:12,element:n,mouseColumn:l,position:null,range:null,detail:m}}static createOutsideEditor(n,l,m,w){return{type:13,element:null,mouseColumn:n,position:l,range:this._deduceRage(l),outsidePosition:m,outsideDistance:w}}static _typeToString(n){return n===1?"TEXTAREA":n===2?"GUTTER_GLYPH_MARGIN":n===3?"GUTTER_LINE_NUMBERS":n===4?"GUTTER_LINE_DECORATIONS":n===5?"GUTTER_VIEW_ZONE":n===6?"CONTENT_TEXT":n===7?"CONTENT_EMPTY":n===8?"CONTENT_VIEW_ZONE":n===9?"CONTENT_WIDGET":n===10?"OVERVIEW_RULER":n===11?"SCROLLBAR":n===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(n){return this._typeToString(n.type)+": "+n.position+" - "+n.range+" - "+JSON.stringify(n.detail)}}class we{static isTextArea(n){return n.length===2&&n[0]===3&&n[1]===6}static isChildOfViewLines(n){return n.length>=4&&n[0]===3&&n[3]===7}static isStrictChildOfViewLines(n){return n.length>4&&n[0]===3&&n[3]===7}static isChildOfScrollableElement(n){return n.length>=2&&n[0]===3&&n[1]===5}static isChildOfMinimap(n){return n.length>=2&&n[0]===3&&n[1]===8}static isChildOfContentWidgets(n){return n.length>=4&&n[0]===3&&n[3]===1}static isChildOfOverflowGuard(n){return n.length>=1&&n[0]===3}static isChildOfOverflowingContentWidgets(n){return n.length>=1&&n[0]===2}static isChildOfOverlayWidgets(n){return n.length>=2&&n[0]===3&&n[1]===4}}class pt{constructor(n,l,m){this.viewModel=n.viewModel;const w=n.configuration.options;this.layoutInfo=w.get(143),this.viewDomNode=l.viewDomNode,this.lineHeight=w.get(66),this.stickyTabStops=w.get(115),this.typicalHalfwidthCharacterWidth=w.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=m,this._context=n,this._viewHelper=l}getZoneAtCoord(n){return pt.getZoneAtCoord(this._context,n)}static getZoneAtCoord(n,l){const m=n.viewLayout.getWhitespaceAtVerticalOffset(l);if(m){const w=m.verticalOffset+m.height/2,z=n.viewModel.getLineCount();let ae=null,ge,ye=null;return m.afterLineNumber!==z&&(ye=new He.L(m.afterLineNumber+1,1)),m.afterLineNumber>0&&(ae=new He.L(m.afterLineNumber,n.viewModel.getLineMaxColumn(m.afterLineNumber))),ye===null?ge=ae:ae===null?ge=ye:l<w?ge=ae:ge=ye,{viewZoneId:m.id,afterLineNumber:m.afterLineNumber,positionBefore:ae,positionAfter:ye,position:ge}}return null}getFullLineRangeAtCoord(n){if(this._context.viewLayout.isAfterLines(n)){const w=this._context.viewModel.getLineCount(),z=this._context.viewModel.getLineMaxColumn(w);return{range:new pe.e(w,z,w,z),isAfterLines:!0}}const l=this._context.viewLayout.getLineNumberAtVerticalOffset(n),m=this._context.viewModel.getLineMaxColumn(l);return{range:new pe.e(l,1,l,m),isAfterLines:!1}}getLineNumberAtVerticalOffset(n){return this._context.viewLayout.getLineNumberAtVerticalOffset(n)}isAfterLines(n){return this._context.viewLayout.isAfterLines(n)}isInTopPadding(n){return this._context.viewLayout.isInTopPadding(n)}isInBottomPadding(n){return this._context.viewLayout.isInBottomPadding(n)}getVerticalOffsetForLineNumber(n){return this._context.viewLayout.getVerticalOffsetForLineNumber(n)}findAttribute(n,l){return pt._findAttribute(n,l,this._viewHelper.viewDomNode)}static _findAttribute(n,l,m){for(;n&&n!==n.ownerDocument.body;){if(n.hasAttribute&&n.hasAttribute(l))return n.getAttribute(l);if(n===m)return null;n=n.parentNode}return null}getLineWidth(n){return this._viewHelper.getLineWidth(n)}visibleRangeForPosition(n,l){return this._viewHelper.visibleRangeForPosition(n,l)}getPositionFromDOMInfo(n,l){return this._viewHelper.getPositionFromDOMInfo(n,l)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class Mt{constructor(n,l,m,w){this.editorPos=l,this.pos=m,this.relativePos=w,this.mouseVerticalOffset=Math.max(0,n.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=n.getCurrentScrollLeft()+this.relativePos.x-n.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<n.layoutInfo.contentLeft&&this.relativePos.x>=n.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,Yt._getMouseColumn(this.mouseContentHorizontalOffset,n.typicalHalfwidthCharacterWidth))}}class Ft extends Mt{constructor(n,l,m,w,z){super(n,l,m,w),this._ctx=n,z?(this.target=z,this.targetPath=ut.collect(z,n.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(n=null){return n&&n.column<this._ctx.viewModel.getLineMaxColumn(n.lineNumber)?Dt.i.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(n.lineNumber),n.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(n=null){return vt.createUnknown(this.target,this._getMouseColumn(n),n)}fulfillTextarea(){return vt.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(n,l,m,w){return vt.createMargin(n,this.target,this._getMouseColumn(l),l,m,w)}fulfillViewZone(n,l,m){return vt.createViewZone(n,this.target,this._getMouseColumn(l),l,m)}fulfillContentText(n,l,m){return vt.createContentText(this.target,this._getMouseColumn(n),n,l,m)}fulfillContentEmpty(n,l){return vt.createContentEmpty(this.target,this._getMouseColumn(n),n,l)}fulfillContentWidget(n){return vt.createContentWidget(this.target,this._getMouseColumn(),n)}fulfillScrollbar(n){return vt.createScrollbar(this.target,this._getMouseColumn(n),n)}fulfillOverlayWidget(n){return vt.createOverlayWidget(this.target,this._getMouseColumn(),n)}withTarget(n){return new Ft(this._ctx,this.editorPos,this.pos,this.relativePos,n)}}const Xt={isAfterLines:!0};function li(Lt){return{isAfterLines:!1,horizontalDistanceToText:Lt}}class Yt{constructor(n,l){this._context=n,this._viewHelper=l}mouseTargetIsWidget(n){const l=n.target,m=ut.collect(l,this._viewHelper.viewDomNode);return!!(we.isChildOfContentWidgets(m)||we.isChildOfOverflowingContentWidgets(m)||we.isChildOfOverlayWidgets(m))}createMouseTarget(n,l,m,w,z){const ae=new pt(this._context,this._viewHelper,n),ge=new Ft(ae,l,m,w,z);try{const ye=Yt._createMouseTarget(ae,ge,!1);if(ye.type===6&&ae.stickyTabStops&&ye.position!==null){const Ge=Yt._snapToSoftTabBoundary(ye.position,ae.viewModel),ot=pe.e.fromPositions(Ge,Ge).plusRange(ye.range);return ge.fulfillContentText(Ge,ot,ye.detail)}return ye}catch(ye){return ge.fulfillUnknown()}}static _createMouseTarget(n,l,m){if(l.target===null){if(m)return l.fulfillUnknown();const ae=Yt._doHitTest(n,l);return ae.type===1?Yt.createMouseTargetFromHitTestPosition(n,l,ae.spanNode,ae.position,ae.injectedText):this._createMouseTarget(n,l.withTarget(ae.hitTarget),!0)}const w=l;let z=null;return!we.isChildOfOverflowGuard(l.targetPath)&&!we.isChildOfOverflowingContentWidgets(l.targetPath)&&(z=z||l.fulfillUnknown()),z=z||Yt._hitTestContentWidget(n,w),z=z||Yt._hitTestOverlayWidget(n,w),z=z||Yt._hitTestMinimap(n,w),z=z||Yt._hitTestScrollbarSlider(n,w),z=z||Yt._hitTestViewZone(n,w),z=z||Yt._hitTestMargin(n,w),z=z||Yt._hitTestViewCursor(n,w),z=z||Yt._hitTestTextArea(n,w),z=z||Yt._hitTestViewLines(n,w,m),z=z||Yt._hitTestScrollbar(n,w),z||l.fulfillUnknown()}static _hitTestContentWidget(n,l){if(we.isChildOfContentWidgets(l.targetPath)||we.isChildOfOverflowingContentWidgets(l.targetPath)){const m=n.findAttribute(l.target,"widgetId");return m?l.fulfillContentWidget(m):l.fulfillUnknown()}return null}static _hitTestOverlayWidget(n,l){if(we.isChildOfOverlayWidgets(l.targetPath)){const m=n.findAttribute(l.target,"widgetId");return m?l.fulfillOverlayWidget(m):l.fulfillUnknown()}return null}static _hitTestViewCursor(n,l){if(l.target){const m=n.lastRenderData.lastViewCursorsRenderData;for(const w of m)if(l.target===w.domNode)return l.fulfillContentText(w.position,null,{mightBeForeignElement:!1,injectedText:null})}if(l.isInContentArea){const m=n.lastRenderData.lastViewCursorsRenderData,w=l.mouseContentHorizontalOffset,z=l.mouseVerticalOffset;for(const ae of m){if(w<ae.contentLeft||w>ae.contentLeft+ae.width)continue;const ge=n.getVerticalOffsetForLineNumber(ae.position.lineNumber);if(ge<=z&&z<=ge+ae.height)return l.fulfillContentText(ae.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(n,l){const m=n.getZoneAtCoord(l.mouseVerticalOffset);if(m){const w=l.isInContentArea?8:5;return l.fulfillViewZone(w,m.position,m)}return null}static _hitTestTextArea(n,l){return we.isTextArea(l.targetPath)?n.lastRenderData.lastTextareaPosition?l.fulfillContentText(n.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):l.fulfillTextarea():null}static _hitTestMargin(n,l){if(l.isInMarginArea){const m=n.getFullLineRangeAtCoord(l.mouseVerticalOffset),w=m.range.getStartPosition();let z=Math.abs(l.relativePos.x);const ae={isAfterLines:m.isAfterLines,glyphMarginLeft:n.layoutInfo.glyphMarginLeft,glyphMarginWidth:n.layoutInfo.glyphMarginWidth,lineNumbersWidth:n.layoutInfo.lineNumbersWidth,offsetX:z};return z-=n.layoutInfo.glyphMarginLeft,z<=n.layoutInfo.glyphMarginWidth?l.fulfillMargin(2,w,m.range,ae):(z-=n.layoutInfo.glyphMarginWidth,z<=n.layoutInfo.lineNumbersWidth?l.fulfillMargin(3,w,m.range,ae):(z-=n.layoutInfo.lineNumbersWidth,l.fulfillMargin(4,w,m.range,ae)))}return null}static _hitTestViewLines(n,l,m){if(!we.isChildOfViewLines(l.targetPath))return null;if(n.isInTopPadding(l.mouseVerticalOffset))return l.fulfillContentEmpty(new He.L(1,1),Xt);if(n.isAfterLines(l.mouseVerticalOffset)||n.isInBottomPadding(l.mouseVerticalOffset)){const z=n.viewModel.getLineCount(),ae=n.viewModel.getLineMaxColumn(z);return l.fulfillContentEmpty(new He.L(z,ae),Xt)}if(m){if(we.isStrictChildOfViewLines(l.targetPath)){const z=n.getLineNumberAtVerticalOffset(l.mouseVerticalOffset);if(n.viewModel.getLineLength(z)===0){const ge=n.getLineWidth(z),ye=li(l.mouseContentHorizontalOffset-ge);return l.fulfillContentEmpty(new He.L(z,1),ye)}const ae=n.getLineWidth(z);if(l.mouseContentHorizontalOffset>=ae){const ge=li(l.mouseContentHorizontalOffset-ae),ye=new He.L(z,n.viewModel.getLineMaxColumn(z));return l.fulfillContentEmpty(ye,ge)}}return l.fulfillUnknown()}const w=Yt._doHitTest(n,l);return w.type===1?Yt.createMouseTargetFromHitTestPosition(n,l,w.spanNode,w.position,w.injectedText):this._createMouseTarget(n,l.withTarget(w.hitTarget),!0)}static _hitTestMinimap(n,l){if(we.isChildOfMinimap(l.targetPath)){const m=n.getLineNumberAtVerticalOffset(l.mouseVerticalOffset),w=n.viewModel.getLineMaxColumn(m);return l.fulfillScrollbar(new He.L(m,w))}return null}static _hitTestScrollbarSlider(n,l){if(we.isChildOfScrollableElement(l.targetPath)&&l.target&&l.target.nodeType===1){const m=l.target.className;if(m&&/\b(slider|scrollbar)\b/.test(m)){const w=n.getLineNumberAtVerticalOffset(l.mouseVerticalOffset),z=n.viewModel.getLineMaxColumn(w);return l.fulfillScrollbar(new He.L(w,z))}}return null}static _hitTestScrollbar(n,l){if(we.isChildOfScrollableElement(l.targetPath)){const m=n.getLineNumberAtVerticalOffset(l.mouseVerticalOffset),w=n.viewModel.getLineMaxColumn(m);return l.fulfillScrollbar(new He.L(m,w))}return null}getMouseColumn(n){const l=this._context.configuration.options,m=l.get(143),w=this._context.viewLayout.getCurrentScrollLeft()+n.x-m.contentLeft;return Yt._getMouseColumn(w,l.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(n,l){return n<0?1:Math.round(n/l)+1}static createMouseTargetFromHitTestPosition(n,l,m,w,z){const ae=w.lineNumber,ge=w.column,ye=n.getLineWidth(ae);if(l.mouseContentHorizontalOffset>ye){const gi=li(l.mouseContentHorizontalOffset-ye);return l.fulfillContentEmpty(w,gi)}const Ge=n.visibleRangeForPosition(ae,ge);if(!Ge)return l.fulfillUnknown(w);const ot=Ge.left;if(Math.abs(l.mouseContentHorizontalOffset-ot)<1)return l.fulfillContentText(w,null,{mightBeForeignElement:!!z,injectedText:z});const ht=[];if(ht.push({offset:Ge.left,column:ge}),ge>1){const gi=n.visibleRangeForPosition(ae,ge-1);gi&&ht.push({offset:gi.left,column:ge-1})}const Et=n.viewModel.getLineMaxColumn(ae);if(ge<Et){const gi=n.visibleRangeForPosition(ae,ge+1);gi&&ht.push({offset:gi.left,column:ge+1})}ht.sort((gi,wi)=>gi.offset-wi.offset);const wt=l.pos.toClientCoordinates(M.Jj(n.viewDomNode)),$t=m.getBoundingClientRect(),qt=$t.left<=wt.clientX&&wt.clientX<=$t.right;let ci=null;for(let gi=1;gi<ht.length;gi++){const wi=ht[gi-1],Bi=ht[gi];if(wi.offset<=l.mouseContentHorizontalOffset&&l.mouseContentHorizontalOffset<=Bi.offset){ci=new pe.e(ae,wi.column,ae,Bi.column);const nn=Math.abs(wi.offset-l.mouseContentHorizontalOffset),an=Math.abs(Bi.offset-l.mouseContentHorizontalOffset);w=nn<an?new He.L(ae,wi.column):new He.L(ae,Bi.column);break}}return l.fulfillContentText(w,ci,{mightBeForeignElement:!qt||!!z,injectedText:z})}static _doHitTestWithCaretRangeFromPoint(n,l){const m=n.getLineNumberAtVerticalOffset(l.mouseVerticalOffset),w=n.getVerticalOffsetForLineNumber(m),z=w+n.lineHeight;if(!(m===n.viewModel.getLineCount()&&l.mouseVerticalOffset>z)){const ge=Math.floor((w+z)/2);let ye=l.pos.y+(ge-l.mouseVerticalOffset);ye<=l.editorPos.y&&(ye=l.editorPos.y+1),ye>=l.editorPos.y+l.editorPos.height&&(ye=l.editorPos.y+l.editorPos.height-1);const Ge=new Xe.YN(l.pos.x,ye),ot=this._actualDoHitTestWithCaretRangeFromPoint(n,Ge.toClientCoordinates(M.Jj(n.viewDomNode)));if(ot.type===1)return ot}return this._actualDoHitTestWithCaretRangeFromPoint(n,l.pos.toClientCoordinates(M.Jj(n.viewDomNode)))}static _actualDoHitTestWithCaretRangeFromPoint(n,l){const m=M.Ay(n.viewDomNode);let w;if(m?typeof m.caretRangeFromPoint=="undefined"?w=Ne(m,l.clientX,l.clientY):w=m.caretRangeFromPoint(l.clientX,l.clientY):w=n.viewDomNode.ownerDocument.caretRangeFromPoint(l.clientX,l.clientY),!w||!w.startContainer)return new Re;const z=w.startContainer;if(z.nodeType===z.TEXT_NODE){const ae=z.parentNode,ge=ae?ae.parentNode:null,ye=ge?ge.parentNode:null;return(ye&&ye.nodeType===ye.ELEMENT_NODE?ye.className:null)===ct.Nt.CLASS_NAME?Tt.createFromDOMInfo(n,ae,w.startOffset):new Re(z.parentNode)}else if(z.nodeType===z.ELEMENT_NODE){const ae=z.parentNode,ge=ae?ae.parentNode:null;return(ge&&ge.nodeType===ge.ELEMENT_NODE?ge.className:null)===ct.Nt.CLASS_NAME?Tt.createFromDOMInfo(n,z,z.textContent.length):new Re(z)}return new Re}static _doHitTestWithCaretPositionFromPoint(n,l){const m=n.viewDomNode.ownerDocument.caretPositionFromPoint(l.clientX,l.clientY);if(m.offsetNode.nodeType===m.offsetNode.TEXT_NODE){const w=m.offsetNode.parentNode,z=w?w.parentNode:null,ae=z?z.parentNode:null;return(ae&&ae.nodeType===ae.ELEMENT_NODE?ae.className:null)===ct.Nt.CLASS_NAME?Tt.createFromDOMInfo(n,m.offsetNode.parentNode,m.offset):new Re(m.offsetNode.parentNode)}if(m.offsetNode.nodeType===m.offsetNode.ELEMENT_NODE){const w=m.offsetNode.parentNode,z=w&&w.nodeType===w.ELEMENT_NODE?w.className:null,ae=w?w.parentNode:null,ge=ae&&ae.nodeType===ae.ELEMENT_NODE?ae.className:null;if(z===ct.Nt.CLASS_NAME){const ye=m.offsetNode.childNodes[Math.min(m.offset,m.offsetNode.childNodes.length-1)];if(ye)return Tt.createFromDOMInfo(n,ye,0)}else if(ge===ct.Nt.CLASS_NAME)return Tt.createFromDOMInfo(n,m.offsetNode,0)}return new Re(m.offsetNode)}static _snapToSoftTabBoundary(n,l){const m=l.getLineContent(n.lineNumber),{tabSize:w}=l.model.getOptions(),z=gt.l.atomicPosition(m,n.column-1,w,2);return z!==-1?new He.L(n.lineNumber,z+1):n}static _doHitTest(n,l){let m=new Re;if(typeof n.viewDomNode.ownerDocument.caretRangeFromPoint=="function"?m=this._doHitTestWithCaretRangeFromPoint(n,l):n.viewDomNode.ownerDocument.caretPositionFromPoint&&(m=this._doHitTestWithCaretPositionFromPoint(n,l.pos.toClientCoordinates(M.Jj(n.viewDomNode)))),m.type===1){const w=n.viewModel.getInjectedTextAt(m.position),z=n.viewModel.normalizePosition(m.position,2);(w||!z.equals(m.position))&&(m=new st(z,m.spanNode,w))}return m}}function Ne(Lt,n,l){const m=document.createRange();let w=Lt.elementFromPoint(n,l);if(w!==null){for(;w&&w.firstChild&&w.firstChild.nodeType!==w.firstChild.TEXT_NODE&&w.lastChild&&w.lastChild.firstChild;)w=w.lastChild;const z=w.getBoundingClientRect(),ae=M.Jj(w),ge=ae.getComputedStyle(w,null).getPropertyValue("font-style"),ye=ae.getComputedStyle(w,null).getPropertyValue("font-variant"),Ge=ae.getComputedStyle(w,null).getPropertyValue("font-weight"),ot=ae.getComputedStyle(w,null).getPropertyValue("font-size"),ht=ae.getComputedStyle(w,null).getPropertyValue("line-height"),Et=ae.getComputedStyle(w,null).getPropertyValue("font-family"),wt=`${ge} ${ye} ${Ge} ${ot}/${ht} ${Et}`,$t=w.innerText;let qt=z.left,ci=0,gi;if(n>z.left+z.width)ci=$t.length;else{const wi=yt.getInstance();for(let Bi=0;Bi<$t.length+1;Bi++){if(gi=wi.getCharWidth($t.charAt(Bi),wt)/2,qt+=gi,n<qt){ci=Bi;break}qt+=gi}}m.setStart(w.firstChild,ci),m.setEnd(w.firstChild,ci)}return m}class yt{static getInstance(){return yt._INSTANCE||(yt._INSTANCE=new yt),yt._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(n,l){const m=n+l;if(this._cache[m])return this._cache[m];const w=this._canvas.getContext("2d");w.font=l;const ae=w.measureText(n).width;return this._cache[m]=ae,ae}}yt._INSTANCE=null;var De=c(97918);class di extends Ze{constructor(n,l,m){super(),this._mouseLeaveMonitor=null,this._context=n,this.viewController=l,this.viewHelper=m,this.mouseTargetFactory=new Yt(this._context,m),this._mouseDownOperation=this._register(new Ve(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(ae,ge)=>this._createMouseTarget(ae,ge),ae=>this._getMouseColumn(ae))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(143).height;const w=new Xe.N5(this.viewHelper.viewDomNode);this._register(w.onContextMenu(this.viewHelper.viewDomNode,ae=>this._onContextMenu(ae,!0))),this._register(w.onMouseMove(this.viewHelper.viewDomNode,ae=>{this._onMouseMove(ae),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=M.nm(this.viewHelper.viewDomNode.ownerDocument,"mousemove",ge=>{this.viewHelper.viewDomNode.contains(ge.target)||this._onMouseLeave(new Xe.gy(ge,!1,this.viewHelper.viewDomNode))}))})),this._register(w.onMouseUp(this.viewHelper.viewDomNode,ae=>this._onMouseUp(ae))),this._register(w.onMouseLeave(this.viewHelper.viewDomNode,ae=>this._onMouseLeave(ae)));let z=0;this._register(w.onPointerDown(this.viewHelper.viewDomNode,(ae,ge)=>{z=ge})),this._register(M.nm(this.viewHelper.viewDomNode,M.tw.POINTER_UP,ae=>{this._mouseDownOperation.onPointerUp()})),this._register(w.onMouseDown(this.viewHelper.viewDomNode,ae=>this._onMouseDown(ae,z))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const n=De.Io.INSTANCE;let l=0,m=$.C.getZoomLevel(),w=!1,z=0;const ae=ye=>{if(this.viewController.emitMouseWheel(ye),!this._context.configuration.options.get(75))return;const Ge=new rt.q(ye);if(n.acceptStandardWheelEvent(Ge),n.isPhysicalMouseWheel()){if(ge(ye)){const ot=$.C.getZoomLevel(),ht=Ge.deltaY>0?1:-1;$.C.setZoomLevel(ot+ht),Ge.preventDefault(),Ge.stopPropagation()}}else Date.now()-l>50&&(m=$.C.getZoomLevel(),w=ge(ye),z=0),l=Date.now(),z+=Ge.deltaY,w&&($.C.setZoomLevel(m+z/5),Ge.preventDefault(),Ge.stopPropagation())};this._register(M.nm(this.viewHelper.viewDomNode,M.tw.MOUSE_WHEEL,ae,{capture:!0,passive:!1}));function ge(ye){return u.dz?(ye.metaKey||ye.ctrlKey)&&!ye.shiftKey&&!ye.altKey:ye.ctrlKey&&!ye.metaKey&&!ye.shiftKey&&!ye.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(n){if(n.hasChanged(143)){const l=this._context.configuration.options.get(143).height;this._height!==l&&(this._height=l,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(n){return this._mouseDownOperation.onCursorStateChanged(n),!1}onFocusChanged(n){return!1}getTargetAtClientPoint(n,l){const w=new Xe.rU(n,l).toPageCoordinates(M.Jj(this.viewHelper.viewDomNode)),z=(0,Xe.kG)(this.viewHelper.viewDomNode);if(w.y<z.y||w.y>z.y+z.height||w.x<z.x||w.x>z.x+z.width)return null;const ae=(0,Xe.Pp)(this.viewHelper.viewDomNode,z,w);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),z,w,ae,null)}_createMouseTarget(n,l){let m=n.target;if(!this.viewHelper.viewDomNode.contains(m)){const w=M.Ay(this.viewHelper.viewDomNode);w&&(m=w.elementsFromPoint(n.posx,n.posy).find(z=>this.viewHelper.viewDomNode.contains(z)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),n.editorPos,n.pos,n.relativePos,l?m:null)}_getMouseColumn(n){return this.mouseTargetFactory.getMouseColumn(n.relativePos)}_onContextMenu(n,l){this.viewController.emitContextMenu({event:n,target:this._createMouseTarget(n,l)})}_onMouseMove(n){this.mouseTargetFactory.mouseTargetIsWidget(n)||n.preventDefault(),!(this._mouseDownOperation.isActive()||n.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:n,target:this._createMouseTarget(n,!0)})}_onMouseLeave(n){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:n,target:null})}_onMouseUp(n){this.viewController.emitMouseUp({event:n,target:this._createMouseTarget(n,!0)})}_onMouseDown(n,l){const m=this._createMouseTarget(n,!0),w=m.type===6||m.type===7,z=m.type===2||m.type===3||m.type===4,ae=m.type===3,ge=this._context.configuration.options.get(108),ye=m.type===8||m.type===5,Ge=m.type===9;let ot=n.leftButton||n.middleButton;u.dz&&n.leftButton&&n.ctrlKey&&(ot=!1);const ht=()=>{n.preventDefault(),this.viewHelper.focusTextArea()};if(ot&&(w||ae&&ge))ht(),this._mouseDownOperation.start(m.type,n,l);else if(z)n.preventDefault();else if(ye){const Et=m.detail;ot&&this.viewHelper.shouldSuppressMouseDownOnViewZone(Et.viewZoneId)&&(ht(),this._mouseDownOperation.start(m.type,n,l),n.preventDefault())}else Ge&&this.viewHelper.shouldSuppressMouseDownOnWidget(m.detail)&&(ht(),n.preventDefault());this.viewController.emitMouseDown({event:n,target:m})}}class Ve extends b.JT{constructor(n,l,m,w,z,ae){super(),this._context=n,this._viewController=l,this._viewHelper=m,this._mouseTargetFactory=w,this._createMouseTarget=z,this._getMouseColumn=ae,this._mouseMoveMonitor=this._register(new Xe.AL(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new $i(this._context,this._viewHelper,this._mouseTargetFactory,(ge,ye,Ge)=>this._dispatchMouse(ge,ye,Ge))),this._mouseState=new Pt,this._currentSelection=new Ce.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(n){this._lastMouseEvent=n,this._mouseState.setModifiers(n);const l=this._findMousePosition(n,!1);l&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:n,target:l}):l.type===13&&(l.outsidePosition==="above"||l.outsidePosition==="below")?this._topBottomDragScrolling.start(l,n):(this._topBottomDragScrolling.stop(),this._dispatchMouse(l,!0,1)))}start(n,l,m){this._lastMouseEvent=l,this._mouseState.setStartedOnLineNumbers(n===3),this._mouseState.setStartButtons(l),this._mouseState.setModifiers(l);const w=this._findMousePosition(l,!0);if(!w||!w.position)return;this._mouseState.trySetCount(l.detail,w.position),l.detail=this._mouseState.count;const z=this._context.configuration.options;if(!z.get(90)&&z.get(35)&&!z.get(22)&&!this._mouseState.altKey&&l.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&w.type===6&&w.position&&this._currentSelection.containsPosition(w.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,m,l.buttons,ae=>this._onMouseDownThenMove(ae),ae=>{const ge=this._findMousePosition(this._lastMouseEvent,!1);M.vd(ae)?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:ge?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(w,l.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,m,l.buttons,ae=>this._onMouseDownThenMove(ae),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(n){this._currentSelection=n.selections[0]}_getPositionOutsideEditor(n){const l=n.editorPos,m=this._context.viewModel,w=this._context.viewLayout,z=this._getMouseColumn(n);if(n.posy<l.y){const ge=l.y-n.posy,ye=Math.max(w.getCurrentScrollTop()-ge,0),Ge=pt.getZoneAtCoord(this._context,ye);if(Ge){const ht=this._helpPositionJumpOverViewZone(Ge);if(ht)return vt.createOutsideEditor(z,ht,"above",ge)}const ot=w.getLineNumberAtVerticalOffset(ye);return vt.createOutsideEditor(z,new He.L(ot,1),"above",ge)}if(n.posy>l.y+l.height){const ge=n.posy-l.y-l.height,ye=w.getCurrentScrollTop()+n.relativePos.y,Ge=pt.getZoneAtCoord(this._context,ye);if(Ge){const ht=this._helpPositionJumpOverViewZone(Ge);if(ht)return vt.createOutsideEditor(z,ht,"below",ge)}const ot=w.getLineNumberAtVerticalOffset(ye);return vt.createOutsideEditor(z,new He.L(ot,m.getLineMaxColumn(ot)),"below",ge)}const ae=w.getLineNumberAtVerticalOffset(w.getCurrentScrollTop()+n.relativePos.y);if(n.posx<l.x){const ge=l.x-n.posx;return vt.createOutsideEditor(z,new He.L(ae,1),"left",ge)}if(n.posx>l.x+l.width){const ge=n.posx-l.x-l.width;return vt.createOutsideEditor(z,new He.L(ae,m.getLineMaxColumn(ae)),"right",ge)}return null}_findMousePosition(n,l){const m=this._getPositionOutsideEditor(n);if(m)return m;const w=this._createMouseTarget(n,l);if(!w.position)return null;if(w.type===8||w.type===5){const ae=this._helpPositionJumpOverViewZone(w.detail);if(ae)return vt.createViewZone(w.type,w.element,w.mouseColumn,ae,w.detail)}return w}_helpPositionJumpOverViewZone(n){const l=new He.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),m=n.positionBefore,w=n.positionAfter;return m&&w?m.isBefore(l)?m:w:null}_dispatchMouse(n,l,m){n.position&&this._viewController.dispatchMouse({position:n.position,mouseColumn:n.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:m,inSelectionMode:l,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:n.type===6&&n.detail.injectedText!==null})}}class $i extends b.JT{constructor(n,l,m,w){super(),this._context=n,this._viewHelper=l,this._mouseTargetFactory=m,this._dispatchMouse=w,this._operation=null}dispose(){super.dispose(),this.stop()}start(n,l){this._operation?this._operation.setPosition(n,l):this._operation=new wn(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,n,l)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class wn extends b.JT{constructor(n,l,m,w,z,ae){super(),this._context=n,this._viewHelper=l,this._mouseTargetFactory=m,this._dispatchMouse=w,this._position=z,this._mouseEvent=ae,this._lastTime=Date.now(),this._animationFrameDisposable=M.jL(M.Jj(ae.browserEvent),()=>this._execute())}dispose(){this._animationFrameDisposable.dispose()}setPosition(n,l){this._position=n,this._mouseEvent=l}_tick(){const n=Date.now(),l=n-this._lastTime;return this._lastTime=n,l}_getScrollSpeed(){const n=this._context.configuration.options.get(66),l=this._context.configuration.options.get(143).height/n,m=this._position.outsideDistance/n;return m<=1.5?Math.max(30,l*(1+m)):m<=3?Math.max(60,l*(2+m)):Math.max(200,l*(7+m))}_execute(){const n=this._context.configuration.options.get(66),l=this._getScrollSpeed(),m=this._tick(),w=l*(m/1e3)*n,z=this._position.outsidePosition==="above"?-w:w;this._context.viewModel.viewLayout.deltaScrollNow(0,z),this._viewHelper.renderNow();const ae=this._context.viewLayout.getLinesViewportData(),ge=this._position.outsidePosition==="above"?ae.startLineNumber:ae.endLineNumber;let ye;{const Ge=(0,Xe.kG)(this._viewHelper.viewDomNode),ot=this._context.configuration.options.get(143).horizontalScrollbarHeight,ht=new Xe.YN(this._mouseEvent.pos.x,Ge.y+Ge.height-ot-.1),Et=(0,Xe.Pp)(this._viewHelper.viewDomNode,Ge,ht);ye=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),Ge,ht,Et,null)}(!ye.position||ye.position.lineNumber!==ge)&&(this._position.outsidePosition==="above"?ye=vt.createOutsideEditor(this._position.mouseColumn,new He.L(ge,1),"above",this._position.outsideDistance):ye=vt.createOutsideEditor(this._position.mouseColumn,new He.L(ge,this._context.viewModel.getLineMaxColumn(ge)),"below",this._position.outsideDistance)),this._dispatchMouse(ye,!0,2),this._animationFrameDisposable=M.jL(M.Jj(ye.element),()=>this._execute())}}class Pt{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(n){this._altKey=n.altKey,this._ctrlKey=n.ctrlKey,this._metaKey=n.metaKey,this._shiftKey=n.shiftKey}setStartButtons(n){this._leftButton=n.leftButton,this._middleButton=n.middleButton}setStartedOnLineNumbers(n){this._startedOnLineNumbers=n}trySetCount(n,l){const m=new Date().getTime();m-this._lastSetMouseDownCountTime>Pt.CLEAR_MOUSE_DOWN_COUNT_TIME&&(n=1),this._lastSetMouseDownCountTime=m,n>this._lastMouseDownCount+1&&(n=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(l)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=l,this._lastMouseDownCount=Math.min(n,this._lastMouseDownPositionEqualCount)}}Pt.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var le=c(95671),mt=c(2635),jt=c(32764);class bi extends di{constructor(n,l,m){super(n,l,m),this._register(x.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(M.nm(this.viewHelper.linesContentDomNode,x.t.Tap,z=>this.onTap(z))),this._register(M.nm(this.viewHelper.linesContentDomNode,x.t.Change,z=>this.onChange(z))),this._register(M.nm(this.viewHelper.linesContentDomNode,x.t.Contextmenu,z=>this._onContextMenu(new Xe.gy(z,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(M.nm(this.viewHelper.linesContentDomNode,"pointerdown",z=>{const ae=z.pointerType;if(ae==="mouse"){this._lastPointerType="mouse";return}else ae==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const w=new Xe.tC(this.viewHelper.viewDomNode);this._register(w.onPointerMove(this.viewHelper.viewDomNode,z=>this._onMouseMove(z))),this._register(w.onPointerUp(this.viewHelper.viewDomNode,z=>this._onMouseUp(z))),this._register(w.onPointerLeave(this.viewHelper.viewDomNode,z=>this._onMouseLeave(z))),this._register(w.onPointerDown(this.viewHelper.viewDomNode,(z,ae)=>this._onMouseDown(z,ae)))}onTap(n){if(!n.initialTarget||!this.viewHelper.linesContentDomNode.contains(n.initialTarget))return;n.preventDefault(),this.viewHelper.focusTextArea();const l=this._createMouseTarget(new Xe.gy(n,!1,this.viewHelper.viewDomNode),!1);l.position&&this.viewController.dispatchMouse({position:l.position,mouseColumn:l.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:n.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:l.type===6&&l.detail.injectedText!==null})}onChange(n){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-n.translationX,-n.translationY)}_onMouseDown(n,l){n.browserEvent.pointerType!=="touch"&&super._onMouseDown(n,l)}}class Ot extends di{constructor(n,l,m){super(n,l,m),this._register(x.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(M.nm(this.viewHelper.linesContentDomNode,x.t.Tap,w=>this.onTap(w))),this._register(M.nm(this.viewHelper.linesContentDomNode,x.t.Change,w=>this.onChange(w))),this._register(M.nm(this.viewHelper.linesContentDomNode,x.t.Contextmenu,w=>this._onContextMenu(new Xe.gy(w,!1,this.viewHelper.viewDomNode),!1)))}onTap(n){n.preventDefault(),this.viewHelper.focusTextArea();const l=this._createMouseTarget(new Xe.gy(n,!1,this.viewHelper.viewDomNode),!1);if(l.position){const m=document.createEvent("CustomEvent");m.initEvent(mt.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(m),this.viewController.moveTo(l.position,1)}}onChange(n){this._context.viewModel.viewLayout.deltaScrollNow(-n.translationX,-n.translationY)}}class Ki extends b.JT{constructor(n,l,m){super(),u.gn&&le.D.pointerEvents?this.handler=this._register(new bi(n,l,m)):jt.Ex.TouchEvent?this.handler=this._register(new Ot(n,l,m)):this.handler=this._register(new di(n,l,m))}getTargetAtClientPoint(n,l){return this.handler.getTargetAtClientPoint(n,l)}}var xi=c(80360),dn=c(13687),zt=c(64977);class Qi extends Ze{}var ei=c(27722),Be=c(76901);class Nt extends Qi{constructor(n){super(),this._context=n,this._readConfig(),this._lastCursorModelPosition=new He.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const n=this._context.configuration.options;this._lineHeight=n.get(66);const l=n.get(67);this._renderLineNumbers=l.renderType,this._renderCustomLineNumbers=l.renderFn,this._renderFinalNewline=n.get(94);const m=n.get(143);this._lineNumbersLeft=m.lineNumbersLeft,this._lineNumbersWidth=m.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(n){return this._readConfig(),!0}onCursorStateChanged(n){const l=n.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(l);let m=!1;return this._activeLineNumber!==l.lineNumber&&(this._activeLineNumber=l.lineNumber,m=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(m=!0),m}onFlushed(n){return!0}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollTopChanged}onZonesChanged(n){return!0}_getLineRenderLineNumber(n){const l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new He.L(n,1));if(l.column!==1)return"";const m=l.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(m);if(this._renderLineNumbers===2){const w=Math.abs(this._lastCursorModelPosition.lineNumber-m);return w===0?'<span class="relative-current-line-number">'+m+"</span>":String(w)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===m||m%10===0?String(m):"":String(m)}prepareRender(n){if(this._renderLineNumbers===0){this._renderResult=null;return}const l=u.IJ?this._lineHeight%2===0?" lh-even":" lh-odd":"",m=n.visibleRange.startLineNumber,w=n.visibleRange.endLineNumber,z=this._context.viewModel.getLineCount(),ae=[];for(let ge=m;ge<=w;ge++){const ye=ge-m,Ge=this._getLineRenderLineNumber(ge);if(!Ge){ae[ye]="";continue}let ot="";if(ge===z&&this._context.viewModel.getLineLength(ge)===0){if(this._renderFinalNewline==="off"){ae[ye]="";continue}this._renderFinalNewline==="dimmed"&&(ot=" dimmed-line-number")}ge===this._activeLineNumber&&(ot=" active-line-number"),ae[ye]=`<div class="${Nt.CLASS_NAME}${l}${ot}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${Ge}</div>`}this._renderResult=ae}render(n,l){if(!this._renderResult)return"";const m=l-n;return m<0||m>=this._renderResult.length?"":this._renderResult[m]}}Nt.CLASS_NAME="line-numbers",(0,ei.Ic)((Lt,n)=>{const l=Lt.getColor(Be.hw),m=Lt.getColor(Be.Bj);m?n.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${m}; }`):l&&n.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${l.transparent(.4)}; }`)});class Ri extends lt{constructor(n){super(n);const l=this._context.configuration.options,m=l.get(143);this._canUseLayerHinting=!l.get(32),this._contentLeft=m.contentLeft,this._glyphMarginLeft=m.glyphMarginLeft,this._glyphMarginWidth=m.glyphMarginWidth,this._domNode=(0,xe.X)(document.createElement("div")),this._domNode.setClassName(Ri.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,xe.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Ri.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(n){const l=this._context.configuration.options,m=l.get(143);return this._canUseLayerHinting=!l.get(32),this._contentLeft=m.contentLeft,this._glyphMarginLeft=m.glyphMarginLeft,this._glyphMarginWidth=m.glyphMarginWidth,!0}onScrollChanged(n){return super.onScrollChanged(n)||n.scrollTopChanged}prepareRender(n){}render(n){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const l=n.scrollTop-n.bigNumbersDelta;this._domNode.setTop(-l);const m=Math.min(n.scrollHeight,1e6);this._domNode.setHeight(m),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(m)}}Ri.CLASS_NAME="glyph-margin",Ri.OUTER_CLASS_NAME="margin";var Fi=c(68734);const hi="monaco-mouse-cursor-text";var En=c(26627),bn=c(72225),gn=c(23395),Bn=c(30966),kn=c(99068),en=function(Lt,n,l,m){var w=arguments.length,z=w<3?n:m===null?m=Object.getOwnPropertyDescriptor(n,l):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(Lt,n,l,m);else for(var ge=Lt.length-1;ge>=0;ge--)(ae=Lt[ge])&&(z=(w<3?ae(z):w>3?ae(n,l,z):ae(n,l))||z);return w>3&&z&&Object.defineProperty(n,l,z),z},Jn=function(Lt,n){return function(l,m){n(l,m,Lt)}};class ys{constructor(n,l,m,w,z){this._context=n,this.modelLineNumber=l,this.distanceToModelLineStart=m,this.widthOfHiddenLineTextBefore=w,this.distanceToModelLineEnd=z,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(n){const l=new He.L(this.modelLineNumber,this.distanceToModelLineStart+1),m=new He.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(l),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(m),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=n.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=n.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(n){return this._previousPresentation||(n?this._previousPresentation=n:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const ds=S.vU;let cs=class extends lt{constructor(n,l,m,w,z){super(n),this._keybindingService=w,this._instantiationService=z,this._primaryCursorPosition=new He.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=l,this._visibleRangeProvider=m,this._scrollLeft=0,this._scrollTop=0;const ae=this._context.configuration.options,ge=ae.get(143);this._setAccessibilityOptions(ae),this._contentLeft=ge.contentLeft,this._contentWidth=ge.contentWidth,this._contentHeight=ge.height,this._fontInfo=ae.get(50),this._lineHeight=ae.get(66),this._emptySelectionClipboard=ae.get(37),this._copyWithSyntaxHighlighting=ae.get(25),this._visibleTextArea=null,this._selections=[new Ce.Y(1,1,1,1)],this._modelSelections=[new Ce.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,xe.X)(document.createElement("textarea")),ut.write(this.textArea,6),this.textArea.setClassName(`inputarea ${hi}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:ye}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${ye*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(ae)),this.textArea.setAttribute("aria-required",ae.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(ae.get(123))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",T.NC("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",ae.get(90)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=(0,xe.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const Ge={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:Et=>this._context.viewModel.getLineMaxColumn(Et),getValueInRange:(Et,wt)=>this._context.viewModel.getValueInRange(Et,wt),getValueLengthInRange:(Et,wt)=>this._context.viewModel.getValueLengthInRange(Et,wt),modifyPosition:(Et,wt)=>this._context.viewModel.modifyPosition(Et,wt)},ot={getDataToCopy:()=>{const Et=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,u.ED),wt=this._context.viewModel.model.getEOL(),$t=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),qt=Array.isArray(Et)?Et:null,ci=Array.isArray(Et)?Et.join(wt):Et;let gi,wi=null;if(mt.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&ci.length<65536){const Bi=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);Bi&&(gi=Bi.html,wi=Bi.mode)}return{isFromEmptySelection:$t,multicursorText:qt,text:ci,html:gi,mode:wi}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const Et=this._selections[0];if(u.dz&&Et.isEmpty()){const $t=Et.getStartPosition();let qt=this._getWordBeforePosition($t);if(qt.length===0&&(qt=this._getCharacterBeforePosition($t)),qt.length>0)return new zt.un(qt,qt.length,qt.length,pe.e.fromPositions($t),0)}const wt=500;if(u.dz&&!Et.isEmpty()&&Ge.getValueLengthInRange(Et,0)<wt){const $t=Ge.getValueInRange(Et,0);return new zt.un($t,0,$t.length,Et,0)}if(S.G6&&!Et.isEmpty()){const $t="vscode-placeholder";return new zt.un($t,0,$t.length,null,void 0)}return zt.un.EMPTY}if(S.Dt){const Et=this._selections[0];if(Et.isEmpty()){const wt=Et.getStartPosition(),[$t,qt]=this._getAndroidWordAtPosition(wt);if($t.length>0)return new zt.un($t,qt,qt,pe.e.fromPositions(wt),0)}return zt.un.EMPTY}return zt.ee.fromEditorSelection(Ge,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(Et,wt,$t)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(Et,wt,$t)},ht=this._register(new mt.Tj(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(mt.Fz,ot,ht,u.OS,{isAndroid:S.Dt,isChrome:S.i7,isFirefox:S.vU,isSafari:S.G6})),this._register(this._textAreaInput.onKeyDown(Et=>{this._viewController.emitKeyDown(Et)})),this._register(this._textAreaInput.onKeyUp(Et=>{this._viewController.emitKeyUp(Et)})),this._register(this._textAreaInput.onPaste(Et=>{let wt=!1,$t=null,qt=null;Et.metadata&&(wt=this._emptySelectionClipboard&&!!Et.metadata.isFromEmptySelection,$t=typeof Et.metadata.multicursorText!="undefined"?Et.metadata.multicursorText:null,qt=Et.metadata.mode),this._viewController.paste(Et.text,wt,$t,qt)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(Et=>{Et.replacePrevCharCnt||Et.replaceNextCharCnt||Et.positionDelta?(zt.al&&console.log(` => compositionType: <<${Et.text}>>, ${Et.replacePrevCharCnt}, ${Et.replaceNextCharCnt}, ${Et.positionDelta}`),this._viewController.compositionType(Et.text,Et.replacePrevCharCnt,Et.replaceNextCharCnt,Et.positionDelta)):(zt.al&&console.log(` => type: <<${Et.text}>>`),this._viewController.type(Et.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(Et=>{this._viewController.setSelection(Et)})),this._register(this._textAreaInput.onCompositionStart(Et=>{const wt=this.textArea.domNode,$t=this._modelSelections[0],{distanceToModelLineStart:qt,widthOfHiddenTextBefore:ci}=(()=>{const wi=wt.value.substring(0,Math.min(wt.selectionStart,wt.selectionEnd)),Bi=wi.lastIndexOf(`
`),nn=wi.substring(Bi+1),an=nn.lastIndexOf("	"),Nn=nn.length-an-1,Sn=$t.getStartPosition(),_n=Math.min(Sn.column-1,Nn),un=Sn.column-1-_n,Dn=nn.substring(0,nn.length-_n),{tabSize:zn}=this._context.viewModel.model.getOptions(),On=ps(this.textArea.domNode.ownerDocument,Dn,this._fontInfo,zn);return{distanceToModelLineStart:un,widthOfHiddenTextBefore:On}})(),{distanceToModelLineEnd:gi}=(()=>{const wi=wt.value.substring(Math.max(wt.selectionStart,wt.selectionEnd)),Bi=wi.indexOf(`
`),nn=Bi===-1?wi:wi.substring(0,Bi),an=nn.indexOf("	"),Nn=an===-1?nn.length:nn.length-an-1,Sn=$t.getEndPosition(),_n=Math.min(this._context.viewModel.model.getLineMaxColumn(Sn.lineNumber)-Sn.column,Nn);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(Sn.lineNumber)-Sn.column-_n}})();this._context.viewModel.revealRange("keyboard",!0,pe.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new ys(this._context,$t.startLineNumber,qt,ci,gi),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${hi} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(Et=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${hi}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(gn.F.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(n){this._textAreaInput.writeNativeTextAreaContent(n)}dispose(){super.dispose()}_getAndroidWordAtPosition(n){const l='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',m=this._context.viewModel.getLineContent(n.lineNumber),w=(0,Fi.u)(l);let z=!0,ae=n.column,ge=!0,ye=n.column,Ge=0;for(;Ge<50&&(z||ge);){if(z&&ae<=1&&(z=!1),z){const ot=m.charCodeAt(ae-2);w.get(ot)!==0?z=!1:ae--}if(ge&&ye>m.length&&(ge=!1),ge){const ot=m.charCodeAt(ye-1);w.get(ot)!==0?ge=!1:ye++}Ge++}return[m.substring(ae-1,ye-1),n.column-ae]}_getWordBeforePosition(n){const l=this._context.viewModel.getLineContent(n.lineNumber),m=(0,Fi.u)(this._context.configuration.options.get(129));let w=n.column,z=0;for(;w>1;){const ae=l.charCodeAt(w-2);if(m.get(ae)!==0||z>50)return l.substring(w-1,n.column-1);z++,w--}return l.substring(0,n.column-1)}_getCharacterBeforePosition(n){if(n.column>1){const m=this._context.viewModel.getLineContent(n.lineNumber).charAt(n.column-2);if(!xi.ZG(m.charCodeAt(0)))return m}return""}_getAriaLabel(n){var l,m,w;if(n.get(2)===1){const ae=(l=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))===null||l===void 0?void 0:l.getAriaLabel(),ge=(m=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))===null||m===void 0?void 0:m.getAriaLabel(),ye=(w=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))===null||w===void 0?void 0:w.getAriaLabel(),Ge=T.NC("accessibilityModeOff","The editor is not accessible at this time.");return ae?T.NC("accessibilityOffAriaLabel","{0} To enable screen reader optimized mode, use {1}",Ge,ae):ge?T.NC("accessibilityOffAriaLabelNoKb","{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",Ge,ge):ye?T.NC("accessibilityOffAriaLabelNoKbs","{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",Ge,ye):Ge}return n.get(4)}_setAccessibilityOptions(n){this._accessibilitySupport=n.get(2);const l=n.get(3);this._accessibilitySupport===2&&l===ne.BH.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=l;const w=n.get(143).wrappingColumn;if(w!==-1&&this._accessibilitySupport!==1){const z=n.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(w*z.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=ds?0:1}onConfigurationChanged(n){const l=this._context.configuration.options,m=l.get(143);this._setAccessibilityOptions(l),this._contentLeft=m.contentLeft,this._contentWidth=m.contentWidth,this._contentHeight=m.height,this._fontInfo=l.get(50),this._lineHeight=l.get(66),this._emptySelectionClipboard=l.get(37),this._copyWithSyntaxHighlighting=l.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:w}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${w*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(l)),this.textArea.setAttribute("aria-required",l.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(l.get(123))),(n.hasChanged(34)||n.hasChanged(90))&&this._ensureReadOnlyAttribute(),n.hasChanged(2)&&this._textAreaInput.writeNativeTextAreaContent("strategy changed"),!0}onCursorStateChanged(n){return this._selections=n.selections.slice(0),this._modelSelections=n.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return this._scrollLeft=n.scrollLeft,this._scrollTop=n.scrollTop,!0}onZonesChanged(n){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(n){n.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",n.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),n.role&&this.textArea.setAttribute("role",n.role)}_ensureReadOnlyAttribute(){const n=this._context.configuration.options;!gn.F.enabled||n.get(34)&&n.get(90)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(n){var l;this._primaryCursorPosition=new He.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=n.visibleRangeForPosition(this._primaryCursorPosition),(l=this._visibleTextArea)===null||l===void 0||l.prepareRender(n)}render(n){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){var n;if(this._visibleTextArea){const w=this._visibleTextArea.visibleTextareaStart,z=this._visibleTextArea.visibleTextareaEnd,ae=this._visibleTextArea.startPosition,ge=this._visibleTextArea.endPosition;if(ae&&ge&&w&&z&&z.left>=this._scrollLeft&&w.left<=this._scrollLeft+this._contentWidth){const ye=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,Ge=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let ot=this._visibleTextArea.widthOfHiddenLineTextBefore,ht=this._contentLeft+w.left-this._scrollLeft,Et=z.left-w.left+1;if(ht<this._contentLeft){const wi=this._contentLeft-ht;ht+=wi,ot+=wi,Et-=wi}Et>this._contentWidth&&(Et=this._contentWidth);const wt=this._context.viewModel.getViewLineData(ae.lineNumber),$t=wt.tokens.findTokenIndexAtOffset(ae.column-1),qt=wt.tokens.findTokenIndexAtOffset(ge.column-1),ci=$t===qt,gi=this._visibleTextArea.definePresentation(ci?wt.tokens.getPresentation($t):null);this.textArea.domNode.scrollTop=Ge*this._lineHeight,this.textArea.domNode.scrollLeft=ot,this._doRender({lastRenderPosition:null,top:ye,left:ht,width:Et,height:this._lineHeight,useCover:!1,color:(En.RW.getColorMap()||[])[gi.foreground],italic:gi.italic,bold:gi.bold,underline:gi.underline,strikethrough:gi.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const l=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(l<this._contentLeft||l>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const m=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(m<0||m>this._contentHeight){this._renderAtTopLeft();return}if(u.dz||this._accessibilitySupport===2){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:m,left:this._textAreaWrapping?this._contentLeft:l,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const w=(n=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&n!==void 0?n:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=w*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:m,left:this._textAreaWrapping?this._contentLeft:l,width:this._textAreaWidth,height:ds?0:1,useCover:!1})}_newlinecount(n){let l=0,m=-1;do{if(m=n.indexOf(`
`,m+1),m===-1)break;l++}while(!0);return l}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:ds?0:1,useCover:!0})}_doRender(n){this._lastRenderPosition=n.lastRenderPosition;const l=this.textArea,m=this.textAreaCover;(0,dn.N)(l,this._fontInfo),l.setTop(n.top),l.setLeft(n.left),l.setWidth(n.width),l.setHeight(n.height),l.setColor(n.color?bn.Il.Format.CSS.formatHex(n.color):""),l.setFontStyle(n.italic?"italic":""),n.bold&&l.setFontWeight("bold"),l.setTextDecoration(`${n.underline?" underline":""}${n.strikethrough?" line-through":""}`),m.setTop(n.useCover?n.top:0),m.setLeft(n.useCover?n.left:0),m.setWidth(n.useCover?n.width:0),m.setHeight(n.useCover?n.height:0);const w=this._context.configuration.options;w.get(57)?m.setClassName("monaco-editor-background textAreaCover "+Ri.OUTER_CLASS_NAME):w.get(67).renderType!==0?m.setClassName("monaco-editor-background textAreaCover "+Nt.CLASS_NAME):m.setClassName("monaco-editor-background textAreaCover")}};cs=en([Jn(3,Bn.d),Jn(4,kn.TG)],cs);function ps(Lt,n,l,m){if(n.length===0)return 0;const w=Lt.createElement("div");w.style.position="absolute",w.style.top="-50000px",w.style.width="50000px";const z=Lt.createElement("span");(0,dn.N)(z,l),z.style.whiteSpace="pre",z.style.tabSize=`${m*l.spaceWidth}px`,z.append(n),w.appendChild(z),Lt.body.appendChild(w);const ae=z.offsetWidth;return Lt.body.removeChild(w),ae}var In=c(55508);class os{constructor(n,l,m,w){this.configuration=n,this.viewModel=l,this.userInputEvents=m,this.commandDelegate=w}paste(n,l,m,w){this.commandDelegate.paste(n,l,m,w)}type(n){this.commandDelegate.type(n)}compositionType(n,l,m,w){this.commandDelegate.compositionType(n,l,m,w)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(n){In.Ox.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:n})}_validateViewColumn(n){const l=this.viewModel.getLineMinColumn(n.lineNumber);return n.column<l?new He.L(n.lineNumber,l):n}_hasMulticursorModifier(n){switch(this.configuration.options.get(77)){case"altKey":return n.altKey;case"ctrlKey":return n.ctrlKey;case"metaKey":return n.metaKey;default:return!1}}_hasNonMulticursorModifier(n){switch(this.configuration.options.get(77)){case"altKey":return n.ctrlKey||n.metaKey;case"ctrlKey":return n.altKey||n.metaKey;case"metaKey":return n.ctrlKey||n.altKey;default:return!1}}dispatchMouse(n){const l=this.configuration.options,m=u.IJ&&l.get(106),w=l.get(22);n.middleButton&&!m?this._columnSelect(n.position,n.mouseColumn,n.inSelectionMode):n.startedOnLineNumbers?this._hasMulticursorModifier(n)?n.inSelectionMode?this._lastCursorLineSelect(n.position,n.revealType):this._createCursor(n.position,!0):n.inSelectionMode?this._lineSelectDrag(n.position,n.revealType):this._lineSelect(n.position,n.revealType):n.mouseDownCount>=4?this._selectAll():n.mouseDownCount===3?this._hasMulticursorModifier(n)?n.inSelectionMode?this._lastCursorLineSelectDrag(n.position,n.revealType):this._lastCursorLineSelect(n.position,n.revealType):n.inSelectionMode?this._lineSelectDrag(n.position,n.revealType):this._lineSelect(n.position,n.revealType):n.mouseDownCount===2?n.onInjectedText||(this._hasMulticursorModifier(n)?this._lastCursorWordSelect(n.position,n.revealType):n.inSelectionMode?this._wordSelectDrag(n.position,n.revealType):this._wordSelect(n.position,n.revealType)):this._hasMulticursorModifier(n)?this._hasNonMulticursorModifier(n)||(n.shiftKey?this._columnSelect(n.position,n.mouseColumn,!0):n.inSelectionMode?this._lastCursorMoveToSelect(n.position,n.revealType):this._createCursor(n.position,!1)):n.inSelectionMode?n.altKey?this._columnSelect(n.position,n.mouseColumn,!0):w?this._columnSelect(n.position,n.mouseColumn,!0):this._moveToSelect(n.position,n.revealType):this.moveTo(n.position,n.revealType)}_usualArgs(n,l){return n=this._validateViewColumn(n),{source:"mouse",position:this._convertViewToModelPosition(n),viewPosition:n,revealType:l}}moveTo(n,l){In.Ox.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(n,l))}_moveToSelect(n,l){In.Ox.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(n,l))}_columnSelect(n,l,m){n=this._validateViewColumn(n),In.Ox.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(n),viewPosition:n,mouseColumn:l,doColumnSelect:m})}_createCursor(n,l){n=this._validateViewColumn(n),In.Ox.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(n),viewPosition:n,wholeLine:l})}_lastCursorMoveToSelect(n,l){In.Ox.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(n,l))}_wordSelect(n,l){In.Ox.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(n,l))}_wordSelectDrag(n,l){In.Ox.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(n,l))}_lastCursorWordSelect(n,l){In.Ox.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(n,l))}_lineSelect(n,l){In.Ox.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(n,l))}_lineSelectDrag(n,l){In.Ox.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(n,l))}_lastCursorLineSelect(n,l){In.Ox.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(n,l))}_lastCursorLineSelectDrag(n,l){In.Ox.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(n,l))}_selectAll(){In.Ox.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(n){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(n)}emitKeyDown(n){this.userInputEvents.emitKeyDown(n)}emitKeyUp(n){this.userInputEvents.emitKeyUp(n)}emitContextMenu(n){this.userInputEvents.emitContextMenu(n)}emitMouseMove(n){this.userInputEvents.emitMouseMove(n)}emitMouseLeave(n){this.userInputEvents.emitMouseLeave(n)}emitMouseUp(n){this.userInputEvents.emitMouseUp(n)}emitMouseDown(n){this.userInputEvents.emitMouseDown(n)}emitMouseDrag(n){this.userInputEvents.emitMouseDrag(n)}emitMouseDrop(n){this.userInputEvents.emitMouseDrop(n)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(n){this.userInputEvents.emitMouseWheel(n)}}class ui{constructor(n){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=n}emitKeyDown(n){var l;(l=this.onKeyDown)===null||l===void 0||l.call(this,n)}emitKeyUp(n){var l;(l=this.onKeyUp)===null||l===void 0||l.call(this,n)}emitContextMenu(n){var l;(l=this.onContextMenu)===null||l===void 0||l.call(this,this._convertViewToModelMouseEvent(n))}emitMouseMove(n){var l;(l=this.onMouseMove)===null||l===void 0||l.call(this,this._convertViewToModelMouseEvent(n))}emitMouseLeave(n){var l;(l=this.onMouseLeave)===null||l===void 0||l.call(this,this._convertViewToModelMouseEvent(n))}emitMouseDown(n){var l;(l=this.onMouseDown)===null||l===void 0||l.call(this,this._convertViewToModelMouseEvent(n))}emitMouseUp(n){var l;(l=this.onMouseUp)===null||l===void 0||l.call(this,this._convertViewToModelMouseEvent(n))}emitMouseDrag(n){var l;(l=this.onMouseDrag)===null||l===void 0||l.call(this,this._convertViewToModelMouseEvent(n))}emitMouseDrop(n){var l;(l=this.onMouseDrop)===null||l===void 0||l.call(this,this._convertViewToModelMouseEvent(n))}emitMouseDropCanceled(){var n;(n=this.onMouseDropCanceled)===null||n===void 0||n.call(this)}emitMouseWheel(n){var l;(l=this.onMouseWheel)===null||l===void 0||l.call(this,n)}_convertViewToModelMouseEvent(n){return n.target?{event:n.event,target:this._convertViewToModelMouseTarget(n.target)}:n}_convertViewToModelMouseTarget(n){return ui.convertViewToModelMouseTarget(n,this._coordinatesConverter)}static convertViewToModelMouseTarget(n,l){const m=Di({},n);return m.position&&(m.position=l.convertViewPositionToModelPosition(m.position)),m.range&&(m.range=l.convertViewRangeToModelRange(m.range)),(m.type===5||m.type===8)&&(m.detail=this.convertViewToModelViewZoneData(m.detail,l)),m}static convertViewToModelViewZoneData(n,l){return{viewZoneId:n.viewZoneId,positionBefore:n.positionBefore?l.convertViewPositionToModelPosition(n.positionBefore):n.positionBefore,positionAfter:n.positionAfter?l.convertViewPositionToModelPosition(n.positionAfter):n.positionAfter,position:l.convertViewPositionToModelPosition(n.position),afterLineNumber:l.convertViewPositionToModelPosition(new He.L(n.afterLineNumber,1)).lineNumber}}}var ke=c(13158),Ke=c(6180);class Ue{constructor(n){this._createLine=n,this._set(1,[])}flush(){this._set(1,[])}_set(n,l){this._lines=l,this._rendLineNumberStart=n}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(n){const l=n-this._rendLineNumberStart;if(l<0||l>=this._lines.length)throw new B.he("Illegal value for lineNumber");return this._lines[l]}onLinesDeleted(n,l){if(this.getCount()===0)return null;const m=this.getStartLineNumber(),w=this.getEndLineNumber();if(l<m){const ye=l-n+1;return this._rendLineNumberStart-=ye,null}if(n>w)return null;let z=0,ae=0;for(let ye=m;ye<=w;ye++){const Ge=ye-this._rendLineNumberStart;n<=ye&&ye<=l&&(ae===0?(z=Ge,ae=1):ae++)}if(n<m){let ye=0;l<m?ye=l-n+1:ye=m-n,this._rendLineNumberStart-=ye}return this._lines.splice(z,ae)}onLinesChanged(n,l){const m=n+l-1;if(this.getCount()===0)return!1;const w=this.getStartLineNumber(),z=this.getEndLineNumber();let ae=!1;for(let ge=n;ge<=m;ge++)ge>=w&&ge<=z&&(this._lines[ge-this._rendLineNumberStart].onContentChanged(),ae=!0);return ae}onLinesInserted(n,l){if(this.getCount()===0)return null;const m=l-n+1,w=this.getStartLineNumber(),z=this.getEndLineNumber();if(n<=w)return this._rendLineNumberStart+=m,null;if(n>z)return null;if(m+n>z)return this._lines.splice(n-this._rendLineNumberStart,z-n+1);const ae=[];for(let ht=0;ht<m;ht++)ae[ht]=this._createLine();const ge=n-this._rendLineNumberStart,ye=this._lines.slice(0,ge),Ge=this._lines.slice(ge,this._lines.length-m),ot=this._lines.slice(this._lines.length-m,this._lines.length);return this._lines=ye.concat(ae).concat(Ge),ot}onTokensChanged(n){if(this.getCount()===0)return!1;const l=this.getStartLineNumber(),m=this.getEndLineNumber();let w=!1;for(let z=0,ae=n.length;z<ae;z++){const ge=n[z];if(ge.toLineNumber<l||ge.fromLineNumber>m)continue;const ye=Math.max(l,ge.fromLineNumber),Ge=Math.min(m,ge.toLineNumber);for(let ot=ye;ot<=Ge;ot++){const ht=ot-this._rendLineNumberStart;this._lines[ht].onTokensChanged(),w=!0}}return w}}class bt{constructor(n){this._host=n,this.domNode=this._createDomNode(),this._linesCollection=new Ue(()=>this._host.createVisibleLine())}_createDomNode(){const n=(0,xe.X)(document.createElement("div"));return n.setClassName("view-layer"),n.setPosition("absolute"),n.domNode.setAttribute("role","presentation"),n.domNode.setAttribute("aria-hidden","true"),n}onConfigurationChanged(n){return!!n.hasChanged(143)}onFlushed(n){return this._linesCollection.flush(),!0}onLinesChanged(n){return this._linesCollection.onLinesChanged(n.fromLineNumber,n.count)}onLinesDeleted(n){const l=this._linesCollection.onLinesDeleted(n.fromLineNumber,n.toLineNumber);if(l)for(let m=0,w=l.length;m<w;m++){const z=l[m].getDomNode();z&&this.domNode.domNode.removeChild(z)}return!0}onLinesInserted(n){const l=this._linesCollection.onLinesInserted(n.fromLineNumber,n.toLineNumber);if(l)for(let m=0,w=l.length;m<w;m++){const z=l[m].getDomNode();z&&this.domNode.domNode.removeChild(z)}return!0}onScrollChanged(n){return n.scrollTopChanged}onTokensChanged(n){return this._linesCollection.onTokensChanged(n.ranges)}onZonesChanged(n){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(n){return this._linesCollection.getLine(n)}renderLines(n){const l=this._linesCollection._get(),m=new it(this.domNode.domNode,this._host,n),w={rendLineNumberStart:l.rendLineNumberStart,lines:l.lines,linesLength:l.lines.length},z=m.render(w,n.startLineNumber,n.endLineNumber,n.relativeVerticalOffset);this._linesCollection._set(z.rendLineNumberStart,z.lines)}}class it{constructor(n,l,m){this.domNode=n,this.host=l,this.viewportData=m}render(n,l,m,w){const z={rendLineNumberStart:n.rendLineNumberStart,lines:n.lines.slice(0),linesLength:n.linesLength};if(z.rendLineNumberStart+z.linesLength-1<l||m<z.rendLineNumberStart){z.rendLineNumberStart=l,z.linesLength=m-l+1,z.lines=[];for(let ae=l;ae<=m;ae++)z.lines[ae-l]=this.host.createVisibleLine();return this._finishRendering(z,!0,w),z}if(this._renderUntouchedLines(z,Math.max(l-z.rendLineNumberStart,0),Math.min(m-z.rendLineNumberStart,z.linesLength-1),w,l),z.rendLineNumberStart>l){const ae=l,ge=Math.min(m,z.rendLineNumberStart-1);ae<=ge&&(this._insertLinesBefore(z,ae,ge,w,l),z.linesLength+=ge-ae+1)}else if(z.rendLineNumberStart<l){const ae=Math.min(z.linesLength,l-z.rendLineNumberStart);ae>0&&(this._removeLinesBefore(z,ae),z.linesLength-=ae)}if(z.rendLineNumberStart=l,z.rendLineNumberStart+z.linesLength-1<m){const ae=z.rendLineNumberStart+z.linesLength,ge=m;ae<=ge&&(this._insertLinesAfter(z,ae,ge,w,l),z.linesLength+=ge-ae+1)}else if(z.rendLineNumberStart+z.linesLength-1>m){const ae=Math.max(0,m-z.rendLineNumberStart+1),ye=z.linesLength-1-ae+1;ye>0&&(this._removeLinesAfter(z,ye),z.linesLength-=ye)}return this._finishRendering(z,!1,w),z}_renderUntouchedLines(n,l,m,w,z){const ae=n.rendLineNumberStart,ge=n.lines;for(let ye=l;ye<=m;ye++){const Ge=ae+ye;ge[ye].layoutLine(Ge,w[Ge-z])}}_insertLinesBefore(n,l,m,w,z){const ae=[];let ge=0;for(let ye=l;ye<=m;ye++)ae[ge++]=this.host.createVisibleLine();n.lines=ae.concat(n.lines)}_removeLinesBefore(n,l){for(let m=0;m<l;m++){const w=n.lines[m].getDomNode();w&&this.domNode.removeChild(w)}n.lines.splice(0,l)}_insertLinesAfter(n,l,m,w,z){const ae=[];let ge=0;for(let ye=l;ye<=m;ye++)ae[ge++]=this.host.createVisibleLine();n.lines=n.lines.concat(ae)}_removeLinesAfter(n,l){const m=n.linesLength-l;for(let w=0;w<l;w++){const z=n.lines[m+w].getDomNode();z&&this.domNode.removeChild(z)}n.lines.splice(m,l)}_finishRenderingNewLines(n,l,m,w){it._ttPolicy&&(m=it._ttPolicy.createHTML(m));const z=this.domNode.lastChild;l||!z?this.domNode.innerHTML=m:z.insertAdjacentHTML("afterend",m);let ae=this.domNode.lastChild;for(let ge=n.linesLength-1;ge>=0;ge--){const ye=n.lines[ge];w[ge]&&(ye.setDomNode(ae),ae=ae.previousSibling)}}_finishRenderingInvalidLines(n,l,m){const w=document.createElement("div");it._ttPolicy&&(l=it._ttPolicy.createHTML(l)),w.innerHTML=l;for(let z=0;z<n.linesLength;z++){const ae=n.lines[z];if(m[z]){const ge=w.firstChild,ye=ae.getDomNode();ye.parentNode.replaceChild(ge,ye),ae.setDomNode(ge)}}}_finishRendering(n,l,m){const w=it._sb,z=n.linesLength,ae=n.lines,ge=n.rendLineNumberStart,ye=[];{w.reset();let Ge=!1;for(let ot=0;ot<z;ot++){const ht=ae[ot];ye[ot]=!1,!(ht.getDomNode()||!ht.renderLine(ot+ge,m[ot],this.viewportData,w))&&(ye[ot]=!0,Ge=!0)}Ge&&this._finishRenderingNewLines(n,l,w.build(),ye)}{w.reset();let Ge=!1;const ot=[];for(let ht=0;ht<z;ht++){const Et=ae[ht];ot[ht]=!1,!(ye[ht]||!Et.renderLine(ht+ge,m[ht],this.viewportData,w))&&(ot[ht]=!0,Ge=!0)}Ge&&this._finishRenderingInvalidLines(n,w.build(),ot)}}}it._ttPolicy=(0,ke.Z)("editorViewLayer",{createHTML:Lt=>Lt}),it._sb=new Ke.HT(1e5);class fi extends lt{constructor(n){super(n),this._visibleLines=new bt(this),this.domNode=this._visibleLines.domNode;const m=this._context.configuration.options.get(50);(0,dn.N)(this.domNode,m),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let n=0,l=this._dynamicOverlays.length;n<l;n++)if(this._dynamicOverlays[n].shouldRender())return!0;return!1}dispose(){super.dispose();for(let n=0,l=this._dynamicOverlays.length;n<l;n++)this._dynamicOverlays[n].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new _i(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(n){this._dynamicOverlays.push(n)}onConfigurationChanged(n){this._visibleLines.onConfigurationChanged(n);const l=this._visibleLines.getStartLineNumber(),m=this._visibleLines.getEndLineNumber();for(let ae=l;ae<=m;ae++)this._visibleLines.getVisibleLine(ae).onConfigurationChanged(n);const z=this._context.configuration.options.get(50);return(0,dn.N)(this.domNode,z),!0}onFlushed(n){return this._visibleLines.onFlushed(n)}onFocusChanged(n){return this._isFocused=n.isFocused,!0}onLinesChanged(n){return this._visibleLines.onLinesChanged(n)}onLinesDeleted(n){return this._visibleLines.onLinesDeleted(n)}onLinesInserted(n){return this._visibleLines.onLinesInserted(n)}onScrollChanged(n){return this._visibleLines.onScrollChanged(n)||!0}onTokensChanged(n){return this._visibleLines.onTokensChanged(n)}onZonesChanged(n){return this._visibleLines.onZonesChanged(n)}prepareRender(n){const l=this._dynamicOverlays.filter(m=>m.shouldRender());for(let m=0,w=l.length;m<w;m++){const z=l[m];z.prepareRender(n),z.onDidRender()}}render(n){this._viewOverlaysRender(n),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(n){this._visibleLines.renderLines(n.viewportData)}}class _i{constructor(n,l){this._configuration=n,this._lineHeight=this._configuration.options.get(66),this._dynamicOverlays=l,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(n){this._domNode=(0,xe.X)(n)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(n){this._lineHeight=this._configuration.options.get(66)}renderLine(n,l,m,w){let z="";for(let ae=0,ge=this._dynamicOverlays.length;ae<ge;ae++){const ye=this._dynamicOverlays[ae];z+=ye.render(m.startLineNumber,n)}return this._renderedContent===z?!1:(this._renderedContent=z,w.appendString('<div style="position:absolute;top:'),w.appendString(String(l)),w.appendString("px;width:100%;height:"),w.appendString(String(this._lineHeight)),w.appendString('px;">'),w.appendString(z),w.appendString("</div>"),!0)}layoutLine(n,l){this._domNode&&(this._domNode.setTop(l),this._domNode.setHeight(this._lineHeight))}}class Te extends fi{constructor(n){super(n);const m=this._context.configuration.options.get(143);this._contentWidth=m.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(n){const m=this._context.configuration.options.get(143);return this._contentWidth=m.contentWidth,super.onConfigurationChanged(n)||!0}onScrollChanged(n){return super.onScrollChanged(n)||n.scrollWidthChanged}_viewOverlaysRender(n){super._viewOverlaysRender(n),this.domNode.setWidth(Math.max(n.scrollWidth,this._contentWidth))}}class tt extends fi{constructor(n){super(n);const l=this._context.configuration.options,m=l.get(143);this._contentLeft=m.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,dn.N)(this.domNode,l.get(50))}onConfigurationChanged(n){const l=this._context.configuration.options;(0,dn.N)(this.domNode,l.get(50));const m=l.get(143);return this._contentLeft=m.contentLeft,super.onConfigurationChanged(n)||!0}onScrollChanged(n){return super.onScrollChanged(n)||n.scrollHeightChanged}_viewOverlaysRender(n){super._viewOverlaysRender(n);const l=Math.min(n.scrollHeight,1e6);this.domNode.setHeight(l),this.domNode.setWidth(this._contentLeft)}}class Wt extends lt{constructor(n,l){super(n),this._viewDomNode=l,this._widgets={},this.domNode=(0,xe.X)(document.createElement("div")),ut.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,xe.X)(document.createElement("div")),ut.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(n){const l=Object.keys(this._widgets);for(const m of l)this._widgets[m].onConfigurationChanged(n);return!0}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onLineMappingChanged(n){return this._updateAnchorsViewPositions(),!0}onLinesChanged(n){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(n){return this._updateAnchorsViewPositions(),!0}onLinesInserted(n){return this._updateAnchorsViewPositions(),!0}onScrollChanged(n){return!0}onZonesChanged(n){return!0}_updateAnchorsViewPositions(){const n=Object.keys(this._widgets);for(const l of n)this._widgets[l].updateAnchorViewPosition()}addWidget(n){const l=new Vt(this._context,this._viewDomNode,n);this._widgets[l.id]=l,l.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(l.domNode):this.domNode.appendChild(l.domNode),this.setShouldRender()}setWidgetPosition(n,l,m,w,z){this._widgets[n.getId()].setPosition(l,m,w,z),this.setShouldRender()}removeWidget(n){const l=n.getId();if(this._widgets.hasOwnProperty(l)){const m=this._widgets[l];delete this._widgets[l];const w=m.domNode.domNode;w.parentNode.removeChild(w),w.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(n){return this._widgets.hasOwnProperty(n)?this._widgets[n].suppressMouseDown:!1}onBeforeRender(n){const l=Object.keys(this._widgets);for(const m of l)this._widgets[m].onBeforeRender(n)}prepareRender(n){const l=Object.keys(this._widgets);for(const m of l)this._widgets[m].prepareRender(n)}render(n){const l=Object.keys(this._widgets);for(const m of l)this._widgets[m].render(n)}}class Vt{constructor(n,l,m){this._primaryAnchor=new Ni(null,null),this._secondaryAnchor=new Ni(null,null),this._context=n,this._viewDomNode=l,this._actual=m,this.domNode=(0,xe.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const w=this._context.configuration.options,z=w.get(143);this._fixedOverflowWidgets=w.get(42),this._contentWidth=z.contentWidth,this._contentLeft=z.contentLeft,this._lineHeight=w.get(66),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(n){const l=this._context.configuration.options;if(this._lineHeight=l.get(66),n.hasChanged(143)){const m=l.get(143);this._contentLeft=m.contentLeft,this._contentWidth=m.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(n,l,m){this._affinity=n,this._primaryAnchor=w(l,this._context.viewModel,this._affinity),this._secondaryAnchor=w(m,this._context.viewModel,this._affinity);function w(z,ae,ge){if(!z)return new Ni(null,null);const ye=ae.model.validatePosition(z);if(ae.coordinatesConverter.modelPositionIsVisible(ye)){const Ge=ae.coordinatesConverter.convertModelPositionToViewPosition(ye,ge!=null?ge:void 0);return new Ni(z,Ge)}return new Ni(z,null)}}_getMaxWidth(){const n=this.domNode.domNode.ownerDocument,l=n.defaultView;return this.allowEditorOverflow?(l==null?void 0:l.innerWidth)||n.documentElement.offsetWidth||n.body.offsetWidth:this._contentWidth}setPosition(n,l,m,w){this._setPosition(w,n,l),this._preference=m,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(n,l,m,w){const z=n.top,ae=z,ge=n.top+n.height,ye=w.viewportHeight-ge,Ge=z-m,ot=ae>=m,ht=ge,Et=ye>=m;let wt=n.left;return wt+l>w.scrollLeft+w.viewportWidth&&(wt=w.scrollLeft+w.viewportWidth-l),wt<w.scrollLeft&&(wt=w.scrollLeft),{fitsAbove:ot,aboveTop:Ge,fitsBelow:Et,belowTop:ht,left:wt}}_layoutHorizontalSegmentInPage(n,l,m,w){var z;const ye=Math.max(15,l.left-w),Ge=Math.min(l.left+l.width+w,n.width-15),ht=this._viewDomNode.domNode.ownerDocument.defaultView;let Et=l.left+m-((z=ht==null?void 0:ht.scrollX)!==null&&z!==void 0?z:0);if(Et+w>Ge){const wt=Et-(Ge-w);Et-=wt,m-=wt}if(Et<ye){const wt=Et-ye;Et-=wt,m-=wt}return[m,Et]}_layoutBoxInPage(n,l,m,w){var z,ae;const ge=n.top-m,ye=n.top+n.height,Ge=M.i(this._viewDomNode.domNode),ot=this._viewDomNode.domNode.ownerDocument,ht=ot.defaultView,Et=Ge.top+ge-((z=ht==null?void 0:ht.scrollY)!==null&&z!==void 0?z:0),wt=Ge.top+ye-((ae=ht==null?void 0:ht.scrollY)!==null&&ae!==void 0?ae:0),$t=M.D6(ot.body),[qt,ci]=this._layoutHorizontalSegmentInPage($t,Ge,n.left-w.scrollLeft+this._contentLeft,l),gi=22,wi=22,Bi=Et>=gi,nn=wt+m<=$t.height-wi;return this._fixedOverflowWidgets?{fitsAbove:Bi,aboveTop:Math.max(Et,gi),fitsBelow:nn,belowTop:wt,left:ci}:{fitsAbove:Bi,aboveTop:ge,fitsBelow:nn,belowTop:ye,left:qt}}_prepareRenderWidgetAtExactPositionOverflowing(n){return new ji(n.top,n.left+this._contentLeft)}_getAnchorsCoordinates(n){var l,m;const w=ge(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),z=((l=this._secondaryAnchor.viewPosition)===null||l===void 0?void 0:l.lineNumber)===((m=this._primaryAnchor.viewPosition)===null||m===void 0?void 0:m.lineNumber)?this._secondaryAnchor.viewPosition:null,ae=ge(z,this._affinity,this._lineHeight);return{primary:w,secondary:ae};function ge(ye,Ge,ot){if(!ye)return null;const ht=n.visibleRangeForPosition(ye);if(!ht)return null;const Et=ye.column===1&&Ge===3?0:ht.left,wt=n.getVerticalOffsetForLineNumber(ye.lineNumber)-n.scrollTop;return new Ai(wt,Et,ot)}}_reduceAnchorCoordinates(n,l,m){if(!l)return n;const w=this._context.configuration.options.get(50);let z=l.left;return z<n.left?z=Math.max(z,n.left-m+w.typicalFullwidthCharacterWidth):z=Math.min(z,n.left+m-w.typicalFullwidthCharacterWidth),new Ai(n.top,z,n.height)}_prepareRenderWidget(n){if(!this._preference||this._preference.length===0)return null;const{primary:l,secondary:m}=this._getAnchorsCoordinates(n);if(!l)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let ae=null;if(typeof this._actual.beforeRender=="function"&&(ae=on(this._actual.beforeRender,this._actual)),ae)this._cachedDomNodeOffsetWidth=ae.width,this._cachedDomNodeOffsetHeight=ae.height;else{const ye=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(ye.width),this._cachedDomNodeOffsetHeight=Math.round(ye.height)}}const w=this._reduceAnchorCoordinates(l,m,this._cachedDomNodeOffsetWidth);let z;this.allowEditorOverflow?z=this._layoutBoxInPage(w,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,n):z=this._layoutBoxInViewport(w,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,n);for(let ae=1;ae<=2;ae++)for(const ge of this._preference)if(ge===1){if(!z)return null;if(ae===2||z.fitsAbove)return{coordinate:new ji(z.aboveTop,z.left),position:1}}else if(ge===2){if(!z)return null;if(ae===2||z.fitsBelow)return{coordinate:new ji(z.belowTop,z.left),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new ji(w.top,w.left)),position:0}:{coordinate:new ji(w.top,w.left),position:0};return null}onBeforeRender(n){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<n.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>n.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(n){this._renderData=this._prepareRenderWidget(n)}render(n){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&on(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+n.scrollTop-n.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&on(this._actual.afterRender,this._actual,this._renderData.position)}}class Ni{constructor(n,l){this.modelPosition=n,this.viewPosition=l}}class ji{constructor(n,l){this.top=n,this.left=l,this._coordinateBrand=void 0}}class Ai{constructor(n,l,m){this.top=n,this.left=l,this.height=m,this._anchorCoordinateBrand=void 0}}function on(Lt,n,...l){try{return Lt.call(n,...l)}catch(m){return null}}var mn=c(34732);class Rn extends Qi{constructor(n){super(),this._context=n;const l=this._context.configuration.options,m=l.get(143);this._lineHeight=l.get(66),this._renderLineHighlight=l.get(95),this._renderLineHighlightOnlyWhenFocus=l.get(96),this._contentLeft=m.contentLeft,this._contentWidth=m.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new Ce.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let n=!1;const l=this._selections.map(w=>w.positionLineNumber);l.sort((w,z)=>w-z),_.fS(this._cursorLineNumbers,l)||(this._cursorLineNumbers=l,n=!0);const m=this._selections.every(w=>w.isEmpty());return this._selectionIsEmpty!==m&&(this._selectionIsEmpty=m,n=!0),n}onThemeChanged(n){return this._readFromSelections()}onConfigurationChanged(n){const l=this._context.configuration.options,m=l.get(143);return this._lineHeight=l.get(66),this._renderLineHighlight=l.get(95),this._renderLineHighlightOnlyWhenFocus=l.get(96),this._contentLeft=m.contentLeft,this._contentWidth=m.contentWidth,!0}onCursorStateChanged(n){return this._selections=n.selections,this._readFromSelections()}onFlushed(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollWidthChanged||n.scrollTopChanged}onZonesChanged(n){return!0}onFocusChanged(n){return this._renderLineHighlightOnlyWhenFocus?(this._focused=n.isFocused,!0):!1}prepareRender(n){if(!this._shouldRenderThis()){this._renderData=null;return}const l=this._renderOne(n),m=n.visibleRange.startLineNumber,w=n.visibleRange.endLineNumber,z=this._cursorLineNumbers.length;let ae=0;const ge=[];for(let ye=m;ye<=w;ye++){const Ge=ye-m;for(;ae<z&&this._cursorLineNumbers[ae]<ye;)ae++;ae<z&&this._cursorLineNumbers[ae]===ye?ge[Ge]=l:ge[Ge]=""}this._renderData=ge}render(n,l){if(!this._renderData)return"";const m=l-n;return m>=this._renderData.length?"":this._renderData[m]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class pi extends Rn{_renderOne(n){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(n.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class ti extends Rn{_renderOne(n){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,ei.Ic)((Lt,n)=>{const l=Lt.getColor(Be.Kh);if(l&&(n.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${l}; }`),n.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${l}; border: none; }`)),!l||l.isTransparent()||Lt.defines(Be.Mm)){const m=Lt.getColor(Be.Mm);m&&(n.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${m}; }`),n.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${m}; }`),(0,mn.c3)(Lt.type)&&(n.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),n.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});var ii=c(86171);class Ct extends Qi{constructor(n){super(),this._context=n;const l=this._context.configuration.options;this._lineHeight=l.get(66),this._typicalHalfwidthCharacterWidth=l.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(n){const l=this._context.configuration.options;return this._lineHeight=l.get(66),this._typicalHalfwidthCharacterWidth=l.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollTopChanged||n.scrollWidthChanged}onZonesChanged(n){return!0}prepareRender(n){const l=n.getDecorationsInViewport();let m=[],w=0;for(let ye=0,Ge=l.length;ye<Ge;ye++){const ot=l[ye];ot.options.className&&(m[w++]=ot)}m=m.sort((ye,Ge)=>{if(ye.options.zIndex<Ge.options.zIndex)return-1;if(ye.options.zIndex>Ge.options.zIndex)return 1;const ot=ye.options.className,ht=Ge.options.className;return ot<ht?-1:ot>ht?1:pe.e.compareRangesUsingStarts(ye.range,Ge.range)});const z=n.visibleRange.startLineNumber,ae=n.visibleRange.endLineNumber,ge=[];for(let ye=z;ye<=ae;ye++){const Ge=ye-z;ge[Ge]=""}this._renderWholeLineDecorations(n,m,ge),this._renderNormalDecorations(n,m,ge),this._renderResult=ge}_renderWholeLineDecorations(n,l,m){const w=String(this._lineHeight),z=n.visibleRange.startLineNumber,ae=n.visibleRange.endLineNumber;for(let ge=0,ye=l.length;ge<ye;ge++){const Ge=l[ge];if(!Ge.options.isWholeLine)continue;const ot='<div class="cdr '+Ge.options.className+'" style="left:0;width:100%;height:'+w+'px;"></div>',ht=Math.max(Ge.range.startLineNumber,z),Et=Math.min(Ge.range.endLineNumber,ae);for(let wt=ht;wt<=Et;wt++){const $t=wt-z;m[$t]+=ot}}}_renderNormalDecorations(n,l,m){var w;const z=String(this._lineHeight),ae=n.visibleRange.startLineNumber;let ge=null,ye=!1,Ge=null,ot=!1;for(let ht=0,Et=l.length;ht<Et;ht++){const wt=l[ht];if(wt.options.isWholeLine)continue;const $t=wt.options.className,qt=!!wt.options.showIfCollapsed;let ci=wt.range;if(qt&&ci.endColumn===1&&ci.endLineNumber!==ci.startLineNumber&&(ci=new pe.e(ci.startLineNumber,ci.startColumn,ci.endLineNumber-1,this._context.viewModel.getLineMaxColumn(ci.endLineNumber-1))),ge===$t&&ye===qt&&pe.e.areIntersectingOrTouching(Ge,ci)){Ge=pe.e.plusRange(Ge,ci);continue}ge!==null&&this._renderNormalDecoration(n,Ge,ge,ot,ye,z,ae,m),ge=$t,ye=qt,Ge=ci,ot=(w=wt.options.shouldFillLineOnLineBreak)!==null&&w!==void 0?w:!1}ge!==null&&this._renderNormalDecoration(n,Ge,ge,ot,ye,z,ae,m)}_renderNormalDecoration(n,l,m,w,z,ae,ge,ye){const Ge=n.linesVisibleRangesForRange(l,m==="findMatch");if(Ge)for(let ot=0,ht=Ge.length;ot<ht;ot++){const Et=Ge[ot];if(Et.outsideRenderedLine)continue;const wt=Et.lineNumber-ge;if(z&&Et.ranges.length===1){const $t=Et.ranges[0];if($t.width<this._typicalHalfwidthCharacterWidth){const qt=Math.round($t.left+$t.width/2),ci=Math.max(0,Math.round(qt-this._typicalHalfwidthCharacterWidth/2));Et.ranges[0]=new ii.yu(ci,this._typicalHalfwidthCharacterWidth)}}for(let $t=0,qt=Et.ranges.length;$t<qt;$t++){const ci=w&&Et.continuesOnNextLine&&qt===1,gi=Et.ranges[$t],wi='<div class="cdr '+m+'" style="left:'+String(gi.left)+(ci?"px;width:100%;height:":"px;width:"+String(gi.width)+"px;height:")+ae+'px;"></div>';ye[wt]+=wi}}}render(n,l){if(!this._renderResult)return"";const m=l-n;return m<0||m>=this._renderResult.length?"":this._renderResult[m]}}class It extends lt{constructor(n,l,m,w){super(n);const z=this._context.configuration.options,ae=z.get(102),ge=z.get(74),ye=z.get(40),Ge=z.get(105),ot={listenOnDomNode:m.domNode,className:"editor-scrollable "+(0,ei.m6)(n.theme.type),useShadows:!1,lazyRender:!0,vertical:ae.vertical,horizontal:ae.horizontal,verticalHasArrows:ae.verticalHasArrows,horizontalHasArrows:ae.horizontalHasArrows,verticalScrollbarSize:ae.verticalScrollbarSize,verticalSliderSize:ae.verticalSliderSize,horizontalScrollbarSize:ae.horizontalScrollbarSize,horizontalSliderSize:ae.horizontalSliderSize,handleMouseWheel:ae.handleMouseWheel,alwaysConsumeMouseWheel:ae.alwaysConsumeMouseWheel,arrowSize:ae.arrowSize,mouseWheelScrollSensitivity:ge,fastScrollSensitivity:ye,scrollPredominantAxis:Ge,scrollByPage:ae.scrollByPage};this.scrollbar=this._register(new De.$Z(l.domNode,ot,this._context.viewLayout.getScrollable())),ut.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,xe.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const ht=(Et,wt,$t)=>{const qt={};if(wt){const ci=Et.scrollTop;ci&&(qt.scrollTop=this._context.viewLayout.getCurrentScrollTop()+ci,Et.scrollTop=0)}if($t){const ci=Et.scrollLeft;ci&&(qt.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+ci,Et.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(qt,1)};this._register(M.nm(m.domNode,"scroll",Et=>ht(m.domNode,!0,!0))),this._register(M.nm(l.domNode,"scroll",Et=>ht(l.domNode,!0,!1))),this._register(M.nm(w.domNode,"scroll",Et=>ht(w.domNode,!0,!1))),this._register(M.nm(this.scrollbarDomNode.domNode,"scroll",Et=>ht(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const n=this._context.configuration.options,l=n.get(143);this.scrollbarDomNode.setLeft(l.contentLeft),n.get(72).side==="right"?this.scrollbarDomNode.setWidth(l.contentWidth+l.minimap.minimapWidth):this.scrollbarDomNode.setWidth(l.contentWidth),this.scrollbarDomNode.setHeight(l.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(n){this.scrollbar.delegateVerticalScrollbarPointerDown(n)}delegateScrollFromMouseWheelEvent(n){this.scrollbar.delegateScrollFromMouseWheelEvent(n)}onConfigurationChanged(n){if(n.hasChanged(102)||n.hasChanged(74)||n.hasChanged(40)){const l=this._context.configuration.options,m=l.get(102),w=l.get(74),z=l.get(40),ae=l.get(105),ge={vertical:m.vertical,horizontal:m.horizontal,verticalScrollbarSize:m.verticalScrollbarSize,horizontalScrollbarSize:m.horizontalScrollbarSize,scrollByPage:m.scrollByPage,handleMouseWheel:m.handleMouseWheel,mouseWheelScrollSensitivity:w,fastScrollSensitivity:z,scrollPredominantAxis:ae};this.scrollbar.updateOptions(ge)}return n.hasChanged(143)&&this._setLayout(),!0}onScrollChanged(n){return!0}onThemeChanged(n){return this.scrollbar.updateClassName("editor-scrollable "+(0,ei.m6)(this._context.theme.type)),!0}prepareRender(n){}render(n){this.scrollbar.renderNow()}}var Qt=c(22968),Ut=c(87550),Si=c(1912);class Vi extends Qi{constructor(n){super(),this._context=n,this._primaryPosition=null;const l=this._context.configuration.options,m=l.get(144),w=l.get(50);this._lineHeight=l.get(66),this._spaceWidth=w.spaceWidth,this._maxIndentLeft=m.wrappingColumn===-1?-1:m.wrappingColumn*w.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=l.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(n){const l=this._context.configuration.options,m=l.get(144),w=l.get(50);return this._lineHeight=l.get(66),this._spaceWidth=w.spaceWidth,this._maxIndentLeft=m.wrappingColumn===-1?-1:m.wrappingColumn*w.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=l.get(16),!0}onCursorStateChanged(n){var l;const w=n.selections[0].getPosition();return!((l=this._primaryPosition)===null||l===void 0)&&l.equals(w)?!1:(this._primaryPosition=w,!0)}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollTopChanged}onZonesChanged(n){return!0}onLanguageConfigurationChanged(n){return!0}prepareRender(n){var l,m,w,z;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const ae=n.visibleRange.startLineNumber,ge=n.visibleRange.endLineNumber,ye=n.scrollWidth,Ge=this._lineHeight,ot=this._primaryPosition,ht=this.getGuidesByLine(ae,Math.min(ge+1,this._context.viewModel.getLineCount()),ot),Et=[];for(let wt=ae;wt<=ge;wt++){const $t=wt-ae,qt=ht[$t];let ci="";const gi=(m=(l=n.visibleRangeForPosition(new He.L(wt,1)))===null||l===void 0?void 0:l.left)!==null&&m!==void 0?m:0;for(const wi of qt){const Bi=wi.column===-1?gi+(wi.visibleColumn-1)*this._spaceWidth:n.visibleRangeForPosition(new He.L(wt,wi.column)).left;if(Bi>ye||this._maxIndentLeft>0&&Bi>this._maxIndentLeft)break;const nn=wi.horizontalLine?wi.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",an=wi.horizontalLine?((z=(w=n.visibleRangeForPosition(new He.L(wt,wi.horizontalLine.endColumn)))===null||w===void 0?void 0:w.left)!==null&&z!==void 0?z:Bi+this._spaceWidth)-Bi:this._spaceWidth;ci+=`<div class="core-guide ${wi.className} ${nn}" style="left:${Bi}px;height:${Ge}px;width:${an}px"></div>`}Et[$t]=ci}this._renderResult=Et}getGuidesByLine(n,l,m){const w=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(n,l,m,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?Si.s6.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?Si.s6.EnabledForActive:Si.s6.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,z=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(n,l):null;let ae=0,ge=0,ye=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&m){const ht=this._context.viewModel.getActiveIndentGuide(m.lineNumber,n,l);ae=ht.startLineNumber,ge=ht.endLineNumber,ye=ht.indent}const{indentSize:Ge}=this._context.viewModel.model.getOptions(),ot=[];for(let ht=n;ht<=l;ht++){const Et=new Array;ot.push(Et);const wt=w?w[ht-n]:[],$t=new _.H9(wt),qt=z?z[ht-n]:0;for(let ci=1;ci<=qt;ci++){const gi=(ci-1)*Ge+1,wi=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||wt.length===0)&&ae<=ht&&ht<=ge&&ci===ye;Et.push(...$t.takeWhile(nn=>nn.visibleColumn<gi)||[]);const Bi=$t.peek();(!Bi||Bi.visibleColumn!==gi||Bi.horizontalLine)&&Et.push(new Si.UO(gi,-1,`core-guide-indent lvl-${(ci-1)%30}`+(wi?" indent-active":""),null,-1,-1))}Et.push(...$t.takeWhile(ci=>!0)||[])}return ot}render(n,l){if(!this._renderResult)return"";const m=l-n;return m<0||m>=this._renderResult.length?"":this._renderResult[m]}}function tn(Lt){if(!(Lt&&Lt.isTransparent()))return Lt}(0,ei.Ic)((Lt,n)=>{const l=[{bracketColor:Be.zJ,guideColor:Be.oV,guideColorActive:Be.Qb},{bracketColor:Be.Vs,guideColor:Be.m$,guideColorActive:Be.m3},{bracketColor:Be.CE,guideColor:Be.DS,guideColorActive:Be.To},{bracketColor:Be.UP,guideColor:Be.lS,guideColorActive:Be.L7},{bracketColor:Be.r0,guideColor:Be.Jn,guideColorActive:Be.HV},{bracketColor:Be.m1,guideColor:Be.YF,guideColorActive:Be.f9}],m=new Ut.W,w=[{indentColor:Be.gS,indentColorActive:Be.qe},{indentColor:Be.Tf,indentColorActive:Be.Xy},{indentColor:Be.H_,indentColorActive:Be.cK},{indentColor:Be.h1,indentColorActive:Be.N8},{indentColor:Be.vP,indentColorActive:Be.zd},{indentColor:Be.e9,indentColorActive:Be.ll}],z=l.map(ge=>{var ye,Ge;const ot=Lt.getColor(ge.bracketColor),ht=Lt.getColor(ge.guideColor),Et=Lt.getColor(ge.guideColorActive),wt=tn((ye=tn(ht))!==null&&ye!==void 0?ye:ot==null?void 0:ot.transparent(.3)),$t=tn((Ge=tn(Et))!==null&&Ge!==void 0?Ge:ot);if(!(!wt||!$t))return{guideColor:wt,guideColorActive:$t}}).filter(Qt.$K),ae=w.map(ge=>{const ye=Lt.getColor(ge.indentColor),Ge=Lt.getColor(ge.indentColorActive),ot=tn(ye),ht=tn(Ge);if(!(!ot||!ht))return{indentColor:ot,indentColorActive:ht}}).filter(Qt.$K);if(z.length>0){for(let ge=0;ge<30;ge++){const ye=z[ge%z.length];n.addRule(`.monaco-editor .${m.getInlineClassNameOfLevel(ge).replace(/ /g,".")} { --guide-color: ${ye.guideColor}; --guide-color-active: ${ye.guideColorActive}; }`)}n.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),n.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),n.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),n.addRule(`.monaco-editor .vertical.${m.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),n.addRule(`.monaco-editor .horizontal-top.${m.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),n.addRule(`.monaco-editor .horizontal-bottom.${m.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(ae.length>0){for(let ge=0;ge<30;ge++){const ye=ae[ge%ae.length];n.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${ge} { --indent-color: ${ye.indentColor}; --indent-color-active: ${ye.indentColorActive}; }`)}n.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),n.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}});var Ji=c(96925);class Cn{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const n=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=n.left,this._clientRectScale=n.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(n,l){this._domNode=n,this.endNode=l,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}class Tn{constructor(){this._currentVisibleRange=new pe.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(n){this._currentVisibleRange=n}}class Wn{constructor(n,l,m,w,z,ae,ge){this.minimalReveal=n,this.lineNumber=l,this.startColumn=m,this.endColumn=w,this.startScrollTop=z,this.stopScrollTop=ae,this.scrollType=ge,this.type="range",this.minLineNumber=l,this.maxLineNumber=l}}class qn{constructor(n,l,m,w,z){this.minimalReveal=n,this.selections=l,this.startScrollTop=m,this.stopScrollTop=w,this.scrollType=z,this.type="selections";let ae=l[0].startLineNumber,ge=l[0].endLineNumber;for(let ye=1,Ge=l.length;ye<Ge;ye++){const ot=l[ye];ae=Math.min(ae,ot.startLineNumber),ge=Math.max(ge,ot.endLineNumber)}this.minLineNumber=ae,this.maxLineNumber=ge}}class ln extends lt{constructor(n,l){super(n),this._linesContent=l,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new bt(this),this.domNode=this._visibleLines.domNode;const m=this._context.configuration,w=this._context.configuration.options,z=w.get(50),ae=w.get(144);this._lineHeight=w.get(66),this._typicalHalfwidthCharacterWidth=z.typicalHalfwidthCharacterWidth,this._isViewportWrapping=ae.isViewportWrapping,this._revealHorizontalRightPadding=w.get(99),this._cursorSurroundingLines=w.get(29),this._cursorSurroundingLinesStyle=w.get(30),this._canUseLayerHinting=!w.get(32),this._viewLineOptions=new ct.ob(m,this._context.theme.type),ut.write(this.domNode,7),this.domNode.setClassName(`view-lines ${hi}`),(0,dn.N)(this.domNode,z),this._maxLineWidth=0,this._asyncUpdateLineWidths=new Ji.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new Ji.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new Tn,this._horizontalRevealRequest=null,this._stickyScrollEnabled=w.get(114).enabled,this._maxNumberStickyLines=w.get(114).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new ct.Nt(this._viewLineOptions)}onConfigurationChanged(n){this._visibleLines.onConfigurationChanged(n),n.hasChanged(144)&&(this._maxLineWidth=0);const l=this._context.configuration.options,m=l.get(50),w=l.get(144);return this._lineHeight=l.get(66),this._typicalHalfwidthCharacterWidth=m.typicalHalfwidthCharacterWidth,this._isViewportWrapping=w.isViewportWrapping,this._revealHorizontalRightPadding=l.get(99),this._cursorSurroundingLines=l.get(29),this._cursorSurroundingLinesStyle=l.get(30),this._canUseLayerHinting=!l.get(32),this._stickyScrollEnabled=l.get(114).enabled,this._maxNumberStickyLines=l.get(114).maxLineCount,(0,dn.N)(this.domNode,m),this._onOptionsMaybeChanged(),n.hasChanged(143)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const n=this._context.configuration,l=new ct.ob(n,this._context.theme.type);if(!this._viewLineOptions.equals(l)){this._viewLineOptions=l;const m=this._visibleLines.getStartLineNumber(),w=this._visibleLines.getEndLineNumber();for(let z=m;z<=w;z++)this._visibleLines.getVisibleLine(z).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(n){const l=this._visibleLines.getStartLineNumber(),m=this._visibleLines.getEndLineNumber();let w=!1;for(let z=l;z<=m;z++)w=this._visibleLines.getVisibleLine(z).onSelectionChanged()||w;return w}onDecorationsChanged(n){{const l=this._visibleLines.getStartLineNumber(),m=this._visibleLines.getEndLineNumber();for(let w=l;w<=m;w++)this._visibleLines.getVisibleLine(w).onDecorationsChanged()}return!0}onFlushed(n){const l=this._visibleLines.onFlushed(n);return this._maxLineWidth=0,l}onLinesChanged(n){return this._visibleLines.onLinesChanged(n)}onLinesDeleted(n){return this._visibleLines.onLinesDeleted(n)}onLinesInserted(n){return this._visibleLines.onLinesInserted(n)}onRevealRangeRequest(n){const l=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),n.source,n.minimalReveal,n.range,n.selections,n.verticalType);if(l===-1)return!1;let m=this._context.viewLayout.validateScrollPosition({scrollTop:l});n.revealHorizontal?n.range&&n.range.startLineNumber!==n.range.endLineNumber?m={scrollTop:m.scrollTop,scrollLeft:0}:n.range?this._horizontalRevealRequest=new Wn(n.minimalReveal,n.range.startLineNumber,n.range.startColumn,n.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),m.scrollTop,n.scrollType):n.selections&&n.selections.length>0&&(this._horizontalRevealRequest=new qn(n.minimalReveal,n.selections,this._context.viewLayout.getCurrentScrollTop(),m.scrollTop,n.scrollType)):this._horizontalRevealRequest=null;const z=Math.abs(this._context.viewLayout.getCurrentScrollTop()-m.scrollTop)<=this._lineHeight?1:n.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(m,z),!0}onScrollChanged(n){if(this._horizontalRevealRequest&&n.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&n.scrollTopChanged){const l=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),m=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(n.scrollTop<l||n.scrollTop>m)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(n.scrollWidth),this._visibleLines.onScrollChanged(n)||!0}onTokensChanged(n){return this._visibleLines.onTokensChanged(n)}onZonesChanged(n){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(n)}onThemeChanged(n){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(n,l){const m=this._getViewLineDomNode(n);if(m===null)return null;const w=this._getLineNumberFor(m);if(w===-1||w<1||w>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(w)===1)return new He.L(w,1);const z=this._visibleLines.getStartLineNumber(),ae=this._visibleLines.getEndLineNumber();if(w<z||w>ae)return null;let ge=this._visibleLines.getVisibleLine(w).getColumnOfNodeOffset(n,l);const ye=this._context.viewModel.getLineMinColumn(w);return ge<ye&&(ge=ye),new He.L(w,ge)}_getViewLineDomNode(n){for(;n&&n.nodeType===1;){if(n.className===ct.Nt.CLASS_NAME)return n;n=n.parentElement}return null}_getLineNumberFor(n){const l=this._visibleLines.getStartLineNumber(),m=this._visibleLines.getEndLineNumber();for(let w=l;w<=m;w++){const z=this._visibleLines.getVisibleLine(w);if(n===z.getDomNode())return w}return-1}getLineWidth(n){const l=this._visibleLines.getStartLineNumber(),m=this._visibleLines.getEndLineNumber();if(n<l||n>m)return-1;const w=new Cn(this.domNode.domNode,this._textRangeRestingSpot),z=this._visibleLines.getVisibleLine(n).getWidth(w);return this._updateLineWidthsSlowIfDomDidLayout(w),z}linesVisibleRangesForRange(n,l){if(this.shouldRender())return null;const m=n.endLineNumber,w=pe.e.intersectRanges(n,this._lastRenderedData.getCurrentVisibleRange());if(!w)return null;const z=[];let ae=0;const ge=new Cn(this.domNode.domNode,this._textRangeRestingSpot);let ye=0;l&&(ye=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new He.L(w.startLineNumber,1)).lineNumber);const Ge=this._visibleLines.getStartLineNumber(),ot=this._visibleLines.getEndLineNumber();for(let ht=w.startLineNumber;ht<=w.endLineNumber;ht++){if(ht<Ge||ht>ot)continue;const Et=ht===w.startLineNumber?w.startColumn:1,wt=ht!==w.endLineNumber,$t=wt?this._context.viewModel.getLineMaxColumn(ht):w.endColumn,qt=this._visibleLines.getVisibleLine(ht).getVisibleRangesForRange(ht,Et,$t,ge);if(qt){if(l&&ht<m){const ci=ye;ye=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new He.L(ht+1,1)).lineNumber,ci!==ye&&(qt.ranges[qt.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}z[ae++]=new ii.u7(qt.outsideRenderedLine,ht,ii.yu.from(qt.ranges),wt)}}return this._updateLineWidthsSlowIfDomDidLayout(ge),ae===0?null:z}_visibleRangesForLineRange(n,l,m){if(this.shouldRender()||n<this._visibleLines.getStartLineNumber()||n>this._visibleLines.getEndLineNumber())return null;const w=new Cn(this.domNode.domNode,this._textRangeRestingSpot),z=this._visibleLines.getVisibleLine(n).getVisibleRangesForRange(n,l,m,w);return this._updateLineWidthsSlowIfDomDidLayout(w),z}visibleRangeForPosition(n){const l=this._visibleRangesForLineRange(n.lineNumber,n.column,n.column);return l?new ii.D4(l.outsideRenderedLine,l.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(n){n.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(n){const l=this._visibleLines.getStartLineNumber(),m=this._visibleLines.getEndLineNumber();let w=1,z=!0;for(let ae=l;ae<=m;ae++){const ge=this._visibleLines.getVisibleLine(ae);if(n&&!ge.getWidthIsFast()){z=!1;continue}w=Math.max(w,ge.getWidth(null))}return z&&l===1&&m===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(w),z}_checkMonospaceFontAssumptions(){let n=-1,l=-1;const m=this._visibleLines.getStartLineNumber(),w=this._visibleLines.getEndLineNumber();for(let z=m;z<=w;z++){const ae=this._visibleLines.getVisibleLine(z);if(ae.needsMonospaceFontCheck()){const ge=ae.getWidth(null);ge>l&&(l=ge,n=z)}}if(n!==-1&&!this._visibleLines.getVisibleLine(n).monospaceAssumptionsAreValid())for(let z=m;z<=w;z++)this._visibleLines.getVisibleLine(z).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(n){if(this._visibleLines.renderLines(n),this._lastRenderedData.setCurrentVisibleRange(n.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const m=this._horizontalRevealRequest;if(n.startLineNumber<=m.minLineNumber&&m.maxLineNumber<=n.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const w=this._computeScrollLeftToReveal(m);w&&(this._isViewportWrapping||this._ensureMaxLineWidth(w.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:w.scrollLeft},m.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),u.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const m=this._visibleLines.getStartLineNumber(),w=this._visibleLines.getEndLineNumber();for(let z=m;z<=w;z++)if(this._visibleLines.getVisibleLine(z).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const l=this._context.viewLayout.getCurrentScrollTop()-n.bigNumbersDelta;this._linesContent.setTop(-l),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(n){const l=Math.ceil(n);this._maxLineWidth<l&&(this._maxLineWidth=l,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(n,l,m,w,z,ae){const ge=n.top,ye=n.height,Ge=ge+ye;let ot,ht,Et;if(z&&z.length>0){let gi=z[0].startLineNumber,wi=z[0].endLineNumber;for(let Bi=1,nn=z.length;Bi<nn;Bi++){const an=z[Bi];gi=Math.min(gi,an.startLineNumber),wi=Math.max(wi,an.endLineNumber)}ot=!1,ht=this._context.viewLayout.getVerticalOffsetForLineNumber(gi),Et=this._context.viewLayout.getVerticalOffsetForLineNumber(wi)+this._lineHeight}else if(w)ot=!0,ht=this._context.viewLayout.getVerticalOffsetForLineNumber(w.startLineNumber),Et=this._context.viewLayout.getVerticalOffsetForLineNumber(w.endLineNumber)+this._lineHeight;else return-1;const wt=(l==="mouse"||m)&&this._cursorSurroundingLinesStyle==="default";let $t=0,qt=0;if(wt)m||($t=this._lineHeight);else{const gi=Math.min(ye/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?$t=Math.max(gi,this._maxNumberStickyLines)*this._lineHeight:$t=gi*this._lineHeight,qt=Math.max(0,gi-1)*this._lineHeight}m||(ae===0||ae===4)&&(qt+=this._lineHeight),ht-=$t,Et+=qt;let ci;if(Et-ht>ye){if(!ot)return-1;ci=ht}else if(ae===5||ae===6)if(ae===6&&ge<=ht&&Et<=Ge)ci=ge;else{const gi=Math.max(5*this._lineHeight,ye*.2),wi=ht-gi,Bi=Et-ye;ci=Math.max(Bi,wi)}else if(ae===1||ae===2)if(ae===2&&ge<=ht&&Et<=Ge)ci=ge;else{const gi=(ht+Et)/2;ci=Math.max(0,gi-ye/2)}else ci=this._computeMinimumScrolling(ge,Ge,ht,Et,ae===3,ae===4);return ci}_computeScrollLeftToReveal(n){const l=this._context.viewLayout.getCurrentViewport(),m=this._context.configuration.options.get(143),w=l.left,z=w+l.width-m.verticalScrollbarWidth;let ae=1073741824,ge=0;if(n.type==="range"){const Ge=this._visibleRangesForLineRange(n.lineNumber,n.startColumn,n.endColumn);if(!Ge)return null;for(const ot of Ge.ranges)ae=Math.min(ae,Math.round(ot.left)),ge=Math.max(ge,Math.round(ot.left+ot.width))}else for(const Ge of n.selections){if(Ge.startLineNumber!==Ge.endLineNumber)return null;const ot=this._visibleRangesForLineRange(Ge.startLineNumber,Ge.startColumn,Ge.endColumn);if(!ot)return null;for(const ht of ot.ranges)ae=Math.min(ae,Math.round(ht.left)),ge=Math.max(ge,Math.round(ht.left+ht.width))}return n.minimalReveal||(ae=Math.max(0,ae-ln.HORIZONTAL_EXTRA_PX),ge+=this._revealHorizontalRightPadding),n.type==="selections"&&ge-ae>l.width?null:{scrollLeft:this._computeMinimumScrolling(w,z,ae,ge),maxHorizontalOffset:ge}}_computeMinimumScrolling(n,l,m,w,z,ae){n=n|0,l=l|0,m=m|0,w=w|0,z=!!z,ae=!!ae;const ge=l-n;if(w-m<ge){if(z)return m;if(ae)return Math.max(0,w-ge);if(m<n)return m;if(w>l)return Math.max(0,w-ge)}else return m;return n}}ln.HORIZONTAL_EXTRA_PX=30;class Gn{constructor(n,l,m,w){this._decorationToRenderBrand=void 0,this.startLineNumber=+n,this.endLineNumber=+l,this.className=String(m),this.zIndex=w!=null?w:0}}class Kn{constructor(n,l){this.className=n,this.zIndex=l}}class ro{constructor(){this.decorations=[]}add(n){this.decorations.push(n)}getDecorations(){return this.decorations}}class as extends Qi{_render(n,l,m){const w=[];for(let ge=n;ge<=l;ge++){const ye=ge-n;w[ye]=new ro}if(m.length===0)return w;m.sort((ge,ye)=>ge.className===ye.className?ge.startLineNumber===ye.startLineNumber?ge.endLineNumber-ye.endLineNumber:ge.startLineNumber-ye.startLineNumber:ge.className<ye.className?-1:1);let z=null,ae=0;for(let ge=0,ye=m.length;ge<ye;ge++){const Ge=m[ge],ot=Ge.className,ht=Ge.zIndex;let Et=Math.max(Ge.startLineNumber,n)-n;const wt=Math.min(Ge.endLineNumber,l)-n;z===ot?(Et=Math.max(ae+1,Et),ae=Math.max(ae,wt)):(z=ot,ae=wt);for(let $t=Et;$t<=ae;$t++)w[$t].add(new Kn(ot,ht))}return w}}class Zi extends lt{constructor(n){super(n),this._widgets={},this._context=n;const l=this._context.configuration.options,m=l.get(143);this.domNode=(0,xe.X)(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=l.get(66),this._glyphMargin=l.get(57),this._glyphMarginLeft=m.glyphMarginLeft,this._glyphMarginWidth=m.glyphMarginWidth,this._glyphMarginDecorationLaneCount=m.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(n){const l=this._context.configuration.options,m=l.get(143);return this._lineHeight=l.get(66),this._glyphMargin=l.get(57),this._glyphMarginLeft=m.glyphMarginLeft,this._glyphMarginWidth=m.glyphMarginWidth,this._glyphMarginDecorationLaneCount=m.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollTopChanged}onZonesChanged(n){return!0}addWidget(n){const l=(0,xe.X)(n.getDomNode());this._widgets[n.getId()]={widget:n,preference:n.getPosition(),domNode:l,renderInfo:null},l.setPosition("absolute"),l.setDisplay("none"),l.setAttribute("widgetId",n.getId()),this.domNode.appendChild(l),this.setShouldRender()}setWidgetPosition(n,l){const m=this._widgets[n.getId()];return m.preference.lane===l.lane&&m.preference.zIndex===l.zIndex&&pe.e.equalsRange(m.preference.range,l.range)?!1:(m.preference=l,this.setShouldRender(),!0)}removeWidget(n){var l;const m=n.getId();if(this._widgets[m]){const z=this._widgets[m].domNode.domNode;delete this._widgets[m],(l=z.parentNode)===null||l===void 0||l.removeChild(z),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(n,l){var m,w,z;const ae=n.visibleRange.startLineNumber,ge=n.visibleRange.endLineNumber,ye=n.getDecorationsInViewport();for(const Ge of ye){const ot=Ge.options.glyphMarginClassName;if(!ot)continue;const ht=Math.max(Ge.range.startLineNumber,ae),Et=Math.min(Ge.range.endLineNumber,ge),wt=Math.min((w=(m=Ge.options.glyphMargin)===null||m===void 0?void 0:m.position)!==null&&w!==void 0?w:1,this._glyphMarginDecorationLaneCount),$t=(z=Ge.options.zIndex)!==null&&z!==void 0?z:0;for(let qt=ht;qt<=Et;qt++)l.push(new cn(qt,wt,$t,ot))}}_collectWidgetBasedGlyphRenderRequest(n,l){const m=n.visibleRange.startLineNumber,w=n.visibleRange.endLineNumber;for(const z of Object.values(this._widgets)){const ae=z.preference.range,{startLineNumber:ge,endLineNumber:ye}=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(pe.e.lift(ae));if(!ge||!ye||ye<m||ge>w)continue;const Ge=Math.max(ge,m),ot=Math.min(z.preference.lane,this._glyphMarginDecorationLaneCount);l.push(new pn(Ge,ot,z.preference.zIndex,z))}}_collectSortedGlyphRenderRequests(n){const l=[];return this._collectDecorationBasedGlyphRenderRequest(n,l),this._collectWidgetBasedGlyphRenderRequest(n,l),l.sort((m,w)=>m.lineNumber===w.lineNumber?m.lane===w.lane?m.zIndex===w.zIndex?w.type===m.type?m.type===0&&w.type===0?m.className<w.className?-1:1:0:w.type-m.type:w.zIndex-m.zIndex:m.lane-w.lane:m.lineNumber-w.lineNumber),l}prepareRender(n){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(const w of Object.values(this._widgets))w.renderInfo=null;const l=new _.H9(this._collectSortedGlyphRenderRequests(n)),m=[];for(;l.length>0;){const w=l.peek();if(!w)break;const z=l.takeWhile(ge=>ge.lineNumber===w.lineNumber&&ge.lane===w.lane);if(!z||z.length===0)break;const ae=z[0];if(ae.type===0){const ge=[];for(const ye of z){if(ye.zIndex!==ae.zIndex||ye.type!==ae.type)break;(ge.length===0||ge[ge.length-1]!==ye.className)&&ge.push(ye.className)}m.push(ae.accept(ge.join(" ")))}else ae.widget.renderInfo={lineNumber:ae.lineNumber,lane:ae.lane}}this._decorationGlyphsToRender=m}render(n){if(!this._glyphMargin){for(const m of Object.values(this._widgets))m.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const m=this._managedDomNodes.pop();m==null||m.domNode.remove()}return}const l=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const m of Object.values(this._widgets))if(!m.renderInfo)m.domNode.setDisplay("none");else{const w=n.viewportData.relativeVerticalOffset[m.renderInfo.lineNumber-n.viewportData.startLineNumber],z=this._glyphMarginLeft+(m.renderInfo.lane-1)*this._lineHeight;m.domNode.setDisplay("block"),m.domNode.setTop(w),m.domNode.setLeft(z),m.domNode.setWidth(l),m.domNode.setHeight(this._lineHeight)}for(let m=0;m<this._decorationGlyphsToRender.length;m++){const w=this._decorationGlyphsToRender[m],z=n.viewportData.relativeVerticalOffset[w.lineNumber-n.viewportData.startLineNumber],ae=this._glyphMarginLeft+(w.lane-1)*this._lineHeight;let ge;m<this._managedDomNodes.length?ge=this._managedDomNodes[m]:(ge=(0,xe.X)(document.createElement("div")),this._managedDomNodes.push(ge),this.domNode.appendChild(ge)),ge.setClassName("cgmr codicon "+w.combinedClassName),ge.setPosition("absolute"),ge.setTop(z),ge.setLeft(ae),ge.setWidth(l),ge.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const m=this._managedDomNodes.pop();m==null||m.domNode.remove()}}}class cn{constructor(n,l,m,w){this.lineNumber=n,this.lane=l,this.zIndex=m,this.className=w,this.type=0}accept(n){return new rn(this.lineNumber,this.lane,n)}}class pn{constructor(n,l,m,w){this.lineNumber=n,this.lane=l,this.zIndex=m,this.widget=w,this.type=1}}class rn{constructor(n,l,m){this.lineNumber=n,this.lane=l,this.combinedClassName=m}}class Xn extends as{constructor(n){super(),this._context=n;const m=this._context.configuration.options.get(143);this._decorationsLeft=m.decorationsLeft,this._decorationsWidth=m.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(n){const m=this._context.configuration.options.get(143);return this._decorationsLeft=m.decorationsLeft,this._decorationsWidth=m.decorationsWidth,!0}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollTopChanged}onZonesChanged(n){return!0}_getDecorations(n){const l=n.getDecorationsInViewport(),m=[];let w=0;for(let z=0,ae=l.length;z<ae;z++){const ge=l[z],ye=ge.options.linesDecorationsClassName,Ge=ge.options.zIndex;ye&&(m[w++]=new Gn(ge.range.startLineNumber,ge.range.endLineNumber,ye,Ge));const ot=ge.options.firstLineDecorationClassName;ot&&(m[w++]=new Gn(ge.range.startLineNumber,ge.range.startLineNumber,ot,Ge))}return m}prepareRender(n){const l=n.visibleRange.startLineNumber,m=n.visibleRange.endLineNumber,w=this._render(l,m,this._getDecorations(n)),z=this._decorationsLeft.toString(),ae=this._decorationsWidth.toString(),ge='" style="left:'+z+"px;width:"+ae+'px;"></div>',ye=[];for(let Ge=l;Ge<=m;Ge++){const ot=Ge-l,ht=w[ot].getDecorations();let Et="";for(const wt of ht)Et+='<div class="cldr '+wt.className+ge;ye[ot]=Et}this._renderResult=ye}render(n,l){return this._renderResult?this._renderResult[l-n]:""}}class Is extends as{constructor(n){super(),this._context=n,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(n){return!0}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollTopChanged}onZonesChanged(n){return!0}_getDecorations(n){const l=n.getDecorationsInViewport(),m=[];let w=0;for(let z=0,ae=l.length;z<ae;z++){const ge=l[z],ye=ge.options.marginClassName,Ge=ge.options.zIndex;ye&&(m[w++]=new Gn(ge.range.startLineNumber,ge.range.endLineNumber,ye,Ge))}return m}prepareRender(n){const l=n.visibleRange.startLineNumber,m=n.visibleRange.endLineNumber,w=this._render(l,m,this._getDecorations(n)),z=[];for(let ae=l;ae<=m;ae++){const ge=ae-l,ye=w[ge].getDecorations();let Ge="";for(const ot of ye)Ge+='<div class="cmdr '+ot.className+'" style=""></div>';z[ge]=Ge}this._renderResult=z}render(n,l){return this._renderResult?this._renderResult[l-n]:""}}var hn=c(90042);class us{constructor(n,l,m,w){this._rgba8Brand=void 0,this.r=us._clamp(n),this.g=us._clamp(l),this.b=us._clamp(m),this.a=us._clamp(w)}equals(n){return this.r===n.r&&this.g===n.g&&this.b===n.b&&this.a===n.a}static _clamp(n){return n<0?0:n>255?255:n|0}}us.Empty=new us(0,0,0,0);class Rs extends b.JT{static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,b.dk)(new Rs)),this._INSTANCE}constructor(){super(),this._onDidChange=new y.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(En.RW.onDidChange(n=>{n.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const n=En.RW.getColorMap();if(!n){this._colors=[us.Empty],this._backgroundIsLight=!0;return}this._colors=[us.Empty];for(let m=1;m<n.length;m++){const w=n[m].rgba;this._colors[m]=new us(w.r,w.g,w.b,Math.round(w.a*255))}const l=n[2].getRelativeLuminance();this._backgroundIsLight=l>=.5,this._onDidChange.fire(void 0)}getColor(n){return(n<1||n>=this._colors.length)&&(n=2),this._colors[n]}backgroundIsLight(){return this._backgroundIsLight}}Rs._INSTANCE=null;var ts=c(2860),ls=c(32955);const ms=(()=>{const Lt=[];for(let n=32;n<=126;n++)Lt.push(n);return Lt.push(65533),Lt})(),qi=(Lt,n)=>(Lt-=32,Lt<0||Lt>96?n<=2?(Lt+96)%96:96-1:Lt);var Ss=c(57684);class Gs{constructor(n,l){this.scale=l,this._minimapCharRendererBrand=void 0,this.charDataNormal=Gs.soften(n,12/15),this.charDataLight=Gs.soften(n,50/60)}static soften(n,l){const m=new Uint8ClampedArray(n.length);for(let w=0,z=n.length;w<z;w++)m[w]=(0,Ss.K)(n[w]*l);return m}renderChar(n,l,m,w,z,ae,ge,ye,Ge,ot,ht){const Et=1*this.scale,wt=2*this.scale,$t=ht?1:wt;if(l+Et>n.width||m+$t>n.height){console.warn("bad render request outside image data");return}const qt=ot?this.charDataLight:this.charDataNormal,ci=qi(w,Ge),gi=n.width*4,wi=ge.r,Bi=ge.g,nn=ge.b,an=z.r-wi,Nn=z.g-Bi,Sn=z.b-nn,_n=Math.max(ae,ye),un=n.data;let Dn=ci*Et*wt,zn=m*gi+l*4;for(let On=0;On<$t;On++){let Yn=zn;for(let Ps=0;Ps<Et;Ps++){const ss=qt[Dn++]/255*(ae/255);un[Yn++]=wi+an*ss,un[Yn++]=Bi+Nn*ss,un[Yn++]=nn+Sn*ss,un[Yn++]=_n}zn+=gi}}blockRenderChar(n,l,m,w,z,ae,ge,ye){const Ge=1*this.scale,ot=2*this.scale,ht=ye?1:ot;if(l+Ge>n.width||m+ht>n.height){console.warn("bad render request outside image data");return}const Et=n.width*4,wt=.5*(z/255),$t=ae.r,qt=ae.g,ci=ae.b,gi=w.r-$t,wi=w.g-qt,Bi=w.b-ci,nn=$t+gi*wt,an=qt+wi*wt,Nn=ci+Bi*wt,Sn=Math.max(z,ge),_n=n.data;let un=m*Et+l*4;for(let Dn=0;Dn<ht;Dn++){let zn=un;for(let On=0;On<Ge;On++)_n[zn++]=nn,_n[zn++]=an,_n[zn++]=Nn,_n[zn++]=Sn;un+=Et}}}var Eo=c(15039);const Ys={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},vs=Lt=>{const n=new Uint8ClampedArray(Lt.length/2);for(let l=0;l<Lt.length;l+=2)n[l>>1]=Ys[Lt[l]]<<4|Ys[Lt[l+1]]&15;return n},Fs={1:(0,Eo.M)(()=>vs("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,Eo.M)(()=>vs("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class Ws{static create(n,l){if(this.lastCreated&&n===this.lastCreated.scale&&l===this.lastFontFamily)return this.lastCreated;let m;return Fs[n]?m=new Gs(Fs[n](),n):m=Ws.createFromSampleData(Ws.createSampleData(l).data,n),this.lastFontFamily=l,this.lastCreated=m,m}static createSampleData(n){const l=document.createElement("canvas"),m=l.getContext("2d");l.style.height="16px",l.height=16,l.width=96*10,l.style.width=96*10+"px",m.fillStyle="#ffffff",m.font=`bold 16px ${n}`,m.textBaseline="middle";let w=0;for(const z of ms)m.fillText(String.fromCharCode(z),w,16/2),w+=10;return m.getImageData(0,0,96*10,16)}static createFromSampleData(n,l){if(n.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const w=Ws._downsample(n,l);return new Gs(w,l)}static _downsampleChar(n,l,m,w,z){const ae=1*z,ge=2*z;let ye=w,Ge=0;for(let ot=0;ot<ge;ot++){const ht=ot/ge*16,Et=(ot+1)/ge*16;for(let wt=0;wt<ae;wt++){const $t=wt/ae*10,qt=(wt+1)/ae*10;let ci=0,gi=0;for(let Bi=ht;Bi<Et;Bi++){const nn=l+Math.floor(Bi)*3840,an=1-(Bi-Math.floor(Bi));for(let Nn=$t;Nn<qt;Nn++){const Sn=1-(Nn-Math.floor(Nn)),_n=nn+Math.floor(Nn)*4,un=Sn*an;gi+=un,ci+=n[_n]*n[_n+3]/255*un}}const wi=ci/gi;Ge=Math.max(Ge,wi),m[ye++]=(0,Ss.K)(wi)}}return Ge}static _downsample(n,l){const m=2*l*1*l,w=m*96,z=new Uint8ClampedArray(w);let ae=0,ge=0,ye=0;for(let Ge=0;Ge<96;Ge++)ye=Math.max(ye,this._downsampleChar(n,ge,z,ae,l)),ae+=m,ge+=10*4;if(ye>0){const Ge=255/ye;for(let ot=0;ot<w;ot++)z[ot]*=Ge}return z}}var Ns=c(74222);const fo=140,ao=2;class ri{constructor(n,l,m){const w=n.options,z=w.get(141),ae=w.get(143),ge=ae.minimap,ye=w.get(50),Ge=w.get(72);this.renderMinimap=ge.renderMinimap,this.size=Ge.size,this.minimapHeightIsEditorHeight=ge.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=w.get(104),this.paddingTop=w.get(83).top,this.paddingBottom=w.get(83).bottom,this.showSlider=Ge.showSlider,this.autohide=Ge.autohide,this.pixelRatio=z,this.typicalHalfwidthCharacterWidth=ye.typicalHalfwidthCharacterWidth,this.lineHeight=w.get(66),this.minimapLeft=ge.minimapLeft,this.minimapWidth=ge.minimapWidth,this.minimapHeight=ae.height,this.canvasInnerWidth=ge.minimapCanvasInnerWidth,this.canvasInnerHeight=ge.minimapCanvasInnerHeight,this.canvasOuterWidth=ge.minimapCanvasOuterWidth,this.canvasOuterHeight=ge.minimapCanvasOuterHeight,this.isSampling=ge.minimapIsSampling,this.editorHeight=ae.height,this.fontScale=ge.minimapScale,this.minimapLineHeight=ge.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,Eo.M)(()=>Ws.create(this.fontScale,ye.fontFamily)),this.defaultBackgroundColor=m.getColor(2),this.backgroundColor=ri._getMinimapBackground(l,this.defaultBackgroundColor),this.foregroundAlpha=ri._getMinimapForegroundOpacity(l)}static _getMinimapBackground(n,l){const m=n.getColor(ls.kVY);return m?new us(m.rgba.r,m.rgba.g,m.rgba.b,Math.round(255*m.rgba.a)):l}static _getMinimapForegroundOpacity(n){const l=n.getColor(ls.Itd);return l?us._clamp(Math.round(255*l.rgba.a)):255}equals(n){return this.renderMinimap===n.renderMinimap&&this.size===n.size&&this.minimapHeightIsEditorHeight===n.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===n.scrollBeyondLastLine&&this.paddingTop===n.paddingTop&&this.paddingBottom===n.paddingBottom&&this.showSlider===n.showSlider&&this.autohide===n.autohide&&this.pixelRatio===n.pixelRatio&&this.typicalHalfwidthCharacterWidth===n.typicalHalfwidthCharacterWidth&&this.lineHeight===n.lineHeight&&this.minimapLeft===n.minimapLeft&&this.minimapWidth===n.minimapWidth&&this.minimapHeight===n.minimapHeight&&this.canvasInnerWidth===n.canvasInnerWidth&&this.canvasInnerHeight===n.canvasInnerHeight&&this.canvasOuterWidth===n.canvasOuterWidth&&this.canvasOuterHeight===n.canvasOuterHeight&&this.isSampling===n.isSampling&&this.editorHeight===n.editorHeight&&this.fontScale===n.fontScale&&this.minimapLineHeight===n.minimapLineHeight&&this.minimapCharWidth===n.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(n.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(n.backgroundColor)&&this.foregroundAlpha===n.foregroundAlpha}}class Se{constructor(n,l,m,w,z,ae,ge,ye,Ge){this.scrollTop=n,this.scrollHeight=l,this.sliderNeeded=m,this._computedSliderRatio=w,this.sliderTop=z,this.sliderHeight=ae,this.topPaddingLineCount=ge,this.startLineNumber=ye,this.endLineNumber=Ge}getDesiredScrollTopFromDelta(n){return Math.round(this.scrollTop+n/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(n){return Math.round((n-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(n){const l=Math.max(this.startLineNumber,n.startLineNumber),m=Math.min(this.endLineNumber,n.endLineNumber);return l>m?null:[l,m]}getYForLineNumber(n,l){return+(n-this.startLineNumber+this.topPaddingLineCount)*l}static create(n,l,m,w,z,ae,ge,ye,Ge,ot,ht){const Et=n.pixelRatio,wt=n.minimapLineHeight,$t=Math.floor(n.canvasInnerHeight/wt),qt=n.lineHeight;if(n.minimapHeightIsEditorHeight){let Nn=ye*n.lineHeight+n.paddingTop+n.paddingBottom;n.scrollBeyondLastLine&&(Nn+=Math.max(0,z-n.lineHeight-n.paddingBottom));const Sn=Math.max(1,Math.floor(z*z/Nn)),_n=Math.max(0,n.minimapHeight-Sn),un=_n/(ot-z),Dn=Ge*un,zn=_n>0,On=Math.floor(n.canvasInnerHeight/n.minimapLineHeight),Yn=Math.floor(n.paddingTop/n.lineHeight);return new Se(Ge,ot,zn,un,Dn,Sn,Yn,1,Math.min(ge,On))}let ci;if(ae&&m!==ge){const Nn=m-l+1;ci=Math.floor(Nn*wt/Et)}else{const Nn=z/qt;ci=Math.floor(Nn*wt/Et)}const gi=Math.floor(n.paddingTop/qt);let wi=Math.floor(n.paddingBottom/qt);if(n.scrollBeyondLastLine){const Nn=z/qt;wi=Math.max(wi,Nn-1)}let Bi;if(wi>0){const Nn=z/qt;Bi=(gi+ge+wi-Nn-1)*wt/Et}else Bi=Math.max(0,(gi+ge)*wt/Et-ci);Bi=Math.min(n.minimapHeight-ci,Bi);const nn=Bi/(ot-z),an=Ge*nn;if($t>=gi+ge+wi){const Nn=Bi>0;return new Se(Ge,ot,Nn,nn,an,ci,gi,1,ge)}else{let Nn;l>1?Nn=l+gi:Nn=Math.max(1,Ge/qt);let Sn,_n=Math.max(1,Math.floor(Nn-an*Et/wt));_n<gi?(Sn=gi-_n+1,_n=1):(Sn=0,_n=Math.max(1,_n-gi)),ht&&ht.scrollHeight===ot&&(ht.scrollTop>Ge&&(_n=Math.min(_n,ht.startLineNumber),Sn=Math.max(Sn,ht.topPaddingLineCount)),ht.scrollTop<Ge&&(_n=Math.max(_n,ht.startLineNumber),Sn=Math.min(Sn,ht.topPaddingLineCount)));const un=Math.min(ge,_n-Sn+$t-1),Dn=(Ge-w)/qt;let zn;return Ge>=n.paddingTop?zn=(l-_n+Sn+Dn)*wt/Et:zn=Ge/n.paddingTop*(Sn+Dn)*wt/Et,new Se(Ge,ot,!0,nn,zn,ci,Sn,_n,un)}}}class je{constructor(n){this.dy=n}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}je.INVALID=new je(-1);class Qe{constructor(n,l,m){this.renderedLayout=n,this._imageData=l,this._renderedLines=new Ue(()=>je.INVALID),this._renderedLines._set(n.startLineNumber,m)}linesEquals(n){if(!this.scrollEquals(n))return!1;const m=this._renderedLines._get().lines;for(let w=0,z=m.length;w<z;w++)if(m[w].dy===-1)return!1;return!0}scrollEquals(n){return this.renderedLayout.startLineNumber===n.startLineNumber&&this.renderedLayout.endLineNumber===n.endLineNumber}_get(){const n=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:n.rendLineNumberStart,lines:n.lines}}onLinesChanged(n,l){return this._renderedLines.onLinesChanged(n,l)}onLinesDeleted(n,l){this._renderedLines.onLinesDeleted(n,l)}onLinesInserted(n,l){this._renderedLines.onLinesInserted(n,l)}onTokensChanged(n){return this._renderedLines.onTokensChanged(n)}}class Ht{constructor(n,l,m,w){this._backgroundFillData=Ht._createBackgroundFillData(l,m,w),this._buffers=[n.createImageData(l,m),n.createImageData(l,m)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const n=this._buffers[this._lastUsedBuffer];return n.data.set(this._backgroundFillData),n}static _createBackgroundFillData(n,l,m){const w=m.r,z=m.g,ae=m.b,ge=m.a,ye=new Uint8ClampedArray(n*l*4);let Ge=0;for(let ot=0;ot<l;ot++)for(let ht=0;ht<n;ht++)ye[Ge]=w,ye[Ge+1]=z,ye[Ge+2]=ae,ye[Ge+3]=ge,Ge+=4;return ye}}class kt{static compute(n,l,m){if(n.renderMinimap===0||!n.isSampling)return[null,[]];const{minimapLineCount:w}=ne.gk.computeContainedMinimapLineCount({viewLineCount:l,scrollBeyondLastLine:n.scrollBeyondLastLine,paddingTop:n.paddingTop,paddingBottom:n.paddingBottom,height:n.editorHeight,lineHeight:n.lineHeight,pixelRatio:n.pixelRatio}),z=l/w,ae=z/2;if(!m||m.minimapLines.length===0){const ci=[];if(ci[0]=1,w>1){for(let gi=0,wi=w-1;gi<wi;gi++)ci[gi]=Math.round(gi*z+ae);ci[w-1]=l}return[new kt(z,ci),[]]}const ge=m.minimapLines,ye=ge.length,Ge=[];let ot=0,ht=0,Et=1;const wt=10;let $t=[],qt=null;for(let ci=0;ci<w;ci++){const gi=Math.max(Et,Math.round(ci*z)),wi=Math.max(gi,Math.round((ci+1)*z));for(;ot<ye&&ge[ot]<gi;){if($t.length<wt){const nn=ot+1+ht;qt&&qt.type==="deleted"&&qt._oldIndex===ot-1?qt.deleteToLineNumber++:(qt={type:"deleted",_oldIndex:ot,deleteFromLineNumber:nn,deleteToLineNumber:nn},$t.push(qt)),ht--}ot++}let Bi;if(ot<ye&&ge[ot]<=wi)Bi=ge[ot],ot++;else if(ci===0?Bi=1:ci+1===w?Bi=l:Bi=Math.round(ci*z+ae),$t.length<wt){const nn=ot+1+ht;qt&&qt.type==="inserted"&&qt._i===ci-1?qt.insertToLineNumber++:(qt={type:"inserted",_i:ci,insertFromLineNumber:nn,insertToLineNumber:nn},$t.push(qt)),ht++}Ge[ci]=Bi,Et=Bi}if($t.length<wt)for(;ot<ye;){const ci=ot+1+ht;qt&&qt.type==="deleted"&&qt._oldIndex===ot-1?qt.deleteToLineNumber++:(qt={type:"deleted",_oldIndex:ot,deleteFromLineNumber:ci,deleteToLineNumber:ci},$t.push(qt)),ht--,ot++}else $t=[{type:"flush"}];return[new kt(z,Ge),$t]}constructor(n,l){this.samplingRatio=n,this.minimapLines=l}modelLineToMinimapLine(n){return Math.min(this.minimapLines.length,Math.max(1,Math.round(n/this.samplingRatio)))}modelLineRangeToMinimapLineRange(n,l){let m=this.modelLineToMinimapLine(n)-1;for(;m>0&&this.minimapLines[m-1]>=n;)m--;let w=this.modelLineToMinimapLine(l)-1;for(;w+1<this.minimapLines.length&&this.minimapLines[w+1]<=l;)w++;if(m===w){const z=this.minimapLines[m];if(z<n||z>l)return null}return[m+1,w+1]}decorationLineRangeToMinimapLineRange(n,l){let m=this.modelLineToMinimapLine(n),w=this.modelLineToMinimapLine(l);return n!==l&&w===m&&(w===this.minimapLines.length?m>1&&m--:w++),[m,w]}onLinesDeleted(n){const l=n.toLineNumber-n.fromLineNumber+1;let m=this.minimapLines.length,w=0;for(let z=this.minimapLines.length-1;z>=0&&!(this.minimapLines[z]<n.fromLineNumber);z--)this.minimapLines[z]<=n.toLineNumber?(this.minimapLines[z]=Math.max(1,n.fromLineNumber-1),m=Math.min(m,z),w=Math.max(w,z)):this.minimapLines[z]-=l;return[m,w]}onLinesInserted(n){const l=n.toLineNumber-n.fromLineNumber+1;for(let m=this.minimapLines.length-1;m>=0&&!(this.minimapLines[m]<n.fromLineNumber);m--)this.minimapLines[m]+=l}}class ni extends lt{constructor(n){super(n),this.tokensColorTracker=Rs.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new ri(this._context.configuration,this._context.theme,this.tokensColorTracker);const[l]=kt.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=l,this._shouldCheckSampling=!1,this._actual=new ai(n.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const n=new ri(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(n)?!1:(this.options=n,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(n){return this._onOptionsMaybeChanged()}onCursorStateChanged(n){return this._selections=n.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(n){return n.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(n){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(n){if(this._samplingState){const l=this._samplingState.modelLineRangeToMinimapLineRange(n.fromLineNumber,n.fromLineNumber+n.count-1);return l?this._actual.onLinesChanged(l[0],l[1]-l[0]+1):!1}else return this._actual.onLinesChanged(n.fromLineNumber,n.count)}onLinesDeleted(n){if(this._samplingState){const[l,m]=this._samplingState.onLinesDeleted(n);return l<=m&&this._actual.onLinesChanged(l+1,m-l+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(n.fromLineNumber,n.toLineNumber)}onLinesInserted(n){return this._samplingState?(this._samplingState.onLinesInserted(n),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(n.fromLineNumber,n.toLineNumber)}onScrollChanged(n){return this._actual.onScrollChanged()}onThemeChanged(n){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(n){if(this._samplingState){const l=[];for(const m of n.ranges){const w=this._samplingState.modelLineRangeToMinimapLineRange(m.fromLineNumber,m.toLineNumber);w&&l.push({fromLineNumber:w[0],toLineNumber:w[1]})}return l.length?this._actual.onTokensChanged(l):!1}else return this._actual.onTokensChanged(n.ranges)}onTokensColorsChanged(n){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(n){return this._actual.onZonesChanged()}prepareRender(n){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(n){let l=n.visibleRange.startLineNumber,m=n.visibleRange.endLineNumber;this._samplingState&&(l=this._samplingState.modelLineToMinimapLine(l),m=this._samplingState.modelLineToMinimapLine(m));const w={viewportContainsWhitespaceGaps:n.viewportData.whitespaceViewportData.length>0,scrollWidth:n.scrollWidth,scrollHeight:n.scrollHeight,viewportStartLineNumber:l,viewportEndLineNumber:m,viewportStartLineNumberVerticalOffset:n.getVerticalOffsetForLineNumber(l),scrollTop:n.scrollTop,scrollLeft:n.scrollLeft,viewportWidth:n.viewportWidth,viewportHeight:n.viewportHeight};this._actual.render(w)}_recreateLineSampling(){this._minimapSelections=null;const n=!!this._samplingState,[l,m]=kt.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=l,n&&this._samplingState)for(const w of m)switch(w.type){case"deleted":this._actual.onLinesDeleted(w.deleteFromLineNumber,w.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(w.insertFromLineNumber,w.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(n){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[n-1]):this._context.viewModel.getLineContent(n)}getLineMaxColumn(n){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[n-1]):this._context.viewModel.getLineMaxColumn(n)}getMinimapLinesRenderingData(n,l,m){if(this._samplingState){const w=[];for(let z=0,ae=l-n+1;z<ae;z++)m[z]?w[z]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[n+z-1]):w[z]=null;return w}return this._context.viewModel.getMinimapLinesRenderingData(n,l,m).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const n of this._selections){const[l,m]=this._samplingState.decorationLineRangeToMinimapLineRange(n.startLineNumber,n.endLineNumber);this._minimapSelections.push(new Ce.Y(l,n.startColumn,m,n.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(n,l){let m;if(this._samplingState){const z=this._samplingState.minimapLines[n-1],ae=this._samplingState.minimapLines[l-1];m=new pe.e(z,1,ae,this._context.viewModel.getLineMaxColumn(ae))}else m=new pe.e(n,1,l,this._context.viewModel.getLineMaxColumn(l));const w=this._context.viewModel.getMinimapDecorationsInRange(m);if(this._samplingState){const z=[];for(const ae of w){if(!ae.options.minimap)continue;const ge=ae.range,ye=this._samplingState.modelLineToMinimapLine(ge.startLineNumber),Ge=this._samplingState.modelLineToMinimapLine(ge.endLineNumber);z.push(new ts.$l(new pe.e(ye,ge.startColumn,Ge,ge.endColumn),ae.options))}return z}return w}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(n){this._samplingState&&(n=this._samplingState.minimapLines[n-1]),this._context.viewModel.revealRange("mouse",!1,new pe.e(n,1,n,1),1,0)}setScrollTop(n){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:n},1)}}class ai extends b.JT{constructor(n,l){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=n,this._model=l,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(ls.ov3),this._domNode=(0,xe.X)(document.createElement("div")),ut.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,xe.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,xe.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,xe.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,xe.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,xe.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=M.mu(this._domNode.domNode,M.tw.POINTER_DOWN,m=>{if(m.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(m.button===0&&this._lastRenderData){const Ge=M.i(this._slider.domNode),ot=Ge.top+Ge.height/2;this._startSliderDragging(m,ot,this._lastRenderData.renderedLayout)}return}const z=this._model.options.minimapLineHeight,ae=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*m.offsetY;let ye=Math.floor(ae/z)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;ye=Math.min(ye,this._model.getLineCount()),this._model.revealLineNumber(ye)}),this._sliderPointerMoveMonitor=new hn.C,this._sliderPointerDownListener=M.mu(this._slider.domNode,M.tw.POINTER_DOWN,m=>{m.preventDefault(),m.stopPropagation(),m.button===0&&this._lastRenderData&&this._startSliderDragging(m,m.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=x.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=M.nm(this._domNode.domNode,x.t.Start,m=>{m.preventDefault(),m.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(m))},{passive:!1}),this._sliderTouchMoveListener=M.nm(this._domNode.domNode,x.t.Change,m=>{m.preventDefault(),m.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(m)},{passive:!1}),this._sliderTouchEndListener=M.mu(this._domNode.domNode,x.t.End,m=>{m.preventDefault(),m.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(n,l,m){if(!n.target||!(n.target instanceof Element))return;const w=n.pageX;this._slider.toggleClassName("active",!0);const z=(ae,ge)=>{const ye=M.i(this._domNode.domNode),Ge=Math.min(Math.abs(ge-w),Math.abs(ge-ye.left),Math.abs(ge-ye.left-ye.width));if(u.ED&&Ge>fo){this._model.setScrollTop(m.scrollTop);return}const ot=ae-l;this._model.setScrollTop(m.getDesiredScrollTopFromDelta(ot))};n.pageY!==l&&z(n.pageY,w),this._sliderPointerMoveMonitor.startMonitoring(n.target,n.pointerId,n.buttons,ae=>z(ae.pageY,ae.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(n){const l=this._domNode.domNode.getBoundingClientRect().top,m=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(n.pageY-l);this._model.setScrollTop(m)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const n=["minimap"];return this._model.options.showSlider==="always"?n.push("slider-always"):n.push("slider-mouseover"),this._model.options.autohide&&n.push("autohide"),n.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new Ht(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(n,l){return this._lastRenderData?this._lastRenderData.onLinesChanged(n,l):!1}onLinesDeleted(n,l){var m;return(m=this._lastRenderData)===null||m===void 0||m.onLinesDeleted(n,l),!0}onLinesInserted(n,l){var m;return(m=this._lastRenderData)===null||m===void 0||m.onLinesInserted(n,l),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(ls.ov3),this._renderDecorations=!0,!0}onTokensChanged(n){return this._lastRenderData?this._lastRenderData.onTokensChanged(n):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(n){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}n.scrollLeft+n.viewportWidth>=n.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const m=Se.create(this._model.options,n.viewportStartLineNumber,n.viewportEndLineNumber,n.viewportStartLineNumberVerticalOffset,n.viewportHeight,n.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),n.scrollTop,n.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(m.sliderNeeded?"block":"none"),this._slider.setTop(m.sliderTop),this._slider.setHeight(m.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(m.sliderHeight),this.renderDecorations(m),this._lastRenderData=this.renderLines(m)}renderDecorations(n){if(this._renderDecorations){this._renderDecorations=!1;const l=this._model.getSelections();l.sort(pe.e.compareRangesUsingStarts);const m=this._model.getMinimapDecorationsInViewport(n.startLineNumber,n.endLineNumber);m.sort((Et,wt)=>(Et.options.zIndex||0)-(wt.options.zIndex||0));const{canvasInnerWidth:w,canvasInnerHeight:z}=this._model.options,ae=this._model.options.minimapLineHeight,ge=this._model.options.minimapCharWidth,ye=this._model.getOptions().tabSize,Ge=this._decorationsCanvas.domNode.getContext("2d");Ge.clearRect(0,0,w,z);const ot=new si(n.startLineNumber,n.endLineNumber,!1);this._renderSelectionLineHighlights(Ge,l,ot,n,ae),this._renderDecorationsLineHighlights(Ge,m,ot,n,ae);const ht=new si(n.startLineNumber,n.endLineNumber,null);this._renderSelectionsHighlights(Ge,l,ht,n,ae,ye,ge,w),this._renderDecorationsHighlights(Ge,m,ht,n,ae,ye,ge,w)}}_renderSelectionLineHighlights(n,l,m,w,z){if(!this._selectionColor||this._selectionColor.isTransparent())return;n.fillStyle=this._selectionColor.transparent(.5).toString();let ae=0,ge=0;for(const ye of l){const Ge=w.intersectWithViewport(ye);if(!Ge)continue;const[ot,ht]=Ge;for(let $t=ot;$t<=ht;$t++)m.set($t,!0);const Et=w.getYForLineNumber(ot,z),wt=w.getYForLineNumber(ht,z);ge>=Et||(ge>ae&&n.fillRect(ne.y0,ae,n.canvas.width,ge-ae),ae=Et),ge=wt}ge>ae&&n.fillRect(ne.y0,ae,n.canvas.width,ge-ae)}_renderDecorationsLineHighlights(n,l,m,w,z){const ae=new Map;for(let ge=l.length-1;ge>=0;ge--){const ye=l[ge],Ge=ye.options.minimap;if(!Ge||Ge.position!==Ns.F5.Inline)continue;const ot=w.intersectWithViewport(ye.range);if(!ot)continue;const[ht,Et]=ot,wt=Ge.getColor(this._theme.value);if(!wt||wt.isTransparent())continue;let $t=ae.get(wt.toString());$t||($t=wt.transparent(.5).toString(),ae.set(wt.toString(),$t)),n.fillStyle=$t;for(let qt=ht;qt<=Et;qt++){if(m.has(qt))continue;m.set(qt,!0);const ci=w.getYForLineNumber(ht,z);n.fillRect(ne.y0,ci,n.canvas.width,z)}}}_renderSelectionsHighlights(n,l,m,w,z,ae,ge,ye){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const Ge of l){const ot=w.intersectWithViewport(Ge);if(!ot)continue;const[ht,Et]=ot;for(let wt=ht;wt<=Et;wt++)this.renderDecorationOnLine(n,m,Ge,this._selectionColor,w,wt,z,z,ae,ge,ye)}}_renderDecorationsHighlights(n,l,m,w,z,ae,ge,ye){for(const Ge of l){const ot=Ge.options.minimap;if(!ot)continue;const ht=w.intersectWithViewport(Ge.range);if(!ht)continue;const[Et,wt]=ht,$t=ot.getColor(this._theme.value);if(!(!$t||$t.isTransparent()))for(let qt=Et;qt<=wt;qt++)switch(ot.position){case Ns.F5.Inline:this.renderDecorationOnLine(n,m,Ge.range,$t,w,qt,z,z,ae,ge,ye);continue;case Ns.F5.Gutter:{const ci=w.getYForLineNumber(qt,z),gi=2;this.renderDecoration(n,$t,gi,ci,ao,z);continue}}}}renderDecorationOnLine(n,l,m,w,z,ae,ge,ye,Ge,ot,ht){const Et=z.getYForLineNumber(ae,ye);if(Et+ge<0||Et>this._model.options.canvasInnerHeight)return;const{startLineNumber:wt,endLineNumber:$t}=m,qt=wt===ae?m.startColumn:1,ci=$t===ae?m.endColumn:this._model.getLineMaxColumn(ae),gi=this.getXOffsetForPosition(l,ae,qt,Ge,ot,ht),wi=this.getXOffsetForPosition(l,ae,ci,Ge,ot,ht);this.renderDecoration(n,w,gi,Et,wi-gi,ge)}getXOffsetForPosition(n,l,m,w,z,ae){if(m===1)return ne.y0;if((m-1)*z>=ae)return ae;let ye=n.get(l);if(!ye){const Ge=this._model.getLineContent(l);ye=[ne.y0];let ot=ne.y0;for(let ht=1;ht<Ge.length+1;ht++){const Et=Ge.charCodeAt(ht-1),wt=Et===9?w*z:xi.K7(Et)?2*z:z,$t=ot+wt;if($t>=ae){ye[ht]=ae;break}ye[ht]=$t,ot=$t}n.set(l,ye)}return m-1<ye.length?ye[m-1]:ae}renderDecoration(n,l,m,w,z,ae){n.fillStyle=l&&l.toString()||"",n.fillRect(m,w,z,ae)}renderLines(n){const l=n.startLineNumber,m=n.endLineNumber,w=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(n)){const ss=this._lastRenderData._get();return new Qe(n,ss.imageData,ss.lines)}const z=this._getBuffer();if(!z)return null;const[ae,ge,ye]=ai._renderUntouchedLines(z,n.topPaddingLineCount,l,m,w,this._lastRenderData),Ge=this._model.getMinimapLinesRenderingData(l,m,ye),ot=this._model.getOptions().tabSize,ht=this._model.options.defaultBackgroundColor,Et=this._model.options.backgroundColor,wt=this._model.options.foregroundAlpha,$t=this._model.tokensColorTracker,qt=$t.backgroundIsLight(),ci=this._model.options.renderMinimap,gi=this._model.options.charRenderer(),wi=this._model.options.fontScale,Bi=this._model.options.minimapCharWidth,an=(ci===1?2:2+1)*wi,Nn=w>an?Math.floor((w-an)/2):0,Sn=Et.a/255,_n=new us(Math.round((Et.r-ht.r)*Sn+ht.r),Math.round((Et.g-ht.g)*Sn+ht.g),Math.round((Et.b-ht.b)*Sn+ht.b),255);let un=n.topPaddingLineCount*w;const Dn=[];for(let ss=0,Us=m-l+1;ss<Us;ss++)ye[ss]&&ai._renderLine(z,_n,Et.a,qt,ci,Bi,$t,wt,gi,un,Nn,ot,Ge[ss],wi,w),Dn[ss]=new je(un),un+=w;const zn=ae===-1?0:ae,Yn=(ge===-1?z.height:ge)-zn;return this._canvas.domNode.getContext("2d").putImageData(z,0,0,0,zn,z.width,Yn),new Qe(n,z,Dn)}static _renderUntouchedLines(n,l,m,w,z,ae){const ge=[];if(!ae){for(let un=0,Dn=w-m+1;un<Dn;un++)ge[un]=!0;return[-1,-1,ge]}const ye=ae._get(),Ge=ye.imageData.data,ot=ye.rendLineNumberStart,ht=ye.lines,Et=ht.length,wt=n.width,$t=n.data,qt=(w-m+1)*z*wt*4;let ci=-1,gi=-1,wi=-1,Bi=-1,nn=-1,an=-1,Nn=l*z;for(let un=m;un<=w;un++){const Dn=un-m,zn=un-ot,On=zn>=0&&zn<Et?ht[zn].dy:-1;if(On===-1){ge[Dn]=!0,Nn+=z;continue}const Yn=On*wt*4,Ps=(On+z)*wt*4,ss=Nn*wt*4,Us=(Nn+z)*wt*4;Bi===Yn&&an===ss?(Bi=Ps,an=Us):(wi!==-1&&($t.set(Ge.subarray(wi,Bi),nn),ci===-1&&wi===0&&wi===nn&&(ci=Bi),gi===-1&&Bi===qt&&wi===nn&&(gi=wi)),wi=Yn,Bi=Ps,nn=ss,an=Us),ge[Dn]=!1,Nn+=z}wi!==-1&&($t.set(Ge.subarray(wi,Bi),nn),ci===-1&&wi===0&&wi===nn&&(ci=Bi),gi===-1&&Bi===qt&&wi===nn&&(gi=wi));const Sn=ci===-1?-1:ci/(wt*4),_n=gi===-1?-1:gi/(wt*4);return[Sn,_n,ge]}static _renderLine(n,l,m,w,z,ae,ge,ye,Ge,ot,ht,Et,wt,$t,qt){const ci=wt.content,gi=wt.tokens,wi=n.width-ae,Bi=qt===1;let nn=ne.y0,an=0,Nn=0;for(let Sn=0,_n=gi.getCount();Sn<_n;Sn++){const un=gi.getEndOffset(Sn),Dn=gi.getForeground(Sn),zn=ge.getColor(Dn);for(;an<un;an++){if(nn>wi)return;const On=ci.charCodeAt(an);if(On===9){const Yn=Et-(an+Nn)%Et;Nn+=Yn-1,nn+=Yn*ae}else if(On===32)nn+=ae;else{const Yn=xi.K7(On)?2:1;for(let Ps=0;Ps<Yn;Ps++)if(z===2?Ge.blockRenderChar(n,nn,ot+ht,zn,ye,l,m,Bi):Ge.renderChar(n,nn,ot+ht,On,zn,ye,l,m,$t,w,Bi),nn+=ae,nn>wi)return}}}}}class si{constructor(n,l,m){this._startLineNumber=n,this._endLineNumber=l,this._defaultValue=m,this._values=[];for(let w=0,z=this._endLineNumber-this._startLineNumber+1;w<z;w++)this._values[w]=m}has(n){return this.get(n)!==this._defaultValue}set(n,l){n<this._startLineNumber||n>this._endLineNumber||(this._values[n-this._startLineNumber]=l)}get(n){return n<this._startLineNumber||n>this._endLineNumber?this._defaultValue:this._values[n-this._startLineNumber]}}class Ei extends lt{constructor(n){super(n);const m=this._context.configuration.options.get(143);this._widgets={},this._verticalScrollbarWidth=m.verticalScrollbarWidth,this._minimapWidth=m.minimap.minimapWidth,this._horizontalScrollbarHeight=m.horizontalScrollbarHeight,this._editorHeight=m.height,this._editorWidth=m.width,this._domNode=(0,xe.X)(document.createElement("div")),ut.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(n){const m=this._context.configuration.options.get(143);return this._verticalScrollbarWidth=m.verticalScrollbarWidth,this._minimapWidth=m.minimap.minimapWidth,this._horizontalScrollbarHeight=m.horizontalScrollbarHeight,this._editorHeight=m.height,this._editorWidth=m.width,!0}addWidget(n){const l=(0,xe.X)(n.getDomNode());this._widgets[n.getId()]={widget:n,preference:null,domNode:l},l.setPosition("absolute"),l.setAttribute("widgetId",n.getId()),this._domNode.appendChild(l),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(n,l){const m=this._widgets[n.getId()];return m.preference===l?(this._updateMaxMinWidth(),!1):(m.preference=l,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(n){const l=n.getId();if(this._widgets.hasOwnProperty(l)){const w=this._widgets[l].domNode.domNode;delete this._widgets[l],w.parentNode.removeChild(w),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var n,l;let m=0;const w=Object.keys(this._widgets);for(let z=0,ae=w.length;z<ae;z++){const ge=w[z],Ge=(l=(n=this._widgets[ge].widget).getMinContentWidthInPx)===null||l===void 0?void 0:l.call(n);typeof Ge!="undefined"&&(m=Math.max(m,Ge))}this._context.viewLayout.setOverlayWidgetsMinWidth(m)}_renderWidget(n){const l=n.domNode;if(n.preference===null){l.setTop("");return}if(n.preference===0)l.setTop(0),l.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(n.preference===1){const m=l.domNode.clientHeight;l.setTop(this._editorHeight-m-2*this._horizontalScrollbarHeight),l.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else n.preference===2&&(l.setTop(0),l.domNode.style.right="50%")}prepareRender(n){}render(n){this._domNode.setWidth(this._editorWidth);const l=Object.keys(this._widgets);for(let m=0,w=l.length;m<w;m++){const z=l[m];this._renderWidget(this._widgets[z])}}}class Pi{constructor(n,l){const m=n.options;this.lineHeight=m.get(66),this.pixelRatio=m.get(141),this.overviewRulerLanes=m.get(82),this.renderBorder=m.get(81);const w=l.getColor(Be.zw);this.borderColor=w?w.toString():null,this.hideCursor=m.get(59);const z=l.getColor(Be.n0);this.cursorColor=z?z.transparent(.7).toString():null,this.themeType=l.type;const ae=m.get(72),ge=ae.enabled,ye=ae.side,Ge=l.getColor(Be.e_),ot=En.RW.getDefaultBackground();Ge?this.backgroundColor=Ge:ge&&ye==="right"?this.backgroundColor=ot:this.backgroundColor=null;const Et=m.get(143).overviewRuler;this.top=Et.top,this.right=Et.right,this.domWidth=Et.width,this.domHeight=Et.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[wt,$t]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=wt,this.w=$t}_initLanes(n,l,m){const w=l-n;if(m>=3){const z=Math.floor(w/3),ae=Math.floor(w/3),ge=w-z-ae,ye=n,Ge=ye+z,ot=ye+z+ge;return[[0,ye,Ge,ye,ot,ye,Ge,ye],[0,z,ge,z+ge,ae,z+ge+ae,ge+ae,z+ge+ae]]}else if(m===2){const z=Math.floor(w/2),ae=w-z,ge=n,ye=ge+z;return[[0,ge,ge,ge,ye,ge,ge,ge],[0,z,z,z,ae,z+ae,z+ae,z+ae]]}else{const z=n,ae=w;return[[0,z,z,z,z,z,z,z],[0,ae,ae,ae,ae,ae,ae,ae]]}}equals(n){return this.lineHeight===n.lineHeight&&this.pixelRatio===n.pixelRatio&&this.overviewRulerLanes===n.overviewRulerLanes&&this.renderBorder===n.renderBorder&&this.borderColor===n.borderColor&&this.hideCursor===n.hideCursor&&this.cursorColor===n.cursorColor&&this.themeType===n.themeType&&bn.Il.equals(this.backgroundColor,n.backgroundColor)&&this.top===n.top&&this.right===n.right&&this.domWidth===n.domWidth&&this.domHeight===n.domHeight&&this.canvasWidth===n.canvasWidth&&this.canvasHeight===n.canvasHeight}}class Li extends lt{constructor(n){super(n),this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=(0,xe.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=En.RW.onDidChange(l=>{l.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(n){const l=new Pi(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(l)?!1:(this._settings=l,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,n&&this._render(),!0)}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(n){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}onCursorStateChanged(n){this._cursorPositions=[];for(let l=0,m=n.selections.length;l<m;l++)this._cursorPositions[l]=n.selections[l].getPosition();return this._cursorPositions.sort(He.L.compare),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(n){return n.affectsOverviewRuler?this._markRenderingIsMaybeNeeded():!1}onFlushed(n){return this._markRenderingIsNeeded()}onScrollChanged(n){return n.scrollHeightChanged?this._markRenderingIsNeeded():!1}onZonesChanged(n){return this._markRenderingIsNeeded()}onThemeChanged(n){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}getDomNode(){return this._domNode.domNode}prepareRender(n){}render(n){this._render(),this._actualShouldRender=0}_render(){const n=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(n?bn.Il.Format.CSS.formatHexA(n):""),this._domNode.setDisplay("none");return}const l=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(l.sort(ts.SQ.compareByRenderingProps),this._actualShouldRender===1&&!ts.SQ.equalsArr(this._renderedDecorations,l)&&(this._actualShouldRender=2),this._actualShouldRender===1&&!(0,_.fS)(this._renderedCursorPositions,this._cursorPositions,($t,qt)=>$t.lineNumber===qt.lineNumber)&&(this._actualShouldRender=2),this._actualShouldRender===1)return;this._renderedDecorations=l,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const m=this._settings.canvasWidth,w=this._settings.canvasHeight,z=this._settings.lineHeight,ae=this._context.viewLayout,ge=this._context.viewLayout.getScrollHeight(),ye=w/ge,Ge=6*this._settings.pixelRatio|0,ot=Ge/2|0,ht=this._domNode.domNode.getContext("2d");n?n.isOpaque()?(ht.fillStyle=bn.Il.Format.CSS.formatHexA(n),ht.fillRect(0,0,m,w)):(ht.clearRect(0,0,m,w),ht.fillStyle=bn.Il.Format.CSS.formatHexA(n),ht.fillRect(0,0,m,w)):ht.clearRect(0,0,m,w);const Et=this._settings.x,wt=this._settings.w;for(const $t of l){const qt=$t.color,ci=$t.data;ht.fillStyle=qt;let gi=0,wi=0,Bi=0;for(let nn=0,an=ci.length/3;nn<an;nn++){const Nn=ci[3*nn],Sn=ci[3*nn+1],_n=ci[3*nn+2];let un=ae.getVerticalOffsetForLineNumber(Sn)*ye|0,Dn=(ae.getVerticalOffsetForLineNumber(_n)+z)*ye|0;if(Dn-un<Ge){let On=(un+Dn)/2|0;On<ot?On=ot:On+ot>w&&(On=w-ot),un=On-ot,Dn=On+ot}un>Bi+1||Nn!==gi?(nn!==0&&ht.fillRect(Et[gi],wi,wt[gi],Bi-wi),gi=Nn,wi=un,Bi=Dn):Dn>Bi&&(Bi=Dn)}ht.fillRect(Et[gi],wi,wt[gi],Bi-wi)}if(!this._settings.hideCursor&&this._settings.cursorColor){const $t=2*this._settings.pixelRatio|0,qt=$t/2|0,ci=this._settings.x[7],gi=this._settings.w[7];ht.fillStyle=this._settings.cursorColor;let wi=-100,Bi=-100;for(let nn=0,an=this._cursorPositions.length;nn<an;nn++){const Nn=this._cursorPositions[nn];let Sn=ae.getVerticalOffsetForLineNumber(Nn.lineNumber)*ye|0;Sn<qt?Sn=qt:Sn+qt>w&&(Sn=w-qt);const _n=Sn-qt,un=_n+$t;_n>Bi+1?(nn!==0&&ht.fillRect(ci,wi,gi,Bi-wi),wi=_n,Bi=un):un>Bi&&(Bi=un)}ht.fillRect(ci,wi,gi,Bi-wi)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(ht.beginPath(),ht.lineWidth=1,ht.strokeStyle=this._settings.borderColor,ht.moveTo(0,0),ht.lineTo(0,w),ht.stroke(),ht.moveTo(0,0),ht.lineTo(m,0),ht.stroke())}}var Ii=c(69017);class Je extends Ze{constructor(n,l){super(),this._context=n;const m=this._context.configuration.options;this._domNode=(0,xe.X)(document.createElement("canvas")),this._domNode.setClassName(l),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new Ii.Tj(w=>this._context.viewLayout.getVerticalOffsetForLineNumber(w)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(m.get(66)),this._zoneManager.setPixelRatio(m.get(141)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(n){const l=this._context.configuration.options;return n.hasChanged(66)&&(this._zoneManager.setLineHeight(l.get(66)),this._render()),n.hasChanged(141)&&(this._zoneManager.setPixelRatio(l.get(141)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(n){return this._render(),!0}onScrollChanged(n){return n.scrollHeightChanged&&(this._zoneManager.setOuterHeight(n.scrollHeight),this._render()),!0}onZonesChanged(n){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(n){this._domNode.setTop(n.top),this._domNode.setRight(n.right);let l=!1;l=this._zoneManager.setDOMWidth(n.width)||l,l=this._zoneManager.setDOMHeight(n.height)||l,l&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(n){this._zoneManager.setZones(n),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const n=this._zoneManager.getCanvasWidth(),l=this._zoneManager.getCanvasHeight(),m=this._zoneManager.resolveColorZones(),w=this._zoneManager.getId2Color(),z=this._domNode.domNode.getContext("2d");return z.clearRect(0,0,n,l),m.length>0&&this._renderOneLane(z,m,w,n),!0}_renderOneLane(n,l,m,w){let z=0,ae=0,ge=0;for(const ye of l){const Ge=ye.colorId,ot=ye.from,ht=ye.to;Ge!==z?(n.fillRect(0,ae,w,ge-ae),z=Ge,n.fillStyle=m[z],ae=ot,ge=ht):ge>=ot?ge=Math.max(ge,ht):(n.fillRect(0,ae,w,ge-ae),ae=ot,ge=ht)}n.fillRect(0,ae,w,ge-ae)}}class E extends lt{constructor(n){super(n),this.domNode=(0,xe.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const l=this._context.configuration.options;this._rulers=l.get(101),this._typicalHalfwidthCharacterWidth=l.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(n){const l=this._context.configuration.options;return this._rulers=l.get(101),this._typicalHalfwidthCharacterWidth=l.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(n){return n.scrollHeightChanged}prepareRender(n){}_ensureRulersCount(){const n=this._renderedRulers.length,l=this._rulers.length;if(n===l)return;if(n<l){const{tabSize:w}=this._context.viewModel.model.getOptions(),z=w;let ae=l-n;for(;ae>0;){const ge=(0,xe.X)(document.createElement("div"));ge.setClassName("view-ruler"),ge.setWidth(z),this.domNode.appendChild(ge),this._renderedRulers.push(ge),ae--}return}let m=n-l;for(;m>0;){const w=this._renderedRulers.pop();this.domNode.removeChild(w),m--}}render(n){this._ensureRulersCount();for(let l=0,m=this._rulers.length;l<m;l++){const w=this._renderedRulers[l],z=this._rulers[l];w.setBoxShadow(z.color?`1px 0 0 0 ${z.color} inset`:""),w.setHeight(Math.min(n.scrollHeight,1e6)),w.setLeft(z.column*this._typicalHalfwidthCharacterWidth)}}}class W extends lt{constructor(n){super(n),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const m=this._context.configuration.options.get(102);this._useShadows=m.useShadows,this._domNode=(0,xe.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const n=this._useShadows&&this._scrollTop>0;return this._shouldShow!==n?(this._shouldShow=n,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const l=this._context.configuration.options.get(143);l.minimap.renderMinimap===0||l.minimap.minimapWidth>0&&l.minimap.minimapLeft===0?this._width=l.width:this._width=l.width-l.verticalScrollbarWidth}onConfigurationChanged(n){const m=this._context.configuration.options.get(102);return this._useShadows=m.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(n){return this._scrollTop=n.scrollTop,this._updateShouldShow()}prepareRender(n){}render(n){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}class Q{constructor(n){this.left=n.left,this.width=n.width,this.startStyle=null,this.endStyle=null}}class ue{constructor(n,l){this.lineNumber=n,this.ranges=l}}function ve(Lt){return new Q(Lt)}function Oe(Lt){return new ue(Lt.lineNumber,Lt.ranges.map(ve))}class We extends Qi{constructor(n){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=n;const l=this._context.configuration.options;this._lineHeight=l.get(66),this._roundedSelection=l.get(100),this._typicalHalfwidthCharacterWidth=l.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(n){const l=this._context.configuration.options;return this._lineHeight=l.get(66),this._roundedSelection=l.get(100),this._typicalHalfwidthCharacterWidth=l.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(n){return this._selections=n.selections.slice(0),!0}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollTopChanged}onZonesChanged(n){return!0}_visibleRangesHaveGaps(n){for(let l=0,m=n.length;l<m;l++)if(n[l].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(n,l,m){const w=this._typicalHalfwidthCharacterWidth/4;let z=null,ae=null;if(m&&m.length>0&&l.length>0){const ge=l[0].lineNumber;if(ge===n.startLineNumber)for(let Ge=0;!z&&Ge<m.length;Ge++)m[Ge].lineNumber===ge&&(z=m[Ge].ranges[0]);const ye=l[l.length-1].lineNumber;if(ye===n.endLineNumber)for(let Ge=m.length-1;!ae&&Ge>=0;Ge--)m[Ge].lineNumber===ye&&(ae=m[Ge].ranges[0]);z&&!z.startStyle&&(z=null),ae&&!ae.startStyle&&(ae=null)}for(let ge=0,ye=l.length;ge<ye;ge++){const Ge=l[ge].ranges[0],ot=Ge.left,ht=Ge.left+Ge.width,Et={top:0,bottom:0},wt={top:0,bottom:0};if(ge>0){const $t=l[ge-1].ranges[0].left,qt=l[ge-1].ranges[0].left+l[ge-1].ranges[0].width;et(ot-$t)<w?Et.top=2:ot>$t&&(Et.top=1),et(ht-qt)<w?wt.top=2:$t<ht&&ht<qt&&(wt.top=1)}else z&&(Et.top=z.startStyle.top,wt.top=z.endStyle.top);if(ge+1<ye){const $t=l[ge+1].ranges[0].left,qt=l[ge+1].ranges[0].left+l[ge+1].ranges[0].width;et(ot-$t)<w?Et.bottom=2:$t<ot&&ot<qt&&(Et.bottom=1),et(ht-qt)<w?wt.bottom=2:ht<qt&&(wt.bottom=1)}else ae&&(Et.bottom=ae.startStyle.bottom,wt.bottom=ae.endStyle.bottom);Ge.startStyle=Et,Ge.endStyle=wt}}_getVisibleRangesWithStyle(n,l,m){const z=(l.linesVisibleRangesForRange(n,!0)||[]).map(Oe);return!this._visibleRangesHaveGaps(z)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(l.visibleRange,z,m),z}_createSelectionPiece(n,l,m,w,z){return'<div class="cslr '+m+'" style="top:'+n.toString()+"px;left:"+w.toString()+"px;width:"+z.toString()+"px;height:"+l+'px;"></div>'}_actualRenderOneSelection(n,l,m,w){if(w.length===0)return;const z=!!w[0].ranges[0].startStyle,ae=this._lineHeight.toString(),ge=(this._lineHeight-1).toString(),ye=w[0].lineNumber,Ge=w[w.length-1].lineNumber;for(let ot=0,ht=w.length;ot<ht;ot++){const Et=w[ot],wt=Et.lineNumber,$t=wt-l,qt=m&&(wt===Ge||wt===ye)?ge:ae,ci=m&&wt===ye?1:0;let gi="",wi="";for(let Bi=0,nn=Et.ranges.length;Bi<nn;Bi++){const an=Et.ranges[Bi];if(z){const Sn=an.startStyle,_n=an.endStyle;if(Sn.top===1||Sn.bottom===1){gi+=this._createSelectionPiece(ci,qt,We.SELECTION_CLASS_NAME,an.left-We.ROUNDED_PIECE_WIDTH,We.ROUNDED_PIECE_WIDTH);let un=We.EDITOR_BACKGROUND_CLASS_NAME;Sn.top===1&&(un+=" "+We.SELECTION_TOP_RIGHT),Sn.bottom===1&&(un+=" "+We.SELECTION_BOTTOM_RIGHT),gi+=this._createSelectionPiece(ci,qt,un,an.left-We.ROUNDED_PIECE_WIDTH,We.ROUNDED_PIECE_WIDTH)}if(_n.top===1||_n.bottom===1){gi+=this._createSelectionPiece(ci,qt,We.SELECTION_CLASS_NAME,an.left+an.width,We.ROUNDED_PIECE_WIDTH);let un=We.EDITOR_BACKGROUND_CLASS_NAME;_n.top===1&&(un+=" "+We.SELECTION_TOP_LEFT),_n.bottom===1&&(un+=" "+We.SELECTION_BOTTOM_LEFT),gi+=this._createSelectionPiece(ci,qt,un,an.left+an.width,We.ROUNDED_PIECE_WIDTH)}}let Nn=We.SELECTION_CLASS_NAME;if(z){const Sn=an.startStyle,_n=an.endStyle;Sn.top===0&&(Nn+=" "+We.SELECTION_TOP_LEFT),Sn.bottom===0&&(Nn+=" "+We.SELECTION_BOTTOM_LEFT),_n.top===0&&(Nn+=" "+We.SELECTION_TOP_RIGHT),_n.bottom===0&&(Nn+=" "+We.SELECTION_BOTTOM_RIGHT)}wi+=this._createSelectionPiece(ci,qt,Nn,an.left,an.width)}n[$t][0]+=gi,n[$t][1]+=wi}}prepareRender(n){const l=[],m=n.visibleRange.startLineNumber,w=n.visibleRange.endLineNumber;for(let ae=m;ae<=w;ae++){const ge=ae-m;l[ge]=["",""]}const z=[];for(let ae=0,ge=this._selections.length;ae<ge;ae++){const ye=this._selections[ae];if(ye.isEmpty()){z[ae]=null;continue}const Ge=this._getVisibleRangesWithStyle(ye,n,this._previousFrameVisibleRangesWithStyle[ae]);z[ae]=Ge,this._actualRenderOneSelection(l,m,this._selections.length>1,Ge)}this._previousFrameVisibleRangesWithStyle=z,this._renderResult=l.map(([ae,ge])=>ae+ge)}render(n,l){if(!this._renderResult)return"";const m=l-n;return m<0||m>=this._renderResult.length?"":this._renderResult[m]}}We.SELECTION_CLASS_NAME="selected-text",We.SELECTION_TOP_LEFT="top-left-radius",We.SELECTION_BOTTOM_LEFT="bottom-left-radius",We.SELECTION_TOP_RIGHT="top-right-radius",We.SELECTION_BOTTOM_RIGHT="bottom-right-radius",We.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",We.ROUNDED_PIECE_WIDTH=10,(0,ei.Ic)((Lt,n)=>{const l=Lt.getColor(ls.yb5);l&&!l.isTransparent()&&n.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${l}; }`)});function et(Lt){return Lt<0?-Lt:Lt}class Fe{constructor(n,l,m,w,z,ae,ge){this.top=n,this.left=l,this.paddingLeft=m,this.width=w,this.height=z,this.textContent=ae,this.textContentClassName=ge}}class A{constructor(n){this._context=n;const l=this._context.configuration.options,m=l.get(50);this._cursorStyle=l.get(28),this._lineHeight=l.get(66),this._typicalHalfwidthCharacterWidth=m.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(l.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,xe.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${hi}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,dn.N)(this._domNode,m),this._domNode.setDisplay("none"),this._position=new He.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(n){const l=this._context.configuration.options,m=l.get(50);return this._cursorStyle=l.get(28),this._lineHeight=l.get(66),this._typicalHalfwidthCharacterWidth=m.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(l.get(31),this._typicalHalfwidthCharacterWidth),(0,dn.N)(this._domNode,m),!0}onCursorPositionChanged(n,l){return l?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=n,!0}_getGraphemeAwarePosition(){const{lineNumber:n,column:l}=this._position,m=this._context.viewModel.getLineContent(n),[w,z]=xi.J_(m,l-1);return[new He.L(n,w+1),m.substring(w,z)]}_prepareRender(n){let l="",m="";const[w,z]=this._getGraphemeAwarePosition();if(this._cursorStyle===ne.d2.Line||this._cursorStyle===ne.d2.LineThin){const Et=n.visibleRangeForPosition(w);if(!Et||Et.outsideRenderedLine)return null;const wt=M.Jj(this._domNode.domNode);let $t;this._cursorStyle===ne.d2.Line?($t=M.Uh(wt,this._lineCursorWidth>0?this._lineCursorWidth:2),$t>2&&(l=z,m=this._getTokenClassName(w))):$t=M.Uh(wt,1);let qt=Et.left,ci=0;$t>=2&&qt>=1&&(ci=1,qt-=ci);const gi=n.getVerticalOffsetForLineNumber(w.lineNumber)-n.bigNumbersDelta;return new Fe(gi,qt,ci,$t,this._lineHeight,l,m)}const ae=n.linesVisibleRangesForRange(new pe.e(w.lineNumber,w.column,w.lineNumber,w.column+z.length),!1);if(!ae||ae.length===0)return null;const ge=ae[0];if(ge.outsideRenderedLine||ge.ranges.length===0)return null;const ye=ge.ranges[0],Ge=z==="	"?this._typicalHalfwidthCharacterWidth:ye.width<1?this._typicalHalfwidthCharacterWidth:ye.width;this._cursorStyle===ne.d2.Block&&(l=z,m=this._getTokenClassName(w));let ot=n.getVerticalOffsetForLineNumber(w.lineNumber)-n.bigNumbersDelta,ht=this._lineHeight;return(this._cursorStyle===ne.d2.Underline||this._cursorStyle===ne.d2.UnderlineThin)&&(ot+=this._lineHeight-2,ht=2),new Fe(ot,ye.left,0,Ge,ht,l,m)}_getTokenClassName(n){const l=this._context.viewModel.getViewLineData(n.lineNumber),m=l.tokens.findTokenIndexAtOffset(n.column-1);return l.tokens.getClassName(m)}prepareRender(n){this._renderData=this._prepareRender(n)}render(n){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${hi} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class q extends lt{constructor(n){super(n);const l=this._context.configuration.options;this._readOnly=l.get(90),this._cursorBlinking=l.get(26),this._cursorStyle=l.get(28),this._cursorSmoothCaretAnimation=l.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new A(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,xe.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new Ji._F,this._cursorFlatBlinkInterval=new M.ne,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(n){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(n){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(n){const l=this._context.configuration.options;this._readOnly=l.get(90),this._cursorBlinking=l.get(26),this._cursorStyle=l.get(28),this._cursorSmoothCaretAnimation=l.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(n);for(let m=0,w=this._secondaryCursors.length;m<w;m++)this._secondaryCursors[m].onConfigurationChanged(n);return!0}_onCursorPositionChanged(n,l,m){const w=this._secondaryCursors.length!==l.length||this._cursorSmoothCaretAnimation==="explicit"&&m!==3;if(this._primaryCursor.onCursorPositionChanged(n,w),this._updateBlinking(),this._secondaryCursors.length<l.length){const z=l.length-this._secondaryCursors.length;for(let ae=0;ae<z;ae++){const ge=new A(this._context);this._domNode.domNode.insertBefore(ge.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(ge)}}else if(this._secondaryCursors.length>l.length){const z=this._secondaryCursors.length-l.length;for(let ae=0;ae<z;ae++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let z=0;z<l.length;z++)this._secondaryCursors[z].onCursorPositionChanged(l[z],w)}onCursorStateChanged(n){const l=[];for(let w=0,z=n.selections.length;w<z;w++)l[w]=n.selections[w].getPosition();this._onCursorPositionChanged(l[0],l.slice(1),n.reason);const m=n.selections[0].isEmpty();return this._selectionIsEmpty!==m&&(this._selectionIsEmpty=m,this._updateDomClassName()),!0}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onFocusChanged(n){return this._editorHasFocus=n.isFocused,this._updateBlinking(),!1}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return!0}onTokensChanged(n){const l=m=>{for(let w=0,z=n.ranges.length;w<z;w++)if(n.ranges[w].fromLineNumber<=m.lineNumber&&m.lineNumber<=n.ranges[w].toLineNumber)return!0;return!1};if(l(this._primaryCursor.getPosition()))return!0;for(const m of this._secondaryCursors)if(l(m.getPosition()))return!0;return!1}onZonesChanged(n){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const n=this._getCursorBlinking(),l=n===0,m=n===5;l?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!l&&!m&&(n===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},q.BLINK_INTERVAL,(0,M.Jj)(this._domNode.domNode)):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},q.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let n="cursors-layer";switch(this._selectionIsEmpty||(n+=" has-selection"),this._cursorStyle){case ne.d2.Line:n+=" cursor-line-style";break;case ne.d2.Block:n+=" cursor-block-style";break;case ne.d2.Underline:n+=" cursor-underline-style";break;case ne.d2.LineThin:n+=" cursor-line-thin-style";break;case ne.d2.BlockOutline:n+=" cursor-block-outline-style";break;case ne.d2.UnderlineThin:n+=" cursor-underline-thin-style";break;default:n+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:n+=" cursor-blink";break;case 2:n+=" cursor-smooth";break;case 3:n+=" cursor-phase";break;case 4:n+=" cursor-expand";break;case 5:n+=" cursor-solid";break;default:n+=" cursor-solid"}else n+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(n+=" cursor-smooth-caret-animation"),n}_show(){this._primaryCursor.show();for(let n=0,l=this._secondaryCursors.length;n<l;n++)this._secondaryCursors[n].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let n=0,l=this._secondaryCursors.length;n<l;n++)this._secondaryCursors[n].hide();this._isVisible=!1}prepareRender(n){this._primaryCursor.prepareRender(n);for(let l=0,m=this._secondaryCursors.length;l<m;l++)this._secondaryCursors[l].prepareRender(n)}render(n){const l=[];let m=0;const w=this._primaryCursor.render(n);w&&(l[m++]=w);for(let z=0,ae=this._secondaryCursors.length;z<ae;z++){const ge=this._secondaryCursors[z].render(n);ge&&(l[m++]=ge)}this._renderData=l}getLastRenderData(){return this._renderData}}q.BLINK_INTERVAL=500,(0,ei.Ic)((Lt,n)=>{const l=Lt.getColor(Be.n0);if(l){let m=Lt.getColor(Be.fY);m||(m=l.opposite()),n.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${l}; border-color: ${l}; color: ${m}; }`),(0,mn.c3)(Lt.type)&&n.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${m}; border-right: 1px solid ${m}; }`)}});const fe=()=>{throw new Error("Invalid change accessor")};class Pe extends lt{constructor(n){super(n);const l=this._context.configuration.options,m=l.get(143);this._lineHeight=l.get(66),this._contentWidth=m.contentWidth,this._contentLeft=m.contentLeft,this.domNode=(0,xe.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,xe.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const n=this._context.viewLayout.getWhitespaces(),l=new Map;for(const w of n)l.set(w.id,w);let m=!1;return this._context.viewModel.changeWhitespace(w=>{const z=Object.keys(this._zones);for(let ae=0,ge=z.length;ae<ge;ae++){const ye=z[ae],Ge=this._zones[ye],ot=this._computeWhitespaceProps(Ge.delegate);Ge.isInHiddenArea=ot.isInHiddenArea;const ht=l.get(ye);ht&&(ht.afterLineNumber!==ot.afterViewLineNumber||ht.height!==ot.heightInPx)&&(w.changeOneWhitespace(ye,ot.afterViewLineNumber,ot.heightInPx),this._safeCallOnComputedHeight(Ge.delegate,ot.heightInPx),m=!0)}}),m}onConfigurationChanged(n){const l=this._context.configuration.options,m=l.get(143);return this._lineHeight=l.get(66),this._contentWidth=m.contentWidth,this._contentLeft=m.contentLeft,n.hasChanged(66)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(n){return this._recomputeWhitespacesProps()}onLinesDeleted(n){return!0}onScrollChanged(n){return n.scrollTopChanged||n.scrollWidthChanged}onZonesChanged(n){return!0}onLinesInserted(n){return!0}_getZoneOrdinal(n){var l,m;return(m=(l=n.ordinal)!==null&&l!==void 0?l:n.afterColumn)!==null&&m!==void 0?m:1e4}_computeWhitespaceProps(n){if(n.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(n),minWidthInPx:this._minWidthInPixels(n)};let l;if(typeof n.afterColumn!="undefined")l=this._context.viewModel.model.validatePosition({lineNumber:n.afterLineNumber,column:n.afterColumn});else{const ae=this._context.viewModel.model.validatePosition({lineNumber:n.afterLineNumber,column:1}).lineNumber;l=new He.L(ae,this._context.viewModel.model.getLineMaxColumn(ae))}let m;l.column===this._context.viewModel.model.getLineMaxColumn(l.lineNumber)?m=this._context.viewModel.model.validatePosition({lineNumber:l.lineNumber+1,column:1}):m=this._context.viewModel.model.validatePosition({lineNumber:l.lineNumber,column:l.column+1});const w=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(l,n.afterColumnAffinity,!0),z=n.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(m);return{isInHiddenArea:!z,afterViewLineNumber:w.lineNumber,heightInPx:z?this._heightInPixels(n):0,minWidthInPx:this._minWidthInPixels(n)}}changeViewZones(n){let l=!1;return this._context.viewModel.changeWhitespace(m=>{const w={addZone:z=>(l=!0,this._addZone(m,z)),removeZone:z=>{z&&(l=this._removeZone(m,z)||l)},layoutZone:z=>{z&&(l=this._layoutZone(m,z)||l)}};Ye(n,w),w.addZone=fe,w.removeZone=fe,w.layoutZone=fe}),l}_addZone(n,l){const m=this._computeWhitespaceProps(l),z={whitespaceId:n.insertWhitespace(m.afterViewLineNumber,this._getZoneOrdinal(l),m.heightInPx,m.minWidthInPx),delegate:l,isInHiddenArea:m.isInHiddenArea,isVisible:!1,domNode:(0,xe.X)(l.domNode),marginDomNode:l.marginDomNode?(0,xe.X)(l.marginDomNode):null};return this._safeCallOnComputedHeight(z.delegate,m.heightInPx),z.domNode.setPosition("absolute"),z.domNode.domNode.style.width="100%",z.domNode.setDisplay("none"),z.domNode.setAttribute("monaco-view-zone",z.whitespaceId),this.domNode.appendChild(z.domNode),z.marginDomNode&&(z.marginDomNode.setPosition("absolute"),z.marginDomNode.domNode.style.width="100%",z.marginDomNode.setDisplay("none"),z.marginDomNode.setAttribute("monaco-view-zone",z.whitespaceId),this.marginDomNode.appendChild(z.marginDomNode)),this._zones[z.whitespaceId]=z,this.setShouldRender(),z.whitespaceId}_removeZone(n,l){if(this._zones.hasOwnProperty(l)){const m=this._zones[l];return delete this._zones[l],n.removeWhitespace(m.whitespaceId),m.domNode.removeAttribute("monaco-visible-view-zone"),m.domNode.removeAttribute("monaco-view-zone"),m.domNode.domNode.parentNode.removeChild(m.domNode.domNode),m.marginDomNode&&(m.marginDomNode.removeAttribute("monaco-visible-view-zone"),m.marginDomNode.removeAttribute("monaco-view-zone"),m.marginDomNode.domNode.parentNode.removeChild(m.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(n,l){if(this._zones.hasOwnProperty(l)){const m=this._zones[l],w=this._computeWhitespaceProps(m.delegate);return m.isInHiddenArea=w.isInHiddenArea,n.changeOneWhitespace(m.whitespaceId,w.afterViewLineNumber,w.heightInPx),this._safeCallOnComputedHeight(m.delegate,w.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(n){return this._zones.hasOwnProperty(n)?!!this._zones[n].delegate.suppressMouseDown:!1}_heightInPixels(n){return typeof n.heightInPx=="number"?n.heightInPx:typeof n.heightInLines=="number"?this._lineHeight*n.heightInLines:this._lineHeight}_minWidthInPixels(n){return typeof n.minWidthInPx=="number"?n.minWidthInPx:0}_safeCallOnComputedHeight(n,l){if(typeof n.onComputedHeight=="function")try{n.onComputedHeight(l)}catch(m){(0,B.dL)(m)}}_safeCallOnDomNodeTop(n,l){if(typeof n.onDomNodeTop=="function")try{n.onDomNodeTop(l)}catch(m){(0,B.dL)(m)}}prepareRender(n){}render(n){const l=n.viewportData.whitespaceViewportData,m={};let w=!1;for(const ae of l)this._zones[ae.id].isInHiddenArea||(m[ae.id]=ae,w=!0);const z=Object.keys(this._zones);for(let ae=0,ge=z.length;ae<ge;ae++){const ye=z[ae],Ge=this._zones[ye];let ot=0,ht=0,Et="none";m.hasOwnProperty(ye)?(ot=m[ye].verticalOffset-n.bigNumbersDelta,ht=m[ye].height,Et="block",Ge.isVisible||(Ge.domNode.setAttribute("monaco-visible-view-zone","true"),Ge.isVisible=!0),this._safeCallOnDomNodeTop(Ge.delegate,n.getScrolledTopFromAbsoluteTop(m[ye].verticalOffset))):(Ge.isVisible&&(Ge.domNode.removeAttribute("monaco-visible-view-zone"),Ge.isVisible=!1),this._safeCallOnDomNodeTop(Ge.delegate,n.getScrolledTopFromAbsoluteTop(-1e6))),Ge.domNode.setTop(ot),Ge.domNode.setHeight(ht),Ge.domNode.setDisplay(Et),Ge.marginDomNode&&(Ge.marginDomNode.setTop(ot),Ge.marginDomNode.setHeight(ht),Ge.marginDomNode.setDisplay(Et))}w&&(this.domNode.setWidth(Math.max(n.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function Ye(Lt,n){try{return Lt(n)}catch(l){(0,B.dL)(l)}}class dt{get type(){return this._theme.type}get value(){return this._theme}constructor(n){this._theme=n}update(n){this._theme=n}getColor(n){return this._theme.getColor(n)}}class St{constructor(n,l,m){this.configuration=n,this.theme=new dt(l),this.viewModel=m,this.viewLayout=m.viewLayout}addEventHandler(n){this.viewModel.addViewEventHandler(n)}removeEventHandler(n){this.viewModel.removeViewEventHandler(n)}}class Bt{constructor(n,l,m,w){this.selections=n,this.startLineNumber=l.startLineNumber|0,this.endLineNumber=l.endLineNumber|0,this.relativeVerticalOffset=l.relativeVerticalOffset,this.bigNumbersDelta=l.bigNumbersDelta|0,this.whitespaceViewportData=m,this._model=w,this.visibleRange=new pe.e(l.startLineNumber,this._model.getLineMinColumn(l.startLineNumber),l.endLineNumber,this._model.getLineMaxColumn(l.endLineNumber))}getViewLineRenderingData(n){return this._model.getViewportViewLineRenderingData(this.visibleRange,n)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class Ci extends lt{constructor(n){super(n),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=(0,xe.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let n=!1;const m=this._context.configuration.options.get(143),w=m.contentWidth-m.verticalScrollbarWidth;this.contentWidth!==w&&(this.contentWidth=w,n=!0);const z=m.contentLeft;return this.contentLeft!==z&&(this.contentLeft=z,n=!0),n}dispose(){super.dispose()}onConfigurationChanged(n){return this.update()}onScrollChanged(n){return n.scrollTopChanged||n.scrollLeftChanged}onDecorationsChanged(n){return!0}onZonesChanged(n){return!0}prepareRender(n){}render(n){var l;let m=0;const w=n.getDecorationsInViewport();for(const z of w){if(!z.options.blockClassName)continue;let ae=this.blocks[m];ae||(ae=this.blocks[m]=(0,xe.X)(document.createElement("div")),this.domNode.appendChild(ae));let ge,ye;z.options.blockIsAfterEnd?(ge=n.getVerticalOffsetAfterLineNumber(z.range.endLineNumber,!1),ye=n.getVerticalOffsetAfterLineNumber(z.range.endLineNumber,!0)):(ge=n.getVerticalOffsetForLineNumber(z.range.startLineNumber,!0),ye=z.range.isEmpty()&&!z.options.blockDoesNotCollapse?n.getVerticalOffsetForLineNumber(z.range.startLineNumber,!1):n.getVerticalOffsetAfterLineNumber(z.range.endLineNumber,!0));const[Ge,ot,ht,Et]=(l=z.options.blockPadding)!==null&&l!==void 0?l:[0,0,0,0];ae.setClassName("blockDecorations-block "+z.options.blockClassName),ae.setLeft(this.contentLeft-Et),ae.setWidth(this.contentWidth+Et+ot),ae.setTop(ge-n.scrollTop-Ge),ae.setHeight(ye-ge+Ge+ht),m++}for(let z=m;z<this.blocks.length;z++)this.blocks[z].domNode.remove();this.blocks.length=m}}var vi=c(98236),zi=c(88748);class Gi extends Qi{constructor(n){super(),this._context=n,this._options=new Wi(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(n){const l=new Wi(this._context.configuration);return this._options.equals(l)?n.hasChanged(143):(this._options=l,!0)}onCursorStateChanged(n){return this._selection=n.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollTopChanged}onZonesChanged(n){return!0}prepareRender(n){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const l=n.visibleRange.startLineNumber,w=n.visibleRange.endLineNumber-l+1,z=new Array(w);for(let ge=0;ge<w;ge++)z[ge]=!0;const ae=this._context.viewModel.getMinimapLinesRenderingData(n.viewportData.startLineNumber,n.viewportData.endLineNumber,z);this._renderResult=[];for(let ge=n.viewportData.startLineNumber;ge<=n.viewportData.endLineNumber;ge++){const ye=ge-n.viewportData.startLineNumber,Ge=ae.data[ye];let ot=null;if(this._options.renderWhitespace==="selection"){const ht=this._selection;for(const Et of ht){if(Et.endLineNumber<ge||Et.startLineNumber>ge)continue;const wt=Et.startLineNumber===ge?Et.startColumn:Ge.minColumn,$t=Et.endLineNumber===ge?Et.endColumn:Ge.maxColumn;wt<$t&&(ot||(ot=[]),ot.push(new zi.zG(wt-1,$t-1)))}}this._renderResult[ye]=this._applyRenderWhitespace(n,ge,ot,Ge)}}_applyRenderWhitespace(n,l,m,w){if(this._options.renderWhitespace==="selection"&&!m||this._options.renderWhitespace==="trailing"&&w.continuesWithWrappedLine)return"";const z=this._context.theme.getColor(Be.dI),ae=this._options.renderWithSVG,ge=w.content,ye=this._options.stopRenderingLineAfter===-1?ge.length:Math.min(this._options.stopRenderingLineAfter,ge.length),Ge=w.continuesWithWrappedLine,ot=w.minColumn-1,ht=this._options.renderWhitespace==="boundary",Et=this._options.renderWhitespace==="trailing",wt=this._options.lineHeight,$t=this._options.middotWidth,qt=this._options.wsmiddotWidth,ci=this._options.spaceWidth,gi=Math.abs(qt-ci),wi=Math.abs($t-ci),Bi=gi<wi?11825:183,nn=this._options.canUseHalfwidthRightwardsArrow;let an="",Nn=!1,Sn=xi.LC(ge),_n;Sn===-1?(Nn=!0,Sn=ye,_n=ye):_n=xi.ow(ge);let un=0,Dn=m&&m[un],zn=0;for(let On=ot;On<ye;On++){const Yn=ge.charCodeAt(On);if(Dn&&On>=Dn.endOffset&&(un++,Dn=m&&m[un]),Yn!==9&&Yn!==32||Et&&!Nn&&On<=_n)continue;if(ht&&On>=Sn&&On<=_n&&Yn===32){const ss=On-1>=0?ge.charCodeAt(On-1):0,Us=On+1<ye?ge.charCodeAt(On+1):0;if(ss!==32&&Us!==32)continue}if(ht&&Ge&&On===ye-1){const ss=On-1>=0?ge.charCodeAt(On-1):0;if(Yn===32&&ss!==32&&ss!==9)continue}if(m&&(!Dn||Dn.startOffset>On||Dn.endOffset<=On))continue;const Ps=n.visibleRangeForPosition(new He.L(l,On+1));Ps&&(ae?(zn=Math.max(zn,Ps.left),Yn===9?an+=this._renderArrow(wt,ci,Ps.left):an+=`<circle cx="${(Ps.left+ci/2).toFixed(2)}" cy="${(wt/2).toFixed(2)}" r="${(ci/7).toFixed(2)}" />`):Yn===9?an+=`<div class="mwh" style="left:${Ps.left}px;height:${wt}px;">${nn?String.fromCharCode(65515):String.fromCharCode(8594)}</div>`:an+=`<div class="mwh" style="left:${Ps.left}px;height:${wt}px;">${String.fromCharCode(Bi)}</div>`)}return ae?(zn=Math.round(zn+ci),`<svg style="position:absolute;width:${zn}px;height:${wt}px" viewBox="0 0 ${zn} ${wt}" xmlns="http://www.w3.org/2000/svg" fill="${z}">`+an+"</svg>"):an}_renderArrow(n,l,m){const w=l/7,z=l,ae=n/2,ge=m,ye={x:0,y:w/2},Ge={x:100/125*z,y:ye.y},ot={x:Ge.x-.2*Ge.x,y:Ge.y+.2*Ge.x},ht={x:ot.x+.1*Ge.x,y:ot.y+.1*Ge.x},Et={x:ht.x+.35*Ge.x,y:ht.y-.35*Ge.x},wt={x:Et.x,y:-Et.y},$t={x:ht.x,y:-ht.y},qt={x:ot.x,y:-ot.y},ci={x:Ge.x,y:-Ge.y},gi={x:ye.x,y:-ye.y};return`<path d="M ${[ye,Ge,ot,ht,Et,wt,$t,qt,ci,gi].map(nn=>`${(ge+nn.x).toFixed(2)} ${(ae+nn.y).toFixed(2)}`).join(" L ")}" />`}render(n,l){if(!this._renderResult)return"";const m=l-n;return m<0||m>=this._renderResult.length?"":this._renderResult[m]}}class Wi{constructor(n){const l=n.options,m=l.get(50),w=l.get(38);w==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):w==="svg"?(this.renderWhitespace=l.get(98),this.renderWithSVG=!0):(this.renderWhitespace=l.get(98),this.renderWithSVG=!1),this.spaceWidth=m.spaceWidth,this.middotWidth=m.middotWidth,this.wsmiddotWidth=m.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=m.canUseHalfwidthRightwardsArrow,this.lineHeight=l.get(66),this.stopRenderingLineAfter=l.get(116)}equals(n){return this.renderWhitespace===n.renderWhitespace&&this.renderWithSVG===n.renderWithSVG&&this.spaceWidth===n.spaceWidth&&this.middotWidth===n.middotWidth&&this.wsmiddotWidth===n.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===n.canUseHalfwidthRightwardsArrow&&this.lineHeight===n.lineHeight&&this.stopRenderingLineAfter===n.stopRenderingLineAfter}}var Mi=function(Lt,n,l,m){var w=arguments.length,z=w<3?n:m===null?m=Object.getOwnPropertyDescriptor(n,l):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(Lt,n,l,m);else for(var ge=Lt.length-1;ge>=0;ge--)(ae=Lt[ge])&&(z=(w<3?ae(z):w>3?ae(n,l,z):ae(n,l))||z);return w>3&&z&&Object.defineProperty(n,l,z),z},Oi=function(Lt,n){return function(l,m){n(l,m,Lt)}};let Xi=class extends Ze{constructor(n,l,m,w,z,ae,ge){super(),this._instantiationService=ge,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new Ce.Y(1,1,1,1)],this._renderAnimationFrame=null;const ye=new os(l,w,z,n);this._context=new St(l,m,w),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(cs,this._context,ye,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,xe.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,xe.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,xe.X)(document.createElement("div")),ut.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new It(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new ln(this._context,this._linesContent),this._viewZones=new Pe(this._context),this._viewParts.push(this._viewZones);const Ge=new Li(this._context);this._viewParts.push(Ge);const ot=new W(this._context);this._viewParts.push(ot);const ht=new Te(this._context);this._viewParts.push(ht),ht.addDynamicOverlay(new pi(this._context)),ht.addDynamicOverlay(new We(this._context)),ht.addDynamicOverlay(new Vi(this._context)),ht.addDynamicOverlay(new Ct(this._context)),ht.addDynamicOverlay(new Gi(this._context));const Et=new tt(this._context);this._viewParts.push(Et),Et.addDynamicOverlay(new ti(this._context)),Et.addDynamicOverlay(new Is(this._context)),Et.addDynamicOverlay(new Xn(this._context)),Et.addDynamicOverlay(new Nt(this._context)),this._glyphMarginWidgets=new Zi(this._context),this._viewParts.push(this._glyphMarginWidgets);const wt=new Ri(this._context);wt.getDomNode().appendChild(this._viewZones.marginDomNode),wt.getDomNode().appendChild(Et.getDomNode()),wt.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(wt),this._contentWidgets=new Wt(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new q(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Ei(this._context),this._viewParts.push(this._overlayWidgets);const $t=new E(this._context);this._viewParts.push($t);const qt=new Ci(this._context);this._viewParts.push(qt);const ci=new ni(this._context);if(this._viewParts.push(ci),Ge){const gi=this._scrollbar.getOverviewRulerLayoutInfo();gi.parent.insertBefore(Ge.getDomNode(),gi.insertBefore)}this._linesContent.appendChild(ht.getDomNode()),this._linesContent.appendChild($t.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(wt.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(ot.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(ci.getDomNode()),this._overflowGuardContainer.appendChild(qt.domNode),this.domNode.appendChild(this._overflowGuardContainer),ae?ae.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new Ki(this._context,ye,this._createPointerHandlerHelper()))}_computeGlyphMarginLaneCount(){const n=this._context.viewModel.model;let l=[];l=l.concat(n.getAllMarginDecorations().map(z=>{var ae,ge;const ye=(ge=(ae=z.options.glyphMargin)===null||ae===void 0?void 0:ae.position)!==null&&ge!==void 0?ge:Ns.U.Left;return{range:z.range,lane:ye}})),l=l.concat(this._glyphMarginWidgets.getWidgets().map(z=>({range:n.validateRange(z.preference.range),lane:z.preference.lane}))),l.sort((z,ae)=>pe.e.compareRangesUsingStarts(z.range,ae.range));let m=null,w=null;for(const z of l)if(z.lane===Ns.U.Left&&(!m||pe.e.compareRangesUsingEnds(m,z.range)<0)&&(m=z.range),z.lane===Ns.U.Right&&(!w||pe.e.compareRangesUsingEnds(w,z.range)<0)&&(w=z.range),m&&w){if(m.endLineNumber<w.startLineNumber){m=null;continue}if(w.endLineNumber<m.startLineNumber){w=null;continue}return 2}return 1}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:n=>{this._textAreaHandler.textArea.domNode.dispatchEvent(n)},getLastRenderData:()=>{const n=this._viewCursors.getLastRenderData()||[],l=this._textAreaHandler.getLastRenderData();return new xt(n,l)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:n=>this._viewZones.shouldSuppressMouseDownOnViewZone(n),shouldSuppressMouseDownOnWidget:n=>this._contentWidgets.shouldSuppressMouseDownOnWidget(n),getPositionFromDOMInfo:(n,l)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(n,l)),visibleRangeForPosition:(n,l)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new He.L(n,l))),getLineWidth:n=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(n))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:n=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(n))}}_applyLayout(){const l=this._context.configuration.options.get(143);this.domNode.setWidth(l.width),this.domNode.setHeight(l.height),this._overflowGuardContainer.setWidth(l.width),this._overflowGuardContainer.setHeight(l.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const n=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(140)+" "+(0,ei.m6)(this._context.theme.type)+n}handleEvents(n){super.handleEvents(n),this._scheduleRender()}onConfigurationChanged(n){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(n){return this._selections=n.selections,!1}onDecorationsChanged(n){return n.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(n){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(n){return this._context.theme.update(n.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const n of this._viewParts)n.dispose();super.dispose()}_scheduleRender(){if(this._store.isDisposed)throw new B.he;if(this._renderAnimationFrame===null){const n=this._createCoordinatedRendering();this._renderAnimationFrame=js.INSTANCE.scheduleCoordinatedRendering({window:M.Jj(this.domNode.domNode),prepareRenderText:()=>{if(this._store.isDisposed)throw new B.he;try{return n.prepareRenderText()}finally{this._renderAnimationFrame=null}},renderText:()=>{if(this._store.isDisposed)throw new B.he;return n.renderText()},prepareRender:(l,m)=>{if(this._store.isDisposed)throw new B.he;return n.prepareRender(l,m)},render:(l,m)=>{if(this._store.isDisposed)throw new B.he;return n.render(l,m)}})}}_flushAccumulatedAndRenderNow(){const n=this._createCoordinatedRendering();Hn(()=>n.prepareRenderText());const l=Hn(()=>n.renderText());if(l){const[m,w]=l;Hn(()=>n.prepareRender(m,w)),Hn(()=>n.render(m,w))}}_getViewPartsToRender(){const n=[];let l=0;for(const m of this._viewParts)m.shouldRender()&&(n[l++]=m);return n}_createCoordinatedRendering(){return{prepareRenderText:()=>{this._shouldRecomputeGlyphMarginLanes&&(this._shouldRecomputeGlyphMarginLanes=!1,this._context.configuration.setGlyphMarginDecorationLaneCount(this._computeGlyphMarginLaneCount())),vi.B.onRenderStart()},renderText:()=>{if(!this.domNode.domNode.isConnected)return null;let n=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&n.length===0)return null;const l=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(l.startLineNumber,l.endLineNumber,l.centeredLineNumber);const m=new Bt(this._selections,l,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);return this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(m),this._viewLines.shouldRender()&&(this._viewLines.renderText(m),this._viewLines.onDidRender(),n=this._getViewPartsToRender()),[n,new ii.xh(this._context.viewLayout,m,this._viewLines)]},prepareRender:(n,l)=>{for(const m of n)m.prepareRender(l)},render:(n,l)=>{for(const m of n)m.render(l),m.onDidRender()}}}delegateVerticalScrollbarPointerDown(n){this._scrollbar.delegateVerticalScrollbarPointerDown(n)}delegateScrollFromMouseWheelEvent(n){this._scrollbar.delegateScrollFromMouseWheelEvent(n)}restoreState(n){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:n.scrollTop,scrollLeft:n.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(n,l){const m=this._context.viewModel.model.validatePosition({lineNumber:n,column:l}),w=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(m);this._flushAccumulatedAndRenderNow();const z=this._viewLines.visibleRangeForPosition(new He.L(w.lineNumber,w.column));return z?z.left:-1}getTargetAtClientPoint(n,l){const m=this._pointerHandler.getTargetAtClientPoint(n,l);return m?ui.convertViewToModelMouseTarget(m,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(n){return new Je(this._context,n)}change(n){this._viewZones.changeViewZones(n),this._scheduleRender()}render(n,l){if(l){this._viewLines.forceShouldRender();for(const m of this._viewParts)m.forceShouldRender()}n?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(n){this._textAreaHandler.writeScreenReaderContent(n)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(n){this._textAreaHandler.setAriaOptions(n)}addContentWidget(n){this._contentWidgets.addWidget(n.widget),this.layoutContentWidget(n),this._scheduleRender()}layoutContentWidget(n){var l,m,w,z,ae,ge,ye,Ge;this._contentWidgets.setWidgetPosition(n.widget,(m=(l=n.position)===null||l===void 0?void 0:l.position)!==null&&m!==void 0?m:null,(z=(w=n.position)===null||w===void 0?void 0:w.secondaryPosition)!==null&&z!==void 0?z:null,(ge=(ae=n.position)===null||ae===void 0?void 0:ae.preference)!==null&&ge!==void 0?ge:null,(Ge=(ye=n.position)===null||ye===void 0?void 0:ye.positionAffinity)!==null&&Ge!==void 0?Ge:null),this._scheduleRender()}removeContentWidget(n){this._contentWidgets.removeWidget(n.widget),this._scheduleRender()}addOverlayWidget(n){this._overlayWidgets.addWidget(n.widget),this.layoutOverlayWidget(n),this._scheduleRender()}layoutOverlayWidget(n){const l=n.position?n.position.preference:null;this._overlayWidgets.setWidgetPosition(n.widget,l)&&this._scheduleRender()}removeOverlayWidget(n){this._overlayWidgets.removeWidget(n.widget),this._scheduleRender()}addGlyphMarginWidget(n){this._glyphMarginWidgets.addWidget(n.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(n){const l=n.position;this._glyphMarginWidgets.setWidgetPosition(n.widget,l)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(n){this._glyphMarginWidgets.removeWidget(n.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};Xi=Mi([Oi(6,kn.TG)],Xi);function Hn(Lt){try{return Lt()}catch(n){return(0,B.dL)(n),null}}class js{constructor(){this._coordinatedRenderings=[],this._animationFrameRunners=new Map}scheduleCoordinatedRendering(n){return this._coordinatedRenderings.push(n),this._scheduleRender(n.window),{dispose:()=>{const l=this._coordinatedRenderings.indexOf(n);if(l!==-1&&(this._coordinatedRenderings.splice(l,1),this._coordinatedRenderings.length===0)){for(const[m,w]of this._animationFrameRunners)w.dispose();this._animationFrameRunners.clear()}}}}_scheduleRender(n){if(!this._animationFrameRunners.has(n)){const l=()=>{this._animationFrameRunners.delete(n),this._onRenderScheduled()};this._animationFrameRunners.set(n,M.lI(n,l,100))}}_onRenderScheduled(){const n=this._coordinatedRenderings.slice(0);this._coordinatedRenderings=[];for(const m of n)Hn(()=>m.prepareRenderText());const l=[];for(let m=0,w=n.length;m<w;m++){const z=n[m];l[m]=Hn(()=>z.renderText())}for(let m=0,w=n.length;m<w;m++){const z=n[m],ae=l[m];if(!ae)continue;const[ge,ye]=ae;Hn(()=>z.prepareRender(ge,ye))}for(let m=0,w=n.length;m<w;m++){const z=n[m],ae=l[m];if(!ae)continue;const[ge,ye]=ae;Hn(()=>z.render(ge,ye))}}}js.INSTANCE=new js;var go=c(34955),So=c(39347),An=c(88582),Ts=c(44728),rs=c(99637),$n=c(46656);class Bs{constructor(n){this._selTrackedRange=null,this._trackSelection=!0,this._setState(n,new $n.rS(new pe.e(1,1,1,1),0,0,new He.L(1,1),0),new $n.rS(new pe.e(1,1,1,1),0,0,new He.L(1,1),0))}dispose(n){this._removeTrackedRange(n)}startTrackingSelection(n){this._trackSelection=!0,this._updateTrackedRange(n)}stopTrackingSelection(n){this._trackSelection=!1,this._removeTrackedRange(n)}_updateTrackedRange(n){this._trackSelection&&(this._selTrackedRange=n.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(n){this._selTrackedRange=n.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new $n.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(n){const l=n.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!l.isEmpty()?Ce.Y.fromRange(l.collapseToEnd(),this.modelState.selection.getDirection()):Ce.Y.fromRange(l,this.modelState.selection.getDirection())}ensureValidState(n){this._setState(n,this.modelState,this.viewState)}setState(n,l,m){this._setState(n,l,m)}static _validatePositionWithCache(n,l,m,w){return l.equals(m)?w:n.normalizePosition(l,2)}static _validateViewState(n,l){const m=l.position,w=l.selectionStart.getStartPosition(),z=l.selectionStart.getEndPosition(),ae=n.normalizePosition(m,2),ge=this._validatePositionWithCache(n,w,m,ae),ye=this._validatePositionWithCache(n,z,w,ge);return m.equals(ae)&&w.equals(ge)&&z.equals(ye)?l:new $n.rS(pe.e.fromPositions(ge,ye),l.selectionStartKind,l.selectionStartLeftoverVisibleColumns+w.column-ge.column,ae,l.leftoverVisibleColumns+m.column-ae.column)}_setState(n,l,m){if(m&&(m=Bs._validateViewState(n.viewModel,m)),l){const w=n.model.validateRange(l.selectionStart),z=l.selectionStart.equalsRange(w)?l.selectionStartLeftoverVisibleColumns:0,ae=n.model.validatePosition(l.position),ge=l.position.equals(ae)?l.leftoverVisibleColumns:0;l=new $n.rS(w,l.selectionStartKind,z,ae,ge)}else{if(!m)return;const w=n.model.validateRange(n.coordinatesConverter.convertViewRangeToModelRange(m.selectionStart)),z=n.model.validatePosition(n.coordinatesConverter.convertViewPositionToModelPosition(m.position));l=new $n.rS(w,m.selectionStartKind,m.selectionStartLeftoverVisibleColumns,z,m.leftoverVisibleColumns)}if(m){const w=n.coordinatesConverter.validateViewRange(m.selectionStart,l.selectionStart),z=n.coordinatesConverter.validateViewPosition(m.position,l.position);m=new $n.rS(w,l.selectionStartKind,l.selectionStartLeftoverVisibleColumns,z,l.leftoverVisibleColumns)}else{const w=n.coordinatesConverter.convertModelPositionToViewPosition(new He.L(l.selectionStart.startLineNumber,l.selectionStart.startColumn)),z=n.coordinatesConverter.convertModelPositionToViewPosition(new He.L(l.selectionStart.endLineNumber,l.selectionStart.endColumn)),ae=new pe.e(w.lineNumber,w.column,z.lineNumber,z.column),ge=n.coordinatesConverter.convertModelPositionToViewPosition(l.position);m=new $n.rS(ae,l.selectionStartKind,l.selectionStartLeftoverVisibleColumns,ge,l.leftoverVisibleColumns)}this.modelState=l,this.viewState=m,this._updateTrackedRange(n)}}class so{constructor(n){this.context=n,this.cursors=[new Bs(n)],this.lastAddedCursorIndex=0}dispose(){for(const n of this.cursors)n.dispose(this.context)}startTrackingSelections(){for(const n of this.cursors)n.startTrackingSelection(this.context)}stopTrackingSelections(){for(const n of this.cursors)n.stopTrackingSelection(this.context)}updateContext(n){this.context=n}ensureValidState(){for(const n of this.cursors)n.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(n=>n.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(n=>n.asCursorState())}getViewPositions(){return this.cursors.map(n=>n.viewState.position)}getTopMostViewPosition(){return(0,rs.Ph)(this.cursors,(0,_.tT)(n=>n.viewState.position,He.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,rs.jV)(this.cursors,(0,_.tT)(n=>n.viewState.position,He.L.compare)).viewState.position}getSelections(){return this.cursors.map(n=>n.modelState.selection)}getViewSelections(){return this.cursors.map(n=>n.viewState.selection)}setSelections(n){this.setStates($n.Vi.fromModelSelections(n))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(n){n!==null&&(this.cursors[0].setState(this.context,n[0].modelState,n[0].viewState),this._setSecondaryStates(n.slice(1)))}_setSecondaryStates(n){const l=this.cursors.length-1,m=n.length;if(l<m){const w=m-l;for(let z=0;z<w;z++)this._addSecondaryCursor()}else if(l>m){const w=l-m;for(let z=0;z<w;z++)this._removeSecondaryCursor(this.cursors.length-2)}for(let w=0;w<m;w++)this.cursors[w+1].setState(this.context,n[w].modelState,n[w].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new Bs(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(n){this.lastAddedCursorIndex>=n+1&&this.lastAddedCursorIndex--,this.cursors[n+1].dispose(this.context),this.cursors.splice(n+1,1)}normalize(){if(this.cursors.length===1)return;const n=this.cursors.slice(0),l=[];for(let m=0,w=n.length;m<w;m++)l.push({index:m,selection:n[m].modelState.selection});l.sort((0,_.tT)(m=>m.selection,pe.e.compareRangesUsingStarts));for(let m=0;m<l.length-1;m++){const w=l[m],z=l[m+1],ae=w.selection,ge=z.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let ye;if(ge.isEmpty()||ae.isEmpty()?ye=ge.getStartPosition().isBeforeOrEqual(ae.getEndPosition()):ye=ge.getStartPosition().isBefore(ae.getEndPosition()),ye){const Ge=w.index<z.index?m:m+1,ot=w.index<z.index?m+1:m,ht=l[ot].index,Et=l[Ge].index,wt=l[ot].selection,$t=l[Ge].selection;if(!wt.equalsSelection($t)){const qt=wt.plusRange($t),ci=wt.selectionStartLineNumber===wt.startLineNumber&&wt.selectionStartColumn===wt.startColumn,gi=$t.selectionStartLineNumber===$t.startLineNumber&&$t.selectionStartColumn===$t.startColumn;let wi;ht===this.lastAddedCursorIndex?(wi=ci,this.lastAddedCursorIndex=Et):wi=gi;let Bi;wi?Bi=new Ce.Y(qt.startLineNumber,qt.startColumn,qt.endLineNumber,qt.endColumn):Bi=new Ce.Y(qt.endLineNumber,qt.endColumn,qt.startLineNumber,qt.startColumn),l[Ge].selection=Bi;const nn=$n.Vi.fromModelSelection(Bi);n[Et].setState(this.context,nn.modelState,nn.viewState)}for(const qt of l)qt.index>ht&&qt.index--;n.splice(ht,1),l.splice(ot,1),this._removeSecondaryCursor(ht-1),m--}}}}class bo{constructor(n,l,m,w){this._cursorContextBrand=void 0,this.model=n,this.viewModel=l,this.coordinatesConverter=m,this.cursorConfig=w}}var Nr=c(8243),ks=c(79123),Lo=c(41581);class Ir{constructor(){this.type=0}}class xa{constructor(){this.type=1}}class Ln{constructor(n){this.type=2,this._source=n}hasChanged(n){return this._source.hasChanged(n)}}class Ds{constructor(n,l,m){this.selections=n,this.modelSelections=l,this.reason=m,this.type=3}}class bs{constructor(n){this.type=4,n?(this.affectsMinimap=n.affectsMinimap,this.affectsOverviewRuler=n.affectsOverviewRuler,this.affectsGlyphMargin=n.affectsGlyphMargin):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0)}}class Jr{constructor(){this.type=5}}class ka{constructor(n){this.type=6,this.isFocused=n}}class cr{constructor(){this.type=7}}class Yo{constructor(){this.type=8}}class ur{constructor(n,l){this.fromLineNumber=n,this.count=l,this.type=9}}class Mo{constructor(n,l){this.type=10,this.fromLineNumber=n,this.toLineNumber=l}}class Zr{constructor(n,l){this.type=11,this.fromLineNumber=n,this.toLineNumber=l}}class Ho{constructor(n,l,m,w,z,ae,ge){this.source=n,this.minimalReveal=l,this.range=m,this.selections=w,this.verticalType=z,this.revealHorizontal=ae,this.scrollType=ge,this.type=12}}class kr{constructor(n){this.type=13,this.scrollWidth=n.scrollWidth,this.scrollLeft=n.scrollLeft,this.scrollHeight=n.scrollHeight,this.scrollTop=n.scrollTop,this.scrollWidthChanged=n.scrollWidthChanged,this.scrollLeftChanged=n.scrollLeftChanged,this.scrollHeightChanged=n.scrollHeightChanged,this.scrollTopChanged=n.scrollTopChanged}}class Ro{constructor(n){this.theme=n,this.type=14}}class pr{constructor(n){this.type=15,this.ranges=n}}class jo{constructor(){this.type=16}}class xo{constructor(){this.type=17}}class _r extends b.JT{constructor(){super(),this._onEvent=this._register(new y.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(n){this._addOutgoingEvent(n),this._emitOutgoingEvents()}_addOutgoingEvent(n){for(let l=0,m=this._outgoingEvents.length;l<m;l++){const w=this._outgoingEvents[l].kind===n.kind?this._outgoingEvents[l].attemptToMerge(n):null;if(w){this._outgoingEvents[l]=w;return}}this._outgoingEvents.push(n)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const n=this._outgoingEvents.shift();n.isNoOp()||this._onEvent.fire(n)}}addViewEventHandler(n){for(let l=0,m=this._eventHandlers.length;l<m;l++)this._eventHandlers[l]===n&&console.warn("Detected duplicate listener in ViewEventDispatcher",n);this._eventHandlers.push(n)}removeViewEventHandler(n){for(let l=0;l<this._eventHandlers.length;l++)if(this._eventHandlers[l]===n){this._eventHandlers.splice(l,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new Fa),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const n=this._collector.outgoingEvents,l=this._collector.viewEvents;this._collector=null;for(const m of n)this._addOutgoingEvent(m);l.length>0&&this._emitMany(l)}this._emitOutgoingEvents()}emitSingleViewEvent(n){try{this.beginEmitViewEvents().emitViewEvent(n)}finally{this.endEmitViewEvents()}}_emitMany(n){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(n):this._viewEventQueue=n,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const n=this._viewEventQueue;this._viewEventQueue=null;const l=this._eventHandlers.slice(0);for(const m of l)m.handleEvents(n)}}}class Fa{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(n){this.viewEvents.push(n)}emitOutgoingEvent(n){this.outgoingEvents.push(n)}}class po{constructor(n,l,m,w){this.kind=0,this._oldContentWidth=n,this._oldContentHeight=l,this.contentWidth=m,this.contentHeight=w,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(n){return n.kind!==this.kind?null:new po(this._oldContentWidth,this._oldContentHeight,n.contentWidth,n.contentHeight)}}class Uo{constructor(n,l){this.kind=1,this.oldHasFocus=n,this.hasFocus=l}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(n){return n.kind!==this.kind?null:new Uo(this.oldHasFocus,n.hasFocus)}}class Hs{constructor(n,l,m,w,z,ae,ge,ye){this.kind=2,this._oldScrollWidth=n,this._oldScrollLeft=l,this._oldScrollHeight=m,this._oldScrollTop=w,this.scrollWidth=z,this.scrollLeft=ae,this.scrollHeight=ge,this.scrollTop=ye,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(n){return n.kind!==this.kind?null:new Hs(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,n.scrollWidth,n.scrollLeft,n.scrollHeight,n.scrollTop)}}class rl{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(n){return n.kind!==this.kind?null:this}}class al{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(n){return n.kind!==this.kind?null:this}}class qr{constructor(n,l,m,w,z,ae,ge){this.kind=6,this.oldSelections=n,this.selections=l,this.oldModelVersionId=m,this.modelVersionId=w,this.source=z,this.reason=ae,this.reachedMaxCursorCount=ge}static _selectionsAreEqual(n,l){if(!n&&!l)return!0;if(!n||!l)return!1;const m=n.length,w=l.length;if(m!==w)return!1;for(let z=0;z<m;z++)if(!n[z].equalsSelection(l[z]))return!1;return!0}isNoOp(){return qr._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(n){return n.kind!==this.kind?null:new qr(this.oldSelections,n.selections,this.oldModelVersionId,n.modelVersionId,n.source,n.reason,this.reachedMaxCursorCount||n.reachedMaxCursorCount)}}class $o{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(n){return n.kind!==this.kind?null:this}}class Do{constructor(n){this.event=n,this.kind=7}isNoOp(){return!1}attemptToMerge(n){return null}}class wl{constructor(n){this.event=n,this.kind=8}isNoOp(){return!1}attemptToMerge(n){return null}}class Ba{constructor(n){this.event=n,this.kind=9}isNoOp(){return!1}attemptToMerge(n){return null}}class qo{constructor(n){this.event=n,this.kind=10}isNoOp(){return!1}attemptToMerge(n){return null}}class or{constructor(n){this.event=n,this.kind=11}isNoOp(){return!1}attemptToMerge(n){return null}}class _o{constructor(n){this.event=n,this.kind=12}isNoOp(){return!1}attemptToMerge(n){return null}}class fn extends b.JT{constructor(n,l,m,w){super(),this._model=n,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=l,this._coordinatesConverter=m,this.context=new bo(this._model,this._viewModel,this._coordinatesConverter,w),this._cursors=new so(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,b.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(n){this.context=new bo(this._model,this._viewModel,this._coordinatesConverter,n),this._cursors.updateContext(this.context)}onLineMappingChanged(n){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(n,"viewModel",0,this.getCursorStates())}setHasFocus(n){this._hasFocus=n}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const n=this._cursors.getSelections();for(let l=0;l<this._autoClosedActions.length;l++){const m=this._autoClosedActions[l];m.isValid(n)||(m.dispose(),this._autoClosedActions.splice(l,1),l--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(n,l,m,w){let z=!1;const ae=this.context.cursorConfig.multiCursorLimit;w!==null&&w.length>ae&&(w=w.slice(0,ae),z=!0);const ge=No.from(this._model,this);return this._cursors.setStates(w),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(n,l,m,ge,z)}setCursorColumnSelectData(n){this._columnSelectData=n}revealPrimary(n,l,m,w,z,ae){const ge=this._cursors.getViewPositions();let ye=null,Ge=null;ge.length>1?Ge=this._cursors.getViewSelections():ye=pe.e.fromPositions(ge[0],ge[0]),n.emitViewEvent(new Ho(l,m,ye,Ge,w,z,ae))}saveState(){const n=[],l=this._cursors.getSelections();for(let m=0,w=l.length;m<w;m++){const z=l[m];n.push({inSelectionMode:!z.isEmpty(),selectionStart:{lineNumber:z.selectionStartLineNumber,column:z.selectionStartColumn},position:{lineNumber:z.positionLineNumber,column:z.positionColumn}})}return n}restoreState(n,l){const m=[];for(let w=0,z=l.length;w<z;w++){const ae=l[w];let ge=1,ye=1;ae.position&&ae.position.lineNumber&&(ge=ae.position.lineNumber),ae.position&&ae.position.column&&(ye=ae.position.column);let Ge=ge,ot=ye;ae.selectionStart&&ae.selectionStart.lineNumber&&(Ge=ae.selectionStart.lineNumber),ae.selectionStart&&ae.selectionStart.column&&(ot=ae.selectionStart.column),m.push({selectionStartLineNumber:Ge,selectionStartColumn:ot,positionLineNumber:ge,positionColumn:ye})}this.setStates(n,"restoreState",0,$n.Vi.fromModelSelections(m)),this.revealPrimary(n,"restoreState",!1,0,!0,1)}onModelContentChanged(n,l){if(l instanceof Lo.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(n,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const m=l.rawContentChangedEvent;if(this._knownModelVersionId=m.versionId,this._isHandling)return;const w=m.containsEvent(1);if(this._prevEditOperationType=0,w)this._cursors.dispose(),this._cursors=new so(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(n,"model",1,null,!1);else if(this._hasFocus&&m.resultingSelection&&m.resultingSelection.length>0){const z=$n.Vi.fromModelSelections(m.resultingSelection);this.setStates(n,"modelChange",m.isUndoing?5:m.isRedoing?6:2,z)&&this.revealPrimary(n,"modelChange",!1,0,!0,0)}else{const z=this._cursors.readSelectionFromMarkers();this.setStates(n,"modelChange",2,$n.Vi.fromModelSelections(z))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const n=this._cursors.getPrimaryCursor(),l=n.viewState.selectionStart.getStartPosition(),m=n.viewState.position;return{isReal:!1,fromViewLineNumber:l.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,l),toViewLineNumber:m.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,m)}}getSelections(){return this._cursors.getSelections()}setSelections(n,l,m,w){this.setStates(n,l,w,$n.Vi.fromModelSelections(m))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(n){this._prevEditOperationType=n}_pushAutoClosedAction(n,l){const m=[],w=[];for(let ge=0,ye=n.length;ge<ye;ge++)m.push({range:n[ge],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),w.push({range:l[ge],options:{description:"auto-closed-enclosing",stickiness:1}});const z=this._model.deltaDecorations([],m),ae=this._model.deltaDecorations([],w);this._autoClosedActions.push(new hr(this._model,z,ae))}_executeEditOperation(n){if(!n)return;n.shouldPushStackElementBefore&&this._model.pushStackElement();const l=er.executeCommands(this._model,this._cursors.getSelections(),n.commands);if(l){this._interpretCommandResult(l);const m=[],w=[];for(let z=0;z<n.commands.length;z++){const ae=n.commands[z];ae instanceof ks.g_&&ae.enclosingRange&&ae.closeCharacterRange&&(m.push(ae.closeCharacterRange),w.push(ae.enclosingRange))}m.length>0&&this._pushAutoClosedAction(m,w),this._prevEditOperationType=n.type}n.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(n){(!n||n.length===0)&&(n=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(n),this._cursors.normalize()}_emitStateChangedIfNecessary(n,l,m,w,z){const ae=No.from(this._model,this);if(ae.equals(w))return!1;const ge=this._cursors.getSelections(),ye=this._cursors.getViewSelections();if(n.emitViewEvent(new Ds(ye,ge,m)),!w||w.cursorState.length!==ae.cursorState.length||ae.cursorState.some((Ge,ot)=>!Ge.modelState.equals(w.cursorState[ot].modelState))){const Ge=w?w.cursorState.map(ht=>ht.modelState.selection):null,ot=w?w.modelVersionId:0;n.emitOutgoingEvent(new qr(Ge,ge,ot,ae.modelVersionId,l||"keyboard",m,z))}return!0}_findAutoClosingPairs(n){if(!n.length)return null;const l=[];for(let m=0,w=n.length;m<w;m++){const z=n[m];if(!z.text||z.text.indexOf(`
`)>=0)return null;const ae=z.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!ae)return null;const ge=ae[1],ye=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(ge);if(!ye||ye.length!==1)return null;const Ge=ye[0].open,ot=z.text.length-ae[2].length-1,ht=z.text.lastIndexOf(Ge,ot-1);if(ht===-1)return null;l.push([ht,ot])}return l}executeEdits(n,l,m,w){let z=null;l==="snippet"&&(z=this._findAutoClosingPairs(m)),z&&(m[0]._isTracked=!0);const ae=[],ge=[],ye=this._model.pushEditOperations(this.getSelections(),m,Ge=>{if(z)for(let ht=0,Et=z.length;ht<Et;ht++){const[wt,$t]=z[ht],qt=Ge[ht],ci=qt.range.startLineNumber,gi=qt.range.startColumn-1+wt,wi=qt.range.startColumn-1+$t;ae.push(new pe.e(ci,wi+1,ci,wi+2)),ge.push(new pe.e(ci,gi+1,ci,wi+2))}const ot=w(Ge);return ot&&(this._isHandling=!0),ot});ye&&(this._isHandling=!1,this.setSelections(n,l,ye,0)),ae.length>0&&this._pushAutoClosedAction(ae,ge)}_executeEdit(n,l,m,w=0){if(this.context.cursorConfig.readOnly)return;const z=No.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),n()}catch(ae){(0,B.dL)(ae)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(l,m,w,z,!1)&&this.revealPrimary(l,m,!1,0,!0,0)}getAutoClosedCharacters(){return hr.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(n){this._compositionState=new Cr(this._model,this.getSelections())}endComposition(n,l){const m=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{l==="keyboard"&&this._executeEditOperation(ks.u6.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,m,this.getSelections(),this.getAutoClosedCharacters()))},n,l)}type(n,l,m){this._executeEdit(()=>{if(m==="keyboard"){const w=l.length;let z=0;for(;z<w;){const ae=xi.vH(l,z),ge=l.substr(z,ae);this._executeEditOperation(ks.u6.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),ge)),z+=ae}}else this._executeEditOperation(ks.u6.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),l))},n,m)}compositionType(n,l,m,w,z,ae){if(l.length===0&&m===0&&w===0){if(z!==0){const ge=this.getSelections().map(ye=>{const Ge=ye.getPosition();return new Ce.Y(Ge.lineNumber,Ge.column+z,Ge.lineNumber,Ge.column+z)});this.setSelections(n,ae,ge,0)}return}this._executeEdit(()=>{this._executeEditOperation(ks.u6.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),l,m,w,z))},n,ae)}paste(n,l,m,w,z){this._executeEdit(()=>{this._executeEditOperation(ks.u6.paste(this.context.cursorConfig,this._model,this.getSelections(),l,m,w||[]))},n,z,4)}cut(n,l){this._executeEdit(()=>{this._executeEditOperation(Nr.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},n,l)}executeCommand(n,l,m){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new $n.Tp(0,[l],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},n,m)}executeCommands(n,l,m){this._executeEdit(()=>{this._executeEditOperation(new $n.Tp(0,l,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},n,m)}}class No{static from(n,l){return new No(n.getVersionId(),l.getCursorStates())}constructor(n,l){this.modelVersionId=n,this.cursorState=l}equals(n){if(!n||this.modelVersionId!==n.modelVersionId||this.cursorState.length!==n.cursorState.length)return!1;for(let l=0,m=this.cursorState.length;l<m;l++)if(!this.cursorState[l].equals(n.cursorState[l]))return!1;return!0}}class hr{static getAllAutoClosedCharacters(n){let l=[];for(const m of n)l=l.concat(m.getAutoClosedCharactersRanges());return l}constructor(n,l,m){this._model=n,this._autoClosedCharactersDecorations=l,this._autoClosedEnclosingDecorations=m}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const n=[];for(let l=0;l<this._autoClosedCharactersDecorations.length;l++){const m=this._model.getDecorationRange(this._autoClosedCharactersDecorations[l]);m&&n.push(m)}return n}isValid(n){const l=[];for(let m=0;m<this._autoClosedEnclosingDecorations.length;m++){const w=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[m]);if(w&&(l.push(w),w.startLineNumber!==w.endLineNumber))return!1}l.sort(pe.e.compareRangesUsingStarts),n.sort(pe.e.compareRangesUsingStarts);for(let m=0;m<n.length;m++)if(m>=l.length||!l[m].strictContainsRange(n[m]))return!1;return!0}}class er{static executeCommands(n,l,m){const w={model:n,selectionsBefore:l,trackedRanges:[],trackedRangesDirection:[]},z=this._innerExecuteCommands(w,m);for(let ae=0,ge=w.trackedRanges.length;ae<ge;ae++)w.model._setTrackedRange(w.trackedRanges[ae],null,0);return z}static _innerExecuteCommands(n,l){if(this._arrayIsEmpty(l))return null;const m=this._getEditOperations(n,l);if(m.operations.length===0)return null;const w=m.operations,z=this._getLoserCursorMap(w);if(z.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const ae=[];for(let Ge=0,ot=w.length;Ge<ot;Ge++)z.hasOwnProperty(w[Ge].identifier.major.toString())||ae.push(w[Ge]);m.hadTrackedEditOperation&&ae.length>0&&(ae[0]._isTracked=!0);let ge=n.model.pushEditOperations(n.selectionsBefore,ae,Ge=>{const ot=[];for(let wt=0;wt<n.selectionsBefore.length;wt++)ot[wt]=[];for(const wt of Ge)wt.identifier&&ot[wt.identifier.major].push(wt);const ht=(wt,$t)=>wt.identifier.minor-$t.identifier.minor,Et=[];for(let wt=0;wt<n.selectionsBefore.length;wt++)ot[wt].length>0?(ot[wt].sort(ht),Et[wt]=l[wt].computeCursorState(n.model,{getInverseEditOperations:()=>ot[wt],getTrackedSelection:$t=>{const qt=parseInt($t,10),ci=n.model._getTrackedRange(n.trackedRanges[qt]);return n.trackedRangesDirection[qt]===0?new Ce.Y(ci.startLineNumber,ci.startColumn,ci.endLineNumber,ci.endColumn):new Ce.Y(ci.endLineNumber,ci.endColumn,ci.startLineNumber,ci.startColumn)}})):Et[wt]=n.selectionsBefore[wt];return Et});ge||(ge=n.selectionsBefore);const ye=[];for(const Ge in z)z.hasOwnProperty(Ge)&&ye.push(parseInt(Ge,10));ye.sort((Ge,ot)=>ot-Ge);for(const Ge of ye)ge.splice(Ge,1);return ge}static _arrayIsEmpty(n){for(let l=0,m=n.length;l<m;l++)if(n[l])return!1;return!0}static _getEditOperations(n,l){let m=[],w=!1;for(let z=0,ae=l.length;z<ae;z++){const ge=l[z];if(ge){const ye=this._getEditOperationsFromCommand(n,z,ge);m=m.concat(ye.operations),w=w||ye.hadTrackedEditOperation}}return{operations:m,hadTrackedEditOperation:w}}static _getEditOperationsFromCommand(n,l,m){const w=[];let z=0;const ae=(ht,Et,wt=!1)=>{pe.e.isEmpty(ht)&&Et===""||w.push({identifier:{major:l,minor:z++},range:ht,text:Et,forceMoveMarkers:wt,isAutoWhitespaceEdit:m.insertsAutoWhitespace})};let ge=!1;const ot={addEditOperation:ae,addTrackedEditOperation:(ht,Et,wt)=>{ge=!0,ae(ht,Et,wt)},trackSelection:(ht,Et)=>{const wt=Ce.Y.liftSelection(ht);let $t;if(wt.isEmpty())if(typeof Et=="boolean")Et?$t=2:$t=3;else{const gi=n.model.getLineMaxColumn(wt.startLineNumber);wt.startColumn===gi?$t=2:$t=3}else $t=1;const qt=n.trackedRanges.length,ci=n.model._setTrackedRange(null,wt,$t);return n.trackedRanges[qt]=ci,n.trackedRangesDirection[qt]=wt.getDirection(),qt.toString()}};try{m.getEditOperations(n.model,ot)}catch(ht){return(0,B.dL)(ht),{operations:[],hadTrackedEditOperation:!1}}return{operations:w,hadTrackedEditOperation:ge}}static _getLoserCursorMap(n){n=n.slice(0),n.sort((m,w)=>-pe.e.compareRangesUsingEnds(m.range,w.range));const l={};for(let m=1;m<n.length;m++){const w=n[m-1],z=n[m];if(pe.e.getStartPosition(w.range).isBefore(pe.e.getEndPosition(z.range))){let ae;w.identifier.major>z.identifier.major?ae=w.identifier.major:ae=z.identifier.major,l[ae.toString()]=!0;for(let ge=0;ge<n.length;ge++)n[ge].identifier.major===ae&&(n.splice(ge,1),ge<m&&m--,ge--);m>0&&m--}}return l}}class Xo{constructor(n,l,m){this.text=n,this.startSelection=l,this.endSelection=m}}class Cr{static _capture(n,l){const m=[];for(const w of l){if(w.startLineNumber!==w.endLineNumber)return null;m.push(new Xo(n.getLineContent(w.startLineNumber),w.startColumn-1,w.endColumn-1))}return m}constructor(n,l){this._original=Cr._capture(n,l)}deduceOutcome(n,l){if(!this._original)return null;const m=Cr._capture(n,l);if(!m||this._original.length!==m.length)return null;const w=[];for(let z=0,ae=this._original.length;z<ae;z++)w.push(Cr._deduceOutcome(this._original[z],m[z]));return w}static _deduceOutcome(n,l){const m=Math.min(n.startSelection,l.startSelection,xi.Mh(n.text,l.text)),w=Math.min(n.text.length-n.endSelection,l.text.length-l.endSelection,xi.P1(n.text,l.text)),z=n.text.substring(m,n.text.length-w),ae=l.text.substring(m,l.text.length-w);return new ks.Nu(z,n.startSelection-m,n.endSelection-m,ae,l.startSelection-m,l.endSelection-m)}}var Wa=c(24966),Ar=c(10399),jn=c(36773);class hs{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(n){this._hasPending=!0,this._inserts.push(n)}change(n){this._hasPending=!0,this._changes.push(n)}remove(n){this._hasPending=!0,this._removes.push(n)}mustCommit(){return this._hasPending}commit(n){if(!this._hasPending)return;const l=this._inserts,m=this._changes,w=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],n._commitPendingChanges(l,m,w)}}class Cs{constructor(n,l,m,w,z){this.id=n,this.afterLineNumber=l,this.ordinal=m,this.height=w,this.minWidth=z,this.prefixSum=0}}class Es{constructor(n,l,m,w){this._instanceId=xi.PJ(++Es.INSTANCE_COUNT),this._pendingChanges=new hs,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=n,this._lineHeight=l,this._paddingTop=m,this._paddingBottom=w}static findInsertionIndex(n,l,m){let w=0,z=n.length;for(;w<z;){const ae=w+z>>>1;l===n[ae].afterLineNumber?m<n[ae].ordinal?z=ae:w=ae+1:l<n[ae].afterLineNumber?z=ae:w=ae+1}return w}setLineHeight(n){this._checkPendingChanges(),this._lineHeight=n}setPadding(n,l){this._paddingTop=n,this._paddingBottom=l}onFlushed(n){this._checkPendingChanges(),this._lineCount=n}changeWhitespace(n){let l=!1;try{n({insertWhitespace:(w,z,ae,ge)=>{l=!0,w=w|0,z=z|0,ae=ae|0,ge=ge|0;const ye=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new Cs(ye,w,z,ae,ge)),ye},changeOneWhitespace:(w,z,ae)=>{l=!0,z=z|0,ae=ae|0,this._pendingChanges.change({id:w,newAfterLineNumber:z,newHeight:ae})},removeWhitespace:w=>{l=!0,this._pendingChanges.remove({id:w})}})}finally{this._pendingChanges.commit(this)}return l}_commitPendingChanges(n,l,m){if((n.length>0||m.length>0)&&(this._minWidth=-1),n.length+l.length+m.length<=1){for(const ye of n)this._insertWhitespace(ye);for(const ye of l)this._changeOneWhitespace(ye.id,ye.newAfterLineNumber,ye.newHeight);for(const ye of m){const Ge=this._findWhitespaceIndex(ye.id);Ge!==-1&&this._removeWhitespace(Ge)}return}const w=new Set;for(const ye of m)w.add(ye.id);const z=new Map;for(const ye of l)z.set(ye.id,ye);const ae=ye=>{const Ge=[];for(const ot of ye)if(!w.has(ot.id)){if(z.has(ot.id)){const ht=z.get(ot.id);ot.afterLineNumber=ht.newAfterLineNumber,ot.height=ht.newHeight}Ge.push(ot)}return Ge},ge=ae(this._arr).concat(ae(n));ge.sort((ye,Ge)=>ye.afterLineNumber===Ge.afterLineNumber?ye.ordinal-Ge.ordinal:ye.afterLineNumber-Ge.afterLineNumber),this._arr=ge,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(n){const l=Es.findInsertionIndex(this._arr,n.afterLineNumber,n.ordinal);this._arr.splice(l,0,n),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,l-1)}_findWhitespaceIndex(n){const l=this._arr;for(let m=0,w=l.length;m<w;m++)if(l[m].id===n)return m;return-1}_changeOneWhitespace(n,l,m){const w=this._findWhitespaceIndex(n);if(w!==-1&&(this._arr[w].height!==m&&(this._arr[w].height=m,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,w-1)),this._arr[w].afterLineNumber!==l)){const z=this._arr[w];this._removeWhitespace(w),z.afterLineNumber=l,this._insertWhitespace(z)}}_removeWhitespace(n){this._arr.splice(n,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,n-1)}onLinesDeleted(n,l){this._checkPendingChanges(),n=n|0,l=l|0,this._lineCount-=l-n+1;for(let m=0,w=this._arr.length;m<w;m++){const z=this._arr[m].afterLineNumber;n<=z&&z<=l?this._arr[m].afterLineNumber=n-1:z>l&&(this._arr[m].afterLineNumber-=l-n+1)}}onLinesInserted(n,l){this._checkPendingChanges(),n=n|0,l=l|0,this._lineCount+=l-n+1;for(let m=0,w=this._arr.length;m<w;m++){const z=this._arr[m].afterLineNumber;n<=z&&(this._arr[m].afterLineNumber+=l-n+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(n){this._checkPendingChanges(),n=n|0;let l=Math.max(0,this._prefixSumValidIndex+1);l===0&&(this._arr[0].prefixSum=this._arr[0].height,l++);for(let m=l;m<=n;m++)this._arr[m].prefixSum=this._arr[m-1].prefixSum+this._arr[m].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,n),this._arr[n].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const n=this._lineHeight*this._lineCount,l=this.getWhitespacesTotalHeight();return n+l+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(n){this._checkPendingChanges(),n=n|0;const l=this._findLastWhitespaceBeforeLineNumber(n);return l===-1?0:this.getWhitespacesAccumulatedHeight(l)}_findLastWhitespaceBeforeLineNumber(n){n=n|0;const l=this._arr;let m=0,w=l.length-1;for(;m<=w;){const ae=(w-m|0)/2|0,ge=m+ae|0;if(l[ge].afterLineNumber<n){if(ge+1>=l.length||l[ge+1].afterLineNumber>=n)return ge;m=ge+1|0}else w=ge-1|0}return-1}_findFirstWhitespaceAfterLineNumber(n){n=n|0;const m=this._findLastWhitespaceBeforeLineNumber(n)+1;return m<this._arr.length?m:-1}getFirstWhitespaceIndexAfterLineNumber(n){return this._checkPendingChanges(),n=n|0,this._findFirstWhitespaceAfterLineNumber(n)}getVerticalOffsetForLineNumber(n,l=!1){this._checkPendingChanges(),n=n|0;let m;n>1?m=this._lineHeight*(n-1):m=0;const w=this.getWhitespaceAccumulatedHeightBeforeLineNumber(n-(l?1:0));return m+w+this._paddingTop}getVerticalOffsetAfterLineNumber(n,l=!1){this._checkPendingChanges(),n=n|0;const m=this._lineHeight*n,w=this.getWhitespaceAccumulatedHeightBeforeLineNumber(n+(l?1:0));return m+w+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let n=0;for(let l=0,m=this._arr.length;l<m;l++)n=Math.max(n,this._arr[l].minWidth);this._minWidth=n}return this._minWidth}isAfterLines(n){this._checkPendingChanges();const l=this.getLinesTotalHeight();return n>l}isInTopPadding(n){return this._paddingTop===0?!1:(this._checkPendingChanges(),n<this._paddingTop)}isInBottomPadding(n){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const l=this.getLinesTotalHeight();return n>=l-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(n){if(this._checkPendingChanges(),n=n|0,n<0)return 1;const l=this._lineCount|0,m=this._lineHeight;let w=1,z=l;for(;w<z;){const ae=(w+z)/2|0,ge=this.getVerticalOffsetForLineNumber(ae)|0;if(n>=ge+m)w=ae+1;else{if(n>=ge)return ae;z=ae}}return w>l?l:w}getLinesViewportData(n,l){this._checkPendingChanges(),n=n|0,l=l|0;const m=this._lineHeight,w=this.getLineNumberAtOrAfterVerticalOffset(n)|0,z=this.getVerticalOffsetForLineNumber(w)|0;let ae=this._lineCount|0,ge=this.getFirstWhitespaceIndexAfterLineNumber(w)|0;const ye=this.getWhitespacesCount()|0;let Ge,ot;ge===-1?(ge=ye,ot=ae+1,Ge=0):(ot=this.getAfterLineNumberForWhitespaceIndex(ge)|0,Ge=this.getHeightForWhitespaceIndex(ge)|0);let ht=z,Et=ht;const wt=5e5;let $t=0;z>=wt&&($t=Math.floor(z/wt)*wt,$t=Math.floor($t/m)*m,Et-=$t);const qt=[],ci=n+(l-n)/2;let gi=-1;for(let an=w;an<=ae;an++){if(gi===-1){const Nn=ht,Sn=ht+m;(Nn<=ci&&ci<Sn||Nn>ci)&&(gi=an)}for(ht+=m,qt[an-w]=Et,Et+=m;ot===an;)Et+=Ge,ht+=Ge,ge++,ge>=ye?ot=ae+1:(ot=this.getAfterLineNumberForWhitespaceIndex(ge)|0,Ge=this.getHeightForWhitespaceIndex(ge)|0);if(ht>=l){ae=an;break}}gi===-1&&(gi=ae);const wi=this.getVerticalOffsetForLineNumber(ae)|0;let Bi=w,nn=ae;return Bi<nn&&z<n&&Bi++,Bi<nn&&wi+m>l&&nn--,{bigNumbersDelta:$t,startLineNumber:w,endLineNumber:ae,relativeVerticalOffset:qt,centeredLineNumber:gi,completelyVisibleStartLineNumber:Bi,completelyVisibleEndLineNumber:nn}}getVerticalOffsetForWhitespaceIndex(n){this._checkPendingChanges(),n=n|0;const l=this.getAfterLineNumberForWhitespaceIndex(n);let m;l>=1?m=this._lineHeight*l:m=0;let w;return n>0?w=this.getWhitespacesAccumulatedHeight(n-1):w=0,m+w+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(n){this._checkPendingChanges(),n=n|0;let l=0,m=this.getWhitespacesCount()-1;if(m<0)return-1;const w=this.getVerticalOffsetForWhitespaceIndex(m),z=this.getHeightForWhitespaceIndex(m);if(n>=w+z)return-1;for(;l<m;){const ae=Math.floor((l+m)/2),ge=this.getVerticalOffsetForWhitespaceIndex(ae),ye=this.getHeightForWhitespaceIndex(ae);if(n>=ge+ye)l=ae+1;else{if(n>=ge)return ae;m=ae}}return l}getWhitespaceAtVerticalOffset(n){this._checkPendingChanges(),n=n|0;const l=this.getWhitespaceIndexAtOrAfterVerticallOffset(n);if(l<0||l>=this.getWhitespacesCount())return null;const m=this.getVerticalOffsetForWhitespaceIndex(l);if(m>n)return null;const w=this.getHeightForWhitespaceIndex(l),z=this.getIdForWhitespaceIndex(l),ae=this.getAfterLineNumberForWhitespaceIndex(l);return{id:z,afterLineNumber:ae,verticalOffset:m,height:w}}getWhitespaceViewportData(n,l){this._checkPendingChanges(),n=n|0,l=l|0;const m=this.getWhitespaceIndexAtOrAfterVerticallOffset(n),w=this.getWhitespacesCount()-1;if(m<0)return[];const z=[];for(let ae=m;ae<=w;ae++){const ge=this.getVerticalOffsetForWhitespaceIndex(ae),ye=this.getHeightForWhitespaceIndex(ae);if(ge>=l)break;z.push({id:this.getIdForWhitespaceIndex(ae),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(ae),verticalOffset:ge,height:ye})}return z}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(n){return this._checkPendingChanges(),n=n|0,this._arr[n].id}getAfterLineNumberForWhitespaceIndex(n){return this._checkPendingChanges(),n=n|0,this._arr[n].afterLineNumber}getHeightForWhitespaceIndex(n){return this._checkPendingChanges(),n=n|0,this._arr[n].height}}Es.INSTANCE_COUNT=0;const Vo=125;class eo{constructor(n,l,m,w){n=n|0,l=l|0,m=m|0,w=w|0,n<0&&(n=0),l<0&&(l=0),m<0&&(m=0),w<0&&(w=0),this.width=n,this.contentWidth=l,this.scrollWidth=Math.max(n,l),this.height=m,this.contentHeight=w,this.scrollHeight=Math.max(m,w)}equals(n){return this.width===n.width&&this.contentWidth===n.contentWidth&&this.height===n.height&&this.contentHeight===n.contentHeight}}class Mn extends b.JT{constructor(n,l){super(),this._onDidContentSizeChange=this._register(new y.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new eo(0,0,0,0),this._scrollable=this._register(new jn.Rm({forceIntegerValues:!0,smoothScrollDuration:n,scheduleAtNextAnimationFrame:l})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(n){this._scrollable.setSmoothScrollDuration(n)}validateScrollPosition(n){return this._scrollable.validateScrollPosition(n)}getScrollDimensions(){return this._dimensions}setScrollDimensions(n){if(this._dimensions.equals(n))return;const l=this._dimensions;this._dimensions=n,this._scrollable.setScrollDimensions({width:n.width,scrollWidth:n.scrollWidth,height:n.height,scrollHeight:n.scrollHeight},!0);const m=l.contentWidth!==n.contentWidth,w=l.contentHeight!==n.contentHeight;(m||w)&&this._onDidContentSizeChange.fire(new po(l.contentWidth,l.contentHeight,n.contentWidth,n.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(n){this._scrollable.setScrollPositionNow(n)}setScrollPositionSmooth(n){this._scrollable.setScrollPositionSmooth(n)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class Qo extends b.JT{constructor(n,l,m){super(),this._configuration=n;const w=this._configuration.options,z=w.get(143),ae=w.get(83);this._linesLayout=new Es(l,w.get(66),ae.top,ae.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new Mn(0,m)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new eo(z.contentWidth,0,z.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(113)?Vo:0)}onConfigurationChanged(n){const l=this._configuration.options;if(n.hasChanged(66)&&this._linesLayout.setLineHeight(l.get(66)),n.hasChanged(83)){const m=l.get(83);this._linesLayout.setPadding(m.top,m.bottom)}if(n.hasChanged(143)){const m=l.get(143),w=m.contentWidth,z=m.height,ae=this._scrollable.getScrollDimensions(),ge=ae.contentWidth;this._scrollable.setScrollDimensions(new eo(w,ae.contentWidth,z,this._getContentHeight(w,z,ge)))}else this._updateHeight();n.hasChanged(113)&&this._configureSmoothScrollDuration()}onFlushed(n){this._linesLayout.onFlushed(n)}onLinesDeleted(n,l){this._linesLayout.onLinesDeleted(n,l)}onLinesInserted(n,l){this._linesLayout.onLinesInserted(n,l)}_getHorizontalScrollbarHeight(n,l){const w=this._configuration.options.get(102);return w.horizontal===2||n>=l?0:w.horizontalScrollbarSize}_getContentHeight(n,l,m){const w=this._configuration.options;let z=this._linesLayout.getLinesTotalHeight();return w.get(104)?z+=Math.max(0,l-w.get(66)-w.get(83).bottom):w.get(102).ignoreHorizontalScrollbarInContentHeight||(z+=this._getHorizontalScrollbarHeight(n,m)),z}_updateHeight(){const n=this._scrollable.getScrollDimensions(),l=n.width,m=n.height,w=n.contentWidth;this._scrollable.setScrollDimensions(new eo(l,n.contentWidth,m,this._getContentHeight(l,m,w)))}getCurrentViewport(){const n=this._scrollable.getScrollDimensions(),l=this._scrollable.getCurrentScrollPosition();return new ts.l_(l.scrollTop,l.scrollLeft,n.width,n.height)}getFutureViewport(){const n=this._scrollable.getScrollDimensions(),l=this._scrollable.getFutureScrollPosition();return new ts.l_(l.scrollTop,l.scrollLeft,n.width,n.height)}_computeContentWidth(){const n=this._configuration.options,l=this._maxLineWidth,m=n.get(144),w=n.get(50),z=n.get(143);if(m.isViewportWrapping){const ae=n.get(72);return l>z.contentWidth+w.typicalHalfwidthCharacterWidth&&ae.enabled&&ae.side==="right"?l+z.verticalScrollbarWidth:l}else{const ae=n.get(103)*w.typicalHalfwidthCharacterWidth,ge=this._linesLayout.getWhitespaceMinWidth();return Math.max(l+ae+z.verticalScrollbarWidth,ge,this._overlayWidgetsMinWidth)}}setMaxLineWidth(n){this._maxLineWidth=n,this._updateContentWidth()}setOverlayWidgetsMinWidth(n){this._overlayWidgetsMinWidth=n,this._updateContentWidth()}_updateContentWidth(){const n=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new eo(n.width,this._computeContentWidth(),n.height,n.contentHeight)),this._updateHeight()}saveState(){const n=this._scrollable.getFutureScrollPosition(),l=n.scrollTop,m=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(l),w=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(m);return{scrollTop:l,scrollTopWithoutViewZones:l-w,scrollLeft:n.scrollLeft}}changeWhitespace(n){const l=this._linesLayout.changeWhitespace(n);return l&&this.onHeightMaybeChanged(),l}getVerticalOffsetForLineNumber(n,l=!1){return this._linesLayout.getVerticalOffsetForLineNumber(n,l)}getVerticalOffsetAfterLineNumber(n,l=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(n,l)}isAfterLines(n){return this._linesLayout.isAfterLines(n)}isInTopPadding(n){return this._linesLayout.isInTopPadding(n)}isInBottomPadding(n){return this._linesLayout.isInBottomPadding(n)}getLineNumberAtVerticalOffset(n){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(n)}getWhitespaceAtVerticalOffset(n){return this._linesLayout.getWhitespaceAtVerticalOffset(n)}getLinesViewportData(){const n=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(n.top,n.top+n.height)}getLinesViewportDataAtScrollTop(n){const l=this._scrollable.getScrollDimensions();return n+l.height>l.scrollHeight&&(n=l.scrollHeight-l.height),n<0&&(n=0),this._linesLayout.getLinesViewportData(n,n+l.height)}getWhitespaceViewportData(){const n=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(n.top,n.top+n.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(n){return this._scrollable.validateScrollPosition(n)}setScrollPosition(n,l){l===1?this._scrollable.setScrollPositionNow(n):this._scrollable.setScrollPositionSmooth(n)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(n,l){const m=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:m.scrollLeft+n,scrollTop:m.scrollTop+l})}}var Dr=c(91418),Fr=c(12007);function Er(Lt,n){return Lt===null?n?Sr.INSTANCE:Qs.INSTANCE:new wr(Lt,n)}class wr{constructor(n,l){this._projectionData=n,this._isVisible=l}isVisible(){return this._isVisible}setVisible(n){return this._isVisible=n,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(n,l,m){this._assertVisible();const w=m>0?this._projectionData.breakOffsets[m-1]:0,z=this._projectionData.breakOffsets[m];let ae;if(this._projectionData.injectionOffsets!==null){const ge=this._projectionData.injectionOffsets.map((Ge,ot)=>new Lo.gk(0,0,Ge+1,this._projectionData.injectionOptions[ot],0));ae=Lo.gk.applyInjectedText(n.getLineContent(l),ge).substring(w,z)}else ae=n.getValueInRange({startLineNumber:l,startColumn:w+1,endLineNumber:l,endColumn:z+1});return m>0&&(ae=$s(this._projectionData.wrappedTextIndentLength)+ae),ae}getViewLineLength(n,l,m){return this._assertVisible(),this._projectionData.getLineLength(m)}getViewLineMinColumn(n,l,m){return this._assertVisible(),this._projectionData.getMinOutputOffset(m)+1}getViewLineMaxColumn(n,l,m){return this._assertVisible(),this._projectionData.getMaxOutputOffset(m)+1}getViewLineData(n,l,m){const w=new Array;return this.getViewLinesData(n,l,m,1,0,[!0],w),w[0]}getViewLinesData(n,l,m,w,z,ae,ge){this._assertVisible();const ye=this._projectionData,Ge=ye.injectionOffsets,ot=ye.injectionOptions;let ht=null;if(Ge){ht=[];let wt=0,$t=0;for(let qt=0;qt<ye.getOutputLineCount();qt++){const ci=new Array;ht[qt]=ci;const gi=qt>0?ye.breakOffsets[qt-1]:0,wi=ye.breakOffsets[qt];for(;$t<Ge.length;){const Bi=ot[$t].content.length,nn=Ge[$t]+wt,an=nn+Bi;if(nn>wi)break;if(gi<an){const Nn=ot[$t];if(Nn.inlineClassName){const Sn=qt>0?ye.wrappedTextIndentLength:0,_n=Sn+Math.max(nn-gi,0),un=Sn+Math.min(an-gi,wi-gi);_n!==un&&ci.push(new ts.Wx(_n,un,Nn.inlineClassName,Nn.inlineClassNameAffectsLetterSpacing))}}if(an<=wi)wt+=Bi,$t++;else break}}}let Et;Ge?Et=n.tokenization.getLineTokens(l).withInserted(Ge.map((wt,$t)=>({offset:wt,text:ot[$t].content,tokenMetadata:Fr.A.defaultTokenMetadata}))):Et=n.tokenization.getLineTokens(l);for(let wt=m;wt<m+w;wt++){const $t=z+wt-m;if(!ae[$t]){ge[$t]=null;continue}ge[$t]=this._getViewLineData(Et,ht?ht[wt]:null,wt)}}_getViewLineData(n,l,m){this._assertVisible();const w=this._projectionData,z=m>0?w.wrappedTextIndentLength:0,ae=m>0?w.breakOffsets[m-1]:0,ge=w.breakOffsets[m],ye=n.sliceAndInflate(ae,ge,z);let Ge=ye.getLineContent();m>0&&(Ge=$s(w.wrappedTextIndentLength)+Ge);const ot=this._projectionData.getMinOutputOffset(m)+1,ht=Ge.length+1,Et=m+1<this.getViewLineCount(),wt=m===0?0:w.breakOffsetsVisibleColumn[m-1];return new ts.IP(Ge,Et,ot,ht,wt,ye,l)}getModelColumnOfViewPosition(n,l){return this._assertVisible(),this._projectionData.translateToInputOffset(n,l-1)+1}getViewPositionOfModelPosition(n,l,m=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(l-1,m).toPosition(n)}getViewLineNumberOfModelPosition(n,l){this._assertVisible();const m=this._projectionData.translateToOutputPosition(l-1);return n+m.outputLineIndex}normalizePosition(n,l,m){const w=l.lineNumber-n;return this._projectionData.normalizeOutputPosition(n,l.column-1,m).toPosition(w)}getInjectedTextAt(n,l){return this._projectionData.getInjectedText(n,l-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class Sr{constructor(){}isVisible(){return!0}setVisible(n){return n?this:Qs.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(n,l,m){return n.getLineContent(l)}getViewLineLength(n,l,m){return n.getLineLength(l)}getViewLineMinColumn(n,l,m){return n.getLineMinColumn(l)}getViewLineMaxColumn(n,l,m){return n.getLineMaxColumn(l)}getViewLineData(n,l,m){const w=n.tokenization.getLineTokens(l),z=w.getLineContent();return new ts.IP(z,!1,1,z.length+1,0,w.inflate(),null)}getViewLinesData(n,l,m,w,z,ae,ge){if(!ae[z]){ge[z]=null;return}ge[z]=this.getViewLineData(n,l,0)}getModelColumnOfViewPosition(n,l){return l}getViewPositionOfModelPosition(n,l){return new He.L(n,l)}getViewLineNumberOfModelPosition(n,l){return n}normalizePosition(n,l,m){return l}getInjectedTextAt(n,l){return null}}Sr.INSTANCE=new Sr;class Qs{constructor(){}isVisible(){return!1}setVisible(n){return n?Sr.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(n,l,m){throw new Error("Not supported")}getViewLineLength(n,l,m){throw new Error("Not supported")}getViewLineMinColumn(n,l,m){throw new Error("Not supported")}getViewLineMaxColumn(n,l,m){throw new Error("Not supported")}getViewLineData(n,l,m){throw new Error("Not supported")}getViewLinesData(n,l,m,w,z,ae,ge){throw new Error("Not supported")}getModelColumnOfViewPosition(n,l){throw new Error("Not supported")}getViewPositionOfModelPosition(n,l){throw new Error("Not supported")}getViewLineNumberOfModelPosition(n,l){throw new Error("Not supported")}normalizePosition(n,l,m){throw new Error("Not supported")}getInjectedTextAt(n,l){throw new Error("Not supported")}}Qs.INSTANCE=new Qs;const rr=[""];function $s(Lt){if(Lt>=rr.length)for(let n=1;n<=Lt;n++)rr[n]=yl(n);return rr[Lt]}function yl(Lt){return new Array(Lt+1).join(" ")}var _a=c(89442);class yr{constructor(n,l,m,w,z,ae,ge,ye,Ge,ot){this._editorId=n,this.model=l,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=m,this._monospaceLineBreaksComputerFactory=w,this.fontInfo=z,this.tabSize=ae,this.wrappingStrategy=ge,this.wrappingColumn=ye,this.wrappingIndent=Ge,this.wordBreak=ot,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new vr(this)}_constructLines(n,l){this.modelLineProjections=[],n&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const m=this.model.getLinesContent(),w=this.model.getInjectedTextDecorations(this._editorId),z=m.length,ae=this.createLineBreaksComputer(),ge=new _.H9(Lo.gk.fromDecorations(w));for(let qt=0;qt<z;qt++){const ci=ge.takeWhile(gi=>gi.lineNumber===qt+1);ae.addRequest(m[qt],ci,l?l[qt]:null)}const ye=ae.finalize(),Ge=[],ot=this.hiddenAreasDecorationIds.map(qt=>this.model.getDecorationRange(qt)).sort(pe.e.compareRangesUsingStarts);let ht=1,Et=0,wt=-1,$t=wt+1<ot.length?Et+1:z+2;for(let qt=0;qt<z;qt++){const ci=qt+1;ci===$t&&(wt++,ht=ot[wt].startLineNumber,Et=ot[wt].endLineNumber,$t=wt+1<ot.length?Et+1:z+2);const gi=ci>=ht&&ci<=Et,wi=Er(ye[qt],!gi);Ge[qt]=wi.getViewLineCount(),this.modelLineProjections[qt]=wi}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new _a.Ck(Ge)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(n=>this.model.getDecorationRange(n))}setHiddenAreas(n){const l=n.map(Et=>this.model.validateRange(Et)),m=ll(l),w=this.hiddenAreasDecorationIds.map(Et=>this.model.getDecorationRange(Et)).sort(pe.e.compareRangesUsingStarts);if(m.length===w.length){let Et=!1;for(let wt=0;wt<m.length;wt++)if(!m[wt].equalsRange(w[wt])){Et=!0;break}if(!Et)return!1}const z=m.map(Et=>({range:Et,options:Ts.qx.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,z);const ae=m;let ge=1,ye=0,Ge=-1,ot=Ge+1<ae.length?ye+1:this.modelLineProjections.length+2,ht=!1;for(let Et=0;Et<this.modelLineProjections.length;Et++){const wt=Et+1;wt===ot&&(Ge++,ge=ae[Ge].startLineNumber,ye=ae[Ge].endLineNumber,ot=Ge+1<ae.length?ye+1:this.modelLineProjections.length+2);let $t=!1;if(wt>=ge&&wt<=ye?this.modelLineProjections[Et].isVisible()&&(this.modelLineProjections[Et]=this.modelLineProjections[Et].setVisible(!1),$t=!0):(ht=!0,this.modelLineProjections[Et].isVisible()||(this.modelLineProjections[Et]=this.modelLineProjections[Et].setVisible(!0),$t=!0)),$t){const qt=this.modelLineProjections[Et].getViewLineCount();this.projectedModelLineLineCounts.setValue(Et,qt)}}return ht||this.setHiddenAreas([]),!0}modelPositionIsVisible(n,l){return n<1||n>this.modelLineProjections.length?!1:this.modelLineProjections[n-1].isVisible()}getModelLineViewLineCount(n){return n<1||n>this.modelLineProjections.length?1:this.modelLineProjections[n-1].getViewLineCount()}setTabSize(n){return this.tabSize===n?!1:(this.tabSize=n,this._constructLines(!1,null),!0)}setWrappingSettings(n,l,m,w,z){const ae=this.fontInfo.equals(n),ge=this.wrappingStrategy===l,ye=this.wrappingColumn===m,Ge=this.wrappingIndent===w,ot=this.wordBreak===z;if(ae&&ge&&ye&&Ge&&ot)return!1;const ht=ae&&ge&&!ye&&Ge&&ot;this.fontInfo=n,this.wrappingStrategy=l,this.wrappingColumn=m,this.wrappingIndent=w,this.wordBreak=z;let Et=null;if(ht){Et=[];for(let wt=0,$t=this.modelLineProjections.length;wt<$t;wt++)Et[wt]=this.modelLineProjections[wt].getProjectionData()}return this._constructLines(!1,Et),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(n,l,m){if(!n||n<=this._validModelVersionId)return null;const w=l===1?1:this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,z=this.projectedModelLineLineCounts.getPrefixSum(m);return this.modelLineProjections.splice(l-1,m-l+1),this.projectedModelLineLineCounts.removeValues(l-1,m-l+1),new Mo(w,z)}onModelLinesInserted(n,l,m,w){if(!n||n<=this._validModelVersionId)return null;const z=l>2&&!this.modelLineProjections[l-2].isVisible(),ae=l===1?1:this.projectedModelLineLineCounts.getPrefixSum(l-1)+1;let ge=0;const ye=[],Ge=[];for(let ot=0,ht=w.length;ot<ht;ot++){const Et=Er(w[ot],!z);ye.push(Et);const wt=Et.getViewLineCount();ge+=wt,Ge[ot]=wt}return this.modelLineProjections=this.modelLineProjections.slice(0,l-1).concat(ye).concat(this.modelLineProjections.slice(l-1)),this.projectedModelLineLineCounts.insertValues(l-1,Ge),new Zr(ae,ae+ge-1)}onModelLineChanged(n,l,m){if(n!==null&&n<=this._validModelVersionId)return[!1,null,null,null];const w=l-1,z=this.modelLineProjections[w].getViewLineCount(),ae=this.modelLineProjections[w].isVisible(),ge=Er(m,ae);this.modelLineProjections[w]=ge;const ye=this.modelLineProjections[w].getViewLineCount();let Ge=!1,ot=0,ht=-1,Et=0,wt=-1,$t=0,qt=-1;z>ye?(ot=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,ht=ot+ye-1,$t=ht+1,qt=$t+(z-ye)-1,Ge=!0):z<ye?(ot=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,ht=ot+z-1,Et=ht+1,wt=Et+(ye-z)-1,Ge=!0):(ot=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,ht=ot+ye-1),this.projectedModelLineLineCounts.setValue(w,ye);const ci=ot<=ht?new ur(ot,ht-ot+1):null,gi=Et<=wt?new Zr(Et,wt):null,wi=$t<=qt?new Mo($t,qt):null;return[Ge,ci,gi,wi]}acceptVersionId(n){this._validModelVersionId=n,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(n){if(n<1)return 1;const l=this.getViewLineCount();return n>l?l:n|0}getActiveIndentGuide(n,l,m){n=this._toValidViewLineNumber(n),l=this._toValidViewLineNumber(l),m=this._toValidViewLineNumber(m);const w=this.convertViewPositionToModelPosition(n,this.getViewLineMinColumn(n)),z=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),ae=this.convertViewPositionToModelPosition(m,this.getViewLineMinColumn(m)),ge=this.model.guides.getActiveIndentGuide(w.lineNumber,z.lineNumber,ae.lineNumber),ye=this.convertModelPositionToViewPosition(ge.startLineNumber,1),Ge=this.convertModelPositionToViewPosition(ge.endLineNumber,this.model.getLineMaxColumn(ge.endLineNumber));return{startLineNumber:ye.lineNumber,endLineNumber:Ge.lineNumber,indent:ge.indent}}getViewLineInfo(n){n=this._toValidViewLineNumber(n);const l=this.projectedModelLineLineCounts.getIndexOf(n-1),m=l.index,w=l.remainder;return new Ca(m+1,w)}getMinColumnOfViewLine(n){return this.modelLineProjections[n.modelLineNumber-1].getViewLineMinColumn(this.model,n.modelLineNumber,n.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(n){return this.modelLineProjections[n.modelLineNumber-1].getViewLineMaxColumn(this.model,n.modelLineNumber,n.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(n){const l=this.modelLineProjections[n.modelLineNumber-1],m=l.getViewLineMinColumn(this.model,n.modelLineNumber,n.modelLineWrappedLineIdx),w=l.getModelColumnOfViewPosition(n.modelLineWrappedLineIdx,m);return new He.L(n.modelLineNumber,w)}getModelEndPositionOfViewLine(n){const l=this.modelLineProjections[n.modelLineNumber-1],m=l.getViewLineMaxColumn(this.model,n.modelLineNumber,n.modelLineWrappedLineIdx),w=l.getModelColumnOfViewPosition(n.modelLineWrappedLineIdx,m);return new He.L(n.modelLineNumber,w)}getViewLineInfosGroupedByModelRanges(n,l){const m=this.getViewLineInfo(n),w=this.getViewLineInfo(l),z=new Array;let ae=this.getModelStartPositionOfViewLine(m),ge=new Array;for(let ye=m.modelLineNumber;ye<=w.modelLineNumber;ye++){const Ge=this.modelLineProjections[ye-1];if(Ge.isVisible()){const ot=ye===m.modelLineNumber?m.modelLineWrappedLineIdx:0,ht=ye===w.modelLineNumber?w.modelLineWrappedLineIdx+1:Ge.getViewLineCount();for(let Et=ot;Et<ht;Et++)ge.push(new Ca(ye,Et))}if(!Ge.isVisible()&&ae){const ot=new He.L(ye-1,this.model.getLineMaxColumn(ye-1)+1),ht=pe.e.fromPositions(ae,ot);z.push(new Ha(ht,ge)),ge=[],ae=null}else Ge.isVisible()&&!ae&&(ae=new He.L(ye,1))}if(ae){const ye=pe.e.fromPositions(ae,this.getModelEndPositionOfViewLine(w));z.push(new Ha(ye,ge))}return z}getViewLinesBracketGuides(n,l,m,w){const z=m?this.convertViewPositionToModelPosition(m.lineNumber,m.column):null,ae=[];for(const ge of this.getViewLineInfosGroupedByModelRanges(n,l)){const ye=ge.modelRange.startLineNumber,Ge=this.model.guides.getLinesBracketGuides(ye,ge.modelRange.endLineNumber,z,w);for(const ot of ge.viewLines){const Et=Ge[ot.modelLineNumber-ye].map(wt=>{if(wt.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[ot.modelLineNumber-1].getViewPositionOfModelPosition(0,wt.forWrappedLinesAfterColumn).lineNumber>=ot.modelLineWrappedLineIdx||wt.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[ot.modelLineNumber-1].getViewPositionOfModelPosition(0,wt.forWrappedLinesBeforeOrAtColumn).lineNumber<ot.modelLineWrappedLineIdx)return;if(!wt.horizontalLine)return wt;let $t=-1;if(wt.column!==-1){const gi=this.modelLineProjections[ot.modelLineNumber-1].getViewPositionOfModelPosition(0,wt.column);if(gi.lineNumber===ot.modelLineWrappedLineIdx)$t=gi.column;else if(gi.lineNumber<ot.modelLineWrappedLineIdx)$t=this.getMinColumnOfViewLine(ot);else if(gi.lineNumber>ot.modelLineWrappedLineIdx)return}const qt=this.convertModelPositionToViewPosition(ot.modelLineNumber,wt.horizontalLine.endColumn),ci=this.modelLineProjections[ot.modelLineNumber-1].getViewPositionOfModelPosition(0,wt.horizontalLine.endColumn);return ci.lineNumber===ot.modelLineWrappedLineIdx?new Si.UO(wt.visibleColumn,$t,wt.className,new Si.vW(wt.horizontalLine.top,qt.column),-1,-1):ci.lineNumber<ot.modelLineWrappedLineIdx||wt.visibleColumn!==-1?void 0:new Si.UO(wt.visibleColumn,$t,wt.className,new Si.vW(wt.horizontalLine.top,this.getMaxColumnOfViewLine(ot)),-1,-1)});ae.push(Et.filter(wt=>!!wt))}}return ae}getViewLinesIndentGuides(n,l){n=this._toValidViewLineNumber(n),l=this._toValidViewLineNumber(l);const m=this.convertViewPositionToModelPosition(n,this.getViewLineMinColumn(n)),w=this.convertViewPositionToModelPosition(l,this.getViewLineMaxColumn(l));let z=[];const ae=[],ge=[],ye=m.lineNumber-1,Ge=w.lineNumber-1;let ot=null;for(let $t=ye;$t<=Ge;$t++){const qt=this.modelLineProjections[$t];if(qt.isVisible()){const ci=qt.getViewLineNumberOfModelPosition(0,$t===ye?m.column:1),gi=qt.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn($t+1)),wi=gi-ci+1;let Bi=0;wi>1&&qt.getViewLineMinColumn(this.model,$t+1,gi)===1&&(Bi=ci===0?1:2),ae.push(wi),ge.push(Bi),ot===null&&(ot=new He.L($t+1,0))}else ot!==null&&(z=z.concat(this.model.guides.getLinesIndentGuides(ot.lineNumber,$t)),ot=null)}ot!==null&&(z=z.concat(this.model.guides.getLinesIndentGuides(ot.lineNumber,w.lineNumber)),ot=null);const ht=l-n+1,Et=new Array(ht);let wt=0;for(let $t=0,qt=z.length;$t<qt;$t++){let ci=z[$t];const gi=Math.min(ht-wt,ae[$t]),wi=ge[$t];let Bi;wi===2?Bi=0:wi===1?Bi=1:Bi=gi;for(let nn=0;nn<gi;nn++)nn===Bi&&(ci=0),Et[wt++]=ci}return Et}getViewLineContent(n){const l=this.getViewLineInfo(n);return this.modelLineProjections[l.modelLineNumber-1].getViewLineContent(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineLength(n){const l=this.getViewLineInfo(n);return this.modelLineProjections[l.modelLineNumber-1].getViewLineLength(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineMinColumn(n){const l=this.getViewLineInfo(n);return this.modelLineProjections[l.modelLineNumber-1].getViewLineMinColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineMaxColumn(n){const l=this.getViewLineInfo(n);return this.modelLineProjections[l.modelLineNumber-1].getViewLineMaxColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineData(n){const l=this.getViewLineInfo(n);return this.modelLineProjections[l.modelLineNumber-1].getViewLineData(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLinesData(n,l,m){n=this._toValidViewLineNumber(n),l=this._toValidViewLineNumber(l);const w=this.projectedModelLineLineCounts.getIndexOf(n-1);let z=n;const ae=w.index,ge=w.remainder,ye=[];for(let Ge=ae,ot=this.model.getLineCount();Ge<ot;Ge++){const ht=this.modelLineProjections[Ge];if(!ht.isVisible())continue;const Et=Ge===ae?ge:0;let wt=ht.getViewLineCount()-Et,$t=!1;if(z+wt>l&&($t=!0,wt=l-z+1),ht.getViewLinesData(this.model,Ge+1,Et,wt,z-n,m,ye),z+=wt,$t)break}return ye}validateViewPosition(n,l,m){n=this._toValidViewLineNumber(n);const w=this.projectedModelLineLineCounts.getIndexOf(n-1),z=w.index,ae=w.remainder,ge=this.modelLineProjections[z],ye=ge.getViewLineMinColumn(this.model,z+1,ae),Ge=ge.getViewLineMaxColumn(this.model,z+1,ae);l<ye&&(l=ye),l>Ge&&(l=Ge);const ot=ge.getModelColumnOfViewPosition(ae,l);return this.model.validatePosition(new He.L(z+1,ot)).equals(m)?new He.L(n,l):this.convertModelPositionToViewPosition(m.lineNumber,m.column)}validateViewRange(n,l){const m=this.validateViewPosition(n.startLineNumber,n.startColumn,l.getStartPosition()),w=this.validateViewPosition(n.endLineNumber,n.endColumn,l.getEndPosition());return new pe.e(m.lineNumber,m.column,w.lineNumber,w.column)}convertViewPositionToModelPosition(n,l){const m=this.getViewLineInfo(n),w=this.modelLineProjections[m.modelLineNumber-1].getModelColumnOfViewPosition(m.modelLineWrappedLineIdx,l);return this.model.validatePosition(new He.L(m.modelLineNumber,w))}convertViewRangeToModelRange(n){const l=this.convertViewPositionToModelPosition(n.startLineNumber,n.startColumn),m=this.convertViewPositionToModelPosition(n.endLineNumber,n.endColumn);return new pe.e(l.lineNumber,l.column,m.lineNumber,m.column)}convertModelPositionToViewPosition(n,l,m=2,w=!1,z=!1){const ae=this.model.validatePosition(new He.L(n,l)),ge=ae.lineNumber,ye=ae.column;let Ge=ge-1,ot=!1;if(z)for(;Ge<this.modelLineProjections.length&&!this.modelLineProjections[Ge].isVisible();)Ge++,ot=!0;else for(;Ge>0&&!this.modelLineProjections[Ge].isVisible();)Ge--,ot=!0;if(Ge===0&&!this.modelLineProjections[Ge].isVisible())return new He.L(w?0:1,1);const ht=1+this.projectedModelLineLineCounts.getPrefixSum(Ge);let Et;return ot?z?Et=this.modelLineProjections[Ge].getViewPositionOfModelPosition(ht,1,m):Et=this.modelLineProjections[Ge].getViewPositionOfModelPosition(ht,this.model.getLineMaxColumn(Ge+1),m):Et=this.modelLineProjections[ge-1].getViewPositionOfModelPosition(ht,ye,m),Et}convertModelRangeToViewRange(n,l=0){if(n.isEmpty()){const m=this.convertModelPositionToViewPosition(n.startLineNumber,n.startColumn,l);return pe.e.fromPositions(m)}else{const m=this.convertModelPositionToViewPosition(n.startLineNumber,n.startColumn,1),w=this.convertModelPositionToViewPosition(n.endLineNumber,n.endColumn,0);return new pe.e(m.lineNumber,m.column,w.lineNumber,w.column)}}getViewLineNumberOfModelPosition(n,l){let m=n-1;if(this.modelLineProjections[m].isVisible()){const z=1+this.projectedModelLineLineCounts.getPrefixSum(m);return this.modelLineProjections[m].getViewLineNumberOfModelPosition(z,l)}for(;m>0&&!this.modelLineProjections[m].isVisible();)m--;if(m===0&&!this.modelLineProjections[m].isVisible())return 1;const w=1+this.projectedModelLineLineCounts.getPrefixSum(m);return this.modelLineProjections[m].getViewLineNumberOfModelPosition(w,this.model.getLineMaxColumn(m+1))}getDecorationsInRange(n,l,m,w,z){const ae=this.convertViewPositionToModelPosition(n.startLineNumber,n.startColumn),ge=this.convertViewPositionToModelPosition(n.endLineNumber,n.endColumn);if(ge.lineNumber-ae.lineNumber<=n.endLineNumber-n.startLineNumber)return this.model.getDecorationsInRange(new pe.e(ae.lineNumber,1,ge.lineNumber,ge.column),l,m,w,z);let ye=[];const Ge=ae.lineNumber-1,ot=ge.lineNumber-1;let ht=null;for(let qt=Ge;qt<=ot;qt++)if(this.modelLineProjections[qt].isVisible())ht===null&&(ht=new He.L(qt+1,qt===Ge?ae.column:1));else if(ht!==null){const gi=this.model.getLineMaxColumn(qt);ye=ye.concat(this.model.getDecorationsInRange(new pe.e(ht.lineNumber,ht.column,qt,gi),l,m,w)),ht=null}ht!==null&&(ye=ye.concat(this.model.getDecorationsInRange(new pe.e(ht.lineNumber,ht.column,ge.lineNumber,ge.column),l,m,w)),ht=null),ye.sort((qt,ci)=>{const gi=pe.e.compareRangesUsingStarts(qt.range,ci.range);return gi===0?qt.id<ci.id?-1:qt.id>ci.id?1:0:gi});const Et=[];let wt=0,$t=null;for(const qt of ye){const ci=qt.id;$t!==ci&&($t=ci,Et[wt++]=qt)}return Et}getInjectedTextAt(n){const l=this.getViewLineInfo(n.lineNumber);return this.modelLineProjections[l.modelLineNumber-1].getInjectedTextAt(l.modelLineWrappedLineIdx,n.column)}normalizePosition(n,l){const m=this.getViewLineInfo(n.lineNumber);return this.modelLineProjections[m.modelLineNumber-1].normalizePosition(m.modelLineWrappedLineIdx,n,l)}getLineIndentColumn(n){const l=this.getViewLineInfo(n);return l.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(l.modelLineNumber):0}}function ll(Lt){if(Lt.length===0)return[];const n=Lt.slice();n.sort(pe.e.compareRangesUsingStarts);const l=[];let m=n[0].startLineNumber,w=n[0].endLineNumber;for(let z=1,ae=n.length;z<ae;z++){const ge=n[z];ge.startLineNumber>w+1?(l.push(new pe.e(m,1,w,1)),m=ge.startLineNumber,w=ge.endLineNumber):ge.endLineNumber>w&&(w=ge.endLineNumber)}return l.push(new pe.e(m,1,w,1)),l}class Ca{constructor(n,l){this.modelLineNumber=n,this.modelLineWrappedLineIdx=l}}class Ha{constructor(n,l){this.modelRange=n,this.viewLines=l}}class vr{constructor(n){this._lines=n}convertViewPositionToModelPosition(n){return this._lines.convertViewPositionToModelPosition(n.lineNumber,n.column)}convertViewRangeToModelRange(n){return this._lines.convertViewRangeToModelRange(n)}validateViewPosition(n,l){return this._lines.validateViewPosition(n.lineNumber,n.column,l)}validateViewRange(n,l){return this._lines.validateViewRange(n,l)}convertModelPositionToViewPosition(n,l,m,w){return this._lines.convertModelPositionToViewPosition(n.lineNumber,n.column,l,m,w)}convertModelRangeToViewRange(n,l){return this._lines.convertModelRangeToViewRange(n,l)}modelPositionIsVisible(n){return this._lines.modelPositionIsVisible(n.lineNumber,n.column)}getModelLineViewLineCount(n){return this._lines.getModelLineViewLineCount(n)}getViewLineNumberOfModelPosition(n,l){return this._lines.getViewLineNumberOfModelPosition(n,l)}}class ns{constructor(n){this.model=n}dispose(){}createCoordinatesConverter(){return new ea(this)}getHiddenAreas(){return[]}setHiddenAreas(n){return!1}setTabSize(n){return!1}setWrappingSettings(n,l,m,w){return!1}createLineBreaksComputer(){const n=[];return{addRequest:(l,m,w)=>{n.push(null)},finalize:()=>n}}onModelFlushed(){}onModelLinesDeleted(n,l,m){return new Mo(l,m)}onModelLinesInserted(n,l,m,w){return new Zr(l,m)}onModelLineChanged(n,l,m){return[!1,new ur(l,1),null,null]}acceptVersionId(n){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(n,l,m){return{startLineNumber:n,endLineNumber:n,indent:0}}getViewLinesBracketGuides(n,l,m){return new Array(l-n+1).fill([])}getViewLinesIndentGuides(n,l){const m=l-n+1,w=new Array(m);for(let z=0;z<m;z++)w[z]=0;return w}getViewLineContent(n){return this.model.getLineContent(n)}getViewLineLength(n){return this.model.getLineLength(n)}getViewLineMinColumn(n){return this.model.getLineMinColumn(n)}getViewLineMaxColumn(n){return this.model.getLineMaxColumn(n)}getViewLineData(n){const l=this.model.tokenization.getLineTokens(n),m=l.getLineContent();return new ts.IP(m,!1,1,m.length+1,0,l.inflate(),null)}getViewLinesData(n,l,m){const w=this.model.getLineCount();n=Math.min(Math.max(1,n),w),l=Math.min(Math.max(1,l),w);const z=[];for(let ae=n;ae<=l;ae++){const ge=ae-n;z[ge]=m[ge]?this.getViewLineData(ae):null}return z}getDecorationsInRange(n,l,m,w,z){return this.model.getDecorationsInRange(n,l,m,w,z)}normalizePosition(n,l){return this.model.normalizePosition(n,l)}getLineIndentColumn(n){return this.model.getLineIndentColumn(n)}getInjectedTextAt(n){return null}}class ea{constructor(n){this._lines=n}_validPosition(n){return this._lines.model.validatePosition(n)}_validRange(n){return this._lines.model.validateRange(n)}convertViewPositionToModelPosition(n){return this._validPosition(n)}convertViewRangeToModelRange(n){return this._validRange(n)}validateViewPosition(n,l){return this._validPosition(l)}validateViewRange(n,l){return this._validRange(l)}convertModelPositionToViewPosition(n){return this._validPosition(n)}convertModelRangeToViewRange(n){return this._validRange(n)}modelPositionIsVisible(n){const l=this._lines.model.getLineCount();return!(n.lineNumber<1||n.lineNumber>l)}getModelLineViewLineCount(n){return 1}getViewLineNumberOfModelPosition(n,l){return n}}const to=!0;class ua extends b.JT{constructor(n,l,m,w,z,ae,ge,ye,Ge){if(super(),this.languageConfigurationService=ge,this._themeService=ye,this._attachedView=Ge,this.hiddenAreasModel=new Ed,this.previousHiddenAreas=[],this._editorId=n,this._configuration=l,this.model=m,this._eventDispatcher=new _r,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new $n.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new Ji.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=oo.create(this.model),to&&this.model.isTooLargeForTokenization())this._lines=new ns(this.model);else{const ot=this._configuration.options,ht=ot.get(50),Et=ot.get(137),wt=ot.get(144),$t=ot.get(136),qt=ot.get(128);this._lines=new yr(this._editorId,this.model,w,z,ht,this.model.getOptions().tabSize,Et,wt.wrappingColumn,$t,qt)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new fn(m,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new Qo(this._configuration,this.getLineCount(),ae)),this._register(this.viewLayout.onDidScroll(ot=>{ot.scrollTopChanged&&this._handleVisibleLinesChanged(),ot.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new kr(ot)),this._eventDispatcher.emitOutgoingEvent(new Hs(ot.oldScrollWidth,ot.oldScrollLeft,ot.oldScrollHeight,ot.oldScrollTop,ot.scrollWidth,ot.scrollLeft,ot.scrollHeight,ot.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(ot=>{this._eventDispatcher.emitOutgoingEvent(ot)})),this._decorations=new Dr.CU(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(ot=>{try{const ht=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(ht,ot)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(Rs.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new jo)})),this._register(this._themeService.onDidColorThemeChange(ot=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new Ro(ot))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(n){this._eventDispatcher.addViewEventHandler(n)}removeViewEventHandler(n){this._eventDispatcher.removeViewEventHandler(n)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const n=this.viewLayout.getLinesViewportData(),l=new pe.e(n.startLineNumber,this.getLineMinColumn(n.startLineNumber),n.endLineNumber,this.getLineMaxColumn(n.endLineNumber));return this._toModelVisibleRanges(l)}visibleLinesStabilized(){const n=this.getModelVisibleRanges();this._attachedView.setVisibleLines(n,!0)}_handleVisibleLinesChanged(){const n=this.getModelVisibleRanges();this._attachedView.setVisibleLines(n,!1)}setHasFocus(n){this._hasFocus=n,this._cursor.setHasFocus(n),this._eventDispatcher.emitSingleViewEvent(new ka(n)),this._eventDispatcher.emitOutgoingEvent(new Uo(!n,n))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new Ir)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new xa)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const n=new He.L(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),l=this.coordinatesConverter.convertViewPositionToModelPosition(n);return new dl(l,this._viewportStart.startLineDelta)}return new dl(null,0)}_onConfigurationChanged(n,l){const m=this._captureStableViewport(),w=this._configuration.options,z=w.get(50),ae=w.get(137),ge=w.get(144),ye=w.get(136),Ge=w.get(128);this._lines.setWrappingSettings(z,ae,ge.wrappingColumn,ye,Ge)&&(n.emitViewEvent(new Jr),n.emitViewEvent(new Yo),n.emitViewEvent(new bs(null)),this._cursor.onLineMappingChanged(n),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),l.hasChanged(90)&&(this._decorations.reset(),n.emitViewEvent(new bs(null))),l.hasChanged(97)&&(this._decorations.reset(),n.emitViewEvent(new bs(null))),n.emitViewEvent(new Ln(l)),this.viewLayout.onConfigurationChanged(l),m.recoverViewportStart(this.coordinatesConverter,this.viewLayout),$n.LM.shouldRecreate(l)&&(this.cursorConfig=new $n.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(n=>{try{const m=this._eventDispatcher.beginEmitViewEvents();let w=!1,z=!1;const ae=n instanceof Lo.fV?n.rawContentChangedEvent.changes:n.changes,ge=n instanceof Lo.fV?n.rawContentChangedEvent.versionId:null,ye=this._lines.createLineBreaksComputer();for(const ht of ae)switch(ht.changeType){case 4:{for(let Et=0;Et<ht.detail.length;Et++){const wt=ht.detail[Et];let $t=ht.injectedTexts[Et];$t&&($t=$t.filter(qt=>!qt.ownerId||qt.ownerId===this._editorId)),ye.addRequest(wt,$t,null)}break}case 2:{let Et=null;ht.injectedText&&(Et=ht.injectedText.filter(wt=>!wt.ownerId||wt.ownerId===this._editorId)),ye.addRequest(ht.detail,Et,null);break}}const Ge=ye.finalize(),ot=new _.H9(Ge);for(const ht of ae)switch(ht.changeType){case 1:{this._lines.onModelFlushed(),m.emitViewEvent(new Jr),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),w=!0;break}case 3:{const Et=this._lines.onModelLinesDeleted(ge,ht.fromLineNumber,ht.toLineNumber);Et!==null&&(m.emitViewEvent(Et),this.viewLayout.onLinesDeleted(Et.fromLineNumber,Et.toLineNumber)),w=!0;break}case 4:{const Et=ot.takeCount(ht.detail.length),wt=this._lines.onModelLinesInserted(ge,ht.fromLineNumber,ht.toLineNumber,Et);wt!==null&&(m.emitViewEvent(wt),this.viewLayout.onLinesInserted(wt.fromLineNumber,wt.toLineNumber)),w=!0;break}case 2:{const Et=ot.dequeue(),[wt,$t,qt,ci]=this._lines.onModelLineChanged(ge,ht.lineNumber,Et);z=wt,$t&&m.emitViewEvent($t),qt&&(m.emitViewEvent(qt),this.viewLayout.onLinesInserted(qt.fromLineNumber,qt.toLineNumber)),ci&&(m.emitViewEvent(ci),this.viewLayout.onLinesDeleted(ci.fromLineNumber,ci.toLineNumber));break}case 5:break}ge!==null&&this._lines.acceptVersionId(ge),this.viewLayout.onHeightMaybeChanged(),!w&&z&&(m.emitViewEvent(new Yo),m.emitViewEvent(new bs(null)),this._cursor.onLineMappingChanged(m),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const l=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&l){const m=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(m){const w=this.coordinatesConverter.convertModelPositionToViewPosition(m.getStartPosition()),z=this.viewLayout.getVerticalOffsetForLineNumber(w.lineNumber);this.viewLayout.setScrollPosition({scrollTop:z+this._viewportStart.startLineDelta},1)}}try{const m=this._eventDispatcher.beginEmitViewEvents();n instanceof Lo.fV&&m.emitOutgoingEvent(new qo(n.contentChangedEvent)),this._cursor.onModelContentChanged(m,n)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(n=>{const l=[];for(let m=0,w=n.ranges.length;m<w;m++){const z=n.ranges[m],ae=this.coordinatesConverter.convertModelPositionToViewPosition(new He.L(z.fromLineNumber,1)).lineNumber,ge=this.coordinatesConverter.convertModelPositionToViewPosition(new He.L(z.toLineNumber,this.model.getLineMaxColumn(z.toLineNumber))).lineNumber;l[m]={fromLineNumber:ae,toLineNumber:ge}}this._eventDispatcher.emitSingleViewEvent(new pr(l)),this._eventDispatcher.emitOutgoingEvent(new _o(n))})),this._register(this.model.onDidChangeLanguageConfiguration(n=>{this._eventDispatcher.emitSingleViewEvent(new cr),this.cursorConfig=new $n.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Ba(n))})),this._register(this.model.onDidChangeLanguage(n=>{this.cursorConfig=new $n.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new wl(n))})),this._register(this.model.onDidChangeOptions(n=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const l=this._eventDispatcher.beginEmitViewEvents();l.emitViewEvent(new Jr),l.emitViewEvent(new Yo),l.emitViewEvent(new bs(null)),this._cursor.onLineMappingChanged(l),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new $n.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new or(n))})),this._register(this.model.onDidChangeDecorations(n=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new bs(n)),this._eventDispatcher.emitOutgoingEvent(new Do(n))}))}setHiddenAreas(n,l){var m;this.hiddenAreasModel.setHiddenAreas(l,n);const w=this.hiddenAreasModel.getMergedRanges();if(w===this.previousHiddenAreas)return;this.previousHiddenAreas=w;const z=this._captureStableViewport();let ae=!1;try{const ge=this._eventDispatcher.beginEmitViewEvents();ae=this._lines.setHiddenAreas(w),ae&&(ge.emitViewEvent(new Jr),ge.emitViewEvent(new Yo),ge.emitViewEvent(new bs(null)),this._cursor.onLineMappingChanged(ge),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged());const ye=(m=z.viewportStartModelPosition)===null||m===void 0?void 0:m.lineNumber;ye&&w.some(ot=>ot.startLineNumber<=ye&&ye<=ot.endLineNumber)||z.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),ae&&this._eventDispatcher.emitOutgoingEvent(new al)}getVisibleRangesPlusViewportAboveBelow(){const n=this._configuration.options.get(143),l=this._configuration.options.get(66),m=Math.max(20,Math.round(n.height/l)),w=this.viewLayout.getLinesViewportData(),z=Math.max(1,w.completelyVisibleStartLineNumber-m),ae=Math.min(this.getLineCount(),w.completelyVisibleEndLineNumber+m);return this._toModelVisibleRanges(new pe.e(z,this.getLineMinColumn(z),ae,this.getLineMaxColumn(ae)))}getVisibleRanges(){const n=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(n)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(n){const l=this.coordinatesConverter.convertViewRangeToModelRange(n),m=this._lines.getHiddenAreas();if(m.length===0)return[l];const w=[];let z=0,ae=l.startLineNumber,ge=l.startColumn;const ye=l.endLineNumber,Ge=l.endColumn;for(let ot=0,ht=m.length;ot<ht;ot++){const Et=m[ot].startLineNumber,wt=m[ot].endLineNumber;wt<ae||Et>ye||(ae<Et&&(w[z++]=new pe.e(ae,ge,Et-1,this.model.getLineMaxColumn(Et-1))),ae=wt+1,ge=1)}return(ae<ye||ae===ye&&ge<Ge)&&(w[z++]=new pe.e(ae,ge,ye,Ge)),w}getCompletelyVisibleViewRange(){const n=this.viewLayout.getLinesViewportData(),l=n.completelyVisibleStartLineNumber,m=n.completelyVisibleEndLineNumber;return new pe.e(l,this.getLineMinColumn(l),m,this.getLineMaxColumn(m))}getCompletelyVisibleViewRangeAtScrollTop(n){const l=this.viewLayout.getLinesViewportDataAtScrollTop(n),m=l.completelyVisibleStartLineNumber,w=l.completelyVisibleEndLineNumber;return new pe.e(m,this.getLineMinColumn(m),w,this.getLineMaxColumn(w))}saveState(){const n=this.viewLayout.saveState(),l=n.scrollTop,m=this.viewLayout.getLineNumberAtVerticalOffset(l),w=this.coordinatesConverter.convertViewPositionToModelPosition(new He.L(m,this.getLineMinColumn(m))),z=this.viewLayout.getVerticalOffsetForLineNumber(m)-l;return{scrollLeft:n.scrollLeft,firstPosition:w,firstPositionDeltaTop:z}}reduceRestoreState(n){if(typeof n.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(n);const l=this.model.validatePosition(n.firstPosition),m=this.coordinatesConverter.convertModelPositionToViewPosition(l),w=this.viewLayout.getVerticalOffsetForLineNumber(m.lineNumber)-n.firstPositionDeltaTop;return{scrollLeft:n.scrollLeft,scrollTop:w}}_reduceRestoreStateCompatibility(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(n,l,m){this._viewportStart.update(this,n)}getActiveIndentGuide(n,l,m){return this._lines.getActiveIndentGuide(n,l,m)}getLinesIndentGuides(n,l){return this._lines.getViewLinesIndentGuides(n,l)}getBracketGuidesInRangeByLine(n,l,m,w){return this._lines.getViewLinesBracketGuides(n,l,m,w)}getLineContent(n){return this._lines.getViewLineContent(n)}getLineLength(n){return this._lines.getViewLineLength(n)}getLineMinColumn(n){return this._lines.getViewLineMinColumn(n)}getLineMaxColumn(n){return this._lines.getViewLineMaxColumn(n)}getLineFirstNonWhitespaceColumn(n){const l=xi.LC(this.getLineContent(n));return l===-1?0:l+1}getLineLastNonWhitespaceColumn(n){const l=xi.ow(this.getLineContent(n));return l===-1?0:l+2}getMinimapDecorationsInRange(n){return this._decorations.getMinimapDecorationsInRange(n)}getDecorationsInViewport(n){return this._decorations.getDecorationsViewportData(n).decorations}getInjectedTextAt(n){return this._lines.getInjectedTextAt(n)}getViewportViewLineRenderingData(n,l){const w=this._decorations.getDecorationsViewportData(n).inlineDecorations[l-n.startLineNumber];return this._getViewLineRenderingData(l,w)}getViewLineRenderingData(n){const l=this._decorations.getInlineDecorationsOnLine(n);return this._getViewLineRenderingData(n,l)}_getViewLineRenderingData(n,l){const m=this.model.mightContainRTL(),w=this.model.mightContainNonBasicASCII(),z=this.getTabSize(),ae=this._lines.getViewLineData(n);return ae.inlineDecorations&&(l=[...l,...ae.inlineDecorations.map(ge=>ge.toInlineDecoration(n))]),new ts.wA(ae.minColumn,ae.maxColumn,ae.content,ae.continuesWithWrappedLine,m,w,ae.tokens,l,z,ae.startVisibleColumn)}getViewLineData(n){return this._lines.getViewLineData(n)}getMinimapLinesRenderingData(n,l,m){const w=this._lines.getViewLinesData(n,l,m);return new ts.ud(this.getTabSize(),w)}getAllOverviewRulerDecorations(n){const l=this.model.getOverviewRulerDecorations(this._editorId,(0,ne.$J)(this._configuration.options)),m=new Or;for(const w of l){const z=w.options,ae=z.overviewRuler;if(!ae)continue;const ge=ae.position;if(ge===0)continue;const ye=ae.getColor(n.value),Ge=this.coordinatesConverter.getViewLineNumberOfModelPosition(w.range.startLineNumber,w.range.startColumn),ot=this.coordinatesConverter.getViewLineNumberOfModelPosition(w.range.endLineNumber,w.range.endColumn);m.accept(ye,z.zIndex,Ge,ot,ge)}return m.asArray}_invalidateDecorationsColorCache(){const n=this.model.getOverviewRulerDecorations();for(const l of n){const m=l.options.overviewRuler;m==null||m.invalidateCachedColor();const w=l.options.minimap;w==null||w.invalidateCachedColor()}}getValueInRange(n,l){const m=this.coordinatesConverter.convertViewRangeToModelRange(n);return this.model.getValueInRange(m,l)}getValueLengthInRange(n,l){const m=this.coordinatesConverter.convertViewRangeToModelRange(n);return this.model.getValueLengthInRange(m,l)}modifyPosition(n,l){const m=this.coordinatesConverter.convertViewPositionToModelPosition(n);return this.model.modifyPosition(m,l)}deduceModelPositionRelativeToViewPosition(n,l,m){const w=this.coordinatesConverter.convertViewPositionToModelPosition(n);this.model.getEOL().length===2&&(l<0?l-=m:l+=m);const ae=this.model.getOffsetAt(w)+l;return this.model.getPositionAt(ae)}getPlainTextToCopy(n,l,m){const w=m?`\r
`:this.model.getEOL();n=n.slice(0),n.sort(pe.e.compareRangesUsingStarts);let z=!1,ae=!1;for(const ye of n)ye.isEmpty()?z=!0:ae=!0;if(!ae){if(!l)return"";const ye=n.map(ot=>ot.startLineNumber);let Ge="";for(let ot=0;ot<ye.length;ot++)ot>0&&ye[ot-1]===ye[ot]||(Ge+=this.model.getLineContent(ye[ot])+w);return Ge}if(z&&l){const ye=[];let Ge=0;for(const ot of n){const ht=ot.startLineNumber;ot.isEmpty()?ht!==Ge&&ye.push(this.model.getLineContent(ht)):ye.push(this.model.getValueInRange(ot,m?2:0)),Ge=ht}return ye.length===1?ye[0]:ye}const ge=[];for(const ye of n)ye.isEmpty()||ge.push(this.model.getValueInRange(ye,m?2:0));return ge.length===1?ge[0]:ge}getRichTextToCopy(n,l){const m=this.model.getLanguageId();if(m===Wa.bd||n.length!==1)return null;let w=n[0];if(w.isEmpty()){if(!l)return null;const ot=w.startLineNumber;w=new pe.e(ot,this.model.getLineMinColumn(ot),ot,this.model.getLineMaxColumn(ot))}const z=this._configuration.options.get(50),ae=this._getColorMap(),ye=/[:;\\\/<>]/.test(z.fontFamily)||z.fontFamily===ne.hL.fontFamily;let Ge;return ye?Ge=ne.hL.fontFamily:(Ge=z.fontFamily,Ge=Ge.replace(/"/g,"'"),/[,']/.test(Ge)||/[+ ]/.test(Ge)&&(Ge=`'${Ge}'`),Ge=`${Ge}, ${ne.hL.fontFamily}`),{mode:m,html:`<div style="color: ${ae[1]};background-color: ${ae[2]};font-family: ${Ge};font-weight: ${z.fontWeight};font-size: ${z.fontSize}px;line-height: ${z.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(w,ae)+"</div>"}}_getHTMLToCopy(n,l){const m=n.startLineNumber,w=n.startColumn,z=n.endLineNumber,ae=n.endColumn,ge=this.getTabSize();let ye="";for(let Ge=m;Ge<=z;Ge++){const ot=this.model.tokenization.getLineTokens(Ge),ht=ot.getLineContent(),Et=Ge===m?w-1:0,wt=Ge===z?ae-1:ht.length;ht===""?ye+="<br>":ye+=(0,Ar.Fq)(ht,ot.inflate(),l,Et,wt,ge,u.ED)}return ye}_getColorMap(){const n=En.RW.getColorMap(),l=["#000000"];if(n)for(let m=1,w=n.length;m<w;m++)l[m]=bn.Il.Format.CSS.formatHex(n[m]);return l}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(n,l,m){return this._withViewEventsCollector(w=>this._cursor.setStates(w,n,l,m))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(n){this._cursor.setCursorColumnSelectData(n)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(n){this._cursor.setPrevEditOperationType(n)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(n,l,m=0){this._withViewEventsCollector(w=>this._cursor.setSelections(w,n,l,m))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(n){this._withViewEventsCollector(l=>this._cursor.restoreState(l,n))}_executeCursorEdit(n){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new $o);return}this._withViewEventsCollector(n)}executeEdits(n,l,m){this._executeCursorEdit(w=>this._cursor.executeEdits(w,n,l,m))}startComposition(){this._executeCursorEdit(n=>this._cursor.startComposition(n))}endComposition(n){this._executeCursorEdit(l=>this._cursor.endComposition(l,n))}type(n,l){this._executeCursorEdit(m=>this._cursor.type(m,n,l))}compositionType(n,l,m,w,z){this._executeCursorEdit(ae=>this._cursor.compositionType(ae,n,l,m,w,z))}paste(n,l,m,w){this._executeCursorEdit(z=>this._cursor.paste(z,n,l,m,w))}cut(n){this._executeCursorEdit(l=>this._cursor.cut(l,n))}executeCommand(n,l){this._executeCursorEdit(m=>this._cursor.executeCommand(m,n,l))}executeCommands(n,l){this._executeCursorEdit(m=>this._cursor.executeCommands(m,n,l))}revealPrimaryCursor(n,l,m=!1){this._withViewEventsCollector(w=>this._cursor.revealPrimary(w,n,m,0,l,0))}revealTopMostCursor(n){const l=this._cursor.getTopMostViewPosition(),m=new pe.e(l.lineNumber,l.column,l.lineNumber,l.column);this._withViewEventsCollector(w=>w.emitViewEvent(new Ho(n,!1,m,null,0,!0,0)))}revealBottomMostCursor(n){const l=this._cursor.getBottomMostViewPosition(),m=new pe.e(l.lineNumber,l.column,l.lineNumber,l.column);this._withViewEventsCollector(w=>w.emitViewEvent(new Ho(n,!1,m,null,0,!0,0)))}revealRange(n,l,m,w,z){this._withViewEventsCollector(ae=>ae.emitViewEvent(new Ho(n,!1,m,null,w,l,z)))}changeWhitespace(n){this.viewLayout.changeWhitespace(n)&&(this._eventDispatcher.emitSingleViewEvent(new xo),this._eventDispatcher.emitOutgoingEvent(new rl))}_withViewEventsCollector(n){try{const l=this._eventDispatcher.beginEmitViewEvents();return n(l)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(n,l){return this._lines.normalizePosition(n,l)}getLineIndentColumn(n){return this._lines.getLineIndentColumn(n)}}class oo{static create(n){const l=n._setTrackedRange(null,new pe.e(1,1,1,1),1);return new oo(n,1,!1,l,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(n,l,m,w,z){this._model=n,this._viewLineNumber=l,this._isValid=m,this._modelTrackedRange=w,this._startLineDelta=z}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(n,l){const m=n.coordinatesConverter.convertViewPositionToModelPosition(new He.L(l,n.getLineMinColumn(l))),w=n.model._setTrackedRange(this._modelTrackedRange,new pe.e(m.lineNumber,m.column,m.lineNumber,m.column),1),z=n.viewLayout.getVerticalOffsetForLineNumber(l),ae=n.viewLayout.getCurrentScrollTop();this._viewLineNumber=l,this._isValid=!0,this._modelTrackedRange=w,this._startLineDelta=ae-z}invalidate(){this._isValid=!1}}class Or{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(n,l,m,w,z){const ae=this._asMap[n];if(ae){const ge=ae.data,ye=ge[ge.length-3],Ge=ge[ge.length-1];if(ye===z&&Ge+1>=m){w>Ge&&(ge[ge.length-1]=w);return}ge.push(z,m,w)}else{const ge=new ts.SQ(n,l,[z,m,w]);this._asMap[n]=ge,this.asArray.push(ge)}}}class Ed{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(n,l){const m=this.hiddenAreas.get(n);m&&Ol(m,l)||(this.hiddenAreas.set(n,l),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const n=Array.from(this.hiddenAreas.values()).reduce((l,m)=>Sd(l,m),[]);return Ol(this.ranges,n)?this.ranges:(this.ranges=n,this.ranges)}}function Sd(Lt,n){const l=[];let m=0,w=0;for(;m<Lt.length&&w<n.length;){const z=Lt[m],ae=n[w];if(z.endLineNumber<ae.startLineNumber-1)l.push(Lt[m++]);else if(ae.endLineNumber<z.startLineNumber-1)l.push(n[w++]);else{const ge=Math.min(z.startLineNumber,ae.startLineNumber),ye=Math.max(z.endLineNumber,ae.endLineNumber);l.push(new pe.e(ge,1,ye,1)),m++,w++}}for(;m<Lt.length;)l.push(Lt[m++]);for(;w<n.length;)l.push(n[w++]);return l}function Ol(Lt,n){if(Lt.length!==n.length)return!1;for(let l=0;l<Lt.length;l++)if(!Lt[l].equalsRange(n[l]))return!1;return!0}class dl{constructor(n,l){this.viewportStartModelPosition=n,this.startLineDelta=l}recoverViewportStart(n,l){if(!this.viewportStartModelPosition)return;const m=n.convertModelPositionToViewPosition(this.viewportStartModelPosition),w=l.getVerticalOffsetForLineNumber(m.lineNumber);l.setScrollPosition({scrollTop:w+this.startLineDelta},1)}}var vd=c(50544),cl=c(81002),ul=c(30533),Ea=c(23829),tr=c(72842),ta=c(32522);class Zn{constructor(n,l,m,w,z){this.injectionOffsets=n,this.injectionOptions=l,this.breakOffsets=m,this.breakOffsetsVisibleColumn=w,this.wrappedTextIndentLength=z}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(n){return n>0?this.wrappedTextIndentLength:0}getLineLength(n){const l=n>0?this.breakOffsets[n-1]:0;let w=this.breakOffsets[n]-l;return n>0&&(w+=this.wrappedTextIndentLength),w}getMaxOutputOffset(n){return this.getLineLength(n)}translateToInputOffset(n,l){n>0&&(l=Math.max(0,l-this.wrappedTextIndentLength));let w=n===0?l:this.breakOffsets[n-1]+l;if(this.injectionOffsets!==null)for(let z=0;z<this.injectionOffsets.length&&w>this.injectionOffsets[z];z++)w<this.injectionOffsets[z]+this.injectionOptions[z].content.length?w=this.injectionOffsets[z]:w-=this.injectionOptions[z].content.length;return w}translateToOutputPosition(n,l=2){let m=n;if(this.injectionOffsets!==null)for(let w=0;w<this.injectionOffsets.length&&!(n<this.injectionOffsets[w]||l!==1&&n===this.injectionOffsets[w]);w++)m+=this.injectionOptions[w].content.length;return this.offsetInInputWithInjectionsToOutputPosition(m,l)}offsetInInputWithInjectionsToOutputPosition(n,l=2){let m=0,w=this.breakOffsets.length-1,z=0,ae=0;for(;m<=w;){z=m+(w-m)/2|0;const ye=this.breakOffsets[z];if(ae=z>0?this.breakOffsets[z-1]:0,l===0)if(n<=ae)w=z-1;else if(n>ye)m=z+1;else break;else if(n<ae)w=z-1;else if(n>=ye)m=z+1;else break}let ge=n-ae;return z>0&&(ge+=this.wrappedTextIndentLength),new vo(z,ge)}normalizeOutputPosition(n,l,m){if(this.injectionOffsets!==null){const w=this.outputPositionToOffsetInInputWithInjections(n,l),z=this.normalizeOffsetInInputWithInjectionsAroundInjections(w,m);if(z!==w)return this.offsetInInputWithInjectionsToOutputPosition(z,m)}if(m===0){if(n>0&&l===this.getMinOutputOffset(n))return new vo(n-1,this.getMaxOutputOffset(n-1))}else if(m===1){const w=this.getOutputLineCount()-1;if(n<w&&l===this.getMaxOutputOffset(n))return new vo(n+1,this.getMinOutputOffset(n+1))}return new vo(n,l)}outputPositionToOffsetInInputWithInjections(n,l){return n>0&&(l=Math.max(0,l-this.wrappedTextIndentLength)),(n>0?this.breakOffsets[n-1]:0)+l}normalizeOffsetInInputWithInjectionsAroundInjections(n,l){const m=this.getInjectedTextAtOffset(n);if(!m)return n;if(l===2){if(n===m.offsetInInputWithInjections+m.length&&Sa(this.injectionOptions[m.injectedTextIndex].cursorStops))return m.offsetInInputWithInjections+m.length;{let w=m.offsetInInputWithInjections;if(Jo(this.injectionOptions[m.injectedTextIndex].cursorStops))return w;let z=m.injectedTextIndex-1;for(;z>=0&&this.injectionOffsets[z]===this.injectionOffsets[m.injectedTextIndex]&&!(Sa(this.injectionOptions[z].cursorStops)||(w-=this.injectionOptions[z].content.length,Jo(this.injectionOptions[z].cursorStops)));)z--;return w}}else if(l===1||l===4){let w=m.offsetInInputWithInjections+m.length,z=m.injectedTextIndex;for(;z+1<this.injectionOffsets.length&&this.injectionOffsets[z+1]===this.injectionOffsets[z];)w+=this.injectionOptions[z+1].content.length,z++;return w}else if(l===0||l===3){let w=m.offsetInInputWithInjections,z=m.injectedTextIndex;for(;z-1>=0&&this.injectionOffsets[z-1]===this.injectionOffsets[z];)w-=this.injectionOptions[z-1].content.length,z--;return w}(0,ta.vE)(l)}getInjectedText(n,l){const m=this.outputPositionToOffsetInInputWithInjections(n,l),w=this.getInjectedTextAtOffset(m);return w?{options:this.injectionOptions[w.injectedTextIndex]}:null}getInjectedTextAtOffset(n){const l=this.injectionOffsets,m=this.injectionOptions;if(l!==null){let w=0;for(let z=0;z<l.length;z++){const ae=m[z].content.length,ge=l[z]+w,ye=l[z]+w+ae;if(ge>n)break;if(n<=ye)return{injectedTextIndex:z,offsetInInputWithInjections:ge,length:ae};w+=ae}}}}function Sa(Lt){return Lt==null?!0:Lt===Ns.RM.Right||Lt===Ns.RM.Both}function Jo(Lt){return Lt==null?!0:Lt===Ns.RM.Left||Lt===Ns.RM.Both}class Go{constructor(n){this.options=n}}class vo{constructor(n,l){this.outputLineIndex=n,this.outputOffset=l}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(n){return new He.L(n+this.outputLineIndex,this.outputOffset+1)}}class hl{static create(n){return new hl(n.get(132),n.get(131))}constructor(n,l){this.classifier=new mo(n,l)}createLineBreaksComputer(n,l,m,w,z){const ae=[],ge=[],ye=[];return{addRequest:(Ge,ot,ht)=>{ae.push(Ge),ge.push(ot),ye.push(ht)},finalize:()=>{const Ge=n.typicalFullwidthCharacterWidth/n.typicalHalfwidthCharacterWidth,ot=[];for(let ht=0,Et=ae.length;ht<Et;ht++){const wt=ge[ht],$t=ye[ht];$t&&!$t.injectionOptions&&!wt?ot[ht]=fl(this.classifier,$t,ae[ht],l,m,Ge,w,z):ot[ht]=Va(this.classifier,ae[ht],wt,l,m,Ge,w,z)}return ia.length=0,Ua.length=0,ot}}}}class mo extends tr.N{constructor(n,l){super(0);for(let m=0;m<n.length;m++)this.set(n.charCodeAt(m),1);for(let m=0;m<l.length;m++)this.set(l.charCodeAt(m),2)}get(n){return n>=0&&n<256?this._asciiMap[n]:n>=12352&&n<=12543||n>=13312&&n<=19903||n>=19968&&n<=40959?3:this._map.get(n)||this._defaultValue}}let ia=[],Ua=[];function fl(Lt,n,l,m,w,z,ae,ge){if(w===-1)return null;const ye=l.length;if(ye<=1)return null;const Ge=ge==="keepAll",ot=n.breakOffsets,ht=n.breakOffsetsVisibleColumn,Et=Wr(l,m,w,z,ae),wt=w-Et,$t=ia,qt=Ua;let ci=0,gi=0,wi=0,Bi=w;const nn=ot.length;let an=0;if(an>=0){let Nn=Math.abs(ht[an]-Bi);for(;an+1<nn;){const Sn=Math.abs(ht[an+1]-Bi);if(Sn>=Nn)break;Nn=Sn,an++}}for(;an<nn;){let Nn=an<0?0:ot[an],Sn=an<0?0:ht[an];gi>Nn&&(Nn=gi,Sn=wi);let _n=0,un=0,Dn=0,zn=0;if(Sn<=Bi){let Yn=Sn,Ps=Nn===0?0:l.charCodeAt(Nn-1),ss=Nn===0?0:Lt.get(Ps),Us=!0;for(let lo=Nn;lo<ye;lo++){const co=lo,Xs=l.charCodeAt(lo);let zs,wo;if(xi.ZG(Xs)?(lo++,zs=0,wo=2):(zs=Lt.get(Xs),wo=va(Xs,Yn,m,z)),co>gi&&Br(Ps,ss,Xs,zs,Ge)&&(_n=co,un=Yn),Yn+=wo,Yn>Bi){co>gi?(Dn=co,zn=Yn-wo):(Dn=lo+1,zn=Yn),Yn-un>wt&&(_n=0),Us=!1;break}Ps=Xs,ss=zs}if(Us){ci>0&&($t[ci]=ot[ot.length-1],qt[ci]=ht[ot.length-1],ci++);break}}if(_n===0){let Yn=Sn,Ps=l.charCodeAt(Nn),ss=Lt.get(Ps),Us=!1;for(let lo=Nn-1;lo>=gi;lo--){const co=lo+1,Xs=l.charCodeAt(lo);if(Xs===9){Us=!0;break}let zs,wo;if(xi.YK(Xs)?(lo--,zs=0,wo=2):(zs=Lt.get(Xs),wo=xi.K7(Xs)?z:1),Yn<=Bi){if(Dn===0&&(Dn=co,zn=Yn),Yn<=Bi-wt)break;if(Br(Xs,zs,Ps,ss,Ge)){_n=co,un=Yn;break}}Yn-=wo,Ps=Xs,ss=zs}if(_n!==0){const lo=wt-(zn-un);if(lo<=m){const co=l.charCodeAt(Dn);let Xs;xi.ZG(co)?Xs=2:Xs=va(co,zn,m,z),lo-Xs<0&&(_n=0)}}if(Us){an--;continue}}if(_n===0&&(_n=Dn,un=zn),_n<=gi){const Yn=l.charCodeAt(gi);xi.ZG(Yn)?(_n=gi+2,un=wi+2):(_n=gi+1,un=wi+va(Yn,wi,m,z))}for(gi=_n,$t[ci]=_n,wi=un,qt[ci]=un,ci++,Bi=un+wt;an<0||an<nn&&ht[an]<un;)an++;let On=Math.abs(ht[an]-Bi);for(;an+1<nn;){const Yn=Math.abs(ht[an+1]-Bi);if(Yn>=On)break;On=Yn,an++}}return ci===0?null:($t.length=ci,qt.length=ci,ia=n.breakOffsets,Ua=n.breakOffsetsVisibleColumn,n.breakOffsets=$t,n.breakOffsetsVisibleColumn=qt,n.wrappedTextIndentLength=Et,n)}function Va(Lt,n,l,m,w,z,ae,ge){const ye=Lo.gk.applyInjectedText(n,l);let Ge,ot;if(l&&l.length>0?(Ge=l.map(un=>un.options),ot=l.map(un=>un.column-1)):(Ge=null,ot=null),w===-1)return Ge?new Zn(ot,Ge,[ye.length],[],0):null;const ht=ye.length;if(ht<=1)return Ge?new Zn(ot,Ge,[ye.length],[],0):null;const Et=ge==="keepAll",wt=Wr(ye,m,w,z,ae),$t=w-wt,qt=[],ci=[];let gi=0,wi=0,Bi=0,nn=w,an=ye.charCodeAt(0),Nn=Lt.get(an),Sn=va(an,0,m,z),_n=1;xi.ZG(an)&&(Sn+=1,an=ye.charCodeAt(1),Nn=Lt.get(an),_n++);for(let un=_n;un<ht;un++){const Dn=un,zn=ye.charCodeAt(un);let On,Yn;xi.ZG(zn)?(un++,On=0,Yn=2):(On=Lt.get(zn),Yn=va(zn,Sn,m,z)),Br(an,Nn,zn,On,Et)&&(wi=Dn,Bi=Sn),Sn+=Yn,Sn>nn&&((wi===0||Sn-Bi>$t)&&(wi=Dn,Bi=Sn-Yn),qt[gi]=wi,ci[gi]=Bi,gi++,nn=Bi+$t,wi=0),an=zn,Nn=On}return gi===0&&(!l||l.length===0)?null:(qt[gi]=ht,ci[gi]=Sn,new Zn(ot,Ge,qt,ci,wt))}function va(Lt,n,l,m){return Lt===9?l-n%l:xi.K7(Lt)||Lt<32?m:1}function Pl(Lt,n){return n-Lt%n}function Br(Lt,n,l,m,w){return l!==32&&(n===2&&m!==2||n!==1&&m===1||!w&&n===3&&m!==2||!w&&m===3&&n!==1)}function Wr(Lt,n,l,m,w){let z=0;if(w!==0){const ae=xi.LC(Lt);if(ae!==-1){for(let ye=0;ye<ae;ye++){const Ge=Lt.charCodeAt(ye)===9?Pl(z,n):1;z+=Ge}const ge=w===3?2:w===2?1:0;for(let ye=0;ye<ge;ye++){const Ge=Pl(z,n);z+=Ge}z+m>l&&(z=0)}}return z}const Me=(0,ke.Z)("domLineBreaksComputer",{createHTML:Lt=>Lt});class nt{static create(n){return new nt(new WeakRef(n))}constructor(n){this.targetWindow=n}createLineBreaksComputer(n,l,m,w,z){const ae=[],ge=[];return{addRequest:(ye,Ge,ot)=>{ae.push(ye),ge.push(Ge)},finalize:()=>oi((0,Qt.cW)(this.targetWindow.deref()),ae,n,l,m,w,z,ge)}}}function oi(Lt,n,l,m,w,z,ae,ge){var ye;function Ge(Dn){const zn=ge[Dn];if(zn){const On=Lo.gk.applyInjectedText(n[Dn],zn),Yn=zn.map(ss=>ss.options),Ps=zn.map(ss=>ss.column-1);return new Zn(Ps,Yn,[On.length],[],0)}else return null}if(w===-1){const Dn=[];for(let zn=0,On=n.length;zn<On;zn++)Dn[zn]=Ge(zn);return Dn}const ot=Math.round(w*l.typicalHalfwidthCharacterWidth),Et=Math.round(m*(z===3?2:z===2?1:0)),wt=Math.ceil(l.spaceWidth*Et),$t=document.createElement("div");(0,dn.N)($t,l);const qt=new Ke.HT(1e4),ci=[],gi=[],wi=[],Bi=[],nn=[];for(let Dn=0;Dn<n.length;Dn++){const zn=Lo.gk.applyInjectedText(n[Dn],ge[Dn]);let On=0,Yn=0,Ps=ot;if(z!==0)if(On=xi.LC(zn),On===-1)On=0;else{for(let co=0;co<On;co++){const Xs=zn.charCodeAt(co)===9?m-Yn%m:1;Yn+=Xs}const lo=Math.ceil(l.spaceWidth*Yn);lo+l.typicalFullwidthCharacterWidth>ot?(On=0,Yn=0):Ps=ot-lo}const ss=zn.substr(On),Us=Yi(ss,Yn,m,Ps,qt,wt);ci[Dn]=On,gi[Dn]=Yn,wi[Dn]=ss,Bi[Dn]=Us[0],nn[Dn]=Us[1]}const an=qt.build(),Nn=(ye=Me==null?void 0:Me.createHTML(an))!==null&&ye!==void 0?ye:an;$t.innerHTML=Nn,$t.style.position="absolute",$t.style.top="10000",ae==="keepAll"?($t.style.wordBreak="keep-all",$t.style.overflowWrap="anywhere"):($t.style.wordBreak="inherit",$t.style.overflowWrap="break-word"),Lt.document.body.appendChild($t);const Sn=document.createRange(),_n=Array.prototype.slice.call($t.children,0),un=[];for(let Dn=0;Dn<n.length;Dn++){const zn=_n[Dn],On=is(Sn,zn,wi[Dn],Bi[Dn]);if(On===null){un[Dn]=Ge(Dn);continue}const Yn=ci[Dn],Ps=gi[Dn]+Et,ss=nn[Dn],Us=[];for(let zs=0,wo=On.length;zs<wo;zs++)Us[zs]=ss[On[zs]];if(Yn!==0)for(let zs=0,wo=On.length;zs<wo;zs++)On[zs]+=Yn;let lo,co;const Xs=ge[Dn];Xs?(lo=Xs.map(zs=>zs.options),co=Xs.map(zs=>zs.column-1)):(lo=null,co=null),un[Dn]=new Zn(co,lo,On,Us,Ps)}return Lt.document.body.removeChild($t),un}function Yi(Lt,n,l,m,w,z){if(z!==0){const Et=String(z);w.appendString('<div style="text-indent: -'),w.appendString(Et),w.appendString("px; padding-left: "),w.appendString(Et),w.appendString("px; box-sizing: border-box; width:")}else w.appendString('<div style="width:');w.appendString(String(m)),w.appendString('px;">');const ae=Lt.length;let ge=n,ye=0;const Ge=[],ot=[];let ht=0<ae?Lt.charCodeAt(0):0;w.appendString("<span>");for(let Et=0;Et<ae;Et++){Et!==0&&Et%16384===0&&w.appendString("</span><span>"),Ge[Et]=ye,ot[Et]=ge;const wt=ht;ht=Et+1<ae?Lt.charCodeAt(Et+1):0;let $t=1,qt=1;switch(wt){case 9:$t=l-ge%l,qt=$t;for(let ci=1;ci<=$t;ci++)ci<$t?w.appendCharCode(160):w.appendASCIICharCode(32);break;case 32:ht===32?w.appendCharCode(160):w.appendASCIICharCode(32);break;case 60:w.appendString("&lt;");break;case 62:w.appendString("&gt;");break;case 38:w.appendString("&amp;");break;case 0:w.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:w.appendCharCode(65533);break;default:xi.K7(wt)&&qt++,wt<32?w.appendCharCode(9216+wt):w.appendCharCode(wt)}ye+=$t,ge+=qt}return w.appendString("</span>"),Ge[Lt.length]=ye,ot[Lt.length]=ge,w.appendString("</div>"),[Ge,ot]}function is(Lt,n,l,m){if(l.length<=1)return null;const w=Array.prototype.slice.call(n.children,0),z=[];try{Os(Lt,w,m,0,null,l.length-1,null,z)}catch(ae){return console.log(ae),null}return z.length===0?null:(z.push(l.length),z)}function Os(Lt,n,l,m,w,z,ae,ge){if(m===z||(w=w||Js(Lt,n,l[m],l[m+1]),ae=ae||Js(Lt,n,l[z],l[z+1]),Math.abs(w[0].top-ae[0].top)<=.1))return;if(m+1===z){ge.push(z);return}const ye=m+(z-m)/2|0,Ge=Js(Lt,n,l[ye],l[ye+1]);Os(Lt,n,l,m,w,ye,Ge,ge),Os(Lt,n,l,ye,Ge,z,ae,ge)}function Js(Lt,n,l,m){return Lt.setStart(n[l/16384|0].firstChild,l%16384),Lt.setEnd(n[m/16384|0].firstChild,m%16384),Lt.getClientRects()}var Fn=c(95483),io=c(79993),Tr=c(36276);class ha extends b.JT{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new b.b2),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(n,l,m){this._editor=n,this._instantiationService=m;for(const w of l){if(this._pending.has(w.id)){(0,B.dL)(new Error(`Cannot have two contributions with the same id ${w.id}`));continue}this._pending.set(w.id,w)}this._instantiateSome(0),this._register((0,M.se)((0,M.Jj)(this._editor.getDomNode()),()=>{this._instantiateSome(1)})),this._register((0,M.se)((0,M.Jj)(this._editor.getDomNode()),()=>{this._instantiateSome(2)})),this._register((0,M.se)((0,M.Jj)(this._editor.getDomNode()),()=>{this._instantiateSome(3)},5e3))}saveViewState(){const n={};for(const[l,m]of this._instances)typeof m.saveViewState=="function"&&(n[l]=m.saveViewState());return n}restoreViewState(n){for(const[l,m]of this._instances)typeof m.restoreViewState=="function"&&m.restoreViewState(n[l])}get(n){return this._instantiateById(n),this._instances.get(n)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){var n;this._register((0,M.se)((0,M.Jj)((n=this._editor)===null||n===void 0?void 0:n.getDomNode()),()=>{this._instantiateSome(1)},50))}_instantiateSome(n){if(this._finishedInstantiation[n])return;this._finishedInstantiation[n]=!0;const l=this._findPendingContributionsByInstantiation(n);for(const m of l)this._instantiateById(m.id)}_findPendingContributionsByInstantiation(n){const l=[];for(const[,m]of this._pending)m.instantiation===n&&l.push(m);return l}_instantiateById(n){const l=this._pending.get(n);if(l){if(this._pending.delete(n),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const m=this._instantiationService.createInstance(l.ctor,this._editor);this._instances.set(l.id,m),typeof m.restoreViewState=="function"&&l.instantiation!==0&&console.warn(`Editor contribution '${l.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(m){(0,B.dL)(m)}}}}var Zs=function(Lt,n,l,m){var w=arguments.length,z=w<3?n:m===null?m=Object.getOwnPropertyDescriptor(n,l):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(Lt,n,l,m);else for(var ge=Lt.length-1;ge>=0;ge--)(ae=Lt[ge])&&(z=(w<3?ae(z):w>3?ae(n,l,z):ae(n,l))||z);return w>3&&z&&Object.defineProperty(n,l,z),z},zo=function(Lt,n){return function(l,m){n(l,m,Lt)}},Hr;let Td=0;class ar{constructor(n,l,m,w,z,ae){this.model=n,this.viewModel=l,this.view=m,this.hasRealView=w,this.listenersToRemove=z,this.attachedView=ae}dispose(){(0,b.B9)(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let Ur=Hr=class extends b.JT{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor(n,l,m,w,z,ae,ge,ye,Ge,ot,ht,Et){var wt;super(),this.languageConfigurationService=ht,this._deliveryQueue=(0,y.Sp)(),this._contributions=this._register(new ha),this._onDidDispose=this._register(new y.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new y.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new y.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new y.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new y.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new y.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new y.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new y.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new y.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new y.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new y.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new Io(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new y.Q5({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new bd({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new bd({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new Io(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new Io(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new Io(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new Io(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new Io(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new Io(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new Io(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new Io(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new Io(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new Io(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new Io(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new Io(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new Io(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new Io(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new Io(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new Io(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new Io(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new y.Q5({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new y.Q5({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new y.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new y.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),z.willCreateCodeEditor();const $t=Di({},l);this._domElement=n,this._overflowWidgetsDomNode=$t.overflowWidgetsDomNode,delete $t.overflowWidgetsDomNode,this._id=++Td,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=m.telemetryData,this._configuration=this._register(this._createConfiguration(m.isSimpleWidget||!1,$t,ot)),this._register(this._configuration.onDidChange(gi=>{this._onDidChangeConfiguration.fire(gi);const wi=this._configuration.options;if(gi.hasChanged(143)){const Bi=wi.get(143);this._onDidLayoutChange.fire(Bi)}})),this._contextKeyService=this._register(ge.createScoped(this._domElement)),this._notificationService=Ge,this._codeEditorService=z,this._commandService=ae,this._themeService=ye,this._register(new Ld(this,this._contextKeyService)),this._register(new Ml(this,this._contextKeyService,Et)),this._instantiationService=w.createChild(new ul.y([cl.i6,this._contextKeyService])),this._modelData=null,this._focusTracker=new xl(n),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let qt;Array.isArray(m.contributions)?qt=m.contributions:qt=X.Uc.getEditorContributions(),this._contributions.initialize(this,qt,this._instantiationService);for(const gi of X.Uc.getEditorActions()){if(this._actions.has(gi.id)){(0,B.dL)(new Error(`Cannot have two actions with the same id ${gi.id}`));continue}const wi=new go.p(gi.id,gi.label,gi.alias,gi.metadata,(wt=gi.precondition)!==null&&wt!==void 0?wt:void 0,()=>this._instantiationService.invokeFunction(Bi=>Promise.resolve(gi.runEditorCommand(Bi,this,null))),this._contextKeyService);this._actions.set(wi.id,wi)}const ci=()=>!this._configuration.options.get(90)&&this._configuration.options.get(36).enabled;this._register(new M.eg(this._domElement,{onDragOver:gi=>{if(!ci())return;const wi=this.getTargetAtClientPoint(gi.clientX,gi.clientY);wi!=null&&wi.position&&this.showDropIndicatorAt(wi.position)},onDrop:gi=>At(this,null,function*(){if(!ci()||(this.removeDropIndicator(),!gi.dataTransfer))return;const wi=this.getTargetAtClientPoint(gi.clientX,gi.clientY);wi!=null&&wi.position&&this._onDropIntoEditor.fire({position:wi.position,event:gi})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(n){var l;(l=this._modelData)===null||l===void 0||l.view.writeScreenReaderContent(n)}_createConfiguration(n,l,m){return new H(n,l,this._domElement,m)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return So.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(n){return this._instantiationService.invokeFunction(n)}updateOptions(n){this._configuration.updateOptions(n||{})}getOptions(){return this._configuration.options}getOption(n){return this._configuration.options.get(n)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(n){return this._modelData?Fn.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(129),n):null}getValue(n=null){if(!this._modelData)return"";const l=!!(n&&n.preserveBOM);let m=0;return n&&n.lineEnding&&n.lineEnding===`
`?m=1:n&&n.lineEnding&&n.lineEnding===`\r
`&&(m=2),this._modelData.model.getValue(m,l)}setValue(n){this._modelData&&this._modelData.model.setValue(n)}getModel(){return this._modelData?this._modelData.model:null}setModel(n=null){const l=n;if(this._modelData===null&&l===null||this._modelData&&this._modelData.model===l)return;const m=this.hasTextFocus(),w=this._detachModel();this._attachModel(l),m&&this.hasModel()&&this.focus();const z={oldModelUrl:w?w.uri:null,newModelUrl:l?l.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(z),this._postDetachModelCleanup(w),this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const n in this._decorationTypeSubtypes){const l=this._decorationTypeSubtypes[n];for(const m in l)this._removeDecorationType(n+"-"+m)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(n,l,m,w){const z=n.model.validatePosition({lineNumber:l,column:m}),ae=n.viewModel.coordinatesConverter.convertModelPositionToViewPosition(z);return n.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(ae.lineNumber,w)}getTopForLineNumber(n,l=!1){return this._modelData?Hr._getVerticalOffsetForPosition(this._modelData,n,1,l):-1}getTopForPosition(n,l){return this._modelData?Hr._getVerticalOffsetForPosition(this._modelData,n,l,!1):-1}static _getVerticalOffsetForPosition(n,l,m,w=!1){const z=n.model.validatePosition({lineNumber:l,column:m}),ae=n.viewModel.coordinatesConverter.convertModelPositionToViewPosition(z);return n.viewModel.viewLayout.getVerticalOffsetForLineNumber(ae.lineNumber,w)}getBottomForLineNumber(n,l=!1){return this._modelData?Hr._getVerticalOffsetAfterPosition(this._modelData,n,1,l):-1}setHiddenAreas(n,l){var m;(m=this._modelData)===null||m===void 0||m.viewModel.setHiddenAreas(n.map(w=>pe.e.lift(w)),l)}getVisibleColumnFromPosition(n){if(!this._modelData)return n.column;const l=this._modelData.model.validatePosition(n),m=this._modelData.model.getOptions().tabSize;return Dt.i.visibleColumnFromColumn(this._modelData.model.getLineContent(l.lineNumber),l.column,m)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(n,l="api"){if(this._modelData){if(!He.L.isIPosition(n))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(l,[{selectionStartLineNumber:n.lineNumber,selectionStartColumn:n.column,positionLineNumber:n.lineNumber,positionColumn:n.column}])}}_sendRevealRange(n,l,m,w){if(!this._modelData)return;if(!pe.e.isIRange(n))throw new Error("Invalid arguments");const z=this._modelData.model.validateRange(n),ae=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(z);this._modelData.viewModel.revealRange("api",m,ae,l,w)}revealLine(n,l=0){this._revealLine(n,0,l)}revealLineInCenter(n,l=0){this._revealLine(n,1,l)}revealLineInCenterIfOutsideViewport(n,l=0){this._revealLine(n,2,l)}revealLineNearTop(n,l=0){this._revealLine(n,5,l)}_revealLine(n,l,m){if(typeof n!="number")throw new Error("Invalid arguments");this._sendRevealRange(new pe.e(n,1,n,1),l,!1,m)}revealPosition(n,l=0){this._revealPosition(n,0,!0,l)}revealPositionInCenter(n,l=0){this._revealPosition(n,1,!0,l)}revealPositionInCenterIfOutsideViewport(n,l=0){this._revealPosition(n,2,!0,l)}revealPositionNearTop(n,l=0){this._revealPosition(n,5,!0,l)}_revealPosition(n,l,m,w){if(!He.L.isIPosition(n))throw new Error("Invalid arguments");this._sendRevealRange(new pe.e(n.lineNumber,n.column,n.lineNumber,n.column),l,m,w)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(n,l="api"){const m=Ce.Y.isISelection(n),w=pe.e.isIRange(n);if(!m&&!w)throw new Error("Invalid arguments");if(m)this._setSelectionImpl(n,l);else if(w){const z={selectionStartLineNumber:n.startLineNumber,selectionStartColumn:n.startColumn,positionLineNumber:n.endLineNumber,positionColumn:n.endColumn};this._setSelectionImpl(z,l)}}_setSelectionImpl(n,l){if(!this._modelData)return;const m=new Ce.Y(n.selectionStartLineNumber,n.selectionStartColumn,n.positionLineNumber,n.positionColumn);this._modelData.viewModel.setSelections(l,[m])}revealLines(n,l,m=0){this._revealLines(n,l,0,m)}revealLinesInCenter(n,l,m=0){this._revealLines(n,l,1,m)}revealLinesInCenterIfOutsideViewport(n,l,m=0){this._revealLines(n,l,2,m)}revealLinesNearTop(n,l,m=0){this._revealLines(n,l,5,m)}_revealLines(n,l,m,w){if(typeof n!="number"||typeof l!="number")throw new Error("Invalid arguments");this._sendRevealRange(new pe.e(n,1,l,1),m,!1,w)}revealRange(n,l=0,m=!1,w=!0){this._revealRange(n,m?1:0,w,l)}revealRangeInCenter(n,l=0){this._revealRange(n,1,!0,l)}revealRangeInCenterIfOutsideViewport(n,l=0){this._revealRange(n,2,!0,l)}revealRangeNearTop(n,l=0){this._revealRange(n,5,!0,l)}revealRangeNearTopIfOutsideViewport(n,l=0){this._revealRange(n,6,!0,l)}revealRangeAtTop(n,l=0){this._revealRange(n,3,!0,l)}_revealRange(n,l,m,w){if(!pe.e.isIRange(n))throw new Error("Invalid arguments");this._sendRevealRange(pe.e.lift(n),l,m,w)}setSelections(n,l="api",m=0){if(this._modelData){if(!n||n.length===0)throw new Error("Invalid arguments");for(let w=0,z=n.length;w<z;w++)if(!Ce.Y.isISelection(n[w]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(l,n,m)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(n,l=1){if(this._modelData){if(typeof n!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:n},l)}}setScrollTop(n,l=1){if(this._modelData){if(typeof n!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:n},l)}}setScrollPosition(n,l=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(n,l)}hasPendingScrollAnimation(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}saveViewState(){if(!this._modelData)return null;const n=this._contributions.saveViewState(),l=this._modelData.viewModel.saveCursorState(),m=this._modelData.viewModel.saveState();return{cursorState:l,viewState:m,contributionsState:n}}restoreViewState(n){if(!this._modelData||!this._modelData.hasRealView)return;const l=n;if(l&&l.cursorState&&l.viewState){const m=l.cursorState;Array.isArray(m)?m.length>0&&this._modelData.viewModel.restoreCursorState(m):this._modelData.viewModel.restoreCursorState([m]),this._contributions.restoreViewState(l.contributionsState||{});const w=this._modelData.viewModel.reduceRestoreState(l.viewState);this._modelData.view.restoreState(w)}}handleInitialized(){var n;(n=this._getViewModel())===null||n===void 0||n.visibleLinesStabilized()}getContribution(n){return this._contributions.get(n)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let n=this.getActions();return n=n.filter(l=>l.isSupported()),n}getAction(n){return this._actions.get(n)||null}trigger(n,l,m){switch(m=m||{},l){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(n);return;case"type":{const z=m;this._type(n,z.text||"");return}case"replacePreviousChar":{const z=m;this._compositionType(n,z.text||"",z.replaceCharCnt||0,0,0);return}case"compositionType":{const z=m;this._compositionType(n,z.text||"",z.replacePrevCharCnt||0,z.replaceNextCharCnt||0,z.positionDelta||0);return}case"paste":{const z=m;this._paste(n,z.text||"",z.pasteOnNewLine||!1,z.multicursorText||null,z.mode||null);return}case"cut":this._cut(n);return}const w=this.getAction(l);if(w){Promise.resolve(w.run(m)).then(void 0,B.dL);return}this._modelData&&(this._triggerEditorCommand(n,l,m)||this._triggerCommand(l,m))}_triggerCommand(n,l){this._commandService.executeCommand(n,l)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(n){this._modelData&&(this._modelData.viewModel.endComposition(n),this._onDidCompositionEnd.fire())}_type(n,l){!this._modelData||l.length===0||(n==="keyboard"&&this._onWillType.fire(l),this._modelData.viewModel.type(l,n),n==="keyboard"&&this._onDidType.fire(l))}_compositionType(n,l,m,w,z){this._modelData&&this._modelData.viewModel.compositionType(l,m,w,z,n)}_paste(n,l,m,w,z){if(!this._modelData||l.length===0)return;const ae=this._modelData.viewModel,ge=ae.getSelection().getStartPosition();ae.paste(l,m,w,n);const ye=ae.getSelection().getStartPosition();n==="keyboard"&&this._onDidPaste.fire({range:new pe.e(ge.lineNumber,ge.column,ye.lineNumber,ye.column),languageId:z})}_cut(n){this._modelData&&this._modelData.viewModel.cut(n)}_triggerEditorCommand(n,l,m){const w=X.Uc.getEditorCommand(l);return w?(m=m||{},m.source=n,this._instantiationService.invokeFunction(z=>{Promise.resolve(w.runEditorCommand(z,this,m)).then(void 0,B.dL)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(90)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(90)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(n,l,m){if(!this._modelData||this._configuration.options.get(90))return!1;let w;return m?Array.isArray(m)?w=()=>m:w=m:w=()=>null,this._modelData.viewModel.executeEdits(n,l,w),!0}executeCommand(n,l){this._modelData&&this._modelData.viewModel.executeCommand(l,n)}executeCommands(n,l){this._modelData&&this._modelData.viewModel.executeCommands(l,n)}createDecorationsCollection(n){return new na(this,n)}changeDecorations(n){return this._modelData?this._modelData.model.changeDecorations(n,this._id):null}getLineDecorations(n){return this._modelData?this._modelData.model.getLineDecorations(n,this._id,(0,ne.$J)(this._configuration.options)):null}getDecorationsInRange(n){return this._modelData?this._modelData.model.getDecorationsInRange(n,this._id,(0,ne.$J)(this._configuration.options)):null}deltaDecorations(n,l){return this._modelData?n.length===0&&l.length===0?n:this._modelData.model.deltaDecorations(n,l,this._id):[]}removeDecorations(n){!this._modelData||n.length===0||this._modelData.model.changeDecorations(l=>{l.deltaDecorations(n,[])})}removeDecorationsByType(n){const l=this._decorationTypeKeysToIds[n];l&&this.deltaDecorations(l,[]),this._decorationTypeKeysToIds.hasOwnProperty(n)&&delete this._decorationTypeKeysToIds[n],this._decorationTypeSubtypes.hasOwnProperty(n)&&delete this._decorationTypeSubtypes[n]}getLayoutInfo(){return this._configuration.options.get(143)}createOverviewRuler(n){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(n)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(n){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(n)}delegateScrollFromMouseWheelEvent(n){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(n)}layout(n,l=!1){this._configuration.observeContainer(n),l||this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(n){const l={widget:n,position:n.getPosition()};this._contentWidgets.hasOwnProperty(n.getId())&&console.warn("Overwriting a content widget with the same id:"+n.getId()),this._contentWidgets[n.getId()]=l,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(l)}layoutContentWidget(n){const l=n.getId();if(this._contentWidgets.hasOwnProperty(l)){const m=this._contentWidgets[l];m.position=n.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(m)}}removeContentWidget(n){const l=n.getId();if(this._contentWidgets.hasOwnProperty(l)){const m=this._contentWidgets[l];delete this._contentWidgets[l],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(m)}}addOverlayWidget(n){const l={widget:n,position:n.getPosition()};this._overlayWidgets.hasOwnProperty(n.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[n.getId()]=l,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(l)}layoutOverlayWidget(n){const l=n.getId();if(this._overlayWidgets.hasOwnProperty(l)){const m=this._overlayWidgets[l];m.position=n.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(m)}}removeOverlayWidget(n){const l=n.getId();if(this._overlayWidgets.hasOwnProperty(l)){const m=this._overlayWidgets[l];delete this._overlayWidgets[l],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(m)}}addGlyphMarginWidget(n){const l={widget:n,position:n.getPosition()};this._glyphMarginWidgets.hasOwnProperty(n.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[n.getId()]=l,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(l)}layoutGlyphMarginWidget(n){const l=n.getId();if(this._glyphMarginWidgets.hasOwnProperty(l)){const m=this._glyphMarginWidgets[l];m.position=n.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(m)}}removeGlyphMarginWidget(n){const l=n.getId();if(this._glyphMarginWidgets.hasOwnProperty(l)){const m=this._glyphMarginWidgets[l];delete this._glyphMarginWidgets[l],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(m)}}changeViewZones(n){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(n)}getTargetAtClientPoint(n,l){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(n,l)}getScrolledVisiblePosition(n){if(!this._modelData||!this._modelData.hasRealView)return null;const l=this._modelData.model.validatePosition(n),m=this._configuration.options,w=m.get(143),z=Hr._getVerticalOffsetForPosition(this._modelData,l.lineNumber,l.column)-this.getScrollTop(),ae=this._modelData.view.getOffsetForColumn(l.lineNumber,l.column)+w.glyphMarginWidth+w.lineNumbersWidth+w.decorationsWidth-this.getScrollLeft();return{top:z,left:ae,height:m.get(66)}}getOffsetForColumn(n,l){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(n,l)}render(n=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,n)}setAriaOptions(n){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(n)}applyFontInfo(n){(0,dn.N)(n,this._configuration.options.get(50))}setBanner(n,l){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=n,this._configuration.setReservedHeight(n?l:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(n){if(!n){this._modelData=null;return}const l=[];this._domElement.setAttribute("data-mode-id",n.getLanguageId()),this._configuration.setIsDominatedByLongLines(n.isDominatedByLongLines()),this._configuration.setModelLineCount(n.getLineCount());const m=n.onBeforeAttached(),w=new ua(this._id,this._configuration,n,nt.create(M.Jj(this._domElement)),hl.create(this._configuration.options),ge=>M.jL(M.Jj(this._domElement),ge),this.languageConfigurationService,this._themeService,m);l.push(n.onWillDispose(()=>this.setModel(null))),l.push(w.onEvent(ge=>{switch(ge.kind){case 0:this._onDidContentSizeChange.fire(ge);break;case 1:this._editorTextFocus.setValue(ge.hasFocus);break;case 2:this._onDidScrollChange.fire(ge);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(ge.reachedMaxCursorCount){const ht=this.getOption(79),Et=T.NC("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",ht);this._notificationService.prompt(Ea.zb.Warning,Et,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:T.NC("goToSetting","Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const ye=[];for(let ht=0,Et=ge.selections.length;ht<Et;ht++)ye[ht]=ge.selections[ht].getPosition();const Ge={position:ye[0],secondaryPositions:ye.slice(1),reason:ge.reason,source:ge.source};this._onDidChangeCursorPosition.fire(Ge);const ot={selection:ge.selections[0],secondarySelections:ge.selections.slice(1),modelVersionId:ge.modelVersionId,oldSelections:ge.oldSelections,oldModelVersionId:ge.oldModelVersionId,source:ge.source,reason:ge.reason};this._onDidChangeCursorSelection.fire(ot);break}case 7:this._onDidChangeModelDecorations.fire(ge.event);break;case 8:this._domElement.setAttribute("data-mode-id",n.getLanguageId()),this._onDidChangeModelLanguage.fire(ge.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(ge.event);break;case 10:this._onDidChangeModelContent.fire(ge.event);break;case 11:this._onDidChangeModelOptions.fire(ge.event);break;case 12:this._onDidChangeModelTokens.fire(ge.event);break}}));const[z,ae]=this._createView(w);if(ae){this._domElement.appendChild(z.domNode.domNode);let ge=Object.keys(this._contentWidgets);for(let ye=0,Ge=ge.length;ye<Ge;ye++){const ot=ge[ye];z.addContentWidget(this._contentWidgets[ot])}ge=Object.keys(this._overlayWidgets);for(let ye=0,Ge=ge.length;ye<Ge;ye++){const ot=ge[ye];z.addOverlayWidget(this._overlayWidgets[ot])}ge=Object.keys(this._glyphMarginWidgets);for(let ye=0,Ge=ge.length;ye<Ge;ye++){const ot=ge[ye];z.addGlyphMarginWidget(this._glyphMarginWidgets[ot])}z.render(!1,!0),z.domNode.domNode.setAttribute("data-uri",n.uri.toString())}this._modelData=new ar(n,w,z,ae,l,m)}_createView(n){let l;this.isSimpleWidget?l={paste:(z,ae,ge,ye)=>{this._paste("keyboard",z,ae,ge,ye)},type:z=>{this._type("keyboard",z)},compositionType:(z,ae,ge,ye)=>{this._compositionType("keyboard",z,ae,ge,ye)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:l={paste:(z,ae,ge,ye)=>{const Ge={text:z,pasteOnNewLine:ae,multicursorText:ge,mode:ye};this._commandService.executeCommand("paste",Ge)},type:z=>{const ae={text:z};this._commandService.executeCommand("type",ae)},compositionType:(z,ae,ge,ye)=>{if(ge||ye){const Ge={text:z,replacePrevCharCnt:ae,replaceNextCharCnt:ge,positionDelta:ye};this._commandService.executeCommand("compositionType",Ge)}else{const Ge={text:z,replaceCharCnt:ae};this._commandService.executeCommand("replacePreviousChar",Ge)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const m=new ui(n.coordinatesConverter);return m.onKeyDown=z=>this._onKeyDown.fire(z),m.onKeyUp=z=>this._onKeyUp.fire(z),m.onContextMenu=z=>this._onContextMenu.fire(z),m.onMouseMove=z=>this._onMouseMove.fire(z),m.onMouseLeave=z=>this._onMouseLeave.fire(z),m.onMouseDown=z=>this._onMouseDown.fire(z),m.onMouseUp=z=>this._onMouseUp.fire(z),m.onMouseDrag=z=>this._onMouseDrag.fire(z),m.onMouseDrop=z=>this._onMouseDrop.fire(z),m.onMouseDropCanceled=z=>this._onMouseDropCanceled.fire(z),m.onMouseWheel=z=>this._onMouseWheel.fire(z),[new Xi(l,this._configuration,this._themeService.getColorTheme(),n,m,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(n){n==null||n.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const n=this._modelData.model,l=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),l&&this._domElement.contains(l)&&this._domElement.removeChild(l),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),n}_removeDecorationType(n){this._codeEditorService.removeDecorationType(n)}hasModel(){return this._modelData!==null}showDropIndicatorAt(n){const l=[{range:new pe.e(n.lineNumber,n.column,n.lineNumber,n.column),options:Hr.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(l),this.revealPosition(n,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(n,l){this._contextKeyService.createKey(n,l)}};Ur.dropIntoEditorDecorationOptions=Ts.qx.register({description:"workbench-dnd-target",className:"dnd-target"}),Ur=Hr=Zs([zo(3,kn.TG),zo(4,Ee.$),zo(5,vd.H),zo(6,cl.i6),zo(7,ei.XE),zo(8,Ea.lT),zo(9,se.F7),zo(10,io.c_),zo(11,Tr.p)],Ur);class bd extends b.JT{constructor(n){super(),this._emitterOptions=n,this._onDidChangeToTrue=this._register(new y.Q5(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new y.Q5(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(n){const l=n?2:1;this._value!==l&&(this._value=l,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class Io extends y.Q5{constructor(n,l){super({deliveryQueue:l}),this._contributions=n}fire(n){this._contributions.onBeforeInteractionEvent(),super.fire(n)}}class Ld extends b.JT{constructor(n,l){super(),this._editor=n,l.createKey("editorId",n.getId()),this._editorSimpleInput=An.u.editorSimpleInput.bindTo(l),this._editorFocus=An.u.focus.bindTo(l),this._textInputFocus=An.u.textInputFocus.bindTo(l),this._editorTextFocus=An.u.editorTextFocus.bindTo(l),this._tabMovesFocus=An.u.tabMovesFocus.bindTo(l),this._editorReadonly=An.u.readOnly.bindTo(l),this._inDiffEditor=An.u.inDiffEditor.bindTo(l),this._editorColumnSelection=An.u.columnSelection.bindTo(l),this._hasMultipleSelections=An.u.hasMultipleSelections.bindTo(l),this._hasNonEmptySelection=An.u.hasNonEmptySelection.bindTo(l),this._canUndo=An.u.canUndo.bindTo(l),this._canRedo=An.u.canRedo.bindTo(l),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(Z.n.onDidChangeTabFocus(m=>this._tabMovesFocus.set(m))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const n=this._editor.getOptions();this._tabMovesFocus.set(Z.n.getTabFocusMode()),this._editorReadonly.set(n.get(90)),this._inDiffEditor.set(n.get(61)),this._editorColumnSelection.set(n.get(22))}_updateFromSelection(){const n=this._editor.getSelections();n?(this._hasMultipleSelections.set(n.length>1),this._hasNonEmptySelection.set(n.some(l=>!l.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const n=this._editor.getModel();this._canUndo.set(!!(n&&n.canUndo())),this._canRedo.set(!!(n&&n.canRedo()))}}class Ml extends b.JT{constructor(n,l,m){super(),this._editor=n,this._contextKeyService=l,this._languageFeaturesService=m,this._langId=An.u.languageId.bindTo(l),this._hasCompletionItemProvider=An.u.hasCompletionItemProvider.bindTo(l),this._hasCodeActionsProvider=An.u.hasCodeActionsProvider.bindTo(l),this._hasCodeLensProvider=An.u.hasCodeLensProvider.bindTo(l),this._hasDefinitionProvider=An.u.hasDefinitionProvider.bindTo(l),this._hasDeclarationProvider=An.u.hasDeclarationProvider.bindTo(l),this._hasImplementationProvider=An.u.hasImplementationProvider.bindTo(l),this._hasTypeDefinitionProvider=An.u.hasTypeDefinitionProvider.bindTo(l),this._hasHoverProvider=An.u.hasHoverProvider.bindTo(l),this._hasDocumentHighlightProvider=An.u.hasDocumentHighlightProvider.bindTo(l),this._hasDocumentSymbolProvider=An.u.hasDocumentSymbolProvider.bindTo(l),this._hasReferenceProvider=An.u.hasReferenceProvider.bindTo(l),this._hasRenameProvider=An.u.hasRenameProvider.bindTo(l),this._hasSignatureHelpProvider=An.u.hasSignatureHelpProvider.bindTo(l),this._hasInlayHintsProvider=An.u.hasInlayHintsProvider.bindTo(l),this._hasDocumentFormattingProvider=An.u.hasDocumentFormattingProvider.bindTo(l),this._hasDocumentSelectionFormattingProvider=An.u.hasDocumentSelectionFormattingProvider.bindTo(l),this._hasMultipleDocumentFormattingProvider=An.u.hasMultipleDocumentFormattingProvider.bindTo(l),this._hasMultipleDocumentSelectionFormattingProvider=An.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(l),this._isInWalkThrough=An.u.isInWalkThroughSnippet.bindTo(l);const w=()=>this._update();this._register(n.onDidChangeModel(w)),this._register(n.onDidChangeModelLanguage(w)),this._register(m.completionProvider.onDidChange(w)),this._register(m.codeActionProvider.onDidChange(w)),this._register(m.codeLensProvider.onDidChange(w)),this._register(m.definitionProvider.onDidChange(w)),this._register(m.declarationProvider.onDidChange(w)),this._register(m.implementationProvider.onDidChange(w)),this._register(m.typeDefinitionProvider.onDidChange(w)),this._register(m.hoverProvider.onDidChange(w)),this._register(m.documentHighlightProvider.onDidChange(w)),this._register(m.documentSymbolProvider.onDidChange(w)),this._register(m.referenceProvider.onDidChange(w)),this._register(m.renameProvider.onDidChange(w)),this._register(m.documentFormattingEditProvider.onDidChange(w)),this._register(m.documentRangeFormattingEditProvider.onDidChange(w)),this._register(m.signatureHelpProvider.onDidChange(w)),this._register(m.inlayHintsProvider.onDidChange(w)),w()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const n=this._editor.getModel();if(!n){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(n.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(n)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(n)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(n)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(n)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(n)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(n)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(n)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(n)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(n)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(n)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(n)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(n)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(n)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(n)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(n)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(n)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(n)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(n).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(n).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(n).length>1),this._isInWalkThrough.set(n.uri.scheme===C.lg.walkThroughSnippet)})}}class xl extends b.JT{constructor(n){super(),this._onChange=this._register(new y.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(M.go(n)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class na{get length(){return this._decorationIds.length}constructor(n,l){this._editor=n,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(l)&&l.length>0&&this.set(l)}onDidChange(n,l,m){return this._editor.onDidChangeModelDecorations(w=>{this._isChangingDecorations||n.call(l,w)},m)}getRange(n){return!this._editor.hasModel()||n>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[n])}getRanges(){if(!this._editor.hasModel())return[];const n=this._editor.getModel(),l=[];for(const m of this._decorationIds){const w=n.getDecorationRange(m);w&&l.push(w)}return l}has(n){return this._decorationIds.includes(n.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(n){try{this._isChangingDecorations=!0,this._editor.changeDecorations(l=>{this._decorationIds=l.deltaDecorations(this._decorationIds,n)})}finally{this._isChangingDecorations=!1}return this._decorationIds}append(n){let l=[];try{this._isChangingDecorations=!0,this._editor.changeDecorations(m=>{l=m.deltaDecorations([],n),this._decorationIds=this._decorationIds.concat(l)})}finally{this._isChangingDecorations=!1}return l}}const Ta=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),fa=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function ba(Lt){return Ta+encodeURIComponent(Lt.toString())+fa}const Ga=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),kl=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function Vr(Lt){return Ga+encodeURIComponent(Lt.toString())+kl}(0,ei.Ic)((Lt,n)=>{const l=Lt.getColor(ls.lXJ);l&&n.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${ba(l)}") repeat-x bottom left; }`);const m=Lt.getColor(ls.uoC);m&&n.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${ba(m)}") repeat-x bottom left; }`);const w=Lt.getColor(ls.c63);w&&n.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${ba(w)}") repeat-x bottom left; }`);const z=Lt.getColor(ls.Dut);z&&n.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${Vr(z)}") no-repeat bottom left; }`);const ae=Lt.getColor(Be.zu);ae&&n.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${ae.rgba.a}; }`)})},29622:function(Gt,ze,c){"use strict";c.d(ze,{p:function(){return fo}});var D=c(97480),X=c(99637),v=c(35541),k=c(46328),L=c(83845),T=c(13611),M=c(86799),B=c(4593),y=c(79602),b=c(55426),C=c(93309),S=c(13158),_=c(18016),a=c(97918),u=c(66351),N=c(54888),O=c(64423),R=c(12003),V=c(13687),F=c(97396),Y=c(38074),G=c(50838),Z=c(58850),ne=c(79946),$=c(54125),J=c(35498),se=c(57529),re=c(12007),he=c(88748),H=c(2860),P=c(18493),j=c(22784),K=c(99068),ie=c(6863),ce=function(ri,Se,je,Qe){var Ht=arguments.length,kt=Ht<3?Se:Qe===null?Qe=Object.getOwnPropertyDescriptor(Se,je):Qe,ni;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")kt=Reflect.decorate(ri,Se,je,Qe);else for(var ai=ri.length-1;ai>=0;ai--)(ni=ri[ai])&&(kt=(Ht<3?ni(kt):Ht>3?ni(Se,je,kt):ni(Se,je))||kt);return Ht>3&&kt&&Object.defineProperty(Se,je,kt),kt},_e=function(ri,Se){return function(je,Qe){Se(je,Qe,ri)}};const Ee=(0,ie.q5)("diff-review-insert",O.l.add,(0,P.NC)("accessibleDiffViewerInsertIcon","Icon for 'Insert' in accessible diff viewer.")),Ce=(0,ie.q5)("diff-review-remove",O.l.remove,(0,P.NC)("accessibleDiffViewerRemoveIcon","Icon for 'Remove' in accessible diff viewer.")),pe=(0,ie.q5)("diff-review-close",O.l.close,(0,P.NC)("accessibleDiffViewerCloseIcon","Icon for 'Close' in accessible diff viewer."));let xe=class extends L.JT{constructor(Se,je,Qe,Ht,kt,ni,ai,si,Ei){super(),this._parentNode=Se,this._visible=je,this._setVisible=Qe,this._canClose=Ht,this._width=kt,this._height=ni,this._diffs=ai,this._editors=si,this._instantiationService=Ei,this._state=(0,T.Be)(this,(Pi,Li)=>{const Ii=this._visible.read(Pi);if(this._parentNode.style.visibility=Ii?"visible":"hidden",!Ii)return null;const Je=Li.add(this._instantiationService.createInstance(x,this._diffs,this._editors,this._setVisible,this._canClose)),E=Li.add(this._instantiationService.createInstance(gt,this._parentNode,Je,this._width,this._height,this._editors));return{model:Je,view:E}}).recomputeInitiallyAndOnChange(this._store)}next(){(0,T.PS)(Se=>{const je=this._visible.get();this._setVisible(!0,Se),je&&this._state.get().model.nextGroup(Se)})}prev(){(0,T.PS)(Se=>{this._setVisible(!0,Se),this._state.get().model.previousGroup(Se)})}close(){(0,T.PS)(Se=>{this._setVisible(!1,Se)})}};xe._ttPolicy=(0,S.Z)("diffReview",{createHTML:ri=>ri}),xe=ce([_e(8,K.TG)],xe);let x=class extends L.JT{constructor(Se,je,Qe,Ht,kt){super(),this._diffs=Se,this._editors=je,this._setVisible=Qe,this.canClose=Ht,this._audioCueService=kt,this._groups=(0,T.uh)(this,[]),this._currentGroupIdx=(0,T.uh)(this,0),this._currentElementIdx=(0,T.uh)(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((ni,ai)=>this._groups.read(ai)[ni]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((ni,ai)=>{var si;return(si=this.currentGroup.read(ai))===null||si===void 0?void 0:si.lines[ni]}),this._register((0,T.EH)(ni=>{const ai=this._diffs.read(ni);if(!ai){this._groups.set([],void 0);return}const si=Xe(ai,this._editors.original.getModel().getLineCount(),this._editors.modified.getModel().getLineCount());(0,T.PS)(Ei=>{const Pi=this._editors.modified.getPosition();if(Pi){const Li=si.findIndex(Ii=>(Pi==null?void 0:Pi.lineNumber)<Ii.range.modified.endLineNumberExclusive);Li!==-1&&this._currentGroupIdx.set(Li,Ei)}this._groups.set(si,Ei)})})),this._register((0,T.EH)(ni=>{const ai=this.currentElement.read(ni);(ai==null?void 0:ai.type)===Ze.Deleted?this._audioCueService.playAudioCue(j.y$.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):(ai==null?void 0:ai.type)===Ze.Added&&this._audioCueService.playAudioCue(j.y$.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register((0,T.EH)(ni=>{var ai;const si=this.currentElement.read(ni);if(si&&si.type!==Ze.Header){const Ei=(ai=si.modifiedLineNumber)!==null&&ai!==void 0?ai:si.diff.modified.startLineNumber;this._editors.modified.setSelection($.e.fromPositions(new ne.L(Ei,1)))}}))}_goToGroupDelta(Se,je){const Qe=this.groups.get();!Qe||Qe.length<=1||(0,T.c8)(je,Ht=>{this._currentGroupIdx.set(Z.q.ofLength(Qe.length).clipCyclic(this._currentGroupIdx.get()+Se),Ht),this._currentElementIdx.set(0,Ht)})}nextGroup(Se){this._goToGroupDelta(1,Se)}previousGroup(Se){this._goToGroupDelta(-1,Se)}_goToLineDelta(Se){const je=this.currentGroup.get();!je||je.lines.length<=1||(0,T.PS)(Qe=>{this._currentElementIdx.set(Z.q.ofLength(je.lines.length).clip(this._currentElementIdx.get()+Se),Qe)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine(Se){const je=this.currentGroup.get();if(!je)return;const Qe=je.lines.indexOf(Se);Qe!==-1&&(0,T.PS)(Ht=>{this._currentElementIdx.set(Qe,Ht)})}revealCurrentElementInEditor(){this._setVisible(!1,void 0);const Se=this.currentElement.get();Se&&(Se.type===Ze.Deleted?(this._editors.original.setSelection($.e.fromPositions(new ne.L(Se.originalLineNumber,1))),this._editors.original.revealLine(Se.originalLineNumber),this._editors.original.focus()):(Se.type!==Ze.Header&&(this._editors.modified.setSelection($.e.fromPositions(new ne.L(Se.modifiedLineNumber,1))),this._editors.modified.revealLine(Se.modifiedLineNumber)),this._editors.modified.focus()))}close(){this._setVisible(!1,void 0),this._editors.modified.focus()}};x=ce([_e(4,j.e7)],x);const rt=3;function Xe(ri,Se,je){const Qe=[];for(const Ht of(0,N.mw)(ri,(kt,ni)=>ni.modified.startLineNumber-kt.modified.endLineNumberExclusive<2*rt)){const kt=[];kt.push(new ut);const ni=new G.z(Math.max(1,Ht[0].original.startLineNumber-rt),Math.min(Ht[Ht.length-1].original.endLineNumberExclusive+rt,Se+1)),ai=new G.z(Math.max(1,Ht[0].modified.startLineNumber-rt),Math.min(Ht[Ht.length-1].modified.endLineNumberExclusive+rt,je+1));(0,N.zy)(Ht,(Pi,Li)=>{const Ii=new G.z(Pi?Pi.original.endLineNumberExclusive:ni.startLineNumber,Li?Li.original.startLineNumber:ni.endLineNumberExclusive),Je=new G.z(Pi?Pi.modified.endLineNumberExclusive:ai.startLineNumber,Li?Li.modified.startLineNumber:ai.endLineNumberExclusive);Ii.forEach(E=>{kt.push(new Dt(E,Je.startLineNumber+(E-Ii.startLineNumber)))}),Li&&(Li.original.forEach(E=>{kt.push(new ct(Li,E))}),Li.modified.forEach(E=>{kt.push(new He(Li,E))}))});const si=Ht[0].modified.join(Ht[Ht.length-1].modified),Ei=Ht[0].original.join(Ht[Ht.length-1].original);Qe.push(new lt(new J.f0(si,Ei),kt))}return Qe}var Ze;(function(ri){ri[ri.Header=0]="Header",ri[ri.Unchanged=1]="Unchanged",ri[ri.Deleted=2]="Deleted",ri[ri.Added=3]="Added"})(Ze||(Ze={}));class lt{constructor(Se,je){this.range=Se,this.lines=je}}class ut{constructor(){this.type=Ze.Header}}class ct{constructor(Se,je){this.diff=Se,this.originalLineNumber=je,this.type=Ze.Deleted,this.modifiedLineNumber=void 0}}class He{constructor(Se,je){this.diff=Se,this.modifiedLineNumber=je,this.type=Ze.Added,this.originalLineNumber=void 0}}class Dt{constructor(Se,je){this.originalLineNumber=Se,this.modifiedLineNumber=je,this.type=Ze.Unchanged}}let gt=class extends L.JT{constructor(Se,je,Qe,Ht,kt,ni){super(),this._element=Se,this._model=je,this._width=Qe,this._height=Ht,this._editors=kt,this._languageService=ni,this.domNode=this._element,this.domNode.className="diff-review monaco-editor-background";const ai=document.createElement("div");ai.className="diff-review-actions",this._actionBar=this._register(new _.o(ai)),this._register((0,T.EH)(si=>{this._actionBar.clear(),this._model.canClose.read(si)&&this._actionBar.push(new u.aU("diffreview.close",(0,P.NC)("label.close","Close"),"close-diff-review "+R.k.asClassName(pe),!0,()=>At(this,null,function*(){return je.close()})),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new a.s$(this._content,{})),(0,D.mc)(this.domNode,this._scrollbar.getDomNode(),ai),this._register((0,L.OF)(()=>{(0,D.mc)(this.domNode)})),this._register((0,F.bg)(this.domNode,{width:this._width,height:this._height})),this._register((0,F.bg)(this._content,{width:this._width,height:this._height})),this._register((0,T.gp)((si,Ei)=>{this._model.currentGroup.read(si),this._render(Ei)})),this._register((0,D.mu)(this.domNode,"keydown",si=>{(si.equals(18)||si.equals(2066)||si.equals(530))&&(si.preventDefault(),this._model.goToNextLine()),(si.equals(16)||si.equals(2064)||si.equals(528))&&(si.preventDefault(),this._model.goToPreviousLine()),(si.equals(9)||si.equals(2057)||si.equals(521)||si.equals(1033))&&(si.preventDefault(),this._model.close()),(si.equals(10)||si.equals(3))&&(si.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render(Se){const je=this._editors.original.getOptions(),Qe=this._editors.modified.getOptions(),Ht=document.createElement("div");Ht.className="diff-review-table",Ht.setAttribute("role","list"),Ht.setAttribute("aria-label",(0,P.NC)("ariaLabel","Accessible Diff Viewer. Use arrow up and down to navigate.")),(0,V.N)(Ht,Qe.get(50)),(0,D.mc)(this._content,Ht);const kt=this._editors.original.getModel(),ni=this._editors.modified.getModel();if(!kt||!ni)return;const ai=kt.getOptions(),si=ni.getOptions(),Ei=Qe.get(66),Pi=this._model.currentGroup.get();for(const Li of(Pi==null?void 0:Pi.lines)||[]){if(!Pi)break;let Ii;if(Li.type===Ze.Header){const E=document.createElement("div");E.className="diff-review-row",E.setAttribute("role","listitem");const W=Pi.range,Q=this._model.currentGroupIndex.get(),ue=this._model.groups.get().length,ve=Fe=>Fe===0?(0,P.NC)("no_lines_changed","no lines changed"):Fe===1?(0,P.NC)("one_line_changed","1 line changed"):(0,P.NC)("more_lines_changed","{0} lines changed",Fe),Oe=ve(W.original.length),We=ve(W.modified.length);E.setAttribute("aria-label",(0,P.NC)({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",Q+1,ue,W.original.startLineNumber,Oe,W.modified.startLineNumber,We));const et=document.createElement("div");et.className="diff-review-cell diff-review-summary",et.appendChild(document.createTextNode(`${Q+1}/${ue}: @@ -${W.original.startLineNumber},${W.original.length} +${W.modified.startLineNumber},${W.modified.length} @@`)),E.appendChild(et),Ii=E}else Ii=this._createRow(Li,Ei,this._width.get(),je,kt,ai,Qe,ni,si);Ht.appendChild(Ii);const Je=(0,T.nK)(E=>this._model.currentElement.read(E)===Li);Se.add((0,T.EH)(E=>{const W=Je.read(E);Ii.tabIndex=W?0:-1,W&&Ii.focus()})),Se.add((0,D.nm)(Ii,"focus",()=>{this._model.goToLine(Li)}))}this._scrollbar.scanDomNode()}_createRow(Se,je,Qe,Ht,kt,ni,ai,si,Ei){const Pi=Ht.get(143),Li=Pi.glyphMarginWidth+Pi.lineNumbersWidth,Ii=ai.get(143),Je=10+Ii.glyphMarginWidth+Ii.lineNumbersWidth;let E="diff-review-row",W="";const Q="diff-review-spacer";let ue=null;switch(Se.type){case Ze.Added:E="diff-review-row line-insert",W=" char-insert",ue=Ee;break;case Ze.Deleted:E="diff-review-row line-delete",W=" char-delete",ue=Ce;break}const ve=document.createElement("div");ve.style.minWidth=Qe+"px",ve.className=E,ve.setAttribute("role","listitem"),ve.ariaLevel="";const Oe=document.createElement("div");Oe.className="diff-review-cell",Oe.style.height=`${je}px`,ve.appendChild(Oe);const We=document.createElement("span");We.style.width=Li+"px",We.style.minWidth=Li+"px",We.className="diff-review-line-number"+W,Se.originalLineNumber!==void 0?We.appendChild(document.createTextNode(String(Se.originalLineNumber))):We.innerText="\xA0",Oe.appendChild(We);const et=document.createElement("span");et.style.width=Je+"px",et.style.minWidth=Je+"px",et.style.paddingRight="10px",et.className="diff-review-line-number"+W,Se.modifiedLineNumber!==void 0?et.appendChild(document.createTextNode(String(Se.modifiedLineNumber))):et.innerText="\xA0",Oe.appendChild(et);const Fe=document.createElement("span");if(Fe.className=Q,ue){const fe=document.createElement("span");fe.className=R.k.asClassName(ue),fe.innerText="\xA0\xA0",Fe.appendChild(fe)}else Fe.innerText="\xA0\xA0";Oe.appendChild(Fe);let A;if(Se.modifiedLineNumber!==void 0){let fe=this._getLineHtml(si,ai,Ei.tabSize,Se.modifiedLineNumber,this._languageService.languageIdCodec);xe._ttPolicy&&(fe=xe._ttPolicy.createHTML(fe)),Oe.insertAdjacentHTML("beforeend",fe),A=si.getLineContent(Se.modifiedLineNumber)}else{let fe=this._getLineHtml(kt,Ht,ni.tabSize,Se.originalLineNumber,this._languageService.languageIdCodec);xe._ttPolicy&&(fe=xe._ttPolicy.createHTML(fe)),Oe.insertAdjacentHTML("beforeend",fe),A=kt.getLineContent(Se.originalLineNumber)}A.length===0&&(A=(0,P.NC)("blankLine","blank"));let q="";switch(Se.type){case Ze.Unchanged:Se.originalLineNumber===Se.modifiedLineNumber?q=(0,P.NC)({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",A,Se.originalLineNumber):q=(0,P.NC)("equalLine","{0} original line {1} modified line {2}",A,Se.originalLineNumber,Se.modifiedLineNumber);break;case Ze.Added:q=(0,P.NC)("insertLine","+ {0} modified line {1}",A,Se.modifiedLineNumber);break;case Ze.Deleted:q=(0,P.NC)("deleteLine","- {0} original line {1}",A,Se.originalLineNumber);break}return ve.setAttribute("aria-label",q),ve}_getLineHtml(Se,je,Qe,Ht,kt){const ni=Se.getLineContent(Ht),ai=je.get(50),si=re.A.createEmpty(ni,kt),Ei=H.wA.isBasicASCII(ni,Se.mightContainNonBasicASCII()),Pi=H.wA.containsRTL(ni,Ei,Se.mightContainRTL());return(0,he.tF)(new he.IJ(ai.isMonospace&&!je.get(33),ai.canUseHalfwidthRightwardsArrow,ni,!1,Ei,Pi,0,si,[],Qe,0,ai.spaceWidth,ai.middotWidth,ai.wsmiddotWidth,je.get(116),je.get(98),je.get(93),je.get(51)!==Y.n0.OFF,null)).html}};gt=ce([_e(5,se.O)],gt);var Re=c(89227),st=c(44728);const Tt=(0,ie.q5)("diff-insert",O.l.add,(0,P.NC)("diffInsertIcon","Line decoration for inserts in the diff editor.")),xt=(0,ie.q5)("diff-remove",O.l.remove,(0,P.NC)("diffRemoveIcon","Line decoration for removals in the diff editor.")),vt=st.qx.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+R.k.asClassName(Tt),marginClassName:"gutter-insert"}),we=st.qx.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+R.k.asClassName(xt),marginClassName:"gutter-delete"}),pt=st.qx.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),Mt=st.qx.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),Ft=st.qx.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),Xt=st.qx.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),li=st.qx.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),Yt=st.qx.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),Ne=st.qx.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),yt=st.qx.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"});class De extends L.JT{constructor(Se,je,Qe,Ht,kt){super(),this._rootElement=Se,this._diffModel=je,this._originalEditorLayoutInfo=Qe,this._modifiedEditorLayoutInfo=Ht,this._editors=kt,this._originalScrollTop=(0,T.rD)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,T.rD)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=(0,T.aq)("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=(0,T.uh)(this,0),this._modifiedViewZonesChangedSignal=(0,T.aq)("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=(0,T.aq)("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=(0,T.Be)(this,(Ii,Je)=>{var E;this._element.replaceChildren();const W=this._diffModel.read(Ii),Q=(E=W==null?void 0:W.diff.read(Ii))===null||E===void 0?void 0:E.movedTexts;if(!Q||Q.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(Ii);const ue=this._originalEditorLayoutInfo.read(Ii),ve=this._modifiedEditorLayoutInfo.read(Ii);if(!ue||!ve){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(Ii),this._originalViewZonesChangedSignal.read(Ii);const Oe=Q.map(Pe=>{function Ye(Mi,Oi){const Xi=Oi.getTopForLineNumber(Mi.startLineNumber,!0),Hn=Oi.getTopForLineNumber(Mi.endLineNumberExclusive,!0);return(Xi+Hn)/2}const dt=Ye(Pe.lineRangeMapping.original,this._editors.original),St=this._originalScrollTop.read(Ii),Bt=Ye(Pe.lineRangeMapping.modified,this._editors.modified),Ci=this._modifiedScrollTop.read(Ii),vi=dt-St,zi=Bt-Ci,Gi=Math.min(dt,Bt),Wi=Math.max(dt,Bt);return{range:new Z.q(Gi,Wi),from:vi,to:zi,fromWithoutScroll:dt,toWithoutScroll:Bt,move:Pe}});Oe.sort((0,N.f_)((0,N.tT)(Pe=>Pe.fromWithoutScroll>Pe.toWithoutScroll,N.nW),(0,N.tT)(Pe=>Pe.fromWithoutScroll>Pe.toWithoutScroll?Pe.fromWithoutScroll:-Pe.toWithoutScroll,N.fv)));const We=di.compute(Oe.map(Pe=>Pe.range)),et=10,Fe=ue.verticalScrollbarWidth,A=(We.getTrackCount()-1)*10+et*2,q=Fe+A+(ve.contentLeft-De.movedCodeBlockPadding);let fe=0;for(const Pe of Oe){const Ye=We.getTrack(fe),dt=Fe+et+Ye*10,St=15,Bt=15,Ci=q,vi=ve.glyphMarginWidth+ve.lineNumbersWidth,zi=18,Gi=document.createElementNS("http://www.w3.org/2000/svg","rect");Gi.classList.add("arrow-rectangle"),Gi.setAttribute("x",`${Ci-vi}`),Gi.setAttribute("y",`${Pe.to-zi/2}`),Gi.setAttribute("width",`${vi}`),Gi.setAttribute("height",`${zi}`),this._element.appendChild(Gi);const Wi=document.createElementNS("http://www.w3.org/2000/svg","g"),Mi=document.createElementNS("http://www.w3.org/2000/svg","path");Mi.setAttribute("d",`M 0 ${Pe.from} L ${dt} ${Pe.from} L ${dt} ${Pe.to} L ${Ci-Bt} ${Pe.to}`),Mi.setAttribute("fill","none"),Wi.appendChild(Mi);const Oi=document.createElementNS("http://www.w3.org/2000/svg","polygon");Oi.classList.add("arrow"),Je.add((0,T.EH)(Xi=>{Mi.classList.toggle("currentMove",Pe.move===W.activeMovedText.read(Xi)),Oi.classList.toggle("currentMove",Pe.move===W.activeMovedText.read(Xi))})),Oi.setAttribute("points",`${Ci-Bt},${Pe.to-St/2} ${Ci},${Pe.to} ${Ci-Bt},${Pe.to+St/2}`),Wi.appendChild(Oi),this._element.appendChild(Wi),fe++}this.width.set(A,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register((0,L.OF)(()=>this._element.remove())),this._register((0,T.EH)(Ii=>{const Je=this._originalEditorLayoutInfo.read(Ii),E=this._modifiedEditorLayoutInfo.read(Ii);!Je||!E||(this._element.style.left=`${Je.width-Je.verticalScrollbarWidth}px`,this._element.style.height=`${Je.height}px`,this._element.style.width=`${Je.verticalScrollbarWidth+Je.contentLeft-De.movedCodeBlockPadding+this.width.read(Ii)}px`)})),this._register((0,T.jx)(this._state));const ni=(0,T.nK)(Ii=>{const Je=this._diffModel.read(Ii),E=Je==null?void 0:Je.diff.read(Ii);return E?E.movedTexts.map(W=>({move:W,original:new F.GD((0,T.Dz)(W.lineRangeMapping.original.startLineNumber-1),18),modified:new F.GD((0,T.Dz)(W.lineRangeMapping.modified.startLineNumber-1),18)})):[]});this._register((0,F.Sv)(this._editors.original,ni.map(Ii=>Ii.map(Je=>Je.original)))),this._register((0,F.Sv)(this._editors.modified,ni.map(Ii=>Ii.map(Je=>Je.modified)))),this._register((0,T.gp)((Ii,Je)=>{const E=ni.read(Ii);for(const W of E)Je.add(new Ve(this._editors.original,W.original,W.move,"original",this._diffModel.get())),Je.add(new Ve(this._editors.modified,W.modified,W.move,"modified",this._diffModel.get()))}));const ai=(0,T.rD)(this._editors.original.onDidChangeCursorPosition,()=>this._editors.original.getPosition()),si=(0,T.rD)(this._editors.modified.onDidChangeCursorPosition,()=>this._editors.modified.getPosition()),Ei=(0,T.aq)("original.onDidFocusEditorWidget",Ii=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>Ii(void 0),0))),Pi=(0,T.aq)("modified.onDidFocusEditorWidget",Ii=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>Ii(void 0),0)));let Li="modified";this._register((0,T.nJ)({createEmptyChangeSummary:()=>{},handleChange:(Ii,Je)=>(Ii.didChange(Ei)&&(Li="original"),Ii.didChange(Pi)&&(Li="modified"),!0)},Ii=>{Ei.read(Ii),Pi.read(Ii);const Je=this._diffModel.read(Ii);if(!Je)return;const E=Je.diff.read(Ii);let W;if(E&&Li==="original"){const Q=ai.read(Ii);Q&&(W=E.movedTexts.find(ue=>ue.lineRangeMapping.original.contains(Q.lineNumber)))}if(E&&Li==="modified"){const Q=si.read(Ii);Q&&(W=E.movedTexts.find(ue=>ue.lineRangeMapping.modified.contains(Q.lineNumber)))}W!==Je.movedTextToCompare.get()&&Je.movedTextToCompare.set(void 0,void 0),Je.setActiveMovedText(W)}))}}De.movedCodeBlockPadding=4;class di{static compute(Se){const je=[],Qe=[];for(const Ht of Se){let kt=je.findIndex(ni=>!ni.intersectsStrict(Ht));kt===-1&&(je.length>=6?kt=(0,X.tQ)(je,(0,N.tT)(ai=>ai.intersectWithRangeLength(Ht),N.fv)):(kt=je.length,je.push(new Z.M))),je[kt].addRange(Ht),Qe.push(kt)}return new di(je.length,Qe)}constructor(Se,je){this._trackCount=Se,this.trackPerLineIdx=je}getTrack(Se){return this.trackPerLineIdx[Se]}getTrackCount(){return this._trackCount}}class Ve extends F.N9{constructor(Se,je,Qe,Ht,kt){const ni=(0,D.h)("div.diff-hidden-lines-widget");super(Se,je,ni.root),this._editor=Se,this._move=Qe,this._kind=Ht,this._diffModel=kt,this._nodes=(0,D.h)("div.diff-moved-code-block",{style:{marginRight:"4px"}},[(0,D.h)("div.text-content@textContent"),(0,D.h)("div.action-bar@actionBar")]),ni.root.appendChild(this._nodes.root);const ai=(0,T.rD)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register((0,F.bg)(this._nodes.root,{paddingRight:ai.map(Ii=>Ii.verticalScrollbarWidth)}));let si;Qe.changes.length>0?si=this._kind==="original"?(0,P.NC)("codeMovedToWithChanges","Code moved with changes to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,P.NC)("codeMovedFromWithChanges","Code moved with changes from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1):si=this._kind==="original"?(0,P.NC)("codeMovedTo","Code moved to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,P.NC)("codeMovedFrom","Code moved from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const Ei=this._register(new _.o(this._nodes.actionBar,{highlightToggledItems:!0})),Pi=new u.aU("",si,"",!1);Ei.push(Pi,{icon:!1,label:!0});const Li=new u.aU("","Compare",R.k.asClassName(O.l.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===Qe?void 0:this._move,void 0)});this._register((0,T.EH)(Ii=>{const Je=this._diffModel.movedTextToCompare.read(Ii)===Qe;Li.checked=Je})),Ei.push(Li,{icon:!1,label:!0})}}var $i=c(74222);class wn extends L.JT{constructor(Se,je,Qe,Ht){super(),this._editors=Se,this._diffModel=je,this._options=Qe,this._decorations=(0,T.nK)(this,kt=>{var ni;const ai=(ni=this._diffModel.read(kt))===null||ni===void 0?void 0:ni.diff.read(kt);if(!ai)return null;const si=this._diffModel.read(kt).movedTextToCompare.read(kt),Ei=this._options.renderIndicators.read(kt),Pi=this._options.showEmptyDecorations.read(kt),Li=[],Ii=[];if(!si)for(const E of ai.mappings)if(E.lineRangeMapping.original.isEmpty||Li.push({range:E.lineRangeMapping.original.toInclusiveRange(),options:Ei?we:Mt}),E.lineRangeMapping.modified.isEmpty||Ii.push({range:E.lineRangeMapping.modified.toInclusiveRange(),options:Ei?vt:pt}),E.lineRangeMapping.modified.isEmpty||E.lineRangeMapping.original.isEmpty)E.lineRangeMapping.original.isEmpty||Li.push({range:E.lineRangeMapping.original.toInclusiveRange(),options:Ne}),E.lineRangeMapping.modified.isEmpty||Ii.push({range:E.lineRangeMapping.modified.toInclusiveRange(),options:Xt});else for(const W of E.lineRangeMapping.innerChanges||[])E.lineRangeMapping.original.contains(W.originalRange.startLineNumber)&&Li.push({range:W.originalRange,options:W.originalRange.isEmpty()&&Pi?yt:Yt}),E.lineRangeMapping.modified.contains(W.modifiedRange.startLineNumber)&&Ii.push({range:W.modifiedRange,options:W.modifiedRange.isEmpty()&&Pi?li:Ft});if(si)for(const E of si.changes){const W=E.original.toInclusiveRange();W&&Li.push({range:W,options:Ei?we:Mt});const Q=E.modified.toInclusiveRange();Q&&Ii.push({range:Q,options:Ei?vt:pt});for(const ue of E.innerChanges||[])Li.push({range:ue.originalRange,options:Yt}),Ii.push({range:ue.modifiedRange,options:Ft})}const Je=this._diffModel.read(kt).activeMovedText.read(kt);for(const E of ai.movedTexts)Li.push({range:E.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(E===Je?" currentMove":""),blockPadding:[De.movedCodeBlockPadding,0,De.movedCodeBlockPadding,De.movedCodeBlockPadding]}}),Ii.push({range:E.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(E===Je?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:Li,modifiedDecorations:Ii}}),this._register(new Pt(Se,je,Qe,Ht)),this._register((0,F.RP)(this._editors.original,this._decorations.map(kt=>(kt==null?void 0:kt.originalDecorations)||[]))),this._register((0,F.RP)(this._editors.modified,this._decorations.map(kt=>(kt==null?void 0:kt.modifiedDecorations)||[])))}}class Pt extends L.JT{constructor(Se,je,Qe,Ht){super(),this._editors=Se,this._diffModel=je,this._options=Qe,this._widget=Ht;const kt=[],ni=(0,T.nK)(this,ai=>{const si=this._diffModel.read(ai),Ei=si==null?void 0:si.diff.read(ai);if(!Ei)return kt;const Pi=this._editors.modifiedSelections.read(ai);if(Pi.every(E=>E.isEmpty()))return kt;const Li=new G.i(Pi.map(E=>G.z.fromRangeInclusive(E))),Je=Ei.mappings.filter(E=>E.lineRangeMapping.innerChanges&&Li.intersects(E.lineRangeMapping.modified)).map(E=>({mapping:E,rangeMappings:E.lineRangeMapping.innerChanges.filter(W=>Pi.some(Q=>$.e.areIntersecting(W.modifiedRange,Q)))}));return Je.length===0||Je.every(E=>E.rangeMappings.length===0)?kt:Je});this._register((0,T.gp)((ai,si)=>{const Ei=this._diffModel.read(ai),Pi=Ei==null?void 0:Ei.diff.read(ai);if(!Ei||!Pi||this._diffModel.read(ai).movedTextToCompare.read(ai)||!this._options.shouldRenderRevertArrows.read(ai))return;const Ii=[],Je=ni.read(ai),E=new Set(Je.map(W=>W.mapping));if(Je.length>0){const W=this._editors.modifiedSelections.read(ai),Q=new le(W[W.length-1].positionLineNumber,this._widget,Je.flatMap(ue=>ue.rangeMappings),!0);this._editors.modified.addGlyphMarginWidget(Q),Ii.push(Q)}for(const W of Pi.mappings)if(!E.has(W)&&!W.lineRangeMapping.modified.isEmpty&&W.lineRangeMapping.innerChanges){const Q=new le(W.lineRangeMapping.modified.startLineNumber,this._widget,W.lineRangeMapping.innerChanges,!1);this._editors.modified.addGlyphMarginWidget(Q),Ii.push(Q)}si.add((0,L.OF)(()=>{for(const W of Ii)this._editors.modified.removeGlyphMarginWidget(W)}))}))}}class le{getId(){return this._id}constructor(Se,je,Qe,Ht){this._lineNumber=Se,this._widget=je,this._diffs=Qe,this._selection=Ht,this._id=`revertButton${le.counter++}`,this._domNode=(0,D.h)("div.revertButton",{title:this._selection?(0,P.NC)("revertSelectedChanges","Revert Selected Changes"):(0,P.NC)("revertChange","Revert Change")},[(0,Re.h)(O.l.arrowRight)]).root,this._domNode.onmousedown=kt=>{kt.button!==2&&(kt.stopPropagation(),kt.preventDefault())},this._domNode.onmouseup=kt=>{kt.stopPropagation(),kt.preventDefault()},this._domNode.onclick=kt=>{this._widget.revertRangeMappings(this._diffs),kt.stopPropagation(),kt.preventDefault()}}getDomNode(){return this._domNode}getPosition(){return{lane:$i.U.Right,range:{startColumn:1,startLineNumber:this._lineNumber,endColumn:1,endLineNumber:this._lineNumber},zIndex:10001}}}le.counter=0;var mt=c(13491);class jt extends L.JT{constructor(Se,je,Qe,Ht){super(),this._options=Se,this._domNode=je,this._dimensions=Qe,this._sashes=Ht,this._sashRatio=(0,T.uh)(this,void 0),this.sashLeft=(0,T.nK)(this,kt=>{var ni;const ai=(ni=this._sashRatio.read(kt))!==null&&ni!==void 0?ni:this._options.splitViewDefaultRatio.read(kt);return this._computeSashLeft(ai,kt)}),this._sash=this._register(new mt.g(this._domNode,{getVerticalSashTop:kt=>0,getVerticalSashLeft:kt=>this.sashLeft.get(),getVerticalSashHeight:kt=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(kt=>{const ni=this._dimensions.width.get(),ai=this._computeSashLeft((this._startSashPosition+(kt.currentX-kt.startX))/ni,void 0);this._sashRatio.set(ai/ni,void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._sashRatio.set(void 0,void 0))),this._register((0,T.EH)(kt=>{const ni=this._sashes.read(kt);ni&&(this._sash.orthogonalEndSash=ni.bottom)})),this._register((0,T.EH)(kt=>{const ni=this._options.enableSplitViewResizing.read(kt);this._sash.state=ni?3:0,this.sashLeft.read(kt),this._dimensions.height.read(kt),this._sash.layout()}))}_computeSashLeft(Se,je){const Qe=this._dimensions.width.read(je),Ht=Math.floor(this._options.splitViewDefaultRatio.read(je)*Qe),kt=this._options.enableSplitViewResizing.read(je)?Math.floor(Se*Qe):Ht,ni=100;return Qe<=ni*2?Ht:kt<ni?ni:kt>Qe-ni?Qe-ni:kt}}var bi=c(61126),Ot=c(22968),Ki=c(60902),xi=c(54362);class dn{remove(){var Se;(Se=this.parent)===null||Se===void 0||Se.children.delete(this.id)}static findId(Se,je){let Qe;typeof Se=="string"?Qe=`${je.id}/${Se}`:(Qe=`${je.id}/${Se.name}`,je.children.get(Qe)!==void 0&&(Qe=`${je.id}/${Se.name}_${Se.range.startLineNumber}_${Se.range.startColumn}`));let Ht=Qe;for(let kt=0;je.children.get(Ht)!==void 0;kt++)Ht=`${Qe}_${kt}`;return Ht}static empty(Se){return Se.children.size===0}}class zt extends dn{constructor(Se,je,Qe){super(),this.id=Se,this.parent=je,this.symbol=Qe,this.children=new Map}}class Qi extends dn{constructor(Se,je,Qe,Ht){super(),this.id=Se,this.parent=je,this.label=Qe,this.order=Ht,this.children=new Map}}class ei extends dn{static create(Se,je,Qe){const Ht=new Ki.A(Qe),kt=new ei(je.uri),ni=Se.ordered(je),ai=ni.map((Ei,Pi)=>{var Li;const Ii=dn.findId(`provider_${Pi}`,kt),Je=new Qi(Ii,kt,(Li=Ei.displayName)!==null&&Li!==void 0?Li:"Unknown Outline Provider",Pi);return Promise.resolve(Ei.provideDocumentSymbols(je,Ht.token)).then(E=>{for(const W of E||[])ei._makeOutlineElement(W,Je);return Je},E=>((0,v.Cp)(E),Je)).then(E=>{dn.empty(E)?E.remove():kt._groups.set(Ii,E)})}),si=Se.onDidChange(()=>{const Ei=Se.ordered(je);(0,N.fS)(Ei,ni)||Ht.cancel()});return Promise.all(ai).then(()=>Ht.token.isCancellationRequested&&!Qe.isCancellationRequested?ei.create(Se,je,Qe):kt._compact()).finally(()=>{Ht.dispose(),si.dispose()})}static _makeOutlineElement(Se,je){const Qe=dn.findId(Se,je),Ht=new zt(Qe,je,Se);if(Se.children)for(const kt of Se.children)ei._makeOutlineElement(kt,Ht);je.children.set(Ht.id,Ht)}constructor(Se){super(),this.uri=Se,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let Se=0;for(const[je,Qe]of this._groups)Qe.children.size===0?this._groups.delete(je):Se+=1;if(Se!==1)this.children=this._groups;else{const je=xi.$.first(this._groups.values());for(const[,Qe]of je.children)Qe.parent=this,this.children.set(Qe.id,Qe)}return this}getTopLevelSymbols(){const Se=[];for(const je of this.children.values())je instanceof zt?Se.push(je.symbol):Se.push(...xi.$.map(je.children.values(),Qe=>Qe.symbol));return Se.sort((je,Qe)=>$.e.compareRangesUsingStarts(je.range,Qe.range))}asListOfDocumentSymbols(){const Se=this.getTopLevelSymbols(),je=[];return ei._flattenDocumentSymbols(je,Se,""),je.sort((Qe,Ht)=>ne.L.compare($.e.getStartPosition(Qe.range),$.e.getStartPosition(Ht.range))||ne.L.compare($.e.getEndPosition(Ht.range),$.e.getEndPosition(Qe.range)))}static _flattenDocumentSymbols(Se,je,Qe){for(const Ht of je)Se.push({kind:Ht.kind,tags:Ht.tags,name:Ht.name,detail:Ht.detail,containerName:Ht.containerName||Qe,range:Ht.range,selectionRange:Ht.selectionRange,children:void 0}),Ht.children&&ei._flattenDocumentSymbols(Se,Ht.children,Ht.name)}}var Be=c(26627),Nt=c(36276),Ri=function(ri,Se,je,Qe){var Ht=arguments.length,kt=Ht<3?Se:Qe===null?Qe=Object.getOwnPropertyDescriptor(Se,je):Qe,ni;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")kt=Reflect.decorate(ri,Se,je,Qe);else for(var ai=ri.length-1;ai>=0;ai--)(ni=ri[ai])&&(kt=(Ht<3?ni(kt):Ht>3?ni(Se,je,kt):ni(Se,je))||kt);return Ht>3&&kt&&Object.defineProperty(Se,je,kt),kt},Fi=function(ri,Se){return function(je,Qe){Se(je,Qe,ri)}};let hi=class extends L.JT{get isUpdatingHiddenAreas(){return this._isUpdatingHiddenAreas}constructor(Se,je,Qe,Ht){super(),this._editors=Se,this._diffModel=je,this._options=Qe,this._languageFeaturesService=Ht,this._modifiedOutlineSource=(0,M.kA)(this,si=>{const Ei=this._editors.modifiedModel.read(si);return Ei?new bn(this._languageFeaturesService,Ei):void 0}),this._isUpdatingHiddenAreas=!1,this._register(this._editors.original.onDidChangeCursorPosition(si=>{if(si.reason===3){const Ei=this._diffModel.get();(0,T.PS)(Pi=>{for(const Li of this._editors.original.getSelections()||[])Ei==null||Ei.ensureOriginalLineIsVisible(Li.getStartPosition().lineNumber,Pi),Ei==null||Ei.ensureOriginalLineIsVisible(Li.getEndPosition().lineNumber,Pi)})}})),this._register(this._editors.modified.onDidChangeCursorPosition(si=>{if(si.reason===3){const Ei=this._diffModel.get();(0,T.PS)(Pi=>{for(const Li of this._editors.modified.getSelections()||[])Ei==null||Ei.ensureModifiedLineIsVisible(Li.getStartPosition().lineNumber,Pi),Ei==null||Ei.ensureModifiedLineIsVisible(Li.getEndPosition().lineNumber,Pi)})}}));const kt=this._diffModel.map((si,Ei)=>{var Pi,Li;return((Pi=si==null?void 0:si.diff.read(Ei))===null||Pi===void 0?void 0:Pi.mappings.length)===0?[]:(Li=si==null?void 0:si.unchangedRegions.read(Ei))!==null&&Li!==void 0?Li:[]});this.viewZones=(0,T.Be)(this,(si,Ei)=>{const Pi=this._modifiedOutlineSource.read(si);if(!Pi)return{origViewZones:[],modViewZones:[]};const Li=[],Ii=[],Je=this._options.renderSideBySide.read(si),E=kt.read(si);for(const W of E)if(!W.shouldHideControls(si)){{const Q=(0,T.nK)(this,ve=>W.getHiddenOriginalRange(ve).startLineNumber-1),ue=new F.GD(Q,24);Li.push(ue),Ei.add(new En(this._editors.original,ue,W,W.originalUnchangedRange,!Je,Pi,ve=>this._diffModel.get().ensureModifiedLineIsVisible(ve,void 0),this._options))}{const Q=(0,T.nK)(this,ve=>W.getHiddenModifiedRange(ve).startLineNumber-1),ue=new F.GD(Q,24);Ii.push(ue),Ei.add(new En(this._editors.modified,ue,W,W.modifiedUnchangedRange,!1,Pi,ve=>this._diffModel.get().ensureModifiedLineIsVisible(ve,void 0),this._options))}}return{origViewZones:Li,modViewZones:Ii}});const ni={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},ai={description:"Fold Unchanged",glyphMarginHoverMessage:new bi.W5(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,P.NC)("foldUnchanged","Fold Unchanged Region")),glyphMarginClassName:"fold-unchanged "+R.k.asClassName(O.l.fold),zIndex:10001};this._register((0,F.RP)(this._editors.original,(0,T.nK)(this,si=>{const Ei=kt.read(si),Pi=Ei.map(Li=>({range:Li.originalUnchangedRange.toInclusiveRange(),options:ni}));for(const Li of Ei)Li.shouldHideControls(si)&&Pi.push({range:$.e.fromPositions(new ne.L(Li.originalLineNumber,1)),options:ai});return Pi}))),this._register((0,F.RP)(this._editors.modified,(0,T.nK)(this,si=>{const Ei=kt.read(si),Pi=Ei.map(Li=>({range:Li.modifiedUnchangedRange.toInclusiveRange(),options:ni}));for(const Li of Ei)Li.shouldHideControls(si)&&Pi.push({range:G.z.ofLength(Li.modifiedLineNumber,1).toInclusiveRange(),options:ai});return Pi}))),this._register((0,T.EH)(si=>{const Ei=kt.read(si);this._isUpdatingHiddenAreas=!0;try{this._editors.original.setHiddenAreas(Ei.map(Pi=>Pi.getHiddenOriginalRange(si).toInclusiveRange()).filter(Ot.$K)),this._editors.modified.setHiddenAreas(Ei.map(Pi=>Pi.getHiddenModifiedRange(si).toInclusiveRange()).filter(Ot.$K))}finally{this._isUpdatingHiddenAreas=!1}})),this._register(this._editors.modified.onMouseUp(si=>{var Ei;if(!si.event.rightButton&&si.target.position&&(!((Ei=si.target.element)===null||Ei===void 0)&&Ei.className.includes("fold-unchanged"))){const Pi=si.target.position.lineNumber,Li=this._diffModel.get();if(!Li)return;const Ii=Li.unchangedRegions.get().find(Je=>Je.modifiedUnchangedRange.includes(Pi));if(!Ii)return;Ii.collapseAll(void 0),si.event.stopPropagation(),si.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(si=>{var Ei;if(!si.event.rightButton&&si.target.position&&(!((Ei=si.target.element)===null||Ei===void 0)&&Ei.className.includes("fold-unchanged"))){const Pi=si.target.position.lineNumber,Li=this._diffModel.get();if(!Li)return;const Ii=Li.unchangedRegions.get().find(Je=>Je.originalUnchangedRange.includes(Pi));if(!Ii)return;Ii.collapseAll(void 0),si.event.stopPropagation(),si.event.preventDefault()}}))}};hi=Ri([Fi(3,Nt.p)],hi);class En extends F.N9{constructor(Se,je,Qe,Ht,kt,ni,ai,si){const Ei=(0,D.h)("div.diff-hidden-lines-widget");super(Se,je,Ei.root),this._editor=Se,this._unchangedRegion=Qe,this._unchangedRegionRange=Ht,this._hide=kt,this._modifiedOutlineSource=ni,this._revealModifiedHiddenLine=ai,this._options=si,this._nodes=(0,D.h)("div.diff-hidden-lines",[(0,D.h)("div.top@top",{title:(0,P.NC)("diff.hiddenLines.top","Click or drag to show more above")}),(0,D.h)("div.center@content",{style:{display:"flex"}},[(0,D.h)("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[(0,D.$)("a",{title:(0,P.NC)("showUnchangedRegion","Show Unchanged Region"),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...(0,Re.T)("$(unfold)"))]),(0,D.h)("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),(0,D.h)("div.bottom@bottom",{title:(0,P.NC)("diff.bottom","Click or drag to show more below"),role:"button"})]),Ei.root.appendChild(this._nodes.root);const Pi=(0,T.rD)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._hide?(0,D.mc)(this._nodes.first):this._register((0,F.bg)(this._nodes.first,{width:Pi.map(Ii=>Ii.contentLeft)})),this._register((0,T.EH)(Ii=>{const Je=this._unchangedRegion.visibleLineCountTop.read(Ii)+this._unchangedRegion.visibleLineCountBottom.read(Ii)===this._unchangedRegion.lineCount;this._nodes.bottom.classList.toggle("canMoveTop",!Je),this._nodes.bottom.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(Ii)>0),this._nodes.top.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(Ii)>0),this._nodes.top.classList.toggle("canMoveBottom",!Je);const E=this._unchangedRegion.isDragged.read(Ii),W=this._editor.getDomNode();W&&(W.classList.toggle("draggingUnchangedRegion",!!E),E==="top"?(W.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(Ii)>0),W.classList.toggle("canMoveBottom",!Je)):E==="bottom"?(W.classList.toggle("canMoveTop",!Je),W.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(Ii)>0)):(W.classList.toggle("canMoveTop",!1),W.classList.toggle("canMoveBottom",!1)))}));const Li=this._editor;this._register((0,D.nm)(this._nodes.top,"mousedown",Ii=>{if(Ii.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),Ii.preventDefault();const Je=Ii.clientY;let E=!1;const W=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set("top",void 0);const Q=(0,D.Jj)(this._nodes.top),ue=(0,D.nm)(Q,"mousemove",Oe=>{const et=Oe.clientY-Je;E=E||Math.abs(et)>2;const Fe=Math.round(et/Li.getOption(66)),A=Math.max(0,Math.min(W+Fe,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(A,void 0)}),ve=(0,D.nm)(Q,"mouseup",Oe=>{E||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(void 0,void 0),ue.dispose(),ve.dispose()})})),this._register((0,D.nm)(this._nodes.bottom,"mousedown",Ii=>{if(Ii.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),Ii.preventDefault();const Je=Ii.clientY;let E=!1;const W=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set("bottom",void 0);const Q=(0,D.Jj)(this._nodes.bottom),ue=(0,D.nm)(Q,"mousemove",Oe=>{const et=Oe.clientY-Je;E=E||Math.abs(et)>2;const Fe=Math.round(et/Li.getOption(66)),A=Math.max(0,Math.min(W-Fe,this._unchangedRegion.getMaxVisibleLineCountBottom())),q=Li.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(A,void 0);const fe=Li.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);Li.setScrollTop(Li.getScrollTop()+(fe-q))}),ve=(0,D.nm)(Q,"mouseup",Oe=>{if(this._unchangedRegion.isDragged.set(void 0,void 0),!E){const We=Li.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const et=Li.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);Li.setScrollTop(Li.getScrollTop()+(et-We))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),ue.dispose(),ve.dispose()})})),this._register((0,T.EH)(Ii=>{const Je=[];if(!this._hide){const E=Qe.getHiddenModifiedRange(Ii).length,W=(0,P.NC)("hiddenLines","{0} hidden lines",E),Q=(0,D.$)("span",{title:(0,P.NC)("diff.hiddenLines.expandAll","Double click to unfold")},W);Q.addEventListener("dblclick",Oe=>{Oe.button===0&&(Oe.preventDefault(),this._unchangedRegion.showAll(void 0))}),Je.push(Q);const ue=this._unchangedRegion.getHiddenModifiedRange(Ii),ve=this._modifiedOutlineSource.getBreadcrumbItems(ue,Ii);if(ve.length>0){Je.push((0,D.$)("span",void 0,"\xA0\xA0|\xA0\xA0"));for(let Oe=0;Oe<ve.length;Oe++){const We=ve[Oe],et=Be.uZ.toIcon(We.kind),Fe=(0,D.h)("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[(0,Re.h)(et),"\xA0",We.name,...Oe===ve.length-1?[]:[(0,Re.h)(O.l.chevronRight)]]).root;Je.push(Fe),Fe.onclick=()=>{this._revealModifiedHiddenLine(We.startLineNumber)}}}}(0,D.mc)(this._nodes.others,...Je)}))}}let bn=class extends L.JT{constructor(Se,je){super(),this._languageFeaturesService=Se,this._textModel=je,this._currentModel=(0,T.uh)(this,void 0);const Qe=(0,T.aq)("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),Ht=(0,T.aq)("_textModel.onDidChangeContent",k.ju.debounce(kt=>this._textModel.onDidChangeContent(kt),()=>{},100));this._register((0,T.gp)((kt,ni)=>At(this,null,function*(){Qe.read(kt),Ht.read(kt);const ai=ni.add(new F.t2),si=yield ei.create(this._languageFeaturesService.documentSymbolProvider,this._textModel,ai.token);ni.isDisposed||this._currentModel.set(si,void 0)})))}getBreadcrumbItems(Se,je){const Qe=this._currentModel.read(je);if(!Qe)return[];const Ht=Qe.asListOfDocumentSymbols().filter(kt=>Se.contains(kt.range.startLineNumber)&&!Se.contains(kt.range.endLineNumber));return Ht.sort((0,N.BV)((0,N.tT)(kt=>kt.range.endLineNumber-kt.range.startLineNumber,N.fv))),Ht.map(kt=>({name:kt.name,kind:kt.kind,startLineNumber:kt.range.startLineNumber}))}};bn=Ri([Fi(0,Nt.p)],bn);var gn=c(96925),Bn=c(74987),kn=c(22980),en=c(53174),Jn=function(ri,Se,je,Qe){var Ht=arguments.length,kt=Ht<3?Se:Qe===null?Qe=Object.getOwnPropertyDescriptor(Se,je):Qe,ni;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")kt=Reflect.decorate(ri,Se,je,Qe);else for(var ai=ri.length-1;ai>=0;ai--)(ni=ri[ai])&&(kt=(Ht<3?ni(kt):Ht>3?ni(Se,je,kt):ni(Se,je))||kt);return Ht>3&&kt&&Object.defineProperty(Se,je,kt),kt},ys=function(ri,Se){return function(je,Qe){Se(je,Qe,ri)}},ds;let cs=ds=class{constructor(Se,je,Qe){this.editorWorkerService=je,this.telemetryService=Qe,this.onDidChangeEventEmitter=new k.Q5,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(Se)}dispose(){var Se;(Se=this.diffAlgorithmOnDidChangeSubscription)===null||Se===void 0||Se.dispose()}computeDiff(Se,je,Qe,Ht){return At(this,null,function*(){var kt,ni;if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(Se,je,Qe,Ht);if(Se.getLineCount()===1&&Se.getLineMaxColumn(1)===1)return je.getLineCount()===1&&je.getLineMaxColumn(1)===1?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new J.gB(new G.z(1,2),new G.z(1,je.getLineCount()+1),[new J.iy(Se.getFullModelRange(),je.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const ai=JSON.stringify([Se.uri.toString(),je.uri.toString()]),si=JSON.stringify([Se.id,je.id,Se.getAlternativeVersionId(),je.getAlternativeVersionId(),JSON.stringify(Qe)]),Ei=ds.diffCache.get(ai);if(Ei&&Ei.context===si)return Ei.result;const Pi=Bn.G.create(),Li=yield this.editorWorkerService.computeDiff(Se.uri,je.uri,Qe,this.diffAlgorithm),Ii=Pi.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:Ii,timedOut:(kt=Li==null?void 0:Li.quitEarly)!==null&&kt!==void 0?kt:!0,detectedMoves:Qe.computeMoves?(ni=Li==null?void 0:Li.moves.length)!==null&&ni!==void 0?ni:0:-1}),Ht.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!Li)throw new Error("no diff result available");return ds.diffCache.size>10&&ds.diffCache.delete(ds.diffCache.keys().next().value),ds.diffCache.set(ai,{result:Li,context:si}),Li})}setOptions(Se){var je;let Qe=!1;Se.diffAlgorithm&&this.diffAlgorithm!==Se.diffAlgorithm&&((je=this.diffAlgorithmOnDidChangeSubscription)===null||je===void 0||je.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=Se.diffAlgorithm,typeof Se.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=Se.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),Qe=!0),Qe&&this.onDidChangeEventEmitter.fire()}};cs.diffCache=new Map,cs=ds=Jn([ys(1,kn.p),ys(2,en.b)],cs);var ps=c(89320),In=function(ri,Se,je,Qe){var Ht=arguments.length,kt=Ht<3?Se:Qe===null?Qe=Object.getOwnPropertyDescriptor(Se,je):Qe,ni;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")kt=Reflect.decorate(ri,Se,je,Qe);else for(var ai=ri.length-1;ai>=0;ai--)(ni=ri[ai])&&(kt=(Ht<3?ni(kt):Ht>3?ni(Se,je,kt):ni(Se,je))||kt);return Ht>3&&kt&&Object.defineProperty(Se,je,kt),kt},os=function(ri,Se){return function(je,Qe){Se(je,Qe,ri)}};const ui=(0,K.yh)("diffProviderFactoryService");let ke=class{constructor(Se){this.instantiationService=Se}createDiffProvider(Se){return this.instantiationService.createInstance(cs,Se)}};ke=In([os(0,K.TG)],ke),(0,ps.z)(ui,ke,1);var Ke=c(15923),Ue=c(90711),bt=c(88895),it=c(33753),fi=function(ri,Se,je,Qe){var Ht=arguments.length,kt=Ht<3?Se:Qe===null?Qe=Object.getOwnPropertyDescriptor(Se,je):Qe,ni;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")kt=Reflect.decorate(ri,Se,je,Qe);else for(var ai=ri.length-1;ai>=0;ai--)(ni=ri[ai])&&(kt=(Ht<3?ni(kt):Ht>3?ni(Se,je,kt):ni(Se,je))||kt);return Ht>3&&kt&&Object.defineProperty(Se,je,kt),kt},_i=function(ri,Se){return function(je,Qe){Se(je,Qe,ri)}};let Te=class extends L.JT{setActiveMovedText(Se){this._activeMovedText.set(Se,void 0)}constructor(Se,je,Qe){super(),this.model=Se,this._options=je,this._diffProviderFactoryService=Qe,this._isDiffUpToDate=(0,T.uh)(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=(0,T.uh)(this,void 0),this.diff=this._diff,this._unchangedRegions=(0,T.uh)(this,{regions:[],originalDecorationIds:[],modifiedDecorationIds:[]}),this.unchangedRegions=(0,T.nK)(this,ai=>this._options.hideUnchangedRegions.read(ai)?this._unchangedRegions.read(ai).regions:((0,T.PS)(si=>{for(const Ei of this._unchangedRegions.get().regions)Ei.collapseAll(si)}),[])),this.movedTextToCompare=(0,T.uh)(this,void 0),this._activeMovedText=(0,T.uh)(this,void 0),this._hoveredMovedText=(0,T.uh)(this,void 0),this.activeMovedText=(0,T.nK)(this,ai=>{var si,Ei;return(Ei=(si=this.movedTextToCompare.read(ai))!==null&&si!==void 0?si:this._hoveredMovedText.read(ai))!==null&&Ei!==void 0?Ei:this._activeMovedText.read(ai)}),this._cancellationTokenSource=new Ki.A,this._diffProvider=(0,T.nK)(this,ai=>{const si=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:this._options.diffAlgorithm.read(ai)}),Ei=(0,T.aq)("onDidChange",si.onDidChange);return{diffProvider:si,onChangeSignal:Ei}}),this._register((0,L.OF)(()=>this._cancellationTokenSource.cancel()));const Ht=(0,T.GN)("contentChangedSignal"),kt=this._register(new gn.pY(()=>Ht.trigger(void 0),200)),ni=(ai,si,Ei)=>{const Pi=ji.fromDiffs(ai.changes,Se.original.getLineCount(),Se.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(Ei),this._options.hideUnchangedRegionsContextLineCount.read(Ei)),Li=this._unchangedRegions.get(),Ii=Li.originalDecorationIds.map(Q=>Se.original.getDecorationRange(Q)).map(Q=>Q?G.z.fromRange(Q):void 0),Je=Li.modifiedDecorationIds.map(Q=>Se.modified.getDecorationRange(Q)).map(Q=>Q?G.z.fromRange(Q):void 0),E=Se.original.deltaDecorations(Li.originalDecorationIds,Pi.map(Q=>({range:Q.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),W=Se.modified.deltaDecorations(Li.modifiedDecorationIds,Pi.map(Q=>({range:Q.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));for(const Q of Pi)for(let ue=0;ue<Li.regions.length;ue++)if(Ii[ue]&&Q.originalUnchangedRange.intersectsStrict(Ii[ue])&&Je[ue]&&Q.modifiedUnchangedRange.intersectsStrict(Je[ue])){Q.setHiddenModifiedRange(Li.regions[ue].getHiddenModifiedRange(void 0),si);break}this._unchangedRegions.set({regions:Pi,originalDecorationIds:E,modifiedDecorationIds:W},si)};this._register(Se.modified.onDidChangeContent(ai=>{if(this._diff.get()){const Ei=Ue.Q.fromModelContentChanges(ai.changes),Pi=(this._lastDiff,Se.original,Se.modified,void 0);Pi&&(this._lastDiff=Pi,(0,T.PS)(Li=>{this._diff.set(Vt.fromDiffResult(this._lastDiff),Li),ni(Pi,Li);const Ii=this.movedTextToCompare.get();this.movedTextToCompare.set(Ii?this._lastDiff.moves.find(Je=>Je.lineRangeMapping.modified.intersect(Ii.lineRangeMapping.modified)):void 0,Li)}))}this._isDiffUpToDate.set(!1,void 0),kt.schedule()})),this._register(Se.original.onDidChangeContent(ai=>{if(this._diff.get()){const Ei=Ue.Q.fromModelContentChanges(ai.changes),Pi=(this._lastDiff,Se.original,Se.modified,void 0);Pi&&(this._lastDiff=Pi,(0,T.PS)(Li=>{this._diff.set(Vt.fromDiffResult(this._lastDiff),Li),ni(Pi,Li);const Ii=this.movedTextToCompare.get();this.movedTextToCompare.set(Ii?this._lastDiff.moves.find(Je=>Je.lineRangeMapping.modified.intersect(Ii.lineRangeMapping.modified)):void 0,Li)}))}this._isDiffUpToDate.set(!1,void 0),kt.schedule()})),this._register((0,T.gp)((ai,si)=>At(this,null,function*(){var Ei,Pi;this._options.hideUnchangedRegionsMinimumLineCount.read(ai),this._options.hideUnchangedRegionsContextLineCount.read(ai),kt.cancel(),Ht.read(ai);const Li=this._diffProvider.read(ai);Li.onChangeSignal.read(ai),(0,F.NW)(Ke.DW,ai),(0,F.NW)(it.xG,ai),this._isDiffUpToDate.set(!1,void 0);let Ii=[];si.add(Se.original.onDidChangeContent(W=>{const Q=Ue.Q.fromModelContentChanges(W.changes);Ii=(0,bt.o)(Ii,Q)}));let Je=[];si.add(Se.modified.onDidChangeContent(W=>{const Q=Ue.Q.fromModelContentChanges(W.changes);Je=(0,bt.o)(Je,Q)}));let E=yield Li.diffProvider.computeDiff(Se.original,Se.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(ai),maxComputationTimeMs:this._options.maxComputationTimeMs.read(ai),computeMoves:this._options.showMoves.read(ai)},this._cancellationTokenSource.token);this._cancellationTokenSource.token.isCancellationRequested||(E=tt(E,Se.original,Se.modified),E=(Ei=(Se.original,Se.modified,void 0))!==null&&Ei!==void 0?Ei:E,E=(Pi=(Se.original,Se.modified,void 0))!==null&&Pi!==void 0?Pi:E,(0,T.PS)(W=>{ni(E,W),this._lastDiff=E;const Q=Vt.fromDiffResult(E);this._diff.set(Q,W),this._isDiffUpToDate.set(!0,W);const ue=this.movedTextToCompare.get();this.movedTextToCompare.set(ue?this._lastDiff.moves.find(ve=>ve.lineRangeMapping.modified.intersect(ue.lineRangeMapping.modified)):void 0,W)}))})))}ensureModifiedLineIsVisible(Se,je){var Qe;if(((Qe=this.diff.get())===null||Qe===void 0?void 0:Qe.mappings.length)===0)return;const Ht=this._unchangedRegions.get().regions;for(const kt of Ht)if(kt.getHiddenModifiedRange(void 0).contains(Se)){kt.showModifiedLine(Se,je);return}}ensureOriginalLineIsVisible(Se,je){var Qe;if(((Qe=this.diff.get())===null||Qe===void 0?void 0:Qe.mappings.length)===0)return;const Ht=this._unchangedRegions.get().regions;for(const kt of Ht)if(kt.getHiddenOriginalRange(void 0).contains(Se)){kt.showOriginalLine(Se,je);return}}waitForDiff(){return At(this,null,function*(){yield(0,T.F_)(this.isDiffUpToDate,Se=>Se)})}serializeState(){return{collapsedRegions:this._unchangedRegions.get().regions.map(je=>({range:je.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState(Se){const je=Se.collapsedRegions.map(Ht=>G.z.deserialize(Ht.range)),Qe=this._unchangedRegions.get();(0,T.PS)(Ht=>{for(const kt of Qe.regions)for(const ni of je)if(kt.modifiedUnchangedRange.intersect(ni)){kt.setHiddenModifiedRange(ni,Ht);break}})}};Te=fi([_i(2,ui)],Te);function tt(ri,Se,je){return{changes:ri.changes.map(Qe=>new J.gB(Qe.original,Qe.modified,Qe.innerChanges?Qe.innerChanges.map(Ht=>Wt(Ht,Se,je)):void 0)),moves:ri.moves,identical:ri.identical,quitEarly:ri.quitEarly}}function Wt(ri,Se,je){let Qe=ri.originalRange,Ht=ri.modifiedRange;return(Qe.endColumn!==1||Ht.endColumn!==1)&&Qe.endColumn===Se.getLineMaxColumn(Qe.endLineNumber)&&Ht.endColumn===je.getLineMaxColumn(Ht.endLineNumber)&&Qe.endLineNumber<Se.getLineCount()&&Ht.endLineNumber<je.getLineCount()&&(Qe=Qe.setEndPosition(Qe.endLineNumber+1,1),Ht=Ht.setEndPosition(Ht.endLineNumber+1,1)),new J.iy(Qe,Ht)}class Vt{static fromDiffResult(Se){return new Vt(Se.changes.map(je=>new Ni(je)),Se.moves||[],Se.identical,Se.quitEarly)}constructor(Se,je,Qe,Ht){this.mappings=Se,this.movedTexts=je,this.identical=Qe,this.quitEarly=Ht}}class Ni{constructor(Se){this.lineRangeMapping=Se}}class ji{static fromDiffs(Se,je,Qe,Ht,kt){const ni=J.gB.inverse(Se,je,Qe),ai=[];for(const si of ni){let Ei=si.original.startLineNumber,Pi=si.modified.startLineNumber,Li=si.original.length;const Ii=Ei===1&&Pi===1,Je=Ei+Li===je+1&&Pi+Li===Qe+1;(Ii||Je)&&Li>=kt+Ht?(Ii&&!Je&&(Li-=kt),Je&&!Ii&&(Ei+=kt,Pi+=kt,Li-=kt),ai.push(new ji(Ei,Pi,Li,0,0))):Li>=kt*2+Ht&&(Ei+=kt,Pi+=kt,Li-=kt*2,ai.push(new ji(Ei,Pi,Li,0,0)))}return ai}get originalUnchangedRange(){return G.z.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return G.z.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(Se,je,Qe,Ht,kt){this.originalLineNumber=Se,this.modifiedLineNumber=je,this.lineCount=Qe,this._visibleLineCountTop=(0,T.uh)(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=(0,T.uh)(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=(0,T.nK)(this,ni=>this.visibleLineCountTop.read(ni)+this.visibleLineCountBottom.read(ni)===this.lineCount&&!this.isDragged.read(ni)),this.isDragged=(0,T.uh)(this,void 0),this._visibleLineCountTop.set(Ht,void 0),this._visibleLineCountBottom.set(kt,void 0)}shouldHideControls(Se){return this._shouldHideControls.read(Se)}getHiddenOriginalRange(Se){return G.z.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(Se),this.lineCount-this._visibleLineCountTop.read(Se)-this._visibleLineCountBottom.read(Se))}getHiddenModifiedRange(Se){return G.z.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(Se),this.lineCount-this._visibleLineCountTop.read(Se)-this._visibleLineCountBottom.read(Se))}setHiddenModifiedRange(Se,je){const Qe=Se.startLineNumber-this.modifiedLineNumber,Ht=this.modifiedLineNumber+this.lineCount-Se.endLineNumberExclusive;this.setState(Qe,Ht,je)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(Se=10,je){const Qe=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+Se,Qe),je)}showMoreBelow(Se=10,je){const Qe=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+Se,Qe),je)}showAll(Se){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),Se)}showModifiedLine(Se,je){const Qe=Se+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),Ht=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-Se;Qe<Ht?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+Qe,je):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+Ht,je)}showOriginalLine(Se,je){const Qe=Se-this.originalLineNumber,Ht=this.originalLineNumber+this.lineCount-Se;Qe<Ht?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+Ht-Qe,this.getMaxVisibleLineCountTop()),je):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+Qe-Ht,this.getMaxVisibleLineCountBottom()),je)}collapseAll(Se){this._visibleLineCountTop.set(0,Se),this._visibleLineCountBottom.set(0,Se)}setState(Se,je,Qe){Se=Math.max(Math.min(Se,this.lineCount),0),je=Math.max(Math.min(je,this.lineCount-Se),0),this._visibleLineCountTop.set(Se,Qe),this._visibleLineCountBottom.set(je,Qe)}}function Ai(ri,Se,je,Qe){}function on(ri,Se,je,Qe){}var mn=c(43998);class Rn extends L.JT{get visibility(){return this._visibility}set visibility(Se){this._visibility!==Se&&(this._visibility=Se,this._diffActions.style.visibility=Se?"visible":"hidden")}constructor(Se,je,Qe,Ht,kt,ni,ai,si,Ei){super(),this._getViewZoneId=Se,this._marginDomNode=je,this._modifiedEditor=Qe,this._diff=Ht,this._editor=kt,this._viewLineCounts=ni,this._originalTextModel=ai,this._contextMenuService=si,this._clipboardService=Ei,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=R.k.asClassName(O.l.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const Pi=this._modifiedEditor.getOption(66);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${Pi}px`,this._diffActions.style.lineHeight=`${Pi}px`,this._marginDomNode.appendChild(this._diffActions);let Li=0;const Ii=Qe.getOption(126)&&!mn.gn,Je=(E,W)=>{var Q;this._contextMenuService.showContextMenu({domForShadowRoot:Ii&&(Q=Qe.getDomNode())!==null&&Q!==void 0?Q:void 0,getAnchor:()=>({x:E,y:W}),getActions:()=>{const ue=[],ve=Ht.modified.isEmpty;return ue.push(new u.aU("diff.clipboard.copyDeletedContent",ve?Ht.original.length>1?(0,P.NC)("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):(0,P.NC)("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):Ht.original.length>1?(0,P.NC)("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):(0,P.NC)("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>At(this,null,function*(){const We=this._originalTextModel.getValueInRange(Ht.original.toExclusiveRange());yield this._clipboardService.writeText(We)}))),Ht.original.length>1&&ue.push(new u.aU("diff.clipboard.copyDeletedLineContent",ve?(0,P.NC)("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Ht.original.startLineNumber+Li):(0,P.NC)("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Ht.original.startLineNumber+Li),void 0,!0,()=>At(this,null,function*(){let We=this._originalTextModel.getLineContent(Ht.original.startLineNumber+Li);We===""&&(We=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`),yield this._clipboardService.writeText(We)}))),Qe.getOption(90)||ue.push(new u.aU("diff.inline.revertChange",(0,P.NC)("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>At(this,null,function*(){this._editor.revert(this._diff)}))),ue},autoSelectFirstItem:!0})};this._register((0,D.mu)(this._diffActions,"mousedown",E=>{if(!E.leftButton)return;const{top:W,height:Q}=(0,D.i)(this._diffActions),ue=Math.floor(Pi/3);E.preventDefault(),Je(E.posx,W+Q+ue)})),this._register(Qe.onMouseMove(E=>{(E.target.type===8||E.target.type===5)&&E.target.detail.viewZoneId===this._getViewZoneId()?(Li=this._updateLightBulbPosition(this._marginDomNode,E.event.browserEvent.y,Pi),this.visibility=!0):this.visibility=!1})),this._register(Qe.onMouseDown(E=>{E.event.leftButton&&(E.target.type===8||E.target.type===5)&&E.target.detail.viewZoneId===this._getViewZoneId()&&(E.event.preventDefault(),Li=this._updateLightBulbPosition(this._marginDomNode,E.event.browserEvent.y,Pi),Je(E.event.posx,E.event.posy+Pi))}))}_updateLightBulbPosition(Se,je,Qe){const{top:Ht}=(0,D.i)(Se),kt=je-Ht,ni=Math.floor(kt/Qe),ai=ni*Qe;if(this._diffActions.style.top=`${ai}px`,this._viewLineCounts){let si=0;for(let Ei=0;Ei<this._viewLineCounts.length;Ei++)if(si+=this._viewLineCounts[Ei],ni<si)return Ei}return ni}}var pi=c(6180),ti=c(56943);const ii=(0,S.Z)("diffEditorWidget",{createHTML:ri=>ri});function Ct(ri,Se,je,Qe){(0,V.N)(Qe,Se.fontInfo);const Ht=je.length>0,kt=new pi.HT(1e4);let ni=0,ai=0;const si=[];for(let Ii=0;Ii<ri.lineTokens.length;Ii++){const Je=Ii+1,E=ri.lineTokens[Ii],W=ri.lineBreakData[Ii],Q=ti.Kp.filter(je,Je,1,Number.MAX_SAFE_INTEGER);if(W){let ue=0;for(const ve of W.breakOffsets){const Oe=E.sliceAndInflate(ue,ve,0);ni=Math.max(ni,Ut(ai,Oe,ti.Kp.extractWrapped(Q,ue,ve),Ht,ri.mightContainNonBasicASCII,ri.mightContainRTL,Se,kt)),ai++,ue=ve}si.push(W.breakOffsets.length)}else si.push(1),ni=Math.max(ni,Ut(ai,E,Q,Ht,ri.mightContainNonBasicASCII,ri.mightContainRTL,Se,kt)),ai++}ni+=Se.scrollBeyondLastColumn;const Ei=kt.build(),Pi=ii?ii.createHTML(Ei):Ei;Qe.innerHTML=Pi;const Li=ni*Se.typicalHalfwidthCharacterWidth;return{heightInLines:ai,minWidthInPx:Li,viewLineCounts:si}}class It{constructor(Se,je,Qe,Ht){this.lineTokens=Se,this.lineBreakData=je,this.mightContainNonBasicASCII=Qe,this.mightContainRTL=Ht}}class Qt{static fromEditor(Se){var je;const Qe=Se.getOptions(),Ht=Qe.get(50),kt=Qe.get(143);return new Qt(((je=Se.getModel())===null||je===void 0?void 0:je.getOptions().tabSize)||0,Ht,Qe.get(33),Ht.typicalHalfwidthCharacterWidth,Qe.get(103),Qe.get(66),kt.decorationsWidth,Qe.get(116),Qe.get(98),Qe.get(93),Qe.get(51))}constructor(Se,je,Qe,Ht,kt,ni,ai,si,Ei,Pi,Li){this.tabSize=Se,this.fontInfo=je,this.disableMonospaceOptimizations=Qe,this.typicalHalfwidthCharacterWidth=Ht,this.scrollBeyondLastColumn=kt,this.lineHeight=ni,this.lineDecorationsWidth=ai,this.stopRenderingLineAfter=si,this.renderWhitespace=Ei,this.renderControlCharacters=Pi,this.fontLigatures=Li}}function Ut(ri,Se,je,Qe,Ht,kt,ni,ai){ai.appendString('<div class="view-line'),Qe||ai.appendString(" char-delete"),ai.appendString('" style="top:'),ai.appendString(String(ri*ni.lineHeight)),ai.appendString('px;width:1000000px;">');const si=Se.getLineContent(),Ei=H.wA.isBasicASCII(si,Ht),Pi=H.wA.containsRTL(si,Ei,kt),Li=(0,he.d1)(new he.IJ(ni.fontInfo.isMonospace&&!ni.disableMonospaceOptimizations,ni.fontInfo.canUseHalfwidthRightwardsArrow,si,!1,Ei,Pi,0,Se,je,ni.tabSize,0,ni.fontInfo.spaceWidth,ni.fontInfo.middotWidth,ni.fontInfo.wsmiddotWidth,ni.stopRenderingLineAfter,ni.renderWhitespace,ni.renderControlCharacters,ni.fontLigatures!==Y.n0.OFF,null),ai);return ai.appendString("</div>"),Li.characterMapping.getHorizontalOffset(Li.characterMapping.length)}var Si=c(22336),Vi=c(16288),tn=function(ri,Se,je,Qe){var Ht=arguments.length,kt=Ht<3?Se:Qe===null?Qe=Object.getOwnPropertyDescriptor(Se,je):Qe,ni;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")kt=Reflect.decorate(ri,Se,je,Qe);else for(var ai=ri.length-1;ai>=0;ai--)(ni=ri[ai])&&(kt=(Ht<3?ni(kt):Ht>3?ni(Se,je,kt):ni(Se,je))||kt);return Ht>3&&kt&&Object.defineProperty(Se,je,kt),kt},Ji=function(ri,Se){return function(je,Qe){Se(je,Qe,ri)}};let Cn=class extends L.JT{constructor(Se,je,Qe,Ht,kt,ni,ai,si,Ei,Pi){super(),this._targetWindow=Se,this._editors=je,this._diffModel=Qe,this._options=Ht,this._diffEditorWidget=kt,this._canIgnoreViewZoneUpdateEvent=ni,this._origViewZonesToIgnore=ai,this._modViewZonesToIgnore=si,this._clipboardService=Ei,this._contextMenuService=Pi,this._originalTopPadding=(0,T.uh)(this,0),this._originalScrollOffset=(0,T.uh)(this,0),this._originalScrollOffsetAnimated=(0,F.Vm)(this._targetWindow,this._originalScrollOffset,this._store),this._modifiedTopPadding=(0,T.uh)(this,0),this._modifiedScrollOffset=(0,T.uh)(this,0),this._modifiedScrollOffsetAnimated=(0,F.Vm)(this._targetWindow,this._modifiedScrollOffset,this._store);const Li=(0,T.uh)("invalidateAlignmentsState",0),Ii=this._register(new gn.pY(()=>{Li.set(Li.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(Oe=>{this._canIgnoreViewZoneUpdateEvent()||Ii.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(Oe=>{this._canIgnoreViewZoneUpdateEvent()||Ii.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(Oe=>{(Oe.hasChanged(144)||Oe.hasChanged(66))&&Ii.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(Oe=>{(Oe.hasChanged(144)||Oe.hasChanged(66))&&Ii.schedule()}));const Je=this._diffModel.map(Oe=>Oe?(0,T.rD)(Oe.model.original.onDidChangeTokens,()=>Oe.model.original.tokenization.backgroundTokenizationState===2):void 0).map((Oe,We)=>Oe==null?void 0:Oe.read(We)),E=(0,T.nK)(Oe=>{const We=this._diffModel.read(Oe),et=We==null?void 0:We.diff.read(Oe);if(!We||!et)return null;Li.read(Oe);const A=this._options.renderSideBySide.read(Oe);return Tn(this._editors.original,this._editors.modified,et.mappings,this._origViewZonesToIgnore,this._modViewZonesToIgnore,A)}),W=(0,T.nK)(Oe=>{var We;const et=(We=this._diffModel.read(Oe))===null||We===void 0?void 0:We.movedTextToCompare.read(Oe);if(!et)return null;Li.read(Oe);const Fe=et.changes.map(A=>new Ni(A));return Tn(this._editors.original,this._editors.modified,Fe,this._origViewZonesToIgnore,this._modViewZonesToIgnore,!0)});function Q(){const Oe=document.createElement("div");return Oe.className="diagonal-fill",Oe}const ue=this._register(new L.SL);this.viewZones=(0,T.Be)(this,(Oe,We)=>{var et,Fe,A,q,fe,Pe,Ye,dt;ue.clear();const St=E.read(Oe)||[],Bt=[],Ci=[],vi=this._modifiedTopPadding.read(Oe);vi>0&&Ci.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:vi,showInHiddenAreas:!0,suppressMouseDown:!0});const zi=this._originalTopPadding.read(Oe);zi>0&&Bt.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:zi,showInHiddenAreas:!0,suppressMouseDown:!0});const Gi=this._options.renderSideBySide.read(Oe),Wi=Gi||(et=this._editors.modified._getViewModel())===null||et===void 0?void 0:et.createLineBreaksComputer();if(Wi){for(const An of St)if(An.diff)for(let Ts=An.originalRange.startLineNumber;Ts<An.originalRange.endLineNumberExclusive;Ts++)Wi==null||Wi.addRequest(this._editors.original.getModel().getLineContent(Ts),null,null)}const Mi=(Fe=Wi==null?void 0:Wi.finalize())!==null&&Fe!==void 0?Fe:[];let Oi=0;const Xi=this._editors.modified.getOption(66),Hn=(A=this._diffModel.read(Oe))===null||A===void 0?void 0:A.movedTextToCompare.read(Oe),js=(fe=(q=this._editors.original.getModel())===null||q===void 0?void 0:q.mightContainNonBasicASCII())!==null&&fe!==void 0?fe:!1,go=(Ye=(Pe=this._editors.original.getModel())===null||Pe===void 0?void 0:Pe.mightContainRTL())!==null&&Ye!==void 0?Ye:!1,So=Qt.fromEditor(this._editors.modified);for(const An of St)if(An.diff&&!Gi){if(!An.originalRange.isEmpty){Je.read(Oe);const rs=document.createElement("div");rs.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const $n=new It(An.originalRange.mapToLineArray(ks=>this._editors.original.getModel().tokenization.getLineTokens(ks)),An.originalRange.mapToLineArray(ks=>Mi[Oi++]),js,go),Bs=[];for(const ks of An.diff.innerChanges||[])Bs.push(new H.$t(ks.originalRange.delta(-(An.diff.original.startLineNumber-1)),Yt.className,0));const so=Ct($n,So,Bs,rs),bo=document.createElement("div");if(bo.className="inline-deleted-margin-view-zone",(0,V.N)(bo,So.fontInfo),this._options.renderIndicators.read(Oe))for(let ks=0;ks<so.heightInLines;ks++){const Lo=document.createElement("div");Lo.className=`delete-sign ${R.k.asClassName(xt)}`,Lo.setAttribute("style",`position:absolute;top:${ks*Xi}px;width:${So.lineDecorationsWidth}px;height:${Xi}px;right:0;`),bo.appendChild(Lo)}let Nr;ue.add(new Rn(()=>(0,Ot.cW)(Nr),bo,this._editors.modified,An.diff,this._diffEditorWidget,so.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let ks=0;ks<so.viewLineCounts.length;ks++){const Lo=so.viewLineCounts[ks];Lo>1&&Bt.push({afterLineNumber:An.originalRange.startLineNumber+ks,domNode:Q(),heightInPx:(Lo-1)*Xi,showInHiddenAreas:!0,suppressMouseDown:!0})}Ci.push({afterLineNumber:An.modifiedRange.startLineNumber-1,domNode:rs,heightInPx:so.heightInLines*Xi,minWidthInPx:so.minWidthInPx,marginDomNode:bo,setZoneId(ks){Nr=ks},showInHiddenAreas:!0,suppressMouseDown:!0})}const Ts=document.createElement("div");Ts.className="gutter-delete",Bt.push({afterLineNumber:An.originalRange.endLineNumberExclusive-1,domNode:Q(),heightInPx:An.modifiedHeightInPx,marginDomNode:Ts,showInHiddenAreas:!0,suppressMouseDown:!0})}else{const Ts=An.modifiedHeightInPx-An.originalHeightInPx;if(Ts>0){if(Hn!=null&&Hn.lineRangeMapping.original.delta(-1).deltaLength(2).contains(An.originalRange.endLineNumberExclusive-1))continue;Bt.push({afterLineNumber:An.originalRange.endLineNumberExclusive-1,domNode:Q(),heightInPx:Ts,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let rs=function(){const Bs=document.createElement("div");return Bs.className="arrow-revert-change "+R.k.asClassName(O.l.arrowRight),We.add((0,D.nm)(Bs,"mousedown",so=>so.stopPropagation())),We.add((0,D.nm)(Bs,"click",so=>{so.stopPropagation(),kt.revert(An.diff)})),(0,D.$)("div",{},Bs)};if(Hn!=null&&Hn.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(An.modifiedRange.endLineNumberExclusive-1))continue;let $n;An.diff&&An.diff.modified.isEmpty&&this._options.shouldRenderRevertArrows.read(Oe)&&($n=rs()),Ci.push({afterLineNumber:An.modifiedRange.endLineNumberExclusive-1,domNode:Q(),heightInPx:-Ts,marginDomNode:$n,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(const An of(dt=W.read(Oe))!==null&&dt!==void 0?dt:[]){if(!(Hn!=null&&Hn.lineRangeMapping.original.intersect(An.originalRange))||!(Hn!=null&&Hn.lineRangeMapping.modified.intersect(An.modifiedRange)))continue;const Ts=An.modifiedHeightInPx-An.originalHeightInPx;Ts>0?Bt.push({afterLineNumber:An.originalRange.endLineNumberExclusive-1,domNode:Q(),heightInPx:Ts,showInHiddenAreas:!0,suppressMouseDown:!0}):Ci.push({afterLineNumber:An.modifiedRange.endLineNumberExclusive-1,domNode:Q(),heightInPx:-Ts,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:Bt,mod:Ci}});let ve=!1;this._register(this._editors.original.onDidScrollChange(Oe=>{Oe.scrollLeftChanged&&!ve&&(ve=!0,this._editors.modified.setScrollLeft(Oe.scrollLeft),ve=!1)})),this._register(this._editors.modified.onDidScrollChange(Oe=>{Oe.scrollLeftChanged&&!ve&&(ve=!0,this._editors.original.setScrollLeft(Oe.scrollLeft),ve=!1)})),this._originalScrollTop=(0,T.rD)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,T.rD)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register((0,T.EH)(Oe=>{const We=this._originalScrollTop.read(Oe)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(Oe))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(Oe));We!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(We,1)})),this._register((0,T.EH)(Oe=>{const We=this._modifiedScrollTop.read(Oe)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(Oe))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(Oe));We!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(We,1)})),this._register((0,T.EH)(Oe=>{var We;const et=(We=this._diffModel.read(Oe))===null||We===void 0?void 0:We.movedTextToCompare.read(Oe);let Fe=0;if(et){const A=this._editors.original.getTopForLineNumber(et.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();Fe=this._editors.modified.getTopForLineNumber(et.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-A}Fe>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(Fe,void 0)):Fe<0?(this._modifiedTopPadding.set(-Fe,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-Fe,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+Fe,void 0,!0)}))}};Cn=tn([Ji(8,Si.p),Ji(9,Vi.i)],Cn);function Tn(ri,Se,je,Qe,Ht,kt){const ni=new N.H9(Wn(ri,Qe)),ai=new N.H9(Wn(Se,Ht)),si=ri.getOption(66),Ei=Se.getOption(66),Pi=[];let Li=0,Ii=0;function Je(E,W){for(;;){let Q=ni.peek(),ue=ai.peek();if(Q&&Q.lineNumber>=E&&(Q=void 0),ue&&ue.lineNumber>=W&&(ue=void 0),!Q&&!ue)break;const ve=Q?Q.lineNumber-Li:Number.MAX_VALUE,Oe=ue?ue.lineNumber-Ii:Number.MAX_VALUE;ve<Oe?(ni.dequeue(),ue={lineNumber:Q.lineNumber-Li+Ii,heightInPx:0}):ve>Oe?(ai.dequeue(),Q={lineNumber:ue.lineNumber-Ii+Li,heightInPx:0}):(ni.dequeue(),ai.dequeue()),Pi.push({originalRange:G.z.ofLength(Q.lineNumber,1),modifiedRange:G.z.ofLength(ue.lineNumber,1),originalHeightInPx:si+Q.heightInPx,modifiedHeightInPx:Ei+ue.heightInPx,diff:void 0})}}for(const E of je){let Oe=function(We,et){var Fe,A,q,fe;if(We<ve||et<ue)return;if(Q)Q=!1;else if(We===ve||et===ue)return;const Pe=new G.z(ve,We),Ye=new G.z(ue,et);if(Pe.isEmpty&&Ye.isEmpty)return;const dt=(A=(Fe=ni.takeWhile(Bt=>Bt.lineNumber<We))===null||Fe===void 0?void 0:Fe.reduce((Bt,Ci)=>Bt+Ci.heightInPx,0))!==null&&A!==void 0?A:0,St=(fe=(q=ai.takeWhile(Bt=>Bt.lineNumber<et))===null||q===void 0?void 0:q.reduce((Bt,Ci)=>Bt+Ci.heightInPx,0))!==null&&fe!==void 0?fe:0;Pi.push({originalRange:Pe,modifiedRange:Ye,originalHeightInPx:Pe.length*si+dt,modifiedHeightInPx:Ye.length*Ei+St,diff:E.lineRangeMapping}),ve=We,ue=et};const W=E.lineRangeMapping;Je(W.original.startLineNumber,W.modified.startLineNumber);let Q=!0,ue=W.modified.startLineNumber,ve=W.original.startLineNumber;if(kt)for(const We of W.innerChanges||[])We.originalRange.startColumn>1&&We.modifiedRange.startColumn>1&&Oe(We.originalRange.startLineNumber,We.modifiedRange.startLineNumber),We.originalRange.endColumn<ri.getModel().getLineMaxColumn(We.originalRange.endLineNumber)&&Oe(We.originalRange.endLineNumber,We.modifiedRange.endLineNumber);Oe(W.original.endLineNumberExclusive,W.modified.endLineNumberExclusive),Li=W.original.endLineNumberExclusive,Ii=W.modified.endLineNumberExclusive}return Je(Number.MAX_VALUE,Number.MAX_VALUE),Pi}function Wn(ri,Se){const je=[],Qe=[],Ht=ri.getOption(144).wrappingColumn!==-1,kt=ri._getViewModel().coordinatesConverter,ni=ri.getOption(66);if(Ht)for(let si=1;si<=ri.getModel().getLineCount();si++){const Ei=kt.getModelLineViewLineCount(si);Ei>1&&Qe.push({lineNumber:si,heightInPx:ni*(Ei-1)})}for(const si of ri.getWhitespaces()){if(Se.has(si.id))continue;const Ei=si.afterLineNumber===0?0:kt.convertViewPositionToModelPosition(new ne.L(si.afterLineNumber,1)).lineNumber;je.push({lineNumber:Ei,heightInPx:si.height})}return(0,F.Ap)(je,Qe,si=>si.lineNumber,(si,Ei)=>({lineNumber:si.lineNumber,heightInPx:si.heightInPx+Ei.heightInPx}))}var qn=c(50165),ln=c(77739),Gn=c(69017),Kn=c(32955),ro=c(27722),as=function(ri,Se,je,Qe){var Ht=arguments.length,kt=Ht<3?Se:Qe===null?Qe=Object.getOwnPropertyDescriptor(Se,je):Qe,ni;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")kt=Reflect.decorate(ri,Se,je,Qe);else for(var ai=ri.length-1;ai>=0;ai--)(ni=ri[ai])&&(kt=(Ht<3?ni(kt):Ht>3?ni(Se,je,kt):ni(Se,je))||kt);return Ht>3&&kt&&Object.defineProperty(Se,je,kt),kt},Zi=function(ri,Se){return function(je,Qe){Se(je,Qe,ri)}},cn;let pn=cn=class extends L.JT{constructor(Se,je,Qe,Ht,kt,ni,ai){super(),this._editors=Se,this._rootElement=je,this._diffModel=Qe,this._rootWidth=Ht,this._rootHeight=kt,this._modifiedEditorLayoutInfo=ni,this._themeService=ai,this.width=cn.ENTIRE_DIFF_OVERVIEW_WIDTH;const si=(0,T.rD)(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),Ei=(0,T.nK)(Ii=>{const Je=si.read(Ii),E=Je.getColor(Kn.P6Y)||(Je.getColor(Kn.ypS)||Kn.CzK).transparent(2),W=Je.getColor(Kn.F9q)||(Je.getColor(Kn.P4M)||Kn.keg).transparent(2);return{insertColor:E,removeColor:W}}),Pi=(0,qn.X)(document.createElement("div"));Pi.setClassName("diffViewport"),Pi.setPosition("absolute");const Li=(0,D.h)("div.diffOverview",{style:{position:"absolute",top:"0px",width:cn.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;this._register((0,F.xx)(Li,Pi.domNode)),this._register((0,D.mu)(Li,D.tw.POINTER_DOWN,Ii=>{this._editors.modified.delegateVerticalScrollbarPointerDown(Ii)})),this._register((0,D.nm)(Li,D.tw.MOUSE_WHEEL,Ii=>{this._editors.modified.delegateScrollFromMouseWheelEvent(Ii)},{passive:!1})),this._register((0,F.xx)(this._rootElement,Li)),this._register((0,T.gp)((Ii,Je)=>{const E=this._diffModel.read(Ii),W=this._editors.original.createOverviewRuler("original diffOverviewRuler");W&&(Je.add(W),Je.add((0,F.xx)(Li,W.getDomNode())));const Q=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(Q&&(Je.add(Q),Je.add((0,F.xx)(Li,Q.getDomNode()))),!W||!Q)return;const ue=(0,T.aq)("viewZoneChanged",this._editors.original.onDidChangeViewZones),ve=(0,T.aq)("viewZoneChanged",this._editors.modified.onDidChangeViewZones),Oe=(0,T.aq)("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),We=(0,T.aq)("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);Je.add((0,T.EH)(et=>{var Fe;ue.read(et),ve.read(et),Oe.read(et),We.read(et);const A=Ei.read(et),q=(Fe=E==null?void 0:E.diff.read(et))===null||Fe===void 0?void 0:Fe.mappings;function fe(dt,St,Bt){const Ci=Bt._getViewModel();return Ci?dt.filter(vi=>vi.length>0).map(vi=>{const zi=Ci.coordinatesConverter.convertModelPositionToViewPosition(new ne.L(vi.startLineNumber,1)),Gi=Ci.coordinatesConverter.convertModelPositionToViewPosition(new ne.L(vi.endLineNumberExclusive,1)),Wi=Gi.lineNumber-zi.lineNumber;return new Gn.EY(zi.lineNumber,Gi.lineNumber,Wi,St.toString())}):[]}const Pe=fe((q||[]).map(dt=>dt.lineRangeMapping.original),A.removeColor,this._editors.original),Ye=fe((q||[]).map(dt=>dt.lineRangeMapping.modified),A.insertColor,this._editors.modified);W==null||W.setZones(Pe),Q==null||Q.setZones(Ye)})),Je.add((0,T.EH)(et=>{const Fe=this._rootHeight.read(et),A=this._rootWidth.read(et),q=this._modifiedEditorLayoutInfo.read(et);if(q){const fe=cn.ENTIRE_DIFF_OVERVIEW_WIDTH-2*cn.ONE_OVERVIEW_WIDTH;W.setLayout({top:0,height:Fe,right:fe+cn.ONE_OVERVIEW_WIDTH,width:cn.ONE_OVERVIEW_WIDTH}),Q.setLayout({top:0,height:Fe,right:0,width:cn.ONE_OVERVIEW_WIDTH});const Pe=this._editors.modifiedScrollTop.read(et),Ye=this._editors.modifiedScrollHeight.read(et),dt=this._editors.modified.getOption(102),St=new ln.M(dt.verticalHasArrows?dt.arrowSize:0,dt.verticalScrollbarSize,0,q.height,Ye,Pe);Pi.setTop(St.getSliderPosition()),Pi.setHeight(St.getSliderSize())}else Pi.setTop(0),Pi.setHeight(0);Li.style.height=Fe+"px",Li.style.left=A-cn.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",Pi.setWidth(cn.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}};pn.ONE_OVERVIEW_WIDTH=15,pn.ENTIRE_DIFF_OVERVIEW_WIDTH=cn.ONE_OVERVIEW_WIDTH*2,pn=cn=as([Zi(6,ro.XE)],pn);var rn=c(39347),Xn=c(88582),Is=c(81002),hn=c(30533),us=c(79979);const Rs=(0,Kn.P6G)("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},(0,P.NC)("diffEditor.move.border","The border color for text that got moved in the diff editor.")),ts=(0,Kn.P6G)("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},(0,P.NC)("diffEditor.moveActive.border","The active border color for text that got moved in the diff editor.")),ls=(0,Kn.P6G)("diffEditor.unchangedRegionShadow",{dark:"#000000",light:"#737373BF",hcDark:"#000000",hcLight:"#737373BF"},(0,P.NC)("diffEditor.unchangedRegionShadow","The color of the shadow around unchanged region widgets."));class ms extends L.JT{constructor(){super(...arguments),this._id=++ms.idCounter,this._onDidDispose=this._register(new k.Q5),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(Se){return this._targetEditor.getVisibleColumnFromPosition(Se)}getPosition(){return this._targetEditor.getPosition()}setPosition(Se,je="api"){this._targetEditor.setPosition(Se,je)}revealLine(Se,je=0){this._targetEditor.revealLine(Se,je)}revealLineInCenter(Se,je=0){this._targetEditor.revealLineInCenter(Se,je)}revealLineInCenterIfOutsideViewport(Se,je=0){this._targetEditor.revealLineInCenterIfOutsideViewport(Se,je)}revealLineNearTop(Se,je=0){this._targetEditor.revealLineNearTop(Se,je)}revealPosition(Se,je=0){this._targetEditor.revealPosition(Se,je)}revealPositionInCenter(Se,je=0){this._targetEditor.revealPositionInCenter(Se,je)}revealPositionInCenterIfOutsideViewport(Se,je=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(Se,je)}revealPositionNearTop(Se,je=0){this._targetEditor.revealPositionNearTop(Se,je)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(Se,je="api"){this._targetEditor.setSelection(Se,je)}setSelections(Se,je="api"){this._targetEditor.setSelections(Se,je)}revealLines(Se,je,Qe=0){this._targetEditor.revealLines(Se,je,Qe)}revealLinesInCenter(Se,je,Qe=0){this._targetEditor.revealLinesInCenter(Se,je,Qe)}revealLinesInCenterIfOutsideViewport(Se,je,Qe=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(Se,je,Qe)}revealLinesNearTop(Se,je,Qe=0){this._targetEditor.revealLinesNearTop(Se,je,Qe)}revealRange(Se,je=0,Qe=!1,Ht=!0){this._targetEditor.revealRange(Se,je,Qe,Ht)}revealRangeInCenter(Se,je=0){this._targetEditor.revealRangeInCenter(Se,je)}revealRangeInCenterIfOutsideViewport(Se,je=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(Se,je)}revealRangeNearTop(Se,je=0){this._targetEditor.revealRangeNearTop(Se,je)}revealRangeNearTopIfOutsideViewport(Se,je=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(Se,je)}revealRangeAtTop(Se,je=0){this._targetEditor.revealRangeAtTop(Se,je)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(Se,je,Qe){this._targetEditor.trigger(Se,je,Qe)}createDecorationsCollection(Se){return this._targetEditor.createDecorationsCollection(Se)}changeDecorations(Se){return this._targetEditor.changeDecorations(Se)}}ms.idCounter=0;var qi=c(30966),Ss=function(ri,Se,je,Qe){var Ht=arguments.length,kt=Ht<3?Se:Qe===null?Qe=Object.getOwnPropertyDescriptor(Se,je):Qe,ni;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")kt=Reflect.decorate(ri,Se,je,Qe);else for(var ai=ri.length-1;ai>=0;ai--)(ni=ri[ai])&&(kt=(Ht<3?ni(kt):Ht>3?ni(Se,je,kt):ni(Se,je))||kt);return Ht>3&&kt&&Object.defineProperty(Se,je,kt),kt},Gs=function(ri,Se){return function(je,Qe){Se(je,Qe,ri)}};let Eo=class extends L.JT{get onDidContentSizeChange(){return this._onDidContentSizeChange.event}constructor(Se,je,Qe,Ht,kt,ni,ai){super(),this.originalEditorElement=Se,this.modifiedEditorElement=je,this._options=Qe,this._createInnerEditor=kt,this._instantiationService=ni,this._keybindingService=ai,this._onDidContentSizeChange=this._register(new k.Q5),this.original=this._register(this._createLeftHandSideEditor(Qe.editorOptions.get(),Ht.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(Qe.editorOptions.get(),Ht.modifiedEditor||{})),this.modifiedModel=(0,T.rD)(this.modified.onDidChangeModel,()=>this.modified.getModel()),this.modifiedScrollTop=(0,T.rD)(this.modified.onDidScrollChange,()=>this.modified.getScrollTop()),this.modifiedScrollHeight=(0,T.rD)(this.modified.onDidScrollChange,()=>this.modified.getScrollHeight()),this.modifiedSelections=(0,T.rD)(this.modified.onDidChangeCursorSelection,()=>{var si;return(si=this.modified.getSelections())!==null&&si!==void 0?si:[]}),this.modifiedCursor=(0,T.rD)(this.modified.onDidChangeCursorPosition,()=>{var si;return(si=this.modified.getPosition())!==null&&si!==void 0?si:new ne.L(1,1)}),this._register((0,T.nJ)({createEmptyChangeSummary:()=>({}),handleChange:(si,Ei)=>(si.didChange(Qe.editorOptions)&&Object.assign(Ei,si.change.changedOptions),!0)},(si,Ei)=>{Qe.editorOptions.read(si),this._options.renderSideBySide.read(si),this.modified.updateOptions(this._adjustOptionsForRightHandSide(si,Ei)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(si,Ei))}))}_createLeftHandSideEditor(Se,je){const Qe=this._adjustOptionsForLeftHandSide(void 0,Se),Ht=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,Qe,je);return Ht.setContextValue("isInDiffLeftEditor",!0),Ht}_createRightHandSideEditor(Se,je){const Qe=this._adjustOptionsForRightHandSide(void 0,Se),Ht=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,Qe,je);return Ht.setContextValue("isInDiffRightEditor",!0),Ht}_constructInnerEditor(Se,je,Qe,Ht){const kt=this._createInnerEditor(Se,je,Qe,Ht);return this._register(kt.onDidContentSizeChange(ni=>{const ai=this.original.getContentWidth()+this.modified.getContentWidth()+pn.ENTIRE_DIFF_OVERVIEW_WIDTH,si=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:si,contentWidth:ai,contentHeightChanged:ni.contentHeightChanged,contentWidthChanged:ni.contentWidthChanged})})),kt}_adjustOptionsForLeftHandSide(Se,je){const Qe=this._adjustOptionsForSubEditor(je);return this._options.renderSideBySide.get()?(Qe.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},Qe.wordWrapOverride1=this._options.diffWordWrap.get()):(Qe.wordWrapOverride1="off",Qe.wordWrapOverride2="off",Qe.stickyScroll={enabled:!1},Qe.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),Qe.glyphMargin=this._options.renderSideBySide.get(),je.originalAriaLabel&&(Qe.ariaLabel=je.originalAriaLabel),Qe.ariaLabel=this._updateAriaLabel(Qe.ariaLabel),Qe.readOnly=!this._options.originalEditable.get(),Qe.dropIntoEditor={enabled:!Qe.readOnly},Qe.extraEditorClassName="original-in-monaco-diff-editor",Qe}_adjustOptionsForRightHandSide(Se,je){const Qe=this._adjustOptionsForSubEditor(je);return je.modifiedAriaLabel&&(Qe.ariaLabel=je.modifiedAriaLabel),Qe.ariaLabel=this._updateAriaLabel(Qe.ariaLabel),Qe.wordWrapOverride1=this._options.diffWordWrap.get(),Qe.revealHorizontalRightPadding=Y.BH.revealHorizontalRightPadding.defaultValue+pn.ENTIRE_DIFF_OVERVIEW_WIDTH,Qe.scrollbar.verticalHasArrows=!1,Qe.extraEditorClassName="modified-in-monaco-diff-editor",Qe}_adjustOptionsForSubEditor(Se){const je=sn(Di({},Se),{dimension:{height:0,width:0}});return je.inDiffEditor=!0,je.automaticLayout=!1,je.scrollbar=Di({},je.scrollbar||{}),je.folding=!1,je.codeLens=this._options.diffCodeLens.get(),je.fixedOverflowWidgets=!0,je.minimap=Di({},je.minimap||{}),je.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?je.stickyScroll={enabled:!1}:je.stickyScroll=this._options.editorOptions.get().stickyScroll,je}_updateAriaLabel(Se){var je;Se||(Se="");const Qe=(0,P.NC)("diff-aria-navigation-tip"," use {0} to open the accessibility help.",(je=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))===null||je===void 0?void 0:je.getAriaLabel());return this._options.accessibilityVerbose.get()?Se+Qe:Se?Se.replaceAll(Qe,""):""}};Eo=Ss([Gs(5,K.TG),Gs(6,qi.d)],Eo);var Ys=c(14527);class vs{get editorOptions(){return this._options}constructor(Se){this._diffEditorWidth=(0,T.uh)(this,0),this.couldShowInlineViewBecauseOfSize=(0,T.nK)(this,Qe=>this._options.read(Qe).renderSideBySide&&this._diffEditorWidth.read(Qe)<=this._options.read(Qe).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=(0,T.nK)(this,Qe=>this._options.read(Qe).renderOverviewRuler),this.renderSideBySide=(0,T.nK)(this,Qe=>this._options.read(Qe).renderSideBySide&&!(this._options.read(Qe).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(Qe))),this.readOnly=(0,T.nK)(this,Qe=>this._options.read(Qe).readOnly),this.shouldRenderRevertArrows=(0,T.nK)(this,Qe=>!(!this._options.read(Qe).renderMarginRevertIcon||!this.renderSideBySide.read(Qe)||this.readOnly.read(Qe))),this.renderIndicators=(0,T.nK)(this,Qe=>this._options.read(Qe).renderIndicators),this.enableSplitViewResizing=(0,T.nK)(this,Qe=>this._options.read(Qe).enableSplitViewResizing),this.splitViewDefaultRatio=(0,T.nK)(this,Qe=>this._options.read(Qe).splitViewDefaultRatio),this.ignoreTrimWhitespace=(0,T.nK)(this,Qe=>this._options.read(Qe).ignoreTrimWhitespace),this.maxComputationTimeMs=(0,T.nK)(this,Qe=>this._options.read(Qe).maxComputationTime),this.showMoves=(0,T.nK)(this,Qe=>this._options.read(Qe).experimental.showMoves&&this.renderSideBySide.read(Qe)),this.isInEmbeddedEditor=(0,T.nK)(this,Qe=>this._options.read(Qe).isInEmbeddedEditor),this.diffWordWrap=(0,T.nK)(this,Qe=>this._options.read(Qe).diffWordWrap),this.originalEditable=(0,T.nK)(this,Qe=>this._options.read(Qe).originalEditable),this.diffCodeLens=(0,T.nK)(this,Qe=>this._options.read(Qe).diffCodeLens),this.accessibilityVerbose=(0,T.nK)(this,Qe=>this._options.read(Qe).accessibilityVerbose),this.diffAlgorithm=(0,T.nK)(this,Qe=>this._options.read(Qe).diffAlgorithm),this.showEmptyDecorations=(0,T.nK)(this,Qe=>this._options.read(Qe).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=(0,T.nK)(this,Qe=>this._options.read(Qe).onlyShowAccessibleDiffViewer),this.hideUnchangedRegions=(0,T.nK)(this,Qe=>this._options.read(Qe).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=(0,T.nK)(this,Qe=>this._options.read(Qe).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=(0,T.nK)(this,Qe=>this._options.read(Qe).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=(0,T.nK)(this,Qe=>this._options.read(Qe).hideUnchangedRegions.minimumLineCount);const je=Di(Di({},Se),Fs(Se,Ys.k));this._options=(0,T.uh)(this,je)}updateOptions(Se){const je=Fs(Se,this._options.get()),Qe=Di(Di(Di({},this._options.get()),Se),je);this._options.set(Qe,void 0,{changedOptions:Se})}setWidth(Se){this._diffEditorWidth.set(Se,void 0)}}function Fs(ri,Se){var je,Qe,Ht,kt,ni,ai,si,Ei;return{enableSplitViewResizing:(0,Y.O7)(ri.enableSplitViewResizing,Se.enableSplitViewResizing),splitViewDefaultRatio:(0,Y.L_)(ri.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:(0,Y.O7)(ri.renderSideBySide,Se.renderSideBySide),renderMarginRevertIcon:(0,Y.O7)(ri.renderMarginRevertIcon,Se.renderMarginRevertIcon),maxComputationTime:(0,Y.Zc)(ri.maxComputationTime,Se.maxComputationTime,0,1073741824),maxFileSize:(0,Y.Zc)(ri.maxFileSize,Se.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,Y.O7)(ri.ignoreTrimWhitespace,Se.ignoreTrimWhitespace),renderIndicators:(0,Y.O7)(ri.renderIndicators,Se.renderIndicators),originalEditable:(0,Y.O7)(ri.originalEditable,Se.originalEditable),diffCodeLens:(0,Y.O7)(ri.diffCodeLens,Se.diffCodeLens),renderOverviewRuler:(0,Y.O7)(ri.renderOverviewRuler,Se.renderOverviewRuler),diffWordWrap:(0,Y.NY)(ri.diffWordWrap,Se.diffWordWrap,["off","on","inherit"]),diffAlgorithm:(0,Y.NY)(ri.diffAlgorithm,Se.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:(0,Y.O7)(ri.accessibilityVerbose,Se.accessibilityVerbose),experimental:{showMoves:(0,Y.O7)((je=ri.experimental)===null||je===void 0?void 0:je.showMoves,Se.experimental.showMoves),showEmptyDecorations:(0,Y.O7)((Qe=ri.experimental)===null||Qe===void 0?void 0:Qe.showEmptyDecorations,Se.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:(0,Y.O7)((kt=(Ht=ri.hideUnchangedRegions)===null||Ht===void 0?void 0:Ht.enabled)!==null&&kt!==void 0?kt:(ni=ri.experimental)===null||ni===void 0?void 0:ni.collapseUnchangedRegions,Se.hideUnchangedRegions.enabled),contextLineCount:(0,Y.Zc)((ai=ri.hideUnchangedRegions)===null||ai===void 0?void 0:ai.contextLineCount,Se.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:(0,Y.Zc)((si=ri.hideUnchangedRegions)===null||si===void 0?void 0:si.minimumLineCount,Se.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:(0,Y.Zc)((Ei=ri.hideUnchangedRegions)===null||Ei===void 0?void 0:Ei.revealLineCount,Se.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:(0,Y.O7)(ri.isInEmbeddedEditor,Se.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:(0,Y.O7)(ri.onlyShowAccessibleDiffViewer,Se.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:(0,Y.Zc)(ri.renderSideBySideInlineBreakpoint,Se.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:(0,Y.O7)(ri.useInlineViewWhenSpaceIsLimited,Se.useInlineViewWhenSpaceIsLimited)}}var Ws=function(ri,Se,je,Qe){var Ht=arguments.length,kt=Ht<3?Se:Qe===null?Qe=Object.getOwnPropertyDescriptor(Se,je):Qe,ni;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")kt=Reflect.decorate(ri,Se,je,Qe);else for(var ai=ri.length-1;ai>=0;ai--)(ni=ri[ai])&&(kt=(Ht<3?ni(kt):Ht>3?ni(Se,je,kt):ni(Se,je))||kt);return Ht>3&&kt&&Object.defineProperty(Se,je,kt),kt},Ns=function(ri,Se){return function(je,Qe){Se(je,Qe,ri)}};let fo=class extends ms{get onDidContentSizeChange(){return this._editors.onDidContentSizeChange}constructor(Se,je,Qe,Ht,kt,ni,ai,si){var Ei;super(),this._domElement=Se,this._parentContextKeyService=Ht,this._parentInstantiationService=kt,this._audioCueService=ai,this._editorProgressService=si,this.elements=(0,D.h)("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[(0,D.h)("div.noModificationsOverlay@overlay",{style:{position:"absolute",height:"100%",visibility:"hidden"}},[(0,D.$)("span",{},"No Changes")]),(0,D.h)("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),(0,D.h)("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),(0,D.h)("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=(0,T.uh)(this,void 0),this._shouldDisposeDiffModel=!1,this.onDidChangeModel=k.ju.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new hn.y([Is.i6,this._contextKeyService])),this._boundarySashes=(0,T.uh)(this,void 0),this._accessibleDiffViewerShouldBeVisible=(0,T.uh)(this,!1),this._accessibleDiffViewerVisible=(0,T.nK)(this,We=>this._options.onlyShowAccessibleDiffViewer.read(We)?!0:this._accessibleDiffViewerShouldBeVisible.read(We)),this._movedBlocksLinesPart=(0,T.uh)(this,void 0),this._layoutInfo=(0,T.nK)(this,We=>{var et,Fe,A,q,fe;const Pe=this._rootSizeObserver.width.read(We),Ye=this._rootSizeObserver.height.read(We),dt=(et=this._sash.read(We))===null||et===void 0?void 0:et.sashLeft.read(We),St=dt!=null?dt:Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),Bt=Pe-St-((A=(Fe=this._overviewRulerPart.read(We))===null||Fe===void 0?void 0:Fe.width)!==null&&A!==void 0?A:0),Ci=(fe=(q=this._movedBlocksLinesPart.read(We))===null||q===void 0?void 0:q.width.read(We))!==null&&fe!==void 0?fe:0,vi=St-Ci;return this.elements.original.style.width=vi+"px",this.elements.original.style.left="0px",this.elements.modified.style.width=Bt+"px",this.elements.modified.style.left=St+"px",this._editors.original.layout({width:vi,height:Ye},!0),this._editors.modified.layout({width:Bt,height:Ye},!0),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((We,et)=>We==null?void 0:We.diff.read(et)),this.onDidUpdateDiff=k.ju.fromObservableLight(this._diffValue),ni.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register((0,L.OF)(()=>this._domElement.removeChild(this.elements.root))),this._rootSizeObserver=this._register(new F.DU(this.elements.root,je.dimension)),this._rootSizeObserver.setAutomaticLayout((Ei=je.automaticLayout)!==null&&Ei!==void 0?Ei:!1),this._options=new vs(je),this._register((0,T.EH)(We=>{this._options.setWidth(this._rootSizeObserver.width.read(We))})),this._contextKeyService.createKey(Xn.u.isEmbeddedDiffEditor.key,!1),this._register((0,F.GU)(Xn.u.isEmbeddedDiffEditor,this._contextKeyService,We=>this._options.isInEmbeddedEditor.read(We))),this._register((0,F.GU)(Xn.u.comparingMovedCode,this._contextKeyService,We=>{var et;return!!(!((et=this._diffModel.read(We))===null||et===void 0)&&et.movedTextToCompare.read(We))})),this._register((0,F.GU)(Xn.u.diffEditorRenderSideBySideInlineBreakpointReached,this._contextKeyService,We=>this._options.couldShowInlineViewBecauseOfSize.read(We))),this._register((0,F.GU)(Xn.u.hasChanges,this._contextKeyService,We=>{var et,Fe,A;return((A=(Fe=(et=this._diffModel.read(We))===null||et===void 0?void 0:et.diff.read(We))===null||Fe===void 0?void 0:Fe.mappings.length)!==null&&A!==void 0?A:0)>0})),this._editors=this._register(this._instantiationService.createInstance(Eo,this.elements.original,this.elements.modified,this._options,Qe,(We,et,Fe,A)=>this._createInnerEditor(We,et,Fe,A))),this._overviewRulerPart=(0,M.kA)(this,We=>this._options.renderOverviewRuler.read(We)?this._instantiationService.createInstance((0,F.NW)(pn,We),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(et=>et.modifiedEditor)):void 0).recomputeInitiallyAndOnChange(this._store),this._sash=(0,M.kA)(this,We=>{const et=this._options.renderSideBySide.read(We);return this.elements.root.classList.toggle("side-by-side",et),et?new jt(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((Fe,A)=>{var q,fe;return Fe-((fe=(q=this._overviewRulerPart.read(A))===null||q===void 0?void 0:q.width)!==null&&fe!==void 0?fe:0)})},this._boundarySashes):void 0}).recomputeInitiallyAndOnChange(this._store);const Pi=(0,M.kA)(this,We=>this._instantiationService.createInstance((0,F.NW)(hi,We),this._editors,this._diffModel,this._options)).recomputeInitiallyAndOnChange(this._store);(0,M.kA)(this,We=>this._instantiationService.createInstance((0,F.NW)(wn,We),this._editors,this._diffModel,this._options,this)).recomputeInitiallyAndOnChange(this._store);const Li=new Set,Ii=new Set;let Je=!1;const E=(0,M.kA)(this,We=>this._instantiationService.createInstance((0,F.NW)(Cn,We),(0,D.Jj)(this._domElement),this._editors,this._diffModel,this._options,this,()=>Je||Pi.get().isUpdatingHiddenAreas,Li,Ii)).recomputeInitiallyAndOnChange(this._store),W=(0,T.nK)(this,We=>{const et=E.read(We).viewZones.read(We).orig,Fe=Pi.read(We).viewZones.read(We).origViewZones;return et.concat(Fe)}),Q=(0,T.nK)(this,We=>{const et=E.read(We).viewZones.read(We).mod,Fe=Pi.read(We).viewZones.read(We).modViewZones;return et.concat(Fe)});this._register((0,F.Sv)(this._editors.original,W,We=>{Je=We},Li));let ue;this._register((0,F.Sv)(this._editors.modified,Q,We=>{Je=We,Je?ue=b.Z.capture(this._editors.modified):(ue==null||ue.restore(this._editors.modified),ue=void 0)},Ii)),this._accessibleDiffViewer=(0,M.kA)(this,We=>this._instantiationService.createInstance((0,F.NW)(xe,We),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(et,Fe)=>this._accessibleDiffViewerShouldBeVisible.set(et,Fe),this._options.onlyShowAccessibleDiffViewer.map(et=>!et),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((et,Fe)=>{var A;return(A=et==null?void 0:et.diff.read(Fe))===null||A===void 0?void 0:A.mappings.map(q=>q.lineRangeMapping)}),this._editors)).recomputeInitiallyAndOnChange(this._store);const ve=this._accessibleDiffViewerVisible.map(We=>We?"hidden":"visible");this._register((0,F.bg)(this.elements.modified,{visibility:ve})),this._register((0,F.bg)(this.elements.original,{visibility:ve})),this._createDiffEditorContributions(),ni.addDiffEditor(this),this._register((0,T.jx)(this._layoutInfo)),(0,M.kA)(this,We=>new((0,F.NW)(De,We))(this.elements.root,this._diffModel,this._layoutInfo.map(et=>et.originalEditor),this._layoutInfo.map(et=>et.modifiedEditor),this._editors)).recomputeInitiallyAndOnChange(this._store,We=>{this._movedBlocksLinesPart.set(We,void 0)}),this._register((0,F.bg)(this.elements.overlay,{width:this._layoutInfo.map((We,et)=>We.originalEditor.width+(this._options.renderSideBySide.read(et)?0:We.modifiedEditor.width)),visibility:(0,T.nK)(We=>{var et,Fe;return this._options.hideUnchangedRegions.read(We)&&((Fe=(et=this._diffModel.read(We))===null||et===void 0?void 0:et.diff.read(We))===null||Fe===void 0?void 0:Fe.mappings.length)===0?"visible":"hidden"})})),this._register(k.ju.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,We=>{var et,Fe;if((We==null?void 0:We.reason)===3){const A=(Fe=(et=this._diffModel.get())===null||et===void 0?void 0:et.diff.get())===null||Fe===void 0?void 0:Fe.mappings.find(q=>q.lineRangeMapping.modified.contains(We.position.lineNumber));A!=null&&A.lineRangeMapping.modified.isEmpty?this._audioCueService.playAudioCue(j.y$.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):A!=null&&A.lineRangeMapping.original.isEmpty?this._audioCueService.playAudioCue(j.y$.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):A&&this._audioCueService.playAudioCue(j.y$.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}));const Oe=this._diffModel.map(this,(We,et)=>{if(We)return We.diff.read(et)===void 0&&!We.isDiffUpToDate.read(et)});this._register((0,T.gp)((We,et)=>{if(Oe.read(We)===!0){const Fe=this._editorProgressService.show(!0,1e3);et.add((0,L.OF)(()=>Fe.done()))}})),this._register((0,L.OF)(()=>{var We;this._shouldDisposeDiffModel&&((We=this._diffModel.get())===null||We===void 0||We.dispose())}))}_createInnerEditor(Se,je,Qe,Ht){return Se.createInstance(C.Gm,je,Qe,Ht)}_createDiffEditorContributions(){const Se=B.Uc.getDiffEditorContributions();for(const je of Se)try{this._register(this._instantiationService.createInstance(je.ctor,this))}catch(Qe){(0,v.dL)(Qe)}}get _targetEditor(){return this._editors.modified}getEditorType(){return rn.g.IDiffEditor}layout(Se){this._rootSizeObserver.observe(Se)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var Se;const je=this._editors.original.saveViewState(),Qe=this._editors.modified.saveViewState();return{original:je,modified:Qe,modelState:(Se=this._diffModel.get())===null||Se===void 0?void 0:Se.serializeState()}}restoreViewState(Se){var je;if(Se&&Se.original&&Se.modified){const Qe=Se;this._editors.original.restoreViewState(Qe.original),this._editors.modified.restoreViewState(Qe.modified),Qe.modelState&&((je=this._diffModel.get())===null||je===void 0||je.restoreSerializedState(Qe.modelState))}}handleInitialized(){this._editors.original.handleInitialized(),this._editors.modified.handleInitialized()}createViewModel(Se){return this._instantiationService.createInstance(Te,Se,this._options)}getModel(){var Se,je;return(je=(Se=this._diffModel.get())===null||Se===void 0?void 0:Se.model)!==null&&je!==void 0?je:null}setModel(Se,je){!Se&&this._diffModel.get()&&this._accessibleDiffViewer.get().close();const Qe=Se?"model"in Se?{model:Se,shouldDispose:!1}:{model:this.createViewModel(Se),shouldDispose:!0}:void 0;this._diffModel.get()!==(Qe==null?void 0:Qe.model)&&(0,T.c8)(je,Ht=>{var kt;T.rD.batchEventsGlobally(Ht,()=>{this._editors.original.setModel(Qe?Qe.model.model.original:null),this._editors.modified.setModel(Qe?Qe.model.model.modified:null)});const ni=this._diffModel.get(),ai=this._shouldDisposeDiffModel;this._shouldDisposeDiffModel=(kt=Qe==null?void 0:Qe.shouldDispose)!==null&&kt!==void 0?kt:!1,this._diffModel.set(Qe==null?void 0:Qe.model,Ht),ai&&(ni==null||ni.dispose())})}updateOptions(Se){this._options.updateOptions(Se)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var Se;const je=(Se=this._diffModel.get())===null||Se===void 0?void 0:Se.diff.get();return je?ao(je):null}revert(Se){var je;if(Se.innerChanges){this.revertRangeMappings(Se.innerChanges);return}const Qe=(je=this._diffModel.get())===null||je===void 0?void 0:je.model;Qe&&this._editors.modified.executeEdits("diffEditor",[{range:Se.modified.toExclusiveRange(),text:Qe.original.getValueInRange(Se.original.toExclusiveRange())}])}revertRangeMappings(Se){const je=this._diffModel.get();if(!je||!je.isDiffUpToDate.get())return;const Qe=Se.map(Ht=>({range:Ht.modifiedRange,text:je.model.original.getValueInRange(Ht.originalRange)}));this._editors.modified.executeEdits("diffEditor",Qe)}_goTo(Se){this._editors.modified.setPosition(new ne.L(Se.lineRangeMapping.modified.startLineNumber,1)),this._editors.modified.revealRangeInCenter(Se.lineRangeMapping.modified.toExclusiveRange())}goToDiff(Se){var je,Qe,Ht,kt;const ni=(Qe=(je=this._diffModel.get())===null||je===void 0?void 0:je.diff.get())===null||Qe===void 0?void 0:Qe.mappings;if(!ni||ni.length===0)return;const ai=this._editors.modified.getPosition().lineNumber;let si;Se==="next"?si=(Ht=ni.find(Ei=>Ei.lineRangeMapping.modified.startLineNumber>ai))!==null&&Ht!==void 0?Ht:ni[0]:si=(kt=(0,X.dF)(ni,Ei=>Ei.lineRangeMapping.modified.startLineNumber<ai))!==null&&kt!==void 0?kt:ni[ni.length-1],this._goTo(si),si.lineRangeMapping.modified.isEmpty?this._audioCueService.playAudioCue(j.y$.diffLineDeleted,{source:"diffEditor.goToDiff"}):si.lineRangeMapping.original.isEmpty?this._audioCueService.playAudioCue(j.y$.diffLineInserted,{source:"diffEditor.goToDiff"}):si&&this._audioCueService.playAudioCue(j.y$.diffLineModified,{source:"diffEditor.goToDiff"})}revealFirstDiff(){const Se=this._diffModel.get();Se&&this.waitForDiff().then(()=>{var je;const Qe=(je=Se.diff.get())===null||je===void 0?void 0:je.mappings;!Qe||Qe.length===0||this._goTo(Qe[0])})}accessibleDiffViewerNext(){this._accessibleDiffViewer.get().next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.get().prev()}waitForDiff(){return At(this,null,function*(){const Se=this._diffModel.get();Se&&(yield Se.waitForDiff())})}mapToOtherSide(){var Se,je;const Qe=this._editors.modified.hasWidgetFocus(),Ht=Qe?this._editors.modified:this._editors.original,kt=Qe?this._editors.original:this._editors.modified;let ni;const ai=Ht.getSelection();if(ai){const si=(je=(Se=this._diffModel.get())===null||Se===void 0?void 0:Se.diff.get())===null||je===void 0?void 0:je.mappings.map(Ei=>Qe?Ei.lineRangeMapping.flip():Ei.lineRangeMapping);if(si){const Ei=(0,F.cV)(ai.getStartPosition(),si),Pi=(0,F.cV)(ai.getEndPosition(),si);ni=$.e.plusRange(Ei,Pi)}}return{destination:kt,destinationSelection:ni}}switchSide(){const{destination:Se,destinationSelection:je}=this.mapToOtherSide();Se.focus(),je&&Se.setSelection(je)}exitCompareMove(){const Se=this._diffModel.get();Se&&Se.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var Se;const je=(Se=this._diffModel.get())===null||Se===void 0?void 0:Se.unchangedRegions.get();je&&(0,T.PS)(Qe=>{for(const Ht of je)Ht.collapseAll(Qe)})}showAllUnchangedRegions(){var Se;const je=(Se=this._diffModel.get())===null||Se===void 0?void 0:Se.unchangedRegions.get();je&&(0,T.PS)(Qe=>{for(const Ht of je)Ht.showAll(Qe)})}};fo=Ws([Ns(3,Is.i6),Ns(4,K.TG),Ns(5,y.$),Ns(6,j.e7),Ns(7,us.ek)],fo);function ao(ri){return ri.mappings.map(Se=>{const je=Se.lineRangeMapping;let Qe,Ht,kt,ni,ai=je.innerChanges;return je.original.isEmpty?(Qe=je.original.startLineNumber-1,Ht=0,ai=void 0):(Qe=je.original.startLineNumber,Ht=je.original.endLineNumberExclusive-1),je.modified.isEmpty?(kt=je.modified.startLineNumber-1,ni=0,ai=void 0):(kt=je.modified.startLineNumber,ni=je.modified.endLineNumberExclusive-1),{originalStartLineNumber:Qe,originalEndLineNumber:Ht,modifiedStartLineNumber:kt,modifiedEndLineNumber:ni,charChanges:ai==null?void 0:ai.map(si=>({originalStartLineNumber:si.originalRange.startLineNumber,originalStartColumn:si.originalRange.startColumn,originalEndLineNumber:si.originalRange.endLineNumber,originalEndColumn:si.originalRange.endColumn,modifiedStartLineNumber:si.modifiedRange.startLineNumber,modifiedStartColumn:si.modifiedRange.startColumn,modifiedEndLineNumber:si.modifiedRange.endLineNumber,modifiedEndColumn:si.modifiedRange.endColumn}))}})}},97396:function(Gt,ze,c){"use strict";c.d(ze,{t2:function(){return se},DU:function(){return O},GD:function(){return Y},N9:function(){return F},Vm:function(){return R},xx:function(){return N},RP:function(){return u},bg:function(){return Z},Sv:function(){return J},GU:function(){return P},Ap:function(){return a},NW:function(){return ne},cV:function(){return re}});var D=c(99637),X=c(60902),v=c(7781);function k(){return v.OB&&!!v.OB.VSCODE_DEV}function L(j){if(k()){const K=T();return K.add(j),{dispose(){K.delete(j)}}}else return{dispose(){}}}function T(){M||(M=new Set);const j=globalThis;return j.$hotReload_applyNewExports||(j.$hotReload_applyNewExports=K=>{for(const ie of M){const ce=ie(K);if(ce)return ce}}),M}let M;k()&&L(({oldExports:j,newSrc:K})=>{if(K.indexOf("/* hot-reload:patch-prototype-methods */")!==-1)return ie=>{var ce,_e;for(const Ee in ie){const Ce=ie[Ee];if(console.log(`[hot-reload] Patching prototype methods of '${Ee}'`,{exportedItem:Ce}),typeof Ce=="function"&&Ce.prototype){const pe=j[Ee];if(pe){for(const xe of Object.getOwnPropertyNames(Ce.prototype)){const x=Object.getOwnPropertyDescriptor(Ce.prototype,xe),rt=Object.getOwnPropertyDescriptor(pe.prototype,xe);((ce=x==null?void 0:x.value)===null||ce===void 0?void 0:ce.toString())!==((_e=rt==null?void 0:rt.value)===null||_e===void 0?void 0:_e.toString())&&console.log(`[hot-reload] Patching prototype method '${Ee}.${xe}'`),Object.defineProperty(pe.prototype,xe,x)}ie[Ee]=pe}}}return!0}});var B=c(83845),y=c(13611),b=c(90555),C=c(79946),S=c(54125),_=c(94098);function a(j,K,ie,ce){if(j.length===0)return K;if(K.length===0)return j;const _e=[];let Ee=0,Ce=0;for(;Ee<j.length&&Ce<K.length;){const pe=j[Ee],xe=K[Ce],x=ie(pe),rt=ie(xe);x<rt?(_e.push(pe),Ee++):x>rt?(_e.push(xe),Ce++):(_e.push(ce(pe,xe)),Ee++,Ce++)}for(;Ee<j.length;)_e.push(j[Ee]),Ee++;for(;Ce<K.length;)_e.push(K[Ce]),Ce++;return _e}function u(j,K){const ie=new B.SL,ce=j.createDecorationsCollection();return ie.add((0,y.UV)({debugName:()=>`Apply decorations from ${K.debugName}`},_e=>{const Ee=K.read(_e);ce.set(Ee)})),ie.add({dispose:()=>{ce.clear()}}),ie}function N(j,K){return j.appendChild(K),(0,B.OF)(()=>{j.removeChild(K)})}class O extends B.JT{get width(){return this._width}get height(){return this._height}constructor(K,ie){super(),this.elementSizeObserver=this._register(new b.I(K,ie)),this._width=(0,y.uh)(this,this.elementSizeObserver.getWidth()),this._height=(0,y.uh)(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(ce=>(0,y.PS)(_e=>{this._width.set(this.elementSizeObserver.getWidth(),_e),this._height.set(this.elementSizeObserver.getHeight(),_e)})))}observe(K){this.elementSizeObserver.observe(K)}setAutomaticLayout(K){K?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}function R(j,K,ie){let ce=K.get(),_e=ce,Ee=ce;const Ce=(0,y.uh)("animatedValue",ce);let pe=-1;const xe=300;let x;ie.add((0,y.nJ)({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(Xe,Ze)=>(Xe.didChange(K)&&(Ze.animate=Ze.animate||Xe.change),!0)},(Xe,Ze)=>{x!==void 0&&(j.cancelAnimationFrame(x),x=void 0),_e=Ee,ce=K.read(Xe),pe=Date.now()-(Ze.animate?0:xe),rt()}));function rt(){const Xe=Date.now()-pe;Ee=Math.floor(V(Xe,_e,ce-_e,xe)),Xe<xe?x=j.requestAnimationFrame(rt):Ee=ce,Ce.set(Ee,void 0)}return Ce}function V(j,K,ie,ce){return j===ce?K+ie:ie*(-Math.pow(2,-10*j/ce)+1)+K}class F extends B.JT{constructor(K,ie,ce){super(),this._register(new G(K,ce)),this._register(Z(ce,{height:ie.actualHeight,top:ie.actualTop}))}}class Y{get afterLineNumber(){return this._afterLineNumber.get()}constructor(K,ie){this._afterLineNumber=K,this.heightInPx=ie,this.domNode=document.createElement("div"),this._actualTop=(0,y.uh)(this,void 0),this._actualHeight=(0,y.uh)(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=ce=>{this._actualTop.set(ce,void 0)},this.onComputedHeight=ce=>{this._actualHeight.set(ce,void 0)}}}class G{constructor(K,ie){this._editor=K,this._domElement=ie,this._overlayWidgetId=`managedOverlayWidget-${G._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}G._counter=0;function Z(j,K){return(0,y.EH)(ie=>{for(let[ce,_e]of Object.entries(K))_e&&typeof _e=="object"&&"read"in _e&&(_e=_e.read(ie)),typeof _e=="number"&&(_e=`${_e}px`),ce=ce.replace(/[A-Z]/g,Ee=>"-"+Ee.toLowerCase()),j.style[ce]=_e})}function ne(j,K){return $([j],K),j}function $(j,K){k()&&(0,y.aq)("reload",ce=>L(({oldExports:_e})=>{if([...Object.values(_e)].some(Ee=>j.includes(Ee)))return Ee=>(ce(void 0),!0)})).read(K)}function J(j,K,ie,ce){const _e=new B.SL,Ee=[];return _e.add((0,y.gp)((Ce,pe)=>{const xe=K.read(Ce),x=new Map,rt=new Map;ie&&ie(!0),j.changeViewZones(Xe=>{for(const Ze of Ee)Xe.removeZone(Ze),ce==null||ce.delete(Ze);Ee.length=0;for(const Ze of xe){const lt=Xe.addZone(Ze);Ze.setZoneId&&Ze.setZoneId(lt),Ee.push(lt),ce==null||ce.add(lt),x.set(Ze,lt)}}),ie&&ie(!1),pe.add((0,y.nJ)({createEmptyChangeSummary(){return{zoneIds:[]}},handleChange(Xe,Ze){const lt=rt.get(Xe.changedObservable);return lt!==void 0&&Ze.zoneIds.push(lt),!0}},(Xe,Ze)=>{for(const lt of xe)lt.onChange&&(rt.set(lt.onChange,x.get(lt)),lt.onChange.read(Xe));ie&&ie(!0),j.changeViewZones(lt=>{for(const ut of Ze.zoneIds)lt.layoutZone(ut)}),ie&&ie(!1)}))})),_e.add({dispose(){ie&&ie(!0),j.changeViewZones(Ce=>{for(const pe of Ee)Ce.removeZone(pe)}),ce==null||ce.clear(),ie&&ie(!1)}}),_e}class se extends X.A{dispose(){super.dispose(!0)}}function re(j,K){const ie=(0,D.dF)(K,_e=>_e.original.startLineNumber<=j.lineNumber);if(!ie)return S.e.fromPositions(j);if(ie.original.endLineNumberExclusive<=j.lineNumber){const _e=j.lineNumber-ie.original.endLineNumberExclusive+ie.modified.endLineNumberExclusive;return S.e.fromPositions(new C.L(_e,j.column))}if(!ie.innerChanges)return S.e.fromPositions(new C.L(ie.modified.startLineNumber,1));const ce=(0,D.dF)(ie.innerChanges,_e=>_e.originalRange.getStartPosition().isBeforeOrEqual(j));if(!ce){const _e=j.lineNumber-ie.original.startLineNumber+ie.modified.startLineNumber;return S.e.fromPositions(new C.L(_e,j.column))}if(ce.originalRange.containsPosition(j))return ce.modifiedRange;{const _e=he(ce.originalRange.getEndPosition(),j);return S.e.fromPositions(H(ce.modifiedRange.getEndPosition(),_e))}}function he(j,K){return j.lineNumber===K.lineNumber?new _.OE(0,K.column-j.column):new _.OE(K.lineNumber-j.lineNumber,K.column-1)}function H(j,K){return K.lineCount===0?new C.L(j.lineNumber,j.column+K.columnCount):new C.L(j.lineNumber+K.lineCount,K.columnCount+1)}function P(j,K,ie){const ce=j.bindTo(K);return(0,y.UV)({debugName:()=>`Update ${j.key}`},_e=>{ce.set(ie(_e))})}},22532:function(Gt,ze,c){"use strict";c.d(ze,{OY:function(){return v},Sj:function(){return k},T4:function(){return X},Uo:function(){return L},hP:function(){return T}});var D=c(37753);class X{constructor(B,y,b=!1){this._range=B,this._text=y,this.insertsAutoWhitespace=b}getEditOperations(B,y){y.addTrackedEditOperation(this._range,this._text)}computeCursorState(B,y){const C=y.getInverseEditOperations()[0].range;return D.Y.fromPositions(C.getEndPosition())}}class v{constructor(B,y){this._range=B,this._text=y}getEditOperations(B,y){y.addTrackedEditOperation(this._range,this._text)}computeCursorState(B,y){const C=y.getInverseEditOperations()[0].range;return D.Y.fromRange(C,0)}}class k{constructor(B,y,b=!1){this._range=B,this._text=y,this.insertsAutoWhitespace=b}getEditOperations(B,y){y.addTrackedEditOperation(this._range,this._text)}computeCursorState(B,y){const C=y.getInverseEditOperations()[0].range;return D.Y.fromPositions(C.getStartPosition())}}class L{constructor(B,y,b,C,S=!1){this._range=B,this._text=y,this._columnDeltaOffset=C,this._lineNumberDeltaOffset=b,this.insertsAutoWhitespace=S}getEditOperations(B,y){y.addTrackedEditOperation(this._range,this._text)}computeCursorState(B,y){const C=y.getInverseEditOperations()[0].range;return D.Y.fromPositions(C.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class T{constructor(B,y,b,C=!1){this._range=B,this._text=y,this._initialSelection=b,this._forceMoveMarkers=C,this._selectionId=null}getEditOperations(B,y){y.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=y.trackSelection(this._initialSelection)}computeCursorState(B,y){return y.getTrackedSelection(this._selectionId)}}},86263:function(Gt,ze,c){"use strict";c.d(ze,{U:function(){return S}});var D=c(80360),X=c(41498),v=c(54125),k=c(37753),L=c(8537),T=c(79993),M=function(_,a,u,N){var O=arguments.length,R=O<3?a:N===null?N=Object.getOwnPropertyDescriptor(a,u):N,V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(_,a,u,N);else for(var F=_.length-1;F>=0;F--)(V=_[F])&&(R=(O<3?V(R):O>3?V(a,u,R):V(a,u))||R);return O>3&&R&&Object.defineProperty(a,u,R),R},B=function(_,a){return function(u,N){a(u,N,_)}},y;const b=Object.create(null);function C(_,a){if(a<=0)return"";b[_]||(b[_]=["",_]);const u=b[_];for(let N=u.length;N<=a;N++)u[N]=u[N-1]+_;return u[a]}let S=y=class{static unshiftIndent(a,u,N,O,R){const V=X.i.visibleColumnFromColumn(a,u,N);if(R){const F=C(" ",O),G=X.i.prevIndentTabStop(V,O)/O;return C(F,G)}else{const F="	",G=X.i.prevRenderTabStop(V,N)/N;return C(F,G)}}static shiftIndent(a,u,N,O,R){const V=X.i.visibleColumnFromColumn(a,u,N);if(R){const F=C(" ",O),G=X.i.nextIndentTabStop(V,O)/O;return C(F,G)}else{const F="	",G=X.i.nextRenderTabStop(V,N)/N;return C(F,G)}}constructor(a,u,N){this._languageConfigurationService=N,this._opts=u,this._selection=a,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(a,u,N){this._useLastEditRangeForCursorEndPosition?a.addTrackedEditOperation(u,N):a.addEditOperation(u,N)}getEditOperations(a,u){const N=this._selection.startLineNumber;let O=this._selection.endLineNumber;this._selection.endColumn===1&&N!==O&&(O=O-1);const{tabSize:R,indentSize:V,insertSpaces:F}=this._opts,Y=N===O;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(a.getLineContent(N))&&(this._useLastEditRangeForCursorEndPosition=!0);let G=0,Z=0;for(let ne=N;ne<=O;ne++,G=Z){Z=0;const $=a.getLineContent(ne);let J=D.LC($);if(this._opts.isUnshift&&($.length===0||J===0)||!Y&&!this._opts.isUnshift&&$.length===0)continue;if(J===-1&&(J=$.length),ne>1&&X.i.visibleColumnFromColumn($,J+1,R)%V!==0&&a.tokenization.isCheapToTokenize(ne-1)){const he=(0,L.A)(this._opts.autoIndent,a,new v.e(ne-1,a.getLineMaxColumn(ne-1),ne-1,a.getLineMaxColumn(ne-1)),this._languageConfigurationService);if(he){if(Z=G,he.appendText)for(let H=0,P=he.appendText.length;H<P&&Z<V&&he.appendText.charCodeAt(H)===32;H++)Z++;he.removeText&&(Z=Math.max(0,Z-he.removeText));for(let H=0;H<Z&&!(J===0||$.charCodeAt(J-1)!==32);H++)J--}}if(this._opts.isUnshift&&J===0)continue;let se;this._opts.isUnshift?se=y.unshiftIndent($,J+1,R,V,F):se=y.shiftIndent($,J+1,R,V,F),this._addEditOperation(u,new v.e(ne,1,ne,J+1),se),ne===N&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=J+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&a.getLineLength(N)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const G=F?C(" ",V):"	";for(let Z=N;Z<=O;Z++){const ne=a.getLineContent(Z);let $=D.LC(ne);if(!(this._opts.isUnshift&&(ne.length===0||$===0))&&!(!Y&&!this._opts.isUnshift&&ne.length===0)&&($===-1&&($=ne.length),!(this._opts.isUnshift&&$===0)))if(this._opts.isUnshift){$=Math.min($,V);for(let J=0;J<$;J++)if(ne.charCodeAt(J)===9){$=J+1;break}this._addEditOperation(u,new v.e(Z,1,Z,$+1),"")}else this._addEditOperation(u,new v.e(Z,1,Z,1),G),Z===N&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=u.trackSelection(this._selection)}computeCursorState(a,u){if(this._useLastEditRangeForCursorEndPosition){const O=u.getInverseEditOperations()[0];return new k.Y(O.range.endLineNumber,O.range.endColumn,O.range.endLineNumber,O.range.endColumn)}const N=u.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const O=this._selection.startColumn;return N.startColumn<=O?N:N.getDirection()===0?new k.Y(N.startLineNumber,O,N.endLineNumber,N.endColumn):new k.Y(N.endLineNumber,N.endColumn,N.startLineNumber,O)}return N}};S=y=M([B(2,T.c_)],S)},14527:function(Gt,ze,c){"use strict";c.d(ze,{k:function(){return D}});const D={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0}},62007:function(Gt,ze,c){"use strict";c.d(ze,{Pe:function(){return _},ei:function(){return S},wk:function(){return M}});var D=c(14527),X=c(38074),v=c(27519),k=c(18493),L=c(43211),T=c(93796);const M=Object.freeze({id:"editor",order:5,type:"object",title:k.NC("editorConfigurationTitle","Editor"),scope:5}),B=sn(Di({},M),{properties:{"editor.tabSize":{type:"number",default:v.D.tabSize,minimum:1,markdownDescription:k.NC("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:k.NC("indentSize",'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:v.D.insertSpaces,markdownDescription:k.NC("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:v.D.detectIndentation,markdownDescription:k.NC("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:v.D.trimAutoWhitespace,description:k.NC("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:v.D.largeFileOptimizations,description:k.NC("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[k.NC("wordBasedSuggestions.off","Turn off Word Based Suggestions."),k.NC("wordBasedSuggestions.currentDocument","Only suggest words from the active document."),k.NC("wordBasedSuggestions.matchingDocuments","Suggest words from all open documents of the same language."),k.NC("wordBasedSuggestions.allDocuments","Suggest words from all open documents.")],description:k.NC("wordBasedSuggestions","Controls whether completions should be computed based on words in the document and from which documents they are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[k.NC("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),k.NC("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),k.NC("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:k.NC("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:k.NC("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:k.NC("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:k.NC("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:k.NC("editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:k.NC("editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:k.NC("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:k.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:k.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:k.NC("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:k.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:k.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:D.k.maxComputationTime,description:k.NC("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:D.k.maxFileSize,description:k.NC("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:D.k.renderSideBySide,description:k.NC("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:D.k.renderSideBySideInlineBreakpoint,description:k.NC("renderSideBySideInlineBreakpoint","If the diff editor width is smaller than this value, the inline view is used.")},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:D.k.useInlineViewWhenSpaceIsLimited,description:k.NC("useInlineViewWhenSpaceIsLimited","If enabled and the editor width is too small, the inline view is used.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:D.k.renderMarginRevertIcon,description:k.NC("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:D.k.ignoreTrimWhitespace,description:k.NC("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:D.k.renderIndicators,description:k.NC("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:D.k.diffCodeLens,description:k.NC("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:D.k.diffWordWrap,markdownEnumDescriptions:[k.NC("wordWrap.off","Lines will never wrap."),k.NC("wordWrap.on","Lines will wrap at the viewport width."),k.NC("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:D.k.diffAlgorithm,markdownEnumDescriptions:[k.NC("diffAlgorithm.legacy","Uses the legacy diffing algorithm."),k.NC("diffAlgorithm.advanced","Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:D.k.hideUnchangedRegions.enabled,markdownDescription:k.NC("hideUnchangedRegions.enabled","Controls whether the diff editor shows unchanged regions.")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:D.k.hideUnchangedRegions.revealLineCount,markdownDescription:k.NC("hideUnchangedRegions.revealLineCount","Controls how many lines are used for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:D.k.hideUnchangedRegions.minimumLineCount,markdownDescription:k.NC("hideUnchangedRegions.minimumLineCount","Controls how many lines are used as a minimum for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:D.k.hideUnchangedRegions.contextLineCount,markdownDescription:k.NC("hideUnchangedRegions.contextLineCount","Controls how many lines are used as context when comparing unchanged regions."),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:D.k.experimental.showMoves,markdownDescription:k.NC("showMoves","Controls whether the diff editor should show detected code moves.")},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:D.k.experimental.showEmptyDecorations,description:k.NC("showEmptyDecorations","Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.")}}});function y(u){return typeof u.type!="undefined"||typeof u.anyOf!="undefined"}for(const u of X.Bc){const N=u.schema;if(typeof N!="undefined")if(y(N))B.properties[`editor.${u.name}`]=N;else for(const O in N)Object.hasOwnProperty.call(N,O)&&(B.properties[O]=N[O])}let b=null;function C(){return b===null&&(b=Object.create(null),Object.keys(B.properties).forEach(u=>{b[u]=!0})),b}function S(u){return C()[`editor.${u}`]||!1}function _(u){return C()[`diffEditor.${u}`]||!1}T.B.as(L.IP.Configuration).registerConfiguration(B)},38074:function(Gt,ze,c){"use strict";c.d(ze,{$J:function(){return we},Av:function(){return li},BH:function(){return Qi},Bb:function(){return B},Bc:function(){return dn},Bo:function(){return ce},JO:function(){return Xe},LJ:function(){return y},L_:function(){return V},NY:function(){return G},O7:function(){return u},Zc:function(){return O},d2:function(){return he},gk:function(){return x},hL:function(){return xi},n0:function(){return ie},qt:function(){return Yt},rk:function(){return C},y0:function(){return M}});var D=c(54888),X=c(24913),v=c(43998),k=c(27519),L=c(1149),T=c(18493);const M=8;class B{constructor(Be){this._values=Be}hasChanged(Be){return this._values[Be]}}class y{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class b{constructor(Be,Nt,Ri,Fi){this.id=Be,this.name=Nt,this.defaultValue=Ri,this.schema=Fi}applyUpdate(Be,Nt){return S(Be,Nt)}compute(Be,Nt,Ri){return Ri}}class C{constructor(Be,Nt){this.newValue=Be,this.didChange=Nt}}function S(ei,Be){if(typeof ei!="object"||typeof Be!="object"||!ei||!Be)return new C(Be,ei!==Be);if(Array.isArray(ei)||Array.isArray(Be)){const Ri=Array.isArray(ei)&&Array.isArray(Be)&&D.fS(ei,Be);return new C(Be,!Ri)}let Nt=!1;for(const Ri in Be)if(Be.hasOwnProperty(Ri)){const Fi=S(ei[Ri],Be[Ri]);Fi.didChange&&(ei[Ri]=Fi.newValue,Nt=!0)}return new C(ei,Nt)}class _{constructor(Be){this.schema=void 0,this.id=Be,this.name="_never_",this.defaultValue=void 0}applyUpdate(Be,Nt){return S(Be,Nt)}validate(Be){return this.defaultValue}}class a{constructor(Be,Nt,Ri,Fi){this.id=Be,this.name=Nt,this.defaultValue=Ri,this.schema=Fi}applyUpdate(Be,Nt){return S(Be,Nt)}validate(Be){return typeof Be=="undefined"?this.defaultValue:Be}compute(Be,Nt,Ri){return Ri}}function u(ei,Be){return typeof ei=="undefined"?Be:ei==="false"?!1:!!ei}class N extends a{constructor(Be,Nt,Ri,Fi=void 0){typeof Fi!="undefined"&&(Fi.type="boolean",Fi.default=Ri),super(Be,Nt,Ri,Fi)}validate(Be){return u(Be,this.defaultValue)}}function O(ei,Be,Nt,Ri){if(typeof ei=="undefined")return Be;let Fi=parseInt(ei,10);return isNaN(Fi)?Be:(Fi=Math.max(Nt,Fi),Fi=Math.min(Ri,Fi),Fi|0)}class R extends a{static clampedInt(Be,Nt,Ri,Fi){return O(Be,Nt,Ri,Fi)}constructor(Be,Nt,Ri,Fi,hi,En=void 0){typeof En!="undefined"&&(En.type="integer",En.default=Ri,En.minimum=Fi,En.maximum=hi),super(Be,Nt,Ri,En),this.minimum=Fi,this.maximum=hi}validate(Be){return R.clampedInt(Be,this.defaultValue,this.minimum,this.maximum)}}function V(ei,Be,Nt,Ri){if(typeof ei=="undefined")return Be;const Fi=F.float(ei,Be);return F.clamp(Fi,Nt,Ri)}class F extends a{static clamp(Be,Nt,Ri){return Be<Nt?Nt:Be>Ri?Ri:Be}static float(Be,Nt){if(typeof Be=="number")return Be;if(typeof Be=="undefined")return Nt;const Ri=parseFloat(Be);return isNaN(Ri)?Nt:Ri}constructor(Be,Nt,Ri,Fi,hi){typeof hi!="undefined"&&(hi.type="number",hi.default=Ri),super(Be,Nt,Ri,hi),this.validationFn=Fi}validate(Be){return this.validationFn(F.float(Be,this.defaultValue))}}class Y extends a{static string(Be,Nt){return typeof Be!="string"?Nt:Be}constructor(Be,Nt,Ri,Fi=void 0){typeof Fi!="undefined"&&(Fi.type="string",Fi.default=Ri),super(Be,Nt,Ri,Fi)}validate(Be){return Y.string(Be,this.defaultValue)}}function G(ei,Be,Nt,Ri){return typeof ei!="string"?Be:Ri&&ei in Ri?Ri[ei]:Nt.indexOf(ei)===-1?Be:ei}class Z extends a{constructor(Be,Nt,Ri,Fi,hi=void 0){typeof hi!="undefined"&&(hi.type="string",hi.enum=Fi,hi.default=Ri),super(Be,Nt,Ri,hi),this._allowedValues=Fi}validate(Be){return G(Be,this.defaultValue,this._allowedValues)}}class ne extends b{constructor(Be,Nt,Ri,Fi,hi,En,bn=void 0){typeof bn!="undefined"&&(bn.type="string",bn.enum=hi,bn.default=Fi),super(Be,Nt,Ri,bn),this._allowedValues=hi,this._convert=En}validate(Be){return typeof Be!="string"?this.defaultValue:this._allowedValues.indexOf(Be)===-1?this.defaultValue:this._convert(Be)}}function $(ei){switch(ei){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class J extends b{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[T.NC("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached."),T.NC("accessibilitySupport.on","Optimize for usage with a Screen Reader."),T.NC("accessibilitySupport.off","Assume a screen reader is not attached.")],default:"auto",tags:["accessibility"],description:T.NC("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(Be){switch(Be){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(Be,Nt,Ri){return Ri===0?Be.accessibilitySupport:Ri}}class se extends b{constructor(){const Be={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",Be,{"editor.comments.insertSpace":{type:"boolean",default:Be.insertSpace,description:T.NC("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:Be.ignoreEmptyLines,description:T.NC("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const Nt=Be;return{insertSpace:u(Nt.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:u(Nt.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function re(ei){switch(ei){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var he;(function(ei){ei[ei.Line=1]="Line",ei[ei.Block=2]="Block",ei[ei.Underline=3]="Underline",ei[ei.LineThin=4]="LineThin",ei[ei.BlockOutline=5]="BlockOutline",ei[ei.UnderlineThin=6]="UnderlineThin"})(he||(he={}));function H(ei){switch(ei){case"line":return he.Line;case"block":return he.Block;case"underline":return he.Underline;case"line-thin":return he.LineThin;case"block-outline":return he.BlockOutline;case"underline-thin":return he.UnderlineThin}}class P extends _{constructor(){super(140)}compute(Be,Nt,Ri){const Fi=["monaco-editor"];return Nt.get(39)&&Fi.push(Nt.get(39)),Be.extraEditorClassName&&Fi.push(Be.extraEditorClassName),Nt.get(73)==="default"?Fi.push("mouse-default"):Nt.get(73)==="copy"&&Fi.push("mouse-copy"),Nt.get(110)&&Fi.push("showUnused"),Nt.get(138)&&Fi.push("showDeprecated"),Fi.join(" ")}}class j extends N{constructor(){super(37,"emptySelectionClipboard",!0,{description:T.NC("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(Be,Nt,Ri){return Ri&&Be.emptySelectionClipboard}}class K extends b{constructor(){const Be={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",Be,{"editor.find.cursorMoveOnType":{type:"boolean",default:Be.cursorMoveOnType,description:T.NC("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:Be.seedSearchStringFromSelection,enumDescriptions:[T.NC("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),T.NC("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),T.NC("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:T.NC("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:Be.autoFindInSelection,enumDescriptions:[T.NC("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),T.NC("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),T.NC("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:T.NC("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:Be.globalFindClipboard,description:T.NC("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:v.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:Be.addExtraSpaceOnTop,description:T.NC("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:Be.loop,description:T.NC("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const Nt=Be;return{cursorMoveOnType:u(Nt.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof Be.seedSearchStringFromSelection=="boolean"?Be.seedSearchStringFromSelection?"always":"never":G(Nt.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof Be.autoFindInSelection=="boolean"?Be.autoFindInSelection?"always":"never":G(Nt.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:u(Nt.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:u(Nt.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:u(Nt.loop,this.defaultValue.loop)}}}class ie extends b{constructor(){super(51,"fontLigatures",ie.OFF,{anyOf:[{type:"boolean",description:T.NC("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:T.NC("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:T.NC("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(Be){return typeof Be=="undefined"?this.defaultValue:typeof Be=="string"?Be==="false"?ie.OFF:Be==="true"?ie.ON:Be:Be?ie.ON:ie.OFF}}ie.OFF='"liga" off, "calt" off',ie.ON='"liga" on, "calt" on';class ce extends b{constructor(){super(54,"fontVariations",ce.OFF,{anyOf:[{type:"boolean",description:T.NC("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:T.NC("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:T.NC("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(Be){return typeof Be=="undefined"?this.defaultValue:typeof Be=="string"?Be==="false"?ce.OFF:Be==="true"?ce.TRANSLATE:Be:Be?ce.TRANSLATE:ce.OFF}compute(Be,Nt,Ri){return Be.fontInfo.fontVariationSettings}}ce.OFF="normal",ce.TRANSLATE="translate";class _e extends _{constructor(){super(50)}compute(Be,Nt,Ri){return Be.fontInfo}}class Ee extends a{constructor(){super(52,"fontSize",xi.fontSize,{type:"number",minimum:6,maximum:100,default:xi.fontSize,description:T.NC("fontSize","Controls the font size in pixels.")})}validate(Be){const Nt=F.float(Be,this.defaultValue);return Nt===0?xi.fontSize:F.clamp(Nt,6,100)}compute(Be,Nt,Ri){return Be.fontInfo.fontSize}}class Ce extends b{constructor(){super(53,"fontWeight",xi.fontWeight,{anyOf:[{type:"number",minimum:Ce.MINIMUM_VALUE,maximum:Ce.MAXIMUM_VALUE,errorMessage:T.NC("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:Ce.SUGGESTION_VALUES}],default:xi.fontWeight,description:T.NC("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(Be){return Be==="normal"||Be==="bold"?Be:String(R.clampedInt(Be,xi.fontWeight,Ce.MINIMUM_VALUE,Ce.MAXIMUM_VALUE))}}Ce.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],Ce.MINIMUM_VALUE=1,Ce.MAXIMUM_VALUE=1e3;class pe extends b{constructor(){const Be={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},Nt={type:"string",enum:["peek","gotoAndPeek","goto"],default:Be.multiple,enumDescriptions:[T.NC("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),T.NC("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),T.NC("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},Ri=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",Be,{"editor.gotoLocation.multiple":{deprecationMessage:T.NC("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Di({description:T.NC("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},Nt),"editor.gotoLocation.multipleTypeDefinitions":Di({description:T.NC("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},Nt),"editor.gotoLocation.multipleDeclarations":Di({description:T.NC("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},Nt),"editor.gotoLocation.multipleImplementations":Di({description:T.NC("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},Nt),"editor.gotoLocation.multipleReferences":Di({description:T.NC("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},Nt),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:Be.alternativeDefinitionCommand,enum:Ri,description:T.NC("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:Be.alternativeTypeDefinitionCommand,enum:Ri,description:T.NC("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:Be.alternativeDeclarationCommand,enum:Ri,description:T.NC("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:Be.alternativeImplementationCommand,enum:Ri,description:T.NC("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:Be.alternativeReferenceCommand,enum:Ri,description:T.NC("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(Be){var Nt,Ri,Fi,hi,En;if(!Be||typeof Be!="object")return this.defaultValue;const bn=Be;return{multiple:G(bn.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(Nt=bn.multipleDefinitions)!==null&&Nt!==void 0?Nt:G(bn.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Ri=bn.multipleTypeDefinitions)!==null&&Ri!==void 0?Ri:G(bn.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(Fi=bn.multipleDeclarations)!==null&&Fi!==void 0?Fi:G(bn.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(hi=bn.multipleImplementations)!==null&&hi!==void 0?hi:G(bn.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(En=bn.multipleReferences)!==null&&En!==void 0?En:G(bn.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:Y.string(bn.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:Y.string(bn.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:Y.string(bn.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:Y.string(bn.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:Y.string(bn.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class xe extends b{constructor(){const Be={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",Be,{"editor.hover.enabled":{type:"boolean",default:Be.enabled,description:T.NC("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:Be.delay,minimum:0,maximum:1e4,description:T.NC("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:Be.sticky,description:T.NC("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:Be.hidingDelay,description:T.NC("hover.hidingDelay","Controls the delay in milliseconds after which the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:Be.above,description:T.NC("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const Nt=Be;return{enabled:u(Nt.enabled,this.defaultValue.enabled),delay:R.clampedInt(Nt.delay,this.defaultValue.delay,0,1e4),sticky:u(Nt.sticky,this.defaultValue.sticky),hidingDelay:R.clampedInt(Nt.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:u(Nt.above,this.defaultValue.above)}}}class x extends _{constructor(){super(143)}compute(Be,Nt,Ri){return x.computeLayout(Nt,{memory:Be.memory,outerWidth:Be.outerWidth,outerHeight:Be.outerHeight,isDominatedByLongLines:Be.isDominatedByLongLines,lineHeight:Be.fontInfo.lineHeight,viewLineCount:Be.viewLineCount,lineNumbersDigitCount:Be.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:Be.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:Be.fontInfo.maxDigitWidth,pixelRatio:Be.pixelRatio,glyphMarginDecorationLaneCount:Be.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(Be){const Nt=Be.height/Be.lineHeight,Ri=Math.floor(Be.paddingTop/Be.lineHeight);let Fi=Math.floor(Be.paddingBottom/Be.lineHeight);Be.scrollBeyondLastLine&&(Fi=Math.max(Fi,Nt-1));const hi=(Ri+Be.viewLineCount+Fi)/(Be.pixelRatio*Be.height),En=Math.floor(Be.viewLineCount/hi);return{typicalViewportLineCount:Nt,extraLinesBeforeFirstLine:Ri,extraLinesBeyondLastLine:Fi,desiredRatio:hi,minimapLineCount:En}}static _computeMinimapLayout(Be,Nt){const Ri=Be.outerWidth,Fi=Be.outerHeight,hi=Be.pixelRatio;if(!Be.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(hi*Fi),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Fi};const En=Nt.stableMinimapLayoutInput,bn=En&&Be.outerHeight===En.outerHeight&&Be.lineHeight===En.lineHeight&&Be.typicalHalfwidthCharacterWidth===En.typicalHalfwidthCharacterWidth&&Be.pixelRatio===En.pixelRatio&&Be.scrollBeyondLastLine===En.scrollBeyondLastLine&&Be.paddingTop===En.paddingTop&&Be.paddingBottom===En.paddingBottom&&Be.minimap.enabled===En.minimap.enabled&&Be.minimap.side===En.minimap.side&&Be.minimap.size===En.minimap.size&&Be.minimap.showSlider===En.minimap.showSlider&&Be.minimap.renderCharacters===En.minimap.renderCharacters&&Be.minimap.maxColumn===En.minimap.maxColumn&&Be.minimap.scale===En.minimap.scale&&Be.verticalScrollbarWidth===En.verticalScrollbarWidth&&Be.isViewportWrapping===En.isViewportWrapping,gn=Be.lineHeight,Bn=Be.typicalHalfwidthCharacterWidth,kn=Be.scrollBeyondLastLine,en=Be.minimap.renderCharacters;let Jn=hi>=2?Math.round(Be.minimap.scale*2):Be.minimap.scale;const ys=Be.minimap.maxColumn,ds=Be.minimap.size,cs=Be.minimap.side,ps=Be.verticalScrollbarWidth,In=Be.viewLineCount,os=Be.remainingWidth,ui=Be.isViewportWrapping,ke=en?2:3;let Ke=Math.floor(hi*Fi);const Ue=Ke/hi;let bt=!1,it=!1,fi=ke*Jn,_i=Jn/hi,Te=1;if(ds==="fill"||ds==="fit"){const{typicalViewportLineCount:on,extraLinesBeforeFirstLine:mn,extraLinesBeyondLastLine:Rn,desiredRatio:pi,minimapLineCount:ti}=x.computeContainedMinimapLineCount({viewLineCount:In,scrollBeyondLastLine:kn,paddingTop:Be.paddingTop,paddingBottom:Be.paddingBottom,height:Fi,lineHeight:gn,pixelRatio:hi});if(In/ti>1)bt=!0,it=!0,Jn=1,fi=1,_i=Jn/hi;else{let Ct=!1,It=Jn+1;if(ds==="fit"){const Qt=Math.ceil((mn+In+Rn)*fi);ui&&bn&&os<=Nt.stableFitRemainingWidth?(Ct=!0,It=Nt.stableFitMaxMinimapScale):Ct=Qt>Ke}if(ds==="fill"||Ct){bt=!0;const Qt=Jn;fi=Math.min(gn*hi,Math.max(1,Math.floor(1/pi))),ui&&bn&&os<=Nt.stableFitRemainingWidth&&(It=Nt.stableFitMaxMinimapScale),Jn=Math.min(It,Math.max(1,Math.floor(fi/ke))),Jn>Qt&&(Te=Math.min(2,Jn/Qt)),_i=Jn/hi/Te,Ke=Math.ceil(Math.max(on,mn+In+Rn)*fi),ui?(Nt.stableMinimapLayoutInput=Be,Nt.stableFitRemainingWidth=os,Nt.stableFitMaxMinimapScale=Jn):(Nt.stableMinimapLayoutInput=null,Nt.stableFitRemainingWidth=0)}}}const tt=Math.floor(ys*_i),Wt=Math.min(tt,Math.max(0,Math.floor((os-ps-2)*_i/(Bn+_i)))+M);let Vt=Math.floor(hi*Wt);const Ni=Vt/hi;Vt=Math.floor(Vt*Te);const ji=en?1:2,Ai=cs==="left"?0:Ri-Wt-ps;return{renderMinimap:ji,minimapLeft:Ai,minimapWidth:Wt,minimapHeightIsEditorHeight:bt,minimapIsSampling:it,minimapScale:Jn,minimapLineHeight:fi,minimapCanvasInnerWidth:Vt,minimapCanvasInnerHeight:Ke,minimapCanvasOuterWidth:Ni,minimapCanvasOuterHeight:Ue}}static computeLayout(Be,Nt){const Ri=Nt.outerWidth|0,Fi=Nt.outerHeight|0,hi=Nt.lineHeight|0,En=Nt.lineNumbersDigitCount|0,bn=Nt.typicalHalfwidthCharacterWidth,gn=Nt.maxDigitWidth,Bn=Nt.pixelRatio,kn=Nt.viewLineCount,en=Be.get(135),Jn=en==="inherit"?Be.get(134):en,ys=Jn==="inherit"?Be.get(130):Jn,ds=Be.get(133),cs=Nt.isDominatedByLongLines,ps=Be.get(57),In=Be.get(67).renderType!==0,os=Be.get(68),ui=Be.get(104),ke=Be.get(83),Ke=Be.get(72),Ue=Be.get(102),bt=Ue.verticalScrollbarSize,it=Ue.verticalHasArrows,fi=Ue.arrowSize,_i=Ue.horizontalScrollbarSize,Te=Be.get(43),tt=Be.get(109)!=="never";let Wt=Be.get(65);Te&&tt&&(Wt+=16);let Vt=0;if(In){const Si=Math.max(En,os);Vt=Math.round(Si*gn)}let Ni=0;ps&&(Ni=hi*Nt.glyphMarginDecorationLaneCount);let ji=0,Ai=ji+Ni,on=Ai+Vt,mn=on+Wt;const Rn=Ri-Ni-Vt-Wt;let pi=!1,ti=!1,ii=-1;Jn==="inherit"&&cs?(pi=!0,ti=!0):ys==="on"||ys==="bounded"?ti=!0:ys==="wordWrapColumn"&&(ii=ds);const Ct=x._computeMinimapLayout({outerWidth:Ri,outerHeight:Fi,lineHeight:hi,typicalHalfwidthCharacterWidth:bn,pixelRatio:Bn,scrollBeyondLastLine:ui,paddingTop:ke.top,paddingBottom:ke.bottom,minimap:Ke,verticalScrollbarWidth:bt,viewLineCount:kn,remainingWidth:Rn,isViewportWrapping:ti},Nt.memory||new y);Ct.renderMinimap!==0&&Ct.minimapLeft===0&&(ji+=Ct.minimapWidth,Ai+=Ct.minimapWidth,on+=Ct.minimapWidth,mn+=Ct.minimapWidth);const It=Rn-Ct.minimapWidth,Qt=Math.max(1,Math.floor((It-bt-2)/bn)),Ut=it?fi:0;return ti&&(ii=Math.max(1,Qt),ys==="bounded"&&(ii=Math.min(ii,ds))),{width:Ri,height:Fi,glyphMarginLeft:ji,glyphMarginWidth:Ni,glyphMarginDecorationLaneCount:Nt.glyphMarginDecorationLaneCount,lineNumbersLeft:Ai,lineNumbersWidth:Vt,decorationsLeft:on,decorationsWidth:Wt,contentLeft:mn,contentWidth:It,minimap:Ct,viewportColumn:Qt,isWordWrapMinified:pi,isViewportWrapping:ti,wrappingColumn:ii,verticalScrollbarWidth:bt,horizontalScrollbarHeight:_i,overviewRuler:{top:Ut,width:bt,height:Fi-2*Ut,right:0}}}}class rt extends b{constructor(){super(137,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[T.NC("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),T.NC("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:T.NC("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(Be){return G(Be,"simple",["simple","advanced"])}compute(Be,Nt,Ri){return Nt.get(2)===2?"advanced":Ri}}var Xe;(function(ei){ei.Off="off",ei.OnCode="onCode",ei.On="on"})(Xe||(Xe={}));class Ze extends b{constructor(){const Be={enabled:!0,experimental:{showAiIcon:Xe.Off}};super(64,"lightbulb",Be,{"editor.lightbulb.enabled":{type:"boolean",default:Be.enabled,description:T.NC("codeActions","Enables the Code Action lightbulb in the editor.")},"editor.lightbulb.experimental.showAiIcon":{type:"string",enum:[Xe.Off,Xe.OnCode,Xe.On],default:Be.experimental.showAiIcon,enumDescriptions:[T.NC("editor.lightbulb.showAiIcon.off","Don not show the AI icon."),T.NC("editor.lightbulb.showAiIcon.onCode","Show an AI icon when the code action menu contains an AI action, but only on code."),T.NC("editor.lightbulb.showAiIcon.on","Show an AI icon when the code action menu contains an AI action, on code and empty lines.")],description:T.NC("showAiIcons","Show an AI icon along with the lightbulb when the code action menu contains an AI action.")}})}validate(Be){var Nt,Ri;if(!Be||typeof Be!="object")return this.defaultValue;const Fi=Be;return{enabled:u(Fi.enabled,this.defaultValue.enabled),experimental:{showAiIcon:G((Nt=Fi.experimental)===null||Nt===void 0?void 0:Nt.showAiIcon,(Ri=this.defaultValue.experimental)===null||Ri===void 0?void 0:Ri.showAiIcon,[Xe.Off,Xe.OnCode,Xe.On])}}}}class lt extends b{constructor(){const Be={enabled:!1,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(114,"stickyScroll",Be,{"editor.stickyScroll.enabled":{type:"boolean",default:Be.enabled,description:T.NC("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor.")},"editor.stickyScroll.maxLineCount":{type:"number",default:Be.maxLineCount,minimum:1,maximum:10,description:T.NC("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:Be.defaultModel,description:T.NC("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:Be.scrollWithEditor,description:T.NC("editor.stickyScroll.scrollWithEditor","Enable scrolling of Sticky Scroll with the editor's horizontal scrollbar.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const Nt=Be;return{enabled:u(Nt.enabled,this.defaultValue.enabled),maxLineCount:R.clampedInt(Nt.maxLineCount,this.defaultValue.maxLineCount,1,10),defaultModel:G(Nt.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:u(Nt.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}class ut extends b{constructor(){const Be={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(139,"inlayHints",Be,{"editor.inlayHints.enabled":{type:"string",default:Be.enabled,description:T.NC("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[T.NC("editor.inlayHints.on","Inlay hints are enabled"),T.NC("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",v.dz?"Ctrl+Option":"Ctrl+Alt"),T.NC("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",v.dz?"Ctrl+Option":"Ctrl+Alt"),T.NC("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:Be.fontSize,markdownDescription:T.NC("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:Be.fontFamily,markdownDescription:T.NC("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:Be.padding,description:T.NC("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const Nt=Be;return typeof Nt.enabled=="boolean"&&(Nt.enabled=Nt.enabled?"on":"off"),{enabled:G(Nt.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:R.clampedInt(Nt.fontSize,this.defaultValue.fontSize,0,100),fontFamily:Y.string(Nt.fontFamily,this.defaultValue.fontFamily),padding:u(Nt.padding,this.defaultValue.padding)}}}class ct extends b{constructor(){super(65,"lineDecorationsWidth",10)}validate(Be){return typeof Be=="string"&&/^\d+(\.\d+)?ch$/.test(Be)?-parseFloat(Be.substring(0,Be.length-2)):R.clampedInt(Be,this.defaultValue,0,1e3)}compute(Be,Nt,Ri){return Ri<0?R.clampedInt(-Ri*Be.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):Ri}}class He extends F{constructor(){super(66,"lineHeight",xi.lineHeight,Be=>F.clamp(Be,0,150),{markdownDescription:T.NC("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(Be,Nt,Ri){return Be.fontInfo.lineHeight}}class Dt extends b{constructor(){const Be={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(72,"minimap",Be,{"editor.minimap.enabled":{type:"boolean",default:Be.enabled,description:T.NC("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:Be.autohide,description:T.NC("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[T.NC("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),T.NC("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),T.NC("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:Be.size,description:T.NC("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:Be.side,description:T.NC("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Be.showSlider,description:T.NC("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:Be.scale,minimum:1,maximum:3,enum:[1,2,3],description:T.NC("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:Be.renderCharacters,description:T.NC("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:Be.maxColumn,description:T.NC("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const Nt=Be;return{enabled:u(Nt.enabled,this.defaultValue.enabled),autohide:u(Nt.autohide,this.defaultValue.autohide),size:G(Nt.size,this.defaultValue.size,["proportional","fill","fit"]),side:G(Nt.side,this.defaultValue.side,["right","left"]),showSlider:G(Nt.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:u(Nt.renderCharacters,this.defaultValue.renderCharacters),scale:R.clampedInt(Nt.scale,1,1,3),maxColumn:R.clampedInt(Nt.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function gt(ei){return ei==="ctrlCmd"?v.dz?"metaKey":"ctrlKey":"altKey"}class Re extends b{constructor(){super(83,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:T.NC("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:T.NC("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const Nt=Be;return{top:R.clampedInt(Nt.top,0,0,1e3),bottom:R.clampedInt(Nt.bottom,0,0,1e3)}}}class st extends b{constructor(){const Be={enabled:!0,cycle:!0};super(85,"parameterHints",Be,{"editor.parameterHints.enabled":{type:"boolean",default:Be.enabled,description:T.NC("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:Be.cycle,description:T.NC("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const Nt=Be;return{enabled:u(Nt.enabled,this.defaultValue.enabled),cycle:u(Nt.cycle,this.defaultValue.cycle)}}}class Tt extends _{constructor(){super(141)}compute(Be,Nt,Ri){return Be.pixelRatio}}class xt extends b{constructor(){const Be={other:"on",comments:"off",strings:"off"},Nt=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[T.NC("on","Quick suggestions show inside the suggest widget"),T.NC("inline","Quick suggestions show as ghost text"),T.NC("off","Quick suggestions are disabled")]}];super(88,"quickSuggestions",Be,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:Nt,default:Be.strings,description:T.NC("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:Nt,default:Be.comments,description:T.NC("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:Nt,default:Be.other,description:T.NC("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:Be,markdownDescription:T.NC("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=Be}validate(Be){if(typeof Be=="boolean"){const Bn=Be?"on":"off";return{comments:Bn,strings:Bn,other:Bn}}if(!Be||typeof Be!="object")return this.defaultValue;const{other:Nt,comments:Ri,strings:Fi}=Be,hi=["on","inline","off"];let En,bn,gn;return typeof Nt=="boolean"?En=Nt?"on":"off":En=G(Nt,this.defaultValue.other,hi),typeof Ri=="boolean"?bn=Ri?"on":"off":bn=G(Ri,this.defaultValue.comments,hi),typeof Fi=="boolean"?gn=Fi?"on":"off":gn=G(Fi,this.defaultValue.strings,hi),{other:En,comments:bn,strings:gn}}}class vt extends b{constructor(){super(67,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[T.NC("lineNumbers.off","Line numbers are not rendered."),T.NC("lineNumbers.on","Line numbers are rendered as absolute number."),T.NC("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),T.NC("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:T.NC("lineNumbers","Controls the display of line numbers.")})}validate(Be){let Nt=this.defaultValue.renderType,Ri=this.defaultValue.renderFn;return typeof Be!="undefined"&&(typeof Be=="function"?(Nt=4,Ri=Be):Be==="interval"?Nt=3:Be==="relative"?Nt=2:Be==="on"?Nt=1:Nt=0),{renderType:Nt,renderFn:Ri}}}function we(ei){const Be=ei.get(97);return Be==="editable"?ei.get(90):Be!=="on"}class pt extends b{constructor(){const Be=[],Nt={type:"number",description:T.NC("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(101,"rulers",Be,{type:"array",items:{anyOf:[Nt,{type:["object"],properties:{column:Nt,color:{type:"string",description:T.NC("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:Be,description:T.NC("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(Be){if(Array.isArray(Be)){const Nt=[];for(const Ri of Be)if(typeof Ri=="number")Nt.push({column:R.clampedInt(Ri,0,0,1e4),color:null});else if(Ri&&typeof Ri=="object"){const Fi=Ri;Nt.push({column:R.clampedInt(Fi.column,0,0,1e4),color:Fi.color})}return Nt.sort((Ri,Fi)=>Ri.column-Fi.column),Nt}return this.defaultValue}}class Mt extends b{constructor(){super(91,"readOnlyMessage",void 0)}validate(Be){return!Be||typeof Be!="object"?this.defaultValue:Be}}function Ft(ei,Be){if(typeof ei!="string")return Be;switch(ei){case"hidden":return 2;case"visible":return 3;default:return 1}}class Xt extends b{constructor(){const Be={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(102,"scrollbar",Be,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[T.NC("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),T.NC("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),T.NC("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:T.NC("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[T.NC("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),T.NC("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),T.NC("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:T.NC("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:Be.verticalScrollbarSize,description:T.NC("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:Be.horizontalScrollbarSize,description:T.NC("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:Be.scrollByPage,description:T.NC("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:Be.ignoreHorizontalScrollbarInContentHeight,description:T.NC("scrollbar.ignoreHorizontalScrollbarInContentHeight","When set, the horizontal scrollbar will not increase the size of the editor's content.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const Nt=Be,Ri=R.clampedInt(Nt.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Fi=R.clampedInt(Nt.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:R.clampedInt(Nt.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Ft(Nt.vertical,this.defaultValue.vertical),horizontal:Ft(Nt.horizontal,this.defaultValue.horizontal),useShadows:u(Nt.useShadows,this.defaultValue.useShadows),verticalHasArrows:u(Nt.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:u(Nt.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:u(Nt.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:u(Nt.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Ri,horizontalSliderSize:R.clampedInt(Nt.horizontalSliderSize,Ri,0,1e3),verticalScrollbarSize:Fi,verticalSliderSize:R.clampedInt(Nt.verticalSliderSize,Fi,0,1e3),scrollByPage:u(Nt.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:u(Nt.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}}const li="inUntrustedWorkspace",Yt={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class Ne extends b{constructor(){const Be={nonBasicASCII:li,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:li,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(124,"unicodeHighlight",Be,{[Yt.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,li],default:Be.nonBasicASCII,description:T.NC("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[Yt.invisibleCharacters]:{restricted:!0,type:"boolean",default:Be.invisibleCharacters,description:T.NC("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[Yt.ambiguousCharacters]:{restricted:!0,type:"boolean",default:Be.ambiguousCharacters,description:T.NC("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[Yt.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,li],default:Be.includeComments,description:T.NC("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[Yt.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,li],default:Be.includeStrings,description:T.NC("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[Yt.allowedCharacters]:{restricted:!0,type:"object",default:Be.allowedCharacters,description:T.NC("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[Yt.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:Be.allowedLocales,description:T.NC("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(Be,Nt){let Ri=!1;Nt.allowedCharacters&&Be&&(X.fS(Be.allowedCharacters,Nt.allowedCharacters)||(Be=sn(Di({},Be),{allowedCharacters:Nt.allowedCharacters}),Ri=!0)),Nt.allowedLocales&&Be&&(X.fS(Be.allowedLocales,Nt.allowedLocales)||(Be=sn(Di({},Be),{allowedLocales:Nt.allowedLocales}),Ri=!0));const Fi=super.applyUpdate(Be,Nt);return Ri?new C(Fi.newValue,!0):Fi}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const Nt=Be;return{nonBasicASCII:Ve(Nt.nonBasicASCII,li,[!0,!1,li]),invisibleCharacters:u(Nt.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:u(Nt.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:Ve(Nt.includeComments,li,[!0,!1,li]),includeStrings:Ve(Nt.includeStrings,li,[!0,!1,li]),allowedCharacters:this.validateBooleanMap(Be.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(Be.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(Be,Nt){if(typeof Be!="object"||!Be)return Nt;const Ri={};for(const[Fi,hi]of Object.entries(Be))hi===!0&&(Ri[Fi]=!0);return Ri}}class yt extends b{constructor(){const Be={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1};super(62,"inlineSuggest",Be,{"editor.inlineSuggest.enabled":{type:"boolean",default:Be.enabled,description:T.NC("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:Be.showToolbar,enum:["always","onHover","never"],enumDescriptions:[T.NC("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),T.NC("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion."),T.NC("inlineSuggest.showToolbar.never","Never show the inline suggestion toolbar.")],description:T.NC("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:Be.suppressSuggestions,description:T.NC("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const Nt=Be;return{enabled:u(Nt.enabled,this.defaultValue.enabled),mode:G(Nt.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:G(Nt.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:u(Nt.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:u(Nt.keepOnBlur,this.defaultValue.keepOnBlur)}}}class De extends b{constructor(){const Be={enabled:k.D.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:k.D.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",Be,{"editor.bracketPairColorization.enabled":{type:"boolean",default:Be.enabled,markdownDescription:T.NC("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:Be.independentColorPoolPerBracketType,description:T.NC("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const Nt=Be;return{enabled:u(Nt.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:u(Nt.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class di extends b{constructor(){const Be={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",Be,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[T.NC("editor.guides.bracketPairs.true","Enables bracket pair guides."),T.NC("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),T.NC("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:Be.bracketPairs,description:T.NC("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[T.NC("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),T.NC("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),T.NC("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:Be.bracketPairsHorizontal,description:T.NC("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:Be.highlightActiveBracketPair,description:T.NC("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:Be.indentation,description:T.NC("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[T.NC("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),T.NC("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),T.NC("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:Be.highlightActiveIndentation,description:T.NC("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const Nt=Be;return{bracketPairs:Ve(Nt.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:Ve(Nt.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:u(Nt.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:u(Nt.indentation,this.defaultValue.indentation),highlightActiveIndentation:Ve(Nt.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function Ve(ei,Be,Nt){const Ri=Nt.indexOf(ei);return Ri===-1?Be:Nt[Ri]}class $i extends b{constructor(){const Be={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(117,"suggest",Be,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[T.NC("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),T.NC("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:Be.insertMode,description:T.NC("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:Be.filterGraceful,description:T.NC("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:Be.localityBonus,description:T.NC("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:Be.shareSuggestSelections,markdownDescription:T.NC("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[T.NC("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),T.NC("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),T.NC("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),T.NC("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:Be.selectionMode,markdownDescription:T.NC("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions (`#editor.quickSuggestions#` and `#editor.suggestOnTriggerCharacters#`) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:Be.snippetsPreventQuickSuggestions,description:T.NC("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:Be.showIcons,description:T.NC("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:Be.showStatusBar,description:T.NC("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:Be.preview,description:T.NC("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:Be.showInlineDetails,description:T.NC("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:T.NC("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:T.NC("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:T.NC("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const Nt=Be;return{insertMode:G(Nt.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:u(Nt.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:u(Nt.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:u(Nt.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:u(Nt.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:G(Nt.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:u(Nt.showIcons,this.defaultValue.showIcons),showStatusBar:u(Nt.showStatusBar,this.defaultValue.showStatusBar),preview:u(Nt.preview,this.defaultValue.preview),previewMode:G(Nt.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:u(Nt.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:u(Nt.showMethods,this.defaultValue.showMethods),showFunctions:u(Nt.showFunctions,this.defaultValue.showFunctions),showConstructors:u(Nt.showConstructors,this.defaultValue.showConstructors),showDeprecated:u(Nt.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:u(Nt.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:u(Nt.showFields,this.defaultValue.showFields),showVariables:u(Nt.showVariables,this.defaultValue.showVariables),showClasses:u(Nt.showClasses,this.defaultValue.showClasses),showStructs:u(Nt.showStructs,this.defaultValue.showStructs),showInterfaces:u(Nt.showInterfaces,this.defaultValue.showInterfaces),showModules:u(Nt.showModules,this.defaultValue.showModules),showProperties:u(Nt.showProperties,this.defaultValue.showProperties),showEvents:u(Nt.showEvents,this.defaultValue.showEvents),showOperators:u(Nt.showOperators,this.defaultValue.showOperators),showUnits:u(Nt.showUnits,this.defaultValue.showUnits),showValues:u(Nt.showValues,this.defaultValue.showValues),showConstants:u(Nt.showConstants,this.defaultValue.showConstants),showEnums:u(Nt.showEnums,this.defaultValue.showEnums),showEnumMembers:u(Nt.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:u(Nt.showKeywords,this.defaultValue.showKeywords),showWords:u(Nt.showWords,this.defaultValue.showWords),showColors:u(Nt.showColors,this.defaultValue.showColors),showFiles:u(Nt.showFiles,this.defaultValue.showFiles),showReferences:u(Nt.showReferences,this.defaultValue.showReferences),showFolders:u(Nt.showFolders,this.defaultValue.showFolders),showTypeParameters:u(Nt.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:u(Nt.showSnippets,this.defaultValue.showSnippets),showUsers:u(Nt.showUsers,this.defaultValue.showUsers),showIssues:u(Nt.showIssues,this.defaultValue.showIssues)}}}class wn extends b{constructor(){super(112,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:T.NC("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:T.NC("selectSubwords","Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(Be){return!Be||typeof Be!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:u(Be.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:u(Be.selectSubwords,this.defaultValue.selectSubwords)}}}class Pt extends b{constructor(){super(136,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[T.NC("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),T.NC("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),T.NC("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),T.NC("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:T.NC("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(Be){switch(Be){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(Be,Nt,Ri){return Nt.get(2)===2?0:Ri}}class le extends _{constructor(){super(144)}compute(Be,Nt,Ri){const Fi=Nt.get(143);return{isDominatedByLongLines:Be.isDominatedByLongLines,isWordWrapMinified:Fi.isWordWrapMinified,isViewportWrapping:Fi.isViewportWrapping,wrappingColumn:Fi.wrappingColumn}}}class mt extends b{constructor(){const Be={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",Be,{"editor.dropIntoEditor.enabled":{type:"boolean",default:Be.enabled,markdownDescription:T.NC("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down `Shift`-key (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:T.NC("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[T.NC("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),T.NC("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const Nt=Be;return{enabled:u(Nt.enabled,this.defaultValue.enabled),showDropSelector:G(Nt.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class jt extends b{constructor(){const Be={enabled:!0,showPasteSelector:"afterPaste"};super(84,"pasteAs",Be,{"editor.pasteAs.enabled":{type:"boolean",default:Be.enabled,markdownDescription:T.NC("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:T.NC("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[T.NC("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),T.NC("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(Be){if(!Be||typeof Be!="object")return this.defaultValue;const Nt=Be;return{enabled:u(Nt.enabled,this.defaultValue.enabled),showPasteSelector:G(Nt.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const bi="Consolas, 'Courier New', monospace",Ot="Menlo, Monaco, 'Courier New', monospace",Ki="'Droid Sans Mono', 'monospace', monospace",xi={fontFamily:v.dz?Ot:v.IJ?Ki:bi,fontWeight:"normal",fontSize:v.dz?12:14,lineHeight:0,letterSpacing:0},dn=[];function zt(ei){return dn[ei.id]=ei,ei}const Qi={acceptSuggestionOnCommitCharacter:zt(new N(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:T.NC("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:zt(new Z(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",T.NC("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:T.NC("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:zt(new J),accessibilityPageSize:zt(new R(3,"accessibilityPageSize",10,1,1073741824,{description:T.NC("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:zt(new Y(4,"ariaLabel",T.NC("editorViewAccessibleLabel","Editor content"))),ariaRequired:zt(new N(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:zt(new N(8,"screenReaderAnnounceInlineSuggestion",!0,{description:T.NC("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:zt(new Z(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",T.NC("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),T.NC("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:T.NC("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:zt(new Z(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",T.NC("editor.autoClosingComments.languageDefined","Use language configurations to determine when to autoclose comments."),T.NC("editor.autoClosingComments.beforeWhitespace","Autoclose comments only when the cursor is to the left of whitespace."),""],description:T.NC("autoClosingComments","Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:zt(new Z(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",T.NC("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:T.NC("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:zt(new Z(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",T.NC("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:T.NC("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:zt(new Z(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",T.NC("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),T.NC("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:T.NC("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:zt(new ne(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],$,{enumDescriptions:[T.NC("editor.autoIndent.none","The editor will not insert indentation automatically."),T.NC("editor.autoIndent.keep","The editor will keep the current line's indentation."),T.NC("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),T.NC("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),T.NC("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:T.NC("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:zt(new N(13,"automaticLayout",!1)),autoSurround:zt(new Z(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[T.NC("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),T.NC("editor.autoSurround.quotes","Surround with quotes but not brackets."),T.NC("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:T.NC("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:zt(new De),bracketPairGuides:zt(new di),stickyTabStops:zt(new N(115,"stickyTabStops",!1,{description:T.NC("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:zt(new N(17,"codeLens",!0,{description:T.NC("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:zt(new Y(18,"codeLensFontFamily","",{description:T.NC("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:zt(new R(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:T.NC("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:zt(new N(20,"colorDecorators",!0,{description:T.NC("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:zt(new Z(146,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[T.NC("editor.colorDecoratorActivatedOn.clickAndHover","Make the color picker appear both on click and hover of the color decorator"),T.NC("editor.colorDecoratorActivatedOn.hover","Make the color picker appear on hover of the color decorator"),T.NC("editor.colorDecoratorActivatedOn.click","Make the color picker appear on click of the color decorator")],description:T.NC("colorDecoratorActivatedOn","Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:zt(new R(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:T.NC("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:zt(new N(22,"columnSelection",!1,{description:T.NC("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:zt(new se),contextmenu:zt(new N(24,"contextmenu",!0)),copyWithSyntaxHighlighting:zt(new N(25,"copyWithSyntaxHighlighting",!0,{description:T.NC("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:zt(new ne(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],re,{description:T.NC("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:zt(new Z(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[T.NC("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),T.NC("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),T.NC("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:T.NC("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:zt(new ne(28,"cursorStyle",he.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],H,{description:T.NC("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:zt(new R(29,"cursorSurroundingLines",0,0,1073741824,{description:T.NC("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:zt(new Z(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[T.NC("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),T.NC("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],markdownDescription:T.NC("cursorSurroundingLinesStyle","Controls when `#cursorSurroundingLines#` should be enforced.")})),cursorWidth:zt(new R(31,"cursorWidth",0,0,1073741824,{markdownDescription:T.NC("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:zt(new N(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:zt(new N(33,"disableMonospaceOptimizations",!1)),domReadOnly:zt(new N(34,"domReadOnly",!1)),dragAndDrop:zt(new N(35,"dragAndDrop",!0,{description:T.NC("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:zt(new j),dropIntoEditor:zt(new mt),stickyScroll:zt(new lt),experimentalWhitespaceRendering:zt(new Z(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[T.NC("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),T.NC("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),T.NC("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:T.NC("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:zt(new Y(39,"extraEditorClassName","")),fastScrollSensitivity:zt(new F(40,"fastScrollSensitivity",5,ei=>ei<=0?5:ei,{markdownDescription:T.NC("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:zt(new K),fixedOverflowWidgets:zt(new N(42,"fixedOverflowWidgets",!1)),folding:zt(new N(43,"folding",!0,{description:T.NC("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:zt(new Z(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[T.NC("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),T.NC("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:T.NC("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:zt(new N(45,"foldingHighlight",!0,{description:T.NC("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:zt(new N(46,"foldingImportsByDefault",!1,{description:T.NC("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:zt(new R(47,"foldingMaximumRegions",5e3,10,65e3,{description:T.NC("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:zt(new N(48,"unfoldOnClickAfterEndOfLine",!1,{description:T.NC("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:zt(new Y(49,"fontFamily",xi.fontFamily,{description:T.NC("fontFamily","Controls the font family.")})),fontInfo:zt(new _e),fontLigatures2:zt(new ie),fontSize:zt(new Ee),fontWeight:zt(new Ce),fontVariations:zt(new ce),formatOnPaste:zt(new N(55,"formatOnPaste",!1,{description:T.NC("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:zt(new N(56,"formatOnType",!1,{description:T.NC("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:zt(new N(57,"glyphMargin",!0,{description:T.NC("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:zt(new pe),hideCursorInOverviewRuler:zt(new N(59,"hideCursorInOverviewRuler",!1,{description:T.NC("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:zt(new xe),inDiffEditor:zt(new N(61,"inDiffEditor",!1)),letterSpacing:zt(new F(63,"letterSpacing",xi.letterSpacing,ei=>F.clamp(ei,-5,20),{description:T.NC("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:zt(new Ze),lineDecorationsWidth:zt(new ct),lineHeight:zt(new He),lineNumbers:zt(new vt),lineNumbersMinChars:zt(new R(68,"lineNumbersMinChars",5,1,300)),linkedEditing:zt(new N(69,"linkedEditing",!1,{description:T.NC("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:zt(new N(70,"links",!0,{description:T.NC("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:zt(new Z(71,"matchBrackets","always",["always","near","never"],{description:T.NC("matchBrackets","Highlight matching brackets.")})),minimap:zt(new Dt),mouseStyle:zt(new Z(73,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:zt(new F(74,"mouseWheelScrollSensitivity",1,ei=>ei===0?1:ei,{markdownDescription:T.NC("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:zt(new N(75,"mouseWheelZoom",!1,{markdownDescription:T.NC("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:zt(new N(76,"multiCursorMergeOverlapping",!0,{description:T.NC("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:zt(new ne(77,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],gt,{markdownEnumDescriptions:[T.NC("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),T.NC("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:T.NC({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:zt(new Z(78,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[T.NC("multiCursorPaste.spread","Each cursor pastes a single line of the text."),T.NC("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:T.NC("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:zt(new R(79,"multiCursorLimit",1e4,1,1e5,{markdownDescription:T.NC("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:zt(new Z(80,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[T.NC("occurrencesHighlight.off","Does not highlight occurrences."),T.NC("occurrencesHighlight.singleFile","Highlights occurrences only in the current file."),T.NC("occurrencesHighlight.multiFile","Experimental: Highlights occurrences across all valid open files.")],markdownDescription:T.NC("occurrencesHighlight","Controls whether occurrences should be highlighted across open files.")})),overviewRulerBorder:zt(new N(81,"overviewRulerBorder",!0,{description:T.NC("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:zt(new R(82,"overviewRulerLanes",3,0,3)),padding:zt(new Re),pasteAs:zt(new jt),parameterHints:zt(new st),peekWidgetDefaultFocus:zt(new Z(86,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[T.NC("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),T.NC("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:T.NC("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:zt(new N(87,"definitionLinkOpensInPeek",!1,{description:T.NC("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:zt(new xt),quickSuggestionsDelay:zt(new R(89,"quickSuggestionsDelay",10,0,1073741824,{description:T.NC("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:zt(new N(90,"readOnly",!1)),readOnlyMessage:zt(new Mt),renameOnType:zt(new N(92,"renameOnType",!1,{description:T.NC("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:T.NC("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:zt(new N(93,"renderControlCharacters",!0,{description:T.NC("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:zt(new Z(94,"renderFinalNewline",v.IJ?"dimmed":"on",["off","on","dimmed"],{description:T.NC("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:zt(new Z(95,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",T.NC("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:T.NC("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:zt(new N(96,"renderLineHighlightOnlyWhenFocus",!1,{description:T.NC("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:zt(new Z(97,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:zt(new Z(98,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",T.NC("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),T.NC("renderWhitespace.selection","Render whitespace characters only on selected text."),T.NC("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:T.NC("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:zt(new R(99,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:zt(new N(100,"roundedSelection",!0,{description:T.NC("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:zt(new pt),scrollbar:zt(new Xt),scrollBeyondLastColumn:zt(new R(103,"scrollBeyondLastColumn",4,0,1073741824,{description:T.NC("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:zt(new N(104,"scrollBeyondLastLine",!0,{description:T.NC("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:zt(new N(105,"scrollPredominantAxis",!0,{description:T.NC("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:zt(new N(106,"selectionClipboard",!0,{description:T.NC("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:v.IJ})),selectionHighlight:zt(new N(107,"selectionHighlight",!0,{description:T.NC("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:zt(new N(108,"selectOnLineNumbers",!0)),showFoldingControls:zt(new Z(109,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[T.NC("showFoldingControls.always","Always show the folding controls."),T.NC("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),T.NC("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:T.NC("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:zt(new N(110,"showUnused",!0,{description:T.NC("showUnused","Controls fading out of unused code.")})),showDeprecated:zt(new N(138,"showDeprecated",!0,{description:T.NC("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:zt(new ut),snippetSuggestions:zt(new Z(111,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[T.NC("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),T.NC("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),T.NC("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),T.NC("snippetSuggestions.none","Do not show snippet suggestions.")],description:T.NC("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:zt(new wn),smoothScrolling:zt(new N(113,"smoothScrolling",!1,{description:T.NC("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:zt(new R(116,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:zt(new $i),inlineSuggest:zt(new yt),inlineCompletionsAccessibilityVerbose:zt(new N(147,"inlineCompletionsAccessibilityVerbose",!1,{description:T.NC("inlineCompletionsAccessibilityVerbose","Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:zt(new R(118,"suggestFontSize",0,0,1e3,{markdownDescription:T.NC("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:zt(new R(119,"suggestLineHeight",0,0,1e3,{markdownDescription:T.NC("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:zt(new N(120,"suggestOnTriggerCharacters",!0,{description:T.NC("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:zt(new Z(121,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[T.NC("suggestSelection.first","Always select the first suggestion."),T.NC("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),T.NC("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:T.NC("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:zt(new Z(122,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[T.NC("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),T.NC("tabCompletion.off","Disable tab completions."),T.NC("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:T.NC("tabCompletion","Enables tab completions.")})),tabIndex:zt(new R(123,"tabIndex",0,-1,1073741824)),unicodeHighlight:zt(new Ne),unusualLineTerminators:zt(new Z(125,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[T.NC("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),T.NC("unusualLineTerminators.off","Unusual line terminators are ignored."),T.NC("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:T.NC("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:zt(new N(126,"useShadowDOM",!0)),useTabStops:zt(new N(127,"useTabStops",!0,{description:T.NC("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordBreak:zt(new Z(128,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[T.NC("wordBreak.normal","Use the default line break rule."),T.NC("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:T.NC("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSeparators:zt(new Y(129,"wordSeparators",L.vu,{description:T.NC("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:zt(new Z(130,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[T.NC("wordWrap.off","Lines will never wrap."),T.NC("wordWrap.on","Lines will wrap at the viewport width."),T.NC({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),T.NC({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:T.NC({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:zt(new Y(131,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:zt(new Y(132,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:zt(new R(133,"wordWrapColumn",80,1,1073741824,{markdownDescription:T.NC({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:zt(new Z(134,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:zt(new Z(135,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:zt(new P),defaultColorDecorators:zt(new N(145,"defaultColorDecorators",!1,{markdownDescription:T.NC("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:zt(new Tt),tabFocusMode:zt(new N(142,"tabFocusMode",!1,{markdownDescription:T.NC("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:zt(new x),wrappingInfo:zt(new le),wrappingIndent:zt(new Pt),wrappingStrategy:zt(new rt)}},65072:function(Gt,ze,c){"use strict";c.d(ze,{C:function(){return X}});var D=c(46328);const X=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new D.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(v){v=Math.min(Math.max(-5,v),20),this._zoomLevel!==v&&(this._zoomLevel=v,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},22690:function(Gt,ze,c){"use strict";c.d(ze,{E4:function(){return T},pR:function(){return B}});var D=c(43998),X=c(38074),v=c(65072);const k=D.dz?1.5:1.35,L=8;class T{static createFromValidatedSettings(b,C,S){const _=b.get(49),a=b.get(53),u=b.get(52),N=b.get(51),O=b.get(54),R=b.get(66),V=b.get(63);return T._create(_,a,u,N,O,R,V,C,S)}static _create(b,C,S,_,a,u,N,O,R){u===0?u=k*S:u<L&&(u=u*S),u=Math.round(u),u<L&&(u=L);const V=1+(R?0:v.C.getZoomLevel()*.1);return S*=V,u*=V,a===X.Bo.TRANSLATE&&(C==="normal"||C==="bold"?a=X.Bo.OFF:(a=`'wght' ${parseInt(C,10)}`,C="normal")),new T({pixelRatio:O,fontFamily:b,fontWeight:C,fontSize:S,fontFeatureSettings:_,fontVariationSettings:a,lineHeight:u,letterSpacing:N})}constructor(b){this._bareFontInfoBrand=void 0,this.pixelRatio=b.pixelRatio,this.fontFamily=String(b.fontFamily),this.fontWeight=String(b.fontWeight),this.fontSize=b.fontSize,this.fontFeatureSettings=b.fontFeatureSettings,this.fontVariationSettings=b.fontVariationSettings,this.lineHeight=b.lineHeight|0,this.letterSpacing=b.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const b=X.hL.fontFamily,C=T._wrapInQuotes(this.fontFamily);return b&&this.fontFamily!==b?`${C}, ${b}`:C}static _wrapInQuotes(b){return/[,"']/.test(b)?b:/[+ ]/.test(b)?`"${b}"`:b}}const M=2;class B extends T{constructor(b,C){super(b),this._editorStylingBrand=void 0,this.version=M,this.isTrusted=C,this.isMonospace=b.isMonospace,this.typicalHalfwidthCharacterWidth=b.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=b.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=b.canUseHalfwidthRightwardsArrow,this.spaceWidth=b.spaceWidth,this.middotWidth=b.middotWidth,this.wsmiddotWidth=b.wsmiddotWidth,this.maxDigitWidth=b.maxDigitWidth}equals(b){return this.fontFamily===b.fontFamily&&this.fontWeight===b.fontWeight&&this.fontSize===b.fontSize&&this.fontFeatureSettings===b.fontFeatureSettings&&this.fontVariationSettings===b.fontVariationSettings&&this.lineHeight===b.lineHeight&&this.letterSpacing===b.letterSpacing&&this.typicalHalfwidthCharacterWidth===b.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===b.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===b.canUseHalfwidthRightwardsArrow&&this.spaceWidth===b.spaceWidth&&this.middotWidth===b.middotWidth&&this.wsmiddotWidth===b.wsmiddotWidth&&this.maxDigitWidth===b.maxDigitWidth}}},72842:function(Gt,ze,c){"use strict";c.d(ze,{N:function(){return X},q:function(){return v}});var D=c(57684);class X{constructor(L){const T=(0,D.K)(L);this._defaultValue=T,this._asciiMap=X._createAsciiMap(T),this._map=new Map}static _createAsciiMap(L){const T=new Uint8Array(256);return T.fill(L),T}set(L,T){const M=(0,D.K)(T);L>=0&&L<256?this._asciiMap[L]=M:this._map.set(L,M)}get(L){return L>=0&&L<256?this._asciiMap[L]:this._map.get(L)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class v{constructor(){this._actual=new X(0)}add(L){this._actual.set(L,1)}has(L){return this._actual.get(L)===1}clear(){return this._actual.clear()}}},41498:function(Gt,ze,c){"use strict";c.d(ze,{i:function(){return X}});var D=c(80360);class X{static _nextVisibleColumn(k,L,T){return k===9?X.nextRenderTabStop(L,T):D.K7(k)||D.C8(k)?L+2:L+1}static visibleColumnFromColumn(k,L,T){const M=Math.min(L-1,k.length),B=k.substring(0,M),y=new D.W1(B);let b=0;for(;!y.eol();){const C=D.ZH(B,M,y.offset);y.nextGraphemeLength(),b=this._nextVisibleColumn(C,b,T)}return b}static columnFromVisibleColumn(k,L,T){if(L<=0)return 1;const M=k.length,B=new D.W1(k);let y=0,b=1;for(;!B.eol();){const C=D.ZH(k,M,B.offset);B.nextGraphemeLength();const S=this._nextVisibleColumn(C,y,T),_=B.offset+1;if(S>=L){const a=L-y;return S-L<a?_:b}y=S,b=_}return M+1}static nextRenderTabStop(k,L){return k+L-k%L}static nextIndentTabStop(k,L){return k+L-k%L}static prevRenderTabStop(k,L){return Math.max(0,k-1-(k-1)%L)}static prevIndentTabStop(k,L){return Math.max(0,k-1-(k-1)%L)}}},62336:function(Gt,ze,c){"use strict";c.d(ze,{h:function(){return X}});var D=c(54125);class X{static insert(k,L){return{range:new D.e(k.lineNumber,k.column,k.lineNumber,k.column),text:L,forceMoveMarkers:!0}}static delete(k){return{range:k,text:null}}static replace(k,L){return{range:k,text:L}}static replaceMove(k,L){return{range:k,text:L,forceMoveMarkers:!0}}}},76901:function(Gt,ze,c){"use strict";c.d(ze,{Bj:function(){return P},CE:function(){return Re},DS:function(){return Mt},HV:function(){return di},H_:function(){return V},Jn:function(){return Xt},Kh:function(){return L},L7:function(){return De},Mm:function(){return T},N8:function(){return J},Qb:function(){return Yt},Re:function(){return ct},Tf:function(){return R},To:function(){return yt},UP:function(){return st},Vs:function(){return gt},Xy:function(){return ne},YF:function(){return li},cK:function(){return $},dI:function(){return _},e9:function(){return G},eS:function(){return He},e_:function(){return Ee},f9:function(){return Ve},fY:function(){return S},gS:function(){return O},h1:function(){return F},hw:function(){return a},lK:function(){return ut},lS:function(){return Ft},ll:function(){return re},m$:function(){return pt},m1:function(){return xt},m3:function(){return Ne},m9:function(){return lt},n0:function(){return C},oV:function(){return we},qe:function(){return Z},r0:function(){return Tt},ts:function(){return vt},vP:function(){return Y},zJ:function(){return Dt},zd:function(){return se},zu:function(){return xe},zw:function(){return _e}});var D=c(18493),X=c(72225),v=c(32955),k=c(27722);const L=(0,v.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},D.NC("lineHighlight","Background color for the highlight of line at the cursor position.")),T=(0,v.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:v.lRK},D.NC("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),M=(0,v.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},D.NC("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),B=(0,v.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:v.xL1,hcLight:v.xL1},D.NC("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),y=(0,v.P6G)("editor.symbolHighlightBackground",{dark:v.MUv,light:v.MUv,hcDark:null,hcLight:null},D.NC("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),b=(0,v.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:v.xL1,hcLight:v.xL1},D.NC("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),C=(0,v.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:X.Il.black,hcDark:X.Il.white,hcLight:"#0F4A85"},D.NC("caret","Color of the editor cursor.")),S=(0,v.P6G)("editorCursor.background",null,D.NC("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),_=(0,v.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},D.NC("editorWhitespaces","Color of whitespace characters in the editor.")),a=(0,v.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:X.Il.white,hcLight:"#292929"},D.NC("editorLineNumbers","Color of editor line numbers.")),u=(0,v.P6G)("editorIndentGuide.background",{dark:_,light:_,hcDark:_,hcLight:_},D.NC("editorIndentGuides","Color of the editor indentation guides."),!1,D.NC("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),N=(0,v.P6G)("editorIndentGuide.activeBackground",{dark:_,light:_,hcDark:_,hcLight:_},D.NC("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,D.NC("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),O=(0,v.P6G)("editorIndentGuide.background1",{dark:u,light:u,hcDark:u,hcLight:u},D.NC("editorIndentGuides1","Color of the editor indentation guides (1).")),R=(0,v.P6G)("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorIndentGuides2","Color of the editor indentation guides (2).")),V=(0,v.P6G)("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorIndentGuides3","Color of the editor indentation guides (3).")),F=(0,v.P6G)("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorIndentGuides4","Color of the editor indentation guides (4).")),Y=(0,v.P6G)("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorIndentGuides5","Color of the editor indentation guides (5).")),G=(0,v.P6G)("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorIndentGuides6","Color of the editor indentation guides (6).")),Z=(0,v.P6G)("editorIndentGuide.activeBackground1",{dark:N,light:N,hcDark:N,hcLight:N},D.NC("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),ne=(0,v.P6G)("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),$=(0,v.P6G)("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),J=(0,v.P6G)("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),se=(0,v.P6G)("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),re=(0,v.P6G)("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),he=(0,v.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:v.xL1,hcLight:v.xL1},D.NC("editorActiveLineNumber","Color of editor active line number"),!1,D.NC("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),H=(0,v.P6G)("editorLineNumber.activeForeground",{dark:he,light:he,hcDark:he,hcLight:he},D.NC("editorActiveLineNumber","Color of editor active line number")),P=(0,v.P6G)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},D.NC("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed.")),j=(0,v.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:X.Il.lightgrey,hcDark:X.Il.white,hcLight:"#292929"},D.NC("editorRuler","Color of the editor rulers.")),K=(0,v.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},D.NC("editorCodeLensForeground","Foreground color of editor CodeLens")),ie=(0,v.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},D.NC("editorBracketMatchBackground","Background color behind matching brackets")),ce=(0,v.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:v.lRK,hcLight:v.lRK},D.NC("editorBracketMatchBorder","Color for matching brackets boxes")),_e=(0,v.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},D.NC("editorOverviewRulerBorder","Color of the overview ruler border.")),Ee=(0,v.P6G)("editorOverviewRuler.background",null,D.NC("editorOverviewRulerBackground","Background color of the editor overview ruler.")),Ce=(0,v.P6G)("editorGutter.background",{dark:v.cvW,light:v.cvW,hcDark:v.cvW,hcLight:v.cvW},D.NC("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),pe=(0,v.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:X.Il.fromHex("#fff").transparent(.8),hcLight:v.lRK},D.NC("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),xe=(0,v.P6G)("editorUnnecessaryCode.opacity",{dark:X.Il.fromHex("#000a"),light:X.Il.fromHex("#0007"),hcDark:null,hcLight:null},D.NC("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),x=(0,v.P6G)("editorGhostText.border",{dark:null,light:null,hcDark:X.Il.fromHex("#fff").transparent(.8),hcLight:X.Il.fromHex("#292929").transparent(.8)},D.NC("editorGhostTextBorder","Border color of ghost text in the editor.")),rt=(0,v.P6G)("editorGhostText.foreground",{dark:X.Il.fromHex("#ffffff56"),light:X.Il.fromHex("#0007"),hcDark:null,hcLight:null},D.NC("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),Xe=(0,v.P6G)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},D.NC("editorGhostTextBackground","Background color of the ghost text in the editor.")),Ze=new X.Il(new X.VS(0,122,204,.6)),lt=(0,v.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:Ze,light:Ze,hcDark:Ze,hcLight:Ze},D.NC("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),ut=(0,v.P6G)("editorOverviewRuler.errorForeground",{dark:new X.Il(new X.VS(255,18,18,.7)),light:new X.Il(new X.VS(255,18,18,.7)),hcDark:new X.Il(new X.VS(255,50,50,1)),hcLight:"#B5200D"},D.NC("overviewRuleError","Overview ruler marker color for errors.")),ct=(0,v.P6G)("editorOverviewRuler.warningForeground",{dark:v.uoC,light:v.uoC,hcDark:v.pW3,hcLight:v.pW3},D.NC("overviewRuleWarning","Overview ruler marker color for warnings.")),He=(0,v.P6G)("editorOverviewRuler.infoForeground",{dark:v.c63,light:v.c63,hcDark:v.T83,hcLight:v.T83},D.NC("overviewRuleInfo","Overview ruler marker color for infos.")),Dt=(0,v.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},D.NC("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),gt=(0,v.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},D.NC("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),Re=(0,v.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},D.NC("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),st=(0,v.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),Tt=(0,v.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),xt=(0,v.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),vt=(0,v.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new X.Il(new X.VS(255,18,18,.8)),light:new X.Il(new X.VS(255,18,18,.8)),hcDark:new X.Il(new X.VS(255,50,50,1)),hcLight:""},D.NC("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),we=(0,v.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),pt=(0,v.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),Mt=(0,v.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),Ft=(0,v.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Xt=(0,v.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),li=(0,v.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),Yt=(0,v.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),Ne=(0,v.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),yt=(0,v.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),De=(0,v.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),di=(0,v.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),Ve=(0,v.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},D.NC("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),$i=(0,v.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:"#CEA33D"},D.NC("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),wn=(0,v.P6G)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:"#cea33d14"},D.NC("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));(0,k.Ic)((Pt,le)=>{const mt=Pt.getColor(v.cvW),jt=Pt.getColor(L),bi=jt&&!jt.isTransparent()?jt:mt;bi&&le.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${bi}; }`)})},59013:function(Gt,ze,c){"use strict";c.d(ze,{Q:function(){return D}});function D(X){let v=0,k=0,L=0,T=0;for(let M=0,B=X.length;M<B;M++){const y=X.charCodeAt(M);y===13?(v===0&&(k=M),v++,M+1<B&&X.charCodeAt(M+1)===10?(T|=2,M++):T|=3,L=M+1):y===10&&(T|=1,v===0&&(k=M),v++,L=M+1)}return v===0&&(k=X.length),[v,k,X.length-L,T]}},88982:function(Gt,ze,c){"use strict";c.d(ze,{x:function(){return k}});var D=c(80360),X=c(41498);function v(L,T,M){let B=0;for(let b=0;b<L.length;b++)L.charAt(b)==="	"?B=X.i.nextIndentTabStop(B,T):B++;let y="";if(!M){const b=Math.floor(B/T);B=B%T;for(let C=0;C<b;C++)y+="	"}for(let b=0;b<B;b++)y+=" ";return y}function k(L,T,M){let B=D.LC(L);return B===-1&&(B=L.length),v(L.substring(0,B),T,M)+L.substring(B)}},50838:function(Gt,ze,c){"use strict";c.d(ze,{i:function(){return T},z:function(){return L}});var D=c(35541),X=c(58850),v=c(54125),k=c(99637);class L{static fromRange(B){return new L(B.startLineNumber,B.endLineNumber)}static fromRangeInclusive(B){return new L(B.startLineNumber,B.endLineNumber+1)}static joinMany(B){if(B.length===0)return[];let y=new T(B[0].slice());for(let b=1;b<B.length;b++)y=y.getUnion(new T(B[b].slice()));return y.ranges}static ofLength(B,y){return new L(B,B+y)}static deserialize(B){return new L(B[0],B[1])}constructor(B,y){if(B>y)throw new D.he(`startLineNumber ${B} cannot be after endLineNumberExclusive ${y}`);this.startLineNumber=B,this.endLineNumberExclusive=y}contains(B){return this.startLineNumber<=B&&B<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(B){return new L(this.startLineNumber+B,this.endLineNumberExclusive+B)}deltaLength(B){return new L(this.startLineNumber,this.endLineNumberExclusive+B)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(B){return new L(Math.min(this.startLineNumber,B.startLineNumber),Math.max(this.endLineNumberExclusive,B.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(B){const y=Math.max(this.startLineNumber,B.startLineNumber),b=Math.min(this.endLineNumberExclusive,B.endLineNumberExclusive);if(y<=b)return new L(y,b)}intersectsStrict(B){return this.startLineNumber<B.endLineNumberExclusive&&B.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(B){return this.startLineNumber<=B.endLineNumberExclusive&&B.startLineNumber<=this.endLineNumberExclusive}equals(B){return this.startLineNumber===B.startLineNumber&&this.endLineNumberExclusive===B.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new v.e(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new v.e(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(B){const y=[];for(let b=this.startLineNumber;b<this.endLineNumberExclusive;b++)y.push(B(b));return y}forEach(B){for(let y=this.startLineNumber;y<this.endLineNumberExclusive;y++)B(y)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(B){return this.startLineNumber<=B&&B<this.endLineNumberExclusive}toOffsetRange(){return new X.q(this.startLineNumber-1,this.endLineNumberExclusive-1)}}class T{constructor(B=[]){this._normalizedRanges=B}get ranges(){return this._normalizedRanges}addRange(B){if(B.length===0)return;const y=(0,k.J_)(this._normalizedRanges,C=>C.endLineNumberExclusive>=B.startLineNumber),b=(0,k.Jw)(this._normalizedRanges,C=>C.startLineNumber<=B.endLineNumberExclusive)+1;if(y===b)this._normalizedRanges.splice(y,0,B);else if(y===b-1){const C=this._normalizedRanges[y];this._normalizedRanges[y]=C.join(B)}else{const C=this._normalizedRanges[y].join(this._normalizedRanges[b-1]).join(B);this._normalizedRanges.splice(y,b-y,C)}}contains(B){const y=(0,k.ti)(this._normalizedRanges,b=>b.startLineNumber<=B);return!!y&&y.endLineNumberExclusive>B}intersects(B){const y=(0,k.ti)(this._normalizedRanges,b=>b.startLineNumber<B.endLineNumberExclusive);return!!y&&y.endLineNumberExclusive>B.startLineNumber}getUnion(B){if(this._normalizedRanges.length===0)return B;if(B._normalizedRanges.length===0)return this;const y=[];let b=0,C=0,S=null;for(;b<this._normalizedRanges.length||C<B._normalizedRanges.length;){let _=null;if(b<this._normalizedRanges.length&&C<B._normalizedRanges.length){const a=this._normalizedRanges[b],u=B._normalizedRanges[C];a.startLineNumber<u.startLineNumber?(_=a,b++):(_=u,C++)}else b<this._normalizedRanges.length?(_=this._normalizedRanges[b],b++):(_=B._normalizedRanges[C],C++);S===null?S=_:S.endLineNumberExclusive>=_.startLineNumber?S=new L(S.startLineNumber,Math.max(S.endLineNumberExclusive,_.endLineNumberExclusive)):(y.push(S),S=_)}return S!==null&&y.push(S),new T(y)}subtractFrom(B){const y=(0,k.J_)(this._normalizedRanges,_=>_.endLineNumberExclusive>=B.startLineNumber),b=(0,k.Jw)(this._normalizedRanges,_=>_.startLineNumber<=B.endLineNumberExclusive)+1;if(y===b)return new T([B]);const C=[];let S=B.startLineNumber;for(let _=y;_<b;_++){const a=this._normalizedRanges[_];a.startLineNumber>S&&C.push(new L(S,a.startLineNumber)),S=a.endLineNumberExclusive}return S<B.endLineNumberExclusive&&C.push(new L(S,B.endLineNumberExclusive)),new T(C)}toString(){return this._normalizedRanges.map(B=>B.toString()).join(", ")}getIntersection(B){const y=[];let b=0,C=0;for(;b<this._normalizedRanges.length&&C<B._normalizedRanges.length;){const S=this._normalizedRanges[b],_=B._normalizedRanges[C],a=S.intersect(_);a&&!a.isEmpty&&y.push(a),S.endLineNumberExclusive<_.endLineNumberExclusive?b++:C++}return new T(y)}getWithDelta(B){return new T(this._normalizedRanges.map(y=>y.delta(B)))}}},58850:function(Gt,ze,c){"use strict";c.d(ze,{M:function(){return v},q:function(){return X}});var D=c(35541);class X{static addRange(L,T){let M=0;for(;M<T.length&&T[M].endExclusive<L.start;)M++;let B=M;for(;B<T.length&&T[B].start<=L.endExclusive;)B++;if(M===B)T.splice(M,0,L);else{const y=Math.min(L.start,T[M].start),b=Math.max(L.endExclusive,T[B-1].endExclusive);T.splice(M,B-M,new X(y,b))}}static tryCreate(L,T){if(!(L>T))return new X(L,T)}static ofLength(L){return new X(0,L)}static ofStartAndLength(L,T){return new X(L,L+T)}constructor(L,T){if(this.start=L,this.endExclusive=T,L>T)throw new D.he(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(L){return new X(this.start+L,this.endExclusive+L)}deltaStart(L){return new X(this.start+L,this.endExclusive)}deltaEnd(L){return new X(this.start,this.endExclusive+L)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(L){return this.start===L.start&&this.endExclusive===L.endExclusive}containsRange(L){return this.start<=L.start&&L.endExclusive<=this.endExclusive}contains(L){return this.start<=L&&L<this.endExclusive}join(L){return new X(Math.min(this.start,L.start),Math.max(this.endExclusive,L.endExclusive))}intersect(L){const T=Math.max(this.start,L.start),M=Math.min(this.endExclusive,L.endExclusive);if(T<=M)return new X(T,M)}isBefore(L){return this.endExclusive<=L.start}isAfter(L){return this.start>=L.endExclusive}slice(L){return L.slice(this.start,this.endExclusive)}clip(L){if(this.isEmpty)throw new D.he(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,L))}clipCyclic(L){if(this.isEmpty)throw new D.he(`Invalid clipping range: ${this.toString()}`);return L<this.start?this.endExclusive-(this.start-L)%this.length:L>=this.endExclusive?this.start+(L-this.start)%this.length:L}forEach(L){for(let T=this.start;T<this.endExclusive;T++)L(T)}}class v{constructor(){this._sortedRanges=[]}addRange(L){let T=0;for(;T<this._sortedRanges.length&&this._sortedRanges[T].endExclusive<L.start;)T++;let M=T;for(;M<this._sortedRanges.length&&this._sortedRanges[M].start<=L.endExclusive;)M++;if(T===M)this._sortedRanges.splice(T,0,L);else{const B=Math.min(L.start,this._sortedRanges[T].start),y=Math.max(L.endExclusive,this._sortedRanges[M-1].endExclusive);this._sortedRanges.splice(T,M-T,new X(B,y))}}toString(){return this._sortedRanges.map(L=>L.toString()).join(", ")}intersectsStrict(L){let T=0;for(;T<this._sortedRanges.length&&this._sortedRanges[T].endExclusive<=L.start;)T++;return T<this._sortedRanges.length&&this._sortedRanges[T].start<L.endExclusive}intersectWithRange(L){const T=new v;for(const M of this._sortedRanges){const B=M.intersect(L);B&&T.addRange(B)}return T}intersectWithRangeLength(L){return this.intersectWithRange(L).length}get length(){return this._sortedRanges.reduce((L,T)=>L+T.length,0)}}},79946:function(Gt,ze,c){"use strict";c.d(ze,{L:function(){return D}});class D{constructor(v,k){this.lineNumber=v,this.column=k}with(v=this.lineNumber,k=this.column){return v===this.lineNumber&&k===this.column?this:new D(v,k)}delta(v=0,k=0){return this.with(this.lineNumber+v,this.column+k)}equals(v){return D.equals(this,v)}static equals(v,k){return!v&&!k?!0:!!v&&!!k&&v.lineNumber===k.lineNumber&&v.column===k.column}isBefore(v){return D.isBefore(this,v)}static isBefore(v,k){return v.lineNumber<k.lineNumber?!0:k.lineNumber<v.lineNumber?!1:v.column<k.column}isBeforeOrEqual(v){return D.isBeforeOrEqual(this,v)}static isBeforeOrEqual(v,k){return v.lineNumber<k.lineNumber?!0:k.lineNumber<v.lineNumber?!1:v.column<=k.column}static compare(v,k){const L=v.lineNumber|0,T=k.lineNumber|0;if(L===T){const M=v.column|0,B=k.column|0;return M-B}return L-T}clone(){return new D(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(v){return new D(v.lineNumber,v.column)}static isIPosition(v){return v&&typeof v.lineNumber=="number"&&typeof v.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}},54125:function(Gt,ze,c){"use strict";c.d(ze,{e:function(){return X}});var D=c(79946);class X{constructor(k,L,T,M){k>T||k===T&&L>M?(this.startLineNumber=T,this.startColumn=M,this.endLineNumber=k,this.endColumn=L):(this.startLineNumber=k,this.startColumn=L,this.endLineNumber=T,this.endColumn=M)}isEmpty(){return X.isEmpty(this)}static isEmpty(k){return k.startLineNumber===k.endLineNumber&&k.startColumn===k.endColumn}containsPosition(k){return X.containsPosition(this,k)}static containsPosition(k,L){return!(L.lineNumber<k.startLineNumber||L.lineNumber>k.endLineNumber||L.lineNumber===k.startLineNumber&&L.column<k.startColumn||L.lineNumber===k.endLineNumber&&L.column>k.endColumn)}static strictContainsPosition(k,L){return!(L.lineNumber<k.startLineNumber||L.lineNumber>k.endLineNumber||L.lineNumber===k.startLineNumber&&L.column<=k.startColumn||L.lineNumber===k.endLineNumber&&L.column>=k.endColumn)}containsRange(k){return X.containsRange(this,k)}static containsRange(k,L){return!(L.startLineNumber<k.startLineNumber||L.endLineNumber<k.startLineNumber||L.startLineNumber>k.endLineNumber||L.endLineNumber>k.endLineNumber||L.startLineNumber===k.startLineNumber&&L.startColumn<k.startColumn||L.endLineNumber===k.endLineNumber&&L.endColumn>k.endColumn)}strictContainsRange(k){return X.strictContainsRange(this,k)}static strictContainsRange(k,L){return!(L.startLineNumber<k.startLineNumber||L.endLineNumber<k.startLineNumber||L.startLineNumber>k.endLineNumber||L.endLineNumber>k.endLineNumber||L.startLineNumber===k.startLineNumber&&L.startColumn<=k.startColumn||L.endLineNumber===k.endLineNumber&&L.endColumn>=k.endColumn)}plusRange(k){return X.plusRange(this,k)}static plusRange(k,L){let T,M,B,y;return L.startLineNumber<k.startLineNumber?(T=L.startLineNumber,M=L.startColumn):L.startLineNumber===k.startLineNumber?(T=L.startLineNumber,M=Math.min(L.startColumn,k.startColumn)):(T=k.startLineNumber,M=k.startColumn),L.endLineNumber>k.endLineNumber?(B=L.endLineNumber,y=L.endColumn):L.endLineNumber===k.endLineNumber?(B=L.endLineNumber,y=Math.max(L.endColumn,k.endColumn)):(B=k.endLineNumber,y=k.endColumn),new X(T,M,B,y)}intersectRanges(k){return X.intersectRanges(this,k)}static intersectRanges(k,L){let T=k.startLineNumber,M=k.startColumn,B=k.endLineNumber,y=k.endColumn;const b=L.startLineNumber,C=L.startColumn,S=L.endLineNumber,_=L.endColumn;return T<b?(T=b,M=C):T===b&&(M=Math.max(M,C)),B>S?(B=S,y=_):B===S&&(y=Math.min(y,_)),T>B||T===B&&M>y?null:new X(T,M,B,y)}equalsRange(k){return X.equalsRange(this,k)}static equalsRange(k,L){return!k&&!L?!0:!!k&&!!L&&k.startLineNumber===L.startLineNumber&&k.startColumn===L.startColumn&&k.endLineNumber===L.endLineNumber&&k.endColumn===L.endColumn}getEndPosition(){return X.getEndPosition(this)}static getEndPosition(k){return new D.L(k.endLineNumber,k.endColumn)}getStartPosition(){return X.getStartPosition(this)}static getStartPosition(k){return new D.L(k.startLineNumber,k.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(k,L){return new X(this.startLineNumber,this.startColumn,k,L)}setStartPosition(k,L){return new X(k,L,this.endLineNumber,this.endColumn)}collapseToStart(){return X.collapseToStart(this)}static collapseToStart(k){return new X(k.startLineNumber,k.startColumn,k.startLineNumber,k.startColumn)}collapseToEnd(){return X.collapseToEnd(this)}static collapseToEnd(k){return new X(k.endLineNumber,k.endColumn,k.endLineNumber,k.endColumn)}delta(k){return new X(this.startLineNumber+k,this.startColumn,this.endLineNumber+k,this.endColumn)}static fromPositions(k,L=k){return new X(k.lineNumber,k.column,L.lineNumber,L.column)}static lift(k){return k?new X(k.startLineNumber,k.startColumn,k.endLineNumber,k.endColumn):null}static isIRange(k){return k&&typeof k.startLineNumber=="number"&&typeof k.startColumn=="number"&&typeof k.endLineNumber=="number"&&typeof k.endColumn=="number"}static areIntersectingOrTouching(k,L){return!(k.endLineNumber<L.startLineNumber||k.endLineNumber===L.startLineNumber&&k.endColumn<L.startColumn||L.endLineNumber<k.startLineNumber||L.endLineNumber===k.startLineNumber&&L.endColumn<k.startColumn)}static areIntersecting(k,L){return!(k.endLineNumber<L.startLineNumber||k.endLineNumber===L.startLineNumber&&k.endColumn<=L.startColumn||L.endLineNumber<k.startLineNumber||L.endLineNumber===k.startLineNumber&&L.endColumn<=k.startColumn)}static compareRangesUsingStarts(k,L){if(k&&L){const B=k.startLineNumber|0,y=L.startLineNumber|0;if(B===y){const b=k.startColumn|0,C=L.startColumn|0;if(b===C){const S=k.endLineNumber|0,_=L.endLineNumber|0;if(S===_){const a=k.endColumn|0,u=L.endColumn|0;return a-u}return S-_}return b-C}return B-y}return(k?1:0)-(L?1:0)}static compareRangesUsingEnds(k,L){return k.endLineNumber===L.endLineNumber?k.endColumn===L.endColumn?k.startLineNumber===L.startLineNumber?k.startColumn-L.startColumn:k.startLineNumber-L.startLineNumber:k.endColumn-L.endColumn:k.endLineNumber-L.endLineNumber}static spansMultipleLines(k){return k.endLineNumber>k.startLineNumber}toJSON(){return this}}},37753:function(Gt,ze,c){"use strict";c.d(ze,{Y:function(){return v}});var D=c(79946),X=c(54125);class v extends X.e{constructor(L,T,M,B){super(L,T,M,B),this.selectionStartLineNumber=L,this.selectionStartColumn=T,this.positionLineNumber=M,this.positionColumn=B}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(L){return v.selectionsEqual(this,L)}static selectionsEqual(L,T){return L.selectionStartLineNumber===T.selectionStartLineNumber&&L.selectionStartColumn===T.selectionStartColumn&&L.positionLineNumber===T.positionLineNumber&&L.positionColumn===T.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(L,T){return this.getDirection()===0?new v(this.startLineNumber,this.startColumn,L,T):new v(L,T,this.startLineNumber,this.startColumn)}getPosition(){return new D.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new D.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(L,T){return this.getDirection()===0?new v(L,T,this.endLineNumber,this.endColumn):new v(this.endLineNumber,this.endColumn,L,T)}static fromPositions(L,T=L){return new v(L.lineNumber,L.column,T.lineNumber,T.column)}static fromRange(L,T){return T===0?new v(L.startLineNumber,L.startColumn,L.endLineNumber,L.endColumn):new v(L.endLineNumber,L.endColumn,L.startLineNumber,L.startColumn)}static liftSelection(L){return new v(L.selectionStartLineNumber,L.selectionStartColumn,L.positionLineNumber,L.positionColumn)}static selectionsArrEqual(L,T){if(L&&!T||!L&&T)return!1;if(!L&&!T)return!0;if(L.length!==T.length)return!1;for(let M=0,B=L.length;M<B;M++)if(!this.selectionsEqual(L[M],T[M]))return!1;return!0}static isISelection(L){return L&&typeof L.selectionStartLineNumber=="number"&&typeof L.selectionStartColumn=="number"&&typeof L.positionLineNumber=="number"&&typeof L.positionColumn=="number"}static createWithDirection(L,T,M,B,y){return y===0?new v(L,T,M,B):new v(M,B,L,T)}}},6180:function(Gt,ze,c){"use strict";c.d(ze,{HT:function(){return S},kH:function(){return b},oe:function(){return y}});var D=c(80360),X=c(43998),v=c(49159);let k;function L(){return k||(k=new TextDecoder("UTF-16LE")),k}let T;function M(){return T||(T=new TextDecoder("UTF-16BE")),T}let B;function y(){return B||(B=X.r()?L():M()),B}function b(_,a,u){const N=new Uint16Array(_.buffer,a,u);return u>0&&(N[0]===65279||N[0]===65534)?C(_,a,u):L().decode(N)}function C(_,a,u){const N=[];let O=0;for(let R=0;R<u;R++){const V=v.mP(_,a);a+=2,N[O++]=String.fromCharCode(V)}return N.join("")}class S{constructor(a){this._capacity=a|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const a=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return y().decode(a)}_flushBuffer(){const a=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[a]:this._completedStrings[this._completedStrings.length]=a}appendCharCode(a){const u=this._capacity-this._bufferLength;u<=1&&(u===0||D.ZG(a))&&this._flushBuffer(),this._buffer[this._bufferLength++]=a}appendASCIICharCode(a){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=a}appendString(a){const u=a.length;if(this._bufferLength+u>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=a;return}for(let N=0;N<u;N++)this._buffer[this._bufferLength++]=a.charCodeAt(N)}}},35276:function(Gt,ze,c){"use strict";c.d(ze,{b:function(){return L},q:function(){return k}});var D=c(49159),X=c(6180);function v(M){return M.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class k{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(B,y,b,C){this.oldPosition=B,this.oldText=y,this.newPosition=b,this.newText=C}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${v(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${v(this.oldText)}")`:`(replace@${this.oldPosition} "${v(this.oldText)}" with "${v(this.newText)}")`}static _writeStringSize(B){return 4+2*B.length}static _writeString(B,y,b){const C=y.length;D.T4(B,C,b),b+=4;for(let S=0;S<C;S++)D.oq(B,y.charCodeAt(S),b),b+=2;return b}static _readString(B,y){const b=D.Ag(B,y);return y+=4,(0,X.kH)(B,y,b)}writeSize(){return 4+4+k._writeStringSize(this.oldText)+k._writeStringSize(this.newText)}write(B,y){return D.T4(B,this.oldPosition,y),y+=4,D.T4(B,this.newPosition,y),y+=4,y=k._writeString(B,this.oldText,y),y=k._writeString(B,this.newText,y),y}static read(B,y,b){const C=D.Ag(B,y);y+=4;const S=D.Ag(B,y);y+=4;const _=k._readString(B,y);y+=k._writeStringSize(_);const a=k._readString(B,y);return y+=k._writeStringSize(a),b.push(new k(C,_,S,a)),y}}function L(M,B){return M===null||M.length===0?B:new T(M,B).compress()}class T{constructor(B,y){this._prevEdits=B,this._currEdits=y,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let B=0,y=0,b=this._getPrev(B),C=this._getCurr(y);for(;B<this._prevLen||y<this._currLen;){if(b===null){this._acceptCurr(C),C=this._getCurr(++y);continue}if(C===null){this._acceptPrev(b),b=this._getPrev(++B);continue}if(C.oldEnd<=b.newPosition){this._acceptCurr(C),C=this._getCurr(++y);continue}if(b.newEnd<=C.oldPosition){this._acceptPrev(b),b=this._getPrev(++B);continue}if(C.oldPosition<b.newPosition){const[N,O]=T._splitCurr(C,b.newPosition-C.oldPosition);this._acceptCurr(N),C=O;continue}if(b.newPosition<C.oldPosition){const[N,O]=T._splitPrev(b,C.oldPosition-b.newPosition);this._acceptPrev(N),b=O;continue}let a,u;if(C.oldEnd===b.newEnd)a=b,u=C,b=this._getPrev(++B),C=this._getCurr(++y);else if(C.oldEnd<b.newEnd){const[N,O]=T._splitPrev(b,C.oldLength);a=N,u=C,b=O,C=this._getCurr(++y)}else{const[N,O]=T._splitCurr(C,b.newLength);a=b,u=N,b=this._getPrev(++B),C=O}this._result[this._resultLen++]=new k(a.oldPosition,a.oldText,u.newPosition,u.newText),this._prevDeltaOffset+=a.newLength-a.oldLength,this._currDeltaOffset+=u.newLength-u.oldLength}const S=T._merge(this._result);return T._removeNoOps(S)}_acceptCurr(B){this._result[this._resultLen++]=T._rebaseCurr(this._prevDeltaOffset,B),this._currDeltaOffset+=B.newLength-B.oldLength}_getCurr(B){return B<this._currLen?this._currEdits[B]:null}_acceptPrev(B){this._result[this._resultLen++]=T._rebasePrev(this._currDeltaOffset,B),this._prevDeltaOffset+=B.newLength-B.oldLength}_getPrev(B){return B<this._prevLen?this._prevEdits[B]:null}static _rebaseCurr(B,y){return new k(y.oldPosition-B,y.oldText,y.newPosition,y.newText)}static _rebasePrev(B,y){return new k(y.oldPosition,y.oldText,y.newPosition+B,y.newText)}static _splitPrev(B,y){const b=B.newText.substr(0,y),C=B.newText.substr(y);return[new k(B.oldPosition,B.oldText,B.newPosition,b),new k(B.oldEnd,"",B.newPosition+y,C)]}static _splitCurr(B,y){const b=B.oldText.substr(0,y),C=B.oldText.substr(y);return[new k(B.oldPosition,b,B.newPosition,B.newText),new k(B.oldPosition+y,C,B.newEnd,"")]}static _merge(B){if(B.length===0)return B;const y=[];let b=0,C=B[0];for(let S=1;S<B.length;S++){const _=B[S];C.oldEnd===_.oldPosition?C=new k(C.oldPosition,C.oldText+_.oldText,C.newPosition,C.newText+_.newText):(y[b++]=C,C=_)}return y[b++]=C,y}static _removeNoOps(B){if(B.length===0)return B;const y=[];let b=0;for(let C=0;C<B.length;C++){const S=B[C];S.oldText!==S.newText&&(y[b++]=S)}return y}}},27519:function(Gt,ze,c){"use strict";c.d(ze,{D:function(){return D}});const D={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},68734:function(Gt,ze,c){"use strict";c.d(ze,{u:function(){return k}});var D=c(72842);class X extends D.N{constructor(T){super(0);for(let M=0,B=T.length;M<B;M++)this.set(T.charCodeAt(M),2);this.set(32,1),this.set(9,1)}}function v(L){const T={};return M=>(T.hasOwnProperty(M)||(T[M]=L(M)),T[M])}const k=v(L=>new X(L))},1149:function(Gt,ze,c){"use strict";c.d(ze,{Af:function(){return L},eq:function(){return T},t2:function(){return B},vu:function(){return v}});var D=c(54362),X=c(29882);const v="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function k(b=""){let C="(-?\\d*\\.\\d\\w*)|([^";for(const S of v)b.indexOf(S)>=0||(C+="\\"+S);return C+="\\s]+)",new RegExp(C,"g")}const L=k();function T(b){let C=L;if(b&&b instanceof RegExp)if(b.global)C=b;else{let S="g";b.ignoreCase&&(S+="i"),b.multiline&&(S+="m"),b.unicode&&(S+="u"),C=new RegExp(b.source,S)}return C.lastIndex=0,C}const M=new X.S;M.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function B(b,C,S,_,a){if(C=T(C),a||(a=D.$.first(M)),S.length>a.maxLen){let V=b-a.maxLen/2;return V<0?V=0:_+=V,S=S.substring(V,b+a.maxLen/2),B(b,C,S,_,a)}const u=Date.now(),N=b-1-_;let O=-1,R=null;for(let V=1;!(Date.now()-u>=a.timeBudget);V++){const F=N-a.windowSize*V;C.lastIndex=Math.max(0,F);const Y=y(C,S,N,O);if(!Y&&R||(R=Y,F<=0))break;O=F}if(R){const V={word:R[0],startColumn:_+1+R.index,endColumn:_+1+R.index+R[0].length};return C.lastIndex=0,V}return null}function y(b,C,S,_){let a;for(;a=b.exec(C);){const u=a.index||0;if(u<=S&&b.lastIndex>=S)return a;if(_>0&&u>_)return null}return null}},40750:function(Gt,ze,c){"use strict";c.d(ze,{l:function(){return X}});var D=c(41498);class X{static whitespaceVisibleColumn(k,L,T){const M=k.length;let B=0,y=-1,b=-1;for(let C=0;C<M;C++){if(C===L)return[y,b,B];switch(B%T===0&&(y=C,b=B),k.charCodeAt(C)){case 32:B+=1;break;case 9:B=D.i.nextRenderTabStop(B,T);break;default:return[-1,-1,-1]}}return L===M?[y,b,B]:[-1,-1,-1]}static atomicPosition(k,L,T,M){const B=k.length,[y,b,C]=X.whitespaceVisibleColumn(k,L,T);if(C===-1)return-1;let S;switch(M){case 0:S=!0;break;case 1:S=!1;break;case 2:if(C%T===0)return L;S=C%T<=T/2;break}if(S){if(y===-1)return-1;let u=b;for(let N=y;N<B;++N){if(u===b+T)return y;switch(k.charCodeAt(N)){case 32:u+=1;break;case 9:u=D.i.nextRenderTabStop(u,T);break;default:return-1}}return u===b+T?y:-1}const _=D.i.nextRenderTabStop(C,T);let a=C;for(let u=L;u<B;u++){if(a===_)return u;switch(k.charCodeAt(u)){case 32:a+=1;break;case 9:a=D.i.nextRenderTabStop(a,T);break;default:return-1}}return a===_?B:-1}}},8243:function(Gt,ze,c){"use strict";c.d(ze,{A:function(){return B}});var D=c(80360),X=c(22532),v=c(46656),k=c(41498),L=c(45901),T=c(54125),M=c(79946);class B{static deleteRight(b,C,S,_){const a=[];let u=b!==3;for(let N=0,O=_.length;N<O;N++){const R=_[N];let V=R;if(V.isEmpty()){const F=R.getPosition(),Y=L.o.right(C,S,F);V=new T.e(Y.lineNumber,Y.column,F.lineNumber,F.column)}if(V.isEmpty()){a[N]=null;continue}V.startLineNumber!==V.endLineNumber&&(u=!0),a[N]=new X.T4(V,"")}return[u,a]}static isAutoClosingPairDelete(b,C,S,_,a,u,N){if(C==="never"&&S==="never"||b==="never")return!1;for(let O=0,R=u.length;O<R;O++){const V=u[O],F=V.getPosition();if(!V.isEmpty())return!1;const Y=a.getLineContent(F.lineNumber);if(F.column<2||F.column>=Y.length+1)return!1;const G=Y.charAt(F.column-2),Z=_.get(G);if(!Z)return!1;if((0,v.LN)(G)){if(S==="never")return!1}else if(C==="never")return!1;const ne=Y.charAt(F.column-1);let $=!1;for(const J of Z)J.open===G&&J.close===ne&&($=!0);if(!$)return!1;if(b==="auto"){let J=!1;for(let se=0,re=N.length;se<re;se++){const he=N[se];if(F.lineNumber===he.startLineNumber&&F.column===he.startColumn){J=!0;break}}if(!J)return!1}}return!0}static _runAutoClosingPairDelete(b,C,S){const _=[];for(let a=0,u=S.length;a<u;a++){const N=S[a].getPosition(),O=new T.e(N.lineNumber,N.column-1,N.lineNumber,N.column+1);_[a]=new X.T4(O,"")}return[!0,_]}static deleteLeft(b,C,S,_,a){if(this.isAutoClosingPairDelete(C.autoClosingDelete,C.autoClosingBrackets,C.autoClosingQuotes,C.autoClosingPairs.autoClosingPairsOpenByEnd,S,_,a))return this._runAutoClosingPairDelete(C,S,_);const u=[];let N=b!==2;for(let O=0,R=_.length;O<R;O++){const V=B.getDeleteRange(_[O],S,C);if(V.isEmpty()){u[O]=null;continue}V.startLineNumber!==V.endLineNumber&&(N=!0),u[O]=new X.T4(V,"")}return[N,u]}static getDeleteRange(b,C,S){if(!b.isEmpty())return b;const _=b.getPosition();if(S.useTabStops&&_.column>1){const a=C.getLineContent(_.lineNumber),u=D.LC(a),N=u===-1?a.length+1:u+1;if(_.column<=N){const O=S.visibleColumnFromColumn(C,_),R=k.i.prevIndentTabStop(O,S.indentSize),V=S.columnFromVisibleColumn(C,_.lineNumber,R);return new T.e(_.lineNumber,V,_.lineNumber,_.column)}}return T.e.fromPositions(B.getPositionAfterDeleteLeft(_,C),_)}static getPositionAfterDeleteLeft(b,C){if(b.column>1){const S=D.oH(b.column-1,C.getLineContent(b.lineNumber));return b.with(void 0,S+1)}else if(b.lineNumber>1){const S=b.lineNumber-1;return new M.L(S,C.getLineMaxColumn(S))}else return b}static cut(b,C,S){const _=[];let a=null;S.sort((u,N)=>M.L.compare(u.getStartPosition(),N.getEndPosition()));for(let u=0,N=S.length;u<N;u++){const O=S[u];if(O.isEmpty())if(b.emptySelectionClipboard){const R=O.getPosition();let V,F,Y,G;R.lineNumber<C.getLineCount()?(V=R.lineNumber,F=1,Y=R.lineNumber+1,G=1):R.lineNumber>1&&(a==null?void 0:a.endLineNumber)!==R.lineNumber?(V=R.lineNumber-1,F=C.getLineMaxColumn(R.lineNumber-1),Y=R.lineNumber,G=C.getLineMaxColumn(R.lineNumber)):(V=R.lineNumber,F=1,Y=R.lineNumber,G=C.getLineMaxColumn(R.lineNumber));const Z=new T.e(V,F,Y,G);a=Z,Z.isEmpty()?_[u]=null:_[u]=new X.T4(Z,"")}else _[u]=null;else _[u]=new X.T4(O,"")}return new v.Tp(0,_,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},35392:function(Gt,ze,c){"use strict";c.d(ze,{N:function(){return B},P:function(){return M}});var D=c(22968),X=c(46656),v=c(45901),k=c(95483),L=c(79946),T=c(54125);class M{static addCursorDown(b,C,S){const _=[];let a=0;for(let u=0,N=C.length;u<N;u++){const O=C[u];_[a++]=new X.Vi(O.modelState,O.viewState),S?_[a++]=X.Vi.fromModelState(v.o.translateDown(b.cursorConfig,b.model,O.modelState)):_[a++]=X.Vi.fromViewState(v.o.translateDown(b.cursorConfig,b,O.viewState))}return _}static addCursorUp(b,C,S){const _=[];let a=0;for(let u=0,N=C.length;u<N;u++){const O=C[u];_[a++]=new X.Vi(O.modelState,O.viewState),S?_[a++]=X.Vi.fromModelState(v.o.translateUp(b.cursorConfig,b.model,O.modelState)):_[a++]=X.Vi.fromViewState(v.o.translateUp(b.cursorConfig,b,O.viewState))}return _}static moveToBeginningOfLine(b,C,S){const _=[];for(let a=0,u=C.length;a<u;a++){const N=C[a];_[a]=this._moveToLineStart(b,N,S)}return _}static _moveToLineStart(b,C,S){const _=C.viewState.position.column,a=C.modelState.position.column,u=_===a,N=C.viewState.position.lineNumber,O=b.getLineFirstNonWhitespaceColumn(N);return!u&&!(_===O)?this._moveToLineStartByView(b,C,S):this._moveToLineStartByModel(b,C,S)}static _moveToLineStartByView(b,C,S){return X.Vi.fromViewState(v.o.moveToBeginningOfLine(b.cursorConfig,b,C.viewState,S))}static _moveToLineStartByModel(b,C,S){return X.Vi.fromModelState(v.o.moveToBeginningOfLine(b.cursorConfig,b.model,C.modelState,S))}static moveToEndOfLine(b,C,S,_){const a=[];for(let u=0,N=C.length;u<N;u++){const O=C[u];a[u]=this._moveToLineEnd(b,O,S,_)}return a}static _moveToLineEnd(b,C,S,_){const a=C.viewState.position,u=b.getLineMaxColumn(a.lineNumber),N=a.column===u,O=C.modelState.position,R=b.model.getLineMaxColumn(O.lineNumber),V=u-a.column===R-O.column;return N||V?this._moveToLineEndByModel(b,C,S,_):this._moveToLineEndByView(b,C,S,_)}static _moveToLineEndByView(b,C,S,_){return X.Vi.fromViewState(v.o.moveToEndOfLine(b.cursorConfig,b,C.viewState,S,_))}static _moveToLineEndByModel(b,C,S,_){return X.Vi.fromModelState(v.o.moveToEndOfLine(b.cursorConfig,b.model,C.modelState,S,_))}static expandLineSelection(b,C){const S=[];for(let _=0,a=C.length;_<a;_++){const u=C[_],N=u.modelState.selection.startLineNumber,O=b.model.getLineCount();let R=u.modelState.selection.endLineNumber,V;R===O?V=b.model.getLineMaxColumn(O):(R++,V=1),S[_]=X.Vi.fromModelState(new X.rS(new T.e(N,1,N,1),0,0,new L.L(R,V),0))}return S}static moveToBeginningOfBuffer(b,C,S){const _=[];for(let a=0,u=C.length;a<u;a++){const N=C[a];_[a]=X.Vi.fromModelState(v.o.moveToBeginningOfBuffer(b.cursorConfig,b.model,N.modelState,S))}return _}static moveToEndOfBuffer(b,C,S){const _=[];for(let a=0,u=C.length;a<u;a++){const N=C[a];_[a]=X.Vi.fromModelState(v.o.moveToEndOfBuffer(b.cursorConfig,b.model,N.modelState,S))}return _}static selectAll(b,C){const S=b.model.getLineCount(),_=b.model.getLineMaxColumn(S);return X.Vi.fromModelState(new X.rS(new T.e(1,1,1,1),0,0,new L.L(S,_),0))}static line(b,C,S,_,a){const u=b.model.validatePosition(_),N=a?b.coordinatesConverter.validateViewPosition(new L.L(a.lineNumber,a.column),u):b.coordinatesConverter.convertModelPositionToViewPosition(u);if(!S){const R=b.model.getLineCount();let V=u.lineNumber+1,F=1;return V>R&&(V=R,F=b.model.getLineMaxColumn(V)),X.Vi.fromModelState(new X.rS(new T.e(u.lineNumber,1,V,F),2,0,new L.L(V,F),0))}const O=C.modelState.selectionStart.getStartPosition().lineNumber;if(u.lineNumber<O)return X.Vi.fromViewState(C.viewState.move(!0,N.lineNumber,1,0));if(u.lineNumber>O){const R=b.getLineCount();let V=N.lineNumber+1,F=1;return V>R&&(V=R,F=b.getLineMaxColumn(V)),X.Vi.fromViewState(C.viewState.move(!0,V,F,0))}else{const R=C.modelState.selectionStart.getEndPosition();return X.Vi.fromModelState(C.modelState.move(!0,R.lineNumber,R.column,0))}}static word(b,C,S,_){const a=b.model.validatePosition(_);return X.Vi.fromModelState(k.w.word(b.cursorConfig,b.model,C.modelState,S,a))}static cancelSelection(b,C){if(!C.modelState.hasSelection())return new X.Vi(C.modelState,C.viewState);const S=C.viewState.position.lineNumber,_=C.viewState.position.column;return X.Vi.fromViewState(new X.rS(new T.e(S,_,S,_),0,0,new L.L(S,_),0))}static moveTo(b,C,S,_,a){if(S){if(C.modelState.selectionStartKind===1)return this.word(b,C,S,_);if(C.modelState.selectionStartKind===2)return this.line(b,C,S,_,a)}const u=b.model.validatePosition(_),N=a?b.coordinatesConverter.validateViewPosition(new L.L(a.lineNumber,a.column),u):b.coordinatesConverter.convertModelPositionToViewPosition(u);return X.Vi.fromViewState(C.viewState.move(S,N.lineNumber,N.column,0))}static simpleMove(b,C,S,_,a,u){switch(S){case 0:return u===4?this._moveHalfLineLeft(b,C,_):this._moveLeft(b,C,_,a);case 1:return u===4?this._moveHalfLineRight(b,C,_):this._moveRight(b,C,_,a);case 2:return u===2?this._moveUpByViewLines(b,C,_,a):this._moveUpByModelLines(b,C,_,a);case 3:return u===2?this._moveDownByViewLines(b,C,_,a):this._moveDownByModelLines(b,C,_,a);case 4:return u===2?C.map(N=>X.Vi.fromViewState(v.o.moveToPrevBlankLine(b.cursorConfig,b,N.viewState,_))):C.map(N=>X.Vi.fromModelState(v.o.moveToPrevBlankLine(b.cursorConfig,b.model,N.modelState,_)));case 5:return u===2?C.map(N=>X.Vi.fromViewState(v.o.moveToNextBlankLine(b.cursorConfig,b,N.viewState,_))):C.map(N=>X.Vi.fromModelState(v.o.moveToNextBlankLine(b.cursorConfig,b.model,N.modelState,_)));case 6:return this._moveToViewMinColumn(b,C,_);case 7:return this._moveToViewFirstNonWhitespaceColumn(b,C,_);case 8:return this._moveToViewCenterColumn(b,C,_);case 9:return this._moveToViewMaxColumn(b,C,_);case 10:return this._moveToViewLastNonWhitespaceColumn(b,C,_);default:return null}}static viewportMove(b,C,S,_,a){const u=b.getCompletelyVisibleViewRange(),N=b.coordinatesConverter.convertViewRangeToModelRange(u);switch(S){case 11:{const O=this._firstLineNumberInRange(b.model,N,a),R=b.model.getLineFirstNonWhitespaceColumn(O);return[this._moveToModelPosition(b,C[0],_,O,R)]}case 13:{const O=this._lastLineNumberInRange(b.model,N,a),R=b.model.getLineFirstNonWhitespaceColumn(O);return[this._moveToModelPosition(b,C[0],_,O,R)]}case 12:{const O=Math.round((N.startLineNumber+N.endLineNumber)/2),R=b.model.getLineFirstNonWhitespaceColumn(O);return[this._moveToModelPosition(b,C[0],_,O,R)]}case 14:{const O=[];for(let R=0,V=C.length;R<V;R++){const F=C[R];O[R]=this.findPositionInViewportIfOutside(b,F,u,_)}return O}default:return null}}static findPositionInViewportIfOutside(b,C,S,_){const a=C.viewState.position.lineNumber;if(S.startLineNumber<=a&&a<=S.endLineNumber-1)return new X.Vi(C.modelState,C.viewState);{let u;a>S.endLineNumber-1?u=S.endLineNumber-1:a<S.startLineNumber?u=S.startLineNumber:u=a;const N=v.o.vertical(b.cursorConfig,b,a,C.viewState.position.column,C.viewState.leftoverVisibleColumns,u,!1);return X.Vi.fromViewState(C.viewState.move(_,N.lineNumber,N.column,N.leftoverVisibleColumns))}}static _firstLineNumberInRange(b,C,S){let _=C.startLineNumber;return C.startColumn!==b.getLineMinColumn(_)&&_++,Math.min(C.endLineNumber,_+S-1)}static _lastLineNumberInRange(b,C,S){let _=C.startLineNumber;return C.startColumn!==b.getLineMinColumn(_)&&_++,Math.max(_,C.endLineNumber-S+1)}static _moveLeft(b,C,S,_){return C.map(a=>X.Vi.fromViewState(v.o.moveLeft(b.cursorConfig,b,a.viewState,S,_)))}static _moveHalfLineLeft(b,C,S){const _=[];for(let a=0,u=C.length;a<u;a++){const N=C[a],O=N.viewState.position.lineNumber,R=Math.round(b.getLineLength(O)/2);_[a]=X.Vi.fromViewState(v.o.moveLeft(b.cursorConfig,b,N.viewState,S,R))}return _}static _moveRight(b,C,S,_){return C.map(a=>X.Vi.fromViewState(v.o.moveRight(b.cursorConfig,b,a.viewState,S,_)))}static _moveHalfLineRight(b,C,S){const _=[];for(let a=0,u=C.length;a<u;a++){const N=C[a],O=N.viewState.position.lineNumber,R=Math.round(b.getLineLength(O)/2);_[a]=X.Vi.fromViewState(v.o.moveRight(b.cursorConfig,b,N.viewState,S,R))}return _}static _moveDownByViewLines(b,C,S,_){const a=[];for(let u=0,N=C.length;u<N;u++){const O=C[u];a[u]=X.Vi.fromViewState(v.o.moveDown(b.cursorConfig,b,O.viewState,S,_))}return a}static _moveDownByModelLines(b,C,S,_){const a=[];for(let u=0,N=C.length;u<N;u++){const O=C[u];a[u]=X.Vi.fromModelState(v.o.moveDown(b.cursorConfig,b.model,O.modelState,S,_))}return a}static _moveUpByViewLines(b,C,S,_){const a=[];for(let u=0,N=C.length;u<N;u++){const O=C[u];a[u]=X.Vi.fromViewState(v.o.moveUp(b.cursorConfig,b,O.viewState,S,_))}return a}static _moveUpByModelLines(b,C,S,_){const a=[];for(let u=0,N=C.length;u<N;u++){const O=C[u];a[u]=X.Vi.fromModelState(v.o.moveUp(b.cursorConfig,b.model,O.modelState,S,_))}return a}static _moveToViewPosition(b,C,S,_,a){return X.Vi.fromViewState(C.viewState.move(S,_,a,0))}static _moveToModelPosition(b,C,S,_,a){return X.Vi.fromModelState(C.modelState.move(S,_,a,0))}static _moveToViewMinColumn(b,C,S){const _=[];for(let a=0,u=C.length;a<u;a++){const N=C[a],O=N.viewState.position.lineNumber,R=b.getLineMinColumn(O);_[a]=this._moveToViewPosition(b,N,S,O,R)}return _}static _moveToViewFirstNonWhitespaceColumn(b,C,S){const _=[];for(let a=0,u=C.length;a<u;a++){const N=C[a],O=N.viewState.position.lineNumber,R=b.getLineFirstNonWhitespaceColumn(O);_[a]=this._moveToViewPosition(b,N,S,O,R)}return _}static _moveToViewCenterColumn(b,C,S){const _=[];for(let a=0,u=C.length;a<u;a++){const N=C[a],O=N.viewState.position.lineNumber,R=Math.round((b.getLineMaxColumn(O)+b.getLineMinColumn(O))/2);_[a]=this._moveToViewPosition(b,N,S,O,R)}return _}static _moveToViewMaxColumn(b,C,S){const _=[];for(let a=0,u=C.length;a<u;a++){const N=C[a],O=N.viewState.position.lineNumber,R=b.getLineMaxColumn(O);_[a]=this._moveToViewPosition(b,N,S,O,R)}return _}static _moveToViewLastNonWhitespaceColumn(b,C,S){const _=[];for(let a=0,u=C.length;a<u;a++){const N=C[a],O=N.viewState.position.lineNumber,R=b.getLineLastNonWhitespaceColumn(O);_[a]=this._moveToViewPosition(b,N,S,O,R)}return _}}var B;(function(y){const b=function(S){if(!D.Kn(S))return!1;const _=S;return!(!D.HD(_.to)||!D.o8(_.select)&&!D.jn(_.select)||!D.o8(_.by)&&!D.HD(_.by)||!D.o8(_.value)&&!D.hj(_.value))};y.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:b,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},y.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},y.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function C(S){if(!S.to)return null;let _;switch(S.to){case y.RawDirection.Left:_=0;break;case y.RawDirection.Right:_=1;break;case y.RawDirection.Up:_=2;break;case y.RawDirection.Down:_=3;break;case y.RawDirection.PrevBlankLine:_=4;break;case y.RawDirection.NextBlankLine:_=5;break;case y.RawDirection.WrappedLineStart:_=6;break;case y.RawDirection.WrappedLineFirstNonWhitespaceCharacter:_=7;break;case y.RawDirection.WrappedLineColumnCenter:_=8;break;case y.RawDirection.WrappedLineEnd:_=9;break;case y.RawDirection.WrappedLineLastNonWhitespaceCharacter:_=10;break;case y.RawDirection.ViewPortTop:_=11;break;case y.RawDirection.ViewPortBottom:_=13;break;case y.RawDirection.ViewPortCenter:_=12;break;case y.RawDirection.ViewPortIfOutside:_=14;break;default:return null}let a=0;switch(S.by){case y.RawUnit.Line:a=1;break;case y.RawUnit.WrappedLine:a=2;break;case y.RawUnit.Character:a=3;break;case y.RawUnit.HalfLine:a=4;break}return{direction:_,unit:a,select:!!S.select,value:S.value||1}}y.parse=C})(B||(B={}))},45901:function(Gt,ze,c){"use strict";c.d(ze,{o:function(){return B}});var D=c(80360),X=c(41498),v=c(79946),k=c(54125),L=c(40750),T=c(46656);class M{constructor(b,C,S){this._cursorPositionBrand=void 0,this.lineNumber=b,this.column=C,this.leftoverVisibleColumns=S}}class B{static leftPosition(b,C){if(C.column>b.getLineMinColumn(C.lineNumber))return C.delta(void 0,-D.HO(b.getLineContent(C.lineNumber),C.column-1));if(C.lineNumber>1){const S=C.lineNumber-1;return new v.L(S,b.getLineMaxColumn(S))}else return C}static leftPositionAtomicSoftTabs(b,C,S){if(C.column<=b.getLineIndentColumn(C.lineNumber)){const _=b.getLineMinColumn(C.lineNumber),a=b.getLineContent(C.lineNumber),u=L.l.atomicPosition(a,C.column-1,S,0);if(u!==-1&&u+1>=_)return new v.L(C.lineNumber,u+1)}return this.leftPosition(b,C)}static left(b,C,S){const _=b.stickyTabStops?B.leftPositionAtomicSoftTabs(C,S,b.tabSize):B.leftPosition(C,S);return new M(_.lineNumber,_.column,0)}static moveLeft(b,C,S,_,a){let u,N;if(S.hasSelection()&&!_)u=S.selection.startLineNumber,N=S.selection.startColumn;else{const O=S.position.delta(void 0,-(a-1)),R=C.normalizePosition(B.clipPositionColumn(O,C),0),V=B.left(b,C,R);u=V.lineNumber,N=V.column}return S.move(_,u,N,0)}static clipPositionColumn(b,C){return new v.L(b.lineNumber,B.clipRange(b.column,C.getLineMinColumn(b.lineNumber),C.getLineMaxColumn(b.lineNumber)))}static clipRange(b,C,S){return b<C?C:b>S?S:b}static rightPosition(b,C,S){return S<b.getLineMaxColumn(C)?S=S+D.vH(b.getLineContent(C),S-1):C<b.getLineCount()&&(C=C+1,S=b.getLineMinColumn(C)),new v.L(C,S)}static rightPositionAtomicSoftTabs(b,C,S,_,a){if(S<b.getLineIndentColumn(C)){const u=b.getLineContent(C),N=L.l.atomicPosition(u,S-1,_,1);if(N!==-1)return new v.L(C,N+1)}return this.rightPosition(b,C,S)}static right(b,C,S){const _=b.stickyTabStops?B.rightPositionAtomicSoftTabs(C,S.lineNumber,S.column,b.tabSize,b.indentSize):B.rightPosition(C,S.lineNumber,S.column);return new M(_.lineNumber,_.column,0)}static moveRight(b,C,S,_,a){let u,N;if(S.hasSelection()&&!_)u=S.selection.endLineNumber,N=S.selection.endColumn;else{const O=S.position.delta(void 0,a-1),R=C.normalizePosition(B.clipPositionColumn(O,C),1),V=B.right(b,C,R);u=V.lineNumber,N=V.column}return S.move(_,u,N,0)}static vertical(b,C,S,_,a,u,N,O){const R=X.i.visibleColumnFromColumn(C.getLineContent(S),_,b.tabSize)+a,V=C.getLineCount(),F=S===1&&_===1,Y=S===V&&_===C.getLineMaxColumn(S),G=u<S?F:Y;if(S=u,S<1?(S=1,N?_=C.getLineMinColumn(S):_=Math.min(C.getLineMaxColumn(S),_)):S>V?(S=V,N?_=C.getLineMaxColumn(S):_=Math.min(C.getLineMaxColumn(S),_)):_=b.columnFromVisibleColumn(C,S,R),G?a=0:a=R-X.i.visibleColumnFromColumn(C.getLineContent(S),_,b.tabSize),O!==void 0){const Z=new v.L(S,_),ne=C.normalizePosition(Z,O);a=a+(_-ne.column),S=ne.lineNumber,_=ne.column}return new M(S,_,a)}static down(b,C,S,_,a,u,N){return this.vertical(b,C,S,_,a,S+u,N,4)}static moveDown(b,C,S,_,a){let u,N;S.hasSelection()&&!_?(u=S.selection.endLineNumber,N=S.selection.endColumn):(u=S.position.lineNumber,N=S.position.column);let O=0,R;do if(R=B.down(b,C,u+O,N,S.leftoverVisibleColumns,a,!0),C.normalizePosition(new v.L(R.lineNumber,R.column),2).lineNumber>u)break;while(O++<10&&u+O<C.getLineCount());return S.move(_,R.lineNumber,R.column,R.leftoverVisibleColumns)}static translateDown(b,C,S){const _=S.selection,a=B.down(b,C,_.selectionStartLineNumber,_.selectionStartColumn,S.selectionStartLeftoverVisibleColumns,1,!1),u=B.down(b,C,_.positionLineNumber,_.positionColumn,S.leftoverVisibleColumns,1,!1);return new T.rS(new k.e(a.lineNumber,a.column,a.lineNumber,a.column),0,a.leftoverVisibleColumns,new v.L(u.lineNumber,u.column),u.leftoverVisibleColumns)}static up(b,C,S,_,a,u,N){return this.vertical(b,C,S,_,a,S-u,N,3)}static moveUp(b,C,S,_,a){let u,N;S.hasSelection()&&!_?(u=S.selection.startLineNumber,N=S.selection.startColumn):(u=S.position.lineNumber,N=S.position.column);const O=B.up(b,C,u,N,S.leftoverVisibleColumns,a,!0);return S.move(_,O.lineNumber,O.column,O.leftoverVisibleColumns)}static translateUp(b,C,S){const _=S.selection,a=B.up(b,C,_.selectionStartLineNumber,_.selectionStartColumn,S.selectionStartLeftoverVisibleColumns,1,!1),u=B.up(b,C,_.positionLineNumber,_.positionColumn,S.leftoverVisibleColumns,1,!1);return new T.rS(new k.e(a.lineNumber,a.column,a.lineNumber,a.column),0,a.leftoverVisibleColumns,new v.L(u.lineNumber,u.column),u.leftoverVisibleColumns)}static _isBlankLine(b,C){return b.getLineFirstNonWhitespaceColumn(C)===0}static moveToPrevBlankLine(b,C,S,_){let a=S.position.lineNumber;for(;a>1&&this._isBlankLine(C,a);)a--;for(;a>1&&!this._isBlankLine(C,a);)a--;return S.move(_,a,C.getLineMinColumn(a),0)}static moveToNextBlankLine(b,C,S,_){const a=C.getLineCount();let u=S.position.lineNumber;for(;u<a&&this._isBlankLine(C,u);)u++;for(;u<a&&!this._isBlankLine(C,u);)u++;return S.move(_,u,C.getLineMinColumn(u),0)}static moveToBeginningOfLine(b,C,S,_){const a=S.position.lineNumber,u=C.getLineMinColumn(a),N=C.getLineFirstNonWhitespaceColumn(a)||u;let O;return S.position.column===N?O=u:O=N,S.move(_,a,O,0)}static moveToEndOfLine(b,C,S,_,a){const u=S.position.lineNumber,N=C.getLineMaxColumn(u);return S.move(_,u,N,a?1073741824-N:0)}static moveToBeginningOfBuffer(b,C,S,_){return S.move(_,1,1,0)}static moveToEndOfBuffer(b,C,S,_){const a=C.getLineCount(),u=C.getLineMaxColumn(a);return S.move(_,a,u,0)}}},79123:function(Gt,ze,c){"use strict";c.d(ze,{Nu:function(){return V},u6:function(){return O},g_:function(){return R}});var D=c(35541),X=c(80360),v=c(22532),k=c(86263),L=c(54125),T=c(37753);class M{constructor($,J,se){this._range=$,this._charBeforeSelection=J,this._charAfterSelection=se}getEditOperations($,J){J.addTrackedEditOperation(new L.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),J.addTrackedEditOperation(new L.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState($,J){const se=J.getInverseEditOperations(),re=se[0].range,he=se[1].range;return new T.Y(re.endLineNumber,re.endColumn,he.endLineNumber,he.endColumn-this._charAfterSelection.length)}}class B{constructor($,J,se){this._position=$,this._text=J,this._charAfter=se}getEditOperations($,J){J.addTrackedEditOperation(new L.e(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState($,J){const re=J.getInverseEditOperations()[0].range;return new T.Y(re.endLineNumber,re.startColumn,re.endLineNumber,re.endColumn-this._charAfter.length)}}var y=c(46656),b=c(68734),C=c(79946),S=c(88574),_=c(79993),a=c(32777),u=c(73316),N=c(8537);class O{static indent($,J,se){if(J===null||se===null)return[];const re=[];for(let he=0,H=se.length;he<H;he++)re[he]=new k.U(se[he],{isUnshift:!1,tabSize:$.tabSize,indentSize:$.indentSize,insertSpaces:$.insertSpaces,useTabStops:$.useTabStops,autoIndent:$.autoIndent},$.languageConfigurationService);return re}static outdent($,J,se){const re=[];for(let he=0,H=se.length;he<H;he++)re[he]=new k.U(se[he],{isUnshift:!0,tabSize:$.tabSize,indentSize:$.indentSize,insertSpaces:$.insertSpaces,useTabStops:$.useTabStops,autoIndent:$.autoIndent},$.languageConfigurationService);return re}static shiftIndent($,J,se){return se=se||1,k.U.shiftIndent(J,J.length+se,$.tabSize,$.indentSize,$.insertSpaces)}static unshiftIndent($,J,se){return se=se||1,k.U.unshiftIndent(J,J.length+se,$.tabSize,$.indentSize,$.insertSpaces)}static _distributedPaste($,J,se,re){const he=[];for(let H=0,P=se.length;H<P;H++)he[H]=new v.T4(se[H],re[H]);return new y.Tp(0,he,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste($,J,se,re,he){const H=[];for(let P=0,j=se.length;P<j;P++){const K=se[P],ie=K.getPosition();if(he&&!K.isEmpty()&&(he=!1),he&&re.indexOf(`
`)!==re.length-1&&(he=!1),he){const ce=new L.e(ie.lineNumber,1,ie.lineNumber,1);H[P]=new v.hP(ce,re,K,!0)}else H[P]=new v.T4(K,re)}return new y.Tp(0,H,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors($,J,se,re,he){if(re||J.length===1)return null;if(he&&he.length===J.length)return he;if($.multiCursorPaste==="spread"){se.charCodeAt(se.length-1)===10&&(se=se.substr(0,se.length-1)),se.charCodeAt(se.length-1)===13&&(se=se.substr(0,se.length-1));const H=X.uq(se);if(H.length===J.length)return H}return null}static paste($,J,se,re,he,H){const P=this._distributePasteToCursors($,se,re,he,H);return P?(se=se.sort(L.e.compareRangesUsingStarts),this._distributedPaste($,J,se,P)):this._simplePaste($,J,se,re,he)}static _goodIndentForLine($,J,se){let re=null,he="";const H=(0,u.r7)($.autoIndent,J,se,!1,$.languageConfigurationService);if(H)re=H.action,he=H.indentation;else if(se>1){let P;for(P=se-1;P>=1;P--){const ie=J.getLineContent(P);if(X.ow(ie)>=0)break}if(P<1)return null;const j=J.getLineMaxColumn(P),K=(0,N.A)($.autoIndent,J,new L.e(P,j,P,j),$.languageConfigurationService);K&&(he=K.indentation+K.appendText)}return re&&(re===S.wU.Indent&&(he=O.shiftIndent($,he)),re===S.wU.Outdent&&(he=O.unshiftIndent($,he)),he=$.normalizeIndentation(he)),he||null}static _replaceJumpToNextIndent($,J,se,re){let he="";const H=se.getStartPosition();if($.insertSpaces){const P=$.visibleColumnFromColumn(J,H),j=$.indentSize,K=j-P%j;for(let ie=0;ie<K;ie++)he+=" "}else he="	";return new v.T4(se,he,re)}static tab($,J,se){const re=[];for(let he=0,H=se.length;he<H;he++){const P=se[he];if(P.isEmpty()){const j=J.getLineContent(P.startLineNumber);if(/^\s*$/.test(j)&&J.tokenization.isCheapToTokenize(P.startLineNumber)){let K=this._goodIndentForLine($,J,P.startLineNumber);K=K||"	";const ie=$.normalizeIndentation(K);if(!j.startsWith(ie)){re[he]=new v.T4(new L.e(P.startLineNumber,1,P.startLineNumber,j.length+1),ie,!0);continue}}re[he]=this._replaceJumpToNextIndent($,J,P,!0)}else{if(P.startLineNumber===P.endLineNumber){const j=J.getLineMaxColumn(P.startLineNumber);if(P.startColumn!==1||P.endColumn!==j){re[he]=this._replaceJumpToNextIndent($,J,P,!1);continue}}re[he]=new k.U(P,{isUnshift:!1,tabSize:$.tabSize,indentSize:$.indentSize,insertSpaces:$.insertSpaces,useTabStops:$.useTabStops,autoIndent:$.autoIndent},$.languageConfigurationService)}}return re}static compositionType($,J,se,re,he,H,P,j){const K=re.map(ie=>this._compositionType(se,ie,he,H,P,j));return new y.Tp(4,K,{shouldPushStackElementBefore:Y($,4),shouldPushStackElementAfter:!1})}static _compositionType($,J,se,re,he,H){if(!J.isEmpty())return null;const P=J.getPosition(),j=Math.max(1,P.column-re),K=Math.min($.getLineMaxColumn(P.lineNumber),P.column+he),ie=new L.e(P.lineNumber,j,P.lineNumber,K);return $.getValueInRange(ie)===se&&H===0?null:new v.Uo(ie,se,0,H)}static _typeCommand($,J,se){return se?new v.Sj($,J,!0):new v.T4($,J,!0)}static _enter($,J,se,re){if($.autoIndent===0)return O._typeCommand(re,`
`,se);if(!J.tokenization.isCheapToTokenize(re.getStartPosition().lineNumber)||$.autoIndent===1){const j=J.getLineContent(re.startLineNumber),K=X.V8(j).substring(0,re.startColumn-1);return O._typeCommand(re,`
`+$.normalizeIndentation(K),se)}const he=(0,N.A)($.autoIndent,J,re,$.languageConfigurationService);if(he){if(he.indentAction===S.wU.None)return O._typeCommand(re,`
`+$.normalizeIndentation(he.indentation+he.appendText),se);if(he.indentAction===S.wU.Indent)return O._typeCommand(re,`
`+$.normalizeIndentation(he.indentation+he.appendText),se);if(he.indentAction===S.wU.IndentOutdent){const j=$.normalizeIndentation(he.indentation),K=$.normalizeIndentation(he.indentation+he.appendText),ie=`
`+K+`
`+j;return se?new v.Sj(re,ie,!0):new v.Uo(re,ie,-1,K.length-j.length,!0)}else if(he.indentAction===S.wU.Outdent){const j=O.unshiftIndent($,he.indentation);return O._typeCommand(re,`
`+$.normalizeIndentation(j+he.appendText),se)}}const H=J.getLineContent(re.startLineNumber),P=X.V8(H).substring(0,re.startColumn-1);if($.autoIndent>=4){const j=(0,u.UF)($.autoIndent,J,re,{unshiftIndent:K=>O.unshiftIndent($,K),shiftIndent:K=>O.shiftIndent($,K),normalizeIndentation:K=>$.normalizeIndentation(K)},$.languageConfigurationService);if(j){let K=$.visibleColumnFromColumn(J,re.getEndPosition());const ie=re.endColumn,ce=J.getLineContent(re.endLineNumber),_e=X.LC(ce);if(_e>=0?re=re.setEndPosition(re.endLineNumber,Math.max(re.endColumn,_e+1)):re=re.setEndPosition(re.endLineNumber,J.getLineMaxColumn(re.endLineNumber)),se)return new v.Sj(re,`
`+$.normalizeIndentation(j.afterEnter),!0);{let Ee=0;return ie<=_e+1&&($.insertSpaces||(K=Math.ceil(K/$.indentSize)),Ee=Math.min(K+1-$.normalizeIndentation(j.afterEnter).length-1,0)),new v.Uo(re,`
`+$.normalizeIndentation(j.afterEnter),0,Ee,!0)}}}return O._typeCommand(re,`
`+$.normalizeIndentation(P),se)}static _isAutoIndentType($,J,se){if($.autoIndent<4)return!1;for(let re=0,he=se.length;re<he;re++)if(!J.tokenization.isCheapToTokenize(se[re].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType($,J,se,re){const he=(0,_.u0)(J,se.startLineNumber,se.startColumn),H=(0,u.$9)($.autoIndent,J,se,re,{shiftIndent:P=>O.shiftIndent($,P),unshiftIndent:P=>O.unshiftIndent($,P)},$.languageConfigurationService);if(H===null)return null;if(H!==$.normalizeIndentation(he)){const P=J.getLineFirstNonWhitespaceColumn(se.startLineNumber);return P===0?O._typeCommand(new L.e(se.startLineNumber,1,se.endLineNumber,se.endColumn),$.normalizeIndentation(H)+re,!1):O._typeCommand(new L.e(se.startLineNumber,1,se.endLineNumber,se.endColumn),$.normalizeIndentation(H)+J.getLineContent(se.startLineNumber).substring(P-1,se.startColumn-1)+re,!1)}return null}static _isAutoClosingOvertype($,J,se,re,he){if($.autoClosingOvertype==="never"||!$.autoClosingPairs.autoClosingPairsCloseSingleChar.has(he))return!1;for(let H=0,P=se.length;H<P;H++){const j=se[H];if(!j.isEmpty())return!1;const K=j.getPosition(),ie=J.getLineContent(K.lineNumber);if(ie.charAt(K.column-1)!==he)return!1;const _e=(0,y.LN)(he);if((K.column>2?ie.charCodeAt(K.column-2):0)===92&&_e)return!1;if($.autoClosingOvertype==="auto"){let Ce=!1;for(let pe=0,xe=re.length;pe<xe;pe++){const x=re[pe];if(K.lineNumber===x.startLineNumber&&K.column===x.startColumn){Ce=!0;break}}if(!Ce)return!1}}return!0}static _runAutoClosingOvertype($,J,se,re,he){const H=[];for(let P=0,j=re.length;P<j;P++){const ie=re[P].getPosition(),ce=new L.e(ie.lineNumber,ie.column,ie.lineNumber,ie.column+1);H[P]=new v.T4(ce,he)}return new y.Tp(4,H,{shouldPushStackElementBefore:Y($,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace($,J){const se=J.charAt(0),re=$.autoClosingPairs.autoClosingPairsOpenByStart.get(se)||[],he=$.autoClosingPairs.autoClosingPairsCloseByStart.get(se)||[],H=re.some(j=>J.startsWith(j.open)),P=he.some(j=>J.startsWith(j.close));return!H&&P}static _findAutoClosingPairOpen($,J,se,re){const he=$.autoClosingPairs.autoClosingPairsOpenByEnd.get(re);if(!he)return null;let H=null;for(const P of he)if(H===null||P.open.length>H.open.length){let j=!0;for(const K of se)if(J.getValueInRange(new L.e(K.lineNumber,K.column-P.open.length+1,K.lineNumber,K.column))+re!==P.open){j=!1;break}j&&(H=P)}return H}static _findContainedAutoClosingPair($,J){if(J.open.length<=1)return null;const se=J.close.charAt(J.close.length-1),re=$.autoClosingPairs.autoClosingPairsCloseByEnd.get(se)||[];let he=null;for(const H of re)H.open!==J.open&&J.open.includes(H.open)&&J.close.endsWith(H.close)&&(!he||H.open.length>he.open.length)&&(he=H);return he}static _getAutoClosingPairClose($,J,se,re,he){for(const Ce of se)if(!Ce.isEmpty())return null;const H=se.map(Ce=>{const pe=Ce.getPosition();return he?{lineNumber:pe.lineNumber,beforeColumn:pe.column-re.length,afterColumn:pe.column}:{lineNumber:pe.lineNumber,beforeColumn:pe.column,afterColumn:pe.column}}),P=this._findAutoClosingPairOpen($,J,H.map(Ce=>new C.L(Ce.lineNumber,Ce.beforeColumn)),re);if(!P)return null;let j,K;if((0,y.LN)(re)?(j=$.autoClosingQuotes,K=$.shouldAutoCloseBefore.quote):($.blockCommentStartToken?P.open.includes($.blockCommentStartToken):!1)?(j=$.autoClosingComments,K=$.shouldAutoCloseBefore.comment):(j=$.autoClosingBrackets,K=$.shouldAutoCloseBefore.bracket),j==="never")return null;const ce=this._findContainedAutoClosingPair($,P),_e=ce?ce.close:"";let Ee=!0;for(const Ce of H){const{lineNumber:pe,beforeColumn:xe,afterColumn:x}=Ce,rt=J.getLineContent(pe),Xe=rt.substring(0,xe-1),Ze=rt.substring(x-1);if(Ze.startsWith(_e)||(Ee=!1),Ze.length>0){const He=Ze.charAt(0);if(!O._isBeforeClosingBrace($,Ze)&&!K(He))return null}if(P.open.length===1&&(re==="'"||re==='"')&&j!=="always"){const He=(0,b.u)($.wordSeparators);if(Xe.length>0){const Dt=Xe.charCodeAt(Xe.length-1);if(He.get(Dt)===0)return null}}if(!J.tokenization.isCheapToTokenize(pe))return null;J.tokenization.forceTokenization(pe);const lt=J.tokenization.getLineTokens(pe),ut=(0,a.wH)(lt,xe-1);if(!P.shouldAutoClose(ut,xe-ut.firstCharOffset))return null;const ct=P.findNeutralCharacter();if(ct){const He=J.tokenization.getTokenTypeIfInsertingCharacter(pe,xe,ct);if(!P.isOK(He))return null}}return Ee?P.close.substring(0,P.close.length-_e.length):P.close}static _runAutoClosingOpenCharType($,J,se,re,he,H,P){const j=[];for(let K=0,ie=re.length;K<ie;K++){const ce=re[K];j[K]=new R(ce,he,!H,P)}return new y.Tp(4,j,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar($,J){return(0,y.LN)(J)?$.autoSurround==="quotes"||$.autoSurround==="languageDefined":$.autoSurround==="brackets"||$.autoSurround==="languageDefined"}static _isSurroundSelectionType($,J,se,re){if(!O._shouldSurroundChar($,re)||!$.surroundingPairs.hasOwnProperty(re))return!1;const he=(0,y.LN)(re);for(const H of se){if(H.isEmpty())return!1;let P=!0;for(let j=H.startLineNumber;j<=H.endLineNumber;j++){const K=J.getLineContent(j),ie=j===H.startLineNumber?H.startColumn-1:0,ce=j===H.endLineNumber?H.endColumn-1:K.length,_e=K.substring(ie,ce);if(/[^ \t]/.test(_e)){P=!1;break}}if(P)return!1;if(he&&H.startLineNumber===H.endLineNumber&&H.startColumn+1===H.endColumn){const j=J.getValueInRange(H);if((0,y.LN)(j))return!1}}return!0}static _runSurroundSelectionType($,J,se,re,he){const H=[];for(let P=0,j=re.length;P<j;P++){const K=re[P],ie=J.surroundingPairs[he];H[P]=new M(K,he,ie)}return new y.Tp(0,H,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar($,J,se){return!!(se.length===1&&J.tokenization.isCheapToTokenize(se[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar($,J,se,re,he){if(!J.electricChars.hasOwnProperty(he)||!re.isEmpty())return null;const H=re.getPosition();se.tokenization.forceTokenization(H.lineNumber);const P=se.tokenization.getLineTokens(H.lineNumber);let j;try{j=J.onElectricCharacter(he,P,H.column)}catch(K){return(0,D.dL)(K),null}if(!j)return null;if(j.matchOpenBracket){const K=(P.getLineContent()+he).lastIndexOf(j.matchOpenBracket)+1,ie=se.bracketPairs.findMatchingBracketUp(j.matchOpenBracket,{lineNumber:H.lineNumber,column:K},500);if(ie){if(ie.startLineNumber===H.lineNumber)return null;const ce=se.getLineContent(ie.startLineNumber),_e=X.V8(ce),Ee=J.normalizeIndentation(_e),Ce=se.getLineContent(H.lineNumber),pe=se.getLineFirstNonWhitespaceColumn(H.lineNumber)||H.column,xe=Ce.substring(pe-1,H.column-1),x=Ee+xe+he,rt=new L.e(H.lineNumber,1,H.lineNumber,H.column),Xe=new v.T4(rt,x);return new y.Tp(F(x,$),[Xe],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors($,J,se,re,he,H){if(!re)return null;let P=null;for(const ce of re)if(P===null)P=ce.insertedText;else if(P!==ce.insertedText)return null;if(!P||P.length!==1)return null;const j=P;let K=!1;for(const ce of re)if(ce.deletedText.length!==0){K=!0;break}if(K){if(!O._shouldSurroundChar(J,j)||!J.surroundingPairs.hasOwnProperty(j))return null;const ce=(0,y.LN)(j);for(const Ce of re)if(Ce.deletedSelectionStart!==0||Ce.deletedSelectionEnd!==Ce.deletedText.length||/^[ \t]+$/.test(Ce.deletedText)||ce&&(0,y.LN)(Ce.deletedText))return null;const _e=[];for(const Ce of he){if(!Ce.isEmpty())return null;_e.push(Ce.getPosition())}if(_e.length!==re.length)return null;const Ee=[];for(let Ce=0,pe=_e.length;Ce<pe;Ce++)Ee.push(new B(_e[Ce],re[Ce].deletedText,J.surroundingPairs[j]));return new y.Tp(4,Ee,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(J,se,he,H,j)){const ce=he.map(_e=>new v.T4(new L.e(_e.positionLineNumber,_e.positionColumn,_e.positionLineNumber,_e.positionColumn+1),"",!1));return new y.Tp(4,ce,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const ie=this._getAutoClosingPairClose(J,se,he,j,!0);return ie!==null?this._runAutoClosingOpenCharType($,J,se,he,j,!0,ie):null}static typeWithInterceptors($,J,se,re,he,H,P){if(!$&&P===`
`){const ie=[];for(let ce=0,_e=he.length;ce<_e;ce++)ie[ce]=O._enter(se,re,!1,he[ce]);return new y.Tp(4,ie,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!$&&this._isAutoIndentType(se,re,he)){const ie=[];let ce=!1;for(let _e=0,Ee=he.length;_e<Ee;_e++)if(ie[_e]=this._runAutoIndentType(se,re,he[_e],P),!ie[_e]){ce=!0;break}if(!ce)return new y.Tp(4,ie,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(se,re,he,H,P))return this._runAutoClosingOvertype(J,se,re,he,P);if(!$){const ie=this._getAutoClosingPairClose(se,re,he,P,!1);if(ie)return this._runAutoClosingOpenCharType(J,se,re,he,P,!1,ie)}if(!$&&this._isSurroundSelectionType(se,re,he,P))return this._runSurroundSelectionType(J,se,re,he,P);if(!$&&this._isTypeInterceptorElectricChar(se,re,he)){const ie=this._typeInterceptorElectricChar(J,se,re,he[0],P);if(ie)return ie}const j=[];for(let ie=0,ce=he.length;ie<ce;ie++)j[ie]=new v.T4(he[ie],P);const K=F(P,J);return new y.Tp(K,j,{shouldPushStackElementBefore:Y(J,K),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors($,J,se,re,he){const H=[];for(let j=0,K=re.length;j<K;j++)H[j]=new v.T4(re[j],he);const P=F(he,$);return new y.Tp(P,H,{shouldPushStackElementBefore:Y($,P),shouldPushStackElementAfter:!1})}static lineInsertBefore($,J,se){if(J===null||se===null)return[];const re=[];for(let he=0,H=se.length;he<H;he++){let P=se[he].positionLineNumber;if(P===1)re[he]=new v.Sj(new L.e(1,1,1,1),`
`);else{P--;const j=J.getLineMaxColumn(P);re[he]=this._enter($,J,!1,new L.e(P,j,P,j))}}return re}static lineInsertAfter($,J,se){if(J===null||se===null)return[];const re=[];for(let he=0,H=se.length;he<H;he++){const P=se[he].positionLineNumber,j=J.getLineMaxColumn(P);re[he]=this._enter($,J,!1,new L.e(P,j,P,j))}return re}static lineBreakInsert($,J,se){const re=[];for(let he=0,H=se.length;he<H;he++)re[he]=this._enter($,J,!0,se[he]);return re}}class R extends v.Uo{constructor($,J,se,re){super($,(se?J:"")+re,0,-re.length),this._openCharacter=J,this._closeCharacter=re,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState($,J){const re=J.getInverseEditOperations()[0].range;return this.closeCharacterRange=new L.e(re.startLineNumber,re.endColumn-this._closeCharacter.length,re.endLineNumber,re.endColumn),this.enclosingRange=new L.e(re.startLineNumber,re.endColumn-this._openCharacter.length-this._closeCharacter.length,re.endLineNumber,re.endColumn),super.computeCursorState($,J)}}class V{constructor($,J,se,re,he,H){this.deletedText=$,this.deletedSelectionStart=J,this.deletedSelectionEnd=se,this.insertedText=re,this.insertedSelectionStart=he,this.insertedSelectionEnd=H}}function F(ne,$){return ne===" "?$===5||$===6?6:5:4}function Y(ne,$){return Z(ne)&&!Z($)?!0:ne===5?!1:G(ne)!==G($)}function G(ne){return ne===6||ne===5?"space":ne}function Z(ne){return ne===4||ne===5||ne===6}},95483:function(Gt,ze,c){"use strict";c.d(ze,{L:function(){return B},w:function(){return M}});var D=c(80360),X=c(46656),v=c(8243),k=c(68734),L=c(79946),T=c(54125);class M{static _createWord(C,S,_,a,u){return{start:a,end:u,wordType:S,nextCharClass:_}}static _findPreviousWordOnLine(C,S,_){const a=S.getLineContent(_.lineNumber);return this._doFindPreviousWordOnLine(a,C,_)}static _doFindPreviousWordOnLine(C,S,_){let a=0;for(let u=_.column-2;u>=0;u--){const N=C.charCodeAt(u),O=S.get(N);if(O===0){if(a===2)return this._createWord(C,a,O,u+1,this._findEndOfWord(C,S,a,u+1));a=1}else if(O===2){if(a===1)return this._createWord(C,a,O,u+1,this._findEndOfWord(C,S,a,u+1));a=2}else if(O===1&&a!==0)return this._createWord(C,a,O,u+1,this._findEndOfWord(C,S,a,u+1))}return a!==0?this._createWord(C,a,1,0,this._findEndOfWord(C,S,a,0)):null}static _findEndOfWord(C,S,_,a){const u=C.length;for(let N=a;N<u;N++){const O=C.charCodeAt(N),R=S.get(O);if(R===1||_===1&&R===2||_===2&&R===0)return N}return u}static _findNextWordOnLine(C,S,_){const a=S.getLineContent(_.lineNumber);return this._doFindNextWordOnLine(a,C,_)}static _doFindNextWordOnLine(C,S,_){let a=0;const u=C.length;for(let N=_.column-1;N<u;N++){const O=C.charCodeAt(N),R=S.get(O);if(R===0){if(a===2)return this._createWord(C,a,R,this._findStartOfWord(C,S,a,N-1),N);a=1}else if(R===2){if(a===1)return this._createWord(C,a,R,this._findStartOfWord(C,S,a,N-1),N);a=2}else if(R===1&&a!==0)return this._createWord(C,a,R,this._findStartOfWord(C,S,a,N-1),N)}return a!==0?this._createWord(C,a,1,this._findStartOfWord(C,S,a,u-1),u):null}static _findStartOfWord(C,S,_,a){for(let u=a;u>=0;u--){const N=C.charCodeAt(u),O=S.get(N);if(O===1||_===1&&O===2||_===2&&O===0)return u+1}return 0}static moveWordLeft(C,S,_,a){let u=_.lineNumber,N=_.column;N===1&&u>1&&(u=u-1,N=S.getLineMaxColumn(u));let O=M._findPreviousWordOnLine(C,S,new L.L(u,N));if(a===0)return new L.L(u,O?O.start+1:1);if(a===1)return O&&O.wordType===2&&O.end-O.start===1&&O.nextCharClass===0&&(O=M._findPreviousWordOnLine(C,S,new L.L(u,O.start+1))),new L.L(u,O?O.start+1:1);if(a===3){for(;O&&O.wordType===2;)O=M._findPreviousWordOnLine(C,S,new L.L(u,O.start+1));return new L.L(u,O?O.start+1:1)}return O&&N<=O.end+1&&(O=M._findPreviousWordOnLine(C,S,new L.L(u,O.start+1))),new L.L(u,O?O.end+1:1)}static _moveWordPartLeft(C,S){const _=S.lineNumber,a=C.getLineMaxColumn(_);if(S.column===1)return _>1?new L.L(_-1,C.getLineMaxColumn(_-1)):S;const u=C.getLineContent(_);for(let N=S.column-1;N>1;N--){const O=u.charCodeAt(N-2),R=u.charCodeAt(N-1);if(O===95&&R!==95)return new L.L(_,N);if(O===45&&R!==45)return new L.L(_,N);if((D.mK(O)||D.T5(O))&&D.df(R))return new L.L(_,N);if(D.df(O)&&D.df(R)&&N+1<a){const V=u.charCodeAt(N);if(D.mK(V)||D.T5(V))return new L.L(_,N)}}return new L.L(_,1)}static moveWordRight(C,S,_,a){let u=_.lineNumber,N=_.column,O=!1;N===S.getLineMaxColumn(u)&&u<S.getLineCount()&&(O=!0,u=u+1,N=1);let R=M._findNextWordOnLine(C,S,new L.L(u,N));if(a===2)R&&R.wordType===2&&R.end-R.start===1&&R.nextCharClass===0&&(R=M._findNextWordOnLine(C,S,new L.L(u,R.end+1))),R?N=R.end+1:N=S.getLineMaxColumn(u);else if(a===3){for(O&&(N=0);R&&(R.wordType===2||R.start+1<=N);)R=M._findNextWordOnLine(C,S,new L.L(u,R.end+1));R?N=R.start+1:N=S.getLineMaxColumn(u)}else R&&!O&&N>=R.start+1&&(R=M._findNextWordOnLine(C,S,new L.L(u,R.end+1))),R?N=R.start+1:N=S.getLineMaxColumn(u);return new L.L(u,N)}static _moveWordPartRight(C,S){const _=S.lineNumber,a=C.getLineMaxColumn(_);if(S.column===a)return _<C.getLineCount()?new L.L(_+1,1):S;const u=C.getLineContent(_);for(let N=S.column+1;N<a;N++){const O=u.charCodeAt(N-2),R=u.charCodeAt(N-1);if(O!==95&&R===95)return new L.L(_,N);if(O!==45&&R===45)return new L.L(_,N);if((D.mK(O)||D.T5(O))&&D.df(R))return new L.L(_,N);if(D.df(O)&&D.df(R)&&N+1<a){const V=u.charCodeAt(N);if(D.mK(V)||D.T5(V))return new L.L(_,N)}}return new L.L(_,a)}static _deleteWordLeftWhitespace(C,S){const _=C.getLineContent(S.lineNumber),a=S.column-2,u=D.ow(_,a);return u+1<a?new T.e(S.lineNumber,u+2,S.lineNumber,S.column):null}static deleteWordLeft(C,S){const _=C.wordSeparators,a=C.model,u=C.selection,N=C.whitespaceHeuristics;if(!u.isEmpty())return u;if(v.A.isAutoClosingPairDelete(C.autoClosingDelete,C.autoClosingBrackets,C.autoClosingQuotes,C.autoClosingPairs.autoClosingPairsOpenByEnd,C.model,[C.selection],C.autoClosedCharacters)){const Y=C.selection.getPosition();return new T.e(Y.lineNumber,Y.column-1,Y.lineNumber,Y.column+1)}const O=new L.L(u.positionLineNumber,u.positionColumn);let R=O.lineNumber,V=O.column;if(R===1&&V===1)return null;if(N){const Y=this._deleteWordLeftWhitespace(a,O);if(Y)return Y}let F=M._findPreviousWordOnLine(_,a,O);return S===0?F?V=F.start+1:V>1?V=1:(R--,V=a.getLineMaxColumn(R)):(F&&V<=F.end+1&&(F=M._findPreviousWordOnLine(_,a,new L.L(R,F.start+1))),F?V=F.end+1:V>1?V=1:(R--,V=a.getLineMaxColumn(R))),new T.e(R,V,O.lineNumber,O.column)}static deleteInsideWord(C,S,_){if(!_.isEmpty())return _;const a=new L.L(_.positionLineNumber,_.positionColumn),u=this._deleteInsideWordWhitespace(S,a);return u||this._deleteInsideWordDetermineDeleteRange(C,S,a)}static _charAtIsWhitespace(C,S){const _=C.charCodeAt(S);return _===32||_===9}static _deleteInsideWordWhitespace(C,S){const _=C.getLineContent(S.lineNumber),a=_.length;if(a===0)return null;let u=Math.max(S.column-2,0);if(!this._charAtIsWhitespace(_,u))return null;let N=Math.min(S.column-1,a-1);if(!this._charAtIsWhitespace(_,N))return null;for(;u>0&&this._charAtIsWhitespace(_,u-1);)u--;for(;N+1<a&&this._charAtIsWhitespace(_,N+1);)N++;return new T.e(S.lineNumber,u+1,S.lineNumber,N+2)}static _deleteInsideWordDetermineDeleteRange(C,S,_){const a=S.getLineContent(_.lineNumber),u=a.length;if(u===0)return _.lineNumber>1?new T.e(_.lineNumber-1,S.getLineMaxColumn(_.lineNumber-1),_.lineNumber,1):_.lineNumber<S.getLineCount()?new T.e(_.lineNumber,1,_.lineNumber+1,1):new T.e(_.lineNumber,1,_.lineNumber,1);const N=Y=>Y.start+1<=_.column&&_.column<=Y.end+1,O=(Y,G)=>(Y=Math.min(Y,_.column),G=Math.max(G,_.column),new T.e(_.lineNumber,Y,_.lineNumber,G)),R=Y=>{let G=Y.start+1,Z=Y.end+1,ne=!1;for(;Z-1<u&&this._charAtIsWhitespace(a,Z-1);)ne=!0,Z++;if(!ne)for(;G>1&&this._charAtIsWhitespace(a,G-2);)G--;return O(G,Z)},V=M._findPreviousWordOnLine(C,S,_);if(V&&N(V))return R(V);const F=M._findNextWordOnLine(C,S,_);return F&&N(F)?R(F):V&&F?O(V.end+1,F.start+1):V?O(V.start+1,V.end+1):F?O(F.start+1,F.end+1):O(1,u+1)}static _deleteWordPartLeft(C,S){if(!S.isEmpty())return S;const _=S.getPosition(),a=M._moveWordPartLeft(C,_);return new T.e(_.lineNumber,_.column,a.lineNumber,a.column)}static _findFirstNonWhitespaceChar(C,S){const _=C.length;for(let a=S;a<_;a++){const u=C.charAt(a);if(u!==" "&&u!=="	")return a}return _}static _deleteWordRightWhitespace(C,S){const _=C.getLineContent(S.lineNumber),a=S.column-1,u=this._findFirstNonWhitespaceChar(_,a);return a+1<u?new T.e(S.lineNumber,S.column,S.lineNumber,u+1):null}static deleteWordRight(C,S){const _=C.wordSeparators,a=C.model,u=C.selection,N=C.whitespaceHeuristics;if(!u.isEmpty())return u;const O=new L.L(u.positionLineNumber,u.positionColumn);let R=O.lineNumber,V=O.column;const F=a.getLineCount(),Y=a.getLineMaxColumn(R);if(R===F&&V===Y)return null;if(N){const Z=this._deleteWordRightWhitespace(a,O);if(Z)return Z}let G=M._findNextWordOnLine(_,a,O);return S===2?G?V=G.end+1:V<Y||R===F?V=Y:(R++,G=M._findNextWordOnLine(_,a,new L.L(R,1)),G?V=G.start+1:V=a.getLineMaxColumn(R)):(G&&V>=G.start+1&&(G=M._findNextWordOnLine(_,a,new L.L(R,G.end+1))),G?V=G.start+1:V<Y||R===F?V=Y:(R++,G=M._findNextWordOnLine(_,a,new L.L(R,1)),G?V=G.start+1:V=a.getLineMaxColumn(R))),new T.e(R,V,O.lineNumber,O.column)}static _deleteWordPartRight(C,S){if(!S.isEmpty())return S;const _=S.getPosition(),a=M._moveWordPartRight(C,_);return new T.e(_.lineNumber,_.column,a.lineNumber,a.column)}static _createWordAtPosition(C,S,_){const a=new T.e(S,_.start+1,S,_.end+1);return{word:C.getValueInRange(a),startColumn:a.startColumn,endColumn:a.endColumn}}static getWordAtPosition(C,S,_){const a=(0,k.u)(S),u=M._findPreviousWordOnLine(a,C,_);if(u&&u.wordType===1&&u.start<=_.column-1&&_.column-1<=u.end)return M._createWordAtPosition(C,_.lineNumber,u);const N=M._findNextWordOnLine(a,C,_);return N&&N.wordType===1&&N.start<=_.column-1&&_.column-1<=N.end?M._createWordAtPosition(C,_.lineNumber,N):null}static word(C,S,_,a,u){const N=(0,k.u)(C.wordSeparators),O=M._findPreviousWordOnLine(N,S,u),R=M._findNextWordOnLine(N,S,u);if(!a){let Z,ne;return O&&O.wordType===1&&O.start<=u.column-1&&u.column-1<=O.end?(Z=O.start+1,ne=O.end+1):R&&R.wordType===1&&R.start<=u.column-1&&u.column-1<=R.end?(Z=R.start+1,ne=R.end+1):(O?Z=O.end+1:Z=1,R?ne=R.start+1:ne=S.getLineMaxColumn(u.lineNumber)),new X.rS(new T.e(u.lineNumber,Z,u.lineNumber,ne),1,0,new L.L(u.lineNumber,ne),0)}let V,F;O&&O.wordType===1&&O.start<u.column-1&&u.column-1<O.end?(V=O.start+1,F=O.end+1):R&&R.wordType===1&&R.start<u.column-1&&u.column-1<R.end?(V=R.start+1,F=R.end+1):(V=u.column,F=u.column);const Y=u.lineNumber;let G;if(_.selectionStart.containsPosition(u))G=_.selectionStart.endColumn;else if(u.isBeforeOrEqual(_.selectionStart.getStartPosition())){G=V;const Z=new L.L(Y,G);_.selectionStart.containsPosition(Z)&&(G=_.selectionStart.endColumn)}else{G=F;const Z=new L.L(Y,G);_.selectionStart.containsPosition(Z)&&(G=_.selectionStart.startColumn)}return _.move(!0,Y,G,0)}}class B extends M{static deleteWordPartLeft(C){const S=y([M.deleteWordLeft(C,0),M.deleteWordLeft(C,2),M._deleteWordPartLeft(C.model,C.selection)]);return S.sort(T.e.compareRangesUsingEnds),S[2]}static deleteWordPartRight(C){const S=y([M.deleteWordRight(C,0),M.deleteWordRight(C,2),M._deleteWordPartRight(C.model,C.selection)]);return S.sort(T.e.compareRangesUsingStarts),S[0]}static moveWordPartLeft(C,S,_){const a=y([M.moveWordLeft(C,S,_,0),M.moveWordLeft(C,S,_,2),M._moveWordPartLeft(S,_)]);return a.sort(L.L.compare),a[2]}static moveWordPartRight(C,S,_){const a=y([M.moveWordRight(C,S,_,0),M.moveWordRight(C,S,_,2),M._moveWordPartRight(S,_)]);return a.sort(L.L.compare),a[0]}}function y(b){return b.filter(C=>!!C)}},46656:function(Gt,ze,c){"use strict";c.d(ze,{LM:function(){return b},LN:function(){return N},Tp:function(){return u},Vi:function(){return C},rS:function(){return a}});var D=c(79946),X=c(54125),v=c(37753),k=c(32777),L=c(41498),T=c(88982);const M=()=>!0,B=()=>!1,y=O=>O===" "||O==="	";class b{static shouldRecreate(R){return R.hasChanged(143)||R.hasChanged(129)||R.hasChanged(37)||R.hasChanged(76)||R.hasChanged(78)||R.hasChanged(79)||R.hasChanged(6)||R.hasChanged(7)||R.hasChanged(11)||R.hasChanged(9)||R.hasChanged(10)||R.hasChanged(14)||R.hasChanged(127)||R.hasChanged(50)||R.hasChanged(90)}constructor(R,V,F,Y){var G;this.languageConfigurationService=Y,this._cursorMoveConfigurationBrand=void 0,this._languageId=R;const Z=F.options,ne=Z.get(143),$=Z.get(50);this.readOnly=Z.get(90),this.tabSize=V.tabSize,this.indentSize=V.indentSize,this.insertSpaces=V.insertSpaces,this.stickyTabStops=Z.get(115),this.lineHeight=$.lineHeight,this.typicalHalfwidthCharacterWidth=$.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(ne.height/this.lineHeight)-2),this.useTabStops=Z.get(127),this.wordSeparators=Z.get(129),this.emptySelectionClipboard=Z.get(37),this.copyWithSyntaxHighlighting=Z.get(25),this.multiCursorMergeOverlapping=Z.get(76),this.multiCursorPaste=Z.get(78),this.multiCursorLimit=Z.get(79),this.autoClosingBrackets=Z.get(6),this.autoClosingComments=Z.get(7),this.autoClosingQuotes=Z.get(11),this.autoClosingDelete=Z.get(9),this.autoClosingOvertype=Z.get(10),this.autoSurround=Z.get(14),this.autoIndent=Z.get(12),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(R,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(R,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(R,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(R).getAutoClosingPairs();const J=this.languageConfigurationService.getLanguageConfiguration(R).getSurroundingPairs();if(J)for(const re of J)this.surroundingPairs[re.open]=re.close;const se=this.languageConfigurationService.getLanguageConfiguration(R).comments;this.blockCommentStartToken=(G=se==null?void 0:se.blockCommentStartToken)!==null&&G!==void 0?G:null}get electricChars(){var R;if(!this._electricChars){this._electricChars={};const V=(R=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||R===void 0?void 0:R.getElectricCharacters();if(V)for(const F of V)this._electricChars[F]=!0}return this._electricChars}onElectricCharacter(R,V,F){const Y=(0,k.wH)(V,F-1),G=this.languageConfigurationService.getLanguageConfiguration(Y.languageId).electricCharacter;return G?G.onElectricCharacter(R,Y,F-Y.firstCharOffset):null}normalizeIndentation(R){return(0,T.x)(R,this.indentSize,this.insertSpaces)}_getShouldAutoClose(R,V,F){switch(V){case"beforeWhitespace":return y;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(R,F);case"always":return M;case"never":return B}}_getLanguageDefinedShouldAutoClose(R,V){const F=this.languageConfigurationService.getLanguageConfiguration(R).getAutoCloseBeforeSet(V);return Y=>F.indexOf(Y)!==-1}visibleColumnFromColumn(R,V){return L.i.visibleColumnFromColumn(R.getLineContent(V.lineNumber),V.column,this.tabSize)}columnFromVisibleColumn(R,V,F){const Y=L.i.columnFromVisibleColumn(R.getLineContent(V),F,this.tabSize),G=R.getLineMinColumn(V);if(Y<G)return G;const Z=R.getLineMaxColumn(V);return Y>Z?Z:Y}}class C{static fromModelState(R){return new S(R)}static fromViewState(R){return new _(R)}static fromModelSelection(R){const V=v.Y.liftSelection(R),F=new a(X.e.fromPositions(V.getSelectionStart()),0,0,V.getPosition(),0);return C.fromModelState(F)}static fromModelSelections(R){const V=[];for(let F=0,Y=R.length;F<Y;F++)V[F]=this.fromModelSelection(R[F]);return V}constructor(R,V){this._cursorStateBrand=void 0,this.modelState=R,this.viewState=V}equals(R){return this.viewState.equals(R.viewState)&&this.modelState.equals(R.modelState)}}class S{constructor(R){this.modelState=R,this.viewState=null}}class _{constructor(R){this.modelState=null,this.viewState=R}}class a{constructor(R,V,F,Y,G){this.selectionStart=R,this.selectionStartKind=V,this.selectionStartLeftoverVisibleColumns=F,this.position=Y,this.leftoverVisibleColumns=G,this._singleCursorStateBrand=void 0,this.selection=a._computeSelection(this.selectionStart,this.position)}equals(R){return this.selectionStartLeftoverVisibleColumns===R.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===R.leftoverVisibleColumns&&this.selectionStartKind===R.selectionStartKind&&this.position.equals(R.position)&&this.selectionStart.equalsRange(R.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(R,V,F,Y){return R?new a(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new D.L(V,F),Y):new a(new X.e(V,F,V,F),0,Y,new D.L(V,F),Y)}static _computeSelection(R,V){return R.isEmpty()||!V.isBeforeOrEqual(R.getStartPosition())?v.Y.fromPositions(R.getStartPosition(),V):v.Y.fromPositions(R.getEndPosition(),V)}}class u{constructor(R,V,F){this._editOperationResultBrand=void 0,this.type=R,this.commands=V,this.shouldPushStackElementBefore=F.shouldPushStackElementBefore,this.shouldPushStackElementAfter=F.shouldPushStackElementAfter}}function N(O){return O==="'"||O==='"'||O==="`"}},14132:function(Gt,ze,c){"use strict";c.d(ze,{KU:function(){return k},NT:function(){return B},i8:function(){return L},n0:function(){return M},zl:function(){return T}});var D=c(54888),X=c(35541),v=c(58850);class k{static trivial(b,C){return new k([new L(v.q.ofLength(b.length),v.q.ofLength(C.length))],!1)}static trivialTimedOut(b,C){return new k([new L(v.q.ofLength(b.length),v.q.ofLength(C.length))],!0)}constructor(b,C){this.diffs=b,this.hitTimeout=C}}class L{static invert(b,C){const S=[];return(0,D.zy)(b,(_,a)=>{S.push(L.fromOffsetPairs(_?_.getEndExclusives():T.zero,a?a.getStarts():new T(C,(_?_.seq2Range.endExclusive-_.seq1Range.endExclusive:0)+C)))}),S}static fromOffsetPairs(b,C){return new L(new v.q(b.offset1,C.offset1),new v.q(b.offset2,C.offset2))}constructor(b,C){this.seq1Range=b,this.seq2Range=C}swap(){return new L(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(b){return new L(this.seq1Range.join(b.seq1Range),this.seq2Range.join(b.seq2Range))}delta(b){return b===0?this:new L(this.seq1Range.delta(b),this.seq2Range.delta(b))}deltaStart(b){return b===0?this:new L(this.seq1Range.deltaStart(b),this.seq2Range.deltaStart(b))}deltaEnd(b){return b===0?this:new L(this.seq1Range.deltaEnd(b),this.seq2Range.deltaEnd(b))}intersect(b){const C=this.seq1Range.intersect(b.seq1Range),S=this.seq2Range.intersect(b.seq2Range);if(!(!C||!S))return new L(C,S)}getStarts(){return new T(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new T(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}class T{constructor(b,C){this.offset1=b,this.offset2=C}toString(){return`${this.offset1} <-> ${this.offset2}`}}T.zero=new T(0,0),T.max=new T(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);class M{isValid(){return!0}}M.instance=new M;class B{constructor(b){if(this.timeout=b,this.startTime=Date.now(),this.valid=!0,b<=0)throw new X.he("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}},15923:function(Gt,ze,c){"use strict";c.d(ze,{DW:function(){return ce}});var D=c(54888),X=c(32522),v=c(50838),k=c(58850),L=c(54125),T=c(14132);class M{constructor(pe,xe){this.width=pe,this.height=xe,this.array=[],this.array=new Array(pe*xe)}get(pe,xe){return this.array[pe+xe*this.width]}set(pe,xe,x){this.array[pe+xe*this.width]=x}}function B(Ce){return Ce===32||Ce===9}class y{static getKey(pe){let xe=this.chrKeys.get(pe);return xe===void 0&&(xe=this.chrKeys.size,this.chrKeys.set(pe,xe)),xe}constructor(pe,xe,x){this.range=pe,this.lines=xe,this.source=x,this.histogram=[];let rt=0;for(let Xe=pe.startLineNumber-1;Xe<pe.endLineNumberExclusive-1;Xe++){const Ze=xe[Xe];for(let ut=0;ut<Ze.length;ut++){rt++;const ct=Ze[ut],He=y.getKey(ct);this.histogram[He]=(this.histogram[He]||0)+1}rt++;const lt=y.getKey(`
`);this.histogram[lt]=(this.histogram[lt]||0)+1}this.totalCount=rt}computeSimilarity(pe){var xe,x;let rt=0;const Xe=Math.max(this.histogram.length,pe.histogram.length);for(let Ze=0;Ze<Xe;Ze++)rt+=Math.abs(((xe=this.histogram[Ze])!==null&&xe!==void 0?xe:0)-((x=pe.histogram[Ze])!==null&&x!==void 0?x:0));return 1-rt/(this.totalCount+pe.totalCount)}}y.chrKeys=new Map;class b{compute(pe,xe,x=T.n0.instance,rt){if(pe.length===0||xe.length===0)return T.KU.trivial(pe,xe);const Xe=new M(pe.length,xe.length),Ze=new M(pe.length,xe.length),lt=new M(pe.length,xe.length);for(let st=0;st<pe.length;st++)for(let Tt=0;Tt<xe.length;Tt++){if(!x.isValid())return T.KU.trivialTimedOut(pe,xe);const xt=st===0?0:Xe.get(st-1,Tt),vt=Tt===0?0:Xe.get(st,Tt-1);let we;pe.getElement(st)===xe.getElement(Tt)?(st===0||Tt===0?we=0:we=Xe.get(st-1,Tt-1),st>0&&Tt>0&&Ze.get(st-1,Tt-1)===3&&(we+=lt.get(st-1,Tt-1)),we+=rt?rt(st,Tt):1):we=-1;const pt=Math.max(xt,vt,we);if(pt===we){const Mt=st>0&&Tt>0?lt.get(st-1,Tt-1):0;lt.set(st,Tt,Mt+1),Ze.set(st,Tt,3)}else pt===xt?(lt.set(st,Tt,0),Ze.set(st,Tt,1)):pt===vt&&(lt.set(st,Tt,0),Ze.set(st,Tt,2));Xe.set(st,Tt,pt)}const ut=[];let ct=pe.length,He=xe.length;function Dt(st,Tt){(st+1!==ct||Tt+1!==He)&&ut.push(new T.i8(new k.q(st+1,ct),new k.q(Tt+1,He))),ct=st,He=Tt}let gt=pe.length-1,Re=xe.length-1;for(;gt>=0&&Re>=0;)Ze.get(gt,Re)===3?(Dt(gt,Re),gt--,Re--):Ze.get(gt,Re)===1?gt--:Re--;return Dt(-1,-1),ut.reverse(),new T.KU(ut,!1)}}class C{compute(pe,xe,x=T.n0.instance){if(pe.length===0||xe.length===0)return T.KU.trivial(pe,xe);const rt=pe,Xe=xe;function Ze(Tt,xt){for(;Tt<rt.length&&xt<Xe.length&&rt.getElement(Tt)===Xe.getElement(xt);)Tt++,xt++;return Tt}let lt=0;const ut=new _;ut.set(0,Ze(0,0));const ct=new a;ct.set(0,ut.get(0)===0?null:new S(null,0,0,ut.get(0)));let He=0;e:for(;;){if(lt++,!x.isValid())return T.KU.trivialTimedOut(rt,Xe);const Tt=-Math.min(lt,Xe.length+lt%2),xt=Math.min(lt,rt.length+lt%2);for(He=Tt;He<=xt;He+=2){let vt=0;const we=He===xt?-1:ut.get(He+1),pt=He===Tt?-1:ut.get(He-1)+1;vt++;const Mt=Math.min(Math.max(we,pt),rt.length),Ft=Mt-He;if(vt++,Mt>rt.length||Ft>Xe.length)continue;const Xt=Ze(Mt,Ft);ut.set(He,Xt);const li=Mt===we?ct.get(He+1):ct.get(He-1);if(ct.set(He,Xt!==Mt?new S(li,Mt,Ft,Xt-Mt):li),ut.get(He)===rt.length&&ut.get(He)-He===Xe.length)break e}}let Dt=ct.get(He);const gt=[];let Re=rt.length,st=Xe.length;for(;;){const Tt=Dt?Dt.x+Dt.length:0,xt=Dt?Dt.y+Dt.length:0;if((Tt!==Re||xt!==st)&&gt.push(new T.i8(new k.q(Tt,Re),new k.q(xt,st))),!Dt)break;Re=Dt.x,st=Dt.y,Dt=Dt.prev}return gt.reverse(),new T.KU(gt,!1)}}class S{constructor(pe,xe,x,rt){this.prev=pe,this.x=xe,this.y=x,this.length=rt}}class _{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(pe){return pe<0?(pe=-pe-1,this.negativeArr[pe]):this.positiveArr[pe]}set(pe,xe){if(pe<0){if(pe=-pe-1,pe>=this.negativeArr.length){const x=this.negativeArr;this.negativeArr=new Int32Array(x.length*2),this.negativeArr.set(x)}this.negativeArr[pe]=xe}else{if(pe>=this.positiveArr.length){const x=this.positiveArr;this.positiveArr=new Int32Array(x.length*2),this.positiveArr.set(x)}this.positiveArr[pe]=xe}}}class a{constructor(){this.positiveArr=[],this.negativeArr=[]}get(pe){return pe<0?(pe=-pe-1,this.negativeArr[pe]):this.positiveArr[pe]}set(pe,xe){pe<0?(pe=-pe-1,this.negativeArr[pe]=xe):this.positiveArr[pe]=xe}}var u=c(35498),N=c(99637),O=c(83987),R=c(79946);class V{constructor(pe,xe,x){this.lines=pe,this.considerWhitespaceChanges=x,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];let rt=!1;xe.start>0&&xe.endExclusive>=pe.length&&(xe=new k.q(xe.start-1,xe.endExclusive),rt=!0),this.lineRange=xe,this.firstCharOffsetByLine[0]=0;for(let Xe=this.lineRange.start;Xe<this.lineRange.endExclusive;Xe++){let Ze=pe[Xe],lt=0;if(rt)lt=Ze.length,Ze="",rt=!1;else if(!x){const ut=Ze.trimStart();lt=Ze.length-ut.length,Ze=ut.trimEnd()}this.additionalOffsetByLine.push(lt);for(let ut=0;ut<Ze.length;ut++)this.elements.push(Ze.charCodeAt(ut));Xe<pe.length-1&&(this.elements.push(`
`.charCodeAt(0)),this.firstCharOffsetByLine[Xe-this.lineRange.start+1]=this.elements.length)}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new k.q(0,this.length))}getText(pe){return this.elements.slice(pe.start,pe.endExclusive).map(xe=>String.fromCharCode(xe)).join("")}getElement(pe){return this.elements[pe]}get length(){return this.elements.length}getBoundaryScore(pe){const xe=Z(pe>0?this.elements[pe-1]:-1),x=Z(pe<this.elements.length?this.elements[pe]:-1);if(xe===7&&x===8)return 0;let rt=0;return xe!==x&&(rt+=10,xe===0&&x===1&&(rt+=1)),rt+=G(xe),rt+=G(x),rt}translateOffset(pe){if(this.lineRange.isEmpty)return new R.L(this.lineRange.start+1,1);const xe=(0,N.Jw)(this.firstCharOffsetByLine,x=>x<=pe);return new R.L(this.lineRange.start+xe+1,pe-this.firstCharOffsetByLine[xe]+this.additionalOffsetByLine[xe]+1)}translateRange(pe){return L.e.fromPositions(this.translateOffset(pe.start),this.translateOffset(pe.endExclusive))}findWordContaining(pe){if(pe<0||pe>=this.elements.length||!F(this.elements[pe]))return;let xe=pe;for(;xe>0&&F(this.elements[xe-1]);)xe--;let x=pe;for(;x<this.elements.length&&F(this.elements[x]);)x++;return new k.q(xe,x)}countLinesIn(pe){return this.translateOffset(pe.endExclusive).lineNumber-this.translateOffset(pe.start).lineNumber}isStronglyEqual(pe,xe){return this.elements[pe]===this.elements[xe]}extendToFullLines(pe){var xe,x;const rt=(xe=(0,N.ti)(this.firstCharOffsetByLine,Ze=>Ze<=pe.start))!==null&&xe!==void 0?xe:0,Xe=(x=(0,N.cn)(this.firstCharOffsetByLine,Ze=>pe.endExclusive<=Ze))!==null&&x!==void 0?x:this.elements.length;return new k.q(rt,Xe)}}function F(Ce){return Ce>=97&&Ce<=122||Ce>=65&&Ce<=90||Ce>=48&&Ce<=57}const Y={[0]:0,[1]:0,[2]:0,[3]:10,[4]:2,[5]:3,[6]:3,[7]:10,[8]:10};function G(Ce){return Y[Ce]}function Z(Ce){return Ce===10?8:Ce===13?7:B(Ce)?6:Ce>=97&&Ce<=122?0:Ce>=65&&Ce<=90?1:Ce>=48&&Ce<=57?2:Ce===-1?3:Ce===44||Ce===59?5:4}function ne(Ce,pe,xe,x,rt,Xe){let{moves:Ze,excludedChanges:lt}=J(Ce,pe,xe,Xe);if(!Xe.isValid())return[];const ut=Ce.filter(He=>!lt.has(He)),ct=se(ut,x,rt,pe,xe,Xe);return(0,D.vA)(Ze,ct),Ze=he(Ze),Ze=Ze.filter(He=>{const Dt=He.original.toOffsetRange().slice(pe).map(Re=>Re.trim());return Dt.join(`
`).length>=15&&$(Dt,Re=>Re.length>=2)>=2}),Ze=H(Ce,Ze),Ze}function $(Ce,pe){let xe=0;for(const x of Ce)pe(x)&&xe++;return xe}function J(Ce,pe,xe,x){const rt=[],Xe=Ce.filter(ut=>ut.modified.isEmpty&&ut.original.length>=3).map(ut=>new y(ut.original,pe,ut)),Ze=new Set(Ce.filter(ut=>ut.original.isEmpty&&ut.modified.length>=3).map(ut=>new y(ut.modified,xe,ut))),lt=new Set;for(const ut of Xe){let ct=-1,He;for(const Dt of Ze){const gt=ut.computeSimilarity(Dt);gt>ct&&(ct=gt,He=Dt)}if(ct>.9&&He&&(Ze.delete(He),rt.push(new u.f0(ut.range,He.range)),lt.add(ut.source),lt.add(He.source)),!x.isValid())return{moves:rt,excludedChanges:lt}}return{moves:rt,excludedChanges:lt}}function se(Ce,pe,xe,x,rt,Xe){const Ze=[],lt=new O.ri;for(const gt of Ce)for(let Re=gt.original.startLineNumber;Re<gt.original.endLineNumberExclusive-2;Re++){const st=`${pe[Re-1]}:${pe[Re+1-1]}:${pe[Re+2-1]}`;lt.add(st,{range:new v.z(Re,Re+3)})}const ut=[];Ce.sort((0,D.tT)(gt=>gt.modified.startLineNumber,D.fv));for(const gt of Ce){let Re=[];for(let st=gt.modified.startLineNumber;st<gt.modified.endLineNumberExclusive-2;st++){const Tt=`${xe[st-1]}:${xe[st+1-1]}:${xe[st+2-1]}`,xt=new v.z(st,st+3),vt=[];lt.forEach(Tt,({range:we})=>{for(const Mt of Re)if(Mt.originalLineRange.endLineNumberExclusive+1===we.endLineNumberExclusive&&Mt.modifiedLineRange.endLineNumberExclusive+1===xt.endLineNumberExclusive){Mt.originalLineRange=new v.z(Mt.originalLineRange.startLineNumber,we.endLineNumberExclusive),Mt.modifiedLineRange=new v.z(Mt.modifiedLineRange.startLineNumber,xt.endLineNumberExclusive),vt.push(Mt);return}const pt={modifiedLineRange:xt,originalLineRange:we};ut.push(pt),vt.push(pt)}),Re=vt}if(!Xe.isValid())return[]}ut.sort((0,D.BV)((0,D.tT)(gt=>gt.modifiedLineRange.length,D.fv)));const ct=new v.i,He=new v.i;for(const gt of ut){const Re=gt.modifiedLineRange.startLineNumber-gt.originalLineRange.startLineNumber,st=ct.subtractFrom(gt.modifiedLineRange),Tt=He.subtractFrom(gt.originalLineRange).getWithDelta(Re),xt=st.getIntersection(Tt);for(const vt of xt.ranges){if(vt.length<3)continue;const we=vt,pt=vt.delta(-Re);Ze.push(new u.f0(pt,we)),ct.addRange(we),He.addRange(pt)}}Ze.sort((0,D.tT)(gt=>gt.original.startLineNumber,D.fv));const Dt=new N.b1(Ce);for(let gt=0;gt<Ze.length;gt++){const Re=Ze[gt],st=Dt.findLastMonotonous(Xt=>Xt.original.startLineNumber<=Re.original.startLineNumber),Tt=(0,N.ti)(Ce,Xt=>Xt.modified.startLineNumber<=Re.modified.startLineNumber),xt=Math.max(Re.original.startLineNumber-st.original.startLineNumber,Re.modified.startLineNumber-Tt.modified.startLineNumber),vt=Dt.findLastMonotonous(Xt=>Xt.original.startLineNumber<Re.original.endLineNumberExclusive),we=(0,N.ti)(Ce,Xt=>Xt.modified.startLineNumber<Re.modified.endLineNumberExclusive),pt=Math.max(vt.original.endLineNumberExclusive-Re.original.endLineNumberExclusive,we.modified.endLineNumberExclusive-Re.modified.endLineNumberExclusive);let Mt;for(Mt=0;Mt<xt;Mt++){const Xt=Re.original.startLineNumber-Mt-1,li=Re.modified.startLineNumber-Mt-1;if(Xt>x.length||li>rt.length||ct.contains(li)||He.contains(Xt)||!re(x[Xt-1],rt[li-1],Xe))break}Mt>0&&(He.addRange(new v.z(Re.original.startLineNumber-Mt,Re.original.startLineNumber)),ct.addRange(new v.z(Re.modified.startLineNumber-Mt,Re.modified.startLineNumber)));let Ft;for(Ft=0;Ft<pt;Ft++){const Xt=Re.original.endLineNumberExclusive+Ft,li=Re.modified.endLineNumberExclusive+Ft;if(Xt>x.length||li>rt.length||ct.contains(li)||He.contains(Xt)||!re(x[Xt-1],rt[li-1],Xe))break}Ft>0&&(He.addRange(new v.z(Re.original.endLineNumberExclusive,Re.original.endLineNumberExclusive+Ft)),ct.addRange(new v.z(Re.modified.endLineNumberExclusive,Re.modified.endLineNumberExclusive+Ft))),(Mt>0||Ft>0)&&(Ze[gt]=new u.f0(new v.z(Re.original.startLineNumber-Mt,Re.original.endLineNumberExclusive+Ft),new v.z(Re.modified.startLineNumber-Mt,Re.modified.endLineNumberExclusive+Ft)))}return Ze}function re(Ce,pe,xe){if(Ce.trim()===pe.trim())return!0;if(Ce.length>300&&pe.length>300)return!1;const rt=new C().compute(new V([Ce],new k.q(0,1),!1),new V([pe],new k.q(0,1),!1),xe);let Xe=0;const Ze=T.i8.invert(rt.diffs,Ce.length);for(const He of Ze)He.seq1Range.forEach(Dt=>{B(Ce.charCodeAt(Dt))||Xe++});function lt(He){let Dt=0;for(let gt=0;gt<Ce.length;gt++)B(He.charCodeAt(gt))||Dt++;return Dt}const ut=lt(Ce.length>pe.length?Ce:pe);return Xe/ut>.6&&ut>10}function he(Ce){if(Ce.length===0)return Ce;Ce.sort((0,D.tT)(xe=>xe.original.startLineNumber,D.fv));const pe=[Ce[0]];for(let xe=1;xe<Ce.length;xe++){const x=pe[pe.length-1],rt=Ce[xe],Xe=rt.original.startLineNumber-x.original.endLineNumberExclusive,Ze=rt.modified.startLineNumber-x.modified.endLineNumberExclusive;if(Xe>=0&&Ze>=0&&Xe+Ze<=2){pe[pe.length-1]=x.join(rt);continue}pe.push(rt)}return pe}function H(Ce,pe){const xe=new N.b1(Ce);return pe=pe.filter(x=>{const rt=xe.findLastMonotonous(lt=>lt.original.startLineNumber<x.original.endLineNumberExclusive)||new u.f0(new v.z(1,1),new v.z(1,1)),Xe=(0,N.ti)(Ce,lt=>lt.modified.startLineNumber<x.modified.endLineNumberExclusive);return rt!==Xe}),pe}var P=c(33753),j=c(41104);class K{constructor(pe,xe){this.trimmedHash=pe,this.lines=xe}getElement(pe){return this.trimmedHash[pe]}get length(){return this.trimmedHash.length}getBoundaryScore(pe){const xe=pe===0?0:ie(this.lines[pe-1]),x=pe===this.lines.length?0:ie(this.lines[pe]);return 1e3-(xe+x)}getText(pe){return this.lines.slice(pe.start,pe.endExclusive).join(`
`)}isStronglyEqual(pe,xe){return this.lines[pe]===this.lines[xe]}}function ie(Ce){let pe=0;for(;pe<Ce.length&&(Ce.charCodeAt(pe)===32||Ce.charCodeAt(pe)===9);)pe++;return pe}class ce{constructor(){this.dynamicProgrammingDiffing=new b,this.myersDiffingAlgorithm=new C}computeDiff(pe,xe,x){if(pe.length<=1&&(0,D.fS)(pe,xe,(Ft,Xt)=>Ft===Xt))return new j.h([],[],!1);if(pe.length===1&&pe[0].length===0||xe.length===1&&xe[0].length===0)return new j.h([new u.gB(new v.z(1,pe.length+1),new v.z(1,xe.length+1),[new u.iy(new L.e(1,1,pe.length,pe[0].length+1),new L.e(1,1,xe.length,xe[0].length+1))])],[],!1);const rt=x.maxComputationTimeMs===0?T.n0.instance:new T.NT(x.maxComputationTimeMs),Xe=!x.ignoreTrimWhitespace,Ze=new Map;function lt(Ft){let Xt=Ze.get(Ft);return Xt===void 0&&(Xt=Ze.size,Ze.set(Ft,Xt)),Xt}const ut=pe.map(Ft=>lt(Ft.trim())),ct=xe.map(Ft=>lt(Ft.trim())),He=new K(ut,pe),Dt=new K(ct,xe),gt=(()=>He.length+Dt.length<1700?this.dynamicProgrammingDiffing.compute(He,Dt,rt,(Ft,Xt)=>pe[Ft]===xe[Xt]?xe[Xt].length===0?.1:1+Math.log(1+xe[Xt].length):.99):this.myersDiffingAlgorithm.compute(He,Dt))();let Re=gt.diffs,st=gt.hitTimeout;Re=(0,P.xG)(He,Dt,Re),Re=(0,P.rh)(He,Dt,Re);const Tt=[],xt=Ft=>{if(Xe)for(let Xt=0;Xt<Ft;Xt++){const li=vt+Xt,Yt=we+Xt;if(pe[li]!==xe[Yt]){const Ne=this.refineDiff(pe,xe,new T.i8(new k.q(li,li+1),new k.q(Yt,Yt+1)),rt,Xe);for(const yt of Ne.mappings)Tt.push(yt);Ne.hitTimeout&&(st=!0)}}};let vt=0,we=0;for(const Ft of Re){(0,X.eZ)(()=>Ft.seq1Range.start-vt===Ft.seq2Range.start-we);const Xt=Ft.seq1Range.start-vt;xt(Xt),vt=Ft.seq1Range.endExclusive,we=Ft.seq2Range.endExclusive;const li=this.refineDiff(pe,xe,Ft,rt,Xe);li.hitTimeout&&(st=!0);for(const Yt of li.mappings)Tt.push(Yt)}xt(pe.length-vt);const pt=_e(Tt,pe,xe);let Mt=[];return x.computeMoves&&(Mt=this.computeMoves(pt,pe,xe,ut,ct,rt,Xe)),(0,X.eZ)(()=>{function Ft(li,Yt){if(li.lineNumber<1||li.lineNumber>Yt.length)return!1;const Ne=Yt[li.lineNumber-1];return!(li.column<1||li.column>Ne.length+1)}function Xt(li,Yt){return!(li.startLineNumber<1||li.startLineNumber>Yt.length+1||li.endLineNumberExclusive<1||li.endLineNumberExclusive>Yt.length+1)}for(const li of pt){if(!li.innerChanges)return!1;for(const Yt of li.innerChanges)if(!(Ft(Yt.modifiedRange.getStartPosition(),xe)&&Ft(Yt.modifiedRange.getEndPosition(),xe)&&Ft(Yt.originalRange.getStartPosition(),pe)&&Ft(Yt.originalRange.getEndPosition(),pe)))return!1;if(!Xt(li.modified,xe)||!Xt(li.original,pe))return!1}return!0}),new j.h(pt,Mt,st)}computeMoves(pe,xe,x,rt,Xe,Ze,lt){return ne(pe,xe,x,rt,Xe,Ze).map(He=>{const Dt=this.refineDiff(xe,x,new T.i8(He.original.toOffsetRange(),He.modified.toOffsetRange()),Ze,lt),gt=_e(Dt.mappings,xe,x,!0);return new j.y(He,gt)})}refineDiff(pe,xe,x,rt,Xe){const Ze=new V(pe,x.seq1Range,Xe),lt=new V(xe,x.seq2Range,Xe),ut=Ze.length+lt.length<500?this.dynamicProgrammingDiffing.compute(Ze,lt,rt):this.myersDiffingAlgorithm.compute(Ze,lt,rt);let ct=ut.diffs;return ct=(0,P.xG)(Ze,lt,ct),ct=(0,P.g0)(Ze,lt,ct),ct=(0,P.oK)(Ze,lt,ct),ct=(0,P.DI)(Ze,lt,ct),{mappings:ct.map(Dt=>new u.iy(Ze.translateRange(Dt.seq1Range),lt.translateRange(Dt.seq2Range))),hitTimeout:ut.hitTimeout}}}function _e(Ce,pe,xe,x=!1){const rt=[];for(const Xe of(0,D.mw)(Ce.map(Ze=>Ee(Ze,pe,xe)),(Ze,lt)=>Ze.original.overlapOrTouch(lt.original)||Ze.modified.overlapOrTouch(lt.modified))){const Ze=Xe[0],lt=Xe[Xe.length-1];rt.push(new u.gB(Ze.original.join(lt.original),Ze.modified.join(lt.modified),Xe.map(ut=>ut.innerChanges[0])))}return(0,X.eZ)(()=>!x&&rt.length>0&&rt[0].original.startLineNumber!==rt[0].modified.startLineNumber?!1:(0,X.DM)(rt,(Xe,Ze)=>Ze.original.startLineNumber-Xe.original.endLineNumberExclusive===Ze.modified.startLineNumber-Xe.modified.endLineNumberExclusive&&Xe.original.endLineNumberExclusive<Ze.original.startLineNumber&&Xe.modified.endLineNumberExclusive<Ze.modified.startLineNumber)),rt}function Ee(Ce,pe,xe){let x=0,rt=0;Ce.modifiedRange.endColumn===1&&Ce.originalRange.endColumn===1&&Ce.originalRange.startLineNumber+x<=Ce.originalRange.endLineNumber&&Ce.modifiedRange.startLineNumber+x<=Ce.modifiedRange.endLineNumber&&(rt=-1),Ce.modifiedRange.startColumn-1>=xe[Ce.modifiedRange.startLineNumber-1].length&&Ce.originalRange.startColumn-1>=pe[Ce.originalRange.startLineNumber-1].length&&Ce.originalRange.startLineNumber<=Ce.originalRange.endLineNumber+rt&&Ce.modifiedRange.startLineNumber<=Ce.modifiedRange.endLineNumber+rt&&(x=1);const Xe=new v.z(Ce.originalRange.startLineNumber+x,Ce.originalRange.endLineNumber+1+rt),Ze=new v.z(Ce.modifiedRange.startLineNumber+x,Ce.modifiedRange.endLineNumber+1+rt);return new u.gB(Xe,Ze,[Ce])}},33753:function(Gt,ze,c){"use strict";c.d(ze,{DI:function(){return S},g0:function(){return y},oK:function(){return B},rh:function(){return C},xG:function(){return k}});var D=c(54888),X=c(58850),v=c(14132);function k(_,a,u){let N=u;return N=L(_,a,N),N=L(_,a,N),N=T(_,a,N),N}function L(_,a,u){if(u.length===0)return u;const N=[];N.push(u[0]);for(let R=1;R<u.length;R++){const V=N[N.length-1];let F=u[R];if(F.seq1Range.isEmpty||F.seq2Range.isEmpty){const Y=F.seq1Range.start-V.seq1Range.endExclusive;let G;for(G=1;G<=Y&&!(_.getElement(F.seq1Range.start-G)!==_.getElement(F.seq1Range.endExclusive-G)||a.getElement(F.seq2Range.start-G)!==a.getElement(F.seq2Range.endExclusive-G));G++);if(G--,G===Y){N[N.length-1]=new v.i8(new X.q(V.seq1Range.start,F.seq1Range.endExclusive-Y),new X.q(V.seq2Range.start,F.seq2Range.endExclusive-Y));continue}F=F.delta(-G)}N.push(F)}const O=[];for(let R=0;R<N.length-1;R++){const V=N[R+1];let F=N[R];if(F.seq1Range.isEmpty||F.seq2Range.isEmpty){const Y=V.seq1Range.start-F.seq1Range.endExclusive;let G;for(G=0;G<Y&&!(!_.isStronglyEqual(F.seq1Range.start+G,F.seq1Range.endExclusive+G)||!a.isStronglyEqual(F.seq2Range.start+G,F.seq2Range.endExclusive+G));G++);if(G===Y){N[R+1]=new v.i8(new X.q(F.seq1Range.start+Y,V.seq1Range.endExclusive),new X.q(F.seq2Range.start+Y,V.seq2Range.endExclusive));continue}G>0&&(F=F.delta(G))}O.push(F)}return N.length>0&&O.push(N[N.length-1]),O}function T(_,a,u){if(!_.getBoundaryScore||!a.getBoundaryScore)return u;for(let N=0;N<u.length;N++){const O=N>0?u[N-1]:void 0,R=u[N],V=N+1<u.length?u[N+1]:void 0,F=new X.q(O?O.seq1Range.start+1:0,V?V.seq1Range.endExclusive-1:_.length),Y=new X.q(O?O.seq2Range.start+1:0,V?V.seq2Range.endExclusive-1:a.length);R.seq1Range.isEmpty?u[N]=M(R,_,a,F,Y):R.seq2Range.isEmpty&&(u[N]=M(R.swap(),a,_,Y,F).swap())}return u}function M(_,a,u,N,O){let V=1;for(;_.seq1Range.start-V>=N.start&&_.seq2Range.start-V>=O.start&&u.isStronglyEqual(_.seq2Range.start-V,_.seq2Range.endExclusive-V)&&V<100;)V++;V--;let F=0;for(;_.seq1Range.start+F<N.endExclusive&&_.seq2Range.endExclusive+F<O.endExclusive&&u.isStronglyEqual(_.seq2Range.start+F,_.seq2Range.endExclusive+F)&&F<100;)F++;if(V===0&&F===0)return _;let Y=0,G=-1;for(let Z=-V;Z<=F;Z++){const ne=_.seq2Range.start+Z,$=_.seq2Range.endExclusive+Z,J=_.seq1Range.start+Z,se=a.getBoundaryScore(J)+u.getBoundaryScore(ne)+u.getBoundaryScore($);se>G&&(G=se,Y=Z)}return _.delta(Y)}function B(_,a,u){const N=[];for(const O of u){const R=N[N.length-1];if(!R){N.push(O);continue}O.seq1Range.start-R.seq1Range.endExclusive<=2||O.seq2Range.start-R.seq2Range.endExclusive<=2?N[N.length-1]=new v.i8(R.seq1Range.join(O.seq1Range),R.seq2Range.join(O.seq2Range)):N.push(O)}return N}function y(_,a,u){const N=[];let O;function R(){if(!O)return;const F=O.s1Range.length-O.deleted,Y=O.s2Range.length-O.added;Math.max(O.deleted,O.added)+(O.count-1)>F&&N.push(new v.i8(O.s1Range,O.s2Range)),O=void 0}for(const F of u){let Y=function(J,se){var re,he,H,P;if(!O||!O.s1Range.containsRange(J)||!O.s2Range.containsRange(se))if(O&&!(O.s1Range.endExclusive<J.start&&O.s2Range.endExclusive<se.start)){const ie=X.q.tryCreate(O.s1Range.endExclusive,J.start),ce=X.q.tryCreate(O.s2Range.endExclusive,se.start);O.deleted+=(re=ie==null?void 0:ie.length)!==null&&re!==void 0?re:0,O.added+=(he=ce==null?void 0:ce.length)!==null&&he!==void 0?he:0,O.s1Range=O.s1Range.join(J),O.s2Range=O.s2Range.join(se)}else R(),O={added:0,deleted:0,count:0,s1Range:J,s2Range:se};const j=J.intersect(F.seq1Range),K=se.intersect(F.seq2Range);O.count++,O.deleted+=(H=j==null?void 0:j.length)!==null&&H!==void 0?H:0,O.added+=(P=K==null?void 0:K.length)!==null&&P!==void 0?P:0};const G=_.findWordContaining(F.seq1Range.start-1),Z=a.findWordContaining(F.seq2Range.start-1),ne=_.findWordContaining(F.seq1Range.endExclusive),$=a.findWordContaining(F.seq2Range.endExclusive);G&&ne&&Z&&$&&G.equals(ne)&&Z.equals($)?Y(G,Z):(G&&Z&&Y(G,Z),ne&&$&&Y(ne,$))}return R(),b(u,N)}function b(_,a){const u=[];for(;_.length>0||a.length>0;){const N=_[0],O=a[0];let R;N&&(!O||N.seq1Range.start<O.seq1Range.start)?R=_.shift():R=a.shift(),u.length>0&&u[u.length-1].seq1Range.endExclusive>=R.seq1Range.start?u[u.length-1]=u[u.length-1].join(R):u.push(R)}return u}function C(_,a,u){let N=u;if(N.length===0)return N;let O=0,R;do{R=!1;const V=[N[0]];for(let F=1;F<N.length;F++){let Z=function($,J){const se=new X.q(G.seq1Range.endExclusive,Y.seq1Range.start);return _.getText(se).replace(/\s/g,"").length<=4&&($.seq1Range.length+$.seq2Range.length>5||J.seq1Range.length+J.seq2Range.length>5)};const Y=N[F],G=V[V.length-1];Z(G,Y)?(R=!0,V[V.length-1]=V[V.length-1].join(Y)):V.push(Y)}N=V}while(O++<10&&R);return N}function S(_,a,u){let N=u;if(N.length===0)return N;let O=0,R;do{R=!1;const F=[N[0]];for(let Y=1;Y<N.length;Y++){let ne=function(J,se){const re=new X.q(Z.seq1Range.endExclusive,G.seq1Range.start);if(_.countLinesIn(re)>5||re.length>500)return!1;const H=_.getText(re).trim();if(H.length>20||H.split(/\r\n|\r|\n/).length>1)return!1;const P=_.countLinesIn(J.seq1Range),j=J.seq1Range.length,K=a.countLinesIn(J.seq2Range),ie=J.seq2Range.length,ce=_.countLinesIn(se.seq1Range),_e=se.seq1Range.length,Ee=a.countLinesIn(se.seq2Range),Ce=se.seq2Range.length,pe=2*40+50;function xe(x){return Math.min(x,pe)}return Math.pow(Math.pow(xe(P*40+j),1.5)+Math.pow(xe(K*40+ie),1.5),1.5)+Math.pow(Math.pow(xe(ce*40+_e),1.5)+Math.pow(xe(Ee*40+Ce),1.5),1.5)>_d(_d(pe,1.5),1.5)*1.3};const G=N[Y],Z=F[F.length-1];ne(Z,G)?(R=!0,F[F.length-1]=F[F.length-1].join(G)):F.push(G)}N=F}while(O++<10&&R);const V=[];return(0,D.KO)(N,(F,Y,G)=>{let Z=Y;function ne(H){return H.length>0&&H.trim().length<=3&&Y.seq1Range.length+Y.seq2Range.length>100}const $=_.extendToFullLines(Y.seq1Range),J=_.getText(new X.q($.start,Y.seq1Range.start));ne(J)&&(Z=Z.deltaStart(-J.length));const se=_.getText(new X.q(Y.seq1Range.endExclusive,$.endExclusive));ne(se)&&(Z=Z.deltaEnd(se.length));const re=v.i8.fromOffsetPairs(F?F.getEndExclusives():v.zl.zero,G?G.getStarts():v.zl.max),he=Z.intersect(re);V.push(he)}),V}},41104:function(Gt,ze,c){"use strict";c.d(ze,{h:function(){return D},y:function(){return X}});class D{constructor(k,L,T){this.changes=k,this.moves=L,this.hitTimeout=T}}class X{constructor(k,L){this.lineRangeMapping=k,this.changes=L}}},35498:function(Gt,ze,c){"use strict";c.d(ze,{f0:function(){return X},gB:function(){return v},iy:function(){return k}});var D=c(50838);class X{static inverse(T,M,B){const y=[];let b=1,C=1;for(const _ of T){const a=new v(new D.z(b,_.original.startLineNumber),new D.z(C,_.modified.startLineNumber),void 0);a.modified.isEmpty||y.push(a),b=_.original.endLineNumberExclusive,C=_.modified.endLineNumberExclusive}const S=new v(new D.z(b,M+1),new D.z(C,B+1),void 0);return S.modified.isEmpty||y.push(S),y}constructor(T,M){this.original=T,this.modified=M}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new X(this.modified,this.original)}join(T){return new X(this.original.join(T.original),this.modified.join(T.modified))}}class v extends X{constructor(T,M,B){super(T,M),this.innerChanges=B}flip(){var T;return new v(this.modified,this.original,(T=this.innerChanges)===null||T===void 0?void 0:T.map(M=>M.flip()))}}class k{constructor(T,M){this.originalRange=T,this.modifiedRange=M}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new k(this.modifiedRange,this.originalRange)}}},34955:function(Gt,ze,c){"use strict";c.d(ze,{p:function(){return D}});class D{constructor(v,k,L,T,M,B,y){this.id=v,this.label=k,this.alias=L,this.metadata=T,this._precondition=M,this._run=B,this._contextKeyService=y}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(v){return this.isSupported()?this._run(v):Promise.resolve(void 0)}}},39347:function(Gt,ze,c){"use strict";c.d(ze,{g:function(){return D}});const D={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},88582:function(Gt,ze,c){"use strict";c.d(ze,{u:function(){return v}});var D=c(18493),X=c(81002),v;(function(k){k.editorSimpleInput=new X.uy("editorSimpleInput",!1,!0),k.editorTextFocus=new X.uy("editorTextFocus",!1,D.NC("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),k.focus=new X.uy("editorFocus",!1,D.NC("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),k.textInputFocus=new X.uy("textInputFocus",!1,D.NC("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),k.readOnly=new X.uy("editorReadonly",!1,D.NC("editorReadonly","Whether the editor is read-only")),k.inDiffEditor=new X.uy("inDiffEditor",!1,D.NC("inDiffEditor","Whether the context is a diff editor")),k.isEmbeddedDiffEditor=new X.uy("isEmbeddedDiffEditor",!1,D.NC("isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),k.inMultiDiffEditor=new X.uy("inMultiDiffEditor",!1,D.NC("inMultiDiffEditor","Whether the context is a multi diff editor")),k.multiDiffEditorAllCollapsed=new X.uy("multiDiffEditorAllCollapsed",void 0,D.NC("multiDiffEditorAllCollapsed","Whether all files in multi diff editor are collapsed")),k.hasChanges=new X.uy("diffEditorHasChanges",!1,D.NC("diffEditorHasChanges","Whether the diff editor has changes")),k.comparingMovedCode=new X.uy("comparingMovedCode",!1,D.NC("comparingMovedCode","Whether a moved code block is selected for comparison")),k.accessibleDiffViewerVisible=new X.uy("accessibleDiffViewerVisible",!1,D.NC("accessibleDiffViewerVisible","Whether the accessible diff viewer is visible")),k.diffEditorRenderSideBySideInlineBreakpointReached=new X.uy("diffEditorRenderSideBySideInlineBreakpointReached",!1,D.NC("diffEditorRenderSideBySideInlineBreakpointReached","Whether the diff editor render side by side inline breakpoint is reached")),k.columnSelection=new X.uy("editorColumnSelection",!1,D.NC("editorColumnSelection","Whether `editor.columnSelection` is enabled")),k.writable=k.readOnly.toNegated(),k.hasNonEmptySelection=new X.uy("editorHasSelection",!1,D.NC("editorHasSelection","Whether the editor has text selected")),k.hasOnlyEmptySelection=k.hasNonEmptySelection.toNegated(),k.hasMultipleSelections=new X.uy("editorHasMultipleSelections",!1,D.NC("editorHasMultipleSelections","Whether the editor has multiple selections")),k.hasSingleSelection=k.hasMultipleSelections.toNegated(),k.tabMovesFocus=new X.uy("editorTabMovesFocus",!1,D.NC("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),k.tabDoesNotMoveFocus=k.tabMovesFocus.toNegated(),k.isInWalkThroughSnippet=new X.uy("isInEmbeddedEditor",!1,!0),k.canUndo=new X.uy("canUndo",!1,!0),k.canRedo=new X.uy("canRedo",!1,!0),k.hoverVisible=new X.uy("editorHoverVisible",!1,D.NC("editorHoverVisible","Whether the editor hover is visible")),k.hoverFocused=new X.uy("editorHoverFocused",!1,D.NC("editorHoverFocused","Whether the editor hover is focused")),k.stickyScrollFocused=new X.uy("stickyScrollFocused",!1,D.NC("stickyScrollFocused","Whether the sticky scroll is focused")),k.stickyScrollVisible=new X.uy("stickyScrollVisible",!1,D.NC("stickyScrollVisible","Whether the sticky scroll is visible")),k.standaloneColorPickerVisible=new X.uy("standaloneColorPickerVisible",!1,D.NC("standaloneColorPickerVisible","Whether the standalone color picker is visible")),k.standaloneColorPickerFocused=new X.uy("standaloneColorPickerFocused",!1,D.NC("standaloneColorPickerFocused","Whether the standalone color picker is focused")),k.inCompositeEditor=new X.uy("inCompositeEditor",void 0,D.NC("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),k.notInCompositeEditor=k.inCompositeEditor.toNegated(),k.languageId=new X.uy("editorLangId","",D.NC("editorLangId","The language identifier of the editor")),k.hasCompletionItemProvider=new X.uy("editorHasCompletionItemProvider",!1,D.NC("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),k.hasCodeActionsProvider=new X.uy("editorHasCodeActionsProvider",!1,D.NC("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),k.hasCodeLensProvider=new X.uy("editorHasCodeLensProvider",!1,D.NC("editorHasCodeLensProvider","Whether the editor has a code lens provider")),k.hasDefinitionProvider=new X.uy("editorHasDefinitionProvider",!1,D.NC("editorHasDefinitionProvider","Whether the editor has a definition provider")),k.hasDeclarationProvider=new X.uy("editorHasDeclarationProvider",!1,D.NC("editorHasDeclarationProvider","Whether the editor has a declaration provider")),k.hasImplementationProvider=new X.uy("editorHasImplementationProvider",!1,D.NC("editorHasImplementationProvider","Whether the editor has an implementation provider")),k.hasTypeDefinitionProvider=new X.uy("editorHasTypeDefinitionProvider",!1,D.NC("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),k.hasHoverProvider=new X.uy("editorHasHoverProvider",!1,D.NC("editorHasHoverProvider","Whether the editor has a hover provider")),k.hasDocumentHighlightProvider=new X.uy("editorHasDocumentHighlightProvider",!1,D.NC("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),k.hasDocumentSymbolProvider=new X.uy("editorHasDocumentSymbolProvider",!1,D.NC("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),k.hasReferenceProvider=new X.uy("editorHasReferenceProvider",!1,D.NC("editorHasReferenceProvider","Whether the editor has a reference provider")),k.hasRenameProvider=new X.uy("editorHasRenameProvider",!1,D.NC("editorHasRenameProvider","Whether the editor has a rename provider")),k.hasSignatureHelpProvider=new X.uy("editorHasSignatureHelpProvider",!1,D.NC("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),k.hasInlayHintsProvider=new X.uy("editorHasInlayHintsProvider",!1,D.NC("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),k.hasDocumentFormattingProvider=new X.uy("editorHasDocumentFormattingProvider",!1,D.NC("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),k.hasDocumentSelectionFormattingProvider=new X.uy("editorHasDocumentSelectionFormattingProvider",!1,D.NC("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),k.hasMultipleDocumentFormattingProvider=new X.uy("editorHasMultipleDocumentFormattingProvider",!1,D.NC("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),k.hasMultipleDocumentSelectionFormattingProvider=new X.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,D.NC("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(v||(v={}))},13567:function(Gt,ze,c){"use strict";c.d(ze,{n:function(){return v},y:function(){return X}});const D=[];function X(k){D.push(k)}function v(){return D.slice(0)}},39782:function(Gt,ze,c){"use strict";c.d(ze,{N:function(){return D}});class D{static getLanguageId(v){return(v&255)>>>0}static getTokenType(v){return(v&768)>>>8}static containsBalancedBrackets(v){return(v&1024)!==0}static getFontStyle(v){return(v&30720)>>>11}static getForeground(v){return(v&16744448)>>>15}static getBackground(v){return(v&4278190080)>>>24}static getClassNameFromMetadata(v){let L="mtk"+this.getForeground(v);const T=this.getFontStyle(v);return T&1&&(L+=" mtki"),T&2&&(L+=" mtkb"),T&4&&(L+=" mtku"),T&8&&(L+=" mtks"),L}static getInlineStyleFromMetadata(v,k){const L=this.getForeground(v),T=this.getFontStyle(v);let M=`color: ${k[L]};`;T&1&&(M+="font-style: italic;"),T&2&&(M+="font-weight: bold;");let B="";return T&4&&(B+=" underline"),T&8&&(B+=" line-through"),B&&(M+=`text-decoration:${B};`),M}static getPresentationFromMetadata(v){const k=this.getForeground(v),L=this.getFontStyle(v);return{foreground:k,italic:!!(L&1),bold:!!(L&2),underline:!!(L&4),strikethrough:!!(L&8)}}}},43400:function(Gt,ze,c){"use strict";c.d(ze,{G:function(){return v}});var D=c(2611),X=c(40795);function v(k,L,T,M,B,y){if(Array.isArray(k)){let b=0;for(const C of k){const S=v(C,L,T,M,B,y);if(S===10)return S;S>b&&(b=S)}return b}else{if(typeof k=="string")return M?k==="*"?5:k===T?10:0:0;if(k){const{language:b,pattern:C,scheme:S,hasAccessToAllModels:_,notebookType:a}=k;if(!M&&!_)return 0;a&&B&&(L=B);let u=0;if(S)if(S===L.scheme)u=10;else if(S==="*")u=5;else return 0;if(b)if(b===T)u=10;else if(b==="*")u=Math.max(u,5);else return 0;if(a)if(a===y)u=10;else if(a==="*"&&y!==void 0)u=Math.max(u,5);else return 0;if(C){let N;if(typeof C=="string"?N=C:N=sn(Di({},C),{base:(0,X.Fv)(C.base)}),N===L.fsPath||(0,D.EQ)(N,L.fsPath))u=10;else return 0}return u}else return 0}}},26627:function(Gt,ze,c){"use strict";c.d(ze,{mY:function(){return Z},gX:function(){return S},MY:function(){return N},DI:function(){return C},AD:function(){return G},gl:function(){return ne},bw:function(){return _},MO:function(){return $},ln:function(){return a},WW:function(){return u},uZ:function(){return F},WU:function(){return y},RW:function(){return J},hG:function(){return b},R4:function(){return V},vx:function(){return O}});var D=c(64423),X=c(6685),v=c(54125),k=c(46328),L=c(83845);class T{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new k.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(re){this._onDidChange.fire({changedLanguages:re,changedColorMap:!1})}register(re,he){return this._tokenizationSupports.set(re,he),this.handleChange([re]),(0,L.OF)(()=>{this._tokenizationSupports.get(re)===he&&(this._tokenizationSupports.delete(re),this.handleChange([re]))})}get(re){return this._tokenizationSupports.get(re)||null}registerFactory(re,he){var H;(H=this._factories.get(re))===null||H===void 0||H.dispose();const P=new M(this,re,he);return this._factories.set(re,P),(0,L.OF)(()=>{const j=this._factories.get(re);!j||j!==P||(this._factories.delete(re),j.dispose())})}getOrCreate(re){return At(this,null,function*(){const he=this.get(re);if(he)return he;const H=this._factories.get(re);return!H||H.isResolved?null:(yield H.resolve(),this.get(re))})}isResolved(re){if(this.get(re))return!0;const H=this._factories.get(re);return!!(!H||H.isResolved)}setColorMap(re){this._colorMap=re,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}class M extends L.JT{get isResolved(){return this._isResolved}constructor(re,he,H){super(),this._registry=re,this._languageId=he,this._factory=H,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return At(this,null,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return At(this,null,function*(){const re=yield this._factory.tokenizationSupport;this._isResolved=!0,re&&!this._isDisposed&&this._register(this._registry.register(this._languageId,re))})}}var B=c(18493);class y{constructor(re,he,H){this.offset=re,this.type=he,this.language=H,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}class b{constructor(re,he){this.tokens=re,this.endState=he,this._tokenizationResultBrand=void 0}}class C{constructor(re,he){this.tokens=re,this.endState=he,this._encodedTokenizationResultBrand=void 0}}var S;(function(se){const re=new Map;re.set(0,D.l.symbolMethod),re.set(1,D.l.symbolFunction),re.set(2,D.l.symbolConstructor),re.set(3,D.l.symbolField),re.set(4,D.l.symbolVariable),re.set(5,D.l.symbolClass),re.set(6,D.l.symbolStruct),re.set(7,D.l.symbolInterface),re.set(8,D.l.symbolModule),re.set(9,D.l.symbolProperty),re.set(10,D.l.symbolEvent),re.set(11,D.l.symbolOperator),re.set(12,D.l.symbolUnit),re.set(13,D.l.symbolValue),re.set(15,D.l.symbolEnum),re.set(14,D.l.symbolConstant),re.set(15,D.l.symbolEnum),re.set(16,D.l.symbolEnumMember),re.set(17,D.l.symbolKeyword),re.set(27,D.l.symbolSnippet),re.set(18,D.l.symbolText),re.set(19,D.l.symbolColor),re.set(20,D.l.symbolFile),re.set(21,D.l.symbolReference),re.set(22,D.l.symbolCustomColor),re.set(23,D.l.symbolFolder),re.set(24,D.l.symbolTypeParameter),re.set(25,D.l.account),re.set(26,D.l.issues);function he(j){let K=re.get(j);return K||(console.info("No codicon found for CompletionItemKind "+j),K=D.l.symbolProperty),K}se.toIcon=he;const H=new Map;H.set("method",0),H.set("function",1),H.set("constructor",2),H.set("field",3),H.set("variable",4),H.set("class",5),H.set("struct",6),H.set("interface",7),H.set("module",8),H.set("property",9),H.set("event",10),H.set("operator",11),H.set("unit",12),H.set("value",13),H.set("constant",14),H.set("enum",15),H.set("enum-member",16),H.set("enumMember",16),H.set("keyword",17),H.set("snippet",27),H.set("text",18),H.set("color",19),H.set("file",20),H.set("reference",21),H.set("customcolor",22),H.set("folder",23),H.set("type-parameter",24),H.set("typeParameter",24),H.set("account",25),H.set("issue",26);function P(j,K){let ie=H.get(j);return typeof ie=="undefined"&&!K&&(ie=9),ie}se.fromString=P})(S||(S={}));var _;(function(se){se[se.Automatic=0]="Automatic",se[se.Explicit=1]="Explicit"})(_||(_={}));class a{constructor(re,he,H,P){this.range=re,this.text=he,this.completionKind=H,this.isSnippetText=P}equals(re){return v.e.lift(this.range).equalsRange(re.range)&&this.text===re.text&&this.completionKind===re.completionKind&&this.isSnippetText===re.isSnippetText}}var u;(function(se){se[se.Invoke=1]="Invoke",se[se.TriggerCharacter=2]="TriggerCharacter",se[se.ContentChange=3]="ContentChange"})(u||(u={}));var N;(function(se){se[se.Text=0]="Text",se[se.Read=1]="Read",se[se.Write=2]="Write"})(N||(N={}));function O(se){return se&&X.o.isUri(se.uri)&&v.e.isIRange(se.range)&&(v.e.isIRange(se.originSelectionRange)||v.e.isIRange(se.targetSelectionRange))}const R={[17]:(0,B.NC)("Array","array"),[16]:(0,B.NC)("Boolean","boolean"),[4]:(0,B.NC)("Class","class"),[13]:(0,B.NC)("Constant","constant"),[8]:(0,B.NC)("Constructor","constructor"),[9]:(0,B.NC)("Enum","enumeration"),[21]:(0,B.NC)("EnumMember","enumeration member"),[23]:(0,B.NC)("Event","event"),[7]:(0,B.NC)("Field","field"),[0]:(0,B.NC)("File","file"),[11]:(0,B.NC)("Function","function"),[10]:(0,B.NC)("Interface","interface"),[19]:(0,B.NC)("Key","key"),[5]:(0,B.NC)("Method","method"),[1]:(0,B.NC)("Module","module"),[2]:(0,B.NC)("Namespace","namespace"),[20]:(0,B.NC)("Null","null"),[15]:(0,B.NC)("Number","number"),[18]:(0,B.NC)("Object","object"),[24]:(0,B.NC)("Operator","operator"),[3]:(0,B.NC)("Package","package"),[6]:(0,B.NC)("Property","property"),[14]:(0,B.NC)("String","string"),[22]:(0,B.NC)("Struct","struct"),[25]:(0,B.NC)("TypeParameter","type parameter"),[12]:(0,B.NC)("Variable","variable")};function V(se,re){return(0,B.NC)("symbolAriaLabel","{0} ({1})",se,R[re])}var F;(function(se){const re=new Map;re.set(0,D.l.symbolFile),re.set(1,D.l.symbolModule),re.set(2,D.l.symbolNamespace),re.set(3,D.l.symbolPackage),re.set(4,D.l.symbolClass),re.set(5,D.l.symbolMethod),re.set(6,D.l.symbolProperty),re.set(7,D.l.symbolField),re.set(8,D.l.symbolConstructor),re.set(9,D.l.symbolEnum),re.set(10,D.l.symbolInterface),re.set(11,D.l.symbolFunction),re.set(12,D.l.symbolVariable),re.set(13,D.l.symbolConstant),re.set(14,D.l.symbolString),re.set(15,D.l.symbolNumber),re.set(16,D.l.symbolBoolean),re.set(17,D.l.symbolArray),re.set(18,D.l.symbolObject),re.set(19,D.l.symbolKey),re.set(20,D.l.symbolNull),re.set(21,D.l.symbolEnumMember),re.set(22,D.l.symbolStruct),re.set(23,D.l.symbolEvent),re.set(24,D.l.symbolOperator),re.set(25,D.l.symbolTypeParameter);function he(H){let P=re.get(H);return P||(console.info("No codicon found for SymbolKind "+H),P=D.l.symbolProperty),P}se.toIcon=he})(F||(F={}));class Y{}class G{static fromValue(re){switch(re){case"comment":return G.Comment;case"imports":return G.Imports;case"region":return G.Region}return new G(re)}constructor(re){this.value=re}}G.Comment=new G("comment"),G.Imports=new G("imports"),G.Region=new G("region");var Z;(function(se){function re(he){return!he||typeof he!="object"?!1:typeof he.id=="string"&&typeof he.title=="string"}se.is=re})(Z||(Z={}));var ne;(function(se){se[se.Type=1]="Type",se[se.Parameter=2]="Parameter"})(ne||(ne={}));class ${constructor(re){this.createSupport=re,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(re=>{re&&re.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}const J=new T},73316:function(Gt,ze,c){"use strict";c.d(ze,{$9:function(){return y},UF:function(){return B},n8:function(){return M},r7:function(){return T},tI:function(){return b}});var D=c(80360),X=c(88574),v=c(32777),k=c(79993);function L(C,S,_){const a=C.tokenization.getLanguageIdAtPosition(S,0);if(S>1){let u,N=-1;for(u=S-1;u>=1;u--){if(C.tokenization.getLanguageIdAtPosition(u,0)!==a)return N;const O=C.getLineContent(u);if(_.shouldIgnore(O)||/^\s+$/.test(O)||O===""){N=u;continue}return u}}return-1}function T(C,S,_,a=!0,u){if(C<4)return null;const N=u.getLanguageConfiguration(S.tokenization.getLanguageId()).indentRulesSupport;if(!N)return null;if(_<=1)return{indentation:"",action:null};for(let V=_-1;V>0&&S.getLineContent(V)==="";V--)if(V===1)return{indentation:"",action:null};const O=L(S,_,N);if(O<0)return null;if(O<1)return{indentation:"",action:null};const R=S.getLineContent(O);if(N.shouldIncrease(R)||N.shouldIndentNextLine(R))return{indentation:D.V8(R),action:X.wU.Indent,line:O};if(N.shouldDecrease(R))return{indentation:D.V8(R),action:null,line:O};{if(O===1)return{indentation:D.V8(S.getLineContent(O)),action:null,line:O};const V=O-1,F=N.getIndentMetadata(S.getLineContent(V));if(!(F&3)&&F&4){let Y=0;for(let G=V-1;G>0;G--)if(!N.shouldIndentNextLine(S.getLineContent(G))){Y=G;break}return{indentation:D.V8(S.getLineContent(Y+1)),action:null,line:Y+1}}if(a)return{indentation:D.V8(S.getLineContent(O)),action:null,line:O};for(let Y=O;Y>0;Y--){const G=S.getLineContent(Y);if(N.shouldIncrease(G))return{indentation:D.V8(G),action:X.wU.Indent,line:Y};if(N.shouldIndentNextLine(G)){let Z=0;for(let ne=Y-1;ne>0;ne--)if(!N.shouldIndentNextLine(S.getLineContent(Y))){Z=ne;break}return{indentation:D.V8(S.getLineContent(Z+1)),action:null,line:Z+1}}else if(N.shouldDecrease(G))return{indentation:D.V8(G),action:null,line:Y}}return{indentation:D.V8(S.getLineContent(1)),action:null,line:1}}}function M(C,S,_,a,u,N){if(C<4)return null;const O=N.getLanguageConfiguration(_);if(!O)return null;const R=N.getLanguageConfiguration(_).indentRulesSupport;if(!R)return null;const V=T(C,S,a,void 0,N),F=S.getLineContent(a);if(V){const Y=V.line;if(Y!==void 0){let G=!0;for(let Z=Y;Z<a-1;Z++)if(!/^\s*$/.test(S.getLineContent(Z))){G=!1;break}if(G){const Z=O.onEnter(C,"",S.getLineContent(Y),"");if(Z){let ne=D.V8(S.getLineContent(Y));return Z.removeText&&(ne=ne.substring(0,ne.length-Z.removeText)),Z.indentAction===X.wU.Indent||Z.indentAction===X.wU.IndentOutdent?ne=u.shiftIndent(ne):Z.indentAction===X.wU.Outdent&&(ne=u.unshiftIndent(ne)),R.shouldDecrease(F)&&(ne=u.unshiftIndent(ne)),Z.appendText&&(ne+=Z.appendText),D.V8(ne)}}}return R.shouldDecrease(F)?V.action===X.wU.Indent?V.indentation:u.unshiftIndent(V.indentation):V.action===X.wU.Indent?u.shiftIndent(V.indentation):V.indentation}return null}function B(C,S,_,a,u){if(C<4)return null;S.tokenization.forceTokenization(_.startLineNumber);const N=S.tokenization.getLineTokens(_.startLineNumber),O=(0,v.wH)(N,_.startColumn-1),R=O.getLineContent();let V=!1,F;O.firstCharOffset>0&&N.getLanguageId(0)!==O.languageId?(V=!0,F=R.substr(0,_.startColumn-1-O.firstCharOffset)):F=N.getLineContent().substring(0,_.startColumn-1);let Y;_.isEmpty()?Y=R.substr(_.startColumn-1-O.firstCharOffset):Y=(0,k.n2)(S,_.endLineNumber,_.endColumn).getLineContent().substr(_.endColumn-1-O.firstCharOffset);const G=u.getLanguageConfiguration(O.languageId).indentRulesSupport;if(!G)return null;const Z=F,ne=D.V8(F),$={tokenization:{getLineTokens:he=>S.tokenization.getLineTokens(he),getLanguageId:()=>S.getLanguageId(),getLanguageIdAtPosition:(he,H)=>S.getLanguageIdAtPosition(he,H)},getLineContent:he=>he===_.startLineNumber?Z:S.getLineContent(he)},J=D.V8(N.getLineContent()),se=T(C,$,_.startLineNumber+1,void 0,u);if(!se){const he=V?J:ne;return{beforeEnter:he,afterEnter:he}}let re=V?J:se.indentation;return se.action===X.wU.Indent&&(re=a.shiftIndent(re)),G.shouldDecrease(Y)&&(re=a.unshiftIndent(re)),{beforeEnter:V?J:ne,afterEnter:re}}function y(C,S,_,a,u,N){if(C<4)return null;const O=(0,k.n2)(S,_.startLineNumber,_.startColumn);if(O.firstCharOffset)return null;const R=N.getLanguageConfiguration(O.languageId).indentRulesSupport;if(!R)return null;const V=O.getLineContent(),F=V.substr(0,_.startColumn-1-O.firstCharOffset);let Y;if(_.isEmpty()?Y=V.substr(_.startColumn-1-O.firstCharOffset):Y=(0,k.n2)(S,_.endLineNumber,_.endColumn).getLineContent().substr(_.endColumn-1-O.firstCharOffset),!R.shouldDecrease(F+Y)&&R.shouldDecrease(F+a+Y)){const G=T(C,S,_.startLineNumber,!1,N);if(!G)return null;let Z=G.indentation;return G.action!==X.wU.Indent&&(Z=u.unshiftIndent(Z)),Z}return null}function b(C,S,_){const a=_.getLanguageConfiguration(C.getLanguageId()).indentRulesSupport;return!a||S<1||S>C.getLineCount()?null:a.getIndentMetadata(C.getLineContent(S))}},8537:function(Gt,ze,c){"use strict";c.d(ze,{A:function(){return v}});var D=c(88574),X=c(79993);function v(k,L,T,M){const B=(0,X.n2)(L,T.startLineNumber,T.startColumn),y=M.getLanguageConfiguration(B.languageId);if(!y)return null;const b=B.getLineContent(),C=b.substr(0,T.startColumn-1-B.firstCharOffset);let S;T.isEmpty()?S=b.substr(T.startColumn-1-B.firstCharOffset):S=(0,X.n2)(L,T.endLineNumber,T.endColumn).getLineContent().substr(T.endColumn-1-B.firstCharOffset);let _="";if(T.startLineNumber>1&&B.firstCharOffset===0){const V=(0,X.n2)(L,T.startLineNumber-1);V.languageId===B.languageId&&(_=V.getLineContent())}const a=y.onEnter(k,_,C,S);if(!a)return null;const u=a.indentAction;let N=a.appendText;const O=a.removeText||0;N?u===D.wU.Indent&&(N="	"+N):u===D.wU.Indent||u===D.wU.IndentOutdent?N="	":N="";let R=(0,X.u0)(L,T.startLineNumber,T.startColumn);return O&&(R=R.substring(0,R.length-O)),{indentAction:u,appendText:N,removeText:O,indentation:R}}},57529:function(Gt,ze,c){"use strict";c.d(ze,{O:function(){return X}});var D=c(99068);const X=(0,D.yh)("languageService")},88574:function(Gt,ze,c){"use strict";c.d(ze,{V6:function(){return X},c$:function(){return v},wU:function(){return D}});var D;(function(L){L[L.None=0]="None",L[L.Indent=1]="Indent",L[L.IndentOutdent=2]="IndentOutdent",L[L.Outdent=3]="Outdent"})(D||(D={}));class X{constructor(T){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=T.open,this.close=T.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(T.notIn))for(let M=0,B=T.notIn.length;M<B;M++)switch(T.notIn[M]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(T){switch(T){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(T,M){if(T.getTokenCount()===0)return!0;const B=T.findTokenIndexAtOffset(M-2),y=T.getStandardTokenType(B);return this.isOK(y)}_findNeutralCharacterInRange(T,M){for(let B=T;B<=M;B++){const y=String.fromCharCode(B);if(!this.open.includes(y)&&!this.close.includes(y))return y}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class v{constructor(T){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const M of T)k(this.autoClosingPairsOpenByStart,M.open.charAt(0),M),k(this.autoClosingPairsOpenByEnd,M.open.charAt(M.open.length-1),M),k(this.autoClosingPairsCloseByStart,M.close.charAt(0),M),k(this.autoClosingPairsCloseByEnd,M.close.charAt(M.close.length-1),M),M.close.length===1&&M.open.length===1&&k(this.autoClosingPairsCloseSingleChar,M.close,M)}}function k(L,T,M){L.has(T)?L.get(T).push(M):L.set(T,[M])}},79993:function(Gt,ze,c){"use strict";c.d(ze,{c_:function(){return he},u0:function(){return ce},n2:function(){return _e}});var D=c(46328),X=c(83845),v=c(80360),k=c(1149),L=c(88574),T=c(32777);class M{constructor(Ze){if(Ze.autoClosingPairs?this._autoClosingPairs=Ze.autoClosingPairs.map(lt=>new L.V6(lt)):Ze.brackets?this._autoClosingPairs=Ze.brackets.map(lt=>new L.V6({open:lt[0],close:lt[1]})):this._autoClosingPairs=[],Ze.__electricCharacterSupport&&Ze.__electricCharacterSupport.docComment){const lt=Ze.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new L.V6({open:lt.open,close:lt.close||""}))}this._autoCloseBeforeForQuotes=typeof Ze.autoCloseBefore=="string"?Ze.autoCloseBefore:M.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof Ze.autoCloseBefore=="string"?Ze.autoCloseBefore:M.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=Ze.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(Ze){return Ze?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}M.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,M.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`;var B=c(54888),y=c(90133);class b{constructor(Ze){this._richEditBrackets=Ze}getElectricCharacters(){const Ze=[];if(this._richEditBrackets)for(const lt of this._richEditBrackets.brackets)for(const ut of lt.close){const ct=ut.charAt(ut.length-1);Ze.push(ct)}return(0,B.EB)(Ze)}onElectricCharacter(Ze,lt,ut){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const ct=lt.findTokenIndexAtOffset(ut-1);if((0,T.Bu)(lt.getStandardTokenType(ct)))return null;const He=this._richEditBrackets.reversedRegex,Dt=lt.getLineContent().substring(0,ut-1)+Ze,gt=y.Vr.findPrevBracketInRange(He,1,Dt,0,Dt.length);if(!gt)return null;const Re=Dt.substring(gt.startColumn-1,gt.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[Re])return null;const Tt=lt.getActualLineContentBefore(gt.startColumn-1);return/^\s*$/.test(Tt)?{matchOpenBracket:Re}:null}}function C(Xe){return Xe.global&&(Xe.lastIndex=0),!0}class S{constructor(Ze){this._indentationRules=Ze}shouldIncrease(Ze){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&C(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(Ze))}shouldDecrease(Ze){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&C(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(Ze))}shouldIndentNextLine(Ze){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&C(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(Ze))}shouldIgnore(Ze){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&C(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(Ze))}getIndentMetadata(Ze){let lt=0;return this.shouldIncrease(Ze)&&(lt+=1),this.shouldDecrease(Ze)&&(lt+=2),this.shouldIndentNextLine(Ze)&&(lt+=4),this.shouldIgnore(Ze)&&(lt+=8),lt}}var _=c(35541);class a{constructor(Ze){Ze=Ze||{},Ze.brackets=Ze.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],Ze.brackets.forEach(lt=>{const ut=a._createOpenBracketRegExp(lt[0]),ct=a._createCloseBracketRegExp(lt[1]);ut&&ct&&this._brackets.push({open:lt[0],openRegExp:ut,close:lt[1],closeRegExp:ct})}),this._regExpRules=Ze.onEnterRules||[]}onEnter(Ze,lt,ut,ct){if(Ze>=3)for(let He=0,Dt=this._regExpRules.length;He<Dt;He++){const gt=this._regExpRules[He];if([{reg:gt.beforeText,text:ut},{reg:gt.afterText,text:ct},{reg:gt.previousLineText,text:lt}].every(st=>st.reg?(st.reg.lastIndex=0,st.reg.test(st.text)):!0))return gt.action}if(Ze>=2&&ut.length>0&&ct.length>0)for(let He=0,Dt=this._brackets.length;He<Dt;He++){const gt=this._brackets[He];if(gt.openRegExp.test(ut)&&gt.closeRegExp.test(ct))return{indentAction:L.wU.IndentOutdent}}if(Ze>=2&&ut.length>0){for(let He=0,Dt=this._brackets.length;He<Dt;He++)if(this._brackets[He].openRegExp.test(ut))return{indentAction:L.wU.Indent}}return null}static _createOpenBracketRegExp(Ze){let lt=v.ec(Ze);return/\B/.test(lt.charAt(0))||(lt="\\b"+lt),lt+="\\s*$",a._safeRegExp(lt)}static _createCloseBracketRegExp(Ze){let lt=v.ec(Ze);return/\B/.test(lt.charAt(lt.length-1))||(lt=lt+"\\b"),lt="^\\s*"+lt,a._safeRegExp(lt)}static _safeRegExp(Ze){try{return new RegExp(Ze)}catch(lt){return(0,_.dL)(lt),null}}}var u=c(99068),N=c(76681),O=c(57529),R=c(89320),V=c(24966),F=c(36346);class Y{constructor(Ze,lt){this.languageId=Ze;const ut=lt.brackets?G(lt.brackets):[],ct=new F.b(gt=>{const Re=new Set;return{info:new ne(this,gt,Re),closing:Re}}),He=new F.b(gt=>{const Re=new Set,st=new Set;return{info:new $(this,gt,Re,st),opening:Re,openingColorized:st}});for(const[gt,Re]of ut){const st=ct.get(gt),Tt=He.get(Re);st.closing.add(Tt.info),Tt.opening.add(st.info)}const Dt=lt.colorizedBracketPairs?G(lt.colorizedBracketPairs):ut.filter(gt=>!(gt[0]==="<"&&gt[1]===">"));for(const[gt,Re]of Dt){const st=ct.get(gt),Tt=He.get(Re);st.closing.add(Tt.info),Tt.openingColorized.add(st.info),Tt.opening.add(st.info)}this._openingBrackets=new Map([...ct.cachedValues].map(([gt,Re])=>[gt,Re.info])),this._closingBrackets=new Map([...He.cachedValues].map(([gt,Re])=>[gt,Re.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(Ze){return this._openingBrackets.get(Ze)}getClosingBracketInfo(Ze){return this._closingBrackets.get(Ze)}getBracketInfo(Ze){return this.getOpeningBracketInfo(Ze)||this.getClosingBracketInfo(Ze)}}function G(Xe){return Xe.filter(([Ze,lt])=>Ze!==""&&lt!=="")}class Z{constructor(Ze,lt){this.config=Ze,this.bracketText=lt}get languageId(){return this.config.languageId}}class ne extends Z{constructor(Ze,lt,ut){super(Ze,lt),this.openedBrackets=ut,this.isOpeningBracket=!0}}class $ extends Z{constructor(Ze,lt,ut,ct){super(Ze,lt),this.openingBrackets=ut,this.openingColorizedBrackets=ct,this.isOpeningBracket=!1}closes(Ze){return Ze.config!==this.config?!1:this.openingBrackets.has(Ze)}closesColorized(Ze){return Ze.config!==this.config?!1:this.openingColorizedBrackets.has(Ze)}getOpeningBrackets(){return[...this.openingBrackets]}}var J=function(Xe,Ze,lt,ut){var ct=arguments.length,He=ct<3?Ze:ut===null?ut=Object.getOwnPropertyDescriptor(Ze,lt):ut,Dt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")He=Reflect.decorate(Xe,Ze,lt,ut);else for(var gt=Xe.length-1;gt>=0;gt--)(Dt=Xe[gt])&&(He=(ct<3?Dt(He):ct>3?Dt(Ze,lt,He):Dt(Ze,lt))||He);return ct>3&&He&&Object.defineProperty(Ze,lt,He),He},se=function(Xe,Ze){return function(lt,ut){Ze(lt,ut,Xe)}};class re{constructor(Ze){this.languageId=Ze}affects(Ze){return this.languageId?this.languageId===Ze:!0}}const he=(0,u.yh)("languageConfigurationService");let H=class extends X.JT{constructor(Ze,lt){super(),this.configurationService=Ze,this.languageService=lt,this._registry=this._register(new x),this.onDidChangeEmitter=this._register(new D.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const ut=new Set(Object.values(j));this._register(this.configurationService.onDidChangeConfiguration(ct=>{const He=ct.change.keys.some(gt=>ut.has(gt)),Dt=ct.change.overrides.filter(([gt,Re])=>Re.some(st=>ut.has(st))).map(([gt])=>gt);if(He)this.configurations.clear(),this.onDidChangeEmitter.fire(new re(void 0));else for(const gt of Dt)this.languageService.isRegisteredLanguageId(gt)&&(this.configurations.delete(gt),this.onDidChangeEmitter.fire(new re(gt)))})),this._register(this._registry.onDidChange(ct=>{this.configurations.delete(ct.languageId),this.onDidChangeEmitter.fire(new re(ct.languageId))}))}register(Ze,lt,ut){return this._registry.register(Ze,lt,ut)}getLanguageConfiguration(Ze){let lt=this.configurations.get(Ze);return lt||(lt=P(Ze,this._registry,this.configurationService,this.languageService),this.configurations.set(Ze,lt)),lt}};H=J([se(0,N.Ui),se(1,O.O)],H);function P(Xe,Ze,lt,ut){let ct=Ze.getLanguageConfiguration(Xe);if(!ct){if(!ut.isRegisteredLanguageId(Xe))return new rt(Xe,{});ct=new rt(Xe,{})}const He=K(ct.languageId,lt),Dt=Ce([ct.underlyingConfig,He]);return new rt(ct.languageId,Dt)}const j={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function K(Xe,Ze){const lt=Ze.getValue(j.brackets,{overrideIdentifier:Xe}),ut=Ze.getValue(j.colorizedBracketPairs,{overrideIdentifier:Xe});return{brackets:ie(lt),colorizedBracketPairs:ie(ut)}}function ie(Xe){if(Array.isArray(Xe))return Xe.map(Ze=>{if(!(!Array.isArray(Ze)||Ze.length!==2))return[Ze[0],Ze[1]]}).filter(Ze=>!!Ze)}function ce(Xe,Ze,lt){const ut=Xe.getLineContent(Ze);let ct=v.V8(ut);return ct.length>lt-1&&(ct=ct.substring(0,lt-1)),ct}function _e(Xe,Ze,lt){Xe.tokenization.forceTokenization(Ze);const ut=Xe.tokenization.getLineTokens(Ze),ct=typeof lt=="undefined"?Xe.getLineMaxColumn(Ze)-1:lt-1;return(0,T.wH)(ut,ct)}class Ee{constructor(Ze){this.languageId=Ze,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(Ze,lt){const ut=new pe(Ze,lt,++this._order);return this._entries.push(ut),this._resolved=null,(0,X.OF)(()=>{for(let ct=0;ct<this._entries.length;ct++)if(this._entries[ct]===ut){this._entries.splice(ct,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const Ze=this._resolve();Ze&&(this._resolved=new rt(this.languageId,Ze))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(pe.cmp),Ce(this._entries.map(Ze=>Ze.configuration)))}}function Ce(Xe){let Ze={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const lt of Xe)Ze={comments:lt.comments||Ze.comments,brackets:lt.brackets||Ze.brackets,wordPattern:lt.wordPattern||Ze.wordPattern,indentationRules:lt.indentationRules||Ze.indentationRules,onEnterRules:lt.onEnterRules||Ze.onEnterRules,autoClosingPairs:lt.autoClosingPairs||Ze.autoClosingPairs,surroundingPairs:lt.surroundingPairs||Ze.surroundingPairs,autoCloseBefore:lt.autoCloseBefore||Ze.autoCloseBefore,folding:lt.folding||Ze.folding,colorizedBracketPairs:lt.colorizedBracketPairs||Ze.colorizedBracketPairs,__electricCharacterSupport:lt.__electricCharacterSupport||Ze.__electricCharacterSupport};return Ze}class pe{constructor(Ze,lt,ut){this.configuration=Ze,this.priority=lt,this.order=ut}static cmp(Ze,lt){return Ze.priority===lt.priority?Ze.order-lt.order:Ze.priority-lt.priority}}class xe{constructor(Ze){this.languageId=Ze}}class x extends X.JT{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new D.Q5),this.onDidChange=this._onDidChange.event,this._register(this.register(V.bd,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(Ze,lt,ut=0){let ct=this._entries.get(Ze);ct||(ct=new Ee(Ze),this._entries.set(Ze,ct));const He=ct.register(lt,ut);return this._onDidChange.fire(new xe(Ze)),(0,X.OF)(()=>{He.dispose(),this._onDidChange.fire(new xe(Ze))})}getLanguageConfiguration(Ze){const lt=this._entries.get(Ze);return(lt==null?void 0:lt.getResolvedConfiguration())||null}}class rt{constructor(Ze,lt){this.languageId=Ze,this.underlyingConfig=lt,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new a(this.underlyingConfig):null,this.comments=rt._handleComments(this.underlyingConfig),this.characterPair=new M(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||k.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new S(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new Y(Ze,this.underlyingConfig)}getWordDefinition(){return(0,k.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new y.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new b(this.brackets)),this._electricCharacter}onEnter(Ze,lt,ut,ct){return this._onEnterSupport?this._onEnterSupport.onEnter(Ze,lt,ut,ct):null}getAutoClosingPairs(){return new L.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(Ze){return this.characterPair.getAutoCloseBeforeSet(Ze)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(Ze){const lt=Ze.comments;if(!lt)return null;const ut={};if(lt.lineComment&&(ut.lineCommentToken=lt.lineComment),lt.blockComment){const[ct,He]=lt.blockComment;ut.blockCommentStartToken=ct,ut.blockCommentEndToken=He}return ut}}(0,R.z)(he,H,1)},24966:function(Gt,ze,c){"use strict";c.d(ze,{bd:function(){return y},dQ:function(){return B}});var D=c(18493),X=c(46328),v=c(93796),k=c(98584),L=c(43211);const T={ModesRegistry:"editor.modesRegistry"};class M{constructor(){this._onDidChangeLanguages=new X.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(S){return this._languages.push(S),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let _=0,a=this._languages.length;_<a;_++)if(this._languages[_]===S){this._languages.splice(_,1);return}}}}getLanguages(){return this._languages}}const B=new M;v.B.add(T.ModesRegistry,B);const y="plaintext",b=".txt";B.registerLanguage({id:y,extensions:[b],aliases:[D.NC("plainText.alias","Plain Text"),"text"],mimetypes:[k.v.text]}),v.B.as(L.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},32402:function(Gt,ze,c){"use strict";c.d(ze,{Dy:function(){return k},Ri:function(){return v},TJ:function(){return X}});var D=c(26627);const X=new class{clone(){return this}equals(L){return this===L}};function v(L,T){return new D.hG([new D.WU(0,"",L)],T)}function k(L,T){const M=new Uint32Array(2);return M[0]=0,M[1]=(L<<0|0|0|32768|2<<24)>>>0,new D.DI(M,T===null?X:T)}},32777:function(Gt,ze,c){"use strict";c.d(ze,{Bu:function(){return v},wH:function(){return D}});function D(k,L){const T=k.getCount(),M=k.findTokenIndexAtOffset(L),B=k.getLanguageId(M);let y=M;for(;y+1<T&&k.getLanguageId(y+1)===B;)y++;let b=M;for(;b>0&&k.getLanguageId(b-1)===B;)b--;return new X(k,B,b,y+1,k.getStartOffset(b),k.getEndOffset(y))}class X{constructor(L,T,M,B,y,b){this._scopedLineTokensBrand=void 0,this._actual=L,this.languageId=T,this._firstTokenIndex=M,this._lastTokenIndex=B,this.firstCharOffset=y,this._lastCharOffset=b}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(L){return this._actual.getLineContent().substring(0,this.firstCharOffset+L)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(L){return this._actual.findTokenIndexAtOffset(L+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(L){return this._actual.getStandardTokenType(L+this._firstTokenIndex)}}function v(k){return(k&3)!==0}},90133:function(Gt,ze,c){"use strict";c.d(ze,{EA:function(){return T},Vr:function(){return O}});var D=c(80360),X=c(6180),v=c(54125);class k{constructor(V,F,Y,G,Z,ne){this._richEditBracketBrand=void 0,this.languageId=V,this.index=F,this.open=Y,this.close=G,this.forwardRegex=Z,this.reversedRegex=ne,this._openSet=k._toSet(this.open),this._closeSet=k._toSet(this.close)}isOpen(V){return this._openSet.has(V)}isClose(V){return this._closeSet.has(V)}static _toSet(V){const F=new Set;for(const Y of V)F.add(Y);return F}}function L(R){const V=R.length;R=R.map(ne=>[ne[0].toLowerCase(),ne[1].toLowerCase()]);const F=[];for(let ne=0;ne<V;ne++)F[ne]=ne;const Y=(ne,$)=>{const[J,se]=ne,[re,he]=$;return J===re||J===he||se===re||se===he},G=(ne,$)=>{const J=Math.min(ne,$),se=Math.max(ne,$);for(let re=0;re<V;re++)F[re]===se&&(F[re]=J)};for(let ne=0;ne<V;ne++){const $=R[ne];for(let J=ne+1;J<V;J++){const se=R[J];Y($,se)&&G(F[ne],F[J])}}const Z=[];for(let ne=0;ne<V;ne++){const $=[],J=[];for(let se=0;se<V;se++)if(F[se]===ne){const[re,he]=R[se];$.push(re),J.push(he)}$.length>0&&Z.push({open:$,close:J})}return Z}class T{constructor(V,F){this._richEditBracketsBrand=void 0;const Y=L(F);this.brackets=Y.map((G,Z)=>new k(V,Z,G.open,G.close,b(G.open,G.close,Y,Z),C(G.open,G.close,Y,Z))),this.forwardRegex=S(this.brackets),this.reversedRegex=_(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const G of this.brackets){for(const Z of G.open)this.textIsBracket[Z]=G,this.textIsOpenBracket[Z]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,Z.length);for(const Z of G.close)this.textIsBracket[Z]=G,this.textIsOpenBracket[Z]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,Z.length)}}}function M(R,V,F,Y){for(let G=0,Z=V.length;G<Z;G++){if(G===F)continue;const ne=V[G];for(const $ of ne.open)$.indexOf(R)>=0&&Y.push($);for(const $ of ne.close)$.indexOf(R)>=0&&Y.push($)}}function B(R,V){return R.length-V.length}function y(R){if(R.length<=1)return R;const V=[],F=new Set;for(const Y of R)F.has(Y)||(V.push(Y),F.add(Y));return V}function b(R,V,F,Y){let G=[];G=G.concat(R),G=G.concat(V);for(let Z=0,ne=G.length;Z<ne;Z++)M(G[Z],F,Y,G);return G=y(G),G.sort(B),G.reverse(),u(G)}function C(R,V,F,Y){let G=[];G=G.concat(R),G=G.concat(V);for(let Z=0,ne=G.length;Z<ne;Z++)M(G[Z],F,Y,G);return G=y(G),G.sort(B),G.reverse(),u(G.map(N))}function S(R){let V=[];for(const F of R){for(const Y of F.open)V.push(Y);for(const Y of F.close)V.push(Y)}return V=y(V),u(V)}function _(R){let V=[];for(const F of R){for(const Y of F.open)V.push(Y);for(const Y of F.close)V.push(Y)}return V=y(V),u(V.map(N))}function a(R){const V=/^[\w ]+$/.test(R);return R=D.ec(R),V?`\\b${R}\\b`:R}function u(R){const V=`(${R.map(a).join(")|(")})`;return D.GF(V,!0)}const N=function(){function R(Y){const G=new Uint16Array(Y.length);let Z=0;for(let ne=Y.length-1;ne>=0;ne--)G[Z++]=Y.charCodeAt(ne);return X.oe().decode(G)}let V=null,F=null;return function(G){return V!==G&&(V=G,F=R(V)),F}}();class O{static _findPrevBracketInText(V,F,Y,G){const Z=Y.match(V);if(!Z)return null;const ne=Y.length-(Z.index||0),$=Z[0].length,J=G+ne;return new v.e(F,J-$+1,F,J+1)}static findPrevBracketInRange(V,F,Y,G,Z){const $=N(Y).substring(Y.length-Z,Y.length-G);return this._findPrevBracketInText(V,F,$,G)}static findNextBracketInText(V,F,Y,G){const Z=Y.match(V);if(!Z)return null;const ne=Z.index||0,$=Z[0].length;if($===0)return null;const J=G+ne;return new v.e(F,J+1,F,J+1+$)}static findNextBracketInRange(V,F,Y,G,Z){const ne=Y.substring(G,Z);return this.findNextBracketInText(V,F,ne,G)}}},10399:function(Gt,ze,c){"use strict";c.d(ze,{C2:function(){return T},Fq:function(){return M}});var D=c(80360),X=c(12007),v=c(26627),k=c(32402);const L={getInitialState:()=>k.TJ,tokenizeEncoded:(y,b,C)=>(0,k.Dy)(0,C)};function T(y,b,C){return At(this,null,function*(){if(!C)return B(b,y.languageIdCodec,L);const S=yield v.RW.getOrCreate(C);return B(b,y.languageIdCodec,S||L)})}function M(y,b,C,S,_,a,u){let N="<div>",O=S,R=0,V=!0;for(let F=0,Y=b.getCount();F<Y;F++){const G=b.getEndOffset(F);if(G<=S)continue;let Z="";for(;O<G&&O<_;O++){const ne=y.charCodeAt(O);switch(ne){case 9:{let $=a-(O+R)%a;for(R+=$-1;$>0;)u&&V?(Z+="&#160;",V=!1):(Z+=" ",V=!0),$--;break}case 60:Z+="&lt;",V=!1;break;case 62:Z+="&gt;",V=!1;break;case 38:Z+="&amp;",V=!1;break;case 0:Z+="&#00;",V=!1;break;case 65279:case 8232:case 8233:case 133:Z+="\uFFFD",V=!1;break;case 13:Z+="&#8203",V=!1;break;case 32:u&&V?(Z+="&#160;",V=!1):(Z+=" ",V=!0);break;default:Z+=String.fromCharCode(ne),V=!1}}if(N+=`<span style="${b.getInlineStyle(F,C)}">${Z}</span>`,G>_||O>=_)break}return N+="</div>",N}function B(y,b,C){let S='<div class="monaco-tokenized-source">';const _=D.uq(y);let a=C.getInitialState();for(let u=0,N=_.length;u<N;u++){const O=_[u];u>0&&(S+="<br/>");const R=C.tokenizeEncoded(O,!0,a);X.A.convertToEndOffset(R.tokens,O.length);const F=new X.A(R.tokens,O,b).inflate();let Y=0;for(let G=0,Z=F.getCount();G<Z;G++){const ne=F.getClassName(G),$=F.getEndOffset(G);S+=`<span class="${ne}">${D.YU(O.substring(Y,$))}</span>`,Y=$}a=R.endState}return S+="</div>",S}},74222:function(Gt,ze,c){"use strict";c.d(ze,{F5:function(){return k},Hf:function(){return B},Qi:function(){return y},RM:function(){return L},Tx:function(){return b},U:function(){return v},dJ:function(){return T},je:function(){return C},pt:function(){return S},sh:function(){return X},tk:function(){return M}});var D=c(24913),X;(function(_){_[_.Left=1]="Left",_[_.Center=2]="Center",_[_.Right=4]="Right",_[_.Full=7]="Full"})(X||(X={}));var v;(function(_){_[_.Left=1]="Left",_[_.Right=2]="Right"})(v||(v={}));var k;(function(_){_[_.Inline=1]="Inline",_[_.Gutter=2]="Gutter"})(k||(k={}));var L;(function(_){_[_.Both=0]="Both",_[_.Right=1]="Right",_[_.Left=2]="Left",_[_.None=3]="None"})(L||(L={}));class T{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(a){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,a.tabSize|0),a.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,a.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!a.insertSpaces,this.defaultEOL=a.defaultEOL|0,this.trimAutoWhitespace=!!a.trimAutoWhitespace,this.bracketPairColorizationOptions=a.bracketPairColorizationOptions}equals(a){return this.tabSize===a.tabSize&&this._indentSizeIsTabSize===a._indentSizeIsTabSize&&this.indentSize===a.indentSize&&this.insertSpaces===a.insertSpaces&&this.defaultEOL===a.defaultEOL&&this.trimAutoWhitespace===a.trimAutoWhitespace&&(0,D.fS)(this.bracketPairColorizationOptions,a.bracketPairColorizationOptions)}createChangeEvent(a){return{tabSize:this.tabSize!==a.tabSize,indentSize:this.indentSize!==a.indentSize,insertSpaces:this.insertSpaces!==a.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==a.trimAutoWhitespace}}}class M{constructor(a,u){this._findMatchBrand=void 0,this.range=a,this.matches=u}}function B(_){return _&&typeof _.read=="function"}class y{constructor(a,u,N,O,R,V){this.identifier=a,this.range=u,this.text=N,this.forceMoveMarkers=O,this.isAutoWhitespaceEdit=R,this._isTracked=V}}class b{constructor(a,u,N){this.regex=a,this.wordSeparators=u,this.simpleSearch=N}}class C{constructor(a,u,N){this.reverseEdits=a,this.changes=u,this.trimAutoWhitespaceLineNumbers=N}}function S(_){return!_.isTooLargeForSyncing()&&!_.isForSimpleWidget}},55405:function(Gt,ze,c){"use strict";c.d(ze,{BH:function(){return a},Dm:function(){return N},Kd:function(){return T},Y0:function(){return M},n2:function(){return u}});var D=c(35541),X=c(41498),v=c(94098),k=c(46437);class L{get length(){return this._length}constructor(R){this._length=R}}class T extends L{static create(R,V,F){let Y=R.length;return V&&(Y=(0,v.Ii)(Y,V.length)),F&&(Y=(0,v.Ii)(Y,F.length)),new T(Y,R,V,F,V?V.missingOpeningBracketIds:k.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(R){switch(R){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const R=[];return R.push(this.openingBracket),this.child&&R.push(this.child),this.closingBracket&&R.push(this.closingBracket),R}constructor(R,V,F,Y,G){super(R),this.openingBracket=V,this.child=F,this.closingBracket=Y,this.missingOpeningBracketIds=G}canBeReused(R){return!(this.closingBracket===null||R.intersects(this.missingOpeningBracketIds))}deepClone(){return new T(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(R,V){return this.child?this.child.computeMinIndentation((0,v.Ii)(R,this.openingBracket.length),V):Number.MAX_SAFE_INTEGER}}class M extends L{static create23(R,V,F,Y=!1){let G=R.length,Z=R.missingOpeningBracketIds;if(R.listHeight!==V.listHeight)throw new Error("Invalid list heights");if(G=(0,v.Ii)(G,V.length),Z=Z.merge(V.missingOpeningBracketIds),F){if(R.listHeight!==F.listHeight)throw new Error("Invalid list heights");G=(0,v.Ii)(G,F.length),Z=Z.merge(F.missingOpeningBracketIds)}return Y?new y(G,R.listHeight+1,R,V,F,Z):new B(G,R.listHeight+1,R,V,F,Z)}static getEmpty(){return new C(v.xl,0,[],k.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(R,V,F){super(R),this.listHeight=V,this._missingOpeningBracketIds=F,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const R=this.childrenLength;if(R===0)return;const V=this.getChild(R-1),F=V.kind===4?V.toMutable():V;return V!==F&&this.setChild(R-1,F),F}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const V=this.getChild(0),F=V.kind===4?V.toMutable():V;return V!==F&&this.setChild(0,F),F}canBeReused(R){if(R.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let V=this;for(;V.kind===4;){const F=V.childrenLength;if(F===0)throw new D.he;V=V.getChild(F-1)}return V.canBeReused(R)}handleChildrenChanged(){this.throwIfImmutable();const R=this.childrenLength;let V=this.getChild(0).length,F=this.getChild(0).missingOpeningBracketIds;for(let Y=1;Y<R;Y++){const G=this.getChild(Y);V=(0,v.Ii)(V,G.length),F=F.merge(G.missingOpeningBracketIds)}this._length=V,this._missingOpeningBracketIds=F,this.cachedMinIndentation=-1}computeMinIndentation(R,V){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let F=Number.MAX_SAFE_INTEGER,Y=R;for(let G=0;G<this.childrenLength;G++){const Z=this.getChild(G);Z&&(F=Math.min(F,Z.computeMinIndentation(Y,V)),Y=(0,v.Ii)(Y,Z.length))}return this.cachedMinIndentation=F,F}}class B extends M{get childrenLength(){return this._item3!==null?3:2}getChild(R){switch(R){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(R,V){switch(R){case 0:this._item1=V;return;case 1:this._item2=V;return;case 2:this._item3=V;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(R,V,F,Y,G,Z){super(R,V,Z),this._item1=F,this._item2=Y,this._item3=G}deepClone(){return new B(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(R){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=R,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const R=this._item3;return this._item3=null,this.handleChildrenChanged(),R}prependChildOfSameHeight(R){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=R,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const R=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),R}toMutable(){return this}}class y extends B{toMutable(){return new B(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class b extends M{get childrenLength(){return this._children.length}getChild(R){return this._children[R]}setChild(R,V){this._children[R]=V}get children(){return this._children}constructor(R,V,F,Y){super(R,V,Y),this._children=F}deepClone(){const R=new Array(this._children.length);for(let V=0;V<this._children.length;V++)R[V]=this._children[V].deepClone();return new b(this.length,this.listHeight,R,this.missingOpeningBracketIds)}appendChildOfSameHeight(R){this.throwIfImmutable(),this._children.push(R),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const R=this._children.pop();return this.handleChildrenChanged(),R}prependChildOfSameHeight(R){this.throwIfImmutable(),this._children.unshift(R),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const R=this._children.shift();return this.handleChildrenChanged(),R}toMutable(){return this}}class C extends b{toMutable(){return new b(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const S=[];class _ extends L{get listHeight(){return 0}get childrenLength(){return 0}getChild(R){return null}get children(){return S}deepClone(){return this}}class a extends _{get kind(){return 0}get missingOpeningBracketIds(){return k.tS.getEmpty()}canBeReused(R){return!0}computeMinIndentation(R,V){const F=(0,v.Hw)(R),Y=(F.columnCount===0?F.lineCount:F.lineCount+1)+1,G=(0,v.W9)((0,v.Ii)(R,this.length))+1;let Z=Number.MAX_SAFE_INTEGER;for(let ne=Y;ne<=G;ne++){const $=V.getLineFirstNonWhitespaceColumn(ne),J=V.getLineContent(ne);if($===0)continue;const se=X.i.visibleColumnFromColumn(J,$,V.getOptions().tabSize);Z=Math.min(Z,se)}return Z}}class u extends _{static create(R,V,F){return new u(R,V,F)}get kind(){return 1}get missingOpeningBracketIds(){return k.tS.getEmpty()}constructor(R,V,F){super(R),this.bracketInfo=V,this.bracketIds=F}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(R){return!1}computeMinIndentation(R,V){return Number.MAX_SAFE_INTEGER}}class N extends _{get kind(){return 3}constructor(R,V){super(V),this.missingOpeningBracketIds=R}canBeReused(R){return!R.intersects(this.missingOpeningBracketIds)}computeMinIndentation(R,V){return Number.MAX_SAFE_INTEGER}}},90711:function(Gt,ze,c){"use strict";c.d(ze,{Q:function(){return v},Y:function(){return k}});var D=c(54125),X=c(94098);class v{static fromModelContentChanges(M){return M.map(y=>{const b=D.e.lift(y.range);return new v((0,X.PZ)(b.getStartPosition()),(0,X.PZ)(b.getEndPosition()),(0,X.oR)(y.text))}).reverse()}constructor(M,B,y){this.startOffset=M,this.endOffset=B,this.newLength=y}toString(){return`[${(0,X.Hw)(this.startOffset)}...${(0,X.Hw)(this.endOffset)}) -> ${(0,X.Hw)(this.newLength)}`}}class k{constructor(M){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=M.map(B=>L.from(B))}getOffsetBeforeChange(M){return this.adjustNextEdit(M),this.translateCurToOld(M)}getDistanceToNextChange(M){this.adjustNextEdit(M);const B=this.edits[this.nextEditIdx],y=B?this.translateOldToCur(B.offsetObj):null;return y===null?null:(0,X.BE)(M,y)}translateOldToCur(M){return M.lineCount===this.deltaLineIdxInOld?(0,X.Hg)(M.lineCount+this.deltaOldToNewLineCount,M.columnCount+this.deltaOldToNewColumnCount):(0,X.Hg)(M.lineCount+this.deltaOldToNewLineCount,M.columnCount)}translateCurToOld(M){const B=(0,X.Hw)(M);return B.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,X.Hg)(B.lineCount-this.deltaOldToNewLineCount,B.columnCount-this.deltaOldToNewColumnCount):(0,X.Hg)(B.lineCount-this.deltaOldToNewLineCount,B.columnCount)}adjustNextEdit(M){for(;this.nextEditIdx<this.edits.length;){const B=this.edits[this.nextEditIdx],y=this.translateOldToCur(B.endOffsetAfterObj);if((0,X.By)(y,M)){this.nextEditIdx++;const b=(0,X.Hw)(y),C=(0,X.Hw)(this.translateOldToCur(B.endOffsetBeforeObj)),S=b.lineCount-C.lineCount;this.deltaOldToNewLineCount+=S;const _=this.deltaLineIdxInOld===B.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,a=b.columnCount-C.columnCount;this.deltaOldToNewColumnCount=_+a,this.deltaLineIdxInOld=B.endOffsetBeforeObj.lineCount}else break}}}class L{static from(M){return new L(M.startOffset,M.endOffset,M.newLength)}constructor(M,B,y){this.endOffsetBeforeObj=(0,X.Hw)(B),this.endOffsetAfterObj=(0,X.Hw)((0,X.Ii)(M,y)),this.offsetObj=(0,X.Hw)(M)}}},47022:function(Gt,ze,c){"use strict";c.d(ze,{Z:function(){return B}});var D=c(80360),X=c(55405),v=c(94098),k=c(46437),L=c(61795);class T{static createFromLanguage(b,C){function S(a){return C.getKey(`${a.languageId}:::${a.bracketText}`)}const _=new Map;for(const a of b.bracketsNew.openingBrackets){const u=(0,v.Hg)(0,a.bracketText.length),N=S(a),O=k.tS.getEmpty().add(N,k.Qw);_.set(a.bracketText,new L.WU(u,1,N,O,X.n2.create(u,a,O)))}for(const a of b.bracketsNew.closingBrackets){const u=(0,v.Hg)(0,a.bracketText.length);let N=k.tS.getEmpty();const O=a.getOpeningBrackets();for(const R of O)N=N.add(S(R),k.Qw);_.set(a.bracketText,new L.WU(u,2,S(O[0]),N,X.n2.create(u,a,N)))}return new T(_)}constructor(b){this.map=b,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const b=[...this.map.keys()];return b.sort(),b.reverse(),b.map(C=>M(C)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const b=this.getRegExpStr();this._regExpGlobal=b?new RegExp(b,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(b){return this.map.get(b.toLowerCase())}findClosingTokenText(b){for(const[C,S]of this.map)if(S.kind===2&&S.bracketIds.intersects(b))return C}get isEmpty(){return this.map.size===0}}function M(y){let b=(0,D.ec)(y);return/^[\w ]+/.test(y)&&(b=`\\b${b}`),/[\w ]+$/.test(y)&&(b=`${b}\\b`),b}class B{constructor(b,C){this.denseKeyProvider=b,this.getLanguageConfiguration=C,this.languageIdToBracketTokens=new Map}didLanguageChange(b){return this.languageIdToBracketTokens.has(b)}getSingleLanguageBracketTokens(b){let C=this.languageIdToBracketTokens.get(b);return C||(C=T.createFromLanguage(this.getLanguageConfiguration(b),this.denseKeyProvider),this.languageIdToBracketTokens.set(b,C)),C}}},88895:function(Gt,ze,c){"use strict";c.d(ze,{o:function(){return k}});var D=c(54888),X=c(90711),v=c(94098);function k(M,B){if(M.length===0)return B;if(B.length===0)return M;const y=new D.H9(T(M)),b=T(B);b.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let C=y.dequeue();function S(N){if(N===void 0){const R=y.takeWhile(V=>!0)||[];return C&&R.unshift(C),R}const O=[];for(;C&&!(0,v.xd)(N);){const[R,V]=C.splitAt(N);O.push(R),N=(0,v.BE)(R.lengthAfter,N),C=V!=null?V:y.dequeue()}return(0,v.xd)(N)||O.push(new L(!1,N,N)),O}const _=[];function a(N,O,R){if(_.length>0&&(0,v.rM)(_[_.length-1].endOffset,N)){const V=_[_.length-1];_[_.length-1]=new X.Q(V.startOffset,O,(0,v.Ii)(V.newLength,R))}else _.push({startOffset:N,endOffset:O,newLength:R})}let u=v.xl;for(const N of b){const O=S(N.lengthBefore);if(N.modified){const R=(0,v.tQ)(O,F=>F.lengthBefore),V=(0,v.Ii)(u,R);a(u,V,N.lengthAfter),u=V}else for(const R of O){const V=u;u=(0,v.Ii)(u,R.lengthBefore),R.modified&&a(V,u,R.lengthAfter)}}return _}class L{constructor(B,y,b){this.modified=B,this.lengthBefore=y,this.lengthAfter=b}splitAt(B){const y=(0,v.BE)(B,this.lengthAfter);return(0,v.rM)(y,v.xl)?[this,void 0]:this.modified?[new L(this.modified,this.lengthBefore,B),new L(this.modified,v.xl,y)]:[new L(this.modified,B,B),new L(this.modified,y,y)]}toString(){return`${this.modified?"M":"U"}:${(0,v.Hw)(this.lengthBefore)} -> ${(0,v.Hw)(this.lengthAfter)}`}}function T(M){const B=[];let y=v.xl;for(const b of M){const C=(0,v.BE)(y,b.startOffset);(0,v.xd)(C)||B.push(new L(!1,C,C));const S=(0,v.BE)(b.startOffset,b.endOffset);B.push(new L(!0,S,b.newLength)),y=b.endOffset}return B}},94098:function(Gt,ze,c){"use strict";c.d(ze,{BE:function(){return u},By:function(){return O},F_:function(){return C},Hg:function(){return B},Hw:function(){return y},Ii:function(){return S},OE:function(){return v},PZ:function(){return V},Qw:function(){return F},VR:function(){return N},W9:function(){return b},Zq:function(){return R},av:function(){return k},oR:function(){return Y},rM:function(){return a},tQ:function(){return _},xd:function(){return T},xl:function(){return L}});var D=c(80360),X=c(54125);class v{constructor(Z,ne){this.lineCount=Z,this.columnCount=ne}toString(){return`${this.lineCount},${this.columnCount}`}}v.zero=new v(0,0);function k(G,Z,ne,$){return G!==ne?B(ne-G,$):B(0,$-Z)}const L=0;function T(G){return G===0}const M=_d(2,26);function B(G,Z){return G*M+Z}function y(G){const Z=G,ne=Math.floor(Z/M),$=Z-ne*M;return new v(ne,$)}function b(G){return Math.floor(G/M)}function C(G){return G}function S(G,Z){let ne=G+Z;return Z>=M&&(ne=ne-G%M),ne}function _(G,Z){return G.reduce((ne,$)=>S(ne,Z($)),L)}function a(G,Z){return G===Z}function u(G,Z){const ne=G,$=Z;if($-ne<=0)return L;const se=Math.floor(ne/M),re=Math.floor($/M),he=$-re*M;if(se===re){const H=ne-se*M;return B(0,he-H)}else return B(re-se,he)}function N(G,Z){return G<Z}function O(G,Z){return G<=Z}function R(G,Z){return G>=Z}function V(G){return B(G.lineNumber-1,G.column-1)}function F(G,Z){const ne=G,$=Math.floor(ne/M),J=ne-$*M,se=Z,re=Math.floor(se/M),he=se-re*M;return new X.e($+1,J+1,re+1,he+1)}function Y(G){const Z=(0,D.uq)(G);return B(Z.length-1,Z[Z.length-1].length)}},56288:function(Gt,ze,c){"use strict";c.d(ze,{w:function(){return a}});var D=c(55405),X=c(90711),v=c(46437),k=c(94098);function L(N){if(N.length===0)return null;if(N.length===1)return N[0];let O=0;function R(){if(O>=N.length)return null;const G=O,Z=N[G].listHeight;for(O++;O<N.length&&N[O].listHeight===Z;)O++;return O-G>=2?T(G===0&&O===N.length?N:N.slice(G,O),!1):N[G]}let V=R(),F=R();if(!F)return V;for(let G=R();G;G=R())M(V,F)<=M(F,G)?(V=B(V,F),F=G):F=B(F,G);return B(V,F)}function T(N,O=!1){if(N.length===0)return null;if(N.length===1)return N[0];let R=N.length;for(;R>3;){const V=R>>1;for(let F=0;F<V;F++){const Y=F<<1;N[F]=D.Y0.create23(N[Y],N[Y+1],Y+3===R?N[Y+2]:null,O)}R=V}return D.Y0.create23(N[0],N[1],R>=3?N[2]:null,O)}function M(N,O){return Math.abs(N.listHeight-O.listHeight)}function B(N,O){return N.listHeight===O.listHeight?D.Y0.create23(N,O,null,!1):N.listHeight>O.listHeight?y(N,O):b(O,N)}function y(N,O){N=N.toMutable();let R=N;const V=[];let F;for(;;){if(O.listHeight===R.listHeight){F=O;break}if(R.kind!==4)throw new Error("unexpected");V.push(R),R=R.makeLastElementMutable()}for(let Y=V.length-1;Y>=0;Y--){const G=V[Y];F?G.childrenLength>=3?F=D.Y0.create23(G.unappendChild(),F,null,!1):(G.appendChildOfSameHeight(F),F=void 0):G.handleChildrenChanged()}return F?D.Y0.create23(N,F,null,!1):N}function b(N,O){N=N.toMutable();let R=N;const V=[];for(;O.listHeight!==R.listHeight;){if(R.kind!==4)throw new Error("unexpected");V.push(R),R=R.makeFirstElementMutable()}let F=O;for(let Y=V.length-1;Y>=0;Y--){const G=V[Y];F?G.childrenLength>=3?F=D.Y0.create23(F,G.unprependChild(),null,!1):(G.prependChildOfSameHeight(F),F=void 0):G.handleChildrenChanged()}return F?D.Y0.create23(F,N,null,!1):N}class C{constructor(O){this.lastOffset=k.xl,this.nextNodes=[O],this.offsets=[k.xl],this.idxs=[]}readLongestNodeAt(O,R){if((0,k.VR)(O,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=O;;){const V=_(this.nextNodes);if(!V)return;const F=_(this.offsets);if((0,k.VR)(O,F))return;if((0,k.VR)(F,O))if((0,k.Ii)(F,V.length)<=O)this.nextNodeAfterCurrent();else{const Y=S(V);Y!==-1?(this.nextNodes.push(V.getChild(Y)),this.offsets.push(F),this.idxs.push(Y)):this.nextNodeAfterCurrent()}else{if(R(V))return this.nextNodeAfterCurrent(),V;{const Y=S(V);if(Y===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(V.getChild(Y)),this.offsets.push(F),this.idxs.push(Y)}}}}nextNodeAfterCurrent(){for(;;){const O=_(this.offsets),R=_(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const V=_(this.nextNodes),F=S(V,this.idxs[this.idxs.length-1]);if(F!==-1){this.nextNodes.push(V.getChild(F)),this.offsets.push((0,k.Ii)(O,R.length)),this.idxs[this.idxs.length-1]=F;break}else this.idxs.pop()}}}function S(N,O=-1){for(;;){if(O++,O>=N.childrenLength)return-1;if(N.getChild(O))return O}}function _(N){return N.length>0?N[N.length-1]:void 0}function a(N,O,R,V){return new u(N,O,R,V).parseDocument()}class u{constructor(O,R,V,F){if(this.tokenizer=O,this.createImmutableLists=F,this._itemsConstructed=0,this._itemsFromCache=0,V&&F)throw new Error("Not supported");this.oldNodeReader=V?new C(V):void 0,this.positionMapper=new X.Y(R)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let O=this.parseList(v.tS.getEmpty(),0);return O||(O=D.Y0.getEmpty()),O}parseList(O,R){const V=[];for(;;){let Y=this.tryReadChildFromCache(O);if(!Y){const G=this.tokenizer.peek();if(!G||G.kind===2&&G.bracketIds.intersects(O))break;Y=this.parseChild(O,R+1)}Y.kind===4&&Y.childrenLength===0||V.push(Y)}return this.oldNodeReader?L(V):T(V,this.createImmutableLists)}tryReadChildFromCache(O){if(this.oldNodeReader){const R=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(R===null||!(0,k.xd)(R)){const V=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),F=>R!==null&&!(0,k.VR)(F.length,R)?!1:F.canBeReused(O));if(V)return this._itemsFromCache++,this.tokenizer.skip(V.length),V}}}parseChild(O,R){this._itemsConstructed++;const V=this.tokenizer.read();switch(V.kind){case 2:return new D.Dm(V.bracketIds,V.length);case 0:return V.astNode;case 1:{if(R>300)return new D.BH(V.length);const F=O.merge(V.bracketIds),Y=this.parseList(F,R+1),G=this.tokenizer.peek();return G&&G.kind===2&&(G.bracketId===V.bracketId||G.bracketIds.intersects(V.bracketIds))?(this.tokenizer.read(),D.Kd.create(V.astNode,Y,G.astNode)):D.Kd.create(V.astNode,Y,null)}default:throw new Error("unexpected")}}}},46437:function(Gt,ze,c){"use strict";c.d(ze,{FE:function(){return k},Qw:function(){return v},tS:function(){return X}});const D=[];class X{static create(T,M){if(T<=128&&M.length===0){let B=X.cache[T];return B||(B=new X(T,M),X.cache[T]=B),B}return new X(T,M)}static getEmpty(){return this.empty}constructor(T,M){this.items=T,this.additionalItems=M}add(T,M){const B=M.getKey(T);let y=B>>5;if(y===0){const C=1<<B|this.items;return C===this.items?this:X.create(C,this.additionalItems)}y--;const b=this.additionalItems.slice(0);for(;b.length<y;)b.push(0);return b[y]|=1<<(B&31),X.create(this.items,b)}merge(T){const M=this.items|T.items;if(this.additionalItems===D&&T.additionalItems===D)return M===this.items?this:M===T.items?T:X.create(M,D);const B=[];for(let y=0;y<Math.max(this.additionalItems.length,T.additionalItems.length);y++){const b=this.additionalItems[y]||0,C=T.additionalItems[y]||0;B.push(b|C)}return X.create(M,B)}intersects(T){if(this.items&T.items)return!0;for(let M=0;M<Math.min(this.additionalItems.length,T.additionalItems.length);M++)if(this.additionalItems[M]&T.additionalItems[M])return!0;return!1}}X.cache=new Array(129),X.empty=X.create(0,D);const v={getKey(L){return L}};class k{constructor(){this.items=new Map}getKey(T){let M=this.items.get(T);return M===void 0&&(M=this.items.size,this.items.set(T,M)),M}}},61795:function(Gt,ze,c){"use strict";c.d(ze,{WU:function(){return T},g:function(){return y},xH:function(){return M}});var D=c(35541),X=c(39782),v=c(55405),k=c(94098),L=c(46437);class T{constructor(C,S,_,a,u){this.length=C,this.kind=S,this.bracketId=_,this.bracketIds=a,this.astNode=u}}class M{constructor(C,S){this.textModel=C,this.bracketTokens=S,this.reader=new B(this.textModel,this.bracketTokens),this._offset=k.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=C.getLineCount(),this.textBufferLastLineLength=C.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,k.Hg)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(C){this.didPeek=!1,this._offset=(0,k.Ii)(this._offset,C);const S=(0,k.Hw)(this._offset);this.reader.setPosition(S.lineCount,S.columnCount)}read(){let C;return this.peeked?(this.didPeek=!1,C=this.peeked):C=this.reader.read(),C&&(this._offset=(0,k.Ii)(this._offset,C.length)),C}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class B{constructor(C,S){this.textModel=C,this.bracketTokens=S,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=C.getLineCount(),this.textBufferLastLineLength=C.getLineLength(this.textBufferLineCount)}setPosition(C,S){C===this.lineIdx?(this.lineCharOffset=S,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=C,this.lineCharOffset=S,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const u=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,k.F_)(u.length),u}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const C=this.lineIdx,S=this.lineCharOffset;let _=0;for(;;){const u=this.lineTokens,N=u.getCount();let O=null;if(this.lineTokenOffset<N){const R=u.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<N&&R===u.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const V=X.N.getTokenType(R)===0,F=X.N.containsBalancedBrackets(R),Y=u.getEndOffset(this.lineTokenOffset);if(F&&V&&this.lineCharOffset<Y){const G=u.getLanguageId(this.lineTokenOffset),Z=this.line.substring(this.lineCharOffset,Y),ne=this.bracketTokens.getSingleLanguageBracketTokens(G),$=ne.regExpGlobal;if($){$.lastIndex=0;const J=$.exec(Z);J&&(O=ne.getToken(J[0]),O&&(this.lineCharOffset+=J.index))}}if(_+=Y-this.lineCharOffset,O)if(C!==this.lineIdx||S!==this.lineCharOffset){this.peekedToken=O;break}else return this.lineCharOffset+=(0,k.F_)(O.length),O;else this.lineTokenOffset++,this.lineCharOffset=Y}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,_+=33,_>1e3))break;if(_>1500)break}const a=(0,k.av)(C,S,this.lineIdx,this.lineCharOffset);return new T(a,0,-1,L.tS.getEmpty(),new v.BH(a))}}class y{constructor(C,S){this.text=C,this._offset=k.xl,this.idx=0;const _=S.getRegExpStr(),a=_?new RegExp(_+`|
`,"gi"):null,u=[];let N,O=0,R=0,V=0,F=0;const Y=[];for(let ne=0;ne<60;ne++)Y.push(new T((0,k.Hg)(0,ne),0,-1,L.tS.getEmpty(),new v.BH((0,k.Hg)(0,ne))));const G=[];for(let ne=0;ne<60;ne++)G.push(new T((0,k.Hg)(1,ne),0,-1,L.tS.getEmpty(),new v.BH((0,k.Hg)(1,ne))));if(a)for(a.lastIndex=0;(N=a.exec(C))!==null;){const ne=N.index,$=N[0];if($===`
`)O++,R=ne+1;else{if(V!==ne){let J;if(F===O){const se=ne-V;if(se<Y.length)J=Y[se];else{const re=(0,k.Hg)(0,se);J=new T(re,0,-1,L.tS.getEmpty(),new v.BH(re))}}else{const se=O-F,re=ne-R;if(se===1&&re<G.length)J=G[re];else{const he=(0,k.Hg)(se,re);J=new T(he,0,-1,L.tS.getEmpty(),new v.BH(he))}}u.push(J)}u.push(S.getToken($)),V=ne+$.length,F=O}}const Z=C.length;if(V!==Z){const ne=F===O?(0,k.Hg)(0,Z-V):(0,k.Hg)(O-F,Z-R);u.push(new T(ne,0,-1,L.tS.getEmpty(),new v.BH(ne)))}this.length=(0,k.Hg)(O,Z-R),this.tokens=u}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(C){throw new D.B8}}},61122:function(Gt,ze,c){"use strict";c.d(ze,{NL:function(){return a},e9:function(){return _}});var D=c(18493),X=c(35541),v=c(37753),k=c(6685),L=c(35276),T=c(49159),M=c(94286);function B(u){return u.toString()}class y{static create(N,O){const R=N.getAlternativeVersionId(),V=S(N);return new y(R,R,V,V,O,O,[])}constructor(N,O,R,V,F,Y,G){this.beforeVersionId=N,this.afterVersionId=O,this.beforeEOL=R,this.afterEOL=V,this.beforeCursorState=F,this.afterCursorState=Y,this.changes=G}append(N,O,R,V,F){O.length>0&&(this.changes=(0,L.b)(this.changes,O)),this.afterEOL=R,this.afterVersionId=V,this.afterCursorState=F}static _writeSelectionsSize(N){return 4+4*4*(N?N.length:0)}static _writeSelections(N,O,R){if(T.T4(N,O?O.length:0,R),R+=4,O)for(const V of O)T.T4(N,V.selectionStartLineNumber,R),R+=4,T.T4(N,V.selectionStartColumn,R),R+=4,T.T4(N,V.positionLineNumber,R),R+=4,T.T4(N,V.positionColumn,R),R+=4;return R}static _readSelections(N,O,R){const V=T.Ag(N,O);O+=4;for(let F=0;F<V;F++){const Y=T.Ag(N,O);O+=4;const G=T.Ag(N,O);O+=4;const Z=T.Ag(N,O);O+=4;const ne=T.Ag(N,O);O+=4,R.push(new v.Y(Y,G,Z,ne))}return O}serialize(){let N=10+y._writeSelectionsSize(this.beforeCursorState)+y._writeSelectionsSize(this.afterCursorState)+4;for(const V of this.changes)N+=V.writeSize();const O=new Uint8Array(N);let R=0;T.T4(O,this.beforeVersionId,R),R+=4,T.T4(O,this.afterVersionId,R),R+=4,T.Cg(O,this.beforeEOL,R),R+=1,T.Cg(O,this.afterEOL,R),R+=1,R=y._writeSelections(O,this.beforeCursorState,R),R=y._writeSelections(O,this.afterCursorState,R),T.T4(O,this.changes.length,R),R+=4;for(const V of this.changes)R=V.write(O,R);return O.buffer}static deserialize(N){const O=new Uint8Array(N);let R=0;const V=T.Ag(O,R);R+=4;const F=T.Ag(O,R);R+=4;const Y=T.Q$(O,R);R+=1;const G=T.Q$(O,R);R+=1;const Z=[];R=y._readSelections(O,R,Z);const ne=[];R=y._readSelections(O,R,ne);const $=T.Ag(O,R);R+=4;const J=[];for(let se=0;se<$;se++)R=L.q.read(O,R,J);return new y(V,F,Y,G,Z,ne,J)}}class b{get type(){return 0}get resource(){return k.o.isUri(this.model)?this.model:this.model.uri}constructor(N,O,R,V){this.label=N,this.code=O,this.model=R,this._data=y.create(R,V)}toString(){return(this._data instanceof y?this._data:y.deserialize(this._data)).changes.map(O=>O.toString()).join(", ")}matchesResource(N){return(k.o.isUri(this.model)?this.model:this.model.uri).toString()===N.toString()}setModel(N){this.model=N}canAppend(N){return this.model===N&&this._data instanceof y}append(N,O,R,V,F){this._data instanceof y&&this._data.append(N,O,R,V,F)}close(){this._data instanceof y&&(this._data=this._data.serialize())}open(){this._data instanceof y||(this._data=y.deserialize(this._data))}undo(){if(k.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof y&&(this._data=this._data.serialize());const N=y.deserialize(this._data);this.model._applyUndo(N.changes,N.beforeEOL,N.beforeVersionId,N.beforeCursorState)}redo(){if(k.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof y&&(this._data=this._data.serialize());const N=y.deserialize(this._data);this.model._applyRedo(N.changes,N.afterEOL,N.afterVersionId,N.afterCursorState)}heapSize(){return this._data instanceof y&&(this._data=this._data.serialize()),this._data.byteLength+168}}class C{get resources(){return this._editStackElementsArr.map(N=>N.resource)}constructor(N,O,R){this.label=N,this.code=O,this.type=1,this._isOpen=!0,this._editStackElementsArr=R.slice(0),this._editStackElementsMap=new Map;for(const V of this._editStackElementsArr){const F=B(V.resource);this._editStackElementsMap.set(F,V)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(N){const O=B(N);return this._editStackElementsMap.has(O)}setModel(N){const O=B(k.o.isUri(N)?N:N.uri);this._editStackElementsMap.has(O)&&this._editStackElementsMap.get(O).setModel(N)}canAppend(N){if(!this._isOpen)return!1;const O=B(N.uri);return this._editStackElementsMap.has(O)?this._editStackElementsMap.get(O).canAppend(N):!1}append(N,O,R,V,F){const Y=B(N.uri);this._editStackElementsMap.get(Y).append(N,O,R,V,F)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const N of this._editStackElementsArr)N.undo()}redo(){for(const N of this._editStackElementsArr)N.redo()}heapSize(N){const O=B(N);return this._editStackElementsMap.has(O)?this._editStackElementsMap.get(O).heapSize():0}split(){return this._editStackElementsArr}toString(){const N=[];for(const O of this._editStackElementsArr)N.push(`${(0,M.EZ)(O.resource)}: ${O}`);return`{${N.join(", ")}}`}}function S(u){return u.getEOL()===`
`?0:1}function _(u){return u?u instanceof b||u instanceof C:!1}class a{constructor(N,O){this._model=N,this._undoRedoService=O}pushStackElement(){const N=this._undoRedoService.getLastElement(this._model.uri);_(N)&&N.close()}popStackElement(){const N=this._undoRedoService.getLastElement(this._model.uri);_(N)&&N.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(N,O){const R=this._undoRedoService.getLastElement(this._model.uri);if(_(R)&&R.canAppend(this._model))return R;const V=new b(D.NC("edit","Typing"),"undoredo.textBufferEdit",this._model,N);return this._undoRedoService.pushElement(V,O),V}pushEOL(N){const O=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(N),O.append(this._model,[],S(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(N,O,R,V){const F=this._getOrCreateEditStackElement(N,V),Y=this._model.applyEdits(O,!0),G=a._computeCursorState(R,Y),Z=Y.map((ne,$)=>({index:$,textChange:ne.textChange}));return Z.sort((ne,$)=>ne.textChange.oldPosition===$.textChange.oldPosition?ne.index-$.index:ne.textChange.oldPosition-$.textChange.oldPosition),F.append(this._model,Z.map(ne=>ne.textChange),S(this._model),this._model.getAlternativeVersionId(),G),G}static _computeCursorState(N,O){try{return N?N(O):null}catch(R){return(0,X.dL)(R),null}}}},87550:function(Gt,ze,c){"use strict";c.d(ze,{W:function(){return b},l:function(){return y}});var D=c(99637),X=c(80360),v=c(41498),k=c(54125),L=c(65057),T=c(56384),M=c(1912),B=c(35541);class y extends L.U{constructor(S,_){super(),this.textModel=S,this.languageConfigurationService=_}getLanguageConfiguration(S){return this.languageConfigurationService.getLanguageConfiguration(S)}_computeIndentLevel(S){return(0,T.q)(this.textModel.getLineContent(S+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(S,_,a){this.assertNotDisposed();const u=this.textModel.getLineCount();if(S<1||S>u)throw new B.he("Illegal value for lineNumber");const N=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,O=!!(N&&N.offSide);let R=-2,V=-1,F=-2,Y=-1;const G=ie=>{if(R!==-1&&(R===-2||R>ie-1)){R=-1,V=-1;for(let ce=ie-2;ce>=0;ce--){const _e=this._computeIndentLevel(ce);if(_e>=0){R=ce,V=_e;break}}}if(F===-2){F=-1,Y=-1;for(let ce=ie;ce<u;ce++){const _e=this._computeIndentLevel(ce);if(_e>=0){F=ce,Y=_e;break}}}};let Z=-2,ne=-1,$=-2,J=-1;const se=ie=>{if(Z===-2){Z=-1,ne=-1;for(let ce=ie-2;ce>=0;ce--){const _e=this._computeIndentLevel(ce);if(_e>=0){Z=ce,ne=_e;break}}}if($!==-1&&($===-2||$<ie-1)){$=-1,J=-1;for(let ce=ie;ce<u;ce++){const _e=this._computeIndentLevel(ce);if(_e>=0){$=ce,J=_e;break}}}};let re=0,he=!0,H=0,P=!0,j=0,K=0;for(let ie=0;he||P;ie++){const ce=S-ie,_e=S+ie;ie>1&&(ce<1||ce<_)&&(he=!1),ie>1&&(_e>u||_e>a)&&(P=!1),ie>5e4&&(he=!1,P=!1);let Ee=-1;if(he&&ce>=1){const pe=this._computeIndentLevel(ce-1);pe>=0?(F=ce-1,Y=pe,Ee=Math.ceil(pe/this.textModel.getOptions().indentSize)):(G(ce),Ee=this._getIndentLevelForWhitespaceLine(O,V,Y))}let Ce=-1;if(P&&_e<=u){const pe=this._computeIndentLevel(_e-1);pe>=0?(Z=_e-1,ne=pe,Ce=Math.ceil(pe/this.textModel.getOptions().indentSize)):(se(_e),Ce=this._getIndentLevelForWhitespaceLine(O,ne,J))}if(ie===0){K=Ee;continue}if(ie===1){if(_e<=u&&Ce>=0&&K+1===Ce){he=!1,re=_e,H=_e,j=Ce;continue}if(ce>=1&&Ee>=0&&Ee-1===K){P=!1,re=ce,H=ce,j=Ee;continue}if(re=S,H=S,j=K,j===0)return{startLineNumber:re,endLineNumber:H,indent:j}}he&&(Ee>=j?re=ce:he=!1),P&&(Ce>=j?H=_e:P=!1)}return{startLineNumber:re,endLineNumber:H,indent:j}}getLinesBracketGuides(S,_,a,u){var N;const O=[];for(let Z=S;Z<=_;Z++)O.push([]);const R=!0,V=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new k.e(S,1,_,this.textModel.getLineMaxColumn(_))).toArray();let F;if(a&&V.length>0){const Z=(S<=a.lineNumber&&a.lineNumber<=_?V:this.textModel.bracketPairs.getBracketPairsInRange(k.e.fromPositions(a)).toArray()).filter(ne=>k.e.strictContainsPosition(ne.range,a));F=(N=(0,D.dF)(Z,ne=>R||ne.range.startLineNumber!==ne.range.endLineNumber))===null||N===void 0?void 0:N.range}const Y=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,G=new b;for(const Z of V){if(!Z.closingBracketRange)continue;const ne=F&&Z.range.equalsRange(F);if(!ne&&!u.includeInactive)continue;const $=G.getInlineClassName(Z.nestingLevel,Z.nestingLevelOfEqualBracketType,Y)+(u.highlightActive&&ne?" "+G.activeClassName:""),J=Z.openingBracketRange.getStartPosition(),se=Z.closingBracketRange.getStartPosition(),re=u.horizontalGuides===M.s6.Enabled||u.horizontalGuides===M.s6.EnabledForActive&&ne;if(Z.range.startLineNumber===Z.range.endLineNumber){R&&re&&O[Z.range.startLineNumber-S].push(new M.UO(-1,Z.openingBracketRange.getEndPosition().column,$,new M.vW(!1,se.column),-1,-1));continue}const he=this.getVisibleColumnFromPosition(se),H=this.getVisibleColumnFromPosition(Z.openingBracketRange.getStartPosition()),P=Math.min(H,he,Z.minVisibleColumnIndentation+1);let j=!1;X.LC(this.textModel.getLineContent(Z.closingBracketRange.startLineNumber))<Z.closingBracketRange.startColumn-1&&(j=!0);const ce=Math.max(J.lineNumber,S),_e=Math.min(se.lineNumber,_),Ee=j?1:0;for(let Ce=ce;Ce<_e+Ee;Ce++)O[Ce-S].push(new M.UO(P,-1,$,null,Ce===J.lineNumber?J.column:-1,Ce===se.lineNumber?se.column:-1));re&&(J.lineNumber>=S&&H>P&&O[J.lineNumber-S].push(new M.UO(P,-1,$,new M.vW(!1,J.column),-1,-1)),se.lineNumber<=_&&he>P&&O[se.lineNumber-S].push(new M.UO(P,-1,$,new M.vW(!j,se.column),-1,-1)))}for(const Z of O)Z.sort((ne,$)=>ne.visibleColumn-$.visibleColumn);return O}getVisibleColumnFromPosition(S){return v.i.visibleColumnFromColumn(this.textModel.getLineContent(S.lineNumber),S.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(S,_){this.assertNotDisposed();const a=this.textModel.getLineCount();if(S<1||S>a)throw new Error("Illegal value for startLineNumber");if(_<1||_>a)throw new Error("Illegal value for endLineNumber");const u=this.textModel.getOptions(),N=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,O=!!(N&&N.offSide),R=new Array(_-S+1);let V=-2,F=-1,Y=-2,G=-1;for(let Z=S;Z<=_;Z++){const ne=Z-S,$=this._computeIndentLevel(Z-1);if($>=0){V=Z-1,F=$,R[ne]=Math.ceil($/u.indentSize);continue}if(V===-2){V=-1,F=-1;for(let J=Z-2;J>=0;J--){const se=this._computeIndentLevel(J);if(se>=0){V=J,F=se;break}}}if(Y!==-1&&(Y===-2||Y<Z-1)){Y=-1,G=-1;for(let J=Z;J<a;J++){const se=this._computeIndentLevel(J);if(se>=0){Y=J,G=se;break}}}R[ne]=this._getIndentLevelForWhitespaceLine(O,F,G)}return R}_getIndentLevelForWhitespaceLine(S,_,a){const u=this.textModel.getOptions();return _===-1||a===-1?0:_<a?1+Math.floor(_/u.indentSize):_===a||S?Math.ceil(a/u.indentSize):1+Math.floor(a/u.indentSize)}}class b{constructor(){this.activeClassName="indent-active"}getInlineClassName(S,_,a){return this.getInlineClassNameOfLevel(a?_:S)}getInlineClassNameOfLevel(S){return`bracket-indent-guide lvl-${S%30}`}}},89442:function(Gt,ze,c){"use strict";c.d(ze,{Ck:function(){return k},oQ:function(){return v}});var D=c(54888),X=c(57684);class v{constructor(M){this.values=M,this.prefixSum=new Uint32Array(M.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(M,B){M=(0,X.A)(M);const y=this.values,b=this.prefixSum,C=B.length;return C===0?!1:(this.values=new Uint32Array(y.length+C),this.values.set(y.subarray(0,M),0),this.values.set(y.subarray(M),M+C),this.values.set(B,M),M-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=M-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(b.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(M,B){return M=(0,X.A)(M),B=(0,X.A)(B),this.values[M]===B?!1:(this.values[M]=B,M-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=M-1),!0)}removeValues(M,B){M=(0,X.A)(M),B=(0,X.A)(B);const y=this.values,b=this.prefixSum;if(M>=y.length)return!1;const C=y.length-M;return B>=C&&(B=C),B===0?!1:(this.values=new Uint32Array(y.length-B),this.values.set(y.subarray(0,M),0),this.values.set(y.subarray(M+B),M),this.prefixSum=new Uint32Array(this.values.length),M-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=M-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(b.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(M){return M<0?0:(M=(0,X.A)(M),this._getPrefixSum(M))}_getPrefixSum(M){if(M<=this.prefixSumValidIndex[0])return this.prefixSum[M];let B=this.prefixSumValidIndex[0]+1;B===0&&(this.prefixSum[0]=this.values[0],B++),M>=this.values.length&&(M=this.values.length-1);for(let y=B;y<=M;y++)this.prefixSum[y]=this.prefixSum[y-1]+this.values[y];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],M),this.prefixSum[M]}getIndexOf(M){M=Math.floor(M),this.getTotalSum();let B=0,y=this.values.length-1,b=0,C=0,S=0;for(;B<=y;)if(b=B+(y-B)/2|0,C=this.prefixSum[b],S=C-this.values[b],M<S)y=b-1;else if(M>=C)B=b+1;else break;return new L(b,M-S)}}class k{constructor(M){this._values=M,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(M){return this._ensureValid(),M===0?0:this._prefixSum[M-1]}getIndexOf(M){this._ensureValid();const B=this._indexBySum[M],y=B>0?this._prefixSum[B-1]:0;return new L(B,M-y)}removeValues(M,B){this._values.splice(M,B),this._invalidate(M)}insertValues(M,B){this._values=(0,D.Zv)(this._values,M,B),this._invalidate(M)}_invalidate(M){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,M-1)}_ensureValid(){if(!this._isValid){for(let M=this._validEndIndex+1,B=this._values.length;M<B;M++){const y=this._values[M],b=M>0?this._prefixSum[M-1]:0;this._prefixSum[M]=b+y;for(let C=0;C<y;C++)this._indexBySum[b+C]=M}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(M,B){this._values[M]!==B&&(this._values[M]=B,this._invalidate(M))}}class L{constructor(M,B){this.index=M,this.remainder=B,this._prefixSumIndexOfResultBrand=void 0,this.index=M,this.remainder=B}}},44728:function(Gt,ze,c){"use strict";c.d(ze,{HS:function(){return kt},qx:function(){return ni},yO:function(){return Fs}});var D=c(54888),X=c(72225),v=c(35541),k=c(46328),L=c(83845),T=c(80360),M=c(6685),B=c(59013),y=c(88982),b=c(50838),C=c(79946),S=c(54125),_=c(37753),a=c(27519),u=c(57529),N=c(79993),O=c(74222),R=c(32777),V=c(90133);class F{constructor(E,W,Q,ue){this.range=E,this.nestingLevel=W,this.nestingLevelOfEqualBracketType=Q,this.isInvalid=ue}}class Y{constructor(E,W,Q,ue,ve,Oe){this.range=E,this.openingBracketRange=W,this.closingBracketRange=Q,this.nestingLevel=ue,this.nestingLevelOfEqualBracketType=ve,this.bracketPairNode=Oe}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class G extends Y{constructor(E,W,Q,ue,ve,Oe,We){super(E,W,Q,ue,ve,Oe),this.minVisibleColumnIndentation=We}}var Z=c(90711),ne=c(47022),$=c(94098),J=c(56288),se=c(46437),re=c(61795),he=c(88895);class H extends L.JT{didLanguageChange(E){return this.brackets.didLanguageChange(E)}constructor(E,W){if(super(),this.textModel=E,this.getLanguageConfiguration=W,this.didChangeEmitter=new k.Q5,this.denseKeyProvider=new se.FE,this.brackets=new ne.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],E.tokenization.hasTokens)E.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const Q=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),ue=new re.g(this.textModel.getValue(),Q);this.initialAstWithoutTokens=(0,J.w)(ue,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const E=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,E||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:E}){const W=E.map(Q=>new Z.Q((0,$.Hg)(Q.fromLineNumber-1,0),(0,$.Hg)(Q.toLineNumber,0),(0,$.Hg)(Q.toLineNumber-Q.fromLineNumber+1,0)));this.handleEdits(W,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(E){const W=Z.Q.fromModelContentChanges(E.changes);this.handleEdits(W,!1)}handleEdits(E,W){const Q=(0,he.o)(this.queuedTextEdits,E);this.queuedTextEdits=Q,this.initialAstWithoutTokens&&!W&&(this.queuedTextEditsForInitialAstWithoutTokens=(0,he.o)(this.queuedTextEditsForInitialAstWithoutTokens,E))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(E,W,Q){const ve=W,Oe=new re.xH(this.textModel,this.brackets);return(0,J.w)(Oe,E,ve,Q)}getBracketsInRange(E,W){this.flushQueue();const Q=(0,$.Hg)(E.startLineNumber-1,E.startColumn-1),ue=(0,$.Hg)(E.endLineNumber-1,E.endColumn-1);return new D.W$(ve=>{const Oe=this.initialAstWithoutTokens||this.astWithTokens;K(Oe,$.xl,Oe.length,Q,ue,ve,0,0,new Map,W)})}getBracketPairsInRange(E,W){this.flushQueue();const Q=(0,$.PZ)(E.getStartPosition()),ue=(0,$.PZ)(E.getEndPosition());return new D.W$(ve=>{const Oe=this.initialAstWithoutTokens||this.astWithTokens,We=new ie(ve,W,this.textModel);ce(Oe,$.xl,Oe.length,Q,ue,We,0,new Map)})}getFirstBracketAfter(E){this.flushQueue();const W=this.initialAstWithoutTokens||this.astWithTokens;return j(W,$.xl,W.length,(0,$.PZ)(E))}getFirstBracketBefore(E){this.flushQueue();const W=this.initialAstWithoutTokens||this.astWithTokens;return P(W,$.xl,W.length,(0,$.PZ)(E))}}function P(Je,E,W,Q){if(Je.kind===4||Je.kind===2){const ue=[];for(const ve of Je.children)W=(0,$.Ii)(E,ve.length),ue.push({nodeOffsetStart:E,nodeOffsetEnd:W}),E=W;for(let ve=ue.length-1;ve>=0;ve--){const{nodeOffsetStart:Oe,nodeOffsetEnd:We}=ue[ve];if((0,$.VR)(Oe,Q)){const et=P(Je.children[ve],Oe,We,Q);if(et)return et}}return null}else{if(Je.kind===3)return null;if(Je.kind===1){const ue=(0,$.Qw)(E,W);return{bracketInfo:Je.bracketInfo,range:ue}}}return null}function j(Je,E,W,Q){if(Je.kind===4||Je.kind===2){for(const ue of Je.children){if(W=(0,$.Ii)(E,ue.length),(0,$.VR)(Q,W)){const ve=j(ue,E,W,Q);if(ve)return ve}E=W}return null}else{if(Je.kind===3)return null;if(Je.kind===1){const ue=(0,$.Qw)(E,W);return{bracketInfo:Je.bracketInfo,range:ue}}}return null}function K(Je,E,W,Q,ue,ve,Oe,We,et,Fe,A=!1){if(Oe>200)return!0;e:for(;;)switch(Je.kind){case 4:{const q=Je.childrenLength;for(let fe=0;fe<q;fe++){const Pe=Je.getChild(fe);if(Pe){if(W=(0,$.Ii)(E,Pe.length),(0,$.By)(E,ue)&&(0,$.Zq)(W,Q)){if((0,$.Zq)(W,ue)){Je=Pe;continue e}if(!K(Pe,E,W,Q,ue,ve,Oe,0,et,Fe))return!1}E=W}}return!0}case 2:{const q=!Fe||!Je.closingBracket||Je.closingBracket.bracketInfo.closesColorized(Je.openingBracket.bracketInfo);let fe=0;if(et){let Ye=et.get(Je.openingBracket.text);Ye===void 0&&(Ye=0),fe=Ye,q&&(Ye++,et.set(Je.openingBracket.text,Ye))}const Pe=Je.childrenLength;for(let Ye=0;Ye<Pe;Ye++){const dt=Je.getChild(Ye);if(dt){if(W=(0,$.Ii)(E,dt.length),(0,$.By)(E,ue)&&(0,$.Zq)(W,Q)){if((0,$.Zq)(W,ue)&&dt.kind!==1){Je=dt,q?(Oe++,We=fe+1):We=fe;continue e}if((q||dt.kind!==1||!Je.closingBracket)&&!K(dt,E,W,Q,ue,ve,q?Oe+1:Oe,q?fe+1:fe,et,Fe,!Je.closingBracket))return!1}E=W}}return et==null||et.set(Je.openingBracket.text,fe),!0}case 3:{const q=(0,$.Qw)(E,W);return ve(new F(q,Oe-1,0,!0))}case 1:{const q=(0,$.Qw)(E,W);return ve(new F(q,Oe-1,We-1,A))}case 0:return!0}}class ie{constructor(E,W,Q){this.push=E,this.includeMinIndentation=W,this.textModel=Q}}function ce(Je,E,W,Q,ue,ve,Oe,We){var et;if(Oe>200)return!0;let Fe=!0;if(Je.kind===2){let A=0;if(We){let Pe=We.get(Je.openingBracket.text);Pe===void 0&&(Pe=0),A=Pe,Pe++,We.set(Je.openingBracket.text,Pe)}const q=(0,$.Ii)(E,Je.openingBracket.length);let fe=-1;if(ve.includeMinIndentation&&(fe=Je.computeMinIndentation(E,ve.textModel)),Fe=ve.push(new G((0,$.Qw)(E,W),(0,$.Qw)(E,q),Je.closingBracket?(0,$.Qw)((0,$.Ii)(q,((et=Je.child)===null||et===void 0?void 0:et.length)||$.xl),W):void 0,Oe,A,Je,fe)),E=q,Fe&&Je.child){const Pe=Je.child;if(W=(0,$.Ii)(E,Pe.length),(0,$.By)(E,ue)&&(0,$.Zq)(W,Q)&&(Fe=ce(Pe,E,W,Q,ue,ve,Oe+1,We),!Fe))return!1}We==null||We.set(Je.openingBracket.text,A)}else{let A=E;for(const q of Je.children){const fe=A;if(A=(0,$.Ii)(A,q.length),(0,$.By)(fe,ue)&&(0,$.By)(Q,A)&&(Fe=ce(q,fe,A,Q,ue,ve,Oe,We),!Fe))return!1}}return Fe}class _e extends L.JT{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(E,W){super(),this.textModel=E,this.languageConfigurationService=W,this.bracketPairsTree=this._register(new L.XK),this.onDidChangeEmitter=new k.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(Q=>{var ue;(!Q.languageId||!((ue=this.bracketPairsTree.value)===null||ue===void 0)&&ue.object.didLanguageChange(Q.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(E){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(E){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(E){var W;(W=this.bracketPairsTree.value)===null||W===void 0||W.object.handleContentChanged(E)}handleDidChangeBackgroundTokenizationState(){var E;(E=this.bracketPairsTree.value)===null||E===void 0||E.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(E){var W;(W=this.bracketPairsTree.value)===null||W===void 0||W.object.handleDidChangeTokens(E)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const E=new L.SL;this.bracketPairsTree.value=Ee(E.add(new H(this.textModel,W=>this.languageConfigurationService.getLanguageConfiguration(W))),E),E.add(this.bracketPairsTree.value.object.onDidChange(W=>this.onDidChangeEmitter.fire(W))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(E){var W;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((W=this.bracketPairsTree.value)===null||W===void 0?void 0:W.object.getBracketPairsInRange(E,!1))||D.W$.empty}getBracketPairsInRangeWithMinIndentation(E){var W;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((W=this.bracketPairsTree.value)===null||W===void 0?void 0:W.object.getBracketPairsInRange(E,!0))||D.W$.empty}getBracketsInRange(E,W=!1){var Q;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((Q=this.bracketPairsTree.value)===null||Q===void 0?void 0:Q.object.getBracketsInRange(E,W))||D.W$.empty}findMatchingBracketUp(E,W,Q){const ue=this.textModel.validatePosition(W),ve=this.textModel.getLanguageIdAtPosition(ue.lineNumber,ue.column);if(this.canBuildAST){const Oe=this.languageConfigurationService.getLanguageConfiguration(ve).bracketsNew.getClosingBracketInfo(E);if(!Oe)return null;const We=this.getBracketPairsInRange(S.e.fromPositions(W,W)).findLast(et=>Oe.closes(et.openingBracketInfo));return We?We.openingBracketRange:null}else{const Oe=E.toLowerCase(),We=this.languageConfigurationService.getLanguageConfiguration(ve).brackets;if(!We)return null;const et=We.textIsBracket[Oe];return et?xe(this._findMatchingBracketUp(et,ue,Ce(Q))):null}}matchBracket(E,W){if(this.canBuildAST){const Q=this.getBracketPairsInRange(S.e.fromPositions(E,E)).filter(ue=>ue.closingBracketRange!==void 0&&(ue.openingBracketRange.containsPosition(E)||ue.closingBracketRange.containsPosition(E))).findLastMaxBy((0,D.tT)(ue=>ue.openingBracketRange.containsPosition(E)?ue.openingBracketRange:ue.closingBracketRange,S.e.compareRangesUsingStarts));return Q?[Q.openingBracketRange,Q.closingBracketRange]:null}else{const Q=Ce(W);return this._matchBracket(this.textModel.validatePosition(E),Q)}}_establishBracketSearchOffsets(E,W,Q,ue){const ve=W.getCount(),Oe=W.getLanguageId(ue);let We=Math.max(0,E.column-1-Q.maxBracketLength);for(let Fe=ue-1;Fe>=0;Fe--){const A=W.getEndOffset(Fe);if(A<=We)break;if((0,R.Bu)(W.getStandardTokenType(Fe))||W.getLanguageId(Fe)!==Oe){We=A;break}}let et=Math.min(W.getLineContent().length,E.column-1+Q.maxBracketLength);for(let Fe=ue+1;Fe<ve;Fe++){const A=W.getStartOffset(Fe);if(A>=et)break;if((0,R.Bu)(W.getStandardTokenType(Fe))||W.getLanguageId(Fe)!==Oe){et=A;break}}return{searchStartOffset:We,searchEndOffset:et}}_matchBracket(E,W){const Q=E.lineNumber,ue=this.textModel.tokenization.getLineTokens(Q),ve=this.textModel.getLineContent(Q),Oe=ue.findTokenIndexAtOffset(E.column-1);if(Oe<0)return null;const We=this.languageConfigurationService.getLanguageConfiguration(ue.getLanguageId(Oe)).brackets;if(We&&!(0,R.Bu)(ue.getStandardTokenType(Oe))){let{searchStartOffset:et,searchEndOffset:Fe}=this._establishBracketSearchOffsets(E,ue,We,Oe),A=null;for(;;){const q=V.Vr.findNextBracketInRange(We.forwardRegex,Q,ve,et,Fe);if(!q)break;if(q.startColumn<=E.column&&E.column<=q.endColumn){const fe=ve.substring(q.startColumn-1,q.endColumn-1).toLowerCase(),Pe=this._matchFoundBracket(q,We.textIsBracket[fe],We.textIsOpenBracket[fe],W);if(Pe){if(Pe instanceof pe)return null;A=Pe}}et=q.endColumn-1}if(A)return A}if(Oe>0&&ue.getStartOffset(Oe)===E.column-1){const et=Oe-1,Fe=this.languageConfigurationService.getLanguageConfiguration(ue.getLanguageId(et)).brackets;if(Fe&&!(0,R.Bu)(ue.getStandardTokenType(et))){const{searchStartOffset:A,searchEndOffset:q}=this._establishBracketSearchOffsets(E,ue,Fe,et),fe=V.Vr.findPrevBracketInRange(Fe.reversedRegex,Q,ve,A,q);if(fe&&fe.startColumn<=E.column&&E.column<=fe.endColumn){const Pe=ve.substring(fe.startColumn-1,fe.endColumn-1).toLowerCase(),Ye=this._matchFoundBracket(fe,Fe.textIsBracket[Pe],Fe.textIsOpenBracket[Pe],W);if(Ye)return Ye instanceof pe?null:Ye}}}return null}_matchFoundBracket(E,W,Q,ue){if(!W)return null;const ve=Q?this._findMatchingBracketDown(W,E.getEndPosition(),ue):this._findMatchingBracketUp(W,E.getStartPosition(),ue);return ve?ve instanceof pe?ve:[E,ve]:null}_findMatchingBracketUp(E,W,Q){const ue=E.languageId,ve=E.reversedRegex;let Oe=-1,We=0;const et=(Fe,A,q,fe)=>{for(;;){if(Q&&++We%100===0&&!Q())return pe.INSTANCE;const Pe=V.Vr.findPrevBracketInRange(ve,Fe,A,q,fe);if(!Pe)break;const Ye=A.substring(Pe.startColumn-1,Pe.endColumn-1).toLowerCase();if(E.isOpen(Ye)?Oe++:E.isClose(Ye)&&Oe--,Oe===0)return Pe;fe=Pe.startColumn-1}return null};for(let Fe=W.lineNumber;Fe>=1;Fe--){const A=this.textModel.tokenization.getLineTokens(Fe),q=A.getCount(),fe=this.textModel.getLineContent(Fe);let Pe=q-1,Ye=fe.length,dt=fe.length;Fe===W.lineNumber&&(Pe=A.findTokenIndexAtOffset(W.column-1),Ye=W.column-1,dt=W.column-1);let St=!0;for(;Pe>=0;Pe--){const Bt=A.getLanguageId(Pe)===ue&&!(0,R.Bu)(A.getStandardTokenType(Pe));if(Bt)St?Ye=A.getStartOffset(Pe):(Ye=A.getStartOffset(Pe),dt=A.getEndOffset(Pe));else if(St&&Ye!==dt){const Ci=et(Fe,fe,Ye,dt);if(Ci)return Ci}St=Bt}if(St&&Ye!==dt){const Bt=et(Fe,fe,Ye,dt);if(Bt)return Bt}}return null}_findMatchingBracketDown(E,W,Q){const ue=E.languageId,ve=E.forwardRegex;let Oe=1,We=0;const et=(A,q,fe,Pe)=>{for(;;){if(Q&&++We%100===0&&!Q())return pe.INSTANCE;const Ye=V.Vr.findNextBracketInRange(ve,A,q,fe,Pe);if(!Ye)break;const dt=q.substring(Ye.startColumn-1,Ye.endColumn-1).toLowerCase();if(E.isOpen(dt)?Oe++:E.isClose(dt)&&Oe--,Oe===0)return Ye;fe=Ye.endColumn-1}return null},Fe=this.textModel.getLineCount();for(let A=W.lineNumber;A<=Fe;A++){const q=this.textModel.tokenization.getLineTokens(A),fe=q.getCount(),Pe=this.textModel.getLineContent(A);let Ye=0,dt=0,St=0;A===W.lineNumber&&(Ye=q.findTokenIndexAtOffset(W.column-1),dt=W.column-1,St=W.column-1);let Bt=!0;for(;Ye<fe;Ye++){const Ci=q.getLanguageId(Ye)===ue&&!(0,R.Bu)(q.getStandardTokenType(Ye));if(Ci)Bt||(dt=q.getStartOffset(Ye)),St=q.getEndOffset(Ye);else if(Bt&&dt!==St){const vi=et(A,Pe,dt,St);if(vi)return vi}Bt=Ci}if(Bt&&dt!==St){const Ci=et(A,Pe,dt,St);if(Ci)return Ci}}return null}findPrevBracket(E){var W;const Q=this.textModel.validatePosition(E);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((W=this.bracketPairsTree.value)===null||W===void 0?void 0:W.object.getFirstBracketBefore(Q))||null;let ue=null,ve=null,Oe=null;for(let We=Q.lineNumber;We>=1;We--){const et=this.textModel.tokenization.getLineTokens(We),Fe=et.getCount(),A=this.textModel.getLineContent(We);let q=Fe-1,fe=A.length,Pe=A.length;if(We===Q.lineNumber){q=et.findTokenIndexAtOffset(Q.column-1),fe=Q.column-1,Pe=Q.column-1;const dt=et.getLanguageId(q);ue!==dt&&(ue=dt,ve=this.languageConfigurationService.getLanguageConfiguration(ue).brackets,Oe=this.languageConfigurationService.getLanguageConfiguration(ue).bracketsNew)}let Ye=!0;for(;q>=0;q--){const dt=et.getLanguageId(q);if(ue!==dt){if(ve&&Oe&&Ye&&fe!==Pe){const Bt=V.Vr.findPrevBracketInRange(ve.reversedRegex,We,A,fe,Pe);if(Bt)return this._toFoundBracket(Oe,Bt);Ye=!1}ue=dt,ve=this.languageConfigurationService.getLanguageConfiguration(ue).brackets,Oe=this.languageConfigurationService.getLanguageConfiguration(ue).bracketsNew}const St=!!ve&&!(0,R.Bu)(et.getStandardTokenType(q));if(St)Ye?fe=et.getStartOffset(q):(fe=et.getStartOffset(q),Pe=et.getEndOffset(q));else if(Oe&&ve&&Ye&&fe!==Pe){const Bt=V.Vr.findPrevBracketInRange(ve.reversedRegex,We,A,fe,Pe);if(Bt)return this._toFoundBracket(Oe,Bt)}Ye=St}if(Oe&&ve&&Ye&&fe!==Pe){const dt=V.Vr.findPrevBracketInRange(ve.reversedRegex,We,A,fe,Pe);if(dt)return this._toFoundBracket(Oe,dt)}}return null}findNextBracket(E){var W;const Q=this.textModel.validatePosition(E);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((W=this.bracketPairsTree.value)===null||W===void 0?void 0:W.object.getFirstBracketAfter(Q))||null;const ue=this.textModel.getLineCount();let ve=null,Oe=null,We=null;for(let et=Q.lineNumber;et<=ue;et++){const Fe=this.textModel.tokenization.getLineTokens(et),A=Fe.getCount(),q=this.textModel.getLineContent(et);let fe=0,Pe=0,Ye=0;if(et===Q.lineNumber){fe=Fe.findTokenIndexAtOffset(Q.column-1),Pe=Q.column-1,Ye=Q.column-1;const St=Fe.getLanguageId(fe);ve!==St&&(ve=St,Oe=this.languageConfigurationService.getLanguageConfiguration(ve).brackets,We=this.languageConfigurationService.getLanguageConfiguration(ve).bracketsNew)}let dt=!0;for(;fe<A;fe++){const St=Fe.getLanguageId(fe);if(ve!==St){if(We&&Oe&&dt&&Pe!==Ye){const Ci=V.Vr.findNextBracketInRange(Oe.forwardRegex,et,q,Pe,Ye);if(Ci)return this._toFoundBracket(We,Ci);dt=!1}ve=St,Oe=this.languageConfigurationService.getLanguageConfiguration(ve).brackets,We=this.languageConfigurationService.getLanguageConfiguration(ve).bracketsNew}const Bt=!!Oe&&!(0,R.Bu)(Fe.getStandardTokenType(fe));if(Bt)dt||(Pe=Fe.getStartOffset(fe)),Ye=Fe.getEndOffset(fe);else if(We&&Oe&&dt&&Pe!==Ye){const Ci=V.Vr.findNextBracketInRange(Oe.forwardRegex,et,q,Pe,Ye);if(Ci)return this._toFoundBracket(We,Ci)}dt=Bt}if(We&&Oe&&dt&&Pe!==Ye){const St=V.Vr.findNextBracketInRange(Oe.forwardRegex,et,q,Pe,Ye);if(St)return this._toFoundBracket(We,St)}}return null}findEnclosingBrackets(E,W){const Q=this.textModel.validatePosition(E);if(this.canBuildAST){const Pe=S.e.fromPositions(Q),Ye=this.getBracketPairsInRange(S.e.fromPositions(Q,Q)).findLast(dt=>dt.closingBracketRange!==void 0&&dt.range.strictContainsRange(Pe));return Ye?[Ye.openingBracketRange,Ye.closingBracketRange]:null}const ue=Ce(W),ve=this.textModel.getLineCount(),Oe=new Map;let We=[];const et=(Pe,Ye)=>{if(!Oe.has(Pe)){const dt=[];for(let St=0,Bt=Ye?Ye.brackets.length:0;St<Bt;St++)dt[St]=0;Oe.set(Pe,dt)}We=Oe.get(Pe)};let Fe=0;const A=(Pe,Ye,dt,St,Bt)=>{for(;;){if(ue&&++Fe%100===0&&!ue())return pe.INSTANCE;const Ci=V.Vr.findNextBracketInRange(Pe.forwardRegex,Ye,dt,St,Bt);if(!Ci)break;const vi=dt.substring(Ci.startColumn-1,Ci.endColumn-1).toLowerCase(),zi=Pe.textIsBracket[vi];if(zi&&(zi.isOpen(vi)?We[zi.index]++:zi.isClose(vi)&&We[zi.index]--,We[zi.index]===-1))return this._matchFoundBracket(Ci,zi,!1,ue);St=Ci.endColumn-1}return null};let q=null,fe=null;for(let Pe=Q.lineNumber;Pe<=ve;Pe++){const Ye=this.textModel.tokenization.getLineTokens(Pe),dt=Ye.getCount(),St=this.textModel.getLineContent(Pe);let Bt=0,Ci=0,vi=0;if(Pe===Q.lineNumber){Bt=Ye.findTokenIndexAtOffset(Q.column-1),Ci=Q.column-1,vi=Q.column-1;const Gi=Ye.getLanguageId(Bt);q!==Gi&&(q=Gi,fe=this.languageConfigurationService.getLanguageConfiguration(q).brackets,et(q,fe))}let zi=!0;for(;Bt<dt;Bt++){const Gi=Ye.getLanguageId(Bt);if(q!==Gi){if(fe&&zi&&Ci!==vi){const Mi=A(fe,Pe,St,Ci,vi);if(Mi)return xe(Mi);zi=!1}q=Gi,fe=this.languageConfigurationService.getLanguageConfiguration(q).brackets,et(q,fe)}const Wi=!!fe&&!(0,R.Bu)(Ye.getStandardTokenType(Bt));if(Wi)zi||(Ci=Ye.getStartOffset(Bt)),vi=Ye.getEndOffset(Bt);else if(fe&&zi&&Ci!==vi){const Mi=A(fe,Pe,St,Ci,vi);if(Mi)return xe(Mi)}zi=Wi}if(fe&&zi&&Ci!==vi){const Gi=A(fe,Pe,St,Ci,vi);if(Gi)return xe(Gi)}}return null}_toFoundBracket(E,W){if(!W)return null;let Q=this.textModel.getValueInRange(W);Q=Q.toLowerCase();const ue=E.getBracketInfo(Q);return ue?{range:W,bracketInfo:ue}:null}}function Ee(Je,E){return{object:Je,dispose:()=>E==null?void 0:E.dispose()}}function Ce(Je){if(typeof Je=="undefined")return()=>!0;{const E=Date.now();return()=>Date.now()-E<=Je}}class pe{constructor(){this._searchCanceledBrand=void 0}}pe.INSTANCE=new pe;function xe(Je){return Je instanceof pe?null:Je}var x=c(76901),rt=c(27722);class Xe extends L.JT{constructor(E){super(),this.textModel=E,this.colorProvider=new Ze,this.onDidChangeEmitter=new k.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=E.getOptions().bracketPairColorizationOptions,this._register(E.bracketPairs.onDidChange(W=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(E){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(E,W,Q,ue){return ue?[]:W===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(E,!0).map(Oe=>({id:`bracket${Oe.range.toString()}-${Oe.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(Oe,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:Oe.range})).toArray():[]}getAllDecorations(E,W){return E===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new S.e(1,1,this.textModel.getLineCount(),1),E,W):[]}}class Ze{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(E,W){return E.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(W?E.nestingLevelOfEqualBracketType:E.nestingLevel)}getInlineClassNameOfLevel(E){return`bracket-highlighting-${E%30}`}}(0,rt.Ic)((Je,E)=>{const W=[x.zJ,x.Vs,x.CE,x.UP,x.r0,x.m1],Q=new Ze;E.addRule(`.monaco-editor .${Q.unexpectedClosingBracketClassName} { color: ${Je.getColor(x.ts)}; }`);const ue=W.map(ve=>Je.getColor(ve)).filter(ve=>!!ve).filter(ve=>!ve.isTransparent());for(let ve=0;ve<30;ve++){const Oe=ue[ve%ue.length];E.addRule(`.monaco-editor .${Q.getInlineClassNameOfLevel(ve)} { color: ${Oe}; }`)}});var lt=c(61122),ut=c(87550);class ct{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function He(Je,E,W,Q,ue){ue.spacesDiff=0,ue.looksLikeAlignment=!1;let ve;for(ve=0;ve<E&&ve<Q;ve++){const fe=Je.charCodeAt(ve),Pe=W.charCodeAt(ve);if(fe!==Pe)break}let Oe=0,We=0;for(let fe=ve;fe<E;fe++)Je.charCodeAt(fe)===32?Oe++:We++;let et=0,Fe=0;for(let fe=ve;fe<Q;fe++)W.charCodeAt(fe)===32?et++:Fe++;if(Oe>0&&We>0||et>0&&Fe>0)return;const A=Math.abs(We-Fe),q=Math.abs(Oe-et);if(A===0){ue.spacesDiff=q,q>0&&0<=et-1&&et-1<Je.length&&et<W.length&&W.charCodeAt(et)!==32&&Je.charCodeAt(et-1)===32&&Je.charCodeAt(Je.length-1)===44&&(ue.looksLikeAlignment=!0);return}if(q%A===0){ue.spacesDiff=q/A;return}}function Dt(Je,E,W){const Q=Math.min(Je.getLineCount(),1e4);let ue=0,ve=0,Oe="",We=0;const et=[2,4,6,8,3,5,7],Fe=8,A=[0,0,0,0,0,0,0,0,0],q=new ct;for(let Ye=1;Ye<=Q;Ye++){const dt=Je.getLineLength(Ye),St=Je.getLineContent(Ye),Bt=dt<=65536;let Ci=!1,vi=0,zi=0,Gi=0;for(let Mi=0,Oi=dt;Mi<Oi;Mi++){const Xi=Bt?St.charCodeAt(Mi):Je.getLineCharCode(Ye,Mi);if(Xi===9)Gi++;else if(Xi===32)zi++;else{Ci=!0,vi=Mi;break}}if(!Ci||(Gi>0?ue++:zi>1&&ve++,He(Oe,We,St,vi,q),q.looksLikeAlignment&&!(W&&E===q.spacesDiff)))continue;const Wi=q.spacesDiff;Wi<=Fe&&A[Wi]++,Oe=St,We=vi}let fe=W;ue!==ve&&(fe=ue<ve);let Pe=E;if(fe){let Ye=fe?0:.1*Q;et.forEach(dt=>{const St=A[dt];St>Ye&&(Ye=St,Pe=dt)}),Pe===4&&A[4]>0&&A[2]>0&&A[2]>=A[4]/2&&(Pe=2)}return{insertSpaces:fe,tabSize:Pe}}function gt(Je){return(Je.metadata&1)>>>0}function Re(Je,E){Je.metadata=Je.metadata&254|E<<0}function st(Je){return(Je.metadata&2)>>>1===1}function Tt(Je,E){Je.metadata=Je.metadata&253|(E?1:0)<<1}function xt(Je){return(Je.metadata&4)>>>2===1}function vt(Je,E){Je.metadata=Je.metadata&251|(E?1:0)<<2}function we(Je){return(Je.metadata&64)>>>6===1}function pt(Je,E){Je.metadata=Je.metadata&191|(E?1:0)<<6}function Mt(Je){return(Je.metadata&24)>>>3}function Ft(Je,E){Je.metadata=Je.metadata&231|E<<3}function Xt(Je){return(Je.metadata&32)>>>5===1}function li(Je,E){Je.metadata=Je.metadata&223|(E?1:0)<<5}class Yt{constructor(E,W,Q){this.metadata=0,this.parent=this,this.left=this,this.right=this,Re(this,1),this.start=W,this.end=Q,this.delta=0,this.maxEnd=Q,this.id=E,this.ownerId=0,this.options=null,vt(this,!1),pt(this,!1),Ft(this,1),li(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=W,this.cachedAbsoluteEnd=Q,this.range=null,Tt(this,!1)}reset(E,W,Q,ue){this.start=W,this.end=Q,this.maxEnd=Q,this.cachedVersionId=E,this.cachedAbsoluteStart=W,this.cachedAbsoluteEnd=Q,this.range=ue}setOptions(E){this.options=E;const W=this.options.className;vt(this,W==="squiggly-error"||W==="squiggly-warning"||W==="squiggly-info"),pt(this,this.options.glyphMarginClassName!==null),Ft(this,this.options.stickiness),li(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(E,W,Q){this.cachedVersionId!==Q&&(this.range=null),this.cachedVersionId=Q,this.cachedAbsoluteStart=E,this.cachedAbsoluteEnd=W}detach(){this.parent=null,this.left=null,this.right=null}}const Ne=new Yt(null,0,0);Ne.parent=Ne,Ne.left=Ne,Ne.right=Ne,Re(Ne,0);class yt{constructor(){this.root=Ne,this.requestNormalizeDelta=!1}intervalSearch(E,W,Q,ue,ve,Oe){return this.root===Ne?[]:jt(this,E,W,Q,ue,ve,Oe)}search(E,W,Q,ue){return this.root===Ne?[]:mt(this,E,W,Q,ue)}collectNodesFromOwner(E){return Pt(this,E)}collectNodesPostOrder(){return le(this)}insert(E){bi(this,E),this._normalizeDeltaIfNecessary()}delete(E){Ki(this,E),this._normalizeDeltaIfNecessary()}resolveNode(E,W){const Q=E;let ue=0;for(;E!==this.root;)E===E.parent.right&&(ue+=E.parent.delta),E=E.parent;const ve=Q.start+ue,Oe=Q.end+ue;Q.setCachedOffsets(ve,Oe,W)}acceptReplace(E,W,Q,ue){const ve=$i(this,E,E+W);for(let Oe=0,We=ve.length;Oe<We;Oe++){const et=ve[Oe];Ki(this,et)}this._normalizeDeltaIfNecessary(),wn(this,E,E+W,Q),this._normalizeDeltaIfNecessary();for(let Oe=0,We=ve.length;Oe<We;Oe++){const et=ve[Oe];et.start=et.cachedAbsoluteStart,et.end=et.cachedAbsoluteEnd,Ve(et,E,E+W,Q,ue),et.maxEnd=et.end,bi(this,et)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,De(this))}}function De(Je){let E=Je.root,W=0;for(;E!==Ne;){if(E.left!==Ne&&!st(E.left)){E=E.left;continue}if(E.right!==Ne&&!st(E.right)){W+=E.delta,E=E.right;continue}E.start=W+E.start,E.end=W+E.end,E.delta=0,Be(E),Tt(E,!0),Tt(E.left,!1),Tt(E.right,!1),E===E.parent.right&&(W-=E.parent.delta),E=E.parent}Tt(Je.root,!1)}function di(Je,E,W,Q){return Je<W?!0:Je>W||Q===1?!1:Q===2?!0:E}function Ve(Je,E,W,Q,ue){const ve=Mt(Je),Oe=ve===0||ve===2,We=ve===1||ve===2,et=W-E,Fe=Q,A=Math.min(et,Fe),q=Je.start;let fe=!1;const Pe=Je.end;let Ye=!1;E<=q&&Pe<=W&&Xt(Je)&&(Je.start=E,fe=!0,Je.end=E,Ye=!0);{const St=ue?1:et>0?2:0;!fe&&di(q,Oe,E,St)&&(fe=!0),!Ye&&di(Pe,We,E,St)&&(Ye=!0)}if(A>0&&!ue){const St=et>Fe?2:0;!fe&&di(q,Oe,E+A,St)&&(fe=!0),!Ye&&di(Pe,We,E+A,St)&&(Ye=!0)}{const St=ue?1:0;!fe&&di(q,Oe,W,St)&&(Je.start=E+Fe,fe=!0),!Ye&&di(Pe,We,W,St)&&(Je.end=E+Fe,Ye=!0)}const dt=Fe-et;fe||(Je.start=Math.max(0,q+dt)),Ye||(Je.end=Math.max(0,Pe+dt)),Je.start>Je.end&&(Je.end=Je.start)}function $i(Je,E,W){let Q=Je.root,ue=0,ve=0,Oe=0,We=0;const et=[];let Fe=0;for(;Q!==Ne;){if(st(Q)){Tt(Q.left,!1),Tt(Q.right,!1),Q===Q.parent.right&&(ue-=Q.parent.delta),Q=Q.parent;continue}if(!st(Q.left)){if(ve=ue+Q.maxEnd,ve<E){Tt(Q,!0);continue}if(Q.left!==Ne){Q=Q.left;continue}}if(Oe=ue+Q.start,Oe>W){Tt(Q,!0);continue}if(We=ue+Q.end,We>=E&&(Q.setCachedOffsets(Oe,We,0),et[Fe++]=Q),Tt(Q,!0),Q.right!==Ne&&!st(Q.right)){ue+=Q.delta,Q=Q.right;continue}}return Tt(Je.root,!1),et}function wn(Je,E,W,Q){let ue=Je.root,ve=0,Oe=0,We=0;const et=Q-(W-E);for(;ue!==Ne;){if(st(ue)){Tt(ue.left,!1),Tt(ue.right,!1),ue===ue.parent.right&&(ve-=ue.parent.delta),Be(ue),ue=ue.parent;continue}if(!st(ue.left)){if(Oe=ve+ue.maxEnd,Oe<E){Tt(ue,!0);continue}if(ue.left!==Ne){ue=ue.left;continue}}if(We=ve+ue.start,We>W){ue.start+=et,ue.end+=et,ue.delta+=et,(ue.delta<-1073741824||ue.delta>1073741824)&&(Je.requestNormalizeDelta=!0),Tt(ue,!0);continue}if(Tt(ue,!0),ue.right!==Ne&&!st(ue.right)){ve+=ue.delta,ue=ue.right;continue}}Tt(Je.root,!1)}function Pt(Je,E){let W=Je.root;const Q=[];let ue=0;for(;W!==Ne;){if(st(W)){Tt(W.left,!1),Tt(W.right,!1),W=W.parent;continue}if(W.left!==Ne&&!st(W.left)){W=W.left;continue}if(W.ownerId===E&&(Q[ue++]=W),Tt(W,!0),W.right!==Ne&&!st(W.right)){W=W.right;continue}}return Tt(Je.root,!1),Q}function le(Je){let E=Je.root;const W=[];let Q=0;for(;E!==Ne;){if(st(E)){Tt(E.left,!1),Tt(E.right,!1),E=E.parent;continue}if(E.left!==Ne&&!st(E.left)){E=E.left;continue}if(E.right!==Ne&&!st(E.right)){E=E.right;continue}W[Q++]=E,Tt(E,!0)}return Tt(Je.root,!1),W}function mt(Je,E,W,Q,ue){let ve=Je.root,Oe=0,We=0,et=0;const Fe=[];let A=0;for(;ve!==Ne;){if(st(ve)){Tt(ve.left,!1),Tt(ve.right,!1),ve===ve.parent.right&&(Oe-=ve.parent.delta),ve=ve.parent;continue}if(ve.left!==Ne&&!st(ve.left)){ve=ve.left;continue}We=Oe+ve.start,et=Oe+ve.end,ve.setCachedOffsets(We,et,Q);let q=!0;if(E&&ve.ownerId&&ve.ownerId!==E&&(q=!1),W&&xt(ve)&&(q=!1),ue&&!we(ve)&&(q=!1),q&&(Fe[A++]=ve),Tt(ve,!0),ve.right!==Ne&&!st(ve.right)){Oe+=ve.delta,ve=ve.right;continue}}return Tt(Je.root,!1),Fe}function jt(Je,E,W,Q,ue,ve,Oe){let We=Je.root,et=0,Fe=0,A=0,q=0;const fe=[];let Pe=0;for(;We!==Ne;){if(st(We)){Tt(We.left,!1),Tt(We.right,!1),We===We.parent.right&&(et-=We.parent.delta),We=We.parent;continue}if(!st(We.left)){if(Fe=et+We.maxEnd,Fe<E){Tt(We,!0);continue}if(We.left!==Ne){We=We.left;continue}}if(A=et+We.start,A>W){Tt(We,!0);continue}if(q=et+We.end,q>=E){We.setCachedOffsets(A,q,ve);let Ye=!0;Q&&We.ownerId&&We.ownerId!==Q&&(Ye=!1),ue&&xt(We)&&(Ye=!1),Oe&&!we(We)&&(Ye=!1),Ye&&(fe[Pe++]=We)}if(Tt(We,!0),We.right!==Ne&&!st(We.right)){et+=We.delta,We=We.right;continue}}return Tt(Je.root,!1),fe}function bi(Je,E){if(Je.root===Ne)return E.parent=Ne,E.left=Ne,E.right=Ne,Re(E,0),Je.root=E,Je.root;Ot(Je,E),Nt(E.parent);let W=E;for(;W!==Je.root&&gt(W.parent)===1;)if(W.parent===W.parent.parent.left){const Q=W.parent.parent.right;gt(Q)===1?(Re(W.parent,0),Re(Q,0),Re(W.parent.parent,1),W=W.parent.parent):(W===W.parent.right&&(W=W.parent,zt(Je,W)),Re(W.parent,0),Re(W.parent.parent,1),Qi(Je,W.parent.parent))}else{const Q=W.parent.parent.left;gt(Q)===1?(Re(W.parent,0),Re(Q,0),Re(W.parent.parent,1),W=W.parent.parent):(W===W.parent.left&&(W=W.parent,Qi(Je,W)),Re(W.parent,0),Re(W.parent.parent,1),zt(Je,W.parent.parent))}return Re(Je.root,0),E}function Ot(Je,E){let W=0,Q=Je.root;const ue=E.start,ve=E.end;for(;;)if(Ri(ue,ve,Q.start+W,Q.end+W)<0)if(Q.left===Ne){E.start-=W,E.end-=W,E.maxEnd-=W,Q.left=E;break}else Q=Q.left;else if(Q.right===Ne){E.start-=W+Q.delta,E.end-=W+Q.delta,E.maxEnd-=W+Q.delta,Q.right=E;break}else W+=Q.delta,Q=Q.right;E.parent=Q,E.left=Ne,E.right=Ne,Re(E,1)}function Ki(Je,E){let W,Q;if(E.left===Ne?(W=E.right,Q=E,W.delta+=E.delta,(W.delta<-1073741824||W.delta>1073741824)&&(Je.requestNormalizeDelta=!0),W.start+=E.delta,W.end+=E.delta):E.right===Ne?(W=E.left,Q=E):(Q=xi(E.right),W=Q.right,W.start+=Q.delta,W.end+=Q.delta,W.delta+=Q.delta,(W.delta<-1073741824||W.delta>1073741824)&&(Je.requestNormalizeDelta=!0),Q.start+=E.delta,Q.end+=E.delta,Q.delta=E.delta,(Q.delta<-1073741824||Q.delta>1073741824)&&(Je.requestNormalizeDelta=!0)),Q===Je.root){Je.root=W,Re(W,0),E.detach(),dn(),Be(W),Je.root.parent=Ne;return}const ue=gt(Q)===1;if(Q===Q.parent.left?Q.parent.left=W:Q.parent.right=W,Q===E?W.parent=Q.parent:(Q.parent===E?W.parent=Q:W.parent=Q.parent,Q.left=E.left,Q.right=E.right,Q.parent=E.parent,Re(Q,gt(E)),E===Je.root?Je.root=Q:E===E.parent.left?E.parent.left=Q:E.parent.right=Q,Q.left!==Ne&&(Q.left.parent=Q),Q.right!==Ne&&(Q.right.parent=Q)),E.detach(),ue){Nt(W.parent),Q!==E&&(Nt(Q),Nt(Q.parent)),dn();return}Nt(W),Nt(W.parent),Q!==E&&(Nt(Q),Nt(Q.parent));let ve;for(;W!==Je.root&&gt(W)===0;)W===W.parent.left?(ve=W.parent.right,gt(ve)===1&&(Re(ve,0),Re(W.parent,1),zt(Je,W.parent),ve=W.parent.right),gt(ve.left)===0&&gt(ve.right)===0?(Re(ve,1),W=W.parent):(gt(ve.right)===0&&(Re(ve.left,0),Re(ve,1),Qi(Je,ve),ve=W.parent.right),Re(ve,gt(W.parent)),Re(W.parent,0),Re(ve.right,0),zt(Je,W.parent),W=Je.root)):(ve=W.parent.left,gt(ve)===1&&(Re(ve,0),Re(W.parent,1),Qi(Je,W.parent),ve=W.parent.left),gt(ve.left)===0&&gt(ve.right)===0?(Re(ve,1),W=W.parent):(gt(ve.left)===0&&(Re(ve.right,0),Re(ve,1),zt(Je,ve),ve=W.parent.left),Re(ve,gt(W.parent)),Re(W.parent,0),Re(ve.left,0),Qi(Je,W.parent),W=Je.root));Re(W,0),dn()}function xi(Je){for(;Je.left!==Ne;)Je=Je.left;return Je}function dn(){Ne.parent=Ne,Ne.delta=0,Ne.start=0,Ne.end=0}function zt(Je,E){const W=E.right;W.delta+=E.delta,(W.delta<-1073741824||W.delta>1073741824)&&(Je.requestNormalizeDelta=!0),W.start+=E.delta,W.end+=E.delta,E.right=W.left,W.left!==Ne&&(W.left.parent=E),W.parent=E.parent,E.parent===Ne?Je.root=W:E===E.parent.left?E.parent.left=W:E.parent.right=W,W.left=E,E.parent=W,Be(E),Be(W)}function Qi(Je,E){const W=E.left;E.delta-=W.delta,(E.delta<-1073741824||E.delta>1073741824)&&(Je.requestNormalizeDelta=!0),E.start-=W.delta,E.end-=W.delta,E.left=W.right,W.right!==Ne&&(W.right.parent=E),W.parent=E.parent,E.parent===Ne?Je.root=W:E===E.parent.right?E.parent.right=W:E.parent.left=W,W.right=E,E.parent=W,Be(E),Be(W)}function ei(Je){let E=Je.end;if(Je.left!==Ne){const W=Je.left.maxEnd;W>E&&(E=W)}if(Je.right!==Ne){const W=Je.right.maxEnd+Je.delta;W>E&&(E=W)}return E}function Be(Je){Je.maxEnd=ei(Je)}function Nt(Je){for(;Je!==Ne;){const E=ei(Je);if(Je.maxEnd===E)return;Je.maxEnd=E,Je=Je.parent}}function Ri(Je,E,W,Q){return Je===W?E-Q:Je-W}class Fi{constructor(E,W){this.piece=E,this.color=W,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==hi)return En(this.right);let E=this;for(;E.parent!==hi&&E.parent.left!==E;)E=E.parent;return E.parent===hi?hi:E.parent}prev(){if(this.left!==hi)return bn(this.left);let E=this;for(;E.parent!==hi&&E.parent.right!==E;)E=E.parent;return E.parent===hi?hi:E.parent}detach(){this.parent=null,this.left=null,this.right=null}}const hi=new Fi(null,0);hi.parent=hi,hi.left=hi,hi.right=hi,hi.color=0;function En(Je){for(;Je.left!==hi;)Je=Je.left;return Je}function bn(Je){for(;Je.right!==hi;)Je=Je.right;return Je}function gn(Je){return Je===hi?0:Je.size_left+Je.piece.length+gn(Je.right)}function Bn(Je){return Je===hi?0:Je.lf_left+Je.piece.lineFeedCnt+Bn(Je.right)}function kn(){hi.parent=hi}function en(Je,E){const W=E.right;W.size_left+=E.size_left+(E.piece?E.piece.length:0),W.lf_left+=E.lf_left+(E.piece?E.piece.lineFeedCnt:0),E.right=W.left,W.left!==hi&&(W.left.parent=E),W.parent=E.parent,E.parent===hi?Je.root=W:E.parent.left===E?E.parent.left=W:E.parent.right=W,W.left=E,E.parent=W}function Jn(Je,E){const W=E.left;E.left=W.right,W.right!==hi&&(W.right.parent=E),W.parent=E.parent,E.size_left-=W.size_left+(W.piece?W.piece.length:0),E.lf_left-=W.lf_left+(W.piece?W.piece.lineFeedCnt:0),E.parent===hi?Je.root=W:E===E.parent.right?E.parent.right=W:E.parent.left=W,W.right=E,E.parent=W}function ys(Je,E){let W,Q;if(E.left===hi?(Q=E,W=Q.right):E.right===hi?(Q=E,W=Q.left):(Q=En(E.right),W=Q.right),Q===Je.root){Je.root=W,W.color=0,E.detach(),kn(),Je.root.parent=hi;return}const ue=Q.color===1;if(Q===Q.parent.left?Q.parent.left=W:Q.parent.right=W,Q===E?(W.parent=Q.parent,ps(Je,W)):(Q.parent===E?W.parent=Q:W.parent=Q.parent,ps(Je,W),Q.left=E.left,Q.right=E.right,Q.parent=E.parent,Q.color=E.color,E===Je.root?Je.root=Q:E===E.parent.left?E.parent.left=Q:E.parent.right=Q,Q.left!==hi&&(Q.left.parent=Q),Q.right!==hi&&(Q.right.parent=Q),Q.size_left=E.size_left,Q.lf_left=E.lf_left,ps(Je,Q)),E.detach(),W.parent.left===W){const Oe=gn(W),We=Bn(W);if(Oe!==W.parent.size_left||We!==W.parent.lf_left){const et=Oe-W.parent.size_left,Fe=We-W.parent.lf_left;W.parent.size_left=Oe,W.parent.lf_left=We,cs(Je,W.parent,et,Fe)}}if(ps(Je,W.parent),ue){kn();return}let ve;for(;W!==Je.root&&W.color===0;)W===W.parent.left?(ve=W.parent.right,ve.color===1&&(ve.color=0,W.parent.color=1,en(Je,W.parent),ve=W.parent.right),ve.left.color===0&&ve.right.color===0?(ve.color=1,W=W.parent):(ve.right.color===0&&(ve.left.color=0,ve.color=1,Jn(Je,ve),ve=W.parent.right),ve.color=W.parent.color,W.parent.color=0,ve.right.color=0,en(Je,W.parent),W=Je.root)):(ve=W.parent.left,ve.color===1&&(ve.color=0,W.parent.color=1,Jn(Je,W.parent),ve=W.parent.left),ve.left.color===0&&ve.right.color===0?(ve.color=1,W=W.parent):(ve.left.color===0&&(ve.right.color=0,ve.color=1,en(Je,ve),ve=W.parent.left),ve.color=W.parent.color,W.parent.color=0,ve.left.color=0,Jn(Je,W.parent),W=Je.root));W.color=0,kn()}function ds(Je,E){for(ps(Je,E);E!==Je.root&&E.parent.color===1;)if(E.parent===E.parent.parent.left){const W=E.parent.parent.right;W.color===1?(E.parent.color=0,W.color=0,E.parent.parent.color=1,E=E.parent.parent):(E===E.parent.right&&(E=E.parent,en(Je,E)),E.parent.color=0,E.parent.parent.color=1,Jn(Je,E.parent.parent))}else{const W=E.parent.parent.left;W.color===1?(E.parent.color=0,W.color=0,E.parent.parent.color=1,E=E.parent.parent):(E===E.parent.left&&(E=E.parent,Jn(Je,E)),E.parent.color=0,E.parent.parent.color=1,en(Je,E.parent.parent))}Je.root.color=0}function cs(Je,E,W,Q){for(;E!==Je.root&&E!==hi;)E.parent.left===E&&(E.parent.size_left+=W,E.parent.lf_left+=Q),E=E.parent}function ps(Je,E){let W=0,Q=0;if(E!==Je.root){for(;E!==Je.root&&E===E.parent.right;)E=E.parent;if(E!==Je.root)for(E=E.parent,W=gn(E.left)-E.size_left,Q=Bn(E.left)-E.lf_left,E.size_left+=W,E.lf_left+=Q;E!==Je.root&&(W!==0||Q!==0);)E.parent.left===E&&(E.parent.size_left+=W,E.parent.lf_left+=Q),E=E.parent}}var In=c(82333);const os=65535;function ui(Je){let E;return Je[Je.length-1]<65536?E=new Uint16Array(Je.length):E=new Uint32Array(Je.length),E.set(Je,0),E}class ke{constructor(E,W,Q,ue,ve){this.lineStarts=E,this.cr=W,this.lf=Q,this.crlf=ue,this.isBasicASCII=ve}}function Ke(Je,E=!0){const W=[0];let Q=1;for(let ue=0,ve=Je.length;ue<ve;ue++){const Oe=Je.charCodeAt(ue);Oe===13?ue+1<ve&&Je.charCodeAt(ue+1)===10?(W[Q++]=ue+2,ue++):W[Q++]=ue+1:Oe===10&&(W[Q++]=ue+1)}return E?ui(W):W}function Ue(Je,E){Je.length=0,Je[0]=0;let W=1,Q=0,ue=0,ve=0,Oe=!0;for(let et=0,Fe=E.length;et<Fe;et++){const A=E.charCodeAt(et);A===13?et+1<Fe&&E.charCodeAt(et+1)===10?(ve++,Je[W++]=et+2,et++):(Q++,Je[W++]=et+1):A===10?(ue++,Je[W++]=et+1):Oe&&A!==9&&(A<32||A>126)&&(Oe=!1)}const We=new ke(ui(Je),Q,ue,ve,Oe);return Je.length=0,We}class bt{constructor(E,W,Q,ue,ve){this.bufferIndex=E,this.start=W,this.end=Q,this.lineFeedCnt=ue,this.length=ve}}class it{constructor(E,W){this.buffer=E,this.lineStarts=W}}class fi{constructor(E,W){this._pieces=[],this._tree=E,this._BOM=W,this._index=0,E.root!==hi&&E.iterate(E.root,Q=>(Q!==hi&&this._pieces.push(Q.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class _i{constructor(E){this._limit=E,this._cache=[]}get(E){for(let W=this._cache.length-1;W>=0;W--){const Q=this._cache[W];if(Q.nodeStartOffset<=E&&Q.nodeStartOffset+Q.node.piece.length>=E)return Q}return null}get2(E){for(let W=this._cache.length-1;W>=0;W--){const Q=this._cache[W];if(Q.nodeStartLineNumber&&Q.nodeStartLineNumber<E&&Q.nodeStartLineNumber+Q.node.piece.lineFeedCnt>=E)return Q}return null}set(E){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(E)}validate(E){let W=!1;const Q=this._cache;for(let ue=0;ue<Q.length;ue++){const ve=Q[ue];if(ve.node.parent===null||ve.nodeStartOffset>=E){Q[ue]=null,W=!0;continue}}if(W){const ue=[];for(const ve of Q)ve!==null&&ue.push(ve);this._cache=ue}}}class Te{constructor(E,W,Q){this.create(E,W,Q)}create(E,W,Q){this._buffers=[new it("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=hi,this._lineCnt=1,this._length=0,this._EOL=W,this._EOLLength=W.length,this._EOLNormalized=Q;let ue=null;for(let ve=0,Oe=E.length;ve<Oe;ve++)if(E[ve].buffer.length>0){E[ve].lineStarts||(E[ve].lineStarts=Ke(E[ve].buffer));const We=new bt(ve+1,{line:0,column:0},{line:E[ve].lineStarts.length-1,column:E[ve].buffer.length-E[ve].lineStarts[E[ve].lineStarts.length-1]},E[ve].lineStarts.length-1,E[ve].buffer.length);this._buffers.push(E[ve]),ue=this.rbInsertRight(ue,We)}this._searchCache=new _i(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(E){const W=os,Q=W-Math.floor(W/3),ue=Q*2;let ve="",Oe=0;const We=[];if(this.iterate(this.root,et=>{const Fe=this.getNodeContent(et),A=Fe.length;if(Oe<=Q||Oe+A<ue)return ve+=Fe,Oe+=A,!0;const q=ve.replace(/\r\n|\r|\n/g,E);return We.push(new it(q,Ke(q))),ve=Fe,Oe=A,!0}),Oe>0){const et=ve.replace(/\r\n|\r|\n/g,E);We.push(new it(et,Ke(et)))}this.create(We,E,!0)}getEOL(){return this._EOL}setEOL(E){this._EOL=E,this._EOLLength=this._EOL.length,this.normalizeEOL(E)}createSnapshot(E){return new fi(this,E)}getOffsetAt(E,W){let Q=0,ue=this.root;for(;ue!==hi;)if(ue.left!==hi&&ue.lf_left+1>=E)ue=ue.left;else if(ue.lf_left+ue.piece.lineFeedCnt+1>=E){Q+=ue.size_left;const ve=this.getAccumulatedValue(ue,E-ue.lf_left-2);return Q+=ve+W-1}else E-=ue.lf_left+ue.piece.lineFeedCnt,Q+=ue.size_left+ue.piece.length,ue=ue.right;return Q}getPositionAt(E){E=Math.floor(E),E=Math.max(0,E);let W=this.root,Q=0;const ue=E;for(;W!==hi;)if(W.size_left!==0&&W.size_left>=E)W=W.left;else if(W.size_left+W.piece.length>=E){const ve=this.getIndexOf(W,E-W.size_left);if(Q+=W.lf_left+ve.index,ve.index===0){const Oe=this.getOffsetAt(Q+1,1),We=ue-Oe;return new C.L(Q+1,We+1)}return new C.L(Q+1,ve.remainder+1)}else if(E-=W.size_left+W.piece.length,Q+=W.lf_left+W.piece.lineFeedCnt,W.right===hi){const ve=this.getOffsetAt(Q+1,1),Oe=ue-E-ve;return new C.L(Q+1,Oe+1)}else W=W.right;return new C.L(1,1)}getValueInRange(E,W){if(E.startLineNumber===E.endLineNumber&&E.startColumn===E.endColumn)return"";const Q=this.nodeAt2(E.startLineNumber,E.startColumn),ue=this.nodeAt2(E.endLineNumber,E.endColumn),ve=this.getValueInRange2(Q,ue);return W?W!==this._EOL||!this._EOLNormalized?ve.replace(/\r\n|\r|\n/g,W):W===this.getEOL()&&this._EOLNormalized?ve:ve.replace(/\r\n|\r|\n/g,W):ve}getValueInRange2(E,W){if(E.node===W.node){const We=E.node,et=this._buffers[We.piece.bufferIndex].buffer,Fe=this.offsetInBuffer(We.piece.bufferIndex,We.piece.start);return et.substring(Fe+E.remainder,Fe+W.remainder)}let Q=E.node;const ue=this._buffers[Q.piece.bufferIndex].buffer,ve=this.offsetInBuffer(Q.piece.bufferIndex,Q.piece.start);let Oe=ue.substring(ve+E.remainder,ve+Q.piece.length);for(Q=Q.next();Q!==hi;){const We=this._buffers[Q.piece.bufferIndex].buffer,et=this.offsetInBuffer(Q.piece.bufferIndex,Q.piece.start);if(Q===W.node){Oe+=We.substring(et,et+W.remainder);break}else Oe+=We.substr(et,Q.piece.length);Q=Q.next()}return Oe}getLinesContent(){const E=[];let W=0,Q="",ue=!1;return this.iterate(this.root,ve=>{if(ve===hi)return!0;const Oe=ve.piece;let We=Oe.length;if(We===0)return!0;const et=this._buffers[Oe.bufferIndex].buffer,Fe=this._buffers[Oe.bufferIndex].lineStarts,A=Oe.start.line,q=Oe.end.line;let fe=Fe[A]+Oe.start.column;if(ue&&(et.charCodeAt(fe)===10&&(fe++,We--),E[W++]=Q,Q="",ue=!1,We===0))return!0;if(A===q)return!this._EOLNormalized&&et.charCodeAt(fe+We-1)===13?(ue=!0,Q+=et.substr(fe,We-1)):Q+=et.substr(fe,We),!0;Q+=this._EOLNormalized?et.substring(fe,Math.max(fe,Fe[A+1]-this._EOLLength)):et.substring(fe,Fe[A+1]).replace(/(\r\n|\r|\n)$/,""),E[W++]=Q;for(let Pe=A+1;Pe<q;Pe++)Q=this._EOLNormalized?et.substring(Fe[Pe],Fe[Pe+1]-this._EOLLength):et.substring(Fe[Pe],Fe[Pe+1]).replace(/(\r\n|\r|\n)$/,""),E[W++]=Q;return!this._EOLNormalized&&et.charCodeAt(Fe[q]+Oe.end.column-1)===13?(ue=!0,Oe.end.column===0?W--:Q=et.substr(Fe[q],Oe.end.column-1)):Q=et.substr(Fe[q],Oe.end.column),!0}),ue&&(E[W++]=Q,Q=""),E[W++]=Q,E}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(E){return this._lastVisitedLine.lineNumber===E?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=E,E===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(E):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(E,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(E).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(E){if(E.remainder===E.node.piece.length){const W=E.node.next();if(!W)return 0;const Q=this._buffers[W.piece.bufferIndex],ue=this.offsetInBuffer(W.piece.bufferIndex,W.piece.start);return Q.buffer.charCodeAt(ue)}else{const W=this._buffers[E.node.piece.bufferIndex],ue=this.offsetInBuffer(E.node.piece.bufferIndex,E.node.piece.start)+E.remainder;return W.buffer.charCodeAt(ue)}}getLineCharCode(E,W){const Q=this.nodeAt2(E,W+1);return this._getCharCode(Q)}getLineLength(E){if(E===this.getLineCount()){const W=this.getOffsetAt(E,1);return this.getLength()-W}return this.getOffsetAt(E+1,1)-this.getOffsetAt(E,1)-this._EOLLength}findMatchesInNode(E,W,Q,ue,ve,Oe,We,et,Fe,A,q){const fe=this._buffers[E.piece.bufferIndex],Pe=this.offsetInBuffer(E.piece.bufferIndex,E.piece.start),Ye=this.offsetInBuffer(E.piece.bufferIndex,ve),dt=this.offsetInBuffer(E.piece.bufferIndex,Oe);let St;const Bt={line:0,column:0};let Ci,vi;W._wordSeparators?(Ci=fe.buffer.substring(Ye,dt),vi=zi=>zi+Ye,W.reset(0)):(Ci=fe.buffer,vi=zi=>zi,W.reset(Ye));do if(St=W.next(Ci),St){if(vi(St.index)>=dt)return A;this.positionInBuffer(E,vi(St.index)-Pe,Bt);const zi=this.getLineFeedCnt(E.piece.bufferIndex,ve,Bt),Gi=Bt.line===ve.line?Bt.column-ve.column+ue:Bt.column+1,Wi=Gi+St[0].length;if(q[A++]=(0,In.iE)(new S.e(Q+zi,Gi,Q+zi,Wi),St,et),vi(St.index)+St[0].length>=dt||A>=Fe)return A}while(St);return A}findMatchesLineByLine(E,W,Q,ue){const ve=[];let Oe=0;const We=new In.sz(W.wordSeparators,W.regex);let et=this.nodeAt2(E.startLineNumber,E.startColumn);if(et===null)return[];const Fe=this.nodeAt2(E.endLineNumber,E.endColumn);if(Fe===null)return[];let A=this.positionInBuffer(et.node,et.remainder);const q=this.positionInBuffer(Fe.node,Fe.remainder);if(et.node===Fe.node)return this.findMatchesInNode(et.node,We,E.startLineNumber,E.startColumn,A,q,W,Q,ue,Oe,ve),ve;let fe=E.startLineNumber,Pe=et.node;for(;Pe!==Fe.node;){const dt=this.getLineFeedCnt(Pe.piece.bufferIndex,A,Pe.piece.end);if(dt>=1){const Bt=this._buffers[Pe.piece.bufferIndex].lineStarts,Ci=this.offsetInBuffer(Pe.piece.bufferIndex,Pe.piece.start),vi=Bt[A.line+dt],zi=fe===E.startLineNumber?E.startColumn:1;if(Oe=this.findMatchesInNode(Pe,We,fe,zi,A,this.positionInBuffer(Pe,vi-Ci),W,Q,ue,Oe,ve),Oe>=ue)return ve;fe+=dt}const St=fe===E.startLineNumber?E.startColumn-1:0;if(fe===E.endLineNumber){const Bt=this.getLineContent(fe).substring(St,E.endColumn-1);return Oe=this._findMatchesInLine(W,We,Bt,E.endLineNumber,St,Oe,ve,Q,ue),ve}if(Oe=this._findMatchesInLine(W,We,this.getLineContent(fe).substr(St),fe,St,Oe,ve,Q,ue),Oe>=ue)return ve;fe++,et=this.nodeAt2(fe,1),Pe=et.node,A=this.positionInBuffer(et.node,et.remainder)}if(fe===E.endLineNumber){const dt=fe===E.startLineNumber?E.startColumn-1:0,St=this.getLineContent(fe).substring(dt,E.endColumn-1);return Oe=this._findMatchesInLine(W,We,St,E.endLineNumber,dt,Oe,ve,Q,ue),ve}const Ye=fe===E.startLineNumber?E.startColumn:1;return Oe=this.findMatchesInNode(Fe.node,We,fe,Ye,A,q,W,Q,ue,Oe,ve),ve}_findMatchesInLine(E,W,Q,ue,ve,Oe,We,et,Fe){const A=E.wordSeparators;if(!et&&E.simpleSearch){const fe=E.simpleSearch,Pe=fe.length,Ye=Q.length;let dt=-Pe;for(;(dt=Q.indexOf(fe,dt+Pe))!==-1;)if((!A||(0,In.cM)(A,Q,Ye,dt,Pe))&&(We[Oe++]=new O.tk(new S.e(ue,dt+1+ve,ue,dt+1+Pe+ve),null),Oe>=Fe))return Oe;return Oe}let q;W.reset(0);do if(q=W.next(Q),q&&(We[Oe++]=(0,In.iE)(new S.e(ue,q.index+1+ve,ue,q.index+1+q[0].length+ve),q,et),Oe>=Fe))return Oe;while(q);return Oe}insert(E,W,Q=!1){if(this._EOLNormalized=this._EOLNormalized&&Q,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==hi){const{node:ue,remainder:ve,nodeStartOffset:Oe}=this.nodeAt(E),We=ue.piece,et=We.bufferIndex,Fe=this.positionInBuffer(ue,ve);if(ue.piece.bufferIndex===0&&We.end.line===this._lastChangeBufferPos.line&&We.end.column===this._lastChangeBufferPos.column&&Oe+We.length===E&&W.length<os){this.appendToNode(ue,W),this.computeBufferMetadata();return}if(Oe===E)this.insertContentToNodeLeft(W,ue),this._searchCache.validate(E);else if(Oe+ue.piece.length>E){const A=[];let q=new bt(We.bufferIndex,Fe,We.end,this.getLineFeedCnt(We.bufferIndex,Fe,We.end),this.offsetInBuffer(et,We.end)-this.offsetInBuffer(et,Fe));if(this.shouldCheckCRLF()&&this.endWithCR(W)&&this.nodeCharCodeAt(ue,ve)===10){const dt={line:q.start.line+1,column:0};q=new bt(q.bufferIndex,dt,q.end,this.getLineFeedCnt(q.bufferIndex,dt,q.end),q.length-1),W+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(W))if(this.nodeCharCodeAt(ue,ve-1)===13){const dt=this.positionInBuffer(ue,ve-1);this.deleteNodeTail(ue,dt),W="\r"+W,ue.piece.length===0&&A.push(ue)}else this.deleteNodeTail(ue,Fe);else this.deleteNodeTail(ue,Fe);const fe=this.createNewPieces(W);q.length>0&&this.rbInsertRight(ue,q);let Pe=ue;for(let Ye=0;Ye<fe.length;Ye++)Pe=this.rbInsertRight(Pe,fe[Ye]);this.deleteNodes(A)}else this.insertContentToNodeRight(W,ue)}else{const ue=this.createNewPieces(W);let ve=this.rbInsertLeft(null,ue[0]);for(let Oe=1;Oe<ue.length;Oe++)ve=this.rbInsertRight(ve,ue[Oe])}this.computeBufferMetadata()}delete(E,W){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",W<=0||this.root===hi)return;const Q=this.nodeAt(E),ue=this.nodeAt(E+W),ve=Q.node,Oe=ue.node;if(ve===Oe){const fe=this.positionInBuffer(ve,Q.remainder),Pe=this.positionInBuffer(ve,ue.remainder);if(Q.nodeStartOffset===E){if(W===ve.piece.length){const Ye=ve.next();ys(this,ve),this.validateCRLFWithPrevNode(Ye),this.computeBufferMetadata();return}this.deleteNodeHead(ve,Pe),this._searchCache.validate(E),this.validateCRLFWithPrevNode(ve),this.computeBufferMetadata();return}if(Q.nodeStartOffset+ve.piece.length===E+W){this.deleteNodeTail(ve,fe),this.validateCRLFWithNextNode(ve),this.computeBufferMetadata();return}this.shrinkNode(ve,fe,Pe),this.computeBufferMetadata();return}const We=[],et=this.positionInBuffer(ve,Q.remainder);this.deleteNodeTail(ve,et),this._searchCache.validate(E),ve.piece.length===0&&We.push(ve);const Fe=this.positionInBuffer(Oe,ue.remainder);this.deleteNodeHead(Oe,Fe),Oe.piece.length===0&&We.push(Oe);const A=ve.next();for(let fe=A;fe!==hi&&fe!==Oe;fe=fe.next())We.push(fe);const q=ve.piece.length===0?ve.prev():ve;this.deleteNodes(We),this.validateCRLFWithNextNode(q),this.computeBufferMetadata()}insertContentToNodeLeft(E,W){const Q=[];if(this.shouldCheckCRLF()&&this.endWithCR(E)&&this.startWithLF(W)){const Oe=W.piece,We={line:Oe.start.line+1,column:0},et=new bt(Oe.bufferIndex,We,Oe.end,this.getLineFeedCnt(Oe.bufferIndex,We,Oe.end),Oe.length-1);W.piece=et,E+=`
`,cs(this,W,-1,-1),W.piece.length===0&&Q.push(W)}const ue=this.createNewPieces(E);let ve=this.rbInsertLeft(W,ue[ue.length-1]);for(let Oe=ue.length-2;Oe>=0;Oe--)ve=this.rbInsertLeft(ve,ue[Oe]);this.validateCRLFWithPrevNode(ve),this.deleteNodes(Q)}insertContentToNodeRight(E,W){this.adjustCarriageReturnFromNext(E,W)&&(E+=`
`);const Q=this.createNewPieces(E),ue=this.rbInsertRight(W,Q[0]);let ve=ue;for(let Oe=1;Oe<Q.length;Oe++)ve=this.rbInsertRight(ve,Q[Oe]);this.validateCRLFWithPrevNode(ue)}positionInBuffer(E,W,Q){const ue=E.piece,ve=E.piece.bufferIndex,Oe=this._buffers[ve].lineStarts,et=Oe[ue.start.line]+ue.start.column+W;let Fe=ue.start.line,A=ue.end.line,q=0,fe=0,Pe=0;for(;Fe<=A&&(q=Fe+(A-Fe)/2|0,Pe=Oe[q],q!==A);)if(fe=Oe[q+1],et<Pe)A=q-1;else if(et>=fe)Fe=q+1;else break;return Q?(Q.line=q,Q.column=et-Pe,null):{line:q,column:et-Pe}}getLineFeedCnt(E,W,Q){if(Q.column===0)return Q.line-W.line;const ue=this._buffers[E].lineStarts;if(Q.line===ue.length-1)return Q.line-W.line;const ve=ue[Q.line+1],Oe=ue[Q.line]+Q.column;if(ve>Oe+1)return Q.line-W.line;const We=Oe-1;return this._buffers[E].buffer.charCodeAt(We)===13?Q.line-W.line+1:Q.line-W.line}offsetInBuffer(E,W){return this._buffers[E].lineStarts[W.line]+W.column}deleteNodes(E){for(let W=0;W<E.length;W++)ys(this,E[W])}createNewPieces(E){if(E.length>os){const A=[];for(;E.length>os;){const fe=E.charCodeAt(os-1);let Pe;fe===13||fe>=55296&&fe<=56319?(Pe=E.substring(0,os-1),E=E.substring(os-1)):(Pe=E.substring(0,os),E=E.substring(os));const Ye=Ke(Pe);A.push(new bt(this._buffers.length,{line:0,column:0},{line:Ye.length-1,column:Pe.length-Ye[Ye.length-1]},Ye.length-1,Pe.length)),this._buffers.push(new it(Pe,Ye))}const q=Ke(E);return A.push(new bt(this._buffers.length,{line:0,column:0},{line:q.length-1,column:E.length-q[q.length-1]},q.length-1,E.length)),this._buffers.push(new it(E,q)),A}let W=this._buffers[0].buffer.length;const Q=Ke(E,!1);let ue=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===W&&W!==0&&this.startWithLF(E)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},ue=this._lastChangeBufferPos;for(let A=0;A<Q.length;A++)Q[A]+=W+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Q.slice(1)),this._buffers[0].buffer+="_"+E,W+=1}else{if(W!==0)for(let A=0;A<Q.length;A++)Q[A]+=W;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Q.slice(1)),this._buffers[0].buffer+=E}const ve=this._buffers[0].buffer.length,Oe=this._buffers[0].lineStarts.length-1,We=ve-this._buffers[0].lineStarts[Oe],et={line:Oe,column:We},Fe=new bt(0,ue,et,this.getLineFeedCnt(0,ue,et),ve-W);return this._lastChangeBufferPos=et,[Fe]}getLineRawContent(E,W=0){let Q=this.root,ue="";const ve=this._searchCache.get2(E);if(ve){Q=ve.node;const Oe=this.getAccumulatedValue(Q,E-ve.nodeStartLineNumber-1),We=this._buffers[Q.piece.bufferIndex].buffer,et=this.offsetInBuffer(Q.piece.bufferIndex,Q.piece.start);if(ve.nodeStartLineNumber+Q.piece.lineFeedCnt===E)ue=We.substring(et+Oe,et+Q.piece.length);else{const Fe=this.getAccumulatedValue(Q,E-ve.nodeStartLineNumber);return We.substring(et+Oe,et+Fe-W)}}else{let Oe=0;const We=E;for(;Q!==hi;)if(Q.left!==hi&&Q.lf_left>=E-1)Q=Q.left;else if(Q.lf_left+Q.piece.lineFeedCnt>E-1){const et=this.getAccumulatedValue(Q,E-Q.lf_left-2),Fe=this.getAccumulatedValue(Q,E-Q.lf_left-1),A=this._buffers[Q.piece.bufferIndex].buffer,q=this.offsetInBuffer(Q.piece.bufferIndex,Q.piece.start);return Oe+=Q.size_left,this._searchCache.set({node:Q,nodeStartOffset:Oe,nodeStartLineNumber:We-(E-1-Q.lf_left)}),A.substring(q+et,q+Fe-W)}else if(Q.lf_left+Q.piece.lineFeedCnt===E-1){const et=this.getAccumulatedValue(Q,E-Q.lf_left-2),Fe=this._buffers[Q.piece.bufferIndex].buffer,A=this.offsetInBuffer(Q.piece.bufferIndex,Q.piece.start);ue=Fe.substring(A+et,A+Q.piece.length);break}else E-=Q.lf_left+Q.piece.lineFeedCnt,Oe+=Q.size_left+Q.piece.length,Q=Q.right}for(Q=Q.next();Q!==hi;){const Oe=this._buffers[Q.piece.bufferIndex].buffer;if(Q.piece.lineFeedCnt>0){const We=this.getAccumulatedValue(Q,0),et=this.offsetInBuffer(Q.piece.bufferIndex,Q.piece.start);return ue+=Oe.substring(et,et+We-W),ue}else{const We=this.offsetInBuffer(Q.piece.bufferIndex,Q.piece.start);ue+=Oe.substr(We,Q.piece.length)}Q=Q.next()}return ue}computeBufferMetadata(){let E=this.root,W=1,Q=0;for(;E!==hi;)W+=E.lf_left+E.piece.lineFeedCnt,Q+=E.size_left+E.piece.length,E=E.right;this._lineCnt=W,this._length=Q,this._searchCache.validate(this._length)}getIndexOf(E,W){const Q=E.piece,ue=this.positionInBuffer(E,W),ve=ue.line-Q.start.line;if(this.offsetInBuffer(Q.bufferIndex,Q.end)-this.offsetInBuffer(Q.bufferIndex,Q.start)===W){const Oe=this.getLineFeedCnt(E.piece.bufferIndex,Q.start,ue);if(Oe!==ve)return{index:Oe,remainder:0}}return{index:ve,remainder:ue.column}}getAccumulatedValue(E,W){if(W<0)return 0;const Q=E.piece,ue=this._buffers[Q.bufferIndex].lineStarts,ve=Q.start.line+W+1;return ve>Q.end.line?ue[Q.end.line]+Q.end.column-ue[Q.start.line]-Q.start.column:ue[ve]-ue[Q.start.line]-Q.start.column}deleteNodeTail(E,W){const Q=E.piece,ue=Q.lineFeedCnt,ve=this.offsetInBuffer(Q.bufferIndex,Q.end),Oe=W,We=this.offsetInBuffer(Q.bufferIndex,Oe),et=this.getLineFeedCnt(Q.bufferIndex,Q.start,Oe),Fe=et-ue,A=We-ve,q=Q.length+A;E.piece=new bt(Q.bufferIndex,Q.start,Oe,et,q),cs(this,E,A,Fe)}deleteNodeHead(E,W){const Q=E.piece,ue=Q.lineFeedCnt,ve=this.offsetInBuffer(Q.bufferIndex,Q.start),Oe=W,We=this.getLineFeedCnt(Q.bufferIndex,Oe,Q.end),et=this.offsetInBuffer(Q.bufferIndex,Oe),Fe=We-ue,A=ve-et,q=Q.length+A;E.piece=new bt(Q.bufferIndex,Oe,Q.end,We,q),cs(this,E,A,Fe)}shrinkNode(E,W,Q){const ue=E.piece,ve=ue.start,Oe=ue.end,We=ue.length,et=ue.lineFeedCnt,Fe=W,A=this.getLineFeedCnt(ue.bufferIndex,ue.start,Fe),q=this.offsetInBuffer(ue.bufferIndex,W)-this.offsetInBuffer(ue.bufferIndex,ve);E.piece=new bt(ue.bufferIndex,ue.start,Fe,A,q),cs(this,E,q-We,A-et);const fe=new bt(ue.bufferIndex,Q,Oe,this.getLineFeedCnt(ue.bufferIndex,Q,Oe),this.offsetInBuffer(ue.bufferIndex,Oe)-this.offsetInBuffer(ue.bufferIndex,Q)),Pe=this.rbInsertRight(E,fe);this.validateCRLFWithPrevNode(Pe)}appendToNode(E,W){this.adjustCarriageReturnFromNext(W,E)&&(W+=`
`);const Q=this.shouldCheckCRLF()&&this.startWithLF(W)&&this.endWithCR(E),ue=this._buffers[0].buffer.length;this._buffers[0].buffer+=W;const ve=Ke(W,!1);for(let Pe=0;Pe<ve.length;Pe++)ve[Pe]+=ue;if(Q){const Pe=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:ue-Pe}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(ve.slice(1));const Oe=this._buffers[0].lineStarts.length-1,We=this._buffers[0].buffer.length-this._buffers[0].lineStarts[Oe],et={line:Oe,column:We},Fe=E.piece.length+W.length,A=E.piece.lineFeedCnt,q=this.getLineFeedCnt(0,E.piece.start,et),fe=q-A;E.piece=new bt(E.piece.bufferIndex,E.piece.start,et,q,Fe),this._lastChangeBufferPos=et,cs(this,E,W.length,fe)}nodeAt(E){let W=this.root;const Q=this._searchCache.get(E);if(Q)return{node:Q.node,nodeStartOffset:Q.nodeStartOffset,remainder:E-Q.nodeStartOffset};let ue=0;for(;W!==hi;)if(W.size_left>E)W=W.left;else if(W.size_left+W.piece.length>=E){ue+=W.size_left;const ve={node:W,remainder:E-W.size_left,nodeStartOffset:ue};return this._searchCache.set(ve),ve}else E-=W.size_left+W.piece.length,ue+=W.size_left+W.piece.length,W=W.right;return null}nodeAt2(E,W){let Q=this.root,ue=0;for(;Q!==hi;)if(Q.left!==hi&&Q.lf_left>=E-1)Q=Q.left;else if(Q.lf_left+Q.piece.lineFeedCnt>E-1){const ve=this.getAccumulatedValue(Q,E-Q.lf_left-2),Oe=this.getAccumulatedValue(Q,E-Q.lf_left-1);return ue+=Q.size_left,{node:Q,remainder:Math.min(ve+W-1,Oe),nodeStartOffset:ue}}else if(Q.lf_left+Q.piece.lineFeedCnt===E-1){const ve=this.getAccumulatedValue(Q,E-Q.lf_left-2);if(ve+W-1<=Q.piece.length)return{node:Q,remainder:ve+W-1,nodeStartOffset:ue};W-=Q.piece.length-ve;break}else E-=Q.lf_left+Q.piece.lineFeedCnt,ue+=Q.size_left+Q.piece.length,Q=Q.right;for(Q=Q.next();Q!==hi;){if(Q.piece.lineFeedCnt>0){const ve=this.getAccumulatedValue(Q,0),Oe=this.offsetOfNode(Q);return{node:Q,remainder:Math.min(W-1,ve),nodeStartOffset:Oe}}else if(Q.piece.length>=W-1){const ve=this.offsetOfNode(Q);return{node:Q,remainder:W-1,nodeStartOffset:ve}}else W-=Q.piece.length;Q=Q.next()}return null}nodeCharCodeAt(E,W){if(E.piece.lineFeedCnt<1)return-1;const Q=this._buffers[E.piece.bufferIndex],ue=this.offsetInBuffer(E.piece.bufferIndex,E.piece.start)+W;return Q.buffer.charCodeAt(ue)}offsetOfNode(E){if(!E)return 0;let W=E.size_left;for(;E!==this.root;)E.parent.right===E&&(W+=E.parent.size_left+E.parent.piece.length),E=E.parent;return W}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(E){if(typeof E=="string")return E.charCodeAt(0)===10;if(E===hi||E.piece.lineFeedCnt===0)return!1;const W=E.piece,Q=this._buffers[W.bufferIndex].lineStarts,ue=W.start.line,ve=Q[ue]+W.start.column;return ue===Q.length-1||Q[ue+1]>ve+1?!1:this._buffers[W.bufferIndex].buffer.charCodeAt(ve)===10}endWithCR(E){return typeof E=="string"?E.charCodeAt(E.length-1)===13:E===hi||E.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(E,E.piece.length-1)===13}validateCRLFWithPrevNode(E){if(this.shouldCheckCRLF()&&this.startWithLF(E)){const W=E.prev();this.endWithCR(W)&&this.fixCRLF(W,E)}}validateCRLFWithNextNode(E){if(this.shouldCheckCRLF()&&this.endWithCR(E)){const W=E.next();this.startWithLF(W)&&this.fixCRLF(E,W)}}fixCRLF(E,W){const Q=[],ue=this._buffers[E.piece.bufferIndex].lineStarts;let ve;E.piece.end.column===0?ve={line:E.piece.end.line-1,column:ue[E.piece.end.line]-ue[E.piece.end.line-1]-1}:ve={line:E.piece.end.line,column:E.piece.end.column-1};const Oe=E.piece.length-1,We=E.piece.lineFeedCnt-1;E.piece=new bt(E.piece.bufferIndex,E.piece.start,ve,We,Oe),cs(this,E,-1,-1),E.piece.length===0&&Q.push(E);const et={line:W.piece.start.line+1,column:0},Fe=W.piece.length-1,A=this.getLineFeedCnt(W.piece.bufferIndex,et,W.piece.end);W.piece=new bt(W.piece.bufferIndex,et,W.piece.end,A,Fe),cs(this,W,-1,-1),W.piece.length===0&&Q.push(W);const q=this.createNewPieces(`\r
`);this.rbInsertRight(E,q[0]);for(let fe=0;fe<Q.length;fe++)ys(this,Q[fe])}adjustCarriageReturnFromNext(E,W){if(this.shouldCheckCRLF()&&this.endWithCR(E)){const Q=W.next();if(this.startWithLF(Q)){if(E+=`
`,Q.piece.length===1)ys(this,Q);else{const ue=Q.piece,ve={line:ue.start.line+1,column:0},Oe=ue.length-1,We=this.getLineFeedCnt(ue.bufferIndex,ve,ue.end);Q.piece=new bt(ue.bufferIndex,ve,ue.end,We,Oe),cs(this,Q,-1,-1)}return!0}}return!1}iterate(E,W){if(E===hi)return W(hi);const Q=this.iterate(E.left,W);return Q&&W(E)&&this.iterate(E.right,W)}getNodeContent(E){if(E===hi)return"";const W=this._buffers[E.piece.bufferIndex],Q=E.piece,ue=this.offsetInBuffer(Q.bufferIndex,Q.start),ve=this.offsetInBuffer(Q.bufferIndex,Q.end);return W.buffer.substring(ue,ve)}getPieceContent(E){const W=this._buffers[E.bufferIndex],Q=this.offsetInBuffer(E.bufferIndex,E.start),ue=this.offsetInBuffer(E.bufferIndex,E.end);return W.buffer.substring(Q,ue)}rbInsertRight(E,W){const Q=new Fi(W,1);if(Q.left=hi,Q.right=hi,Q.parent=hi,Q.size_left=0,Q.lf_left=0,this.root===hi)this.root=Q,Q.color=0;else if(E.right===hi)E.right=Q,Q.parent=E;else{const ve=En(E.right);ve.left=Q,Q.parent=ve}return ds(this,Q),Q}rbInsertLeft(E,W){const Q=new Fi(W,1);if(Q.left=hi,Q.right=hi,Q.parent=hi,Q.size_left=0,Q.lf_left=0,this.root===hi)this.root=Q,Q.color=0;else if(E.left===hi)E.left=Q,Q.parent=E;else{const ue=bn(E.left);ue.right=Q,Q.parent=ue}return ds(this,Q),Q}}var tt=c(35276);class Wt extends L.JT{constructor(E,W,Q,ue,ve,Oe,We){super(),this._onDidChangeContent=this._register(new k.Q5),this._BOM=W,this._mightContainNonBasicASCII=!Oe,this._mightContainRTL=ue,this._mightContainUnusualLineTerminators=ve,this._pieceTree=new Te(E,Q,We)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(E){return this._pieceTree.createSnapshot(E?this._BOM:"")}getOffsetAt(E,W){return this._pieceTree.getOffsetAt(E,W)}getPositionAt(E){return this._pieceTree.getPositionAt(E)}getRangeAt(E,W){const Q=E+W,ue=this.getPositionAt(E),ve=this.getPositionAt(Q);return new S.e(ue.lineNumber,ue.column,ve.lineNumber,ve.column)}getValueInRange(E,W=0){if(E.isEmpty())return"";const Q=this._getEndOfLine(W);return this._pieceTree.getValueInRange(E,Q)}getValueLengthInRange(E,W=0){if(E.isEmpty())return 0;if(E.startLineNumber===E.endLineNumber)return E.endColumn-E.startColumn;const Q=this.getOffsetAt(E.startLineNumber,E.startColumn),ue=this.getOffsetAt(E.endLineNumber,E.endColumn);let ve=0;const Oe=this._getEndOfLine(W),We=this.getEOL();if(Oe.length!==We.length){const et=Oe.length-We.length,Fe=E.endLineNumber-E.startLineNumber;ve=et*Fe}return ue-Q+ve}getCharacterCountInRange(E,W=0){if(this._mightContainNonBasicASCII){let Q=0;const ue=E.startLineNumber,ve=E.endLineNumber;for(let Oe=ue;Oe<=ve;Oe++){const We=this.getLineContent(Oe),et=Oe===ue?E.startColumn-1:0,Fe=Oe===ve?E.endColumn-1:We.length;for(let A=et;A<Fe;A++)T.ZG(We.charCodeAt(A))?(Q=Q+1,A=A+1):Q=Q+1}return Q+=this._getEndOfLine(W).length*(ve-ue),Q}return this.getValueLengthInRange(E,W)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(E){return this._pieceTree.getLineContent(E)}getLineCharCode(E,W){return this._pieceTree.getLineCharCode(E,W)}getLineLength(E){return this._pieceTree.getLineLength(E)}getLineFirstNonWhitespaceColumn(E){const W=T.LC(this.getLineContent(E));return W===-1?0:W+1}getLineLastNonWhitespaceColumn(E){const W=T.ow(this.getLineContent(E));return W===-1?0:W+2}_getEndOfLine(E){switch(E){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(E){this._pieceTree.setEOL(E)}applyEdits(E,W,Q){let ue=this._mightContainRTL,ve=this._mightContainUnusualLineTerminators,Oe=this._mightContainNonBasicASCII,We=!0,et=[];for(let dt=0;dt<E.length;dt++){const St=E[dt];We&&St._isTracked&&(We=!1);const Bt=St.range;if(St.text){let Wi=!0;Oe||(Wi=!T.$i(St.text),Oe=Wi),!ue&&Wi&&(ue=T.Ut(St.text)),!ve&&Wi&&(ve=T.ab(St.text))}let Ci="",vi=0,zi=0,Gi=0;if(St.text){let Wi;[vi,zi,Gi,Wi]=(0,B.Q)(St.text);const Mi=this.getEOL();Wi===0||Wi===(Mi===`\r
`?2:1)?Ci=St.text:Ci=St.text.replace(/\r\n|\r|\n/g,Mi)}et[dt]={sortIndex:dt,identifier:St.identifier||null,range:Bt,rangeOffset:this.getOffsetAt(Bt.startLineNumber,Bt.startColumn),rangeLength:this.getValueLengthInRange(Bt),text:Ci,eolCount:vi,firstLineLength:zi,lastLineLength:Gi,forceMoveMarkers:!!St.forceMoveMarkers,isAutoWhitespaceEdit:St.isAutoWhitespaceEdit||!1}}et.sort(Wt._sortOpsAscending);let Fe=!1;for(let dt=0,St=et.length-1;dt<St;dt++){const Bt=et[dt].range.getEndPosition(),Ci=et[dt+1].range.getStartPosition();if(Ci.isBeforeOrEqual(Bt)){if(Ci.isBefore(Bt))throw new Error("Overlapping ranges are not allowed!");Fe=!0}}We&&(et=this._reduceOperations(et));const A=Q||W?Wt._getInverseEditRanges(et):[],q=[];if(W)for(let dt=0;dt<et.length;dt++){const St=et[dt],Bt=A[dt];if(St.isAutoWhitespaceEdit&&St.range.isEmpty())for(let Ci=Bt.startLineNumber;Ci<=Bt.endLineNumber;Ci++){let vi="";Ci===Bt.startLineNumber&&(vi=this.getLineContent(St.range.startLineNumber),T.LC(vi)!==-1)||q.push({lineNumber:Ci,oldContent:vi})}}let fe=null;if(Q){let dt=0;fe=[];for(let St=0;St<et.length;St++){const Bt=et[St],Ci=A[St],vi=this.getValueInRange(Bt.range),zi=Bt.rangeOffset+dt;dt+=Bt.text.length-vi.length,fe[St]={sortIndex:Bt.sortIndex,identifier:Bt.identifier,range:Ci,text:vi,textChange:new tt.q(Bt.rangeOffset,vi,zi,Bt.text)}}Fe||fe.sort((St,Bt)=>St.sortIndex-Bt.sortIndex)}this._mightContainRTL=ue,this._mightContainUnusualLineTerminators=ve,this._mightContainNonBasicASCII=Oe;const Pe=this._doApplyEdits(et);let Ye=null;if(W&&q.length>0){q.sort((dt,St)=>St.lineNumber-dt.lineNumber),Ye=[];for(let dt=0,St=q.length;dt<St;dt++){const Bt=q[dt].lineNumber;if(dt>0&&q[dt-1].lineNumber===Bt)continue;const Ci=q[dt].oldContent,vi=this.getLineContent(Bt);vi.length===0||vi===Ci||T.LC(vi)!==-1||Ye.push(Bt)}}return this._onDidChangeContent.fire(),new O.je(fe,Pe,Ye)}_reduceOperations(E){return E.length<1e3?E:[this._toSingleEditOperation(E)]}_toSingleEditOperation(E){let W=!1;const Q=E[0].range,ue=E[E.length-1].range,ve=new S.e(Q.startLineNumber,Q.startColumn,ue.endLineNumber,ue.endColumn);let Oe=Q.startLineNumber,We=Q.startColumn;const et=[];for(let Pe=0,Ye=E.length;Pe<Ye;Pe++){const dt=E[Pe],St=dt.range;W=W||dt.forceMoveMarkers,et.push(this.getValueInRange(new S.e(Oe,We,St.startLineNumber,St.startColumn))),dt.text.length>0&&et.push(dt.text),Oe=St.endLineNumber,We=St.endColumn}const Fe=et.join(""),[A,q,fe]=(0,B.Q)(Fe);return{sortIndex:0,identifier:E[0].identifier,range:ve,rangeOffset:this.getOffsetAt(ve.startLineNumber,ve.startColumn),rangeLength:this.getValueLengthInRange(ve,0),text:Fe,eolCount:A,firstLineLength:q,lastLineLength:fe,forceMoveMarkers:W,isAutoWhitespaceEdit:!1}}_doApplyEdits(E){E.sort(Wt._sortOpsDescending);const W=[];for(let Q=0;Q<E.length;Q++){const ue=E[Q],ve=ue.range.startLineNumber,Oe=ue.range.startColumn,We=ue.range.endLineNumber,et=ue.range.endColumn;if(ve===We&&Oe===et&&ue.text.length===0)continue;ue.text?(this._pieceTree.delete(ue.rangeOffset,ue.rangeLength),this._pieceTree.insert(ue.rangeOffset,ue.text,!0)):this._pieceTree.delete(ue.rangeOffset,ue.rangeLength);const Fe=new S.e(ve,Oe,We,et);W.push({range:Fe,rangeLength:ue.rangeLength,text:ue.text,rangeOffset:ue.rangeOffset,forceMoveMarkers:ue.forceMoveMarkers})}return W}findMatchesLineByLine(E,W,Q,ue){return this._pieceTree.findMatchesLineByLine(E,W,Q,ue)}static _getInverseEditRanges(E){const W=[];let Q=0,ue=0,ve=null;for(let Oe=0,We=E.length;Oe<We;Oe++){const et=E[Oe];let Fe,A;ve?ve.range.endLineNumber===et.range.startLineNumber?(Fe=Q,A=ue+(et.range.startColumn-ve.range.endColumn)):(Fe=Q+(et.range.startLineNumber-ve.range.endLineNumber),A=et.range.startColumn):(Fe=et.range.startLineNumber,A=et.range.startColumn);let q;if(et.text.length>0){const fe=et.eolCount+1;fe===1?q=new S.e(Fe,A,Fe,A+et.firstLineLength):q=new S.e(Fe,A,Fe+fe-1,et.lastLineLength+1)}else q=new S.e(Fe,A,Fe,A);Q=q.endLineNumber,ue=q.endColumn,W.push(q),ve=et}return W}static _sortOpsAscending(E,W){const Q=S.e.compareRangesUsingEnds(E.range,W.range);return Q===0?E.sortIndex-W.sortIndex:Q}static _sortOpsDescending(E,W){const Q=S.e.compareRangesUsingEnds(E.range,W.range);return Q===0?W.sortIndex-E.sortIndex:-Q}}class Vt{constructor(E,W,Q,ue,ve,Oe,We,et,Fe){this._chunks=E,this._bom=W,this._cr=Q,this._lf=ue,this._crlf=ve,this._containsRTL=Oe,this._containsUnusualLineTerminators=We,this._isBasicASCII=et,this._normalizeEOL=Fe}_getEOL(E){const W=this._cr+this._lf+this._crlf,Q=this._cr+this._crlf;return W===0?E===1?`
`:`\r
`:Q>W/2?`\r
`:`
`}create(E){const W=this._getEOL(E),Q=this._chunks;if(this._normalizeEOL&&(W===`\r
`&&(this._cr>0||this._lf>0)||W===`
`&&(this._cr>0||this._crlf>0)))for(let ve=0,Oe=Q.length;ve<Oe;ve++){const We=Q[ve].buffer.replace(/\r\n|\r|\n/g,W),et=Ke(We);Q[ve]=new it(We,et)}const ue=new Wt(Q,this._bom,W,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:ue,disposable:ue}}}class Ni{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(E){if(E.length===0)return;this.chunks.length===0&&T.uS(E)&&(this.BOM=T.c1,E=E.substr(1));const W=E.charCodeAt(E.length-1);W===13||W>=55296&&W<=56319?(this._acceptChunk1(E.substr(0,E.length-1),!1),this._hasPreviousChar=!0,this._previousChar=W):(this._acceptChunk1(E,!1),this._hasPreviousChar=!1,this._previousChar=W)}_acceptChunk1(E,W){!W&&E.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+E):this._acceptChunk2(E))}_acceptChunk2(E){const W=Ue(this._tmpLineStarts,E);this.chunks.push(new it(E,W.lineStarts)),this.cr+=W.cr,this.lf+=W.lf,this.crlf+=W.crlf,W.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=T.Ut(E)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=T.ab(E)))}finish(E=!0){return this._finish(),new Vt(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,E)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const E=this.chunks[this.chunks.length-1];E.buffer+=String.fromCharCode(this._previousChar);const W=Ke(E.buffer);E.lineStarts=W,this._previousChar===13&&this.cr++}}}var ji=c(96925),Ai=c(1149),on=c(26627),mn=c(65057),Rn=c(43998),pi=c(74987),ti=c(58850),ii=c(32402);class Ct{constructor(E){this._default=E,this._store=[]}get(E){return E<this._store.length?this._store[E]:this._default}set(E,W){for(;E>=this._store.length;)this._store[this._store.length]=this._default;this._store[E]=W}replace(E,W,Q){if(E>=this._store.length)return;if(W===0){this.insert(E,Q);return}else if(Q===0){this.delete(E,W);return}const ue=this._store.slice(0,E),ve=this._store.slice(E+W),Oe=It(Q,this._default);this._store=ue.concat(Oe,ve)}delete(E,W){W===0||E>=this._store.length||this._store.splice(E,W)}insert(E,W){if(W===0||E>=this._store.length)return;const Q=[];for(let ue=0;ue<W;ue++)Q[ue]=this._default;this._store=(0,D.Zv)(this._store,E,Q)}}function It(Je,E){const W=[];for(let Q=0;Q<Je;Q++)W[Q]=E;return W}class Qt{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(E,W){this._startLineNumber=E,this._tokens=W}getLineTokens(E){return this._tokens[E-this._startLineNumber]}appendLineTokens(E){this._tokens.push(E)}}class Ut{constructor(){this._tokens=[]}add(E,W){if(this._tokens.length>0){const Q=this._tokens[this._tokens.length-1];if(Q.endLineNumber+1===E){Q.appendLineTokens(W);return}}this._tokens.push(new Qt(E,[W]))}finalize(){return this._tokens}}var Si=c(12007);class Vi{constructor(E,W){this.tokenizationSupport=W,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new Ji(E)}getStartState(E){return this.store.getStartState(E,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class tn extends Vi{constructor(E,W,Q,ue){super(E,W),this._textModel=Q,this._languageIdCodec=ue}updateTokensUntilLine(E,W){const Q=this._textModel.getLanguageId();for(;;){const ue=this.getFirstInvalidLine();if(!ue||ue.lineNumber>W)break;const ve=this._textModel.getLineContent(ue.lineNumber),Oe=Wn(this._languageIdCodec,Q,this.tokenizationSupport,ve,!0,ue.startState);E.add(ue.lineNumber,Oe.tokens),this.store.setEndState(ue.lineNumber,Oe.endState)}}getTokenTypeIfInsertingCharacter(E,W){const Q=this.getStartState(E.lineNumber);if(!Q)return 0;const ue=this._textModel.getLanguageId(),ve=this._textModel.getLineContent(E.lineNumber),Oe=ve.substring(0,E.column-1)+W+ve.substring(E.column-1),We=Wn(this._languageIdCodec,ue,this.tokenizationSupport,Oe,!0,Q),et=new Si.A(We.tokens,Oe,this._languageIdCodec);if(et.getCount()===0)return 0;const Fe=et.findTokenIndexAtOffset(E.column-1);return et.getStandardTokenType(Fe)}tokenizeLineWithEdit(E,W,Q){const ue=E.lineNumber,ve=E.column,Oe=this.getStartState(ue);if(!Oe)return null;const We=this._textModel.getLineContent(ue),et=We.substring(0,ve-1)+Q+We.substring(ve-1+W),Fe=this._textModel.getLanguageIdAtPosition(ue,0),A=Wn(this._languageIdCodec,Fe,this.tokenizationSupport,et,!0,Oe);return new Si.A(A.tokens,et,this._languageIdCodec)}isCheapToTokenize(E){const W=this.store.getFirstInvalidEndStateLineNumberOrMax();return E<W||E===W&&this._textModel.getLineLength(E)<2048}tokenizeHeuristically(E,W,Q){if(Q<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(W<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(E,Q),{heuristicTokens:!1};let ue=this.guessStartState(W);const ve=this._textModel.getLanguageId();for(let Oe=W;Oe<=Q;Oe++){const We=this._textModel.getLineContent(Oe),et=Wn(this._languageIdCodec,ve,this.tokenizationSupport,We,!0,ue);E.add(Oe,et.tokens),ue=et.endState}return{heuristicTokens:!0}}guessStartState(E){let W=this._textModel.getLineFirstNonWhitespaceColumn(E);const Q=[];let ue=null;for(let We=E-1;W>1&&We>=1;We--){const et=this._textModel.getLineFirstNonWhitespaceColumn(We);if(et!==0&&et<W&&(Q.push(this._textModel.getLineContent(We)),W=et,ue=this.getStartState(We),ue))break}ue||(ue=this.tokenizationSupport.getInitialState()),Q.reverse();const ve=this._textModel.getLanguageId();let Oe=ue;for(const We of Q)Oe=Wn(this._languageIdCodec,ve,this.tokenizationSupport,We,!1,Oe).endState;return Oe}}class Ji{constructor(E){this.lineCount=E,this._tokenizationStateStore=new Cn,this._invalidEndStatesLineNumbers=new Tn,this._invalidEndStatesLineNumbers.addRange(new ti.q(1,E+1))}getEndState(E){return this._tokenizationStateStore.getEndState(E)}setEndState(E,W){if(!W)throw new v.he("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(E);const Q=this._tokenizationStateStore.setEndState(E,W);return Q&&E<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new ti.q(E+1,E+2)),Q}acceptChange(E,W){this.lineCount+=W-E.length,this._tokenizationStateStore.acceptChange(E,W),this._invalidEndStatesLineNumbers.addRangeAndResize(new ti.q(E.startLineNumber,E.endLineNumberExclusive),W)}acceptChanges(E){for(const W of E){const[Q]=(0,B.Q)(W.text);this.acceptChange(new b.z(W.range.startLineNumber,W.range.endLineNumber+1),Q+1)}}invalidateEndStateRange(E){this._invalidEndStatesLineNumbers.addRange(new ti.q(E.startLineNumber,E.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(E,W){return E===1?W:this.getEndState(E-1)}getFirstInvalidLine(E){const W=this.getFirstInvalidEndStateLineNumber();if(W===null)return null;const Q=this.getStartState(W,E);if(!Q)throw new v.he("Start state must be defined");return{lineNumber:W,startState:Q}}}class Cn{constructor(){this._lineEndStates=new Ct(null)}getEndState(E){return this._lineEndStates.get(E)}setEndState(E,W){const Q=this._lineEndStates.get(E);return Q&&Q.equals(W)?!1:(this._lineEndStates.set(E,W),!0)}acceptChange(E,W){let Q=E.length;W>0&&Q>0&&(Q--,W--),this._lineEndStates.replace(E.startLineNumber,Q,W)}}class Tn{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(E){const W=this._ranges.findIndex(Q=>Q.contains(E));if(W!==-1){const Q=this._ranges[W];Q.start===E?Q.endExclusive===E+1?this._ranges.splice(W,1):this._ranges[W]=new ti.q(E+1,Q.endExclusive):Q.endExclusive===E+1?this._ranges[W]=new ti.q(Q.start,E):this._ranges.splice(W,1,new ti.q(Q.start,E),new ti.q(E+1,Q.endExclusive))}}addRange(E){ti.q.addRange(E,this._ranges)}addRangeAndResize(E,W){let Q=0;for(;!(Q>=this._ranges.length||E.start<=this._ranges[Q].endExclusive);)Q++;let ue=Q;for(;!(ue>=this._ranges.length||E.endExclusive<this._ranges[ue].start);)ue++;const ve=W-E.length;for(let Oe=ue;Oe<this._ranges.length;Oe++)this._ranges[Oe]=this._ranges[Oe].delta(ve);if(Q===ue){const Oe=new ti.q(E.start,E.start+W);Oe.isEmpty||this._ranges.splice(Q,0,Oe)}else{const Oe=Math.min(E.start,this._ranges[Q].start),We=Math.max(E.endExclusive,this._ranges[ue-1].endExclusive),et=new ti.q(Oe,We+ve);et.isEmpty?this._ranges.splice(Q,ue-Q):this._ranges.splice(Q,ue-Q,et)}}toString(){return this._ranges.map(E=>E.toString()).join(" + ")}}function Wn(Je,E,W,Q,ue,ve){let Oe=null;if(W)try{Oe=W.tokenizeEncoded(Q,ue,ve.clone())}catch(We){(0,v.dL)(We)}return Oe||(Oe=(0,ii.Dy)(Je.encodeLanguageId(E),ve)),Si.A.convertToEndOffset(Oe.tokens,Q.length),Oe}class qn{constructor(E,W){this._tokenizerWithStateStore=E,this._backgroundTokenStore=W,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,ji.jg)(E=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(E)}))}_backgroundTokenizeWithDeadline(E){const W=Date.now()+E.timeRemaining(),Q=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<W?(0,Rn.fn)(Q):this._beginBackgroundTokenization())};Q()}_backgroundTokenizeForAtLeast1ms(){const E=this._tokenizerWithStateStore._textModel.getLineCount(),W=new Ut,Q=pi.G.create(!1);do if(Q.elapsed()>1||this._tokenizeOneInvalidLine(W)>=E)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(W.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(E){var W;const Q=(W=this._tokenizerWithStateStore)===null||W===void 0?void 0:W.getFirstInvalidLine();return Q?(this._tokenizerWithStateStore.updateTokensUntilLine(E,Q.lineNumber),Q.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(E,W){this._tokenizerWithStateStore.store.invalidateEndStateRange(new b.z(E,W))}}const ln=new Uint32Array(0).buffer;class Gn{static deleteBeginning(E,W){return E===null||E===ln?E:Gn.delete(E,0,W)}static deleteEnding(E,W){if(E===null||E===ln)return E;const Q=Kn(E),ue=Q[Q.length-2];return Gn.delete(E,W,ue)}static delete(E,W,Q){if(E===null||E===ln||W===Q)return E;const ue=Kn(E),ve=ue.length>>>1;if(W===0&&ue[ue.length-2]===Q)return ln;const Oe=Si.A.findIndexInTokensArray(ue,W),We=Oe>0?ue[Oe-1<<1]:0,et=ue[Oe<<1];if(Q<et){const Pe=Q-W;for(let Ye=Oe;Ye<ve;Ye++)ue[Ye<<1]-=Pe;return E}let Fe,A;We!==W?(ue[Oe<<1]=W,Fe=Oe+1<<1,A=W):(Fe=Oe<<1,A=We);const q=Q-W;for(let Pe=Oe+1;Pe<ve;Pe++){const Ye=ue[Pe<<1]-q;Ye>A&&(ue[Fe++]=Ye,ue[Fe++]=ue[(Pe<<1)+1],A=Ye)}if(Fe===ue.length)return E;const fe=new Uint32Array(Fe);return fe.set(ue.subarray(0,Fe),0),fe.buffer}static append(E,W){if(W===ln)return E;if(E===ln)return W;if(E===null)return E;if(W===null)return null;const Q=Kn(E),ue=Kn(W),ve=ue.length>>>1,Oe=new Uint32Array(Q.length+ue.length);Oe.set(Q,0);let We=Q.length;const et=Q[Q.length-2];for(let Fe=0;Fe<ve;Fe++)Oe[We++]=ue[Fe<<1]+et,Oe[We++]=ue[(Fe<<1)+1];return Oe.buffer}static insert(E,W,Q){if(E===null||E===ln)return E;const ue=Kn(E),ve=ue.length>>>1;let Oe=Si.A.findIndexInTokensArray(ue,W);Oe>0&&ue[Oe-1<<1]===W&&Oe--;for(let We=Oe;We<ve;We++)ue[We<<1]+=Q;return E}}function Kn(Je){return Je instanceof Uint32Array?Je:new Uint32Array(Je)}var ro=c(39782);class as{constructor(E){this._lineTokens=[],this._len=0,this._languageIdCodec=E}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(E,W,Q){let ue=null;if(W<this._len&&(ue=this._lineTokens[W]),ue!==null&&ue!==ln)return new Si.A(Kn(ue),Q,this._languageIdCodec);const ve=new Uint32Array(2);return ve[0]=Q.length,ve[1]=Zi(this._languageIdCodec.encodeLanguageId(E)),new Si.A(ve,Q,this._languageIdCodec)}static _massageTokens(E,W,Q){const ue=Q?Kn(Q):null;if(W===0){let ve=!1;if(ue&&ue.length>1&&(ve=ro.N.getLanguageId(ue[1])!==E),!ve)return ln}if(!ue||ue.length===0){const ve=new Uint32Array(2);return ve[0]=W,ve[1]=Zi(E),ve.buffer}return ue[ue.length-2]=W,ue.byteOffset===0&&ue.byteLength===ue.buffer.byteLength?ue.buffer:ue}_ensureLine(E){for(;E>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(E,W){W!==0&&(E+W>this._len&&(W=this._len-E),this._lineTokens.splice(E,W),this._len-=W)}_insertLines(E,W){if(W===0)return;const Q=[];for(let ue=0;ue<W;ue++)Q[ue]=null;this._lineTokens=D.Zv(this._lineTokens,E,Q),this._len+=W}setTokens(E,W,Q,ue,ve){const Oe=as._massageTokens(this._languageIdCodec.encodeLanguageId(E),Q,ue);this._ensureLine(W);const We=this._lineTokens[W];return this._lineTokens[W]=Oe,ve?!as._equals(We,Oe):!1}static _equals(E,W){if(!E||!W)return!E&&!W;const Q=Kn(E),ue=Kn(W);if(Q.length!==ue.length)return!1;for(let ve=0,Oe=Q.length;ve<Oe;ve++)if(Q[ve]!==ue[ve])return!1;return!0}acceptEdit(E,W,Q){this._acceptDeleteRange(E),this._acceptInsertText(new C.L(E.startLineNumber,E.startColumn),W,Q)}_acceptDeleteRange(E){const W=E.startLineNumber-1;if(W>=this._len)return;if(E.startLineNumber===E.endLineNumber){if(E.startColumn===E.endColumn)return;this._lineTokens[W]=Gn.delete(this._lineTokens[W],E.startColumn-1,E.endColumn-1);return}this._lineTokens[W]=Gn.deleteEnding(this._lineTokens[W],E.startColumn-1);const Q=E.endLineNumber-1;let ue=null;Q<this._len&&(ue=Gn.deleteBeginning(this._lineTokens[Q],E.endColumn-1)),this._lineTokens[W]=Gn.append(this._lineTokens[W],ue),this._deleteLines(E.startLineNumber,E.endLineNumber-E.startLineNumber)}_acceptInsertText(E,W,Q){if(W===0&&Q===0)return;const ue=E.lineNumber-1;if(!(ue>=this._len)){if(W===0){this._lineTokens[ue]=Gn.insert(this._lineTokens[ue],E.column-1,Q);return}this._lineTokens[ue]=Gn.deleteEnding(this._lineTokens[ue],E.column-1),this._lineTokens[ue]=Gn.insert(this._lineTokens[ue],E.column-1,Q),this._insertLines(E.lineNumber,W)}}setMultilineTokens(E,W){if(E.length===0)return{changes:[]};const Q=[];for(let ue=0,ve=E.length;ue<ve;ue++){const Oe=E[ue];let We=0,et=0,Fe=!1;for(let A=Oe.startLineNumber;A<=Oe.endLineNumber;A++)Fe?(this.setTokens(W.getLanguageId(),A-1,W.getLineLength(A),Oe.getLineTokens(A),!1),et=A):this.setTokens(W.getLanguageId(),A-1,W.getLineLength(A),Oe.getLineTokens(A),!0)&&(Fe=!0,We=A,et=A);Fe&&Q.push({fromLineNumber:We,toLineNumber:et})}return{changes:Q}}}function Zi(Je){return(Je<<0|0|0|32768|2<<24|1024)>>>0}class cn{constructor(E){this._pieces=[],this._isComplete=!1,this._languageIdCodec=E}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(E,W){this._pieces=E||[],this._isComplete=W}setPartial(E,W){let Q=E;if(W.length>0){const ve=W[0].getRange(),Oe=W[W.length-1].getRange();if(!ve||!Oe)return E;Q=E.plusRange(ve).plusRange(Oe)}let ue=null;for(let ve=0,Oe=this._pieces.length;ve<Oe;ve++){const We=this._pieces[ve];if(We.endLineNumber<Q.startLineNumber)continue;if(We.startLineNumber>Q.endLineNumber){ue=ue||{index:ve};break}if(We.removeTokens(Q),We.isEmpty()){this._pieces.splice(ve,1),ve--,Oe--;continue}if(We.endLineNumber<Q.startLineNumber)continue;if(We.startLineNumber>Q.endLineNumber){ue=ue||{index:ve};continue}const[et,Fe]=We.split(Q);if(et.isEmpty()){ue=ue||{index:ve};continue}Fe.isEmpty()||(this._pieces.splice(ve,1,et,Fe),ve++,Oe++,ue=ue||{index:ve})}return ue=ue||{index:this._pieces.length},W.length>0&&(this._pieces=D.Zv(this._pieces,ue.index,W)),Q}isComplete(){return this._isComplete}addSparseTokens(E,W){if(W.getLineContent().length===0)return W;const Q=this._pieces;if(Q.length===0)return W;const ue=cn._findFirstPieceWithLine(Q,E),ve=Q[ue].getLineTokens(E);if(!ve)return W;const Oe=W.getCount(),We=ve.getCount();let et=0;const Fe=[];let A=0,q=0;const fe=(Pe,Ye)=>{Pe!==q&&(q=Pe,Fe[A++]=Pe,Fe[A++]=Ye)};for(let Pe=0;Pe<We;Pe++){const Ye=ve.getStartCharacter(Pe),dt=ve.getEndCharacter(Pe),St=ve.getMetadata(Pe),Bt=((St&1?2048:0)|(St&2?4096:0)|(St&4?8192:0)|(St&8?16384:0)|(St&16?16744448:0)|(St&32?4278190080:0))>>>0,Ci=~Bt>>>0;for(;et<Oe&&W.getEndOffset(et)<=Ye;)fe(W.getEndOffset(et),W.getMetadata(et)),et++;for(et<Oe&&W.getStartOffset(et)<Ye&&fe(Ye,W.getMetadata(et));et<Oe&&W.getEndOffset(et)<dt;)fe(W.getEndOffset(et),W.getMetadata(et)&Ci|St&Bt),et++;if(et<Oe)fe(dt,W.getMetadata(et)&Ci|St&Bt),W.getEndOffset(et)===dt&&et++;else{const vi=Math.min(Math.max(0,et-1),Oe-1);fe(dt,W.getMetadata(vi)&Ci|St&Bt)}}for(;et<Oe;)fe(W.getEndOffset(et),W.getMetadata(et)),et++;return new Si.A(new Uint32Array(Fe),W.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(E,W){let Q=0,ue=E.length-1;for(;Q<ue;){let ve=Q+Math.floor((ue-Q)/2);if(E[ve].endLineNumber<W)Q=ve+1;else if(E[ve].startLineNumber>W)ue=ve-1;else{for(;ve>Q&&E[ve-1].startLineNumber<=W&&W<=E[ve-1].endLineNumber;)ve--;return ve}}return Q}acceptEdit(E,W,Q,ue,ve){for(const Oe of this._pieces)Oe.acceptEdit(E,W,Q,ue,ve)}}class pn extends mn.U{constructor(E,W,Q,ue,ve,Oe){super(),this._languageService=E,this._languageConfigurationService=W,this._textModel=Q,this._bracketPairsTextModelPart=ue,this._languageId=ve,this._attachedViews=Oe,this._semanticTokens=new cn(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new k.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new k.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new k.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new rn(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange(We=>{We.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens(We=>{this._emitModelTokensChangedEvent(We)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(We=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(E){if(E.isFlush)this._semanticTokens.flush();else if(!E.isEolChange)for(const W of E.changes){const[Q,ue,ve]=(0,B.Q)(W.text);this._semanticTokens.acceptEdit(W.range,Q,ue,ve,W.text.length>0?W.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(E)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(E){this.validateLineNumber(E);const W=this.grammarTokens.getLineTokens(E);return this._semanticTokens.addSparseTokens(E,W)}_emitModelTokensChangedEvent(E){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(E),this._onDidChangeTokens.fire(E))}validateLineNumber(E){if(E<1||E>this._textModel.getLineCount())throw new v.he("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(E){this.validateLineNumber(E),this.grammarTokens.forceTokenization(E)}isCheapToTokenize(E){return this.validateLineNumber(E),this.grammarTokens.isCheapToTokenize(E)}tokenizeIfCheap(E){this.validateLineNumber(E),this.grammarTokens.tokenizeIfCheap(E)}getTokenTypeIfInsertingCharacter(E,W,Q){return this.grammarTokens.getTokenTypeIfInsertingCharacter(E,W,Q)}tokenizeLineWithEdit(E,W,Q){return this.grammarTokens.tokenizeLineWithEdit(E,W,Q)}setSemanticTokens(E,W){this._semanticTokens.set(E,W),this._emitModelTokensChangedEvent({semanticTokensApplied:E!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(E,W){if(this.hasCompleteSemanticTokens())return;const Q=this._textModel.validateRange(this._semanticTokens.setPartial(E,W));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:Q.startLineNumber,toLineNumber:Q.endLineNumber}]})}getWordAtPosition(E){this.assertNotDisposed();const W=this._textModel.validatePosition(E),Q=this._textModel.getLineContent(W.lineNumber),ue=this.getLineTokens(W.lineNumber),ve=ue.findTokenIndexAtOffset(W.column-1),[Oe,We]=pn._findLanguageBoundaries(ue,ve),et=(0,Ai.t2)(W.column,this.getLanguageConfiguration(ue.getLanguageId(ve)).getWordDefinition(),Q.substring(Oe,We),Oe);if(et&&et.startColumn<=E.column&&E.column<=et.endColumn)return et;if(ve>0&&Oe===W.column-1){const[Fe,A]=pn._findLanguageBoundaries(ue,ve-1),q=(0,Ai.t2)(W.column,this.getLanguageConfiguration(ue.getLanguageId(ve-1)).getWordDefinition(),Q.substring(Fe,A),Fe);if(q&&q.startColumn<=E.column&&E.column<=q.endColumn)return q}return null}getLanguageConfiguration(E){return this._languageConfigurationService.getLanguageConfiguration(E)}static _findLanguageBoundaries(E,W){const Q=E.getLanguageId(W);let ue=0;for(let Oe=W;Oe>=0&&E.getLanguageId(Oe)===Q;Oe--)ue=E.getStartOffset(Oe);let ve=E.getLineContent().length;for(let Oe=W,We=E.getCount();Oe<We&&E.getLanguageId(Oe)===Q;Oe++)ve=E.getEndOffset(Oe);return[ue,ve]}getWordUntilPosition(E){const W=this.getWordAtPosition(E);return W?{word:W.word.substr(0,E.column-W.startColumn),startColumn:W.startColumn,endColumn:E.column}:{word:"",startColumn:E.column,endColumn:E.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(E,W){const Q=this._textModel.validatePosition(new C.L(E,W)),ue=this.getLineTokens(Q.lineNumber);return ue.getLanguageId(ue.findTokenIndexAtOffset(Q.column-1))}setLanguageId(E,W="api"){if(this._languageId===E)return;const Q={oldLanguage:this._languageId,newLanguage:E,source:W};this._languageId=E,this._bracketPairsTextModelPart.handleDidChangeLanguage(Q),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(Q),this._onDidChangeLanguageConfiguration.fire({})}}class rn extends L.JT{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(E,W,Q,ue){super(),this._languageIdCodec=E,this._textModel=W,this.getLanguageId=Q,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new L.XK),this._tokens=new as(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new L.XK),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new k.Q5),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new k.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new L.b2),this._register(on.RW.onDidChange(ve=>{const Oe=this.getLanguageId();ve.changedLanguages.indexOf(Oe)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(ue.onDidChangeVisibleRanges(({view:ve,state:Oe})=>{if(Oe){let We=this._attachedViewStates.get(ve);We||(We=new Xn(()=>this.refreshRanges(We.lineRanges)),this._attachedViewStates.set(ve,We)),We.handleStateChange(Oe)}else this._attachedViewStates.deleteAndDispose(ve)}))}resetTokenization(E=!0){var W;this._tokens.flush(),(W=this._debugBackgroundTokens)===null||W===void 0||W.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new Ji(this._textModel.getLineCount())),E&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const Q=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const Oe=on.RW.get(this.getLanguageId());if(!Oe)return[null,null];let We;try{We=Oe.getInitialState()}catch(et){return(0,v.dL)(et),[null,null]}return[Oe,We]},[ue,ve]=Q();if(ue&&ve?this._tokenizer=new tn(this._textModel.getLineCount(),ue,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const Oe={setTokens:We=>{this.setTokens(We)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const We=2;this._backgroundTokenizationState=We,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(We,et)=>{var Fe;if(!this._tokenizer)return;const A=this._tokenizer.store.getFirstInvalidEndStateLineNumber();A!==null&&We>=A&&((Fe=this._tokenizer)===null||Fe===void 0||Fe.store.setEndState(We,et))}};ue&&ue.createBackgroundTokenizer&&!ue.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=ue.createBackgroundTokenizer(this._textModel,Oe)),this._backgroundTokenizer.value||(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new qn(this._tokenizer,Oe),this._defaultBackgroundTokenizer.handleChanges()),ue!=null&&ue.backgroundTokenizerShouldOnlyVerifyTokens&&ue.createBackgroundTokenizer?(this._debugBackgroundTokens=new as(this._languageIdCodec),this._debugBackgroundStates=new Ji(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=ue.createBackgroundTokenizer(this._textModel,{setTokens:We=>{var et;(et=this._debugBackgroundTokens)===null||et===void 0||et.setMultilineTokens(We,this._textModel)},backgroundTokenizationFinished(){},setEndState:(We,et)=>{var Fe;(Fe=this._debugBackgroundStates)===null||Fe===void 0||Fe.setEndState(We,et)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var E;(E=this._defaultBackgroundTokenizer)===null||E===void 0||E.handleChanges()}handleDidChangeContent(E){var W,Q,ue;if(E.isFlush)this.resetTokenization(!1);else if(!E.isEolChange){for(const ve of E.changes){const[Oe,We]=(0,B.Q)(ve.text);this._tokens.acceptEdit(ve.range,Oe,We),(W=this._debugBackgroundTokens)===null||W===void 0||W.acceptEdit(ve.range,Oe,We)}(Q=this._debugBackgroundStates)===null||Q===void 0||Q.acceptChanges(E.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(E.changes),(ue=this._defaultBackgroundTokenizer)===null||ue===void 0||ue.handleChanges()}}setTokens(E){const{changes:W}=this._tokens.setMultilineTokens(E,this._textModel);return W.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:W}),{changes:W}}refreshAllVisibleLineTokens(){const E=b.z.joinMany([...this._attachedViewStates].map(([W,Q])=>Q.lineRanges));this.refreshRanges(E)}refreshRanges(E){for(const W of E)this.refreshRange(W.startLineNumber,W.endLineNumberExclusive-1)}refreshRange(E,W){var Q,ue;if(!this._tokenizer)return;E=Math.max(1,Math.min(this._textModel.getLineCount(),E)),W=Math.min(this._textModel.getLineCount(),W);const ve=new Ut,{heuristicTokens:Oe}=this._tokenizer.tokenizeHeuristically(ve,E,W),We=this.setTokens(ve.finalize());if(Oe)for(const et of We.changes)(Q=this._backgroundTokenizer.value)===null||Q===void 0||Q.requestTokens(et.fromLineNumber,et.toLineNumber+1);(ue=this._defaultBackgroundTokenizer)===null||ue===void 0||ue.checkFinished()}forceTokenization(E){var W,Q;const ue=new Ut;(W=this._tokenizer)===null||W===void 0||W.updateTokensUntilLine(ue,E),this.setTokens(ue.finalize()),(Q=this._defaultBackgroundTokenizer)===null||Q===void 0||Q.checkFinished()}isCheapToTokenize(E){return this._tokenizer?this._tokenizer.isCheapToTokenize(E):!0}tokenizeIfCheap(E){this.isCheapToTokenize(E)&&this.forceTokenization(E)}getLineTokens(E){var W;const Q=this._textModel.getLineContent(E),ue=this._tokens.getTokens(this._textModel.getLanguageId(),E-1,Q);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>E&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>E){const ve=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),E-1,Q);!ue.equals(ve)&&(!((W=this._debugBackgroundTokenizer.value)===null||W===void 0)&&W.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(E)}return ue}getTokenTypeIfInsertingCharacter(E,W,Q){if(!this._tokenizer)return 0;const ue=this._textModel.validatePosition(new C.L(E,W));return this.forceTokenization(ue.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(ue,Q)}tokenizeLineWithEdit(E,W,Q){if(!this._tokenizer)return null;const ue=this._textModel.validatePosition(E);return this.forceTokenization(ue.lineNumber),this._tokenizer.tokenizeLineWithEdit(ue,W,Q)}get hasTokens(){return this._tokens.hasTokens}}class Xn extends L.JT{get lineRanges(){return this._lineRanges}constructor(E){super(),this._refreshTokens=E,this.runner=this._register(new ji.pY(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,D.fS)(this._computedLineRanges,this._lineRanges,(E,W)=>E.equals(W))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(E){this._lineRanges=E.visibleLineRanges,E.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}var Is=c(41581),hn=c(62216),us=function(Je,E,W,Q){var ue=arguments.length,ve=ue<3?E:Q===null?Q=Object.getOwnPropertyDescriptor(E,W):Q,Oe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ve=Reflect.decorate(Je,E,W,Q);else for(var We=Je.length-1;We>=0;We--)(Oe=Je[We])&&(ve=(ue<3?Oe(ve):ue>3?Oe(E,W,ve):Oe(E,W))||ve);return ue>3&&ve&&Object.defineProperty(E,W,ve),ve},Rs=function(Je,E){return function(W,Q){E(W,Q,Je)}},ts;function ls(Je){const E=new Ni;return E.acceptChunk(Je),E.finish()}function ms(Je){const E=new Ni;let W;for(;typeof(W=Je.read())=="string";)E.acceptChunk(W);return E.finish()}function qi(Je,E){let W;return typeof Je=="string"?W=ls(Je):O.Hf(Je)?W=ms(Je):W=Je,W.create(E)}let Ss=0;const Gs=999,Eo=1e4;class Ys{constructor(E){this._source=E,this._eos=!1}read(){if(this._eos)return null;const E=[];let W=0,Q=0;do{const ue=this._source.read();if(ue===null)return this._eos=!0,W===0?null:E.join("");if(ue.length>0&&(E[W++]=ue,Q+=ue.length),Q>=64*1024)return E.join("")}while(!0)}}const vs=()=>{throw new Error("Invalid change accessor")};let Fs=ts=class extends L.JT{static resolveOptions(E,W){if(W.detectIndentation){const Q=Dt(E,W.tabSize,W.insertSpaces);return new O.dJ({tabSize:Q.tabSize,indentSize:"tabSize",insertSpaces:Q.insertSpaces,trimAutoWhitespace:W.trimAutoWhitespace,defaultEOL:W.defaultEOL,bracketPairColorizationOptions:W.bracketPairColorizationOptions})}return new O.dJ(W)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(E){return this._eventEmitter.slowEvent(W=>E(W.contentChangedEvent))}onDidChangeContentOrInjectedText(E){return(0,L.F8)(this._eventEmitter.fastEvent(W=>E(W)),this._onDidChangeInjectedText.event(W=>E(W)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(E,W,Q,ue=null,ve,Oe,We){super(),this._undoRedoService=ve,this._languageService=Oe,this._languageConfigurationService=We,this._onWillDispose=this._register(new k.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new Ei(Pe=>this.handleBeforeFireDecorationsChangedEvent(Pe))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new k.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new k.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new k.Q5),this._eventEmitter=this._register(new Pi),this._languageSelectionListener=this._register(new L.XK),this._deltaDecorationCallCnt=0,this._attachedViews=new Li,Ss++,this.id="$model"+Ss,this.isForSimpleWidget=Q.isForSimpleWidget,typeof ue=="undefined"||ue===null?this._associatedResource=M.o.parse("inmemory://model/"+Ss):this._associatedResource=ue,this._attachedEditorCount=0;const{textBuffer:et,disposable:Fe}=qi(E,Q.defaultEOL);this._buffer=et,this._bufferDisposable=Fe,this._options=ts.resolveOptions(this._buffer,Q);const A=typeof W=="string"?W:W.languageId;typeof W!="string"&&(this._languageSelectionListener.value=W.onDidChange(()=>this._setLanguage(W.languageId))),this._bracketPairs=this._register(new _e(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new ut.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new Xe(this)),this._tokenizationTextModelPart=new pn(this._languageService,this._languageConfigurationService,this,this._bracketPairs,A,this._attachedViews);const q=this._buffer.getLineCount(),fe=this._buffer.getValueLengthInRange(new S.e(1,1,q,this._buffer.getLineLength(q)+1),0);Q.largeFileOptimizations?(this._isTooLargeForTokenization=fe>ts.LARGE_FILE_SIZE_THRESHOLD||q>ts.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=fe>ts.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=fe>ts._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=T.PJ(Ss),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new ao,this._commandManager=new lt.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(A)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const E=new Wt([],"",`
`,!1,!1,!0,!0);E.dispose(),this._buffer=E,this._bufferDisposable=L.JT.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(E,W){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(W),this._bracketPairs.handleDidChangeContent(W),this._eventEmitter.fire(new Is.fV(E,W)))}setValue(E){if(this._assertNotDisposed(),E==null)throw(0,v.b1)();const{textBuffer:W,disposable:Q}=qi(E,this._options.defaultEOL);this._setValueFromTextBuffer(W,Q)}_createContentChanged2(E,W,Q,ue,ve,Oe,We,et){return{changes:[{range:E,rangeOffset:W,rangeLength:Q,text:ue}],eol:this._buffer.getEOL(),isEolChange:et,versionId:this.getVersionId(),isUndoing:ve,isRedoing:Oe,isFlush:We}}_setValueFromTextBuffer(E,W){this._assertNotDisposed();const Q=this.getFullModelRange(),ue=this.getValueLengthInRange(Q),ve=this.getLineCount(),Oe=this.getLineMaxColumn(ve);this._buffer=E,this._bufferDisposable.dispose(),this._bufferDisposable=W,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new ao,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Is.dQ([new Is.Jx],this._versionId,!1,!1),this._createContentChanged2(new S.e(1,1,ve,Oe),0,ue,this.getValue(),!1,!1,!0,!1))}setEOL(E){this._assertNotDisposed();const W=E===1?`\r
`:`
`;if(this._buffer.getEOL()===W)return;const Q=this.getFullModelRange(),ue=this.getValueLengthInRange(Q),ve=this.getLineCount(),Oe=this.getLineMaxColumn(ve);this._onBeforeEOLChange(),this._buffer.setEOL(W),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Is.dQ([new Is.CZ],this._versionId,!1,!1),this._createContentChanged2(new S.e(1,1,ve,Oe),0,ue,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const E=this.getVersionId(),W=this._decorationsTree.collectNodesPostOrder();for(let Q=0,ue=W.length;Q<ue;Q++){const ve=W[Q],Oe=ve.range,We=ve.cachedAbsoluteStart-ve.start,et=this._buffer.getOffsetAt(Oe.startLineNumber,Oe.startColumn),Fe=this._buffer.getOffsetAt(Oe.endLineNumber,Oe.endColumn);ve.cachedAbsoluteStart=et,ve.cachedAbsoluteEnd=Fe,ve.cachedVersionId=E,ve.start=et-We,ve.end=Fe-We,Be(ve)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(E){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(E)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let E=0,W=0;const Q=this._buffer.getLineCount();for(let ue=1;ue<=Q;ue++){const ve=this._buffer.getLineLength(ue);ve>=Eo?W+=ve:E+=ve}return W>E}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(E){this._assertNotDisposed();const W=typeof E.tabSize!="undefined"?E.tabSize:this._options.tabSize,Q=typeof E.indentSize!="undefined"?E.indentSize:this._options.originalIndentSize,ue=typeof E.insertSpaces!="undefined"?E.insertSpaces:this._options.insertSpaces,ve=typeof E.trimAutoWhitespace!="undefined"?E.trimAutoWhitespace:this._options.trimAutoWhitespace,Oe=typeof E.bracketColorizationOptions!="undefined"?E.bracketColorizationOptions:this._options.bracketPairColorizationOptions,We=new O.dJ({tabSize:W,indentSize:Q,insertSpaces:ue,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:ve,bracketPairColorizationOptions:Oe});if(this._options.equals(We))return;const et=this._options.createChangeEvent(We);this._options=We,this._bracketPairs.handleDidChangeOptions(et),this._decorationProvider.handleDidChangeOptions(et),this._onDidChangeOptions.fire(et)}detectIndentation(E,W){this._assertNotDisposed();const Q=Dt(this._buffer,W,E);this.updateOptions({insertSpaces:Q.insertSpaces,tabSize:Q.tabSize,indentSize:Q.tabSize})}normalizeIndentation(E){return this._assertNotDisposed(),(0,y.x)(E,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(E=null){const W=this.findMatches(T.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(E,W.map(Q=>({range:Q.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(E){this._assertNotDisposed();const W=this._validatePosition(E.lineNumber,E.column,0);return this._buffer.getOffsetAt(W.lineNumber,W.column)}getPositionAt(E){this._assertNotDisposed();const W=Math.min(this._buffer.getLength(),Math.max(0,E));return this._buffer.getPositionAt(W)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(E){this._versionId=E}_overwriteAlternativeVersionId(E){this._alternativeVersionId=E}_overwriteInitialUndoRedoSnapshot(E){this._initialUndoRedoSnapshot=E}getValue(E,W=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new v.he("Operation would exceed heap memory limits");const Q=this.getFullModelRange(),ue=this.getValueInRange(Q,E);return W?this._buffer.getBOM()+ue:ue}createSnapshot(E=!1){return new Ys(this._buffer.createSnapshot(E))}getValueLength(E,W=!1){this._assertNotDisposed();const Q=this.getFullModelRange(),ue=this.getValueLengthInRange(Q,E);return W?this._buffer.getBOM().length+ue:ue}getValueInRange(E,W=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(E),W)}getValueLengthInRange(E,W=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(E),W)}getCharacterCountInRange(E,W=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(E),W)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(E){if(this._assertNotDisposed(),E<1||E>this.getLineCount())throw new v.he("Illegal value for lineNumber");return this._buffer.getLineContent(E)}getLineLength(E){if(this._assertNotDisposed(),E<1||E>this.getLineCount())throw new v.he("Illegal value for lineNumber");return this._buffer.getLineLength(E)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new v.he("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(E){return this._assertNotDisposed(),1}getLineMaxColumn(E){if(this._assertNotDisposed(),E<1||E>this.getLineCount())throw new v.he("Illegal value for lineNumber");return this._buffer.getLineLength(E)+1}getLineFirstNonWhitespaceColumn(E){if(this._assertNotDisposed(),E<1||E>this.getLineCount())throw new v.he("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(E)}getLineLastNonWhitespaceColumn(E){if(this._assertNotDisposed(),E<1||E>this.getLineCount())throw new v.he("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(E)}_validateRangeRelaxedNoAllocations(E){const W=this._buffer.getLineCount(),Q=E.startLineNumber,ue=E.startColumn;let ve=Math.floor(typeof Q=="number"&&!isNaN(Q)?Q:1),Oe=Math.floor(typeof ue=="number"&&!isNaN(ue)?ue:1);if(ve<1)ve=1,Oe=1;else if(ve>W)ve=W,Oe=this.getLineMaxColumn(ve);else if(Oe<=1)Oe=1;else{const q=this.getLineMaxColumn(ve);Oe>=q&&(Oe=q)}const We=E.endLineNumber,et=E.endColumn;let Fe=Math.floor(typeof We=="number"&&!isNaN(We)?We:1),A=Math.floor(typeof et=="number"&&!isNaN(et)?et:1);if(Fe<1)Fe=1,A=1;else if(Fe>W)Fe=W,A=this.getLineMaxColumn(Fe);else if(A<=1)A=1;else{const q=this.getLineMaxColumn(Fe);A>=q&&(A=q)}return Q===ve&&ue===Oe&&We===Fe&&et===A&&E instanceof S.e&&!(E instanceof _.Y)?E:new S.e(ve,Oe,Fe,A)}_isValidPosition(E,W,Q){if(typeof E!="number"||typeof W!="number"||isNaN(E)||isNaN(W)||E<1||W<1||(E|0)!==E||(W|0)!==W)return!1;const ue=this._buffer.getLineCount();if(E>ue)return!1;if(W===1)return!0;const ve=this.getLineMaxColumn(E);if(W>ve)return!1;if(Q===1){const Oe=this._buffer.getLineCharCode(E,W-2);if(T.ZG(Oe))return!1}return!0}_validatePosition(E,W,Q){const ue=Math.floor(typeof E=="number"&&!isNaN(E)?E:1),ve=Math.floor(typeof W=="number"&&!isNaN(W)?W:1),Oe=this._buffer.getLineCount();if(ue<1)return new C.L(1,1);if(ue>Oe)return new C.L(Oe,this.getLineMaxColumn(Oe));if(ve<=1)return new C.L(ue,1);const We=this.getLineMaxColumn(ue);if(ve>=We)return new C.L(ue,We);if(Q===1){const et=this._buffer.getLineCharCode(ue,ve-2);if(T.ZG(et))return new C.L(ue,ve-1)}return new C.L(ue,ve)}validatePosition(E){return this._assertNotDisposed(),E instanceof C.L&&this._isValidPosition(E.lineNumber,E.column,1)?E:this._validatePosition(E.lineNumber,E.column,1)}_isValidRange(E,W){const Q=E.startLineNumber,ue=E.startColumn,ve=E.endLineNumber,Oe=E.endColumn;if(!this._isValidPosition(Q,ue,0)||!this._isValidPosition(ve,Oe,0))return!1;if(W===1){const We=ue>1?this._buffer.getLineCharCode(Q,ue-2):0,et=Oe>1&&Oe<=this._buffer.getLineLength(ve)?this._buffer.getLineCharCode(ve,Oe-2):0,Fe=T.ZG(We),A=T.ZG(et);return!Fe&&!A}return!0}validateRange(E){if(this._assertNotDisposed(),E instanceof S.e&&!(E instanceof _.Y)&&this._isValidRange(E,1))return E;const Q=this._validatePosition(E.startLineNumber,E.startColumn,0),ue=this._validatePosition(E.endLineNumber,E.endColumn,0),ve=Q.lineNumber,Oe=Q.column,We=ue.lineNumber,et=ue.column;{const Fe=Oe>1?this._buffer.getLineCharCode(ve,Oe-2):0,A=et>1&&et<=this._buffer.getLineLength(We)?this._buffer.getLineCharCode(We,et-2):0,q=T.ZG(Fe),fe=T.ZG(A);return!q&&!fe?new S.e(ve,Oe,We,et):ve===We&&Oe===et?new S.e(ve,Oe-1,We,et-1):q&&fe?new S.e(ve,Oe-1,We,et+1):q?new S.e(ve,Oe-1,We,et):new S.e(ve,Oe,We,et+1)}return new S.e(ve,Oe,We,et)}modifyPosition(E,W){this._assertNotDisposed();const Q=this.getOffsetAt(E)+W;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,Q)))}getFullModelRange(){this._assertNotDisposed();const E=this.getLineCount();return new S.e(1,1,E,this.getLineMaxColumn(E))}findMatchesLineByLine(E,W,Q,ue){return this._buffer.findMatchesLineByLine(E,W,Q,ue)}findMatches(E,W,Q,ue,ve,Oe,We=Gs){this._assertNotDisposed();let et=null;W!==null&&(Array.isArray(W)||(W=[W]),W.every(q=>S.e.isIRange(q))&&(et=W.map(q=>this.validateRange(q)))),et===null&&(et=[this.getFullModelRange()]),et=et.sort((q,fe)=>q.startLineNumber-fe.startLineNumber||q.startColumn-fe.startColumn);const Fe=[];Fe.push(et.reduce((q,fe)=>S.e.areIntersecting(q,fe)?q.plusRange(fe):(Fe.push(q),fe)));let A;if(!Q&&E.indexOf(`
`)<0){const fe=new In.bc(E,Q,ue,ve).parseSearchRequest();if(!fe)return[];A=Pe=>this.findMatchesLineByLine(Pe,fe,Oe,We)}else A=q=>In.pM.findMatches(this,new In.bc(E,Q,ue,ve),q,Oe,We);return Fe.map(A).reduce((q,fe)=>q.concat(fe),[])}findNextMatch(E,W,Q,ue,ve,Oe){this._assertNotDisposed();const We=this.validatePosition(W);if(!Q&&E.indexOf(`
`)<0){const Fe=new In.bc(E,Q,ue,ve).parseSearchRequest();if(!Fe)return null;const A=this.getLineCount();let q=new S.e(We.lineNumber,We.column,A,this.getLineMaxColumn(A)),fe=this.findMatchesLineByLine(q,Fe,Oe,1);return In.pM.findNextMatch(this,new In.bc(E,Q,ue,ve),We,Oe),fe.length>0||(q=new S.e(1,1,We.lineNumber,this.getLineMaxColumn(We.lineNumber)),fe=this.findMatchesLineByLine(q,Fe,Oe,1),fe.length>0)?fe[0]:null}return In.pM.findNextMatch(this,new In.bc(E,Q,ue,ve),We,Oe)}findPreviousMatch(E,W,Q,ue,ve,Oe){this._assertNotDisposed();const We=this.validatePosition(W);return In.pM.findPreviousMatch(this,new In.bc(E,Q,ue,ve),We,Oe)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(E){if((this.getEOL()===`
`?0:1)!==E)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(E)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(E){return E instanceof O.Qi?E:new O.Qi(E.identifier||null,this.validateRange(E.range),E.text,E.forceMoveMarkers||!1,E.isAutoWhitespaceEdit||!1,E._isTracked||!1)}_validateEditOperations(E){const W=[];for(let Q=0,ue=E.length;Q<ue;Q++)W[Q]=this._validateEditOperation(E[Q]);return W}pushEditOperations(E,W,Q,ue){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(E,this._validateEditOperations(W),Q,ue)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(E,W,Q,ue){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const ve=W.map(We=>({range:this.validateRange(We.range),text:We.text}));let Oe=!0;if(E)for(let We=0,et=E.length;We<et;We++){const Fe=E[We];let A=!1;for(let q=0,fe=ve.length;q<fe;q++){const Pe=ve[q].range,Ye=Pe.startLineNumber>Fe.endLineNumber,dt=Fe.startLineNumber>Pe.endLineNumber;if(!Ye&&!dt){A=!0;break}}if(!A){Oe=!1;break}}if(Oe)for(let We=0,et=this._trimAutoWhitespaceLines.length;We<et;We++){const Fe=this._trimAutoWhitespaceLines[We],A=this.getLineMaxColumn(Fe);let q=!0;for(let fe=0,Pe=ve.length;fe<Pe;fe++){const Ye=ve[fe].range,dt=ve[fe].text;if(!(Fe<Ye.startLineNumber||Fe>Ye.endLineNumber)&&!(Fe===Ye.startLineNumber&&Ye.startColumn===A&&Ye.isEmpty()&&dt&&dt.length>0&&dt.charAt(0)===`
`)&&!(Fe===Ye.startLineNumber&&Ye.startColumn===1&&Ye.isEmpty()&&dt&&dt.length>0&&dt.charAt(dt.length-1)===`
`)){q=!1;break}}if(q){const fe=new S.e(Fe,1,Fe,A);W.push(new O.Qi(null,fe,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(E,W,Q,ue)}_applyUndo(E,W,Q,ue){const ve=E.map(Oe=>{const We=this.getPositionAt(Oe.newPosition),et=this.getPositionAt(Oe.newEnd);return{range:new S.e(We.lineNumber,We.column,et.lineNumber,et.column),text:Oe.oldText}});this._applyUndoRedoEdits(ve,W,!0,!1,Q,ue)}_applyRedo(E,W,Q,ue){const ve=E.map(Oe=>{const We=this.getPositionAt(Oe.oldPosition),et=this.getPositionAt(Oe.oldEnd);return{range:new S.e(We.lineNumber,We.column,et.lineNumber,et.column),text:Oe.newText}});this._applyUndoRedoEdits(ve,W,!1,!0,Q,ue)}_applyUndoRedoEdits(E,W,Q,ue,ve,Oe){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=Q,this._isRedoing=ue,this.applyEdits(E,!1),this.setEOL(W),this._overwriteAlternativeVersionId(ve)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(Oe),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(E,W=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const Q=this._validateEditOperations(E);return this._doApplyEdits(Q,W)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(E,W){const Q=this._buffer.getLineCount(),ue=this._buffer.applyEdits(E,this._options.trimAutoWhitespace,W),ve=this._buffer.getLineCount(),Oe=ue.changes;if(this._trimAutoWhitespaceLines=ue.trimAutoWhitespaceLineNumbers,Oe.length!==0){for(let Fe=0,A=Oe.length;Fe<A;Fe++){const q=Oe[Fe];this._decorationsTree.acceptReplace(q.rangeOffset,q.rangeLength,q.text.length,q.forceMoveMarkers)}const We=[];this._increaseVersionId();let et=Q;for(let Fe=0,A=Oe.length;Fe<A;Fe++){const q=Oe[Fe],[fe]=(0,B.Q)(q.text);this._onDidChangeDecorations.fire();const Pe=q.range.startLineNumber,Ye=q.range.endLineNumber,dt=Ye-Pe,St=fe,Bt=Math.min(dt,St),Ci=St-dt,vi=ve-et-Ci+Pe,zi=vi,Gi=vi+St,Wi=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new C.L(zi,1)),this.getOffsetAt(new C.L(Gi,this.getLineMaxColumn(Gi))),0),Mi=Is.gk.fromDecorations(Wi),Oi=new D.H9(Mi);for(let Xi=Bt;Xi>=0;Xi--){const Hn=Pe+Xi,js=vi+Xi;Oi.takeFromEndWhile(So=>So.lineNumber>js);const go=Oi.takeFromEndWhile(So=>So.lineNumber===js);We.push(new Is.rU(Hn,this.getLineContent(js),go))}if(Bt<dt){const Xi=Pe+Bt;We.push(new Is.lN(Xi+1,Ye))}if(Bt<St){const Xi=new D.H9(Mi),Hn=Pe+Bt,js=St-Bt,go=ve-et-js+Hn+1,So=[],An=[];for(let Ts=0;Ts<js;Ts++){const rs=go+Ts;An[Ts]=this.getLineContent(rs),Xi.takeWhile($n=>$n.lineNumber<rs),So[Ts]=Xi.takeWhile($n=>$n.lineNumber===rs)}We.push(new Is.Tx(Hn+1,Pe+St,An,So))}et+=Ci}this._emitContentChangedEvent(new Is.dQ(We,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:Oe,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return ue.reverseEdits===null?void 0:ue.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(E){if(E===null||E.size===0)return;const Q=Array.from(E).map(ue=>new Is.rU(ue,this.getLineContent(ue),this._getInjectedTextInLine(ue)));this._onDidChangeInjectedText.fire(new Is.D8(Q))}changeDecorations(E,W=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(W,E)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(E,W){const Q={addDecoration:(ve,Oe)=>this._deltaDecorationsImpl(E,[],[{range:ve,options:Oe}])[0],changeDecoration:(ve,Oe)=>{this._changeDecorationImpl(ve,Oe)},changeDecorationOptions:(ve,Oe)=>{this._changeDecorationOptionsImpl(ve,si(Oe))},removeDecoration:ve=>{this._deltaDecorationsImpl(E,[ve],[])},deltaDecorations:(ve,Oe)=>ve.length===0&&Oe.length===0?[]:this._deltaDecorationsImpl(E,ve,Oe)};let ue=null;try{ue=W(Q)}catch(ve){(0,v.dL)(ve)}return Q.addDecoration=vs,Q.changeDecoration=vs,Q.changeDecorationOptions=vs,Q.removeDecoration=vs,Q.deltaDecorations=vs,ue}deltaDecorations(E,W,Q=0){if(this._assertNotDisposed(),E||(E=[]),E.length===0&&W.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,v.dL)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(Q,E,W)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(E){return this.getDecorationRange(E)}_setTrackedRange(E,W,Q){const ue=E?this._decorations[E]:null;if(!ue)return W?this._deltaDecorationsImpl(0,[],[{range:W,options:ai[Q]}],!0)[0]:null;if(!W)return this._decorationsTree.delete(ue),delete this._decorations[ue.id],null;const ve=this._validateRangeRelaxedNoAllocations(W),Oe=this._buffer.getOffsetAt(ve.startLineNumber,ve.startColumn),We=this._buffer.getOffsetAt(ve.endLineNumber,ve.endColumn);return this._decorationsTree.delete(ue),ue.reset(this.getVersionId(),Oe,We,ve),ue.setOptions(ai[Q]),this._decorationsTree.insert(ue),ue.id}removeAllDecorationsWithOwnerId(E){if(this._isDisposed)return;const W=this._decorationsTree.collectNodesFromOwner(E);for(let Q=0,ue=W.length;Q<ue;Q++){const ve=W[Q];this._decorationsTree.delete(ve),delete this._decorations[ve.id]}}getDecorationOptions(E){const W=this._decorations[E];return W?W.options:null}getDecorationRange(E){const W=this._decorations[E];return W?this._decorationsTree.getNodeRange(this,W):null}getLineDecorations(E,W=0,Q=!1){return E<1||E>this.getLineCount()?[]:this.getLinesDecorations(E,E,W,Q)}getLinesDecorations(E,W,Q=0,ue=!1,ve=!1){const Oe=this.getLineCount(),We=Math.min(Oe,Math.max(1,E)),et=Math.min(Oe,Math.max(1,W)),Fe=this.getLineMaxColumn(et),A=new S.e(We,1,et,Fe),q=this._getDecorationsInRange(A,Q,ue,ve);return(0,D.vA)(q,this._decorationProvider.getDecorationsInRange(A,Q,ue)),q}getDecorationsInRange(E,W=0,Q=!1,ue=!1,ve=!1){const Oe=this.validateRange(E),We=this._getDecorationsInRange(Oe,W,Q,ve);return(0,D.vA)(We,this._decorationProvider.getDecorationsInRange(Oe,W,Q,ue)),We}getOverviewRulerDecorations(E=0,W=!1){return this._decorationsTree.getAll(this,E,W,!0,!1)}getInjectedTextDecorations(E=0){return this._decorationsTree.getAllInjectedText(this,E)}_getInjectedTextInLine(E){const W=this._buffer.getOffsetAt(E,1),Q=W+this._buffer.getLineLength(E),ue=this._decorationsTree.getInjectedTextInInterval(this,W,Q,0);return Is.gk.fromDecorations(ue).filter(ve=>ve.lineNumber===E)}getAllDecorations(E=0,W=!1){let Q=this._decorationsTree.getAll(this,E,W,!1,!1);return Q=Q.concat(this._decorationProvider.getAllDecorations(E,W)),Q}getAllMarginDecorations(E=0){return this._decorationsTree.getAll(this,E,!1,!1,!0)}_getDecorationsInRange(E,W,Q,ue){const ve=this._buffer.getOffsetAt(E.startLineNumber,E.startColumn),Oe=this._buffer.getOffsetAt(E.endLineNumber,E.endColumn);return this._decorationsTree.getAllInInterval(this,ve,Oe,W,Q,ue)}getRangeAt(E,W){return this._buffer.getRangeAt(E,W-E)}_changeDecorationImpl(E,W){const Q=this._decorations[E];if(!Q)return;if(Q.options.after){const We=this.getDecorationRange(E);this._onDidChangeDecorations.recordLineAffectedByInjectedText(We.endLineNumber)}if(Q.options.before){const We=this.getDecorationRange(E);this._onDidChangeDecorations.recordLineAffectedByInjectedText(We.startLineNumber)}const ue=this._validateRangeRelaxedNoAllocations(W),ve=this._buffer.getOffsetAt(ue.startLineNumber,ue.startColumn),Oe=this._buffer.getOffsetAt(ue.endLineNumber,ue.endColumn);this._decorationsTree.delete(Q),Q.reset(this.getVersionId(),ve,Oe,ue),this._decorationsTree.insert(Q),this._onDidChangeDecorations.checkAffectedAndFire(Q.options),Q.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ue.endLineNumber),Q.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ue.startLineNumber)}_changeDecorationOptionsImpl(E,W){const Q=this._decorations[E];if(!Q)return;const ue=!!(Q.options.overviewRuler&&Q.options.overviewRuler.color),ve=!!(W.overviewRuler&&W.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(Q.options),this._onDidChangeDecorations.checkAffectedAndFire(W),Q.options.after||W.after){const Oe=this._decorationsTree.getNodeRange(this,Q);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Oe.endLineNumber)}if(Q.options.before||W.before){const Oe=this._decorationsTree.getNodeRange(this,Q);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Oe.startLineNumber)}ue!==ve?(this._decorationsTree.delete(Q),Q.setOptions(W),this._decorationsTree.insert(Q)):Q.setOptions(W)}_deltaDecorationsImpl(E,W,Q,ue=!1){const ve=this.getVersionId(),Oe=W.length;let We=0;const et=Q.length;let Fe=0;this._onDidChangeDecorations.beginDeferredEmit();try{const A=new Array(et);for(;We<Oe||Fe<et;){let q=null;if(We<Oe){do q=this._decorations[W[We++]];while(!q&&We<Oe);if(q){if(q.options.after){const fe=this._decorationsTree.getNodeRange(this,q);this._onDidChangeDecorations.recordLineAffectedByInjectedText(fe.endLineNumber)}if(q.options.before){const fe=this._decorationsTree.getNodeRange(this,q);this._onDidChangeDecorations.recordLineAffectedByInjectedText(fe.startLineNumber)}this._decorationsTree.delete(q),ue||this._onDidChangeDecorations.checkAffectedAndFire(q.options)}}if(Fe<et){if(!q){const Bt=++this._lastDecorationId,Ci=`${this._instanceId};${Bt}`;q=new Yt(Ci,0,0),this._decorations[Ci]=q}const fe=Q[Fe],Pe=this._validateRangeRelaxedNoAllocations(fe.range),Ye=si(fe.options),dt=this._buffer.getOffsetAt(Pe.startLineNumber,Pe.startColumn),St=this._buffer.getOffsetAt(Pe.endLineNumber,Pe.endColumn);q.ownerId=E,q.reset(ve,dt,St,Pe),q.setOptions(Ye),q.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Pe.endLineNumber),q.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Pe.startLineNumber),ue||this._onDidChangeDecorations.checkAffectedAndFire(Ye),this._decorationsTree.insert(q),A[Fe]=q.id,Fe++}else q&&delete this._decorations[q.id]}return A}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(E,W){typeof E=="string"?(this._languageSelectionListener.clear(),this._setLanguage(E,W)):(this._languageSelectionListener.value=E.onDidChange(()=>this._setLanguage(E.languageId,W)),this._setLanguage(E.languageId,W))}_setLanguage(E,W){this.tokenization.setLanguageId(E,W),this._languageService.requestRichLanguageFeatures(E)}getLanguageIdAtPosition(E,W){return this.tokenization.getLanguageIdAtPosition(E,W)}getWordAtPosition(E){return this._tokenizationTextModelPart.getWordAtPosition(E)}getWordUntilPosition(E){return this._tokenizationTextModelPart.getWordUntilPosition(E)}normalizePosition(E,W){return E}getLineIndentColumn(E){return Ws(this.getLineContent(E))+1}};Fs._MODEL_SYNC_LIMIT=50*1024*1024,Fs.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,Fs.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,Fs.LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024,Fs.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:a.D.tabSize,indentSize:a.D.indentSize,insertSpaces:a.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:a.D.trimAutoWhitespace,largeFileOptimizations:a.D.largeFileOptimizations,bracketPairColorizationOptions:a.D.bracketPairColorizationOptions},Fs=ts=us([Rs(4,hn.tJ),Rs(5,u.O),Rs(6,N.c_)],Fs);function Ws(Je){let E=0;for(const W of Je)if(W===" "||W==="	")E++;else break;return E}function Ns(Je){return!!(Je.options.overviewRuler&&Je.options.overviewRuler.color)}function fo(Je){return!!Je.options.after||!!Je.options.before}class ao{constructor(){this._decorationsTree0=new yt,this._decorationsTree1=new yt,this._injectedTextDecorationsTree=new yt}ensureAllNodesHaveRanges(E){this.getAll(E,0,!1,!1,!1)}_ensureNodesHaveRanges(E,W){for(const Q of W)Q.range===null&&(Q.range=E.getRangeAt(Q.cachedAbsoluteStart,Q.cachedAbsoluteEnd));return W}getAllInInterval(E,W,Q,ue,ve,Oe){const We=E.getVersionId(),et=this._intervalSearch(W,Q,ue,ve,We,Oe);return this._ensureNodesHaveRanges(E,et)}_intervalSearch(E,W,Q,ue,ve,Oe){const We=this._decorationsTree0.intervalSearch(E,W,Q,ue,ve,Oe),et=this._decorationsTree1.intervalSearch(E,W,Q,ue,ve,Oe),Fe=this._injectedTextDecorationsTree.intervalSearch(E,W,Q,ue,ve,Oe);return We.concat(et).concat(Fe)}getInjectedTextInInterval(E,W,Q,ue){const ve=E.getVersionId(),Oe=this._injectedTextDecorationsTree.intervalSearch(W,Q,ue,!1,ve,!1);return this._ensureNodesHaveRanges(E,Oe).filter(We=>We.options.showIfCollapsed||!We.range.isEmpty())}getAllInjectedText(E,W){const Q=E.getVersionId(),ue=this._injectedTextDecorationsTree.search(W,!1,Q,!1);return this._ensureNodesHaveRanges(E,ue).filter(ve=>ve.options.showIfCollapsed||!ve.range.isEmpty())}getAll(E,W,Q,ue,ve){const Oe=E.getVersionId(),We=this._search(W,Q,ue,Oe,ve);return this._ensureNodesHaveRanges(E,We)}_search(E,W,Q,ue,ve){if(Q)return this._decorationsTree1.search(E,W,ue,ve);{const Oe=this._decorationsTree0.search(E,W,ue,ve),We=this._decorationsTree1.search(E,W,ue,ve),et=this._injectedTextDecorationsTree.search(E,W,ue,ve);return Oe.concat(We).concat(et)}}collectNodesFromOwner(E){const W=this._decorationsTree0.collectNodesFromOwner(E),Q=this._decorationsTree1.collectNodesFromOwner(E),ue=this._injectedTextDecorationsTree.collectNodesFromOwner(E);return W.concat(Q).concat(ue)}collectNodesPostOrder(){const E=this._decorationsTree0.collectNodesPostOrder(),W=this._decorationsTree1.collectNodesPostOrder(),Q=this._injectedTextDecorationsTree.collectNodesPostOrder();return E.concat(W).concat(Q)}insert(E){fo(E)?this._injectedTextDecorationsTree.insert(E):Ns(E)?this._decorationsTree1.insert(E):this._decorationsTree0.insert(E)}delete(E){fo(E)?this._injectedTextDecorationsTree.delete(E):Ns(E)?this._decorationsTree1.delete(E):this._decorationsTree0.delete(E)}getNodeRange(E,W){const Q=E.getVersionId();return W.cachedVersionId!==Q&&this._resolveNode(W,Q),W.range===null&&(W.range=E.getRangeAt(W.cachedAbsoluteStart,W.cachedAbsoluteEnd)),W.range}_resolveNode(E,W){fo(E)?this._injectedTextDecorationsTree.resolveNode(E,W):Ns(E)?this._decorationsTree1.resolveNode(E,W):this._decorationsTree0.resolveNode(E,W)}acceptReplace(E,W,Q,ue){this._decorationsTree0.acceptReplace(E,W,Q,ue),this._decorationsTree1.acceptReplace(E,W,Q,ue),this._injectedTextDecorationsTree.acceptReplace(E,W,Q,ue)}}function ri(Je){return Je.replace(/[^a-z0-9\-_]/gi," ")}class Se{constructor(E){this.color=E.color||"",this.darkColor=E.darkColor||""}}class je extends Se{constructor(E){super(E),this._resolvedColor=null,this.position=typeof E.position=="number"?E.position:O.sh.Center}getColor(E){return this._resolvedColor||(E.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,E):this._resolvedColor=this._resolveColor(this.color,E)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(E,W){if(typeof E=="string")return E;const Q=E?W.getColor(E.id):null;return Q?Q.toString():""}}class Qe{constructor(E){var W;this.position=(W=E==null?void 0:E.position)!==null&&W!==void 0?W:O.U.Left}}class Ht extends Se{constructor(E){super(E),this.position=E.position}getColor(E){return this._resolvedColor||(E.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,E):this._resolvedColor=this._resolveColor(this.color,E)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(E,W){return typeof E=="string"?X.Il.fromHex(E):W.getColor(E.id)}}class kt{static from(E){return E instanceof kt?E:new kt(E)}constructor(E){this.content=E.content||"",this.inlineClassName=E.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=E.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=E.attachedData||null,this.cursorStops=E.cursorStops||null}}class ni{static register(E){return new ni(E)}static createDynamic(E){return new ni(E)}constructor(E){var W,Q,ue,ve,Oe,We;this.description=E.description,this.blockClassName=E.blockClassName?ri(E.blockClassName):null,this.blockDoesNotCollapse=(W=E.blockDoesNotCollapse)!==null&&W!==void 0?W:null,this.blockIsAfterEnd=(Q=E.blockIsAfterEnd)!==null&&Q!==void 0?Q:null,this.blockPadding=(ue=E.blockPadding)!==null&&ue!==void 0?ue:null,this.stickiness=E.stickiness||0,this.zIndex=E.zIndex||0,this.className=E.className?ri(E.className):null,this.shouldFillLineOnLineBreak=(ve=E.shouldFillLineOnLineBreak)!==null&&ve!==void 0?ve:null,this.hoverMessage=E.hoverMessage||null,this.glyphMarginHoverMessage=E.glyphMarginHoverMessage||null,this.isWholeLine=E.isWholeLine||!1,this.showIfCollapsed=E.showIfCollapsed||!1,this.collapseOnReplaceEdit=E.collapseOnReplaceEdit||!1,this.overviewRuler=E.overviewRuler?new je(E.overviewRuler):null,this.minimap=E.minimap?new Ht(E.minimap):null,this.glyphMargin=E.glyphMarginClassName?new Qe(E.glyphMargin):null,this.glyphMarginClassName=E.glyphMarginClassName?ri(E.glyphMarginClassName):null,this.linesDecorationsClassName=E.linesDecorationsClassName?ri(E.linesDecorationsClassName):null,this.firstLineDecorationClassName=E.firstLineDecorationClassName?ri(E.firstLineDecorationClassName):null,this.marginClassName=E.marginClassName?ri(E.marginClassName):null,this.inlineClassName=E.inlineClassName?ri(E.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=E.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=E.beforeContentClassName?ri(E.beforeContentClassName):null,this.afterContentClassName=E.afterContentClassName?ri(E.afterContentClassName):null,this.after=E.after?kt.from(E.after):null,this.before=E.before?kt.from(E.before):null,this.hideInCommentTokens=(Oe=E.hideInCommentTokens)!==null&&Oe!==void 0?Oe:!1,this.hideInStringTokens=(We=E.hideInStringTokens)!==null&&We!==void 0?We:!1}}ni.EMPTY=ni.register({description:"empty"});const ai=[ni.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),ni.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),ni.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),ni.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function si(Je){return Je instanceof ni?Je:ni.createDynamic(Je)}class Ei extends L.JT{constructor(E){super(),this.handleBeforeFire=E,this._actual=this._register(new k.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var E;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(E=this._affectedInjectedTextLines)===null||E===void 0||E.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(E){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(E)}checkAffectedAndFire(E){this._affectsMinimap||(this._affectsMinimap=!!(E.minimap&&E.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(E.overviewRuler&&E.overviewRuler.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!E.glyphMarginClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const E={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(E)}}class Pi extends L.JT{constructor(){super(),this._fastEmitter=this._register(new k.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new k.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(E=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=E;const W=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(W),this._slowEmitter.fire(W)}}fire(E){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(E):this._deferredEvent=E;return}this._fastEmitter.fire(E),this._slowEmitter.fire(E)}}class Li{constructor(){this._onDidChangeVisibleRanges=new k.Q5,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const E=new Ii(W=>{this._onDidChangeVisibleRanges.fire({view:E,state:W})});return this._views.add(E),E}detachView(E){this._views.delete(E),this._onDidChangeVisibleRanges.fire({view:E,state:void 0})}}class Ii{constructor(E){this.handleStateChange=E}setVisibleLines(E,W){const Q=E.map(ue=>new b.z(ue.startLineNumber,ue.endLineNumber+1));this.handleStateChange({visibleLineRanges:Q,stabilized:W})}}},65057:function(Gt,ze,c){"use strict";c.d(ze,{U:function(){return X}});var D=c(83845);class X extends D.JT{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}},82333:function(Gt,ze,c){"use strict";c.d(ze,{bc:function(){return M},cM:function(){return a},iE:function(){return y},pM:function(){return C},sz:function(){return u}});var D=c(80360),X=c(68734),v=c(79946),k=c(54125),L=c(74222);const T=999;class M{constructor(O,R,V,F){this.searchString=O,this.isRegex=R,this.matchCase=V,this.wordSeparators=F}parseSearchRequest(){if(this.searchString==="")return null;let O;this.isRegex?O=B(this.searchString):O=this.searchString.indexOf(`
`)>=0;let R=null;try{R=D.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:O,global:!0,unicode:!0})}catch(F){return null}if(!R)return null;let V=!this.isRegex&&!O;return V&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(V=this.matchCase),new L.Tx(R,this.wordSeparators?(0,X.u)(this.wordSeparators):null,V?this.searchString:null)}}function B(N){if(!N||N.length===0)return!1;for(let O=0,R=N.length;O<R;O++){const V=N.charCodeAt(O);if(V===10)return!0;if(V===92){if(O++,O>=R)break;const F=N.charCodeAt(O);if(F===110||F===114||F===87)return!0}}return!1}function y(N,O,R){if(!R)return new L.tk(N,null);const V=[];for(let F=0,Y=O.length;F<Y;F++)V[F]=O[F];return new L.tk(N,V)}class b{constructor(O){const R=[];let V=0;for(let F=0,Y=O.length;F<Y;F++)O.charCodeAt(F)===10&&(R[V++]=F);this._lineFeedsOffsets=R}findLineFeedCountBeforeOffset(O){const R=this._lineFeedsOffsets;let V=0,F=R.length-1;if(F===-1||O<=R[0])return 0;for(;V<F;){const Y=V+((F-V)/2>>0);R[Y]>=O?F=Y-1:R[Y+1]>=O?(V=Y,F=Y):V=Y+1}return V+1}}class C{static findMatches(O,R,V,F,Y){const G=R.parseSearchRequest();return G?G.regex.multiline?this._doFindMatchesMultiline(O,V,new u(G.wordSeparators,G.regex),F,Y):this._doFindMatchesLineByLine(O,V,G,F,Y):[]}static _getMultilineMatchRange(O,R,V,F,Y,G){let Z,ne=0;F?(ne=F.findLineFeedCountBeforeOffset(Y),Z=R+Y+ne):Z=R+Y;let $;if(F){const he=F.findLineFeedCountBeforeOffset(Y+G.length)-ne;$=Z+G.length+he}else $=Z+G.length;const J=O.getPositionAt(Z),se=O.getPositionAt($);return new k.e(J.lineNumber,J.column,se.lineNumber,se.column)}static _doFindMatchesMultiline(O,R,V,F,Y){const G=O.getOffsetAt(R.getStartPosition()),Z=O.getValueInRange(R,1),ne=O.getEOL()===`\r
`?new b(Z):null,$=[];let J=0,se;for(V.reset(0);se=V.next(Z);)if($[J++]=y(this._getMultilineMatchRange(O,G,Z,ne,se.index,se[0]),se,F),J>=Y)return $;return $}static _doFindMatchesLineByLine(O,R,V,F,Y){const G=[];let Z=0;if(R.startLineNumber===R.endLineNumber){const $=O.getLineContent(R.startLineNumber).substring(R.startColumn-1,R.endColumn-1);return Z=this._findMatchesInLine(V,$,R.startLineNumber,R.startColumn-1,Z,G,F,Y),G}const ne=O.getLineContent(R.startLineNumber).substring(R.startColumn-1);Z=this._findMatchesInLine(V,ne,R.startLineNumber,R.startColumn-1,Z,G,F,Y);for(let $=R.startLineNumber+1;$<R.endLineNumber&&Z<Y;$++)Z=this._findMatchesInLine(V,O.getLineContent($),$,0,Z,G,F,Y);if(Z<Y){const $=O.getLineContent(R.endLineNumber).substring(0,R.endColumn-1);Z=this._findMatchesInLine(V,$,R.endLineNumber,0,Z,G,F,Y)}return G}static _findMatchesInLine(O,R,V,F,Y,G,Z,ne){const $=O.wordSeparators;if(!Z&&O.simpleSearch){const re=O.simpleSearch,he=re.length,H=R.length;let P=-he;for(;(P=R.indexOf(re,P+he))!==-1;)if((!$||a($,R,H,P,he))&&(G[Y++]=new L.tk(new k.e(V,P+1+F,V,P+1+he+F),null),Y>=ne))return Y;return Y}const J=new u(O.wordSeparators,O.regex);let se;J.reset(0);do if(se=J.next(R),se&&(G[Y++]=y(new k.e(V,se.index+1+F,V,se.index+1+se[0].length+F),se,Z),Y>=ne))return Y;while(se);return Y}static findNextMatch(O,R,V,F){const Y=R.parseSearchRequest();if(!Y)return null;const G=new u(Y.wordSeparators,Y.regex);return Y.regex.multiline?this._doFindNextMatchMultiline(O,V,G,F):this._doFindNextMatchLineByLine(O,V,G,F)}static _doFindNextMatchMultiline(O,R,V,F){const Y=new v.L(R.lineNumber,1),G=O.getOffsetAt(Y),Z=O.getLineCount(),ne=O.getValueInRange(new k.e(Y.lineNumber,Y.column,Z,O.getLineMaxColumn(Z)),1),$=O.getEOL()===`\r
`?new b(ne):null;V.reset(R.column-1);const J=V.next(ne);return J?y(this._getMultilineMatchRange(O,G,ne,$,J.index,J[0]),J,F):R.lineNumber!==1||R.column!==1?this._doFindNextMatchMultiline(O,new v.L(1,1),V,F):null}static _doFindNextMatchLineByLine(O,R,V,F){const Y=O.getLineCount(),G=R.lineNumber,Z=O.getLineContent(G),ne=this._findFirstMatchInLine(V,Z,G,R.column,F);if(ne)return ne;for(let $=1;$<=Y;$++){const J=(G+$-1)%Y,se=O.getLineContent(J+1),re=this._findFirstMatchInLine(V,se,J+1,1,F);if(re)return re}return null}static _findFirstMatchInLine(O,R,V,F,Y){O.reset(F-1);const G=O.next(R);return G?y(new k.e(V,G.index+1,V,G.index+1+G[0].length),G,Y):null}static findPreviousMatch(O,R,V,F){const Y=R.parseSearchRequest();if(!Y)return null;const G=new u(Y.wordSeparators,Y.regex);return Y.regex.multiline?this._doFindPreviousMatchMultiline(O,V,G,F):this._doFindPreviousMatchLineByLine(O,V,G,F)}static _doFindPreviousMatchMultiline(O,R,V,F){const Y=this._doFindMatchesMultiline(O,new k.e(1,1,R.lineNumber,R.column),V,F,10*T);if(Y.length>0)return Y[Y.length-1];const G=O.getLineCount();return R.lineNumber!==G||R.column!==O.getLineMaxColumn(G)?this._doFindPreviousMatchMultiline(O,new v.L(G,O.getLineMaxColumn(G)),V,F):null}static _doFindPreviousMatchLineByLine(O,R,V,F){const Y=O.getLineCount(),G=R.lineNumber,Z=O.getLineContent(G).substring(0,R.column-1),ne=this._findLastMatchInLine(V,Z,G,F);if(ne)return ne;for(let $=1;$<=Y;$++){const J=(Y+G-$-1)%Y,se=O.getLineContent(J+1),re=this._findLastMatchInLine(V,se,J+1,F);if(re)return re}return null}static _findLastMatchInLine(O,R,V,F){let Y=null,G;for(O.reset(0);G=O.next(R);)Y=y(new k.e(V,G.index+1,V,G.index+1+G[0].length),G,F);return Y}}function S(N,O,R,V,F){if(V===0)return!0;const Y=O.charCodeAt(V-1);if(N.get(Y)!==0||Y===13||Y===10)return!0;if(F>0){const G=O.charCodeAt(V);if(N.get(G)!==0)return!0}return!1}function _(N,O,R,V,F){if(V+F===R)return!0;const Y=O.charCodeAt(V+F);if(N.get(Y)!==0||Y===13||Y===10)return!0;if(F>0){const G=O.charCodeAt(V+F-1);if(N.get(G)!==0)return!0}return!1}function a(N,O,R,V,F){return S(N,O,R,V,F)&&_(N,O,R,V,F)}class u{constructor(O,R){this._wordSeparators=O,this._searchRegex=R,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(O){this._searchRegex.lastIndex=O,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(O){const R=O.length;let V;do{if(this._prevMatchStartIndex+this._prevMatchLength===R||(V=this._searchRegex.exec(O),!V))return null;const F=V.index,Y=V[0].length;if(F===this._prevMatchStartIndex&&Y===this._prevMatchLength){if(Y===0){D.ZH(O,R,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=F,this._prevMatchLength=Y,!this._wordSeparators||a(this._wordSeparators,O,R,F,Y))return V}while(V);return null}}},56384:function(Gt,ze,c){"use strict";c.d(ze,{q:function(){return D}});function D(X,v){let k=0,L=0;const T=X.length;for(;L<T;){const M=X.charCodeAt(L);if(M===32)k++;else if(M===9)k=k-k%v+v;else break;L++}return L===T?-1:k}},43705:function(Gt,ze,c){"use strict";c.d(ze,{O:function(){return C}});var D=c(60902),X=c(46328),v=c(82238),k=c(6685),L=c(79946),T=c(54125),M=c(37753),B=c(26627),y=c(96319);class b{static chord(_,a){return(0,v.gx)(_,a)}}b.CtrlCmd=2048,b.Shift=1024,b.Alt=512,b.WinCtrl=256;function C(){return{editor:void 0,languages:void 0,CancellationTokenSource:D.A,Emitter:X.Q5,KeyCode:y.VD,KeyMod:b,Position:L.L,Range:T.e,Selection:M.Y,SelectionDirection:y.a$,MarkerSeverity:y.ZL,MarkerTag:y.eB,Uri:k.o,Token:B.WU}}},22980:function(Gt,ze,c){"use strict";c.d(ze,{p:function(){return X}});var D=c(99068);const X=(0,D.yh)("editorWorkerService")},49035:function(Gt,ze,c){"use strict";c.d(ze,{A:function(){return C}});var D=c(31815),X=c(83987),v=c(79664),k=c(67611),L=c(89320),T=c(99068),M=c(58316),B=c(90385),y=function(N,O,R,V){var F=arguments.length,Y=F<3?O:V===null?V=Object.getOwnPropertyDescriptor(O,R):V,G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(N,O,R,V);else for(var Z=N.length-1;Z>=0;Z--)(G=N[Z])&&(Y=(F<3?G(Y):F>3?G(O,R,Y):G(O,R))||Y);return F>3&&Y&&Object.defineProperty(O,R,Y),Y},b=function(N,O){return function(R,V){O(R,V,N)}};const C=(0,T.yh)("ILanguageFeatureDebounceService");var S;(function(N){const O=new WeakMap;let R=0;function V(F){let Y=O.get(F);return Y===void 0&&(Y=++R,O.set(F,Y)),Y}N.of=V})(S||(S={}));class _{constructor(O){this._default=O}get(O){return this._default}update(O,R){return this._default}default(){return this._default}}class a{constructor(O,R,V,F,Y,G){this._logService=O,this._name=R,this._registry=V,this._default=F,this._min=Y,this._max=G,this._cache=new X.z6(50,.7)}_key(O){return O.id+this._registry.all(O).reduce((R,V)=>(0,D.SP)(S.of(V),R),0)}get(O){const R=this._key(O),V=this._cache.get(R);return V?(0,v.uZ)(V.value,this._min,this._max):this.default()}update(O,R){const V=this._key(O);let F=this._cache.get(V);F||(F=new v.N(6),this._cache.set(V,F));const Y=(0,v.uZ)(F.update(R),this._min,this._max);return(0,B.xn)(O.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${O.uri.toString()} is ${Y}ms`),Y}_overall(){const O=new v.nM;for(const[,R]of this._cache)O.update(R.value);return O.value}default(){const O=this._overall()|0||this._default;return(0,v.uZ)(O,this._min,this._max)}}let u=class{constructor(O,R){this._logService=O,this._data=new Map,this._isDev=R.isExtensionDevelopment||!R.isBuilt}for(O,R,V){var F,Y,G;const Z=(F=V==null?void 0:V.min)!==null&&F!==void 0?F:50,ne=(Y=V==null?void 0:V.max)!==null&&Y!==void 0?Y:_d(Z,2),$=(G=V==null?void 0:V.key)!==null&&G!==void 0?G:void 0,J=`${S.of(O)},${Z}${$?","+$:""}`;let se=this._data.get(J);return se||(this._isDev?se=new a(this._logService,R,O,this._overallAverage()|0||Z*1.5,Z,ne):(this._logService.debug(`[DEBOUNCE: ${R}] is disabled in developed mode`),se=new _(Z*1.5)),this._data.set(J,se)),se}_overallAverage(){const O=new v.nM;for(const R of this._data.values())O.update(R.default());return O.value}};u=y([b(0,M.VZ),b(1,k.Y)],u),(0,L.z)(C,u,1)},36276:function(Gt,ze,c){"use strict";c.d(ze,{p:function(){return X}});var D=c(99068);const X=(0,D.yh)("ILanguageFeaturesService")},19524:function(Gt,ze,c){"use strict";c.d(ze,{i:function(){return X}});var D=c(99068);const X=(0,D.yh)("markerDecorationsService")},15056:function(Gt,ze,c){"use strict";c.d(ze,{q:function(){return X}});var D=c(99068);const X=(0,D.yh)("modelService")},18540:function(Gt,ze,c){"use strict";c.d(ze,{S:function(){return X}});var D=c(99068);const X=(0,D.yh)("textModelService")},94312:function(Gt,ze,c){"use strict";c.d(ze,{$:function(){return _},h:function(){return a}});var D=c(39782),X=c(27722),v=c(58316),k=c(79946),L=c(54125),T=c(59013);class M{static create(R,V){return new M(R,new B(V))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(R,V){this._startLineNumber=R,this._tokens=V,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(R){return this._startLineNumber<=R&&R<=this._endLineNumber?this._tokens.getLineTokens(R-this._startLineNumber):null}getRange(){const R=this._tokens.getRange();return R&&new L.e(this._startLineNumber+R.startLineNumber,R.startColumn,this._startLineNumber+R.endLineNumber,R.endColumn)}removeTokens(R){const V=R.startLineNumber-this._startLineNumber,F=R.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(V,R.startColumn-1,F,R.endColumn-1),this._updateEndLineNumber()}split(R){const V=R.startLineNumber-this._startLineNumber,F=R.endLineNumber-this._startLineNumber,[Y,G,Z]=this._tokens.split(V,R.startColumn-1,F,R.endColumn-1);return[new M(this._startLineNumber,Y),new M(this._startLineNumber+Z,G)]}applyEdit(R,V){const[F,Y,G]=(0,T.Q)(V);this.acceptEdit(R,F,Y,G,V.length>0?V.charCodeAt(0):0)}acceptEdit(R,V,F,Y,G){this._acceptDeleteRange(R),this._acceptInsertText(new k.L(R.startLineNumber,R.startColumn),V,F,Y,G),this._updateEndLineNumber()}_acceptDeleteRange(R){if(R.startLineNumber===R.endLineNumber&&R.startColumn===R.endColumn)return;const V=R.startLineNumber-this._startLineNumber,F=R.endLineNumber-this._startLineNumber;if(F<0){const G=F-V;this._startLineNumber-=G;return}const Y=this._tokens.getMaxDeltaLine();if(!(V>=Y+1)){if(V<0&&F>=Y+1){this._startLineNumber=0,this._tokens.clear();return}if(V<0){const G=-V;this._startLineNumber-=G,this._tokens.acceptDeleteRange(R.startColumn-1,0,0,F,R.endColumn-1)}else this._tokens.acceptDeleteRange(0,V,R.startColumn-1,F,R.endColumn-1)}}_acceptInsertText(R,V,F,Y,G){if(V===0&&F===0)return;const Z=R.lineNumber-this._startLineNumber;if(Z<0){this._startLineNumber+=V;return}const ne=this._tokens.getMaxDeltaLine();Z>=ne+1||this._tokens.acceptInsertText(Z,R.column-1,V,F,Y,G)}}class B{constructor(R){this._tokens=R,this._tokenCount=R.length/4}toString(R){const V=[];for(let F=0;F<this._tokenCount;F++)V.push(`(${this._getDeltaLine(F)+R},${this._getStartCharacter(F)}-${this._getEndCharacter(F)})`);return`[${V.join(",")}]`}getMaxDeltaLine(){const R=this._getTokenCount();return R===0?-1:this._getDeltaLine(R-1)}getRange(){const R=this._getTokenCount();if(R===0)return null;const V=this._getStartCharacter(0),F=this._getDeltaLine(R-1),Y=this._getEndCharacter(R-1);return new L.e(0,V+1,F,Y+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(R){return this._tokens[4*R]}_getStartCharacter(R){return this._tokens[4*R+1]}_getEndCharacter(R){return this._tokens[4*R+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(R){let V=0,F=this._getTokenCount()-1;for(;V<F;){const Y=V+Math.floor((F-V)/2),G=this._getDeltaLine(Y);if(G<R)V=Y+1;else if(G>R)F=Y-1;else{let Z=Y;for(;Z>V&&this._getDeltaLine(Z-1)===R;)Z--;let ne=Y;for(;ne<F&&this._getDeltaLine(ne+1)===R;)ne++;return new y(this._tokens.subarray(4*Z,4*ne+4))}}return this._getDeltaLine(V)===R?new y(this._tokens.subarray(4*V,4*V+4)):null}clear(){this._tokenCount=0}removeTokens(R,V,F,Y){const G=this._tokens,Z=this._tokenCount;let ne=0,$=!1,J=0;for(let se=0;se<Z;se++){const re=4*se,he=G[re],H=G[re+1],P=G[re+2],j=G[re+3];if((he>R||he===R&&P>=V)&&(he<F||he===F&&H<=Y))$=!0;else{if(ne===0&&(J=he),$){const K=4*ne;G[K]=he-J,G[K+1]=H,G[K+2]=P,G[K+3]=j}ne++}}return this._tokenCount=ne,J}split(R,V,F,Y){const G=this._tokens,Z=this._tokenCount,ne=[],$=[];let J=ne,se=0,re=0;for(let he=0;he<Z;he++){const H=4*he,P=G[H],j=G[H+1],K=G[H+2],ie=G[H+3];if(P>R||P===R&&K>=V){if(P<F||P===F&&j<=Y)continue;J!==$&&(J=$,se=0,re=P)}J[se++]=P-re,J[se++]=j,J[se++]=K,J[se++]=ie}return[new B(new Uint32Array(ne)),new B(new Uint32Array($)),re]}acceptDeleteRange(R,V,F,Y,G){const Z=this._tokens,ne=this._tokenCount,$=Y-V;let J=0,se=!1;for(let re=0;re<ne;re++){const he=4*re;let H=Z[he],P=Z[he+1],j=Z[he+2];const K=Z[he+3];if(H<V||H===V&&j<=F){J++;continue}else if(H===V&&P<F)H===Y&&j>G?j-=G-F:j=F;else if(H===V&&P===F)if(H===Y&&j>G)j-=G-F;else{se=!0;continue}else if(H<Y||H===Y&&P<G)if(H===Y&&j>G)H=V,P=F,j=P+(j-G);else{se=!0;continue}else if(H>Y){if($===0&&!se){J=ne;break}H-=$}else if(H===Y&&P>=G)R&&H===0&&(P+=R,j+=R),H-=$,P-=G-F,j-=G-F;else throw new Error("Not possible!");const ie=4*J;Z[ie]=H,Z[ie+1]=P,Z[ie+2]=j,Z[ie+3]=K,J++}this._tokenCount=J}acceptInsertText(R,V,F,Y,G,Z){const ne=F===0&&Y===1&&(Z>=48&&Z<=57||Z>=65&&Z<=90||Z>=97&&Z<=122),$=this._tokens,J=this._tokenCount;for(let se=0;se<J;se++){const re=4*se;let he=$[re],H=$[re+1],P=$[re+2];if(!(he<R||he===R&&P<V)){if(he===R&&P===V)if(ne)P+=1;else continue;else if(he===R&&H<V&&V<P)F===0?P+=Y:P=V;else{if(he===R&&H===V&&ne)continue;if(he===R)if(he+=F,F===0)H+=Y,P+=Y;else{const j=P-H;H=G+(H-V),P=H+j}else he+=F}$[re]=he,$[re+1]=H,$[re+2]=P}}}}class y{constructor(R){this._tokens=R}getCount(){return this._tokens.length/4}getStartCharacter(R){return this._tokens[4*R+1]}getEndCharacter(R){return this._tokens[4*R+2]}getMetadata(R){return this._tokens[4*R+3]}}var b=c(57529),C=function(O,R,V,F){var Y=arguments.length,G=Y<3?R:F===null?F=Object.getOwnPropertyDescriptor(R,V):F,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")G=Reflect.decorate(O,R,V,F);else for(var ne=O.length-1;ne>=0;ne--)(Z=O[ne])&&(G=(Y<3?Z(G):Y>3?Z(R,V,G):Z(R,V))||G);return Y>3&&G&&Object.defineProperty(R,V,G),G},S=function(O,R){return function(V,F){R(V,F,O)}};let _=class{constructor(R,V,F,Y){this._legend=R,this._themeService=V,this._languageService=F,this._logService=Y,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new N}getMetadata(R,V,F){const Y=this._languageService.languageIdCodec.encodeLanguageId(F),G=this._hashTable.get(R,V,Y);let Z;if(G)Z=G.metadata,this._logService.getLevel()===v.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${R} / ${V}: foreground ${D.N.getForeground(Z)}, fontStyle ${D.N.getFontStyle(Z).toString(2)}`);else{let ne=this._legend.tokenTypes[R];const $=[];if(ne){let J=V;for(let re=0;J>0&&re<this._legend.tokenModifiers.length;re++)J&1&&$.push(this._legend.tokenModifiers[re]),J=J>>1;J>0&&this._logService.getLevel()===v.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${V.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),$.push("not-in-legend"));const se=this._themeService.getColorTheme().getTokenStyleMetadata(ne,$,F);if(typeof se=="undefined")Z=2147483647;else{if(Z=0,typeof se.italic!="undefined"){const re=(se.italic?1:0)<<11;Z|=re|1}if(typeof se.bold!="undefined"){const re=(se.bold?2:0)<<11;Z|=re|2}if(typeof se.underline!="undefined"){const re=(se.underline?4:0)<<11;Z|=re|4}if(typeof se.strikethrough!="undefined"){const re=(se.strikethrough?8:0)<<11;Z|=re|8}if(se.foreground){const re=se.foreground<<15;Z|=re|16}Z===0&&(Z=2147483647)}}else this._logService.getLevel()===v.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${R} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),Z=2147483647,ne="not-in-legend";this._hashTable.add(R,V,Y,Z),this._logService.getLevel()===v.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${R} (${ne}) / ${V} (${$.join(" ")}): foreground ${D.N.getForeground(Z)}, fontStyle ${D.N.getFontStyle(Z).toString(2)}`)}return Z}warnOverlappingSemanticTokens(R,V){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${R}, column ${V}`))}warnInvalidLengthSemanticTokens(R,V){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${R}, column ${V}`))}warnInvalidEditStart(R,V,F,Y,G){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${R}, resultId: ${V}) at edit #${F}: The provided start offset ${Y} is outside the previous data (length ${G}).`))}};_=C([S(1,X.XE),S(2,b.O),S(3,v.VZ)],_);function a(O,R,V){const F=O.data,Y=O.data.length/5|0,G=Math.max(Math.ceil(Y/1024),400),Z=[];let ne=0,$=1,J=0;for(;ne<Y;){const se=ne;let re=Math.min(se+G,Y);if(re<Y){let ce=re;for(;ce-1>se&&F[5*ce]===0;)ce--;if(ce-1===se){let _e=re;for(;_e+1<Y&&F[5*_e]===0;)_e++;re=_e}else re=ce}let he=new Uint32Array((re-se)*4),H=0,P=0,j=0,K=0;for(;ne<re;){const ce=5*ne,_e=F[ce],Ee=F[ce+1],Ce=$+_e|0,pe=_e===0?J+Ee|0:Ee,xe=F[ce+2],x=pe+xe|0,rt=F[ce+3],Xe=F[ce+4];if(x<=pe)R.warnInvalidLengthSemanticTokens(Ce,pe+1);else if(j===Ce&&K>pe)R.warnOverlappingSemanticTokens(Ce,pe+1);else{const Ze=R.getMetadata(rt,Xe,V);Ze!==2147483647&&(P===0&&(P=Ce),he[H]=Ce-P,he[H+1]=pe,he[H+2]=x,he[H+3]=Ze,H+=4,j=Ce,K=x)}$=Ce,J=pe,ne++}H!==he.length&&(he=he.subarray(0,H));const ie=M.create(P,he);Z.push(ie)}return Z}class u{constructor(R,V,F,Y){this.tokenTypeIndex=R,this.tokenModifierSet=V,this.languageId=F,this.metadata=Y,this.next=null}}class N{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=N._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<N._SIZES.length?2/3*this._currentLength:0),this._elements=[],N._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(R,V){for(let F=0;F<V;F++)R[F]=null}_hash2(R,V){return(R<<5)-R+V|0}_hashFunc(R,V,F){return this._hash2(this._hash2(R,V),F)%this._currentLength}get(R,V,F){const Y=this._hashFunc(R,V,F);let G=this._elements[Y];for(;G;){if(G.tokenTypeIndex===R&&G.tokenModifierSet===V&&G.languageId===F)return G;G=G.next}return null}add(R,V,F,Y){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const G=this._elements;this._currentLengthIndex++,this._currentLength=N._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<N._SIZES.length?2/3*this._currentLength:0),this._elements=[],N._nullOutEntries(this._elements,this._currentLength);for(const Z of G){let ne=Z;for(;ne;){const $=ne.next;ne.next=null,this._add(ne),ne=$}}}this._add(new u(R,V,F,Y))}_add(R){const V=this._hashFunc(R.tokenTypeIndex,R.tokenModifierSet,R.languageId);R.next=this._elements[V],this._elements[V]=R}}N._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]},85602:function(Gt,ze,c){"use strict";c.d(ze,{s:function(){return X}});var D=c(99068);const X=(0,D.yh)("semanticTokensStylingService")},11519:function(Gt,ze,c){"use strict";c.d(ze,{V:function(){return X},y:function(){return v}});var D=c(99068);const X=(0,D.yh)("textResourceConfigurationService"),v=(0,D.yh)("textResourcePropertiesService")},15769:function(Gt,ze,c){"use strict";c.d(ze,{a:function(){return T}});var D=c(54125),X=c(82333),v=c(80360),k=c(32522),L=c(1149);class T{static computeUnicodeHighlights(C,S,_){const a=_?_.startLineNumber:1,u=_?_.endLineNumber:C.getLineCount(),N=new B(S),O=N.getCandidateCodePoints();let R;O==="allNonBasicAscii"?R=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):R=new RegExp(`${M(Array.from(O))}`,"g");const V=new X.sz(null,R),F=[];let Y=!1,G,Z=0,ne=0,$=0;e:for(let J=a,se=u;J<=se;J++){const re=C.getLineContent(J),he=re.length;V.reset(0);do if(G=V.next(re),G){let H=G.index,P=G.index+G[0].length;if(H>0){const ce=re.charCodeAt(H-1);v.ZG(ce)&&H--}if(P+1<he){const ce=re.charCodeAt(P-1);v.ZG(ce)&&P++}const j=re.substring(H,P);let K=(0,L.t2)(H+1,L.Af,re,0);K&&K.endColumn<=H+1&&(K=null);const ie=N.shouldHighlightNonBasicASCII(j,K?K.word:null);if(ie!==0){ie===3?Z++:ie===2?ne++:ie===1?$++:(0,k.vE)(ie);const ce=1e3;if(F.length>=ce){Y=!0;break e}F.push(new D.e(J,H+1,J,P+1))}}while(G)}return{ranges:F,hasMore:Y,ambiguousCharacterCount:Z,invisibleCharacterCount:ne,nonBasicAsciiCharacterCount:$}}static computeUnicodeHighlightReason(C,S){const _=new B(S);switch(_.shouldHighlightNonBasicASCII(C,null)){case 0:return null;case 2:return{kind:1};case 3:{const u=C.codePointAt(0),N=_.ambiguousCharacters.getPrimaryConfusable(u),O=v.ZK.getLocales().filter(R=>!v.ZK.getInstance(new Set([...S.allowedLocales,R])).isAmbiguous(u));return{kind:0,confusableWith:String.fromCodePoint(N),notAmbiguousInLocales:O}}case 1:return{kind:2}}}}function M(b,C){return`[${v.ec(b.map(_=>String.fromCodePoint(_)).join(""))}]`}class B{constructor(C){this.options=C,this.allowedCodePoints=new Set(C.allowedCodePoints),this.ambiguousCharacters=v.ZK.getInstance(new Set(C.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const C=new Set;if(this.options.invisibleCharacters)for(const S of v.vU.codePoints)y(String.fromCodePoint(S))||C.add(S);if(this.options.ambiguousCharacters)for(const S of this.ambiguousCharacters.getConfusableCodePoints())C.add(S);for(const S of this.allowedCodePoints)C.delete(S);return C}shouldHighlightNonBasicASCII(C,S){const _=C.codePointAt(0);if(this.allowedCodePoints.has(_))return 0;if(this.options.nonBasicASCII)return 1;let a=!1,u=!1;if(S)for(const N of S){const O=N.codePointAt(0),R=v.$i(N);a=a||R,!R&&!this.ambiguousCharacters.isAmbiguous(O)&&!v.vU.isInvisibleCharacter(O)&&(u=!0)}return!a&&u?0:this.options.invisibleCharacters&&!y(C)&&v.vU.isInvisibleCharacter(_)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(_)?3:0}}function y(b){return b===" "||b===`
`||b==="	"}},96319:function(Gt,ze,c){"use strict";c.d(ze,{E$:function(){return $},F5:function(){return Z},Ij:function(){return T},In:function(){return Ee},JO:function(){return K},Lu:function(){return re},MG:function(){return ne},MY:function(){return b},OI:function(){return pe},RM:function(){return O},U:function(){return u},VD:function(){return F},Vi:function(){return B},WW:function(){return ie},ZL:function(){return Y},_x:function(){return y},a$:function(){return j},a7:function(){return v},ao:function(){return D},bw:function(){return V},cR:function(){return ce},cm:function(){return k},d2:function(){return Ce},eB:function(){return G},g4:function(){return H},g_:function(){return P},gl:function(){return R},gm:function(){return _},jl:function(){return a},np:function(){return X},py:function(){return se},r3:function(){return M},r4:function(){return _e},rf:function(){return C},sh:function(){return J},up:function(){return xe},vQ:function(){return he},wT:function(){return S},wU:function(){return N},we:function(){return L}});var D;(function(x){x[x.Unknown=0]="Unknown",x[x.Disabled=1]="Disabled",x[x.Enabled=2]="Enabled"})(D||(D={}));var X;(function(x){x[x.Invoke=1]="Invoke",x[x.Auto=2]="Auto"})(X||(X={}));var v;(function(x){x[x.None=0]="None",x[x.KeepWhitespace=1]="KeepWhitespace",x[x.InsertAsSnippet=4]="InsertAsSnippet"})(v||(v={}));var k;(function(x){x[x.Method=0]="Method",x[x.Function=1]="Function",x[x.Constructor=2]="Constructor",x[x.Field=3]="Field",x[x.Variable=4]="Variable",x[x.Class=5]="Class",x[x.Struct=6]="Struct",x[x.Interface=7]="Interface",x[x.Module=8]="Module",x[x.Property=9]="Property",x[x.Event=10]="Event",x[x.Operator=11]="Operator",x[x.Unit=12]="Unit",x[x.Value=13]="Value",x[x.Constant=14]="Constant",x[x.Enum=15]="Enum",x[x.EnumMember=16]="EnumMember",x[x.Keyword=17]="Keyword",x[x.Text=18]="Text",x[x.Color=19]="Color",x[x.File=20]="File",x[x.Reference=21]="Reference",x[x.Customcolor=22]="Customcolor",x[x.Folder=23]="Folder",x[x.TypeParameter=24]="TypeParameter",x[x.User=25]="User",x[x.Issue=26]="Issue",x[x.Snippet=27]="Snippet"})(k||(k={}));var L;(function(x){x[x.Deprecated=1]="Deprecated"})(L||(L={}));var T;(function(x){x[x.Invoke=0]="Invoke",x[x.TriggerCharacter=1]="TriggerCharacter",x[x.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(T||(T={}));var M;(function(x){x[x.EXACT=0]="EXACT",x[x.ABOVE=1]="ABOVE",x[x.BELOW=2]="BELOW"})(M||(M={}));var B;(function(x){x[x.NotSet=0]="NotSet",x[x.ContentFlush=1]="ContentFlush",x[x.RecoverFromMarkers=2]="RecoverFromMarkers",x[x.Explicit=3]="Explicit",x[x.Paste=4]="Paste",x[x.Undo=5]="Undo",x[x.Redo=6]="Redo"})(B||(B={}));var y;(function(x){x[x.LF=1]="LF",x[x.CRLF=2]="CRLF"})(y||(y={}));var b;(function(x){x[x.Text=0]="Text",x[x.Read=1]="Read",x[x.Write=2]="Write"})(b||(b={}));var C;(function(x){x[x.None=0]="None",x[x.Keep=1]="Keep",x[x.Brackets=2]="Brackets",x[x.Advanced=3]="Advanced",x[x.Full=4]="Full"})(C||(C={}));var S;(function(x){x[x.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",x[x.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",x[x.accessibilitySupport=2]="accessibilitySupport",x[x.accessibilityPageSize=3]="accessibilityPageSize",x[x.ariaLabel=4]="ariaLabel",x[x.ariaRequired=5]="ariaRequired",x[x.autoClosingBrackets=6]="autoClosingBrackets",x[x.autoClosingComments=7]="autoClosingComments",x[x.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",x[x.autoClosingDelete=9]="autoClosingDelete",x[x.autoClosingOvertype=10]="autoClosingOvertype",x[x.autoClosingQuotes=11]="autoClosingQuotes",x[x.autoIndent=12]="autoIndent",x[x.automaticLayout=13]="automaticLayout",x[x.autoSurround=14]="autoSurround",x[x.bracketPairColorization=15]="bracketPairColorization",x[x.guides=16]="guides",x[x.codeLens=17]="codeLens",x[x.codeLensFontFamily=18]="codeLensFontFamily",x[x.codeLensFontSize=19]="codeLensFontSize",x[x.colorDecorators=20]="colorDecorators",x[x.colorDecoratorsLimit=21]="colorDecoratorsLimit",x[x.columnSelection=22]="columnSelection",x[x.comments=23]="comments",x[x.contextmenu=24]="contextmenu",x[x.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",x[x.cursorBlinking=26]="cursorBlinking",x[x.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",x[x.cursorStyle=28]="cursorStyle",x[x.cursorSurroundingLines=29]="cursorSurroundingLines",x[x.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",x[x.cursorWidth=31]="cursorWidth",x[x.disableLayerHinting=32]="disableLayerHinting",x[x.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",x[x.domReadOnly=34]="domReadOnly",x[x.dragAndDrop=35]="dragAndDrop",x[x.dropIntoEditor=36]="dropIntoEditor",x[x.emptySelectionClipboard=37]="emptySelectionClipboard",x[x.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",x[x.extraEditorClassName=39]="extraEditorClassName",x[x.fastScrollSensitivity=40]="fastScrollSensitivity",x[x.find=41]="find",x[x.fixedOverflowWidgets=42]="fixedOverflowWidgets",x[x.folding=43]="folding",x[x.foldingStrategy=44]="foldingStrategy",x[x.foldingHighlight=45]="foldingHighlight",x[x.foldingImportsByDefault=46]="foldingImportsByDefault",x[x.foldingMaximumRegions=47]="foldingMaximumRegions",x[x.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",x[x.fontFamily=49]="fontFamily",x[x.fontInfo=50]="fontInfo",x[x.fontLigatures=51]="fontLigatures",x[x.fontSize=52]="fontSize",x[x.fontWeight=53]="fontWeight",x[x.fontVariations=54]="fontVariations",x[x.formatOnPaste=55]="formatOnPaste",x[x.formatOnType=56]="formatOnType",x[x.glyphMargin=57]="glyphMargin",x[x.gotoLocation=58]="gotoLocation",x[x.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",x[x.hover=60]="hover",x[x.inDiffEditor=61]="inDiffEditor",x[x.inlineSuggest=62]="inlineSuggest",x[x.letterSpacing=63]="letterSpacing",x[x.lightbulb=64]="lightbulb",x[x.lineDecorationsWidth=65]="lineDecorationsWidth",x[x.lineHeight=66]="lineHeight",x[x.lineNumbers=67]="lineNumbers",x[x.lineNumbersMinChars=68]="lineNumbersMinChars",x[x.linkedEditing=69]="linkedEditing",x[x.links=70]="links",x[x.matchBrackets=71]="matchBrackets",x[x.minimap=72]="minimap",x[x.mouseStyle=73]="mouseStyle",x[x.mouseWheelScrollSensitivity=74]="mouseWheelScrollSensitivity",x[x.mouseWheelZoom=75]="mouseWheelZoom",x[x.multiCursorMergeOverlapping=76]="multiCursorMergeOverlapping",x[x.multiCursorModifier=77]="multiCursorModifier",x[x.multiCursorPaste=78]="multiCursorPaste",x[x.multiCursorLimit=79]="multiCursorLimit",x[x.occurrencesHighlight=80]="occurrencesHighlight",x[x.overviewRulerBorder=81]="overviewRulerBorder",x[x.overviewRulerLanes=82]="overviewRulerLanes",x[x.padding=83]="padding",x[x.pasteAs=84]="pasteAs",x[x.parameterHints=85]="parameterHints",x[x.peekWidgetDefaultFocus=86]="peekWidgetDefaultFocus",x[x.definitionLinkOpensInPeek=87]="definitionLinkOpensInPeek",x[x.quickSuggestions=88]="quickSuggestions",x[x.quickSuggestionsDelay=89]="quickSuggestionsDelay",x[x.readOnly=90]="readOnly",x[x.readOnlyMessage=91]="readOnlyMessage",x[x.renameOnType=92]="renameOnType",x[x.renderControlCharacters=93]="renderControlCharacters",x[x.renderFinalNewline=94]="renderFinalNewline",x[x.renderLineHighlight=95]="renderLineHighlight",x[x.renderLineHighlightOnlyWhenFocus=96]="renderLineHighlightOnlyWhenFocus",x[x.renderValidationDecorations=97]="renderValidationDecorations",x[x.renderWhitespace=98]="renderWhitespace",x[x.revealHorizontalRightPadding=99]="revealHorizontalRightPadding",x[x.roundedSelection=100]="roundedSelection",x[x.rulers=101]="rulers",x[x.scrollbar=102]="scrollbar",x[x.scrollBeyondLastColumn=103]="scrollBeyondLastColumn",x[x.scrollBeyondLastLine=104]="scrollBeyondLastLine",x[x.scrollPredominantAxis=105]="scrollPredominantAxis",x[x.selectionClipboard=106]="selectionClipboard",x[x.selectionHighlight=107]="selectionHighlight",x[x.selectOnLineNumbers=108]="selectOnLineNumbers",x[x.showFoldingControls=109]="showFoldingControls",x[x.showUnused=110]="showUnused",x[x.snippetSuggestions=111]="snippetSuggestions",x[x.smartSelect=112]="smartSelect",x[x.smoothScrolling=113]="smoothScrolling",x[x.stickyScroll=114]="stickyScroll",x[x.stickyTabStops=115]="stickyTabStops",x[x.stopRenderingLineAfter=116]="stopRenderingLineAfter",x[x.suggest=117]="suggest",x[x.suggestFontSize=118]="suggestFontSize",x[x.suggestLineHeight=119]="suggestLineHeight",x[x.suggestOnTriggerCharacters=120]="suggestOnTriggerCharacters",x[x.suggestSelection=121]="suggestSelection",x[x.tabCompletion=122]="tabCompletion",x[x.tabIndex=123]="tabIndex",x[x.unicodeHighlighting=124]="unicodeHighlighting",x[x.unusualLineTerminators=125]="unusualLineTerminators",x[x.useShadowDOM=126]="useShadowDOM",x[x.useTabStops=127]="useTabStops",x[x.wordBreak=128]="wordBreak",x[x.wordSeparators=129]="wordSeparators",x[x.wordWrap=130]="wordWrap",x[x.wordWrapBreakAfterCharacters=131]="wordWrapBreakAfterCharacters",x[x.wordWrapBreakBeforeCharacters=132]="wordWrapBreakBeforeCharacters",x[x.wordWrapColumn=133]="wordWrapColumn",x[x.wordWrapOverride1=134]="wordWrapOverride1",x[x.wordWrapOverride2=135]="wordWrapOverride2",x[x.wrappingIndent=136]="wrappingIndent",x[x.wrappingStrategy=137]="wrappingStrategy",x[x.showDeprecated=138]="showDeprecated",x[x.inlayHints=139]="inlayHints",x[x.editorClassName=140]="editorClassName",x[x.pixelRatio=141]="pixelRatio",x[x.tabFocusMode=142]="tabFocusMode",x[x.layoutInfo=143]="layoutInfo",x[x.wrappingInfo=144]="wrappingInfo",x[x.defaultColorDecorators=145]="defaultColorDecorators",x[x.colorDecoratorsActivatedOn=146]="colorDecoratorsActivatedOn",x[x.inlineCompletionsAccessibilityVerbose=147]="inlineCompletionsAccessibilityVerbose"})(S||(S={}));var _;(function(x){x[x.TextDefined=0]="TextDefined",x[x.LF=1]="LF",x[x.CRLF=2]="CRLF"})(_||(_={}));var a;(function(x){x[x.LF=0]="LF",x[x.CRLF=1]="CRLF"})(a||(a={}));var u;(function(x){x[x.Left=1]="Left",x[x.Right=2]="Right"})(u||(u={}));var N;(function(x){x[x.None=0]="None",x[x.Indent=1]="Indent",x[x.IndentOutdent=2]="IndentOutdent",x[x.Outdent=3]="Outdent"})(N||(N={}));var O;(function(x){x[x.Both=0]="Both",x[x.Right=1]="Right",x[x.Left=2]="Left",x[x.None=3]="None"})(O||(O={}));var R;(function(x){x[x.Type=1]="Type",x[x.Parameter=2]="Parameter"})(R||(R={}));var V;(function(x){x[x.Automatic=0]="Automatic",x[x.Explicit=1]="Explicit"})(V||(V={}));var F;(function(x){x[x.DependsOnKbLayout=-1]="DependsOnKbLayout",x[x.Unknown=0]="Unknown",x[x.Backspace=1]="Backspace",x[x.Tab=2]="Tab",x[x.Enter=3]="Enter",x[x.Shift=4]="Shift",x[x.Ctrl=5]="Ctrl",x[x.Alt=6]="Alt",x[x.PauseBreak=7]="PauseBreak",x[x.CapsLock=8]="CapsLock",x[x.Escape=9]="Escape",x[x.Space=10]="Space",x[x.PageUp=11]="PageUp",x[x.PageDown=12]="PageDown",x[x.End=13]="End",x[x.Home=14]="Home",x[x.LeftArrow=15]="LeftArrow",x[x.UpArrow=16]="UpArrow",x[x.RightArrow=17]="RightArrow",x[x.DownArrow=18]="DownArrow",x[x.Insert=19]="Insert",x[x.Delete=20]="Delete",x[x.Digit0=21]="Digit0",x[x.Digit1=22]="Digit1",x[x.Digit2=23]="Digit2",x[x.Digit3=24]="Digit3",x[x.Digit4=25]="Digit4",x[x.Digit5=26]="Digit5",x[x.Digit6=27]="Digit6",x[x.Digit7=28]="Digit7",x[x.Digit8=29]="Digit8",x[x.Digit9=30]="Digit9",x[x.KeyA=31]="KeyA",x[x.KeyB=32]="KeyB",x[x.KeyC=33]="KeyC",x[x.KeyD=34]="KeyD",x[x.KeyE=35]="KeyE",x[x.KeyF=36]="KeyF",x[x.KeyG=37]="KeyG",x[x.KeyH=38]="KeyH",x[x.KeyI=39]="KeyI",x[x.KeyJ=40]="KeyJ",x[x.KeyK=41]="KeyK",x[x.KeyL=42]="KeyL",x[x.KeyM=43]="KeyM",x[x.KeyN=44]="KeyN",x[x.KeyO=45]="KeyO",x[x.KeyP=46]="KeyP",x[x.KeyQ=47]="KeyQ",x[x.KeyR=48]="KeyR",x[x.KeyS=49]="KeyS",x[x.KeyT=50]="KeyT",x[x.KeyU=51]="KeyU",x[x.KeyV=52]="KeyV",x[x.KeyW=53]="KeyW",x[x.KeyX=54]="KeyX",x[x.KeyY=55]="KeyY",x[x.KeyZ=56]="KeyZ",x[x.Meta=57]="Meta",x[x.ContextMenu=58]="ContextMenu",x[x.F1=59]="F1",x[x.F2=60]="F2",x[x.F3=61]="F3",x[x.F4=62]="F4",x[x.F5=63]="F5",x[x.F6=64]="F6",x[x.F7=65]="F7",x[x.F8=66]="F8",x[x.F9=67]="F9",x[x.F10=68]="F10",x[x.F11=69]="F11",x[x.F12=70]="F12",x[x.F13=71]="F13",x[x.F14=72]="F14",x[x.F15=73]="F15",x[x.F16=74]="F16",x[x.F17=75]="F17",x[x.F18=76]="F18",x[x.F19=77]="F19",x[x.F20=78]="F20",x[x.F21=79]="F21",x[x.F22=80]="F22",x[x.F23=81]="F23",x[x.F24=82]="F24",x[x.NumLock=83]="NumLock",x[x.ScrollLock=84]="ScrollLock",x[x.Semicolon=85]="Semicolon",x[x.Equal=86]="Equal",x[x.Comma=87]="Comma",x[x.Minus=88]="Minus",x[x.Period=89]="Period",x[x.Slash=90]="Slash",x[x.Backquote=91]="Backquote",x[x.BracketLeft=92]="BracketLeft",x[x.Backslash=93]="Backslash",x[x.BracketRight=94]="BracketRight",x[x.Quote=95]="Quote",x[x.OEM_8=96]="OEM_8",x[x.IntlBackslash=97]="IntlBackslash",x[x.Numpad0=98]="Numpad0",x[x.Numpad1=99]="Numpad1",x[x.Numpad2=100]="Numpad2",x[x.Numpad3=101]="Numpad3",x[x.Numpad4=102]="Numpad4",x[x.Numpad5=103]="Numpad5",x[x.Numpad6=104]="Numpad6",x[x.Numpad7=105]="Numpad7",x[x.Numpad8=106]="Numpad8",x[x.Numpad9=107]="Numpad9",x[x.NumpadMultiply=108]="NumpadMultiply",x[x.NumpadAdd=109]="NumpadAdd",x[x.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",x[x.NumpadSubtract=111]="NumpadSubtract",x[x.NumpadDecimal=112]="NumpadDecimal",x[x.NumpadDivide=113]="NumpadDivide",x[x.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",x[x.ABNT_C1=115]="ABNT_C1",x[x.ABNT_C2=116]="ABNT_C2",x[x.AudioVolumeMute=117]="AudioVolumeMute",x[x.AudioVolumeUp=118]="AudioVolumeUp",x[x.AudioVolumeDown=119]="AudioVolumeDown",x[x.BrowserSearch=120]="BrowserSearch",x[x.BrowserHome=121]="BrowserHome",x[x.BrowserBack=122]="BrowserBack",x[x.BrowserForward=123]="BrowserForward",x[x.MediaTrackNext=124]="MediaTrackNext",x[x.MediaTrackPrevious=125]="MediaTrackPrevious",x[x.MediaStop=126]="MediaStop",x[x.MediaPlayPause=127]="MediaPlayPause",x[x.LaunchMediaPlayer=128]="LaunchMediaPlayer",x[x.LaunchMail=129]="LaunchMail",x[x.LaunchApp2=130]="LaunchApp2",x[x.Clear=131]="Clear",x[x.MAX_VALUE=132]="MAX_VALUE"})(F||(F={}));var Y;(function(x){x[x.Hint=1]="Hint",x[x.Info=2]="Info",x[x.Warning=4]="Warning",x[x.Error=8]="Error"})(Y||(Y={}));var G;(function(x){x[x.Unnecessary=1]="Unnecessary",x[x.Deprecated=2]="Deprecated"})(G||(G={}));var Z;(function(x){x[x.Inline=1]="Inline",x[x.Gutter=2]="Gutter"})(Z||(Z={}));var ne;(function(x){x[x.UNKNOWN=0]="UNKNOWN",x[x.TEXTAREA=1]="TEXTAREA",x[x.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",x[x.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",x[x.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",x[x.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",x[x.CONTENT_TEXT=6]="CONTENT_TEXT",x[x.CONTENT_EMPTY=7]="CONTENT_EMPTY",x[x.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",x[x.CONTENT_WIDGET=9]="CONTENT_WIDGET",x[x.OVERVIEW_RULER=10]="OVERVIEW_RULER",x[x.SCROLLBAR=11]="SCROLLBAR",x[x.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",x[x.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(ne||(ne={}));var $;(function(x){x[x.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",x[x.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",x[x.TOP_CENTER=2]="TOP_CENTER"})($||($={}));var J;(function(x){x[x.Left=1]="Left",x[x.Center=2]="Center",x[x.Right=4]="Right",x[x.Full=7]="Full"})(J||(J={}));var se;(function(x){x[x.Left=0]="Left",x[x.Right=1]="Right",x[x.None=2]="None",x[x.LeftOfInjectedText=3]="LeftOfInjectedText",x[x.RightOfInjectedText=4]="RightOfInjectedText"})(se||(se={}));var re;(function(x){x[x.Off=0]="Off",x[x.On=1]="On",x[x.Relative=2]="Relative",x[x.Interval=3]="Interval",x[x.Custom=4]="Custom"})(re||(re={}));var he;(function(x){x[x.None=0]="None",x[x.Text=1]="Text",x[x.Blocks=2]="Blocks"})(he||(he={}));var H;(function(x){x[x.Smooth=0]="Smooth",x[x.Immediate=1]="Immediate"})(H||(H={}));var P;(function(x){x[x.Auto=1]="Auto",x[x.Hidden=2]="Hidden",x[x.Visible=3]="Visible"})(P||(P={}));var j;(function(x){x[x.LTR=0]="LTR",x[x.RTL=1]="RTL"})(j||(j={}));var K;(function(x){x.Off="off",x.OnCode="onCode",x.On="on"})(K||(K={}));var ie;(function(x){x[x.Invoke=1]="Invoke",x[x.TriggerCharacter=2]="TriggerCharacter",x[x.ContentChange=3]="ContentChange"})(ie||(ie={}));var ce;(function(x){x[x.File=0]="File",x[x.Module=1]="Module",x[x.Namespace=2]="Namespace",x[x.Package=3]="Package",x[x.Class=4]="Class",x[x.Method=5]="Method",x[x.Property=6]="Property",x[x.Field=7]="Field",x[x.Constructor=8]="Constructor",x[x.Enum=9]="Enum",x[x.Interface=10]="Interface",x[x.Function=11]="Function",x[x.Variable=12]="Variable",x[x.Constant=13]="Constant",x[x.String=14]="String",x[x.Number=15]="Number",x[x.Boolean=16]="Boolean",x[x.Array=17]="Array",x[x.Object=18]="Object",x[x.Key=19]="Key",x[x.Null=20]="Null",x[x.EnumMember=21]="EnumMember",x[x.Struct=22]="Struct",x[x.Event=23]="Event",x[x.Operator=24]="Operator",x[x.TypeParameter=25]="TypeParameter"})(ce||(ce={}));var _e;(function(x){x[x.Deprecated=1]="Deprecated"})(_e||(_e={}));var Ee;(function(x){x[x.Hidden=0]="Hidden",x[x.Blink=1]="Blink",x[x.Smooth=2]="Smooth",x[x.Phase=3]="Phase",x[x.Expand=4]="Expand",x[x.Solid=5]="Solid"})(Ee||(Ee={}));var Ce;(function(x){x[x.Line=1]="Line",x[x.Block=2]="Block",x[x.Underline=3]="Underline",x[x.LineThin=4]="LineThin",x[x.BlockOutline=5]="BlockOutline",x[x.UnderlineThin=6]="UnderlineThin"})(Ce||(Ce={}));var pe;(function(x){x[x.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",x[x.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",x[x.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",x[x.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(pe||(pe={}));var xe;(function(x){x[x.None=0]="None",x[x.Same=1]="Same",x[x.Indent=2]="Indent",x[x.DeepIndent=3]="DeepIndent"})(xe||(xe={}))},41074:function(Gt,ze,c){"use strict";c.d(ze,{B8:function(){return M},UX:function(){return L},aq:function(){return T},iN:function(){return y},ld:function(){return k},qq:function(){return v},ug:function(){return X},xi:function(){return B}});var D=c(18493),X;(function(b){b.inspectTokensAction=D.NC("inspectTokens","Developer: Inspect Tokens")})(X||(X={}));var v;(function(b){b.gotoLineActionLabel=D.NC("gotoLineActionLabel","Go to Line/Column...")})(v||(v={}));var k;(function(b){b.helpQuickAccessActionLabel=D.NC("helpQuickAccess","Show all Quick Access Providers")})(k||(k={}));var L;(function(b){b.quickCommandActionLabel=D.NC("quickCommandActionLabel","Command Palette"),b.quickCommandHelp=D.NC("quickCommandActionHelp","Show And Run Commands")})(L||(L={}));var T;(function(b){b.quickOutlineActionLabel=D.NC("quickOutlineActionLabel","Go to Symbol..."),b.quickOutlineByCategoryActionLabel=D.NC("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(T||(T={}));var M;(function(b){b.editorViewAccessibleLabel=D.NC("editorViewAccessibleLabel","Editor content"),b.accessibilityHelpMessage=D.NC("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(M||(M={}));var B;(function(b){b.toggleHighContrast=D.NC("toggleHighContrast","Toggle High Contrast Theme")})(B||(B={}));var y;(function(b){b.bulkEditServiceSummary=D.NC("bulkEditServiceSummary","Made {0} edits in {1} files")})(y||(y={}))},41581:function(Gt,ze,c){"use strict";c.d(ze,{CZ:function(){return T},D8:function(){return B},Jx:function(){return D},Tx:function(){return L},dQ:function(){return M},fV:function(){return y},gk:function(){return X},lN:function(){return k},rU:function(){return v}});class D{constructor(){this.changeType=1}}class X{static applyInjectedText(C,S){if(!S||S.length===0)return C;let _="",a=0;for(const u of S)_+=C.substring(a,u.column-1),a=u.column-1,_+=u.options.content;return _+=C.substring(a),_}static fromDecorations(C){const S=[];for(const _ of C)_.options.before&&_.options.before.content.length>0&&S.push(new X(_.ownerId,_.range.startLineNumber,_.range.startColumn,_.options.before,0)),_.options.after&&_.options.after.content.length>0&&S.push(new X(_.ownerId,_.range.endLineNumber,_.range.endColumn,_.options.after,1));return S.sort((_,a)=>_.lineNumber===a.lineNumber?_.column===a.column?_.order-a.order:_.column-a.column:_.lineNumber-a.lineNumber),S}constructor(C,S,_,a,u){this.ownerId=C,this.lineNumber=S,this.column=_,this.options=a,this.order=u}}class v{constructor(C,S,_){this.changeType=2,this.lineNumber=C,this.detail=S,this.injectedText=_}}class k{constructor(C,S){this.changeType=3,this.fromLineNumber=C,this.toLineNumber=S}}class L{constructor(C,S,_,a){this.changeType=4,this.injectedTexts=a,this.fromLineNumber=C,this.toLineNumber=S,this.detail=_}}class T{constructor(){this.changeType=5}}class M{constructor(C,S,_,a){this.changes=C,this.versionId=S,this.isUndoing=_,this.isRedoing=a,this.resultingSelection=null}containsEvent(C){for(let S=0,_=this.changes.length;S<_;S++)if(this.changes[S].changeType===C)return!0;return!1}static merge(C,S){const _=[].concat(C.changes).concat(S.changes),a=S.versionId,u=C.isUndoing||S.isUndoing,N=C.isRedoing||S.isRedoing;return new M(_,a,u,N)}}class B{constructor(C){this.changes=C}}class y{constructor(C,S){this.rawContentChangedEvent=C,this.contentChangedEvent=S}merge(C){const S=M.merge(this.rawContentChangedEvent,C.rawContentChangedEvent),_=y._mergeChangeEvents(this.contentChangedEvent,C.contentChangedEvent);return new y(S,_)}static _mergeChangeEvents(C,S){const _=[].concat(C.changes).concat(S.changes),a=S.eol,u=S.versionId,N=C.isUndoing||S.isUndoing,O=C.isRedoing||S.isRedoing,R=C.isFlush||S.isFlush,V=C.isEolChange&&S.isEolChange;return{changes:_,eol:a,isEolChange:V,versionId:u,isUndoing:N,isRedoing:O,isFlush:R}}}},1912:function(Gt,ze,c){"use strict";c.d(ze,{UO:function(){return X},s6:function(){return D},vW:function(){return v}});var D;(function(k){k[k.Disabled=0]="Disabled",k[k.EnabledForActive=1]="EnabledForActive",k[k.Enabled=2]="Enabled"})(D||(D={}));class X{constructor(L,T,M,B,y,b){if(this.visibleColumn=L,this.column=T,this.className=M,this.horizontalLine=B,this.forWrappedLinesAfterColumn=y,this.forWrappedLinesBeforeOrAtColumn=b,L!==-1==(T!==-1))throw new Error}}class v{constructor(L,T){this.top=L,this.endColumn=T}}},12007:function(Gt,ze,c){"use strict";c.d(ze,{A:function(){return X}});var D=c(39782);class X{static createEmpty(L,T){const M=X.defaultTokenMetadata,B=new Uint32Array(2);return B[0]=L.length,B[1]=M,new X(B,L,T)}constructor(L,T,M){this._lineTokensBrand=void 0,this._tokens=L,this._tokensCount=this._tokens.length>>>1,this._text=T,this._languageIdCodec=M}equals(L){return L instanceof X?this.slicedEquals(L,0,this._tokensCount):!1}slicedEquals(L,T,M){if(this._text!==L._text||this._tokensCount!==L._tokensCount)return!1;const B=T<<1,y=B+(M<<1);for(let b=B;b<y;b++)if(this._tokens[b]!==L._tokens[b])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(L){return L>0?this._tokens[L-1<<1]:0}getMetadata(L){return this._tokens[(L<<1)+1]}getLanguageId(L){const T=this._tokens[(L<<1)+1],M=D.N.getLanguageId(T);return this._languageIdCodec.decodeLanguageId(M)}getStandardTokenType(L){const T=this._tokens[(L<<1)+1];return D.N.getTokenType(T)}getForeground(L){const T=this._tokens[(L<<1)+1];return D.N.getForeground(T)}getClassName(L){const T=this._tokens[(L<<1)+1];return D.N.getClassNameFromMetadata(T)}getInlineStyle(L,T){const M=this._tokens[(L<<1)+1];return D.N.getInlineStyleFromMetadata(M,T)}getPresentation(L){const T=this._tokens[(L<<1)+1];return D.N.getPresentationFromMetadata(T)}getEndOffset(L){return this._tokens[L<<1]}findTokenIndexAtOffset(L){return X.findIndexInTokensArray(this._tokens,L)}inflate(){return this}sliceAndInflate(L,T,M){return new v(this,L,T,M)}static convertToEndOffset(L,T){const B=(L.length>>>1)-1;for(let y=0;y<B;y++)L[y<<1]=L[y+1<<1];L[B<<1]=T}static findIndexInTokensArray(L,T){if(L.length<=2)return 0;let M=0,B=(L.length>>>1)-1;for(;M<B;){const y=M+Math.floor((B-M)/2),b=L[y<<1];if(b===T)return y+1;b<T?M=y+1:b>T&&(B=y)}return M}withInserted(L){if(L.length===0)return this;let T=0,M=0,B="";const y=new Array;let b=0;for(;;){const C=T<this._tokensCount?this._tokens[T<<1]:-1,S=M<L.length?L[M]:null;if(C!==-1&&(S===null||C<=S.offset)){B+=this._text.substring(b,C);const _=this._tokens[(T<<1)+1];y.push(B.length,_),T++,b=C}else if(S){if(S.offset>b){B+=this._text.substring(b,S.offset);const _=this._tokens[(T<<1)+1];y.push(B.length,_),b=S.offset}B+=S.text,y.push(B.length,S.tokenMetadata),M++}else break}return new X(new Uint32Array(y),B,this._languageIdCodec)}}X.defaultTokenMetadata=(32768|2<<24)>>>0;class v{constructor(L,T,M,B){this._source=L,this._startOffset=T,this._endOffset=M,this._deltaOffset=B,this._firstTokenIndex=L.findTokenIndexAtOffset(T),this._tokensCount=0;for(let y=this._firstTokenIndex,b=L.getCount();y<b&&!(L.getStartOffset(y)>=M);y++)this._tokensCount++}getMetadata(L){return this._source.getMetadata(this._firstTokenIndex+L)}getLanguageId(L){return this._source.getLanguageId(this._firstTokenIndex+L)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(L){return L instanceof v?this._startOffset===L._startOffset&&this._endOffset===L._endOffset&&this._deltaOffset===L._deltaOffset&&this._source.slicedEquals(L._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(L){return this._source.getForeground(this._firstTokenIndex+L)}getEndOffset(L){const T=this._source.getEndOffset(this._firstTokenIndex+L);return Math.min(this._endOffset,T)-this._startOffset+this._deltaOffset}getClassName(L){return this._source.getClassName(this._firstTokenIndex+L)}getInlineStyle(L,T){return this._source.getInlineStyle(this._firstTokenIndex+L,T)}getPresentation(L){return this._source.getPresentation(this._firstTokenIndex+L)}findTokenIndexAtOffset(L){return this._source.findTokenIndexAtOffset(L+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},56943:function(Gt,ze,c){"use strict";c.d(ze,{Kp:function(){return X},k:function(){return L}});var D=c(80360);class X{constructor(M,B,y,b){this.startColumn=M,this.endColumn=B,this.className=y,this.type=b,this._lineDecorationBrand=void 0}static _equals(M,B){return M.startColumn===B.startColumn&&M.endColumn===B.endColumn&&M.className===B.className&&M.type===B.type}static equalsArr(M,B){const y=M.length,b=B.length;if(y!==b)return!1;for(let C=0;C<y;C++)if(!X._equals(M[C],B[C]))return!1;return!0}static extractWrapped(M,B,y){if(M.length===0)return M;const b=B+1,C=y+1,S=y-B,_=[];let a=0;for(const u of M)u.endColumn<=b||u.startColumn>=C||(_[a++]=new X(Math.max(1,u.startColumn-b+1),Math.min(S+1,u.endColumn-b+1),u.className,u.type));return _}static filter(M,B,y,b){if(M.length===0)return[];const C=[];let S=0;for(let _=0,a=M.length;_<a;_++){const u=M[_],N=u.range;if(N.endLineNumber<B||N.startLineNumber>B||N.isEmpty()&&(u.type===0||u.type===3))continue;const O=N.startLineNumber===B?N.startColumn:y,R=N.endLineNumber===B?N.endColumn:b;C[S++]=new X(O,R,u.inlineClassName,u.type)}return C}static _typeCompare(M,B){const y=[2,0,1,3];return y[M]-y[B]}static compare(M,B){if(M.startColumn!==B.startColumn)return M.startColumn-B.startColumn;if(M.endColumn!==B.endColumn)return M.endColumn-B.endColumn;const y=X._typeCompare(M.type,B.type);return y!==0?y:M.className!==B.className?M.className<B.className?-1:1:0}}class v{constructor(M,B,y,b){this.startOffset=M,this.endOffset=B,this.className=y,this.metadata=b}}class k{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(M){let B=0;for(let y=0,b=M.length;y<b;y++)B|=M[y];return B}consumeLowerThan(M,B,y){for(;this.count>0&&this.stopOffsets[0]<M;){let b=0;for(;b+1<this.count&&this.stopOffsets[b]===this.stopOffsets[b+1];)b++;y.push(new v(B,this.stopOffsets[b],this.classNames.join(" "),k._metadata(this.metadata))),B=this.stopOffsets[b]+1,this.stopOffsets.splice(0,b+1),this.classNames.splice(0,b+1),this.metadata.splice(0,b+1),this.count-=b+1}return this.count>0&&B<M&&(y.push(new v(B,M-1,this.classNames.join(" "),k._metadata(this.metadata))),B=M),B}insert(M,B,y){if(this.count===0||this.stopOffsets[this.count-1]<=M)this.stopOffsets.push(M),this.classNames.push(B),this.metadata.push(y);else for(let b=0;b<this.count;b++)if(this.stopOffsets[b]>=M){this.stopOffsets.splice(b,0,M),this.classNames.splice(b,0,B),this.metadata.splice(b,0,y);break}this.count++}}class L{static normalize(M,B){if(B.length===0)return[];const y=[],b=new k;let C=0;for(let S=0,_=B.length;S<_;S++){const a=B[S];let u=a.startColumn,N=a.endColumn;const O=a.className,R=a.type===1?2:a.type===2?4:0;if(u>1){const Y=M.charCodeAt(u-2);D.ZG(Y)&&u--}if(N>1){const Y=M.charCodeAt(N-2);D.ZG(Y)&&N--}const V=u-1,F=N-2;C=b.consumeLowerThan(V,C,y),b.count===0&&(C=V),b.insert(F,O,R)}return b.consumeLowerThan(1073741824,C,y),y}}},88748:function(Gt,ze,c){"use strict";c.d(ze,{Nd:function(){return B},zG:function(){return T},IJ:function(){return M},d1:function(){return C},tF:function(){return _}});var D=c(18493),X=c(80360),v=c(6180),k=c(56943);class L{constructor(J,se,re,he){this.endIndex=J,this.type=se,this.metadata=re,this.containsRTL=he,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class T{constructor(J,se){this.startOffset=J,this.endOffset=se}equals(J){return this.startOffset===J.startOffset&&this.endOffset===J.endOffset}}class M{constructor(J,se,re,he,H,P,j,K,ie,ce,_e,Ee,Ce,pe,xe,x,rt,Xe,Ze){this.useMonospaceOptimizations=J,this.canUseHalfwidthRightwardsArrow=se,this.lineContent=re,this.continuesWithWrappedLine=he,this.isBasicASCII=H,this.containsRTL=P,this.fauxIndentLength=j,this.lineTokens=K,this.lineDecorations=ie.sort(k.Kp.compare),this.tabSize=ce,this.startVisibleColumn=_e,this.spaceWidth=Ee,this.stopRenderingLineAfter=xe,this.renderWhitespace=x==="all"?4:x==="boundary"?1:x==="selection"?2:x==="trailing"?3:0,this.renderControlCharacters=rt,this.fontLigatures=Xe,this.selectionsOnLine=Ze&&Ze.sort((ct,He)=>ct.startOffset<He.startOffset?-1:1);const lt=Math.abs(pe-Ee),ut=Math.abs(Ce-Ee);lt<ut?(this.renderSpaceWidth=pe,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=Ce,this.renderSpaceCharCode=183)}sameSelection(J){if(this.selectionsOnLine===null)return J===null;if(J===null||J.length!==this.selectionsOnLine.length)return!1;for(let se=0;se<this.selectionsOnLine.length;se++)if(!this.selectionsOnLine[se].equals(J[se]))return!1;return!0}equals(J){return this.useMonospaceOptimizations===J.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===J.canUseHalfwidthRightwardsArrow&&this.lineContent===J.lineContent&&this.continuesWithWrappedLine===J.continuesWithWrappedLine&&this.isBasicASCII===J.isBasicASCII&&this.containsRTL===J.containsRTL&&this.fauxIndentLength===J.fauxIndentLength&&this.tabSize===J.tabSize&&this.startVisibleColumn===J.startVisibleColumn&&this.spaceWidth===J.spaceWidth&&this.renderSpaceWidth===J.renderSpaceWidth&&this.renderSpaceCharCode===J.renderSpaceCharCode&&this.stopRenderingLineAfter===J.stopRenderingLineAfter&&this.renderWhitespace===J.renderWhitespace&&this.renderControlCharacters===J.renderControlCharacters&&this.fontLigatures===J.fontLigatures&&k.Kp.equalsArr(this.lineDecorations,J.lineDecorations)&&this.lineTokens.equals(J.lineTokens)&&this.sameSelection(J.selectionsOnLine)}}class B{constructor(J,se){this.partIndex=J,this.charIndex=se}}class y{static getPartIndex(J){return(J&4294901760)>>>16}static getCharIndex(J){return(J&65535)>>>0}constructor(J,se){this.length=J,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(J,se,re,he){const H=(se<<16|re<<0)>>>0;this._data[J-1]=H,this._horizontalOffset[J-1]=he}getHorizontalOffset(J){return this._horizontalOffset.length===0?0:this._horizontalOffset[J-1]}charOffsetToPartData(J){return this.length===0?0:J<0?this._data[0]:J>=this.length?this._data[this.length-1]:this._data[J]}getDomPosition(J){const se=this.charOffsetToPartData(J-1),re=y.getPartIndex(se),he=y.getCharIndex(se);return new B(re,he)}getColumn(J,se){return this.partDataToCharOffset(J.partIndex,se,J.charIndex)+1}partDataToCharOffset(J,se,re){if(this.length===0)return 0;const he=(J<<16|re<<0)>>>0;let H=0,P=this.length-1;for(;H+1<P;){const xe=H+P>>>1,x=this._data[xe];if(x===he)return xe;x>he?P=xe:H=xe}if(H===P)return H;const j=this._data[H],K=this._data[P];if(j===he)return H;if(K===he)return P;const ie=y.getPartIndex(j),ce=y.getCharIndex(j),_e=y.getPartIndex(K);let Ee;ie!==_e?Ee=se:Ee=y.getCharIndex(K);const Ce=re-ce,pe=Ee-re;return Ce<=pe?H:P}}class b{constructor(J,se,re){this._renderLineOutputBrand=void 0,this.characterMapping=J,this.containsRTL=se,this.containsForeignElements=re}}function C($,J){if($.lineContent.length===0){if($.lineDecorations.length>0){J.appendString("<span>");let se=0,re=0,he=0;for(const P of $.lineDecorations)(P.type===1||P.type===2)&&(J.appendString('<span class="'),J.appendString(P.className),J.appendString('"></span>'),P.type===1&&(he|=1,se++),P.type===2&&(he|=2,re++));J.appendString("</span>");const H=new y(1,se+re);return H.setColumnInfo(1,se,0,0),new b(H,!1,he)}return J.appendString("<span><span></span></span>"),new b(new y(0,0),!1,0)}return G(u($),J)}class S{constructor(J,se,re,he){this.characterMapping=J,this.html=se,this.containsRTL=re,this.containsForeignElements=he}}function _($){const J=new v.HT(1e4),se=C($,J);return new S(se.characterMapping,J.build(),se.containsRTL,se.containsForeignElements)}class a{constructor(J,se,re,he,H,P,j,K,ie,ce,_e,Ee,Ce,pe,xe,x){this.fontIsMonospace=J,this.canUseHalfwidthRightwardsArrow=se,this.lineContent=re,this.len=he,this.isOverflowing=H,this.overflowingCharCount=P,this.parts=j,this.containsForeignElements=K,this.fauxIndentLength=ie,this.tabSize=ce,this.startVisibleColumn=_e,this.containsRTL=Ee,this.spaceWidth=Ce,this.renderSpaceCharCode=pe,this.renderWhitespace=xe,this.renderControlCharacters=x}}function u($){const J=$.lineContent;let se,re,he;$.stopRenderingLineAfter!==-1&&$.stopRenderingLineAfter<J.length?(se=!0,re=J.length-$.stopRenderingLineAfter,he=$.stopRenderingLineAfter):(se=!1,re=0,he=J.length);let H=N(J,$.containsRTL,$.lineTokens,$.fauxIndentLength,he);$.renderControlCharacters&&!$.isBasicASCII&&(H=V(J,H)),($.renderWhitespace===4||$.renderWhitespace===1||$.renderWhitespace===2&&$.selectionsOnLine||$.renderWhitespace===3&&!$.continuesWithWrappedLine)&&(H=F($,J,he,H));let P=0;if($.lineDecorations.length>0){for(let j=0,K=$.lineDecorations.length;j<K;j++){const ie=$.lineDecorations[j];ie.type===3||ie.type===1?P|=1:ie.type===2&&(P|=2)}H=Y(J,he,H,$.lineDecorations)}return $.containsRTL||(H=O(J,H,!$.isBasicASCII||$.fontLigatures)),new a($.useMonospaceOptimizations,$.canUseHalfwidthRightwardsArrow,J,he,se,re,H,P,$.fauxIndentLength,$.tabSize,$.startVisibleColumn,$.containsRTL,$.spaceWidth,$.renderSpaceCharCode,$.renderWhitespace,$.renderControlCharacters)}function N($,J,se,re,he){const H=[];let P=0;re>0&&(H[P++]=new L(re,"",0,!1));let j=re;for(let K=0,ie=se.getCount();K<ie;K++){const ce=se.getEndOffset(K);if(ce<=re)continue;const _e=se.getClassName(K);if(ce>=he){const Ce=J?X.Ut($.substring(j,he)):!1;H[P++]=new L(he,_e,0,Ce);break}const Ee=J?X.Ut($.substring(j,ce)):!1;H[P++]=new L(ce,_e,0,Ee),j=ce}return H}function O($,J,se){let re=0;const he=[];let H=0;if(se)for(let P=0,j=J.length;P<j;P++){const K=J[P],ie=K.endIndex;if(re+50<ie){const ce=K.type,_e=K.metadata,Ee=K.containsRTL;let Ce=-1,pe=re;for(let xe=re;xe<ie;xe++)$.charCodeAt(xe)===32&&(Ce=xe),Ce!==-1&&xe-pe>=50&&(he[H++]=new L(Ce+1,ce,_e,Ee),pe=Ce+1,Ce=-1);pe!==ie&&(he[H++]=new L(ie,ce,_e,Ee))}else he[H++]=K;re=ie}else for(let P=0,j=J.length;P<j;P++){const K=J[P],ie=K.endIndex,ce=ie-re;if(ce>50){const _e=K.type,Ee=K.metadata,Ce=K.containsRTL,pe=Math.ceil(ce/50);for(let xe=1;xe<pe;xe++){const x=re+xe*50;he[H++]=new L(x,_e,Ee,Ce)}he[H++]=new L(ie,_e,Ee,Ce)}else he[H++]=K;re=ie}return he}function R($){return $<32?$!==9:$===127||$>=8234&&$<=8238||$>=8294&&$<=8297||$>=8206&&$<=8207||$===1564}function V($,J){const se=[];let re=new L(0,"",0,!1),he=0;for(const H of J){const P=H.endIndex;for(;he<P;he++){const j=$.charCodeAt(he);R(j)&&(he>re.endIndex&&(re=new L(he,H.type,H.metadata,H.containsRTL),se.push(re)),re=new L(he+1,"mtkcontrol",H.metadata,!1),se.push(re))}he>re.endIndex&&(re=new L(P,H.type,H.metadata,H.containsRTL),se.push(re))}return se}function F($,J,se,re){const he=$.continuesWithWrappedLine,H=$.fauxIndentLength,P=$.tabSize,j=$.startVisibleColumn,K=$.useMonospaceOptimizations,ie=$.selectionsOnLine,ce=$.renderWhitespace===1,_e=$.renderWhitespace===3,Ee=$.renderSpaceWidth!==$.spaceWidth,Ce=[];let pe=0,xe=0,x=re[xe].type,rt=re[xe].containsRTL,Xe=re[xe].endIndex;const Ze=re.length;let lt=!1,ut=X.LC(J),ct;ut===-1?(lt=!0,ut=se,ct=se):ct=X.ow(J);let He=!1,Dt=0,gt=ie&&ie[Dt],Re=j%P;for(let Tt=H;Tt<se;Tt++){const xt=J.charCodeAt(Tt);gt&&Tt>=gt.endOffset&&(Dt++,gt=ie&&ie[Dt]);let vt;if(Tt<ut||Tt>ct)vt=!0;else if(xt===9)vt=!0;else if(xt===32)if(ce)if(He)vt=!0;else{const we=Tt+1<se?J.charCodeAt(Tt+1):0;vt=we===32||we===9}else vt=!0;else vt=!1;if(vt&&ie&&(vt=!!gt&&gt.startOffset<=Tt&&gt.endOffset>Tt),vt&&_e&&(vt=lt||Tt>ct),vt&&rt&&Tt>=ut&&Tt<=ct&&(vt=!1),He){if(!vt||!K&&Re>=P){if(Ee){const we=pe>0?Ce[pe-1].endIndex:H;for(let pt=we+1;pt<=Tt;pt++)Ce[pe++]=new L(pt,"mtkw",1,!1)}else Ce[pe++]=new L(Tt,"mtkw",1,!1);Re=Re%P}}else(Tt===Xe||vt&&Tt>H)&&(Ce[pe++]=new L(Tt,x,0,rt),Re=Re%P);for(xt===9?Re=P:X.K7(xt)?Re+=2:Re++,He=vt;Tt===Xe&&(xe++,xe<Ze);)x=re[xe].type,rt=re[xe].containsRTL,Xe=re[xe].endIndex}let st=!1;if(He)if(he&&ce){const Tt=se>0?J.charCodeAt(se-1):0,xt=se>1?J.charCodeAt(se-2):0;Tt===32&&xt!==32&&xt!==9||(st=!0)}else st=!0;if(st)if(Ee){const Tt=pe>0?Ce[pe-1].endIndex:H;for(let xt=Tt+1;xt<=se;xt++)Ce[pe++]=new L(xt,"mtkw",1,!1)}else Ce[pe++]=new L(se,"mtkw",1,!1);else Ce[pe++]=new L(se,x,0,rt);return Ce}function Y($,J,se,re){re.sort(k.Kp.compare);const he=k.k.normalize($,re),H=he.length;let P=0;const j=[];let K=0,ie=0;for(let _e=0,Ee=se.length;_e<Ee;_e++){const Ce=se[_e],pe=Ce.endIndex,xe=Ce.type,x=Ce.metadata,rt=Ce.containsRTL;for(;P<H&&he[P].startOffset<pe;){const Xe=he[P];if(Xe.startOffset>ie&&(ie=Xe.startOffset,j[K++]=new L(ie,xe,x,rt)),Xe.endOffset+1<=pe)ie=Xe.endOffset+1,j[K++]=new L(ie,xe+" "+Xe.className,x|Xe.metadata,rt),P++;else{ie=pe,j[K++]=new L(ie,xe+" "+Xe.className,x|Xe.metadata,rt);break}}pe>ie&&(ie=pe,j[K++]=new L(ie,xe,x,rt))}const ce=se[se.length-1].endIndex;if(P<H&&he[P].startOffset===ce)for(;P<H&&he[P].startOffset===ce;){const _e=he[P];j[K++]=new L(ie,_e.className,_e.metadata,!1),P++}return j}function G($,J){const se=$.fontIsMonospace,re=$.canUseHalfwidthRightwardsArrow,he=$.containsForeignElements,H=$.lineContent,P=$.len,j=$.isOverflowing,K=$.overflowingCharCount,ie=$.parts,ce=$.fauxIndentLength,_e=$.tabSize,Ee=$.startVisibleColumn,Ce=$.containsRTL,pe=$.spaceWidth,xe=$.renderSpaceCharCode,x=$.renderWhitespace,rt=$.renderControlCharacters,Xe=new y(P+1,ie.length);let Ze=!1,lt=0,ut=Ee,ct=0,He=0,Dt=0;Ce?J.appendString('<span dir="ltr">'):J.appendString("<span>");for(let gt=0,Re=ie.length;gt<Re;gt++){const st=ie[gt],Tt=st.endIndex,xt=st.type,vt=st.containsRTL,we=x!==0&&st.isWhitespace(),pt=we&&!se&&(xt==="mtkw"||!he),Mt=lt===Tt&&st.isPseudoAfter();if(ct=0,J.appendString("<span "),vt&&J.appendString('style="unicode-bidi:isolate" '),J.appendString('class="'),J.appendString(pt?"mtkz":xt),J.appendASCIICharCode(34),we){let Ft=0;{let Xt=lt,li=ut;for(;Xt<Tt;Xt++){const Ne=(H.charCodeAt(Xt)===9?_e-li%_e:1)|0;Ft+=Ne,Xt>=ce&&(li+=Ne)}}for(pt&&(J.appendString(' style="width:'),J.appendString(String(pe*Ft)),J.appendString('px"')),J.appendASCIICharCode(62);lt<Tt;lt++){Xe.setColumnInfo(lt+1,gt-Dt,ct,He),Dt=0;const Xt=H.charCodeAt(lt);let li,Yt;if(Xt===9){li=_e-ut%_e|0,Yt=li,!re||Yt>1?J.appendCharCode(8594):J.appendCharCode(65515);for(let Ne=2;Ne<=Yt;Ne++)J.appendCharCode(160)}else li=2,Yt=1,J.appendCharCode(xe),J.appendCharCode(8204);ct+=li,He+=Yt,lt>=ce&&(ut+=Yt)}}else for(J.appendASCIICharCode(62);lt<Tt;lt++){Xe.setColumnInfo(lt+1,gt-Dt,ct,He),Dt=0;const Ft=H.charCodeAt(lt);let Xt=1,li=1;switch(Ft){case 9:Xt=_e-ut%_e,li=Xt;for(let Yt=1;Yt<=Xt;Yt++)J.appendCharCode(160);break;case 32:J.appendCharCode(160);break;case 60:J.appendString("&lt;");break;case 62:J.appendString("&gt;");break;case 38:J.appendString("&amp;");break;case 0:rt?J.appendCharCode(9216):J.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:J.appendCharCode(65533);break;default:X.K7(Ft)&&li++,rt&&Ft<32?J.appendCharCode(9216+Ft):rt&&Ft===127?J.appendCharCode(9249):rt&&R(Ft)?(J.appendString("[U+"),J.appendString(Z(Ft)),J.appendString("]"),Xt=8,li=Xt):J.appendCharCode(Ft)}ct+=Xt,He+=li,lt>=ce&&(ut+=li)}Mt?Dt++:Dt=0,lt>=P&&!Ze&&st.isPseudoAfter()&&(Ze=!0,Xe.setColumnInfo(lt+1,gt,ct,He)),J.appendString("</span>")}return Ze||Xe.setColumnInfo(P+1,ie.length-1,ct,He),j&&(J.appendString('<span class="mtkoverflow">'),J.appendString(D.NC("showMore","Show more ({0})",ne(K))),J.appendString("</span>")),J.appendString("</span>"),new b(Xe,Ce,he)}function Z($){return $.toString(16).toUpperCase().padStart(4,"0")}function ne($){return $<1024?D.NC("overflow.chars","{0} chars",$):$<1024*1024?`${($/1024).toFixed(1)} KB`:`${($/1024/1024).toFixed(1)} MB`}},2860:function(Gt,ze,c){"use strict";c.d(ze,{$l:function(){return b},$t:function(){return B},IP:function(){return T},SQ:function(){return C},Wx:function(){return y},l_:function(){return k},ud:function(){return L},wA:function(){return M}});var D=c(54888),X=c(80360),v=c(54125);class k{constructor(_,a,u,N){this._viewportBrand=void 0,this.top=_|0,this.left=a|0,this.width=u|0,this.height=N|0}}class L{constructor(_,a){this.tabSize=_,this.data=a}}class T{constructor(_,a,u,N,O,R,V){this._viewLineDataBrand=void 0,this.content=_,this.continuesWithWrappedLine=a,this.minColumn=u,this.maxColumn=N,this.startVisibleColumn=O,this.tokens=R,this.inlineDecorations=V}}class M{constructor(_,a,u,N,O,R,V,F,Y,G){this.minColumn=_,this.maxColumn=a,this.content=u,this.continuesWithWrappedLine=N,this.isBasicASCII=M.isBasicASCII(u,R),this.containsRTL=M.containsRTL(u,this.isBasicASCII,O),this.tokens=V,this.inlineDecorations=F,this.tabSize=Y,this.startVisibleColumn=G}static isBasicASCII(_,a){return a?X.$i(_):!0}static containsRTL(_,a,u){return!a&&u?X.Ut(_):!1}}class B{constructor(_,a,u){this.range=_,this.inlineClassName=a,this.type=u}}class y{constructor(_,a,u,N){this.startOffset=_,this.endOffset=a,this.inlineClassName=u,this.inlineClassNameAffectsLetterSpacing=N}toInlineDecoration(_){return new B(new v.e(_,this.startOffset+1,_,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class b{constructor(_,a){this._viewModelDecorationBrand=void 0,this.range=_,this.options=a}}class C{constructor(_,a,u){this.color=_,this.zIndex=a,this.data=u}static compareByRenderingProps(_,a){return _.zIndex===a.zIndex?_.color<a.color?-1:_.color>a.color?1:0:_.zIndex-a.zIndex}static equals(_,a){return _.color===a.color&&_.zIndex===a.zIndex&&D.fS(_.data,a.data)}static equalsArr(_,a){return D.fS(_,a,C.equals)}}},69017:function(Gt,ze,c){"use strict";c.d(ze,{EY:function(){return X},Tj:function(){return v}});class D{constructor(L,T,M){this._colorZoneBrand=void 0,this.from=L|0,this.to=T|0,this.colorId=M|0}static compare(L,T){return L.colorId===T.colorId?L.from===T.from?L.to-T.to:L.from-T.from:L.colorId-T.colorId}}class X{constructor(L,T,M,B){this._overviewRulerZoneBrand=void 0,this.startLineNumber=L,this.endLineNumber=T,this.heightInLines=M,this.color=B,this._colorZone=null}static compare(L,T){return L.color===T.color?L.startLineNumber===T.startLineNumber?L.heightInLines===T.heightInLines?L.endLineNumber-T.endLineNumber:L.heightInLines-T.heightInLines:L.startLineNumber-T.startLineNumber:L.color<T.color?-1:1}setColorZone(L){this._colorZone=L}getColorZones(){return this._colorZone}}class v{constructor(L){this._getVerticalOffsetForLine=L,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(L){this._zones=L,this._zones.sort(X.compare)}setLineHeight(L){return this._lineHeight===L?!1:(this._lineHeight=L,this._colorZonesInvalid=!0,!0)}setPixelRatio(L){this._pixelRatio=L,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(L){return this._domWidth===L?!1:(this._domWidth=L,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(L){return this._domHeight===L?!1:(this._domHeight=L,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(L){return this._outerHeight===L?!1:(this._outerHeight=L,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const L=this._colorZonesInvalid,T=Math.floor(this._lineHeight),M=Math.floor(this.getCanvasHeight()),B=Math.floor(this._outerHeight),y=M/B,b=Math.floor(4*this._pixelRatio/2),C=[];for(let S=0,_=this._zones.length;S<_;S++){const a=this._zones[S];if(!L){const ne=a.getColorZones();if(ne){C.push(ne);continue}}const u=this._getVerticalOffsetForLine(a.startLineNumber),N=a.heightInLines===0?this._getVerticalOffsetForLine(a.endLineNumber)+T:u+a.heightInLines*T,O=Math.floor(y*u),R=Math.floor(y*N);let V=Math.floor((O+R)/2),F=R-V;F<b&&(F=b),V-F<0&&(V=F),V+F>M&&(V=M-F);const Y=a.color;let G=this._color2Id[Y];G||(G=++this._lastAssignedId,this._color2Id[Y]=G,this._id2Color[G]=Y);const Z=new D(V-F,V+F,G);a.setColorZone(Z),C.push(Z)}return this._colorZonesInvalid=!1,C.sort(D.compare),C}}},91418:function(Gt,ze,c){"use strict";c.d(ze,{$t:function(){return M},CU:function(){return L},Fd:function(){return T},zg:function(){return B}});var D=c(79946),X=c(54125),v=c(2860),k=c(38074);class L{constructor(C,S,_,a,u){this.editorId=C,this.model=S,this.configuration=_,this._linesCollection=a,this._coordinatesConverter=u,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(C){const S=C.id;let _=this._decorationsCache[S];if(!_){const a=C.range,u=C.options;let N;if(u.isWholeLine){const O=this._coordinatesConverter.convertModelPositionToViewPosition(new D.L(a.startLineNumber,1),0,!1,!0),R=this._coordinatesConverter.convertModelPositionToViewPosition(new D.L(a.endLineNumber,this.model.getLineMaxColumn(a.endLineNumber)),1);N=new X.e(O.lineNumber,O.column,R.lineNumber,R.column)}else N=this._coordinatesConverter.convertModelRangeToViewRange(a,1);_=new v.$l(N,u),this._decorationsCache[S]=_}return _}getMinimapDecorationsInRange(C){return this._getDecorationsInRange(C,!0,!1).decorations}getDecorationsViewportData(C){let S=this._cachedModelDecorationsResolver!==null;return S=S&&C.equalsRange(this._cachedModelDecorationsResolverViewRange),S||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(C,!1,!1),this._cachedModelDecorationsResolverViewRange=C),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(C,S=!1,_=!1){const a=new X.e(C,this._linesCollection.getViewLineMinColumn(C),C,this._linesCollection.getViewLineMaxColumn(C));return this._getDecorationsInRange(a,S,_).inlineDecorations[0]}_getDecorationsInRange(C,S,_){const a=this._linesCollection.getDecorationsInRange(C,this.editorId,(0,k.$J)(this.configuration.options),S,_),u=C.startLineNumber,N=C.endLineNumber,O=[];let R=0;const V=[];for(let F=u;F<=N;F++)V[F-u]=[];for(let F=0,Y=a.length;F<Y;F++){const G=a[F],Z=G.options;if(!T(this.model,G))continue;const ne=this._getOrCreateViewModelDecoration(G),$=ne.range;if(O[R++]=ne,Z.inlineClassName){const J=new v.$t($,Z.inlineClassName,Z.inlineClassNameAffectsLetterSpacing?3:0),se=Math.max(u,$.startLineNumber),re=Math.min(N,$.endLineNumber);for(let he=se;he<=re;he++)V[he-u].push(J)}if(Z.beforeContentClassName&&u<=$.startLineNumber&&$.startLineNumber<=N){const J=new v.$t(new X.e($.startLineNumber,$.startColumn,$.startLineNumber,$.startColumn),Z.beforeContentClassName,1);V[$.startLineNumber-u].push(J)}if(Z.afterContentClassName&&u<=$.endLineNumber&&$.endLineNumber<=N){const J=new v.$t(new X.e($.endLineNumber,$.endColumn,$.endLineNumber,$.endColumn),Z.afterContentClassName,2);V[$.endLineNumber-u].push(J)}}return{decorations:O,inlineDecorations:V}}}function T(b,C){return!(C.options.hideInCommentTokens&&M(b,C)||C.options.hideInStringTokens&&B(b,C))}function M(b,C){return y(b,C.range,S=>S===1)}function B(b,C){return y(b,C.range,S=>S===2)}function y(b,C,S){for(let _=C.startLineNumber;_<=C.endLineNumber;_++){const a=b.tokenization.getLineTokens(_),u=_===C.startLineNumber,N=_===C.endLineNumber;let O=u?a.findTokenIndexAtOffset(C.startColumn-1):0;for(;O<a.getCount()&&!(N&&a.getStartOffset(O)>C.endColumn-1);){if(!S(a.getStandardTokenType(O)))return!1;O++}}return!0}},90230:function(Gt,ze,c){"use strict";c.d(ze,{yy:function(){return a},Dl:function(){return u},YQ:function(){return N}});var D=c(80360),X=c(54125),v=c(60902),k=c(83845),L=c(4593),T=c(81002),M=c(29882),B=c(99068),y=c(89320),b=c(18493);const C=(0,B.yh)("IEditorCancelService"),S=new T.uy("cancellableOperation",!1,(0,b.NC)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,y.z)(C,class{constructor(){this._tokens=new WeakMap}add(O,R){let V=this._tokens.get(O);V||(V=O.invokeWithinContext(Y=>{const G=S.bindTo(Y.get(T.i6)),Z=new M.S;return{key:G,tokens:Z}}),this._tokens.set(O,V));let F;return V.key.set(!0),F=V.tokens.push(R),()=>{F&&(F(),V.key.set(!V.tokens.isEmpty()),F=void 0)}}cancel(O){const R=this._tokens.get(O);if(!R)return;const V=R.tokens.pop();V&&(V.cancel(),R.key.set(!R.tokens.isEmpty()))}},1);class _ extends v.A{constructor(R,V){super(V),this.editor=R,this._unregister=R.invokeWithinContext(F=>F.get(C).add(R,this))}dispose(){this._unregister(),super.dispose()}}(0,L.fK)(new class extends L._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:S})}runEditorCommand(O,R){O.get(C).cancel(R)}});class a{constructor(R,V){if(this.flags=V,this.flags&1){const F=R.getModel();this.modelVersionId=F?D.WU("{0}#{1}",F.uri.toString(),F.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=R.getPosition():this.position=null,this.flags&2?this.selection=R.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=R.getScrollLeft(),this.scrollTop=R.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(R){if(!(R instanceof a))return!1;const V=R;return!(this.modelVersionId!==V.modelVersionId||this.scrollLeft!==V.scrollLeft||this.scrollTop!==V.scrollTop||!this.position&&V.position||this.position&&!V.position||this.position&&V.position&&!this.position.equals(V.position)||!this.selection&&V.selection||this.selection&&!V.selection||this.selection&&V.selection&&!this.selection.equalsRange(V.selection))}validate(R){return this._equals(new a(R,this.flags))}}class u extends _{constructor(R,V,F,Y){super(R,Y),this._listener=new k.SL,V&4&&this._listener.add(R.onDidChangeCursorPosition(G=>{(!F||!X.e.containsPosition(F,G.position))&&this.cancel()})),V&2&&this._listener.add(R.onDidChangeCursorSelection(G=>{(!F||!X.e.containsRange(F,G.selection))&&this.cancel()})),V&8&&this._listener.add(R.onDidScrollChange(G=>this.cancel())),V&1&&(this._listener.add(R.onDidChangeModel(G=>this.cancel())),this._listener.add(R.onDidChangeModelContent(G=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class N extends v.A{constructor(R,V){super(V),this._listener=R.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}},94519:function(Gt,ze,c){"use strict";c.d(ze,{xC:function(){return ne},x$:function(){return $},Qq:function(){return se},Qs:function(){return P}});var D=c(54888),X=c(60902),v=c(35541),k=c(54362),L=c(29882),T=c(22968),M=c(6685),B=c(90230),y=c(1764),b=c(79946),C=c(54125),S=c(37753),_=c(22980),a=c(18540),u=c(80943),N=c(50544);class O{constructor(K){this.value=K,this._lower=K.toLowerCase()}static toKey(K){return typeof K=="string"?K.toLowerCase():K._lower}}class R{constructor(K){if(this._set=new Set,K)for(const ie of K)this.add(ie)}add(K){this._set.add(O.toKey(K))}has(K){return this._set.has(O.toKey(K))}}var V=c(99068),F=c(36276),Y=c(58316),G=c(87943);function Z(j,K,ie){const ce=[],_e=new R,Ee=j.ordered(ie);for(const pe of Ee)ce.push(pe),pe.extensionId&&_e.add(pe.extensionId);const Ce=K.ordered(ie);for(const pe of Ce){if(pe.extensionId){if(_e.has(pe.extensionId))continue;_e.add(pe.extensionId)}ce.push({displayName:pe.displayName,extensionId:pe.extensionId,provideDocumentFormattingEdits(xe,x,rt){return pe.provideDocumentRangeFormattingEdits(xe,xe.getFullModelRange(),x,rt)}})}return ce}class ne{static setFormatterSelector(K){return{dispose:ne._selectors.unshift(K)}}static select(K,ie,ce){return At(this,null,function*(){if(K.length===0)return;const _e=k.$.first(ne._selectors);if(_e)return yield _e(K,ie,ce)})}}ne._selectors=new L.S;function $(j,K,ie,ce,_e,Ee,Ce){return At(this,null,function*(){const pe=j.get(V.TG),{documentRangeFormattingEditProvider:xe}=j.get(F.p),x=(0,y.CL)(K)?K.getModel():K,rt=xe.ordered(x),Xe=yield ne.select(rt,x,ce);Xe&&(_e.report(Xe),yield pe.invokeFunction(J,Xe,K,ie,Ee,Ce))})}function J(j,K,ie,ce,_e,Ee){return At(this,null,function*(){var Ce,pe;const xe=j.get(_.p),x=j.get(Y.VZ),rt=j.get(G.VX);let Xe,Ze;(0,y.CL)(ie)?(Xe=ie.getModel(),Ze=new B.Dl(ie,5,void 0,_e)):(Xe=ie,Ze=new B.YQ(ie,_e));const lt=[];let ut=0;for(const Re of(0,D._2)(ce).sort(C.e.compareRangesUsingStarts))ut>0&&C.e.areIntersectingOrTouching(lt[ut-1],Re)?lt[ut-1]=C.e.fromPositions(lt[ut-1].getStartPosition(),Re.getEndPosition()):ut=lt.push(Re);const ct=Re=>At(this,null,function*(){var st,Tt;x.trace("[format][provideDocumentRangeFormattingEdits] (request)",(st=K.extensionId)===null||st===void 0?void 0:st.value,Re);const xt=(yield K.provideDocumentRangeFormattingEdits(Xe,Re,Xe.getFormattingOptions(),Ze.token))||[];return x.trace("[format][provideDocumentRangeFormattingEdits] (response)",(Tt=K.extensionId)===null||Tt===void 0?void 0:Tt.value,xt),xt}),He=(Re,st)=>{if(!Re.length||!st.length)return!1;const Tt=Re.reduce((xt,vt)=>C.e.plusRange(xt,vt.range),Re[0].range);if(!st.some(xt=>C.e.intersectRanges(Tt,xt.range)))return!1;for(const xt of Re)for(const vt of st)if(C.e.intersectRanges(xt.range,vt.range))return!0;return!1},Dt=[],gt=[];try{if(typeof K.provideDocumentRangesFormattingEdits=="function"){x.trace("[format][provideDocumentRangeFormattingEdits] (request)",(Ce=K.extensionId)===null||Ce===void 0?void 0:Ce.value,lt);const Re=(yield K.provideDocumentRangesFormattingEdits(Xe,lt,Xe.getFormattingOptions(),Ze.token))||[];x.trace("[format][provideDocumentRangeFormattingEdits] (response)",(pe=K.extensionId)===null||pe===void 0?void 0:pe.value,Re),gt.push(Re)}else{for(const Re of lt){if(Ze.token.isCancellationRequested)return!0;gt.push(yield ct(Re))}for(let Re=0;Re<lt.length;++Re)for(let st=Re+1;st<lt.length;++st){if(Ze.token.isCancellationRequested)return!0;if(He(gt[Re],gt[st])){const Tt=C.e.plusRange(lt[Re],lt[st]),xt=yield ct(Tt);lt.splice(st,1),lt.splice(Re,1),lt.push(Tt),gt.splice(st,1),gt.splice(Re,1),gt.push(xt),Re=0,st=0}}}for(const Re of gt){if(Ze.token.isCancellationRequested)return!0;const st=yield xe.computeMoreMinimalEdits(Xe.uri,Re);st&&Dt.push(...st)}}finally{Ze.dispose()}if(Dt.length===0)return!1;if((0,y.CL)(ie))u.V.execute(ie,Dt,!0),ie.revealPositionInCenterIfOutsideViewport(ie.getPosition(),1);else{const[{range:Re}]=Dt,st=new S.Y(Re.startLineNumber,Re.startColumn,Re.endLineNumber,Re.endColumn);Xe.pushEditOperations([st],Dt.map(Tt=>({text:Tt.text,range:C.e.lift(Tt.range),forceMoveMarkers:!0})),Tt=>{for(const{range:xt}of Tt)if(C.e.areIntersectingOrTouching(xt,st))return[new S.Y(xt.startLineNumber,xt.startColumn,xt.endLineNumber,xt.endColumn)];return null})}return rt.notify("format",Ee),!0})}function se(j,K,ie,ce,_e,Ee){return At(this,null,function*(){const Ce=j.get(V.TG),pe=j.get(F.p),xe=(0,y.CL)(K)?K.getModel():K,x=Z(pe.documentFormattingEditProvider,pe.documentRangeFormattingEditProvider,xe),rt=yield ne.select(x,xe,ie);rt&&(ce.report(rt),yield Ce.invokeFunction(re,rt,K,ie,_e,Ee))})}function re(j,K,ie,ce,_e,Ee){return At(this,null,function*(){const Ce=j.get(_.p),pe=j.get(G.VX);let xe,x;(0,y.CL)(ie)?(xe=ie.getModel(),x=new B.Dl(ie,5,void 0,_e)):(xe=ie,x=new B.YQ(ie,_e));let rt;try{const Xe=yield K.provideDocumentFormattingEdits(xe,xe.getFormattingOptions(),x.token);if(rt=yield Ce.computeMoreMinimalEdits(xe.uri,Xe),x.token.isCancellationRequested)return!0}finally{x.dispose()}if(!rt||rt.length===0)return!1;if((0,y.CL)(ie))u.V.execute(ie,rt,ce!==2),ce!==2&&ie.revealPositionInCenterIfOutsideViewport(ie.getPosition(),1);else{const[{range:Xe}]=rt,Ze=new S.Y(Xe.startLineNumber,Xe.startColumn,Xe.endLineNumber,Xe.endColumn);xe.pushEditOperations([Ze],rt.map(lt=>({text:lt.text,range:C.e.lift(lt.range),forceMoveMarkers:!0})),lt=>{for(const{range:ut}of lt)if(C.e.areIntersectingOrTouching(ut,Ze))return[new S.Y(ut.startLineNumber,ut.startColumn,ut.endLineNumber,ut.endColumn)];return null})}return pe.notify("format",Ee),!0})}function he(j,K,ie,ce,_e,Ee){return At(this,null,function*(){const Ce=K.documentRangeFormattingEditProvider.ordered(ie);for(const pe of Ce){const xe=yield Promise.resolve(pe.provideDocumentRangeFormattingEdits(ie,ce,_e,Ee)).catch(v.Cp);if((0,D.Of)(xe))return yield j.computeMoreMinimalEdits(ie.uri,xe)}})}function H(j,K,ie,ce,_e){return At(this,null,function*(){const Ee=Z(K.documentFormattingEditProvider,K.documentRangeFormattingEditProvider,ie);for(const Ce of Ee){const pe=yield Promise.resolve(Ce.provideDocumentFormattingEdits(ie,ce,_e)).catch(v.Cp);if((0,D.Of)(pe))return yield j.computeMoreMinimalEdits(ie.uri,pe)}})}function P(j,K,ie,ce,_e,Ee,Ce){const pe=K.onTypeFormattingEditProvider.ordered(ie);return pe.length===0||pe[0].autoFormatTriggerCharacters.indexOf(_e)<0?Promise.resolve(void 0):Promise.resolve(pe[0].provideOnTypeFormattingEdits(ie,ce,_e,Ee,Ce)).catch(v.Cp).then(xe=>j.computeMoreMinimalEdits(ie.uri,xe))}N.P.registerCommand("_executeFormatRangeProvider",function(j,...K){return At(this,null,function*(){const[ie,ce,_e]=K;(0,T.p_)(M.o.isUri(ie)),(0,T.p_)(C.e.isIRange(ce));const Ee=j.get(a.S),Ce=j.get(_.p),pe=j.get(F.p),xe=yield Ee.createModelReference(ie);try{return he(Ce,pe,xe.object.textEditorModel,C.e.lift(ce),_e,X.T.None)}finally{xe.dispose()}})}),N.P.registerCommand("_executeFormatDocumentProvider",function(j,...K){return At(this,null,function*(){const[ie,ce]=K;(0,T.p_)(M.o.isUri(ie));const _e=j.get(a.S),Ee=j.get(_.p),Ce=j.get(F.p),pe=yield _e.createModelReference(ie);try{return H(Ee,Ce,pe.object.textEditorModel,ce,X.T.None)}finally{pe.dispose()}})}),N.P.registerCommand("_executeFormatOnTypeProvider",function(j,...K){return At(this,null,function*(){const[ie,ce,_e,Ee]=K;(0,T.p_)(M.o.isUri(ie)),(0,T.p_)(b.L.isIPosition(ce)),(0,T.p_)(typeof _e=="string");const Ce=j.get(a.S),pe=j.get(_.p),xe=j.get(F.p),x=yield Ce.createModelReference(ie);try{return P(pe,xe,x.object.textEditorModel,b.L.lift(ce),_e,Ee,X.T.None)}finally{x.dispose()}})})},80943:function(Gt,ze,c){"use strict";c.d(ze,{V:function(){return k}});var D=c(62336),X=c(54125),v=c(55426);class k{static _handleEolEdits(T,M){let B;const y=[];for(const b of M)typeof b.eol=="number"&&(B=b.eol),b.range&&typeof b.text=="string"&&y.push(b);return typeof B=="number"&&T.hasModel()&&T.getModel().pushEOL(B),y}static _isFullModelReplaceEdit(T,M){if(!T.hasModel())return!1;const B=T.getModel(),y=B.validateRange(M.range);return B.getFullModelRange().equalsRange(y)}static execute(T,M,B){B&&T.pushUndoStop();const y=v.Z.capture(T),b=k._handleEolEdits(T,M);b.length===1&&k._isFullModelReplaceEdit(T,b[0])?T.executeEdits("formatEditsCommand",b.map(C=>D.h.replace(X.e.lift(C.range),C.text))):T.executeEdits("formatEditsCommand",b.map(C=>D.h.replaceMove(X.e.lift(C.range),C.text))),B&&T.pushUndoStop(),y.restoreRelativeVerticalPositionOfCursor(T)}}},51293:function(Gt,ze,c){"use strict";c.r(ze),c.d(ze,{CancellationTokenSource:function(){return mf},Emitter:function(){return ku},KeyCode:function(){return pf},KeyMod:function(){return Fu},MarkerSeverity:function(){return Wu},MarkerTag:function(){return Em},Position:function(){return Mc},Range:function(){return Bu},Selection:function(){return Cm},SelectionDirection:function(){return Yl},Token:function(){return _f},Uri:function(){return jl},editor:function(){return Cf},languages:function(){return Ef}});var D=c(38074),X=c(43705),v=c(32764),k=c(83845),L=c(80360),T=c(6685),M=c(99384),B=c(4593),y=c(79602),b=c(24913),C=c(53085);function S(Le,r,f){return new _(Le,r,f)}class _ extends C.Q8{constructor(r,f,I){super(r,I.keepIdleModels||!1,I.label,f),this._foreignModuleId=I.moduleId,this._foreignModuleCreateData=I.createData||null,this._foreignModuleHost=I.host||null,this._foreignProxy=null}fhr(r,f){if(!this._foreignModuleHost||typeof this._foreignModuleHost[r]!="function")return Promise.reject(new Error("Missing method "+r+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[r].apply(this._foreignModuleHost,f))}catch(I){return Promise.reject(I)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(r=>{const f=this._foreignModuleHost?(0,b.$E)(this._foreignModuleHost):[];return r.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,f).then(I=>{this._foreignModuleCreateData=null;const ee=(Ae,at)=>r.fmr(Ae,at),oe=(Ae,at)=>function(){const _t=Array.prototype.slice.call(arguments,0);return at(Ae,_t)},me={};for(const Ae of I)me[Ae]=oe(Ae,ee);return me})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(r){return this._withSyncedResources(r).then(f=>this.getProxy())}}var a=c(65072),u=c(22690),N=c(39347),O=c(26627),R=c(57529),V=c(79993),F=c(24966),Y=c(32402),G=c(74222),Z=c(15056),ne=c(96319),$=c(13158),J=c(12007),se=c(88748),re=c(2860);function he(Le){return Array.isArray(Le)}function H(Le){return!he(Le)}function P(Le){return typeof Le=="string"}function j(Le){return!P(Le)}function K(Le){return!Le}function ie(Le,r){return Le.ignoreCase&&r?r.toLowerCase():r}function ce(Le){return Le.replace(/[&<>'"_]/g,"-")}function _e(Le,r){console.log(`${Le.languageId}: ${r}`)}function Ee(Le,r){return new Error(`${Le.languageId}: ${r}`)}function Ce(Le,r,f,I,ee){const oe=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let me=null;return r.replace(oe,function(Ae,at,_t,Rt,Jt,Ti,yi,xn,Ls){return K(_t)?K(Rt)?!K(Jt)&&Jt<I.length?ie(Le,I[Jt]):!K(yi)&&Le&&typeof Le[yi]=="string"?Le[yi]:(me===null&&(me=ee.split("."),me.unshift(ee)),!K(Ti)&&Ti<me.length?ie(Le,me[Ti]):""):ie(Le,f):"$"})}function pe(Le,r){let f=r;for(;f&&f.length>0;){const I=Le.tokenizer[f];if(I)return I;const ee=f.lastIndexOf(".");ee<0?f=null:f=f.substr(0,ee)}return null}function xe(Le,r){let f=r;for(;f&&f.length>0;){if(Le.stateNames[f])return!0;const ee=f.lastIndexOf(".");ee<0?f=null:f=f.substr(0,ee)}return!1}var x=c(76681),rt=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},Xe=function(Le,r){return function(f,I){r(f,I,Le)}},Ze;const lt=5;class ut{static create(r,f){return this._INSTANCE.create(r,f)}constructor(r){this._maxCacheDepth=r,this._entries=Object.create(null)}create(r,f){if(r!==null&&r.depth>=this._maxCacheDepth)return new ct(r,f);let I=ct.getStackElementId(r);I.length>0&&(I+="|"),I+=f;let ee=this._entries[I];return ee||(ee=new ct(r,f),this._entries[I]=ee,ee)}}ut._INSTANCE=new ut(lt);class ct{constructor(r,f){this.parent=r,this.state=f,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(r){let f="";for(;r!==null;)f.length>0&&(f+="|"),f+=r.state,r=r.parent;return f}static _equals(r,f){for(;r!==null&&f!==null;){if(r===f)return!0;if(r.state!==f.state)return!1;r=r.parent,f=f.parent}return r===null&&f===null}equals(r){return ct._equals(this,r)}push(r){return ut.create(this,r)}pop(){return this.parent}popall(){let r=this;for(;r.parent;)r=r.parent;return r}switchTo(r){return ut.create(this.parent,r)}}class He{constructor(r,f){this.languageId=r,this.state=f}equals(r){return this.languageId===r.languageId&&this.state.equals(r.state)}clone(){return this.state.clone()===this.state?this:new He(this.languageId,this.state)}}class Dt{static create(r,f){return this._INSTANCE.create(r,f)}constructor(r){this._maxCacheDepth=r,this._entries=Object.create(null)}create(r,f){if(f!==null)return new gt(r,f);if(r!==null&&r.depth>=this._maxCacheDepth)return new gt(r,f);const I=ct.getStackElementId(r);let ee=this._entries[I];return ee||(ee=new gt(r,null),this._entries[I]=ee,ee)}}Dt._INSTANCE=new Dt(lt);class gt{constructor(r,f){this.stack=r,this.embeddedLanguageData=f}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:Dt.create(this.stack,this.embeddedLanguageData)}equals(r){return!(r instanceof gt)||!this.stack.equals(r.stack)?!1:this.embeddedLanguageData===null&&r.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||r.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(r.embeddedLanguageData)}}class Re{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(r){this._languageId=r}emit(r,f){this._lastTokenType===f&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=f,this._lastTokenLanguage=this._languageId,this._tokens.push(new O.WU(r,f,this._languageId)))}nestedLanguageTokenize(r,f,I,ee){const oe=I.languageId,me=I.state,Ae=O.RW.get(oe);if(!Ae)return this.enterLanguage(oe),this.emit(ee,""),me;const at=Ae.tokenize(r,f,me);if(ee!==0)for(const _t of at.tokens)this._tokens.push(new O.WU(_t.offset+ee,_t.type,_t.language));else this._tokens=this._tokens.concat(at.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,at.endState}finalize(r){return new O.hG(this._tokens,r)}}class st{constructor(r,f){this._languageService=r,this._theme=f,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(r){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(r)}emit(r,f){const I=this._theme.match(this._currentLanguageId,f)|1024;this._lastTokenMetadata!==I&&(this._lastTokenMetadata=I,this._tokens.push(r),this._tokens.push(I))}static _merge(r,f,I){const ee=r!==null?r.length:0,oe=f.length,me=I!==null?I.length:0;if(ee===0&&oe===0&&me===0)return new Uint32Array(0);if(ee===0&&oe===0)return I;if(oe===0&&me===0)return r;const Ae=new Uint32Array(ee+oe+me);r!==null&&Ae.set(r);for(let at=0;at<oe;at++)Ae[ee+at]=f[at];return I!==null&&Ae.set(I,ee+oe),Ae}nestedLanguageTokenize(r,f,I,ee){const oe=I.languageId,me=I.state,Ae=O.RW.get(oe);if(!Ae)return this.enterLanguage(oe),this.emit(ee,""),me;const at=Ae.tokenizeEncoded(r,f,me);if(ee!==0)for(let _t=0,Rt=at.tokens.length;_t<Rt;_t+=2)at.tokens[_t]+=ee;return this._prependTokens=st._merge(this._prependTokens,this._tokens,at.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,at.endState}finalize(r){return new O.DI(st._merge(this._prependTokens,this._tokens,null),r)}}let Tt=Ze=class extends k.JT{constructor(r,f,I,ee,oe){super(),this._configurationService=oe,this._languageService=r,this._standaloneThemeService=f,this._languageId=I,this._lexer=ee,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let me=!1;this._register(O.RW.onDidChange(Ae=>{if(me)return;let at=!1;for(let _t=0,Rt=Ae.changedLanguages.length;_t<Rt;_t++){const Jt=Ae.changedLanguages[_t];if(this._embeddedLanguages[Jt]){at=!0;break}}at&&(me=!0,O.RW.handleChange([this._languageId]),me=!1)})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration(Ae=>{Ae.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))}))}getLoadStatus(){const r=[];for(const f in this._embeddedLanguages){const I=O.RW.get(f);if(I){if(I instanceof Ze){const ee=I.getLoadStatus();ee.loaded===!1&&r.push(ee.promise)}continue}O.RW.isResolved(f)||r.push(O.RW.getOrCreate(f))}return r.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(r).then(f=>{})}}getInitialState(){const r=ut.create(null,this._lexer.start);return Dt.create(r,null)}tokenize(r,f,I){if(r.length>=this._maxTokenizationLineLength)return(0,Y.Ri)(this._languageId,I);const ee=new Re,oe=this._tokenize(r,f,I,ee);return ee.finalize(oe)}tokenizeEncoded(r,f,I){if(r.length>=this._maxTokenizationLineLength)return(0,Y.Dy)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),I);const ee=new st(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),oe=this._tokenize(r,f,I,ee);return ee.finalize(oe)}_tokenize(r,f,I,ee){return I.embeddedLanguageData?this._nestedTokenize(r,f,I,0,ee):this._myTokenize(r,f,I,0,ee)}_findLeavingNestedLanguageOffset(r,f){let I=this._lexer.tokenizer[f.stack.state];if(!I&&(I=pe(this._lexer,f.stack.state),!I))throw Ee(this._lexer,"tokenizer state is not defined: "+f.stack.state);let ee=-1,oe=!1;for(const me of I){if(!j(me.action)||me.action.nextEmbedded!=="@pop")continue;oe=!0;let Ae=me.regex;const at=me.regex.source;if(at.substr(0,4)==="^(?:"&&at.substr(at.length-1,1)===")"){const Rt=(Ae.ignoreCase?"i":"")+(Ae.unicode?"u":"");Ae=new RegExp(at.substr(4,at.length-5),Rt)}const _t=r.search(Ae);_t===-1||_t!==0&&me.matchOnlyAtLineStart||(ee===-1||_t<ee)&&(ee=_t)}if(!oe)throw Ee(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+f.stack.state);return ee}_nestedTokenize(r,f,I,ee,oe){const me=this._findLeavingNestedLanguageOffset(r,I);if(me===-1){const _t=oe.nestedLanguageTokenize(r,f,I.embeddedLanguageData,ee);return Dt.create(I.stack,new He(I.embeddedLanguageData.languageId,_t))}const Ae=r.substring(0,me);Ae.length>0&&oe.nestedLanguageTokenize(Ae,!1,I.embeddedLanguageData,ee);const at=r.substring(me);return this._myTokenize(at,f,I,ee+me,oe)}_safeRuleName(r){return r?r.name:"(unknown)"}_myTokenize(r,f,I,ee,oe){oe.enterLanguage(this._languageId);const me=r.length,Ae=f&&this._lexer.includeLF?r+`
`:r,at=Ae.length;let _t=I.embeddedLanguageData,Rt=I.stack,Jt=0,Ti=null,yi=!0;for(;yi||Jt<at;){const xn=Jt,Ls=Rt.depth,Ms=Ti?Ti.groups.length:0,Po=Rt.state;let qs=null,ws=null,_s=null,Lr=null,ra=null;if(Ti){qs=Ti.matches;const xs=Ti.groups.shift();ws=xs.matched,_s=xs.action,Lr=Ti.rule,Ti.groups.length===0&&(Ti=null)}else{if(!yi&&Jt>=at)break;yi=!1;let xs=this._lexer.tokenizer[Po];if(!xs&&(xs=pe(this._lexer,Po),!xs))throw Ee(this._lexer,"tokenizer state is not defined: "+Po);const Bo=Ae.substr(Jt);for(const Pr of xs)if((Jt===0||!Pr.matchOnlyAtLineStart)&&(qs=Bo.match(Pr.regex),qs)){ws=qs[0],_s=Pr.action;break}}if(qs||(qs=[""],ws=""),_s||(Jt<at&&(qs=[Ae.charAt(Jt)],ws=qs[0]),_s=this._lexer.defaultToken),ws===null)break;for(Jt+=ws.length;H(_s)&&j(_s)&&_s.test;)_s=_s.test(ws,qs,Po,Jt===at);let Fo=null;if(typeof _s=="string"||Array.isArray(_s))Fo=_s;else if(_s.group)Fo=_s.group;else if(_s.token!==null&&_s.token!==void 0){if(_s.tokenSubst?Fo=Ce(this._lexer,_s.token,ws,qs,Po):Fo=_s.token,_s.nextEmbedded)if(_s.nextEmbedded==="@pop"){if(!_t)throw Ee(this._lexer,"cannot pop embedded language if not inside one");_t=null}else{if(_t)throw Ee(this._lexer,"cannot enter embedded language from within an embedded language");ra=Ce(this._lexer,_s.nextEmbedded,ws,qs,Po)}if(_s.goBack&&(Jt=Math.max(0,Jt-_s.goBack)),_s.switchTo&&typeof _s.switchTo=="string"){let xs=Ce(this._lexer,_s.switchTo,ws,qs,Po);if(xs[0]==="@"&&(xs=xs.substr(1)),pe(this._lexer,xs))Rt=Rt.switchTo(xs);else throw Ee(this._lexer,"trying to switch to a state '"+xs+"' that is undefined in rule: "+this._safeRuleName(Lr))}else{if(_s.transform&&typeof _s.transform=="function")throw Ee(this._lexer,"action.transform not supported");if(_s.next)if(_s.next==="@push"){if(Rt.depth>=this._lexer.maxStack)throw Ee(this._lexer,"maximum tokenizer stack size reached: ["+Rt.state+","+Rt.parent.state+",...]");Rt=Rt.push(Po)}else if(_s.next==="@pop"){if(Rt.depth<=1)throw Ee(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(Lr));Rt=Rt.pop()}else if(_s.next==="@popall")Rt=Rt.popall();else{let xs=Ce(this._lexer,_s.next,ws,qs,Po);if(xs[0]==="@"&&(xs=xs.substr(1)),pe(this._lexer,xs))Rt=Rt.push(xs);else throw Ee(this._lexer,"trying to set a next state '"+xs+"' that is undefined in rule: "+this._safeRuleName(Lr))}}_s.log&&typeof _s.log=="string"&&_e(this._lexer,this._lexer.languageId+": "+Ce(this._lexer,_s.log,ws,qs,Po))}if(Fo===null)throw Ee(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(Lr));const Vn=xs=>{const Bo=this._languageService.getLanguageIdByLanguageName(xs)||this._languageService.getLanguageIdByMimeType(xs)||xs,Pr=this._getNestedEmbeddedLanguageData(Bo);if(Jt<at){const zr=r.substr(Jt);return this._nestedTokenize(zr,f,Dt.create(Rt,Pr),ee+Jt,oe)}else return Dt.create(Rt,Pr)};if(Array.isArray(Fo)){if(Ti&&Ti.groups.length>0)throw Ee(this._lexer,"groups cannot be nested: "+this._safeRuleName(Lr));if(qs.length!==Fo.length+1)throw Ee(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(Lr));let xs=0;for(let Bo=1;Bo<qs.length;Bo++)xs+=qs[Bo].length;if(xs!==ws.length)throw Ee(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(Lr));Ti={rule:Lr,matches:qs,groups:[]};for(let Bo=0;Bo<Fo.length;Bo++)Ti.groups[Bo]={action:Fo[Bo],matched:qs[Bo+1]};Jt-=ws.length;continue}else{if(Fo==="@rematch"&&(Jt-=ws.length,ws="",qs=null,Fo="",ra!==null))return Vn(ra);if(ws.length===0){if(at===0||Ls!==Rt.depth||Po!==Rt.state||(Ti?Ti.groups.length:0)!==Ms)continue;throw Ee(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(Lr))}let xs=null;if(P(Fo)&&Fo.indexOf("@brackets")===0){const Bo=Fo.substr(9),Pr=xt(this._lexer,ws);if(!Pr)throw Ee(this._lexer,"@brackets token returned but no bracket defined as: "+ws);xs=ce(Pr.token+Bo)}else{const Bo=Fo===""?"":Fo+this._lexer.tokenPostfix;xs=ce(Bo)}xn<me&&oe.emit(xn+ee,xs)}if(ra!==null)return Vn(ra)}return Dt.create(Rt,_t)}_getNestedEmbeddedLanguageData(r){if(!this._languageService.isRegisteredLanguageId(r))return new He(r,Y.TJ);r!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(r),O.RW.getOrCreate(r),this._embeddedLanguages[r]=!0);const f=O.RW.get(r);return f?new He(r,f.getInitialState()):new He(r,Y.TJ)}};Tt=Ze=rt([Xe(4,x.Ui)],Tt);function xt(Le,r){if(!r)return null;r=ie(Le,r);const f=Le.brackets;for(const I of f){if(I.open===r)return{token:I.token,bracketType:1};if(I.close===r)return{token:I.token,bracketType:-1}}return null}const vt=(0,$.Z)("standaloneColorizer",{createHTML:Le=>Le});class we{static colorizeElement(r,f,I,ee){ee=ee||{};const oe=ee.theme||"vs",me=ee.mimeType||I.getAttribute("lang")||I.getAttribute("data-lang");if(!me)return console.error("Mode not detected"),Promise.resolve();const Ae=f.getLanguageIdByMimeType(me)||me;r.setTheme(oe);const at=I.firstChild?I.firstChild.nodeValue:"";I.className+=" "+oe;const _t=Rt=>{var Jt;const Ti=(Jt=vt==null?void 0:vt.createHTML(Rt))!==null&&Jt!==void 0?Jt:Rt;I.innerHTML=Ti};return this.colorize(f,at||"",Ae,ee).then(_t,Rt=>console.error(Rt))}static colorize(r,f,I,ee){return At(this,null,function*(){const oe=r.languageIdCodec;let me=4;ee&&typeof ee.tabSize=="number"&&(me=ee.tabSize),L.uS(f)&&(f=f.substr(1));const Ae=L.uq(f);if(!r.isRegisteredLanguageId(I))return Mt(Ae,me,oe);const at=yield O.RW.getOrCreate(I);return at?pt(Ae,me,at,oe):Mt(Ae,me,oe)})}static colorizeLine(r,f,I,ee,oe=4){const me=re.wA.isBasicASCII(r,f),Ae=re.wA.containsRTL(r,me,I);return(0,se.tF)(new se.IJ(!1,!0,r,!1,me,Ae,0,ee,[],oe,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(r,f,I=4){const ee=r.getLineContent(f);r.tokenization.forceTokenization(f);const me=r.tokenization.getLineTokens(f).inflate();return this.colorizeLine(ee,r.mightContainNonBasicASCII(),r.mightContainRTL(),me,I)}}function pt(Le,r,f,I){return new Promise((ee,oe)=>{const me=()=>{const Ae=Ft(Le,r,f,I);if(f instanceof Tt){const at=f.getLoadStatus();if(at.loaded===!1){at.promise.then(me,oe);return}}ee(Ae)};me()})}function Mt(Le,r,f){let I=[];const oe=new Uint32Array(2);oe[0]=0,oe[1]=33587200;for(let me=0,Ae=Le.length;me<Ae;me++){const at=Le[me];oe[0]=at.length;const _t=new J.A(oe,at,f),Rt=re.wA.isBasicASCII(at,!0),Jt=re.wA.containsRTL(at,Rt,!0),Ti=(0,se.tF)(new se.IJ(!1,!0,at,!1,Rt,Jt,0,_t,[],r,0,0,0,0,-1,"none",!1,!1,null));I=I.concat(Ti.html),I.push("<br/>")}return I.join("")}function Ft(Le,r,f,I){let ee=[],oe=f.getInitialState();for(let me=0,Ae=Le.length;me<Ae;me++){const at=Le[me],_t=f.tokenizeEncoded(at,!0,oe);J.A.convertToEndOffset(_t.tokens,at.length);const Rt=new J.A(_t.tokens,at,I),Jt=re.wA.isBasicASCII(at,!0),Ti=re.wA.containsRTL(at,Jt,!0),yi=(0,se.tF)(new se.IJ(!1,!0,at,!1,Jt,Ti,0,Rt.inflate(),[],r,0,0,0,0,-1,"none",!1,!1,null));ee=ee.concat(yi.html),ee.push("<br/>"),oe=_t.endState}return ee.join("")}var Xt=c(1891),li=c(93309),Yt=c(34955),Ne=c(97480),yt=c(90385),De=c(46328),di=c(29882),Ve=c(27722),$i=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},wn=function(Le,r){return function(f,I){r(f,I,Le)}};let Pt=class extends k.JT{constructor(r){super(),this._themeService=r,this._onWillCreateCodeEditor=this._register(new De.Q5),this._onCodeEditorAdd=this._register(new De.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new De.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new De.Q5),this._onDiffEditorAdd=this._register(new De.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new De.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new di.S,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(r){this._codeEditors[r.getId()]=r,this._onCodeEditorAdd.fire(r)}removeCodeEditor(r){delete this._codeEditors[r.getId()]&&this._onCodeEditorRemove.fire(r)}listCodeEditors(){return Object.keys(this._codeEditors).map(r=>this._codeEditors[r])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(r){this._diffEditors[r.getId()]=r,this._onDiffEditorAdd.fire(r)}listDiffEditors(){return Object.keys(this._diffEditors).map(r=>this._diffEditors[r])}getFocusedCodeEditor(){let r=null;const f=this.listCodeEditors();for(const I of f){if(I.hasTextFocus())return I;I.hasWidgetFocus()&&(r=I)}return r}removeDecorationType(r){const f=this._decorationOptionProviders.get(r);f&&(f.refCount--,f.refCount<=0&&(this._decorationOptionProviders.delete(r),f.dispose(),this.listCodeEditors().forEach(I=>I.removeDecorationsByType(r))))}setModelProperty(r,f,I){const ee=r.toString();let oe;this._modelProperties.has(ee)?oe=this._modelProperties.get(ee):(oe=new Map,this._modelProperties.set(ee,oe)),oe.set(f,I)}getModelProperty(r,f){const I=r.toString();if(this._modelProperties.has(I))return this._modelProperties.get(I).get(f)}openCodeEditor(r,f,I){return At(this,null,function*(){for(const ee of this._codeEditorOpenHandlers){const oe=yield ee(r,f,I);if(oe!==null)return oe}return null})}registerCodeEditorOpenHandler(r){const f=this._codeEditorOpenHandlers.unshift(r);return(0,k.OF)(f)}};Pt=$i([wn(0,Ve.XE)],Pt);class le{constructor(r){this._styleSheet=r}}var mt=c(81002),jt=c(89320),bi=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},Ot=function(Le,r){return function(f,I){r(f,I,Le)}};let Ki=class extends Pt{constructor(r,f){super(f),this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=r.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler((I,ee,oe)=>At(this,null,function*(){return ee?this.doOpenEditor(ee,I):null})))}_checkContextKey(){let r=!1;for(const f of this.listCodeEditors())if(!f.isSimpleWidget){r=!0;break}this._editorIsOpen.set(r)}setActiveCodeEditor(r){this._activeCodeEditor=r}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(r,f){if(!this.findModel(r,f.resource)){if(f.resource){const oe=f.resource.scheme;if(oe===yt.lg.http||oe===yt.lg.https)return(0,Ne.V3)(f.resource.toString()),r}return null}const ee=f.options?f.options.selection:null;if(ee)if(typeof ee.endLineNumber=="number"&&typeof ee.endColumn=="number")r.setSelection(ee),r.revealRangeInCenter(ee,1);else{const oe={lineNumber:ee.startLineNumber,column:ee.startColumn};r.setPosition(oe),r.revealPositionInCenter(oe,1)}return r}findModel(r,f){const I=r.getModel();return I&&I.uri.toString()!==f.toString()?null:I}};Ki=bi([Ot(0,mt.i6),Ot(1,Ve.XE)],Ki),(0,jt.z)(y.$,Ki,0);var xi=c(99068);const dn=(0,xi.yh)("layoutService");var zt=c(54888),Qi=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},ei=function(Le,r){return function(f,I){r(f,I,Le)}};let Be=class{get mainContainer(){var r,f;return(f=(r=(0,zt.Xh)(this._codeEditorService.listCodeEditors()))===null||r===void 0?void 0:r.getContainerDomNode())!==null&&f!==void 0?f:v.Ex.document.body}get activeContainer(){var r,f;const I=(r=this._codeEditorService.getFocusedCodeEditor())!==null&&r!==void 0?r:this._codeEditorService.getActiveCodeEditor();return(f=I==null?void 0:I.getContainerDomNode())!==null&&f!==void 0?f:this.mainContainer}get mainContainerDimension(){return Ne.D6(this.mainContainer)}get activeContainerDimension(){return Ne.D6(this.activeContainer)}get containers(){return(0,zt.kX)(this._codeEditorService.listCodeEditors().map(r=>r.getContainerDomNode()))}getContainer(){return this.activeContainer}focus(){var r;(r=this._codeEditorService.getFocusedCodeEditor())===null||r===void 0||r.focus()}constructor(r){this._codeEditorService=r,this.onDidLayoutMainContainer=De.ju.None,this.onDidLayoutActiveContainer=De.ju.None,this.onDidLayoutContainer=De.ju.None,this.onDidChangeActiveContainer=De.ju.None,this.onDidAddContainer=De.ju.None,this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0}}};Be=Qi([ei(0,y.$)],Be);let Nt=class extends Be{get mainContainer(){return this._container}constructor(r,f){super(f),this._container=r}};Nt=Qi([ei(1,y.$)],Nt),(0,jt.z)(dn,Be,1);var Ri=c(35541),Fi=c(40539),hi=c(18493),En=c(49002),bn=c(23829),gn=c(62216),Bn=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},kn=function(Le,r){return function(f,I){r(f,I,Le)}};const en=!1;function Jn(Le){return Le.scheme===yt.lg.file?Le.fsPath:Le.path}let ys=0;class ds{constructor(r,f,I,ee,oe,me,Ae){this.id=++ys,this.type=0,this.actual=r,this.label=r.label,this.confirmBeforeUndo=r.confirmBeforeUndo||!1,this.resourceLabel=f,this.strResource=I,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=ee,this.groupOrder=oe,this.sourceId=me,this.sourceOrder=Ae,this.isValid=!0}setValid(r){this.isValid=r}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class cs{constructor(r,f){this.resourceLabel=r,this.reason=f}}class ps{constructor(){this.elements=new Map}createMessage(){const r=[],f=[];for(const[,ee]of this.elements)(ee.reason===0?r:f).push(ee.resourceLabel);const I=[];return r.length>0&&I.push(hi.NC({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",r.join(", "))),f.length>0&&I.push(hi.NC({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",f.join(", "))),I.join(`
`)}get size(){return this.elements.size}has(r){return this.elements.has(r)}set(r,f){this.elements.set(r,f)}delete(r){return this.elements.delete(r)}}class In{constructor(r,f,I,ee,oe,me,Ae){this.id=++ys,this.type=1,this.actual=r,this.label=r.label,this.confirmBeforeUndo=r.confirmBeforeUndo||!1,this.resourceLabels=f,this.strResources=I,this.groupId=ee,this.groupOrder=oe,this.sourceId=me,this.sourceOrder=Ae,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(r,f,I){this.removedResources||(this.removedResources=new ps),this.removedResources.has(f)||this.removedResources.set(f,new cs(r,I))}setValid(r,f,I){I?this.invalidatedResources&&(this.invalidatedResources.delete(f),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new ps),this.invalidatedResources.has(f)||this.invalidatedResources.set(f,new cs(r,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class os{constructor(r,f){this.resourceLabel=r,this.strResource=f,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const r of this._past)r.type===1&&r.removeResource(this.resourceLabel,this.strResource,0);for(const r of this._future)r.type===1&&r.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const r=[];r.push(`* ${this.strResource}:`);for(let f=0;f<this._past.length;f++)r.push(`   * [UNDO] ${this._past[f]}`);for(let f=this._future.length-1;f>=0;f--)r.push(`   * [REDO] ${this._future[f]}`);return r.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(r,f){r.type===1?r.setValid(this.resourceLabel,this.strResource,f):r.setValid(f)}setElementsValidFlag(r,f){for(const I of this._past)f(I.actual)&&this._setElementValidFlag(I,r);for(const I of this._future)f(I.actual)&&this._setElementValidFlag(I,r)}pushElement(r){for(const f of this._future)f.type===1&&f.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(r),this.versionId++}createSnapshot(r){const f=[];for(let I=0,ee=this._past.length;I<ee;I++)f.push(this._past[I].id);for(let I=this._future.length-1;I>=0;I--)f.push(this._future[I].id);return new gn.YO(r,f)}restoreSnapshot(r){const f=r.elements.length;let I=!0,ee=0,oe=-1;for(let Ae=0,at=this._past.length;Ae<at;Ae++,ee++){const _t=this._past[Ae];I&&(ee>=f||_t.id!==r.elements[ee])&&(I=!1,oe=0),!I&&_t.type===1&&_t.removeResource(this.resourceLabel,this.strResource,0)}let me=-1;for(let Ae=this._future.length-1;Ae>=0;Ae--,ee++){const at=this._future[Ae];I&&(ee>=f||at.id!==r.elements[ee])&&(I=!1,me=Ae),!I&&at.type===1&&at.removeResource(this.resourceLabel,this.strResource,0)}oe!==-1&&(this._past=this._past.slice(0,oe)),me!==-1&&(this._future=this._future.slice(me+1)),this.versionId++}getElements(){const r=[],f=[];for(const I of this._past)r.push(I.actual);for(const I of this._future)f.push(I.actual);return{past:r,future:f}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(r,f){for(let I=this._past.length-1;I>=0;I--)if(this._past[I]===r){f.has(this.strResource)?this._past[I]=f.get(this.strResource):this._past.splice(I,1);break}this.versionId++}splitFutureWorkspaceElement(r,f){for(let I=this._future.length-1;I>=0;I--)if(this._future[I]===r){f.has(this.strResource)?this._future[I]=f.get(this.strResource):this._future.splice(I,1);break}this.versionId++}moveBackward(r){this._past.pop(),this._future.push(r),this.versionId++}moveForward(r){this._future.pop(),this._past.push(r),this.versionId++}}class ui{constructor(r){this.editStacks=r,this._versionIds=[];for(let f=0,I=this.editStacks.length;f<I;f++)this._versionIds[f]=this.editStacks[f].versionId}isValid(){for(let r=0,f=this.editStacks.length;r<f;r++)if(this._versionIds[r]!==this.editStacks[r].versionId)return!1;return!0}}const ke=new os("","");ke.locked=!0;let Ke=class{constructor(r,f){this._dialogService=r,this._notificationService=f,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(r){for(const f of this._uriComparisonKeyComputers)if(f[0]===r.scheme)return f[1].getComparisonKey(r);return r.toString()}_print(r){console.log("------------------------------------"),console.log(`AFTER ${r}: `);const f=[];for(const I of this._editStacks)f.push(I[1].toString());console.log(f.join(`
`))}pushElement(r,f=gn.Xt.None,I=gn.gJ.None){if(r.type===0){const ee=Jn(r.resource),oe=this.getUriComparisonKey(r.resource);this._pushElement(new ds(r,ee,oe,f.id,f.nextOrder(),I.id,I.nextOrder()))}else{const ee=new Set,oe=[],me=[];for(const Ae of r.resources){const at=Jn(Ae),_t=this.getUriComparisonKey(Ae);ee.has(_t)||(ee.add(_t),oe.push(at),me.push(_t))}oe.length===1?this._pushElement(new ds(r,oe[0],me[0],f.id,f.nextOrder(),I.id,I.nextOrder())):this._pushElement(new In(r,oe,me,f.id,f.nextOrder(),I.id,I.nextOrder()))}en&&this._print("pushElement")}_pushElement(r){for(let f=0,I=r.strResources.length;f<I;f++){const ee=r.resourceLabels[f],oe=r.strResources[f];let me;this._editStacks.has(oe)?me=this._editStacks.get(oe):(me=new os(ee,oe),this._editStacks.set(oe,me)),me.pushElement(r)}}getLastElement(r){const f=this.getUriComparisonKey(r);if(this._editStacks.has(f)){const I=this._editStacks.get(f);if(I.hasFutureElements())return null;const ee=I.getClosestPastElement();return ee?ee.actual:null}return null}_splitPastWorkspaceElement(r,f){const I=r.actual.split(),ee=new Map;for(const oe of I){const me=Jn(oe.resource),Ae=this.getUriComparisonKey(oe.resource),at=new ds(oe,me,Ae,0,0,0,0);ee.set(at.strResource,at)}for(const oe of r.strResources){if(f&&f.has(oe))continue;this._editStacks.get(oe).splitPastWorkspaceElement(r,ee)}}_splitFutureWorkspaceElement(r,f){const I=r.actual.split(),ee=new Map;for(const oe of I){const me=Jn(oe.resource),Ae=this.getUriComparisonKey(oe.resource),at=new ds(oe,me,Ae,0,0,0,0);ee.set(at.strResource,at)}for(const oe of r.strResources){if(f&&f.has(oe))continue;this._editStacks.get(oe).splitFutureWorkspaceElement(r,ee)}}removeElements(r){const f=typeof r=="string"?r:this.getUriComparisonKey(r);this._editStacks.has(f)&&(this._editStacks.get(f).dispose(),this._editStacks.delete(f)),en&&this._print("removeElements")}setElementsValidFlag(r,f,I){const ee=this.getUriComparisonKey(r);this._editStacks.has(ee)&&this._editStacks.get(ee).setElementsValidFlag(f,I),en&&this._print("setElementsValidFlag")}createSnapshot(r){const f=this.getUriComparisonKey(r);return this._editStacks.has(f)?this._editStacks.get(f).createSnapshot(r):new gn.YO(r,[])}restoreSnapshot(r){const f=this.getUriComparisonKey(r.resource);if(this._editStacks.has(f)){const I=this._editStacks.get(f);I.restoreSnapshot(r),!I.hasPastElements()&&!I.hasFutureElements()&&(I.dispose(),this._editStacks.delete(f))}en&&this._print("restoreSnapshot")}getElements(r){const f=this.getUriComparisonKey(r);return this._editStacks.has(f)?this._editStacks.get(f).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(r){if(!r)return[null,null];let f=null,I=null;for(const[ee,oe]of this._editStacks){const me=oe.getClosestPastElement();me&&me.sourceId===r&&(!f||me.sourceOrder>f.sourceOrder)&&(f=me,I=ee)}return[f,I]}canUndo(r){if(r instanceof gn.gJ){const[,I]=this._findClosestUndoElementWithSource(r.id);return!!I}const f=this.getUriComparisonKey(r);return this._editStacks.has(f)?this._editStacks.get(f).hasPastElements():!1}_onError(r,f){(0,Ri.dL)(r);for(const I of f.strResources)this.removeElements(I);this._notificationService.error(r)}_acquireLocks(r){for(const f of r.editStacks)if(f.locked)throw new Error("Cannot acquire edit stack lock");for(const f of r.editStacks)f.locked=!0;return()=>{for(const f of r.editStacks)f.locked=!1}}_safeInvokeWithLocks(r,f,I,ee,oe){const me=this._acquireLocks(I);let Ae;try{Ae=f()}catch(at){return me(),ee.dispose(),this._onError(at,r)}return Ae?Ae.then(()=>(me(),ee.dispose(),oe()),at=>(me(),ee.dispose(),this._onError(at,r))):(me(),ee.dispose(),oe())}_invokeWorkspacePrepare(r){return At(this,null,function*(){if(typeof r.actual.prepareUndoRedo=="undefined")return k.JT.None;const f=r.actual.prepareUndoRedo();return typeof f=="undefined"?k.JT.None:f})}_invokeResourcePrepare(r,f){if(r.actual.type!==1||typeof r.actual.prepareUndoRedo=="undefined")return f(k.JT.None);const I=r.actual.prepareUndoRedo();return I?(0,k.Wf)(I)?f(I):I.then(ee=>f(ee)):f(k.JT.None)}_getAffectedEditStacks(r){const f=[];for(const I of r.strResources)f.push(this._editStacks.get(I)||ke);return new ui(f)}_tryToSplitAndUndo(r,f,I,ee){if(f.canSplit())return this._splitPastWorkspaceElement(f,I),this._notificationService.warn(ee),new Ue(this._undo(r,0,!0));for(const oe of f.strResources)this.removeElements(oe);return this._notificationService.warn(ee),new Ue}_checkWorkspaceUndo(r,f,I,ee){if(f.removedResources)return this._tryToSplitAndUndo(r,f,f.removedResources,hi.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",f.label,f.removedResources.createMessage()));if(ee&&f.invalidatedResources)return this._tryToSplitAndUndo(r,f,f.invalidatedResources,hi.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",f.label,f.invalidatedResources.createMessage()));const oe=[];for(const Ae of I.editStacks)Ae.getClosestPastElement()!==f&&oe.push(Ae.resourceLabel);if(oe.length>0)return this._tryToSplitAndUndo(r,f,null,hi.NC({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",f.label,oe.join(", ")));const me=[];for(const Ae of I.editStacks)Ae.locked&&me.push(Ae.resourceLabel);return me.length>0?this._tryToSplitAndUndo(r,f,null,hi.NC({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",f.label,me.join(", "))):I.isValid()?null:this._tryToSplitAndUndo(r,f,null,hi.NC({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",f.label))}_workspaceUndo(r,f,I){const ee=this._getAffectedEditStacks(f),oe=this._checkWorkspaceUndo(r,f,ee,!1);return oe?oe.returnValue:this._confirmAndExecuteWorkspaceUndo(r,f,ee,I)}_isPartOfUndoGroup(r){if(!r.groupId)return!1;for(const[,f]of this._editStacks){const I=f.getClosestPastElement();if(I){if(I===r){const ee=f.getSecondClosestPastElement();if(ee&&ee.groupId===r.groupId)return!0}if(I.groupId===r.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(r,f,I,ee){return At(this,null,function*(){if(f.canSplit()&&!this._isPartOfUndoGroup(f)){let Ae;(function(Rt){Rt[Rt.All=0]="All",Rt[Rt.This=1]="This",Rt[Rt.Cancel=2]="Cancel"})(Ae||(Ae={}));const{result:at}=yield this._dialogService.prompt({type:Fi.Z.Info,message:hi.NC("confirmWorkspace","Would you like to undo '{0}' across all files?",f.label),buttons:[{label:hi.NC({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",I.editStacks.length),run:()=>Ae.All},{label:hi.NC({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:()=>Ae.This}],cancelButton:{run:()=>Ae.Cancel}});if(at===Ae.Cancel)return;if(at===Ae.This)return this._splitPastWorkspaceElement(f,null),this._undo(r,0,!0);const _t=this._checkWorkspaceUndo(r,f,I,!1);if(_t)return _t.returnValue;ee=!0}let oe;try{oe=yield this._invokeWorkspacePrepare(f)}catch(Ae){return this._onError(Ae,f)}const me=this._checkWorkspaceUndo(r,f,I,!0);if(me)return oe.dispose(),me.returnValue;for(const Ae of I.editStacks)Ae.moveBackward(f);return this._safeInvokeWithLocks(f,()=>f.actual.undo(),I,oe,()=>this._continueUndoInGroup(f.groupId,ee))})}_resourceUndo(r,f,I){if(!f.isValid){r.flushAllElements();return}if(r.locked){const ee=hi.NC({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",f.label);this._notificationService.warn(ee);return}return this._invokeResourcePrepare(f,ee=>(r.moveBackward(f),this._safeInvokeWithLocks(f,()=>f.actual.undo(),new ui([r]),ee,()=>this._continueUndoInGroup(f.groupId,I))))}_findClosestUndoElementInGroup(r){if(!r)return[null,null];let f=null,I=null;for(const[ee,oe]of this._editStacks){const me=oe.getClosestPastElement();me&&me.groupId===r&&(!f||me.groupOrder>f.groupOrder)&&(f=me,I=ee)}return[f,I]}_continueUndoInGroup(r,f){if(!r)return;const[,I]=this._findClosestUndoElementInGroup(r);if(I)return this._undo(I,0,f)}undo(r){if(r instanceof gn.gJ){const[,f]=this._findClosestUndoElementWithSource(r.id);return f?this._undo(f,r.id,!1):void 0}return typeof r=="string"?this._undo(r,0,!1):this._undo(this.getUriComparisonKey(r),0,!1)}_undo(r,f=0,I){if(!this._editStacks.has(r))return;const ee=this._editStacks.get(r),oe=ee.getClosestPastElement();if(!oe)return;if(oe.groupId){const[Ae,at]=this._findClosestUndoElementInGroup(oe.groupId);if(oe!==Ae&&at)return this._undo(at,f,I)}if((oe.sourceId!==f||oe.confirmBeforeUndo)&&!I)return this._confirmAndContinueUndo(r,f,oe);try{return oe.type===1?this._workspaceUndo(r,oe,I):this._resourceUndo(ee,oe,I)}finally{en&&this._print("undo")}}_confirmAndContinueUndo(r,f,I){return At(this,null,function*(){if((yield this._dialogService.confirm({message:hi.NC("confirmDifferentSource","Would you like to undo '{0}'?",I.label),primaryButton:hi.NC({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:hi.NC("confirmDifferentSource.no","No")})).confirmed)return this._undo(r,f,!0)})}_findClosestRedoElementWithSource(r){if(!r)return[null,null];let f=null,I=null;for(const[ee,oe]of this._editStacks){const me=oe.getClosestFutureElement();me&&me.sourceId===r&&(!f||me.sourceOrder<f.sourceOrder)&&(f=me,I=ee)}return[f,I]}canRedo(r){if(r instanceof gn.gJ){const[,I]=this._findClosestRedoElementWithSource(r.id);return!!I}const f=this.getUriComparisonKey(r);return this._editStacks.has(f)?this._editStacks.get(f).hasFutureElements():!1}_tryToSplitAndRedo(r,f,I,ee){if(f.canSplit())return this._splitFutureWorkspaceElement(f,I),this._notificationService.warn(ee),new Ue(this._redo(r));for(const oe of f.strResources)this.removeElements(oe);return this._notificationService.warn(ee),new Ue}_checkWorkspaceRedo(r,f,I,ee){if(f.removedResources)return this._tryToSplitAndRedo(r,f,f.removedResources,hi.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",f.label,f.removedResources.createMessage()));if(ee&&f.invalidatedResources)return this._tryToSplitAndRedo(r,f,f.invalidatedResources,hi.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",f.label,f.invalidatedResources.createMessage()));const oe=[];for(const Ae of I.editStacks)Ae.getClosestFutureElement()!==f&&oe.push(Ae.resourceLabel);if(oe.length>0)return this._tryToSplitAndRedo(r,f,null,hi.NC({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",f.label,oe.join(", ")));const me=[];for(const Ae of I.editStacks)Ae.locked&&me.push(Ae.resourceLabel);return me.length>0?this._tryToSplitAndRedo(r,f,null,hi.NC({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",f.label,me.join(", "))):I.isValid()?null:this._tryToSplitAndRedo(r,f,null,hi.NC({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",f.label))}_workspaceRedo(r,f){const I=this._getAffectedEditStacks(f),ee=this._checkWorkspaceRedo(r,f,I,!1);return ee?ee.returnValue:this._executeWorkspaceRedo(r,f,I)}_executeWorkspaceRedo(r,f,I){return At(this,null,function*(){let ee;try{ee=yield this._invokeWorkspacePrepare(f)}catch(me){return this._onError(me,f)}const oe=this._checkWorkspaceRedo(r,f,I,!0);if(oe)return ee.dispose(),oe.returnValue;for(const me of I.editStacks)me.moveForward(f);return this._safeInvokeWithLocks(f,()=>f.actual.redo(),I,ee,()=>this._continueRedoInGroup(f.groupId))})}_resourceRedo(r,f){if(!f.isValid){r.flushAllElements();return}if(r.locked){const I=hi.NC({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",f.label);this._notificationService.warn(I);return}return this._invokeResourcePrepare(f,I=>(r.moveForward(f),this._safeInvokeWithLocks(f,()=>f.actual.redo(),new ui([r]),I,()=>this._continueRedoInGroup(f.groupId))))}_findClosestRedoElementInGroup(r){if(!r)return[null,null];let f=null,I=null;for(const[ee,oe]of this._editStacks){const me=oe.getClosestFutureElement();me&&me.groupId===r&&(!f||me.groupOrder<f.groupOrder)&&(f=me,I=ee)}return[f,I]}_continueRedoInGroup(r){if(!r)return;const[,f]=this._findClosestRedoElementInGroup(r);if(f)return this._redo(f)}redo(r){if(r instanceof gn.gJ){const[,f]=this._findClosestRedoElementWithSource(r.id);return f?this._redo(f):void 0}return typeof r=="string"?this._redo(r):this._redo(this.getUriComparisonKey(r))}_redo(r){if(!this._editStacks.has(r))return;const f=this._editStacks.get(r),I=f.getClosestFutureElement();if(I){if(I.groupId){const[ee,oe]=this._findClosestRedoElementInGroup(I.groupId);if(I!==ee&&oe)return this._redo(oe)}try{return I.type===1?this._workspaceRedo(r,I):this._resourceRedo(f,I)}finally{en&&this._print("redo")}}}};Ke=Bn([kn(0,En.S),kn(1,bn.lT)],Ke);class Ue{constructor(r){this.returnValue=r}}(0,jt.z)(gn.tJ,Ke,1);var bt=c(49035),it=c(58316),fi=c(94312),_i=c(85602),Te=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},tt=function(Le,r){return function(f,I){r(f,I,Le)}};let Wt=class extends k.JT{constructor(r,f,I){super(),this._themeService=r,this._logService=f,this._languageService=I,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(r){return this._caches.has(r)||this._caches.set(r,new fi.$(r.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(r)}};Wt=Te([tt(0,Ve.XE),tt(1,it.VZ),tt(2,R.O)],Wt),(0,jt.z)(_i.s,Wt,1);var Vt=c(43400);function Ni(Le){return typeof Le=="string"?!1:Array.isArray(Le)?Le.every(Ni):!!Le.exclusive}class ji{constructor(r,f,I,ee){this.uri=r,this.languageId=f,this.notebookUri=I,this.notebookType=ee}equals(r){var f,I;return this.notebookType===r.notebookType&&this.languageId===r.languageId&&this.uri.toString()===r.uri.toString()&&((f=this.notebookUri)===null||f===void 0?void 0:f.toString())===((I=r.notebookUri)===null||I===void 0?void 0:I.toString())}}class Ai{constructor(r){this._notebookInfoResolver=r,this._clock=0,this._entries=[],this._onDidChange=new De.Q5,this.onDidChange=this._onDidChange.event}register(r,f){let I={selector:r,provider:f,_score:-1,_time:this._clock++};return this._entries.push(I),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,k.OF)(()=>{if(I){const ee=this._entries.indexOf(I);ee>=0&&(this._entries.splice(ee,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),I=void 0)}})}has(r){return this.all(r).length>0}all(r){if(!r)return[];this._updateScores(r);const f=[];for(const I of this._entries)I._score>0&&f.push(I.provider);return f}ordered(r){const f=[];return this._orderedForEach(r,I=>f.push(I.provider)),f}orderedGroups(r){const f=[];let I,ee;return this._orderedForEach(r,oe=>{I&&ee===oe._score?I.push(oe.provider):(ee=oe._score,I=[oe.provider],f.push(I))}),f}_orderedForEach(r,f){this._updateScores(r);for(const I of this._entries)I._score>0&&f(I)}_updateScores(r){var f,I;const ee=(f=this._notebookInfoResolver)===null||f===void 0?void 0:f.call(this,r.uri),oe=ee?new ji(r.uri,r.getLanguageId(),ee.uri,ee.type):new ji(r.uri,r.getLanguageId(),void 0,void 0);if(!(!((I=this._lastCandidate)===null||I===void 0)&&I.equals(oe))){this._lastCandidate=oe;for(const me of this._entries)if(me._score=(0,Vt.G)(me.selector,oe.uri,oe.languageId,(0,G.pt)(r),oe.notebookUri,oe.notebookType),Ni(me.selector)&&me._score>0){for(const Ae of this._entries)Ae._score=0;me._score=1e3;break}this._entries.sort(Ai._compareByScoreAndTime)}}static _compareByScoreAndTime(r,f){return r._score<f._score?1:r._score>f._score?-1:on(r.selector)&&!on(f.selector)?1:!on(r.selector)&&on(f.selector)?-1:r._time<f._time?1:r._time>f._time?-1:0}}function on(Le){return typeof Le=="string"?!1:Array.isArray(Le)?Le.some(on):!!Le.isBuiltin}var mn=c(36276);class Rn{constructor(){this.referenceProvider=new Ai(this._score.bind(this)),this.renameProvider=new Ai(this._score.bind(this)),this.codeActionProvider=new Ai(this._score.bind(this)),this.definitionProvider=new Ai(this._score.bind(this)),this.typeDefinitionProvider=new Ai(this._score.bind(this)),this.declarationProvider=new Ai(this._score.bind(this)),this.implementationProvider=new Ai(this._score.bind(this)),this.documentSymbolProvider=new Ai(this._score.bind(this)),this.inlayHintsProvider=new Ai(this._score.bind(this)),this.colorProvider=new Ai(this._score.bind(this)),this.codeLensProvider=new Ai(this._score.bind(this)),this.documentFormattingEditProvider=new Ai(this._score.bind(this)),this.documentRangeFormattingEditProvider=new Ai(this._score.bind(this)),this.onTypeFormattingEditProvider=new Ai(this._score.bind(this)),this.signatureHelpProvider=new Ai(this._score.bind(this)),this.hoverProvider=new Ai(this._score.bind(this)),this.documentHighlightProvider=new Ai(this._score.bind(this)),this.multiDocumentHighlightProvider=new Ai(this._score.bind(this)),this.selectionRangeProvider=new Ai(this._score.bind(this)),this.foldingRangeProvider=new Ai(this._score.bind(this)),this.linkProvider=new Ai(this._score.bind(this)),this.inlineCompletionsProvider=new Ai(this._score.bind(this)),this.completionProvider=new Ai(this._score.bind(this)),this.linkedEditingRangeProvider=new Ai(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new Ai(this._score.bind(this)),this.documentSemanticTokensProvider=new Ai(this._score.bind(this)),this.documentOnDropEditProvider=new Ai(this._score.bind(this)),this.documentPasteEditProvider=new Ai(this._score.bind(this))}_score(r){var f;return(f=this._notebookTypeResolver)===null||f===void 0?void 0:f.call(this,r)}}(0,jt.z)(mn.p,Rn,1);var pi=c(89056),ti=c(39469),ii=c(43998),Ct=c(85079),It=c(62007),Qt=c(62336),Ut=c(79946),Si=c(54125),Vi=c(18540),tn=c(11519),Ji=c(50544),Cn=c(83987),Tn=c(22968),Wn=c(43211),qn=c(93796);function ln(Le){return Object.isFrozen(Le)?Le:b._A(Le)}class Gn{constructor(r={},f=[],I=[],ee){this._contents=r,this._keys=f,this._overrides=I,this.raw=ee,this.overrideConfigurations=new Map}get rawConfiguration(){var r;if(!this._rawConfiguration)if(!((r=this.raw)===null||r===void 0)&&r.length){const f=this.raw.map(I=>{if(I instanceof Gn)return I;const ee=new Kn("");return ee.parseRaw(I),ee.configurationModel});this._rawConfiguration=f.reduce((I,ee)=>ee===I?ee:I.merge(ee),f[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(r){return r?(0,x.Mt)(this.contents,r):this.contents}inspect(r,f){const I=this.rawConfiguration.getValue(r),ee=f?this.rawConfiguration.getOverrideValue(r,f):void 0,oe=f?this.rawConfiguration.override(f).getValue(r):I;return{value:I,override:ee,merged:oe}}getOverrideValue(r,f){const I=this.getContentsForOverrideIdentifer(f);return I?r?(0,x.Mt)(I,r):I:void 0}override(r){let f=this.overrideConfigurations.get(r);return f||(f=this.createOverrideConfigurationModel(r),this.overrideConfigurations.set(r,f)),f}merge(...r){var f,I;const ee=b.I8(this.contents),oe=b.I8(this.overrides),me=[...this.keys],Ae=!((f=this.raw)===null||f===void 0)&&f.length?[...this.raw]:[this];for(const at of r)if(Ae.push(...!((I=at.raw)===null||I===void 0)&&I.length?at.raw:[at]),!at.isEmpty()){this.mergeContents(ee,at.contents);for(const _t of at.overrides){const[Rt]=oe.filter(Jt=>zt.fS(Jt.identifiers,_t.identifiers));Rt?(this.mergeContents(Rt.contents,_t.contents),Rt.keys.push(..._t.keys),Rt.keys=zt.EB(Rt.keys)):oe.push(b.I8(_t))}for(const _t of at.keys)me.indexOf(_t)===-1&&me.push(_t)}return new Gn(ee,me,oe,Ae.every(at=>at instanceof Gn)?void 0:Ae)}createOverrideConfigurationModel(r){const f=this.getContentsForOverrideIdentifer(r);if(!f||typeof f!="object"||!Object.keys(f).length)return this;const I={};for(const ee of zt.EB([...Object.keys(this.contents),...Object.keys(f)])){let oe=this.contents[ee];const me=f[ee];me&&(typeof oe=="object"&&typeof me=="object"?(oe=b.I8(oe),this.mergeContents(oe,me)):oe=me),I[ee]=oe}return new Gn(I,this.keys,this.overrides)}mergeContents(r,f){for(const I of Object.keys(f)){if(I in r&&Tn.Kn(r[I])&&Tn.Kn(f[I])){this.mergeContents(r[I],f[I]);continue}r[I]=b.I8(f[I])}}getContentsForOverrideIdentifer(r){let f=null,I=null;const ee=oe=>{oe&&(I?this.mergeContents(I,oe):I=b.I8(oe))};for(const oe of this.overrides)oe.identifiers.length===1&&oe.identifiers[0]===r?f=oe.contents:oe.identifiers.includes(r)&&ee(oe.contents);return ee(f),I}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(r,f){this.updateValue(r,f,!0)}setValue(r,f){this.updateValue(r,f,!1)}removeValue(r){const f=this.keys.indexOf(r);f!==-1&&(this.keys.splice(f,1),(0,x.xL)(this.contents,r),Wn.eU.test(r)&&this.overrides.splice(this.overrides.findIndex(I=>zt.fS(I.identifiers,(0,Wn.ny)(r))),1))}updateValue(r,f,I){(0,x.KV)(this.contents,r,f,ee=>console.error(ee)),I=I||this.keys.indexOf(r)===-1,I&&this.keys.push(r),Wn.eU.test(r)&&this.overrides.push({identifiers:(0,Wn.ny)(r),keys:Object.keys(this.contents[r]),contents:(0,x.Od)(this.contents[r],ee=>console.error(ee))})}}class Kn{constructor(r){this._name=r,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new Gn}parseRaw(r,f){this._raw=r;const{contents:I,keys:ee,overrides:oe,restricted:me,hasExcludedProperties:Ae}=this.doParseRaw(r,f);this._configurationModel=new Gn(I,ee,oe,Ae?[r]:void 0),this._restrictedConfigurations=me||[]}doParseRaw(r,f){const I=qn.B.as(Wn.IP.Configuration).getConfigurationProperties(),ee=this.filter(r,I,!0,f);r=ee.raw;const oe=(0,x.Od)(r,at=>console.error(`Conflict in settings file ${this._name}: ${at}`)),me=Object.keys(r),Ae=this.toOverrides(r,at=>console.error(`Conflict in settings file ${this._name}: ${at}`));return{contents:oe,keys:me,overrides:Ae,restricted:ee.restricted,hasExcludedProperties:ee.hasExcludedProperties}}filter(r,f,I,ee){var oe,me,Ae;let at=!1;if(!(ee!=null&&ee.scopes)&&!(ee!=null&&ee.skipRestricted)&&!(!((oe=ee==null?void 0:ee.exclude)===null||oe===void 0)&&oe.length))return{raw:r,restricted:[],hasExcludedProperties:at};const _t={},Rt=[];for(const Jt in r)if(Wn.eU.test(Jt)&&I){const Ti=this.filter(r[Jt],f,!1,ee);_t[Jt]=Ti.raw,at=at||Ti.hasExcludedProperties,Rt.push(...Ti.restricted)}else{const Ti=f[Jt],yi=Ti?typeof Ti.scope!="undefined"?Ti.scope:3:void 0;Ti!=null&&Ti.restricted&&Rt.push(Jt),!(!((me=ee.exclude)===null||me===void 0)&&me.includes(Jt))&&(!((Ae=ee.include)===null||Ae===void 0)&&Ae.includes(Jt)||(yi===void 0||ee.scopes===void 0||ee.scopes.includes(yi))&&!(ee.skipRestricted&&(Ti!=null&&Ti.restricted)))?_t[Jt]=r[Jt]:at=!0}return{raw:_t,restricted:Rt,hasExcludedProperties:at}}toOverrides(r,f){const I=[];for(const ee of Object.keys(r))if(Wn.eU.test(ee)){const oe={};for(const me in r[ee])oe[me]=r[ee][me];I.push({identifiers:(0,Wn.ny)(ee),keys:Object.keys(oe),contents:(0,x.Od)(oe,f)})}return I}}class ro{constructor(r,f,I,ee,oe,me,Ae,at,_t,Rt,Jt,Ti,yi){this.key=r,this.overrides=f,this._value=I,this.overrideIdentifiers=ee,this.defaultConfiguration=oe,this.policyConfiguration=me,this.applicationConfiguration=Ae,this.userConfiguration=at,this.localUserConfiguration=_t,this.remoteUserConfiguration=Rt,this.workspaceConfiguration=Jt,this.folderConfigurationModel=Ti,this.memoryConfigurationModel=yi}inspect(r,f,I){const ee=r.inspect(f,I);return{get value(){return ln(ee.value)},get override(){return ln(ee.override)},get merged(){return ln(ee.merged)}}}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.userInspectValue.value!==void 0||this.userInspectValue.override!==void 0?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}class as{constructor(r,f,I,ee,oe=new Gn,me=new Gn,Ae=new Cn.Y9,at=new Gn,_t=new Cn.Y9){this._defaultConfiguration=r,this._policyConfiguration=f,this._applicationConfiguration=I,this._localUserConfiguration=ee,this._remoteUserConfiguration=oe,this._workspaceConfiguration=me,this._folderConfigurations=Ae,this._memoryConfiguration=at,this._memoryConfigurationByResource=_t,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Cn.Y9,this._userConfiguration=null}getValue(r,f,I){return this.getConsolidatedConfigurationModel(r,f,I).getValue(r)}updateValue(r,f,I={}){let ee;I.resource?(ee=this._memoryConfigurationByResource.get(I.resource),ee||(ee=new Gn,this._memoryConfigurationByResource.set(I.resource,ee))):ee=this._memoryConfiguration,f===void 0?ee.removeValue(r):ee.setValue(r,f),I.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(r,f,I){const ee=this.getConsolidatedConfigurationModel(r,f,I),oe=this.getFolderConfigurationModelForResource(f.resource,I),me=f.resource?this._memoryConfigurationByResource.get(f.resource)||this._memoryConfiguration:this._memoryConfiguration,Ae=new Set;for(const at of ee.overrides)for(const _t of at.identifiers)ee.getOverrideValue(r,_t)!==void 0&&Ae.add(_t);return new ro(r,f,ee.getValue(r),Ae.size?[...Ae]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,I?this._workspaceConfiguration:void 0,oe||void 0,me)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(r,f,I){let ee=this.getConsolidatedConfigurationModelForResource(f,I);return f.overrideIdentifier&&(ee=ee.override(f.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(r)!==void 0&&(ee=ee.merge(this._policyConfiguration)),ee}getConsolidatedConfigurationModelForResource({resource:r},f){let I=this.getWorkspaceConsolidatedConfiguration();if(f&&r){const ee=f.getFolder(r);ee&&(I=this.getFolderConsolidatedConfiguration(ee.uri)||I);const oe=this._memoryConfigurationByResource.get(r);oe&&(I=I.merge(oe))}return I}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(r){let f=this._foldersConsolidatedConfigurations.get(r);if(!f){const I=this.getWorkspaceConsolidatedConfiguration(),ee=this._folderConfigurations.get(r);ee?(f=I.merge(ee),this._foldersConsolidatedConfigurations.set(r,f)):f=I}return f}getFolderConfigurationModelForResource(r,f){if(f&&r){const I=f.getFolder(r);if(I)return this._folderConfigurations.get(I.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((r,f)=>{const{contents:I,overrides:ee,keys:oe}=this._folderConfigurations.get(f);return r.push([f,{contents:I,overrides:ee,keys:oe}]),r},[])}}static parse(r){const f=this.parseConfigurationModel(r.defaults),I=this.parseConfigurationModel(r.policy),ee=this.parseConfigurationModel(r.application),oe=this.parseConfigurationModel(r.user),me=this.parseConfigurationModel(r.workspace),Ae=r.folders.reduce((at,_t)=>(at.set(T.o.revive(_t[0]),this.parseConfigurationModel(_t[1])),at),new Cn.Y9);return new as(f,I,ee,oe,new Gn,me,Ae,new Gn,new Cn.Y9)}static parseConfigurationModel(r){return new Gn(r.contents,r.keys,r.overrides)}}class Zi{constructor(r,f,I,ee){this.change=r,this.previous=f,this.currentConfiguraiton=I,this.currentWorkspace=ee,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const oe of r.keys)this.affectedKeys.add(oe);for(const[,oe]of r.overrides)for(const me of oe)this.affectedKeys.add(me);this._affectsConfigStr=this._marker;for(const oe of this.affectedKeys)this._affectsConfigStr+=oe+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=as.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(r,f){var I;const ee=this._marker+r,oe=this._affectsConfigStr.indexOf(ee);if(oe<0)return!1;const me=oe+ee.length;if(me>=this._affectsConfigStr.length)return!1;const Ae=this._affectsConfigStr.charCodeAt(me);if(Ae!==this._markerCode1&&Ae!==this._markerCode2)return!1;if(f){const at=this.previousConfiguration?this.previousConfiguration.getValue(r,f,(I=this.previous)===null||I===void 0?void 0:I.workspace):void 0,_t=this.currentConfiguraiton.getValue(r,f,this.currentWorkspace);return!b.fS(at,_t)}return!0}}var cn=c(96925),pn=c(23395);const rn={kind:0},Xn={kind:1};function Is(Le,r,f){return{kind:2,commandId:Le,commandArgs:r,isBubble:f}}class hn{constructor(r,f,I){var ee;this._log=I,this._defaultKeybindings=r,this._defaultBoundCommands=new Map;for(const oe of r){const me=oe.command;me&&me.charAt(0)!=="-"&&this._defaultBoundCommands.set(me,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=hn.handleRemovals([].concat(r).concat(f));for(let oe=0,me=this._keybindings.length;oe<me;oe++){const Ae=this._keybindings[oe];if(Ae.chords.length===0)continue;const at=(ee=Ae.when)===null||ee===void 0?void 0:ee.substituteConstants();at&&at.type===0||this._addKeyPress(Ae.chords[0],Ae)}}static _isTargetedForRemoval(r,f,I){if(f){for(let ee=0;ee<f.length;ee++)if(f[ee]!==r.chords[ee])return!1}return!(I&&I.type!==1&&(!r.when||!(0,mt.Fb)(I,r.when)))}static handleRemovals(r){const f=new Map;for(let ee=0,oe=r.length;ee<oe;ee++){const me=r[ee];if(me.command&&me.command.charAt(0)==="-"){const Ae=me.command.substring(1);f.has(Ae)?f.get(Ae).push(me):f.set(Ae,[me])}}if(f.size===0)return r;const I=[];for(let ee=0,oe=r.length;ee<oe;ee++){const me=r[ee];if(!me.command||me.command.length===0){I.push(me);continue}if(me.command.charAt(0)==="-")continue;const Ae=f.get(me.command);if(!Ae||!me.isDefault){I.push(me);continue}let at=!1;for(const _t of Ae){const Rt=_t.when;if(this._isTargetedForRemoval(me,_t.chords,Rt)){at=!0;break}}if(!at){I.push(me);continue}}return I}_addKeyPress(r,f){const I=this._map.get(r);if(typeof I=="undefined"){this._map.set(r,[f]),this._addToLookupMap(f);return}for(let ee=I.length-1;ee>=0;ee--){const oe=I[ee];if(oe.command===f.command)continue;let me=!0;for(let Ae=1;Ae<oe.chords.length&&Ae<f.chords.length;Ae++)if(oe.chords[Ae]!==f.chords[Ae]){me=!1;break}me&&hn.whenIsEntirelyIncluded(oe.when,f.when)&&this._removeFromLookupMap(oe)}I.push(f),this._addToLookupMap(f)}_addToLookupMap(r){if(!r.command)return;let f=this._lookupMap.get(r.command);typeof f=="undefined"?(f=[r],this._lookupMap.set(r.command,f)):f.push(r)}_removeFromLookupMap(r){if(!r.command)return;const f=this._lookupMap.get(r.command);if(typeof f!="undefined"){for(let I=0,ee=f.length;I<ee;I++)if(f[I]===r){f.splice(I,1);return}}}static whenIsEntirelyIncluded(r,f){return!f||f.type===1?!0:!r||r.type===1?!1:(0,mt.K8)(r,f)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(r,f){const I=this._lookupMap.get(r);if(typeof I=="undefined"||I.length===0)return null;if(I.length===1)return I[0];for(let ee=I.length-1;ee>=0;ee--){const oe=I[ee];if(f.contextMatchesRules(oe.when))return oe}return I[I.length-1]}resolve(r,f,I){const ee=[...f,I];this._log(`| Resolving ${ee}`);const oe=this._map.get(ee[0]);if(oe===void 0)return this._log("\\ No keybinding entries."),rn;let me=null;if(ee.length<2)me=oe;else{me=[];for(let at=0,_t=oe.length;at<_t;at++){const Rt=oe[at];if(ee.length>Rt.chords.length)continue;let Jt=!0;for(let Ti=1;Ti<ee.length;Ti++)if(Rt.chords[Ti]!==ee[Ti]){Jt=!1;break}Jt&&me.push(Rt)}}const Ae=this._findCommand(r,me);return Ae?ee.length<Ae.chords.length?(this._log(`\\ From ${me.length} keybinding entries, awaiting ${Ae.chords.length-ee.length} more chord(s), when: ${us(Ae.when)}, source: ${Rs(Ae)}.`),Xn):(this._log(`\\ From ${me.length} keybinding entries, matched ${Ae.command}, when: ${us(Ae.when)}, source: ${Rs(Ae)}.`),Is(Ae.command,Ae.commandArgs,Ae.bubble)):(this._log(`\\ From ${me.length} keybinding entries, no when clauses matched the context.`),rn)}_findCommand(r,f){for(let I=f.length-1;I>=0;I--){const ee=f[I];if(hn._contextMatchesRules(r,ee.when))return ee}return null}static _contextMatchesRules(r,f){return f?f.evaluate(r):!0}}function us(Le){return Le?`${Le.serialize()}`:"no when condition"}function Rs(Le){return Le.extensionId?Le.isBuiltinExtension?`built-in extension ${Le.extensionId}`:`user extension ${Le.extensionId}`:Le.isDefault?"built-in":"user"}const ts=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class ls extends k.JT{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:De.ju.None}get inChordMode(){return this._currentChords.length>0}constructor(r,f,I,ee,oe){super(),this._contextKeyService=r,this._commandService=f,this._telemetryService=I,this._notificationService=ee,this._logService=oe,this._onDidUpdateKeybindings=this._register(new De.Q5),this._currentChords=[],this._currentChordChecker=new cn.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=ms.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new cn._F,this._logging=!1}dispose(){super.dispose()}_log(r){this._logging&&this._logService.info(`[KeybindingService]: ${r}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(r,f){const I=this._getResolver().lookupPrimaryKeybinding(r,f||this._contextKeyService);if(I)return I.resolvedKeybinding}dispatchEvent(r,f){return this._dispatch(r,f)}softDispatch(r,f){this._log("/ Soft dispatching keyboard event");const I=this.resolveKeyboardEvent(r);if(I.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),rn;const[ee]=I.getDispatchChords();if(ee===null)return this._log("\\ Keyboard event cannot be dispatched"),rn;const oe=this._contextKeyService.getContext(f),me=this._currentChords.map(({keypress:Ae})=>Ae);return this._getResolver().resolve(oe,me,ee)}_scheduleLeaveChordMode(){const r=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-r>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(r,f){switch(this._currentChords.push({keypress:r,label:f}),this._currentChords.length){case 0:throw(0,Ri.L6)("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(hi.NC("first.chord","({0}) was pressed. Waiting for second key of chord...",f));break;default:{const I=this._currentChords.map(({label:ee})=>ee).join(", ");this._currentChordStatusMessage=this._notificationService.status(hi.NC("next.chord","({0}) was pressed. Waiting for next key of chord...",I))}}this._scheduleLeaveChordMode(),pn.F.enabled&&pn.F.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],pn.F.enable()}_dispatch(r,f){return this._doDispatch(this.resolveKeyboardEvent(r),f,!1)}_singleModifierDispatch(r,f){const I=this.resolveKeyboardEvent(r),[ee]=I.getSingleModifierDispatchChords();if(ee)return this._ignoreSingleModifiers.has(ee)?(this._log(`+ Ignoring single modifier ${ee} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=ms.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=ms.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${ee}.`),this._currentSingleModifier=ee,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):ee===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${ee} ${ee}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(I,f,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${ee}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[oe]=I.getChords();return this._ignoreSingleModifiers=new ms(oe),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(r,f,I=!1){var ee;let oe=!1;if(r.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let me=null,Ae=null;if(I){const[Jt]=r.getSingleModifierDispatchChords();me=Jt,Ae=Jt?[Jt]:[]}else[me]=r.getDispatchChords(),Ae=this._currentChords.map(({keypress:Jt})=>Jt);if(me===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),oe;const at=this._contextKeyService.getContext(f),_t=r.getLabel(),Rt=this._getResolver().resolve(at,Ae,me);switch(Rt.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",_t,"[ No matching keybinding ]"),this.inChordMode){const Jt=this._currentChords.map(({label:Ti})=>Ti).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${Jt}, ${_t}".`),this._notificationService.status(hi.NC("missing.chord","The key combination ({0}, {1}) is not a command.",Jt,_t),{hideAfter:10*1e3}),this._leaveChordMode(),oe=!0}return oe}case 1:return this._logService.trace("KeybindingService#dispatch",_t,"[ Several keybindings match - more chords needed ]"),oe=!0,this._expectAnotherChord(me,_t),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),oe;case 2:{if(this._logService.trace("KeybindingService#dispatch",_t,`[ Will dispatch command ${Rt.commandId} ]`),Rt.commandId===null||Rt.commandId===""){if(this.inChordMode){const Jt=this._currentChords.map(({label:Ti})=>Ti).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${Jt}, ${_t}".`),this._notificationService.status(hi.NC("missing.chord","The key combination ({0}, {1}) is not a command.",Jt,_t),{hideAfter:10*1e3}),this._leaveChordMode(),oe=!0}}else this.inChordMode&&this._leaveChordMode(),Rt.isBubble||(oe=!0),this._log(`+ Invoking command ${Rt.commandId}.`),typeof Rt.commandArgs=="undefined"?this._commandService.executeCommand(Rt.commandId).then(void 0,Jt=>this._notificationService.warn(Jt)):this._commandService.executeCommand(Rt.commandId,Rt.commandArgs).then(void 0,Jt=>this._notificationService.warn(Jt)),ts.test(Rt.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:Rt.commandId,from:"keybinding",detail:(ee=r.getUserSettingsLabel())!==null&&ee!==void 0?ee:void 0});return oe}}}mightProducePrintableCharacter(r){return r.ctrlKey||r.metaKey?!1:r.keyCode>=31&&r.keyCode<=56||r.keyCode>=21&&r.keyCode<=30}}class ms{constructor(r){this._ctrlKey=r?r.ctrlKey:!1,this._shiftKey=r?r.shiftKey:!1,this._altKey=r?r.altKey:!1,this._metaKey=r?r.metaKey:!1}has(r){switch(r){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}ms.EMPTY=new ms(null);var qi=c(30966),Ss=c(26586);class Gs{constructor(r,f,I,ee,oe,me,Ae){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=r,this.chords=r?Eo(r.getDispatchChords()):[],r&&this.chords.length===0&&(this.chords=Eo(r.getSingleModifierDispatchChords())),this.bubble=f?f.charCodeAt(0)===94:!1,this.command=this.bubble?f.substr(1):f,this.commandArgs=I,this.when=ee,this.isDefault=oe,this.extensionId=me,this.isBuiltinExtension=Ae}}function Eo(Le){const r=[];for(let f=0,I=Le.length;f<I;f++){const ee=Le[f];if(!ee)return[];r.push(ee)}return r}var Ys=c(82238),vs=c(7461);class Fs extends ti.f1{constructor(r,f){if(super(),f.length===0)throw(0,Ri.b1)("chords");this._os=r,this._chords=f}getLabel(){return vs.xo.toLabel(this._os,this._chords,r=>this._getLabel(r))}getAriaLabel(){return vs.X4.toLabel(this._os,this._chords,r=>this._getAriaLabel(r))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:vs.jC.toLabel(this._os,this._chords,r=>this._getElectronAccelerator(r))}getUserSettingsLabel(){return vs.r6.toLabel(this._os,this._chords,r=>this._getUserSettingsLabel(r))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(r=>this._getChord(r))}_getChord(r){return new ti.aZ(r.ctrlKey,r.shiftKey,r.altKey,r.metaKey,this._getLabel(r),this._getAriaLabel(r))}getDispatchChords(){return this._chords.map(r=>this._getChordDispatch(r))}getSingleModifierDispatchChords(){return this._chords.map(r=>this._getSingleModifierChordDispatch(r))}}class Ws extends Fs{constructor(r,f){super(f,r)}_keyCodeToUILabel(r){if(this._os===2)switch(r){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return Ys.kL.toString(r)}_getLabel(r){return r.isDuplicateModifierCase()?"":this._keyCodeToUILabel(r.keyCode)}_getAriaLabel(r){return r.isDuplicateModifierCase()?"":Ys.kL.toString(r.keyCode)}_getElectronAccelerator(r){return Ys.kL.toElectronAccelerator(r.keyCode)}_getUserSettingsLabel(r){if(r.isDuplicateModifierCase())return"";const f=Ys.kL.toUserSettingsUS(r.keyCode);return f&&f.toLowerCase()}_getChordDispatch(r){return Ws.getDispatchStr(r)}static getDispatchStr(r){if(r.isModifierKey())return null;let f="";return r.ctrlKey&&(f+="ctrl+"),r.shiftKey&&(f+="shift+"),r.altKey&&(f+="alt+"),r.metaKey&&(f+="meta+"),f+=Ys.kL.toString(r.keyCode),f}_getSingleModifierChordDispatch(r){return r.keyCode===5&&!r.shiftKey&&!r.altKey&&!r.metaKey?"ctrl":r.keyCode===4&&!r.ctrlKey&&!r.altKey&&!r.metaKey?"shift":r.keyCode===6&&!r.ctrlKey&&!r.shiftKey&&!r.metaKey?"alt":r.keyCode===57&&!r.ctrlKey&&!r.shiftKey&&!r.altKey?"meta":null}static _scanCodeToKeyCode(r){const f=Ys.Vd[r];if(f!==-1)return f;switch(r){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(r){if(!r)return null;if(r instanceof ti.$M)return r;const f=this._scanCodeToKeyCode(r.scanCode);return f===0?null:new ti.$M(r.ctrlKey,r.shiftKey,r.altKey,r.metaKey,f)}static resolveKeybinding(r,f){const I=Eo(r.chords.map(ee=>this._toKeyCodeChord(ee)));return I.length>0?[new Ws(I,f)]:[]}}var Ns=c(57369),fo=c(79979),ao=c(53174),ri=c(94486),Se=c(41074),je=c(94286),Qe=c(54894),Ht=c(16288),kt=c(95671),ni=c(57344);function ai(Le){const r=Le;return!!r&&typeof r.x=="number"&&typeof r.y=="number"}var si;(function(Le){Le[Le.AVOID=0]="AVOID",Le[Le.ALIGN=1]="ALIGN"})(si||(si={}));function Ei(Le,r,f){const I=f.mode===si.ALIGN?f.offset:f.offset+f.size,ee=f.mode===si.ALIGN?f.offset+f.size:f.offset;return f.position===0?r<=Le-I?I:r<=ee?ee-r:Math.max(Le-r,0):r<=ee?ee-r:r<=Le-I?I:0}class Pi extends k.JT{constructor(r,f){super(),this.container=null,this.useFixedPosition=!1,this.useShadowDOM=!1,this.delegate=null,this.toDisposeOnClean=k.JT.None,this.toDisposeOnSetContainer=k.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=Ne.$(".context-view"),Ne.Cp(this.view),this.setContainer(r,f),this._register((0,k.OF)(()=>this.setContainer(null,1)))}setContainer(r,f){var I;this.useFixedPosition=f!==1;const ee=this.useShadowDOM;if(this.useShadowDOM=f===3,!(r===this.container&&ee!==this.useShadowDOM)&&(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(I=this.shadowRootHostElement)===null||I===void 0||I.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),r)){if(this.container=r,this.useShadowDOM){this.shadowRootHostElement=Ne.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const me=document.createElement("style");me.textContent=Li,this.shadowRoot.appendChild(me),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(Ne.$("slot"))}else this.container.appendChild(this.view);const oe=new k.SL;Pi.BUBBLE_UP_EVENTS.forEach(me=>{oe.add(Ne.mu(this.container,me,Ae=>{this.onDOMEvent(Ae,!1)}))}),Pi.BUBBLE_DOWN_EVENTS.forEach(me=>{oe.add(Ne.mu(this.container,me,Ae=>{this.onDOMEvent(Ae,!0)},!0))}),this.toDisposeOnSetContainer=oe}}show(r){var f,I;this.isVisible()&&this.hide(),Ne.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",Ne.$Z(this.view),this.toDisposeOnClean=r.render(this.view)||k.JT.None,this.delegate=r,this.doLayout(),(I=(f=this.delegate).focus)===null||I===void 0||I.call(f)}getViewElement(){return this.view}layout(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(ii.gn&&kt.D.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const r=this.delegate.getAnchor();let f;if(r instanceof HTMLElement){const Ti=Ne.i(r),yi=Ne.I8(r);f={top:Ti.top*yi,left:Ti.left*yi,width:Ti.width*yi,height:Ti.height*yi}}else ai(r)?f={top:r.y,left:r.x,width:r.width||1,height:r.height||2}:f={top:r.posy,left:r.posx,width:2,height:2};const I=Ne.w(this.view),ee=Ne.wn(this.view),oe=this.delegate.anchorPosition||0,me=this.delegate.anchorAlignment||0,Ae=this.delegate.anchorAxisAlignment||0;let at,_t;const Rt=Ne.WN();if(Ae===0){const Ti={offset:f.top-Rt.pageYOffset,size:f.height,position:oe===0?0:1},yi={offset:f.left,size:f.width,position:me===0?0:1,mode:si.ALIGN};at=Ei(Rt.innerHeight,ee,Ti)+Rt.pageYOffset,ni.e.intersects({start:at,end:at+ee},{start:Ti.offset,end:Ti.offset+Ti.size})&&(yi.mode=si.AVOID),_t=Ei(Rt.innerWidth,I,yi)}else{const Ti={offset:f.left,size:f.width,position:me===0?0:1},yi={offset:f.top,size:f.height,position:oe===0?0:1,mode:si.ALIGN};_t=Ei(Rt.innerWidth,I,Ti),ni.e.intersects({start:_t,end:_t+I},{start:Ti.offset,end:Ti.offset+Ti.size})&&(yi.mode=si.AVOID),at=Ei(Rt.innerHeight,ee,yi)+Rt.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(oe===0?"bottom":"top"),this.view.classList.add(me===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const Jt=Ne.i(this.container);this.view.style.top=`${at-(this.useFixedPosition?Ne.i(this.view).top:Jt.top)}px`,this.view.style.left=`${_t-(this.useFixedPosition?Ne.i(this.view).left:Jt.left)}px`,this.view.style.width="initial"}hide(r){const f=this.delegate;this.delegate=null,f!=null&&f.onHide&&f.onHide(r),this.toDisposeOnClean.dispose(),Ne.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(r,f){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(r,Ne.Jj(r).document.activeElement):f&&!Ne.jg(r.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}Pi.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],Pi.BUBBLE_DOWN_EVENTS=["click"];const Li=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var Ii=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},Je=function(Le,r){return function(f,I){r(f,I,Le)}};let E=class extends k.JT{constructor(r){super(),this.layoutService=r,this.currentViewDisposable=k.JT.None,this.contextView=this._register(new Pi(this.layoutService.mainContainer,1)),this.layout(),this._register(r.onDidLayoutContainer(()=>this.layout()))}showContextView(r,f,I){let ee;f?f===this.layoutService.getContainer((0,Ne.Jj)(f))?ee=1:I?ee=3:ee=2:ee=1,this.contextView.setContainer(f!=null?f:this.layoutService.activeContainer,ee),this.contextView.show(r);const oe=(0,k.OF)(()=>{this.currentViewDisposable===oe&&this.hideContextView()});return this.currentViewDisposable=oe,oe}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(r){this.contextView.hide(r)}dispose(){super.dispose(),this.currentViewDisposable.dispose(),this.currentViewDisposable=k.JT.None}};E=Ii([Je(0,dn)],E);var W=c(2611),Q=c(98584),ue=c(40795);let ve=[],Oe=[],We=[];function et(Le,r=!1){Fe(Le,!1,r)}function Fe(Le,r,f){const I=A(Le,r);ve.push(I),I.userConfigured?We.push(I):Oe.push(I),f&&!I.userConfigured&&ve.forEach(ee=>{ee.mime===I.mime||ee.userConfigured||(I.extension&&ee.extension===I.extension&&console.warn(`Overwriting extension <<${I.extension}>> to now point to mime <<${I.mime}>>`),I.filename&&ee.filename===I.filename&&console.warn(`Overwriting filename <<${I.filename}>> to now point to mime <<${I.mime}>>`),I.filepattern&&ee.filepattern===I.filepattern&&console.warn(`Overwriting filepattern <<${I.filepattern}>> to now point to mime <<${I.mime}>>`),I.firstline&&ee.firstline===I.firstline&&console.warn(`Overwriting firstline <<${I.firstline}>> to now point to mime <<${I.mime}>>`))})}function A(Le,r){return{id:Le.id,mime:Le.mime,filename:Le.filename,extension:Le.extension,filepattern:Le.filepattern,firstline:Le.firstline,userConfigured:r,filenameLowercase:Le.filename?Le.filename.toLowerCase():void 0,extensionLowercase:Le.extension?Le.extension.toLowerCase():void 0,filepatternLowercase:Le.filepattern?(0,W.Qc)(Le.filepattern.toLowerCase()):void 0,filepatternOnPath:Le.filepattern?Le.filepattern.indexOf(ue.KR.sep)>=0:!1}}function q(){ve=ve.filter(Le=>Le.userConfigured),Oe=[]}function fe(Le,r){return Pe(Le,r).map(f=>f.id)}function Pe(Le,r){let f;if(Le)switch(Le.scheme){case yt.lg.file:f=Le.fsPath;break;case yt.lg.data:{f=je.Vb.parseMetaData(Le).get(je.Vb.META_DATA_LABEL);break}case yt.lg.vscodeNotebookCell:f=void 0;break;default:f=Le.path}if(!f)return[{id:"unknown",mime:Q.v.unknown}];f=f.toLowerCase();const I=(0,ue.EZ)(f),ee=Ye(f,I,We);if(ee)return[ee,{id:F.bd,mime:Q.v.text}];const oe=Ye(f,I,Oe);if(oe)return[oe,{id:F.bd,mime:Q.v.text}];if(r){const me=dt(r);if(me)return[me,{id:F.bd,mime:Q.v.text}]}return[{id:"unknown",mime:Q.v.unknown}]}function Ye(Le,r,f){var I;let ee,oe,me;for(let Ae=f.length-1;Ae>=0;Ae--){const at=f[Ae];if(r===at.filenameLowercase){ee=at;break}if(at.filepattern&&(!oe||at.filepattern.length>oe.filepattern.length)){const _t=at.filepatternOnPath?Le:r;!((I=at.filepatternLowercase)===null||I===void 0)&&I.call(at,_t)&&(oe=at)}at.extension&&(!me||at.extension.length>me.extension.length)&&r.endsWith(at.extensionLowercase)&&(me=at)}if(ee)return ee;if(oe)return oe;if(me)return me}function dt(Le){if((0,L.uS)(Le)&&(Le=Le.substr(1)),Le.length>0)for(let r=ve.length-1;r>=0;r--){const f=ve[r];if(!f.firstline)continue;const I=Le.match(f.firstline);if(I&&I.length>0)return f}}const St=Object.prototype.hasOwnProperty,Bt="vs.editor.nullLanguage";class Ci{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(Bt,0),this._register(F.bd,1),this._nextLanguageId=2}_register(r,f){this._languageIdToLanguage[f]=r,this._languageToLanguageId.set(r,f)}register(r){if(this._languageToLanguageId.has(r))return;const f=this._nextLanguageId++;this._register(r,f)}encodeLanguageId(r){return this._languageToLanguageId.get(r)||0}decodeLanguageId(r){return this._languageIdToLanguage[r]||Bt}}class vi extends k.JT{constructor(r=!0,f=!1){super(),this._onDidChange=this._register(new De.Q5),this.onDidChange=this._onDidChange.event,vi.instanceCount++,this._warnOnOverwrite=f,this.languageIdCodec=new Ci,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},r&&(this._initializeFromRegistry(),this._register(F.dQ.onDidChangeLanguages(I=>{this._initializeFromRegistry()})))}dispose(){vi.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},q();const r=[].concat(F.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(r)}_registerLanguages(r){for(const f of r)this._registerLanguage(f);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(f=>{const I=this._languages[f];I.name&&(this._nameMap[I.name]=I.identifier),I.aliases.forEach(ee=>{this._lowercaseNameMap[ee.toLowerCase()]=I.identifier}),I.mimetypes.forEach(ee=>{this._mimeTypesMap[ee]=I.identifier})}),qn.B.as(Wn.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(r){const f=r.id;let I;St.call(this._languages,f)?I=this._languages[f]:(this.languageIdCodec.register(f),I={identifier:f,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[f]=I),this._mergeLanguage(I,r)}_mergeLanguage(r,f){const I=f.id;let ee=null;if(Array.isArray(f.mimetypes)&&f.mimetypes.length>0&&(r.mimetypes.push(...f.mimetypes),ee=f.mimetypes[0]),ee||(ee=`text/x-${I}`,r.mimetypes.push(ee)),Array.isArray(f.extensions)){f.configuration?r.extensions=f.extensions.concat(r.extensions):r.extensions=r.extensions.concat(f.extensions);for(const Ae of f.extensions)et({id:I,mime:ee,extension:Ae},this._warnOnOverwrite)}if(Array.isArray(f.filenames))for(const Ae of f.filenames)et({id:I,mime:ee,filename:Ae},this._warnOnOverwrite),r.filenames.push(Ae);if(Array.isArray(f.filenamePatterns))for(const Ae of f.filenamePatterns)et({id:I,mime:ee,filepattern:Ae},this._warnOnOverwrite);if(typeof f.firstLine=="string"&&f.firstLine.length>0){let Ae=f.firstLine;Ae.charAt(0)!=="^"&&(Ae="^"+Ae);try{const at=new RegExp(Ae);(0,L.IO)(at)||et({id:I,mime:ee,firstline:at},this._warnOnOverwrite)}catch(at){console.warn(`[${f.id}]: Invalid regular expression \`${Ae}\`: `,at)}}r.aliases.push(I);let oe=null;if(typeof f.aliases!="undefined"&&Array.isArray(f.aliases)&&(f.aliases.length===0?oe=[null]:oe=f.aliases),oe!==null)for(const Ae of oe)!Ae||Ae.length===0||r.aliases.push(Ae);const me=oe!==null&&oe.length>0;if(!(me&&oe[0]===null)){const Ae=(me?oe[0]:null)||I;(me||!r.name)&&(r.name=Ae)}f.configuration&&r.configurationFiles.push(f.configuration),f.icon&&r.icons.push(f.icon)}isRegisteredLanguageId(r){return r?St.call(this._languages,r):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(r){const f=r.toLowerCase();return St.call(this._lowercaseNameMap,f)?this._lowercaseNameMap[f]:null}getLanguageIdByMimeType(r){return r&&St.call(this._mimeTypesMap,r)?this._mimeTypesMap[r]:null}guessLanguageIdByFilepathOrFirstLine(r,f){return!r&&!f?[]:fe(r,f)}}vi.instanceCount=0;class zi extends k.JT{constructor(r=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new De.Q5),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new De.Q5),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new De.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,zi.instanceCount++,this._registry=this._register(new vi(!0,r)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){zi.instanceCount--,super.dispose()}isRegisteredLanguageId(r){return this._registry.isRegisteredLanguageId(r)}getLanguageIdByLanguageName(r){return this._registry.getLanguageIdByLanguageName(r)}getLanguageIdByMimeType(r){return this._registry.getLanguageIdByMimeType(r)}guessLanguageIdByFilepathOrFirstLine(r,f){const I=this._registry.guessLanguageIdByFilepathOrFirstLine(r,f);return(0,zt.Xh)(I,null)}createById(r){return new Gi(this.onDidChange,()=>this._createAndGetLanguageIdentifier(r))}createByFilepathOrFirstLine(r,f){return new Gi(this.onDidChange,()=>{const I=this.guessLanguageIdByFilepathOrFirstLine(r,f);return this._createAndGetLanguageIdentifier(I)})}_createAndGetLanguageIdentifier(r){return(!r||!this.isRegisteredLanguageId(r))&&(r=F.bd),r}requestBasicLanguageFeatures(r){this._requestedBasicLanguages.has(r)||(this._requestedBasicLanguages.add(r),this._onDidRequestBasicLanguageFeatures.fire(r))}requestRichLanguageFeatures(r){this._requestedRichLanguages.has(r)||(this._requestedRichLanguages.add(r),this.requestBasicLanguageFeatures(r),O.RW.getOrCreate(r),this._onDidRequestRichLanguageFeatures.fire(r))}}zi.instanceCount=0;class Gi{constructor(r,f){this._onDidChangeLanguages=r,this._selector=f,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new De.Q5({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var r;const f=this._selector();f!==this.languageId&&(this.languageId=f,(r=this._emitter)===null||r===void 0||r.fire(this.languageId))}}var Wi=c(66351),Mi=c(34794),Oi=c(61008),Xi=c(9470),Hn=c(51678),js=c(84702),go=c(18016),So=c(6285),An=c(97918),Ts=c(64423),rs=c(12003),$n=c(62396);const Bs=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,so=/(&amp;)?(&amp;)([^\s&])/g;var bo;(function(Le){Le[Le.Right=0]="Right",Le[Le.Left=1]="Left"})(bo||(bo={}));class Nr extends go.o{constructor(r,f,I,ee){r.classList.add("monaco-menu-container"),r.setAttribute("role","presentation");const oe=document.createElement("div");oe.classList.add("monaco-menu"),oe.setAttribute("role","presentation"),super(oe,{orientation:1,actionViewItemProvider:_t=>this.doGetActionViewItem(_t,I,me),context:I.context,actionRunner:I.actionRunner,ariaLabel:I.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...ii.dz||ii.IJ?[10]:[]],keyDown:!0}}),this.menuStyles=ee,this.menuElement=oe,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(r,ee),this._register(js.o.addTarget(oe)),this._register((0,Ne.nm)(oe,Ne.tw.KEY_DOWN,_t=>{new pi.y(_t).equals(2)&&_t.preventDefault()})),I.enableMnemonics&&this._register((0,Ne.nm)(oe,Ne.tw.KEY_DOWN,_t=>{const Rt=_t.key.toLocaleLowerCase();if(this.mnemonics.has(Rt)){Ne.zB.stop(_t,!0);const Jt=this.mnemonics.get(Rt);if(Jt.length===1&&(Jt[0]instanceof Lo&&Jt[0].container&&this.focusItemByElement(Jt[0].container),Jt[0].onClick(_t)),Jt.length>1){const Ti=Jt.shift();Ti&&Ti.container&&(this.focusItemByElement(Ti.container),Jt.push(Ti)),this.mnemonics.set(Rt,Jt)}}})),ii.IJ&&this._register((0,Ne.nm)(oe,Ne.tw.KEY_DOWN,_t=>{const Rt=new pi.y(_t);Rt.equals(14)||Rt.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),Ne.zB.stop(_t,!0)):(Rt.equals(13)||Rt.equals(12))&&(this.focusedItem=0,this.focusPrevious(),Ne.zB.stop(_t,!0))})),this._register((0,Ne.nm)(this.domNode,Ne.tw.MOUSE_OUT,_t=>{const Rt=_t.relatedTarget;(0,Ne.jg)(Rt,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),_t.stopPropagation())})),this._register((0,Ne.nm)(this.actionsList,Ne.tw.MOUSE_OVER,_t=>{let Rt=_t.target;if(!(!Rt||!(0,Ne.jg)(Rt,this.actionsList)||Rt===this.actionsList)){for(;Rt.parentElement!==this.actionsList&&Rt.parentElement!==null;)Rt=Rt.parentElement;if(Rt.classList.contains("action-item")){const Jt=this.focusedItem;this.setFocusedItem(Rt),Jt!==this.focusedItem&&this.updateFocus()}}})),this._register(js.o.addTarget(this.actionsList)),this._register((0,Ne.nm)(this.actionsList,js.t.Tap,_t=>{let Rt=_t.initialTarget;if(!(!Rt||!(0,Ne.jg)(Rt,this.actionsList)||Rt===this.actionsList)){for(;Rt.parentElement!==this.actionsList&&Rt.parentElement!==null;)Rt=Rt.parentElement;if(Rt.classList.contains("action-item")){const Jt=this.focusedItem;this.setFocusedItem(Rt),Jt!==this.focusedItem&&this.updateFocus()}}}));const me={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new An.s$(oe,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const Ae=this.scrollableElement.getDomNode();Ae.style.position="",this.styleScrollElement(Ae,ee),this._register((0,Ne.nm)(oe,js.t.Change,_t=>{Ne.zB.stop(_t,!0);const Rt=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:Rt-_t.translationY})})),this._register((0,Ne.nm)(Ae,Ne.tw.MOUSE_UP,_t=>{_t.preventDefault()}));const at=(0,Ne.Jj)(r);oe.style.maxHeight=`${Math.max(10,at.innerHeight-r.getBoundingClientRect().top-35)}px`,f=f.filter(_t=>{var Rt;return!((Rt=I.submenuIds)===null||Rt===void 0)&&Rt.has(_t.id)?(console.warn(`Found submenu cycle: ${_t.id}`),!1):!0}),this.push(f,{icon:!0,label:!0,isMenu:!0}),r.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(_t=>!(_t instanceof Ir)).forEach((_t,Rt,Jt)=>{_t.updatePositionInSet(Rt+1,Jt.length)})}initializeOrUpdateStyleSheet(r,f){this.styleSheet||((0,Ne.OO)(r)?this.styleSheet=(0,Ne.dS)(r):(Nr.globalStyleSheet||(Nr.globalStyleSheet=(0,Ne.dS)()),this.styleSheet=Nr.globalStyleSheet)),this.styleSheet.textContent=Ds(f,(0,Ne.OO)(r))}styleScrollElement(r,f){var I,ee;const oe=(I=f.foregroundColor)!==null&&I!==void 0?I:"",me=(ee=f.backgroundColor)!==null&&ee!==void 0?ee:"",Ae=f.borderColor?`1px solid ${f.borderColor}`:"",at="5px",_t=f.shadowColor?`0 2px 8px ${f.shadowColor}`:"";r.style.outline=Ae,r.style.borderRadius=at,r.style.color=oe,r.style.backgroundColor=me,r.style.boxShadow=_t}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(r){const f=this.focusedItem;this.setFocusedItem(r),f!==this.focusedItem&&this.updateFocus()}setFocusedItem(r){for(let f=0;f<this.actionsList.children.length;f++){const I=this.actionsList.children[f];if(r===I){this.focusedItem=f;break}}}updateFocus(r){super.updateFocus(r,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(r,f,I){if(r instanceof Wi.Z0)return new Ir(f.context,r,{icon:!0},this.menuStyles);if(r instanceof Wi.wY){const ee=new Lo(r,r.actions,I,sn(Di({},f),{submenuIds:new Set([...f.submenuIds||[],r.id])}),this.menuStyles);if(f.enableMnemonics){const oe=ee.getMnemonic();if(oe&&ee.isEnabled()){let me=[];this.mnemonics.has(oe)&&(me=this.mnemonics.get(oe)),me.push(ee),this.mnemonics.set(oe,me)}}return ee}else{const ee={enableMnemonics:f.enableMnemonics,useEventAsContext:f.useEventAsContext};if(f.getKeyBinding){const me=f.getKeyBinding(r);if(me){const Ae=me.getLabel();Ae&&(ee.keybinding=Ae)}}const oe=new ks(f.context,r,ee,this.menuStyles);if(f.enableMnemonics){const me=oe.getMnemonic();if(me&&oe.isEnabled()){let Ae=[];this.mnemonics.has(me)&&(Ae=this.mnemonics.get(me)),Ae.push(oe),this.mnemonics.set(me,Ae)}}return oe}}}class ks extends So.YH{constructor(r,f,I,ee){if(I.isMenu=!0,super(f,f,I),this.menuStyle=ee,this.options=I,this.options.icon=I.icon!==void 0?I.icon:!1,this.options.label=I.label!==void 0?I.label:!0,this.cssClass="",this.options.label&&I.enableMnemonics){const oe=this.action.label;if(oe){const me=Bs.exec(oe);me&&(this.mnemonic=(me[1]?me[1]:me[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new cn.pY(()=>{this.element&&(this._register((0,Ne.nm)(this.element,Ne.tw.MOUSE_UP,oe=>{if(Ne.zB.stop(oe,!0),Hn.vU){if(new Xi.n((0,Ne.Jj)(this.element),oe).rightButton)return;this.onClick(oe)}else setTimeout(()=>{this.onClick(oe)},0)})),this._register((0,Ne.nm)(this.element,Ne.tw.CONTEXT_MENU,oe=>{Ne.zB.stop(oe,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(r){super.render(r),this.element&&(this.container=r,this.item=(0,Ne.R3)(this.element,(0,Ne.$)("a.action-menu-item")),this._action.id===Wi.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,Ne.R3)(this.item,(0,Ne.$)("span.menu-item-check"+rs.k.asCSSSelector(Ts.l.menuSelection))),this.check.setAttribute("role","none"),this.label=(0,Ne.R3)(this.item,(0,Ne.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,Ne.R3)(this.item,(0,Ne.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var r;super.focus(),(r=this.item)===null||r===void 0||r.focus(),this.applyStyle()}updatePositionInSet(r,f){this.item&&(this.item.setAttribute("aria-posinset",`${r}`),this.item.setAttribute("aria-setsize",`${f}`))}updateLabel(){var r;if(this.label&&this.options.label){(0,Ne.PO)(this.label);let f=(0,$n.x$)(this.action.label);if(f){const I=xa(f);this.options.enableMnemonics||(f=I),this.label.setAttribute("aria-label",I.replace(/&&/g,"&"));const ee=Bs.exec(f);if(ee){f=L.YU(f),so.lastIndex=0;let oe=so.exec(f);for(;oe&&oe[1];)oe=so.exec(f);const me=Ae=>Ae.replace(/&amp;&amp;/g,"&amp;");oe?this.label.append(L.j3(me(f.substr(0,oe.index))," "),(0,Ne.$)("u",{"aria-hidden":"true"},oe[3]),L.oL(me(f.substr(oe.index+oe[0].length))," ")):this.label.innerText=me(f).trim(),(r=this.item)===null||r===void 0||r.setAttribute("aria-keyshortcuts",(ee[1]?ee[1]:ee[3]).toLocaleLowerCase())}else this.label.innerText=f.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const r=this.action.checked;this.item.classList.toggle("checked",!!r),r!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",r?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const r=this.element&&this.element.classList.contains("focused"),f=r&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,I=r&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,ee=r&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",oe=r&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=f!=null?f:"",this.item.style.backgroundColor=I!=null?I:"",this.item.style.outline=ee,this.item.style.outlineOffset=oe),this.check&&(this.check.style.color=f!=null?f:"")}}class Lo extends ks{constructor(r,f,I,ee,oe){super(r,r,ee,oe),this.submenuActions=f,this.parentData=I,this.submenuOptions=ee,this.mysubmenu=null,this.submenuDisposables=this._register(new k.SL),this.mouseOver=!1,this.expandDirection=ee&&ee.expandDirection!==void 0?ee.expandDirection:bo.Right,this.showScheduler=new cn.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new cn.pY(()=>{this.element&&!(0,Ne.jg)((0,Ne.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(r){super.render(r),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,Ne.R3)(this.item,(0,Ne.$)("span.submenu-indicator"+rs.k.asCSSSelector(Ts.l.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,Ne.nm)(this.element,Ne.tw.KEY_UP,f=>{const I=new pi.y(f);(I.equals(17)||I.equals(3))&&(Ne.zB.stop(f,!0),this.createSubmenu(!0))})),this._register((0,Ne.nm)(this.element,Ne.tw.KEY_DOWN,f=>{const I=new pi.y(f);(0,Ne.vY)()===this.item&&(I.equals(17)||I.equals(3))&&Ne.zB.stop(f,!0)})),this._register((0,Ne.nm)(this.element,Ne.tw.MOUSE_OVER,f=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,Ne.nm)(this.element,Ne.tw.MOUSE_LEAVE,f=>{this.mouseOver=!1})),this._register((0,Ne.nm)(this.element,Ne.tw.FOCUS_OUT,f=>{this.element&&!(0,Ne.jg)((0,Ne.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(r){Ne.zB.stop(r,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(r){if(this.parentData.submenu&&(r||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(f){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(r,f,I,ee){const oe={top:0,left:0};return oe.left=Ei(r.width,f.width,{position:ee===bo.Right?0:1,offset:I.left,size:I.width}),oe.left>=I.left&&oe.left<I.left+I.width&&(I.left+10+f.width<=r.width&&(oe.left=I.left+10),I.top+=10,I.height=0),oe.top=Ei(r.height,f.height,{position:0,offset:I.top,size:0}),oe.top+f.height===I.top&&oe.top+I.height+f.height<=r.height&&(oe.top+=I.height),oe}createSubmenu(r=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,Ne.R3)(this.element,(0,Ne.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const f=(0,Ne.Jj)(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),I=parseFloat(f.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new Nr(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new Wi.eZ],this.submenuOptions,this.menuStyle);const ee=this.element.getBoundingClientRect(),oe={top:ee.top-I,left:ee.left,height:ee.height+2*I,width:ee.width},me=this.submenuContainer.getBoundingClientRect(),Ae=(0,Ne.Jj)(this.element),{top:at,left:_t}=this.calculateSubmenuMenuLayout(new Ne.Ro(Ae.innerWidth,Ae.innerHeight),Ne.Ro.lift(me),oe,this.expandDirection);this.submenuContainer.style.left=`${_t-me.left}px`,this.submenuContainer.style.top=`${at-me.top}px`,this.submenuDisposables.add((0,Ne.nm)(this.submenuContainer,Ne.tw.KEY_UP,Rt=>{new pi.y(Rt).equals(15)&&(Ne.zB.stop(Rt,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,Ne.nm)(this.submenuContainer,Ne.tw.KEY_DOWN,Rt=>{new pi.y(Rt).equals(15)&&Ne.zB.stop(Rt,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(r),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(r){var f;this.item&&((f=this.item)===null||f===void 0||f.setAttribute("aria-expanded",r))}applyStyle(){super.applyStyle();const f=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=f!=null?f:"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class Ir extends So.gU{constructor(r,f,I,ee){super(r,f,I),this.menuStyles=ee}render(r){super.render(r),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function xa(Le){const r=Bs,f=r.exec(Le);if(!f)return Le;const I=!f[1];return Le.replace(r,I?"$2$3":"").trim()}function Ln(Le){const r=(0,Ts.u)()[Le.id];return`.codicon-${Le.id}:before { content: '\\${r.toString(16)}'; }`}function Ds(Le,r){let f=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${Ln(Ts.l.menuSelection)}
${Ln(Ts.l.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(r){f+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const I=Le.scrollbarShadow;I&&(f+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${I} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${I} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${I} 6px 6px 6px -6px inset;
				}
			`);const ee=Le.scrollbarSliderBackground;ee&&(f+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${ee};
				}
			`);const oe=Le.scrollbarSliderHoverBackground;oe&&(f+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${oe};
				}
			`);const me=Le.scrollbarSliderActiveBackground;me&&(f+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${me};
				}
			`)}return f}var bs=c(55410);class Jr{constructor(r,f,I,ee){this.contextViewService=r,this.telemetryService=f,this.notificationService=I,this.keybindingService=ee,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(r){this.options=r}showContextMenu(r){const f=r.getActions();if(!f.length)return;this.focusToReturn=(0,Ne.vY)();let I;const ee=r.domForShadowRoot instanceof HTMLElement?r.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>r.getAnchor(),canRelayout:!1,anchorAlignment:r.anchorAlignment,anchorAxisAlignment:r.anchorAxisAlignment,render:oe=>{var me;this.lastContainer=oe;const Ae=r.getMenuClassName?r.getMenuClassName():"";Ae&&(oe.className+=" "+Ae),this.options.blockMouse&&(this.block=oe.appendChild((0,Ne.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(me=this.blockDisposable)===null||me===void 0||me.dispose(),this.blockDisposable=(0,Ne.nm)(this.block,Ne.tw.MOUSE_DOWN,Jt=>Jt.stopPropagation()));const at=new k.SL,_t=r.actionRunner||new Wi.Wi;_t.onWillRun(Jt=>this.onActionRun(Jt,!r.skipTelemetry),this,at),_t.onDidRun(this.onDidActionRun,this,at),I=new Nr(oe,f,{actionViewItemProvider:r.getActionViewItem,context:r.getActionsContext?r.getActionsContext():null,actionRunner:_t,getKeyBinding:r.getKeyBinding?r.getKeyBinding:Jt=>this.keybindingService.lookupKeybinding(Jt.id)},bs.ZR),I.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,at),I.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,at);const Rt=(0,Ne.Jj)(oe);return at.add((0,Ne.nm)(Rt,Ne.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),at.add((0,Ne.nm)(Rt,Ne.tw.MOUSE_DOWN,Jt=>{if(Jt.defaultPrevented)return;const Ti=new Xi.n(Rt,Jt);let yi=Ti.target;if(!Ti.rightButton){for(;yi;){if(yi===oe)return;yi=yi.parentElement}this.contextViewService.hideContextView(!0)}})),(0,k.F8)(at,I)},focus:()=>{I==null||I.focus(!!r.autoSelectFirstItem)},onHide:oe=>{var me,Ae,at;(me=r.onHide)===null||me===void 0||me.call(r,!!oe),this.block&&(this.block.remove(),this.block=null),(Ae=this.blockDisposable)===null||Ae===void 0||Ae.dispose(),this.blockDisposable=null,this.lastContainer&&((0,Ne.vY)()===this.lastContainer||(0,Ne.jg)((0,Ne.vY)(),this.lastContainer))&&((at=this.focusToReturn)===null||at===void 0||at.focus()),this.lastContainer=null}},ee,!!ee)}onActionRun(r,f){f&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:r.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(r){r.error&&!(0,Ri.n2)(r.error)&&this.notificationService.error(r.error)}}var ka=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},cr=function(Le,r){return function(f,I){r(f,I,Le)}};let Yo=class extends k.JT{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new Jr(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(r,f,I,ee,oe,me){super(),this.telemetryService=r,this.notificationService=f,this.contextViewService=I,this.keybindingService=ee,this.menuService=oe,this.contextKeyService=me,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new De.Q5),this._onDidHideContextMenu=this._store.add(new De.Q5)}configure(r){this.contextMenuHandler.configure(r)}showContextMenu(r){r=ur.transform(r,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu(sn(Di({},r),{onHide:f=>{var I;(I=r.onHide)===null||I===void 0||I.call(r,f),this._onDidHideContextMenu.fire()}})),Ne._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};Yo=ka([cr(0,ao.b),cr(1,bn.lT),cr(2,Ht.u),cr(3,qi.d),cr(4,Oi.co),cr(5,mt.i6)],Yo);var ur;(function(Le){function r(I){return I&&I.menuId instanceof Oi.eH}function f(I,ee,oe){if(!r(I))return I;const{menuId:me,menuActionOptions:Ae,contextKeyService:at}=I;return sn(Di({},I),{getActions:()=>{const _t=[];if(me){const Rt=ee.createMenu(me,at!=null?at:oe);(0,Mi.LJ)(Rt,Ae,_t),Rt.dispose()}return I.getActions?Wi.Z0.join(I.getActions(),_t):_t}})}Le.transform=f})(ur||(ur={}));var Mo=c(60902),Zr=c(29961),Ho;(function(Le){Le[Le.API=0]="API",Le[Le.USER=1]="USER"})(Ho||(Ho={}));var kr=c(51270),Ro=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},pr=function(Le,r){return function(f,I){r(f,I,Le)}};let jo=class{constructor(r){this._commandService=r}open(r,f){return At(this,null,function*(){if(!(0,yt.xn)(r,yt.lg.command))return!1;if(!(f!=null&&f.allowCommands)||(typeof r=="string"&&(r=T.o.parse(r)),Array.isArray(f.allowCommands)&&!f.allowCommands.includes(r.path)))return!0;let I=[];try{I=(0,Zr.Qc)(decodeURIComponent(r.query))}catch(ee){try{I=(0,Zr.Qc)(r.query)}catch(oe){}}return Array.isArray(I)||(I=[I]),yield this._commandService.executeCommand(r.path,...I),!0})}};jo=Ro([pr(0,Ji.H)],jo);let xo=class{constructor(r){this._editorService=r}open(r,f){return At(this,null,function*(){typeof r=="string"&&(r=T.o.parse(r));const{selection:I,uri:ee}=(0,kr.x)(r);return r=ee,r.scheme===yt.lg.file&&(r=(0,je.AH)(r)),yield this._editorService.openCodeEditor({resource:r,options:Di({selection:I,source:f!=null&&f.fromUserGesture?Ho.USER:Ho.API},f==null?void 0:f.editorOptions)},this._editorService.getFocusedCodeEditor(),f==null?void 0:f.openToSide),!0})}};xo=Ro([pr(0,y.$)],xo);let _r=class{constructor(r,f){this._openers=new di.S,this._validators=new di.S,this._resolvers=new di.S,this._resolvedUriTargets=new Cn.Y9(I=>I.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new di.S,this._defaultExternalOpener={openExternal:I=>At(this,null,function*(){return(0,yt.Gs)(I,yt.lg.http,yt.lg.https)?Ne.V3(I):v.Ex.location.href=I,!0})},this._openers.push({open:(I,ee)=>At(this,null,function*(){return ee!=null&&ee.openExternal||(0,yt.Gs)(I,yt.lg.mailto,yt.lg.http,yt.lg.https,yt.lg.vsls)?(yield this._doOpenExternal(I,ee),!0):!1})}),this._openers.push(new jo(f)),this._openers.push(new xo(r))}registerOpener(r){return{dispose:this._openers.unshift(r)}}open(r,f){return At(this,null,function*(){var I;const ee=typeof r=="string"?T.o.parse(r):r,oe=(I=this._resolvedUriTargets.get(ee))!==null&&I!==void 0?I:r;for(const me of this._validators)if(!(yield me.shouldOpen(oe,f)))return!1;for(const me of this._openers)if(yield me.open(r,f))return!0;return!1})}resolveExternalUri(r,f){return At(this,null,function*(){for(const I of this._resolvers)try{const ee=yield I.resolveExternalUri(r,f);if(ee)return this._resolvedUriTargets.has(ee.resolved)||this._resolvedUriTargets.set(ee.resolved,r),ee}catch(ee){}throw new Error("Could not resolve external URI: "+r.toString())})}_doOpenExternal(r,f){return At(this,null,function*(){const I=typeof r=="string"?T.o.parse(r):r;let ee;try{ee=(yield this.resolveExternalUri(I,f)).resolved}catch(me){ee=I}let oe;if(typeof r=="string"&&I.toString()===ee.toString()?oe=r:oe=encodeURI(ee.toString(!0)),f!=null&&f.allowContributedOpeners){const me=typeof(f==null?void 0:f.allowContributedOpeners)=="string"?f==null?void 0:f.allowContributedOpeners:void 0;for(const Ae of this._externalOpeners)if(yield Ae.openExternal(oe,{sourceUri:I,preferredOpenerId:me},Mo.T.None))return!0}return this._defaultExternalOpener.openExternal(oe,{sourceUri:I},Mo.T.None)})}dispose(){this._validators.clear()}};_r=Ro([pr(0,y.$),pr(1,Ji.H)],_r);var Fa=c(22980),po=c(59265),Uo=c(76901),Hs=c(32955),rl=c(55263),al=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},qr=function(Le,r){return function(f,I){r(f,I,Le)}};let $o=class extends k.JT{constructor(r,f){super(),this._markerService=f,this._onDidChangeMarker=this._register(new De.Q5),this._markerDecorations=new Cn.Y9,r.getModels().forEach(I=>this._onModelAdded(I)),this._register(r.onModelAdded(this._onModelAdded,this)),this._register(r.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(r=>r.dispose()),this._markerDecorations.clear()}getMarker(r,f){const I=this._markerDecorations.get(r);return I&&I.getMarker(f)||null}_handleMarkerChange(r){r.forEach(f=>{const I=this._markerDecorations.get(f);I&&this._updateDecorations(I)})}_onModelAdded(r){const f=new Do(r);this._markerDecorations.set(r.uri,f),this._updateDecorations(f)}_onModelRemoved(r){var f;const I=this._markerDecorations.get(r.uri);I&&(I.dispose(),this._markerDecorations.delete(r.uri)),(r.uri.scheme===yt.lg.inMemory||r.uri.scheme===yt.lg.internal||r.uri.scheme===yt.lg.vscode)&&((f=this._markerService)===null||f===void 0||f.read({resource:r.uri}).map(ee=>ee.owner).forEach(ee=>this._markerService.remove(ee,[r.uri])))}_updateDecorations(r){const f=this._markerService.read({resource:r.model.uri,take:500});r.update(f)&&this._onDidChangeMarker.fire(r.model)}};$o=al([qr(0,Z.q),qr(1,po.lT)],$o);class Do extends k.JT{constructor(r){super(),this.model=r,this._map=new Cn.YQ,this._register((0,k.OF)(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(r){const{added:f,removed:I}=(0,rl.q)(new Set(this._map.keys()),new Set(r));if(f.length===0&&I.length===0)return!1;const ee=I.map(Ae=>this._map.get(Ae)),oe=f.map(Ae=>({range:this._createDecorationRange(this.model,Ae),options:this._createDecorationOption(Ae)})),me=this.model.deltaDecorations(ee,oe);for(const Ae of I)this._map.delete(Ae);for(let Ae=0;Ae<me.length;Ae++)this._map.set(f[Ae],me[Ae]);return!0}getMarker(r){return this._map.getKey(r.id)}_createDecorationRange(r,f){let I=Si.e.lift(f);if(f.severity===po.ZL.Hint&&!this._hasMarkerTag(f,1)&&!this._hasMarkerTag(f,2)&&(I=I.setEndPosition(I.startLineNumber,I.startColumn+2)),I=r.validateRange(I),I.isEmpty()){const ee=r.getLineLastNonWhitespaceColumn(I.startLineNumber)||r.getLineMaxColumn(I.startLineNumber);if(ee===1||I.endColumn>=ee)return I;const oe=r.getWordAtPosition(I.getStartPosition());oe&&(I=new Si.e(I.startLineNumber,oe.startColumn,I.endLineNumber,oe.endColumn))}else if(f.endColumn===Number.MAX_VALUE&&f.startColumn===1&&I.startLineNumber===I.endLineNumber){const ee=r.getLineFirstNonWhitespaceColumn(f.startLineNumber);ee<I.endColumn&&(I=new Si.e(I.startLineNumber,ee,I.endLineNumber,I.endColumn),f.startColumn=ee)}return I}_createDecorationOption(r){let f,I,ee,oe,me;switch(r.severity){case po.ZL.Hint:this._hasMarkerTag(r,2)?f=void 0:this._hasMarkerTag(r,1)?f="squiggly-unnecessary":f="squiggly-hint",ee=0;break;case po.ZL.Info:f="squiggly-info",I=(0,Ve.EN)(Uo.eS),ee=10,me={color:(0,Ve.EN)(Hs.Gvr),position:G.F5.Inline};break;case po.ZL.Warning:f="squiggly-warning",I=(0,Ve.EN)(Uo.Re),ee=20,me={color:(0,Ve.EN)(Hs.Ivo),position:G.F5.Inline};break;case po.ZL.Error:default:f="squiggly-error",I=(0,Ve.EN)(Uo.lK),ee=30,me={color:(0,Ve.EN)(Hs.Gj_),position:G.F5.Inline};break}return r.tags&&(r.tags.indexOf(1)!==-1&&(oe="squiggly-inline-unnecessary"),r.tags.indexOf(2)!==-1&&(oe="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:f,showIfCollapsed:!0,overviewRuler:{color:I,position:G.sh.Right},minimap:me,zIndex:ee,inlineClassName:oe}}_hasMarkerTag(r,f){return r.tags?r.tags.indexOf(f)>=0:!1}}var wl=c(19524),Ba=c(44728),qo=c(27519),or=c(31815),_o=c(61122),fn=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},No=function(Le,r){return function(f,I){r(f,I,Le)}},hr;function er(Le){return Le.toString()}class Xo{constructor(r,f,I){this.model=r,this._modelEventListeners=new k.SL,this.model=r,this._modelEventListeners.add(r.onWillDispose(()=>f(r))),this._modelEventListeners.add(r.onDidChangeLanguage(ee=>I(r,ee)))}dispose(){this._modelEventListeners.dispose()}}const Cr=ii.IJ||ii.dz?1:2;class Wa{constructor(r,f,I,ee,oe,me,Ae,at){this.uri=r,this.initialUndoRedoSnapshot=f,this.time=I,this.sharesUndoRedoStack=ee,this.heapSize=oe,this.sha1=me,this.versionId=Ae,this.alternativeVersionId=at}}let Ar=hr=class extends k.JT{constructor(r,f,I,ee,oe){super(),this._configurationService=r,this._resourcePropertiesService=f,this._undoRedoService=I,this._languageService=ee,this._languageConfigurationService=oe,this._onModelAdded=this._register(new De.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new De.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new De.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(me=>this._updateModelOptions(me))),this._updateModelOptions(void 0)}static _readModelOptions(r,f){var I;let ee=qo.D.tabSize;if(r.editor&&typeof r.editor.tabSize!="undefined"){const yi=parseInt(r.editor.tabSize,10);isNaN(yi)||(ee=yi),ee<1&&(ee=1)}let oe="tabSize";if(r.editor&&typeof r.editor.indentSize!="undefined"&&r.editor.indentSize!=="tabSize"){const yi=parseInt(r.editor.indentSize,10);isNaN(yi)||(oe=Math.max(yi,1))}let me=qo.D.insertSpaces;r.editor&&typeof r.editor.insertSpaces!="undefined"&&(me=r.editor.insertSpaces==="false"?!1:!!r.editor.insertSpaces);let Ae=Cr;const at=r.eol;at===`\r
`?Ae=2:at===`
`&&(Ae=1);let _t=qo.D.trimAutoWhitespace;r.editor&&typeof r.editor.trimAutoWhitespace!="undefined"&&(_t=r.editor.trimAutoWhitespace==="false"?!1:!!r.editor.trimAutoWhitespace);let Rt=qo.D.detectIndentation;r.editor&&typeof r.editor.detectIndentation!="undefined"&&(Rt=r.editor.detectIndentation==="false"?!1:!!r.editor.detectIndentation);let Jt=qo.D.largeFileOptimizations;r.editor&&typeof r.editor.largeFileOptimizations!="undefined"&&(Jt=r.editor.largeFileOptimizations==="false"?!1:!!r.editor.largeFileOptimizations);let Ti=qo.D.bracketPairColorizationOptions;return!((I=r.editor)===null||I===void 0)&&I.bracketPairColorization&&typeof r.editor.bracketPairColorization=="object"&&(Ti={enabled:!!r.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!r.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:f,tabSize:ee,indentSize:oe,insertSpaces:me,detectIndentation:Rt,defaultEOL:Ae,trimAutoWhitespace:_t,largeFileOptimizations:Jt,bracketPairColorizationOptions:Ti}}_getEOL(r,f){if(r)return this._resourcePropertiesService.getEOL(r,f);const I=this._configurationService.getValue("files.eol",{overrideIdentifier:f});return I&&typeof I=="string"&&I!=="auto"?I:ii.OS===3||ii.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const r=this._configurationService.getValue("files.restoreUndoStack");return typeof r=="boolean"?r:!0}getCreationOptions(r,f,I){const ee=typeof r=="string"?r:r.languageId;let oe=this._modelCreationOptionsByLanguageAndResource[ee+f];if(!oe){const me=this._configurationService.getValue("editor",{overrideIdentifier:ee,resource:f}),Ae=this._getEOL(f,ee);oe=hr._readModelOptions({editor:me,eol:Ae},I),this._modelCreationOptionsByLanguageAndResource[ee+f]=oe}return oe}_updateModelOptions(r){const f=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const I=Object.keys(this._models);for(let ee=0,oe=I.length;ee<oe;ee++){const me=I[ee],Ae=this._models[me],at=Ae.model.getLanguageId(),_t=Ae.model.uri;if(r&&!r.affectsConfiguration("editor",{overrideIdentifier:at,resource:_t})&&!r.affectsConfiguration("files.eol",{overrideIdentifier:at,resource:_t}))continue;const Rt=f[at+_t],Jt=this.getCreationOptions(at,_t,Ae.model.isForSimpleWidget);hr._setModelOptionsForModel(Ae.model,Jt,Rt)}}static _setModelOptionsForModel(r,f,I){I&&I.defaultEOL!==f.defaultEOL&&r.getLineCount()===1&&r.setEOL(f.defaultEOL===1?0:1),!(I&&I.detectIndentation===f.detectIndentation&&I.insertSpaces===f.insertSpaces&&I.tabSize===f.tabSize&&I.indentSize===f.indentSize&&I.trimAutoWhitespace===f.trimAutoWhitespace&&(0,b.fS)(I.bracketPairColorizationOptions,f.bracketPairColorizationOptions))&&(f.detectIndentation?(r.detectIndentation(f.insertSpaces,f.tabSize),r.updateOptions({trimAutoWhitespace:f.trimAutoWhitespace,bracketColorizationOptions:f.bracketPairColorizationOptions})):r.updateOptions({insertSpaces:f.insertSpaces,tabSize:f.tabSize,indentSize:f.indentSize,trimAutoWhitespace:f.trimAutoWhitespace,bracketColorizationOptions:f.bracketPairColorizationOptions}))}_insertDisposedModel(r){this._disposedModels.set(er(r.uri),r),this._disposedModelsHeapSize+=r.heapSize}_removeDisposedModel(r){const f=this._disposedModels.get(er(r));return f&&(this._disposedModelsHeapSize-=f.heapSize),this._disposedModels.delete(er(r)),f}_ensureDisposedModelsHeapSize(r){if(this._disposedModelsHeapSize>r){const f=[];for(this._disposedModels.forEach(I=>{I.sharesUndoRedoStack||f.push(I)}),f.sort((I,ee)=>I.time-ee.time);f.length>0&&this._disposedModelsHeapSize>r;){const I=f.shift();this._removeDisposedModel(I.uri),I.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(I.initialUndoRedoSnapshot)}}}_createModelData(r,f,I,ee){const oe=this.getCreationOptions(f,I,ee),me=new Ba.yO(r,f,oe,I,this._undoRedoService,this._languageService,this._languageConfigurationService);if(I&&this._disposedModels.has(er(I))){const _t=this._removeDisposedModel(I),Rt=this._undoRedoService.getElements(I),Jt=this._getSHA1Computer(),Ti=Jt.canComputeSHA1(me)?Jt.computeSHA1(me)===_t.sha1:!1;if(Ti||_t.sharesUndoRedoStack){for(const yi of Rt.past)(0,_o.e9)(yi)&&yi.matchesResource(I)&&yi.setModel(me);for(const yi of Rt.future)(0,_o.e9)(yi)&&yi.matchesResource(I)&&yi.setModel(me);this._undoRedoService.setElementsValidFlag(I,!0,yi=>(0,_o.e9)(yi)&&yi.matchesResource(I)),Ti&&(me._overwriteVersionId(_t.versionId),me._overwriteAlternativeVersionId(_t.alternativeVersionId),me._overwriteInitialUndoRedoSnapshot(_t.initialUndoRedoSnapshot))}else _t.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(_t.initialUndoRedoSnapshot)}const Ae=er(me.uri);if(this._models[Ae])throw new Error("ModelService: Cannot add model because it already exists!");const at=new Xo(me,_t=>this._onWillDispose(_t),(_t,Rt)=>this._onDidChangeLanguage(_t,Rt));return this._models[Ae]=at,at}createModel(r,f,I,ee=!1){let oe;return f?oe=this._createModelData(r,f,I,ee):oe=this._createModelData(r,F.bd,I,ee),this._onModelAdded.fire(oe.model),oe.model}getModels(){const r=[],f=Object.keys(this._models);for(let I=0,ee=f.length;I<ee;I++){const oe=f[I];r.push(this._models[oe].model)}return r}getModel(r){const f=er(r),I=this._models[f];return I?I.model:null}_schemaShouldMaintainUndoRedoElements(r){return r.scheme===yt.lg.file||r.scheme===yt.lg.vscodeRemote||r.scheme===yt.lg.vscodeUserData||r.scheme===yt.lg.vscodeNotebookCell||r.scheme==="fake-fs"}_onWillDispose(r){const f=er(r.uri),I=this._models[f],ee=this._undoRedoService.getUriComparisonKey(r.uri)!==r.uri.toString();let oe=!1,me=0;if(ee||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(r.uri)){const _t=this._undoRedoService.getElements(r.uri);if(_t.past.length>0||_t.future.length>0){for(const Rt of _t.past)(0,_o.e9)(Rt)&&Rt.matchesResource(r.uri)&&(oe=!0,me+=Rt.heapSize(r.uri),Rt.setModel(r.uri));for(const Rt of _t.future)(0,_o.e9)(Rt)&&Rt.matchesResource(r.uri)&&(oe=!0,me+=Rt.heapSize(r.uri),Rt.setModel(r.uri))}}const Ae=hr.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,at=this._getSHA1Computer();if(oe)if(!ee&&(me>Ae||!at.canComputeSHA1(r))){const _t=I.model.getInitialUndoRedoSnapshot();_t!==null&&this._undoRedoService.restoreSnapshot(_t)}else this._ensureDisposedModelsHeapSize(Ae-me),this._undoRedoService.setElementsValidFlag(r.uri,!1,_t=>(0,_o.e9)(_t)&&_t.matchesResource(r.uri)),this._insertDisposedModel(new Wa(r.uri,I.model.getInitialUndoRedoSnapshot(),Date.now(),ee,me,at.computeSHA1(r),r.getVersionId(),r.getAlternativeVersionId()));else if(!ee){const _t=I.model.getInitialUndoRedoSnapshot();_t!==null&&this._undoRedoService.restoreSnapshot(_t)}delete this._models[f],I.dispose(),delete this._modelCreationOptionsByLanguageAndResource[r.getLanguageId()+r.uri],this._onModelRemoved.fire(r)}_onDidChangeLanguage(r,f){const I=f.oldLanguage,ee=r.getLanguageId(),oe=this.getCreationOptions(I,r.uri,r.isForSimpleWidget),me=this.getCreationOptions(ee,r.uri,r.isForSimpleWidget);hr._setModelOptionsForModel(r,me,oe),this._onModelModeChanged.fire({model:r,oldLanguageId:I})}_getSHA1Computer(){return new jn}};Ar.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,Ar=hr=fn([No(0,x.Ui),No(1,tn.y),No(2,gn.tJ),No(3,R.O),No(4,V.c_)],Ar);class jn{canComputeSHA1(r){return r.getValueLength()<=jn.MAX_MODEL_SIZE}computeSHA1(r){const f=new or.yP,I=r.createSnapshot();let ee;for(;ee=I.read();)f.update(ee);return f.digest()}}jn.MAX_MODEL_SIZE=10*1024*1024;var hs=c(49192),Cs=c(64361),Es=c(63346),Vo=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},eo=function(Le,r){return function(f,I){r(f,I,Le)}};let Mn=class extends k.JT{constructor(r,f){super(),this.quickInputService=r,this.instantiationService=f,this.registry=qn.B.as(Cs.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(r="",f){this.doShowOrPick(r,!1,f)}doShowOrPick(r,f,I){var ee;const[oe,me]=this.getOrInstantiateProvider(r),Ae=this.visibleQuickAccess,at=Ae==null?void 0:Ae.descriptor;if(Ae&&me&&at===me){r!==me.prefix&&!(I!=null&&I.preserveValue)&&(Ae.picker.value=r),this.adjustValueSelection(Ae.picker,me,I);return}if(me&&!(I!=null&&I.preserveValue)){let yi;if(Ae&&at&&at!==me){const xn=Ae.value.substr(at.prefix.length);xn&&(yi=`${me.prefix}${xn}`)}if(!yi){const xn=oe==null?void 0:oe.defaultFilterValue;xn===Cs.Ry.LAST?yi=this.lastAcceptedPickerValues.get(me):typeof xn=="string"&&(yi=`${me.prefix}${xn}`)}typeof yi=="string"&&(r=yi)}const _t=new k.SL,Rt=_t.add(this.quickInputService.createQuickPick());Rt.value=r,this.adjustValueSelection(Rt,me,I),Rt.placeholder=me==null?void 0:me.placeholder,Rt.quickNavigate=I==null?void 0:I.quickNavigateConfiguration,Rt.hideInput=!!Rt.quickNavigate&&!Ae,(typeof(I==null?void 0:I.itemActivation)=="number"||I!=null&&I.quickNavigateConfiguration)&&(Rt.itemActivation=(ee=I==null?void 0:I.itemActivation)!==null&&ee!==void 0?ee:Es.jG.SECOND),Rt.contextKey=me==null?void 0:me.contextKey,Rt.filterValue=yi=>yi.substring(me?me.prefix.length:0);let Jt;f&&(Jt=new cn.CR,_t.add(De.ju.once(Rt.onWillAccept)(yi=>{yi.veto(),Rt.hide()}))),_t.add(this.registerPickerListeners(Rt,oe,me,r,I==null?void 0:I.providerOptions));const Ti=_t.add(new Mo.A);if(oe&&_t.add(oe.provide(Rt,Ti.token,I==null?void 0:I.providerOptions)),De.ju.once(Rt.onDidHide)(()=>{Rt.selectedItems.length===0&&Ti.cancel(),_t.dispose(),Jt==null||Jt.complete(Rt.selectedItems.slice(0))}),Rt.show(),f)return Jt==null?void 0:Jt.p}adjustValueSelection(r,f,I){var ee;let oe;I!=null&&I.preserveValue?oe=[r.value.length,r.value.length]:oe=[(ee=f==null?void 0:f.prefix.length)!==null&&ee!==void 0?ee:0,r.value.length],r.valueSelection=oe}registerPickerListeners(r,f,I,ee,oe){const me=new k.SL,Ae=this.visibleQuickAccess={picker:r,descriptor:I,value:ee};return me.add((0,k.OF)(()=>{Ae===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),me.add(r.onDidChangeValue(at=>{const[_t]=this.getOrInstantiateProvider(at);_t!==f?this.show(at,{preserveValue:!0,providerOptions:oe}):Ae.value=at})),I&&me.add(r.onDidAccept(()=>{this.lastAcceptedPickerValues.set(I,r.value)})),me}getOrInstantiateProvider(r){const f=this.registry.getQuickAccessProvider(r);if(!f)return[void 0,void 0];let I=this.mapProviderToDescriptor.get(f);return I||(I=this.instantiationService.createInstance(f.ctor),this.mapProviderToDescriptor.set(f,I)),[I,f]}};Mn=Vo([eo(0,Es.eJ),eo(1,xi.TG)],Mn);var Qo=c(84632),Dr=c(74213);const Fr="done",Er="active",wr="infinite",Sr="infinite-long-running",Qs="discrete";class rr extends k.JT{constructor(r,f){super(),this.workedVal=0,this.showDelayedScheduler=this._register(new cn.pY(()=>(0,Ne.$Z)(this.element),0)),this.longRunningScheduler=this._register(new cn.pY(()=>this.infiniteLongRunning(),rr.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(r,f)}create(r,f){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),r.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=(f==null?void 0:f.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(Er,wr,Sr,Qs),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(r){return this.element.classList.add(Fr),this.element.classList.contains(wr)?(this.bit.style.opacity="0",r?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",r?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(Qs,Fr,Sr),this.element.classList.add(Er,wr),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(Sr)}getContainer(){return this.element}}rr.LONG_RUNNING_INFINITE_THRESHOLD=1e4;var $s=c(68641);const yl=Ne.$;class _a extends k.JT{constructor(r,f,I){super(),this.parent=r,this.onKeyDown=oe=>Ne.mu(this.findInput.inputBox.inputElement,Ne.tw.KEY_DOWN,oe),this.onMouseDown=oe=>Ne.mu(this.findInput.inputBox.inputElement,Ne.tw.MOUSE_DOWN,oe),this.onDidChange=oe=>this.findInput.onDidChange(oe),this.container=Ne.R3(this.parent,yl(".quick-input-box")),this.findInput=this._register(new $s.V(this.container,void 0,{label:"",inputBoxStyles:f,toggleStyles:I}));const ee=this.findInput.inputBox.inputElement;ee.role="combobox",ee.ariaHasPopup="menu",ee.ariaAutoComplete="list",ee.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(r){this.findInput.setValue(r)}select(r=null){this.findInput.inputBox.select(r)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(r){this.findInput.inputBox.setPlaceHolder(r)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(r){this.findInput.inputBox.inputElement.type=r?"password":"text"}set enabled(r){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!r)}set toggles(r){this.findInput.setAdditionalToggles(r)}setAttribute(r,f){this.findInput.inputBox.inputElement.setAttribute(r,f)}showDecoration(r){r===Fi.Z.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:r===Fi.Z.Info?1:r===Fi.Z.Warning?2:3,content:""})}stylesForType(r){return this.findInput.inputBox.stylesForType(r===Fi.Z.Info?1:r===Fi.Z.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}var yr=c(87232),ll=c(53762),Ca=c(18796);const Ha=new Ca.o(()=>{const Le=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:Le,collatorIsNumeric:Le.resolvedOptions().numeric}}),vr=new Ca.o(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),ns=new Ca.o(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function ea(Le,r,f=!1){const I=Le||"",ee=r||"",oe=Ha.value.collator.compare(I,ee);return Ha.value.collatorIsNumeric&&oe===0&&I!==ee?I<ee?-1:1:oe}function to(Le,r,f){const I=Le.toLowerCase(),ee=r.toLowerCase(),oe=ua(Le,r,f);if(oe)return oe;const me=I.endsWith(f),Ae=ee.endsWith(f);if(me!==Ae)return me?-1:1;const at=ea(I,ee);return at!==0?at:I.localeCompare(ee)}function ua(Le,r,f){const I=Le.toLowerCase(),ee=r.toLowerCase(),oe=I.startsWith(f),me=ee.startsWith(f);if(oe!==me)return oe?-1:1;if(oe&&me){if(I.length<ee.length)return-1;if(I.length>ee.length)return 1}return 0}var oo=c(62735),Or=c(80707),Ed=c(89227),Sd=c(18286),Ol=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe};class dl{constructor(r){this.nodes=r}toString(){return this.nodes.map(r=>typeof r=="string"?r:r.label).join("")}}Ol([oo.H],dl.prototype,"toString",null);const vd=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function cl(Le){const r=[];let f=0,I;for(;I=vd.exec(Le);){I.index-f>0&&r.push(Le.substring(f,I.index));const[,ee,oe,,me]=I;me?r.push({label:ee,href:oe,title:me}):r.push({label:ee,href:oe}),f=I.index+I[0].length}return f<Le.length&&r.push(Le.substring(f)),new dl(r)}const ul={},Ea=new Sd.R("quick-input-button-icon-");function tr(Le){if(!Le)return;let r;const f=Le.dark.toString();return ul[f]?r=ul[f]:(r=Ea.nextId(),Ne.fk(`.${r}, .hc-light .${r}`,`background-image: ${Ne.wY(Le.light||Le.dark)}`),Ne.fk(`.vs-dark .${r}, .hc-black .${r}`,`background-image: ${Ne.wY(Le.dark)}`),ul[f]=r),r}function ta(Le,r,f){Ne.mc(r);const I=cl(Le);let ee=0;for(const oe of I.nodes)if(typeof oe=="string")r.append(...(0,Ed.T)(oe));else{let me=oe.title;!me&&oe.href.startsWith("command:")?me=(0,hi.NC)("executeCommand","Click to execute command '{0}'",oe.href.substring(8)):me||(me=oe.href);const Ae=Ne.$("a",{href:oe.href,title:me,tabIndex:ee++},oe.label);Ae.style.textDecoration="underline";const at=yi=>{Ne.cl(yi)&&Ne.zB.stop(yi,!0),f.callback(oe.href)},_t=f.disposables.add(new Or.Y(Ae,Ne.tw.CLICK)).event,Rt=f.disposables.add(new Or.Y(Ae,Ne.tw.KEY_DOWN)).event,Jt=De.ju.chain(Rt,yi=>yi.filter(xn=>{const Ls=new pi.y(xn);return Ls.equals(10)||Ls.equals(3)}));f.disposables.add(js.o.addTarget(Ae));const Ti=f.disposables.add(new Or.Y(Ae,js.t.Tap)).event;De.ju.any(_t,Ti,Jt)(at,null,f.disposables),r.appendChild(Ae)}}var Zn=c(34732),Sa=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe};const Jo=Ne.$;class Go{constructor(r,f,I,ee,oe,me,Ae){var at,_t,Rt;this._checked=!1,this._hidden=!1,this.hasCheckbox=ee,this.index=I,this.fireButtonTriggered=oe,this.fireSeparatorButtonTriggered=me,this._onChecked=Ae,this.onChecked=ee?De.ju.map(De.ju.filter(this._onChecked.event,Jt=>Jt.listElement===this),Jt=>Jt.checked):De.ju.None,r.type==="separator"?this._separator=r:(this.item=r,f&&f.type==="separator"&&!f.buttons&&(this._separator=f),this.saneDescription=this.item.description,this.saneDetail=this.item.detail,this._labelHighlights=(at=this.item.highlights)===null||at===void 0?void 0:at.label,this._descriptionHighlights=(_t=this.item.highlights)===null||_t===void 0?void 0:_t.description,this._detailHighlights=(Rt=this.item.highlights)===null||Rt===void 0?void 0:Rt.detail,this.saneTooltip=this.item.tooltip),this._init=new Ca.o(()=>{var Jt;const Ti=(Jt=r.label)!==null&&Jt!==void 0?Jt:"",yi=(0,$n.Ho)(Ti).text.trim(),xn=r.ariaLabel||[Ti,this.saneDescription,this.saneDetail].map(Ls=>(0,$n.JL)(Ls)).filter(Ls=>!!Ls).join(", ");return{saneLabel:Ti,saneSortLabel:yi,saneAriaLabel:xn}})}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(r){this._element=r}get hidden(){return this._hidden}set hidden(r){this._hidden=r}get checked(){return this._checked}set checked(r){r!==this._checked&&(this._checked=r,this._onChecked.fire({listElement:this,checked:r}))}get separator(){return this._separator}set separator(r){this._separator=r}get labelHighlights(){return this._labelHighlights}set labelHighlights(r){this._labelHighlights=r}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(r){this._descriptionHighlights=r}get detailHighlights(){return this._detailHighlights}set detailHighlights(r){this._detailHighlights=r}}class vo{constructor(r){this.themeService=r}get templateId(){return vo.ID}renderTemplate(r){const f=Object.create(null);f.toDisposeElement=[],f.toDisposeTemplate=[],f.entry=Ne.R3(r,Jo(".quick-input-list-entry"));const I=Ne.R3(f.entry,Jo("label.quick-input-list-label"));f.toDisposeTemplate.push(Ne.mu(I,Ne.tw.CLICK,_t=>{f.checkbox.offsetParent||_t.preventDefault()})),f.checkbox=Ne.R3(I,Jo("input.quick-input-list-checkbox")),f.checkbox.type="checkbox",f.toDisposeTemplate.push(Ne.mu(f.checkbox,Ne.tw.CHANGE,_t=>{f.element.checked=f.checkbox.checked}));const ee=Ne.R3(I,Jo(".quick-input-list-rows")),oe=Ne.R3(ee,Jo(".quick-input-list-row")),me=Ne.R3(ee,Jo(".quick-input-list-row"));f.label=new yr.g(oe,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0}),f.toDisposeTemplate.push(f.label),f.icon=Ne.Ce(f.label.element,Jo(".quick-input-list-icon"));const Ae=Ne.R3(oe,Jo(".quick-input-list-entry-keybinding"));f.keybinding=new ll.e(Ae,ii.OS);const at=Ne.R3(me,Jo(".quick-input-list-label-meta"));return f.detail=new yr.g(at,{supportHighlights:!0,supportIcons:!0}),f.toDisposeTemplate.push(f.detail),f.separator=Ne.R3(f.entry,Jo(".quick-input-list-separator")),f.actionBar=new go.o(f.entry),f.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),f.toDisposeTemplate.push(f.actionBar),f}renderElement(r,f,I){var ee,oe,me,Ae;I.element=r,r.element=(ee=I.entry)!==null&&ee!==void 0?ee:void 0;const at=r.item?r.item:r.separator;I.checkbox.checked=r.checked,I.toDisposeElement.push(r.onChecked(xn=>I.checkbox.checked=xn));const{labelHighlights:_t,descriptionHighlights:Rt,detailHighlights:Jt}=r;if(!((oe=r.item)===null||oe===void 0)&&oe.iconPath){const xn=(0,Zn._T)(this.themeService.getColorTheme().type)?r.item.iconPath.dark:(me=r.item.iconPath.light)!==null&&me!==void 0?me:r.item.iconPath.dark,Ls=T.o.revive(xn);I.icon.className="quick-input-list-icon",I.icon.style.backgroundImage=Ne.wY(Ls)}else I.icon.style.backgroundImage="",I.icon.className=!((Ae=r.item)===null||Ae===void 0)&&Ae.iconClass?`quick-input-list-icon ${r.item.iconClass}`:"";const Ti={matches:_t||[],descriptionTitle:r.saneDescription,descriptionMatches:Rt||[],labelEscapeNewLines:!0};at.type!=="separator"?(Ti.extraClasses=at.iconClasses,Ti.italic=at.italic,Ti.strikethrough=at.strikethrough,I.entry.classList.remove("quick-input-list-separator-as-item")):I.entry.classList.add("quick-input-list-separator-as-item"),I.label.setLabel(r.saneLabel,r.saneDescription,Ti),I.keybinding.set(at.type==="separator"?void 0:at.keybinding),r.saneDetail?(I.detail.element.style.display="",I.detail.setLabel(r.saneDetail,void 0,{matches:Jt,title:r.saneDetail,labelEscapeNewLines:!0})):I.detail.element.style.display="none",r.item&&r.separator&&r.separator.label?(I.separator.textContent=r.separator.label,I.separator.style.display=""):I.separator.style.display="none",I.entry.classList.toggle("quick-input-list-separator-border",!!r.separator);const yi=at.buttons;yi&&yi.length?(I.actionBar.push(yi.map((xn,Ls)=>{let Ms=xn.iconClass||(xn.iconPath?tr(xn.iconPath):void 0);return xn.alwaysVisible&&(Ms=Ms?`${Ms} always-visible`:"always-visible"),{id:`id-${Ls}`,class:Ms,enabled:!0,label:"",tooltip:xn.tooltip||"",run:()=>{at.type!=="separator"?r.fireButtonTriggered({button:xn,item:at}):r.fireSeparatorButtonTriggered({button:xn,separator:at})}}}),{icon:!0,label:!1}),I.entry.classList.add("has-actions")):I.entry.classList.remove("has-actions")}disposeElement(r,f,I){I.toDisposeElement=(0,k.B9)(I.toDisposeElement),I.actionBar.clear()}disposeTemplate(r){r.toDisposeElement=(0,k.B9)(r.toDisposeElement),r.toDisposeTemplate=(0,k.B9)(r.toDisposeTemplate)}}vo.ID="listelement";class hl{getHeight(r){return r.item?r.saneDetail?44:22:24}getTemplateId(r){return vo.ID}}var mo;(function(Le){Le[Le.First=1]="First",Le[Le.Second=2]="Second",Le[Le.Last=3]="Last",Le[Le.Next=4]="Next",Le[Le.Previous=5]="Previous",Le[Le.NextPage=6]="NextPage",Le[Le.PreviousPage=7]="PreviousPage"})(mo||(mo={}));class ia{constructor(r,f,I,ee){this.parent=r,this.options=I,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.sortByLabel=!0,this._onChangedAllVisibleChecked=new De.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new De.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new De.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new De.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new De.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new De.Q5,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new De.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new De.Q5,this.onLeave=this._onLeave.event,this._listElementChecked=new De.Q5,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=f,this.container=Ne.R3(this.parent,Jo(".quick-input-list"));const oe=new hl,me=new va;if(this.list=I.createList("QuickInput",this.container,oe,[new vo(ee)],{identityProvider:{getId:Ae=>{var at,_t,Rt,Jt,Ti,yi,xn,Ls;return(Ls=(yi=(Jt=(_t=(at=Ae.item)===null||at===void 0?void 0:at.id)!==null&&_t!==void 0?_t:(Rt=Ae.item)===null||Rt===void 0?void 0:Rt.label)!==null&&Jt!==void 0?Jt:(Ti=Ae.separator)===null||Ti===void 0?void 0:Ti.id)!==null&&yi!==void 0?yi:(xn=Ae.separator)===null||xn===void 0?void 0:xn.label)!==null&&Ls!==void 0?Ls:""}},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:me}),this.list.getHTMLElement().id=f,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(Ae=>{const at=new pi.y(Ae);switch(at.keyCode){case 10:this.toggleCheckbox();break;case 31:(ii.dz?Ae.metaKey:Ae.ctrlKey)&&this.list.setFocus((0,zt.w6)(this.list.length));break;case 16:{const _t=this.list.getFocus();_t.length===1&&_t[0]===0&&this._onLeave.fire();break}case 18:{const _t=this.list.getFocus();_t.length===1&&_t[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(at)})),this.disposables.push(this.list.onMouseDown(Ae=>{Ae.browserEvent.button!==2&&Ae.browserEvent.preventDefault()})),this.disposables.push(Ne.nm(this.container,Ne.tw.CLICK,Ae=>{(Ae.x||Ae.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(Ae=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(Ae=>{typeof Ae.index=="number"&&(Ae.browserEvent.preventDefault(),this.list.setSelection([Ae.index]))})),I.hoverDelegate){const Ae=new cn.rH(I.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver(at=>At(this,null,function*(){var _t;if(at.browserEvent.target instanceof HTMLAnchorElement){Ae.cancel();return}if(!(!(at.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&Ne.jg(at.browserEvent.relatedTarget,(_t=at.element)===null||_t===void 0?void 0:_t.element)))try{yield Ae.trigger(()=>At(this,null,function*(){at.element&&this.showHover(at.element)}))}catch(Rt){if(!(0,Ri.n2)(Rt))throw Rt}}))),this.disposables.push(this.list.onMouseOut(at=>{var _t;Ne.jg(at.browserEvent.relatedTarget,(_t=at.element)===null||_t===void 0?void 0:_t.element)||Ae.cancel()})),this.disposables.push(Ae)}this.disposables.push(this._listElementChecked.event(Ae=>this.fireCheckedEvents())),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return De.ju.map(this.list.onDidChangeFocus,r=>r.elements.map(f=>f.item))}get onDidChangeSelection(){return De.ju.map(this.list.onDidChangeSelection,r=>({items:r.elements.map(f=>f.item),event:r.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(r){this.list.scrollTop=r}get ariaLabel(){return this.list.getHTMLElement().ariaLabel}set ariaLabel(r){this.list.getHTMLElement().ariaLabel=r}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(r,f=!0){for(let I=0,ee=r.length;I<ee;I++){const oe=r[I];if(!oe.hidden)if(oe.checked)f=!0;else return!1}return f}getCheckedCount(){let r=0;const f=this.elements;for(let I=0,ee=f.length;I<ee;I++)f[I].checked&&r++;return r}getVisibleCount(){let r=0;const f=this.elements;for(let I=0,ee=f.length;I<ee;I++)f[I].hidden||r++;return r}setAllVisibleChecked(r){try{this._fireCheckedEvents=!1,this.elements.forEach(f=>{f.hidden||(f.checked=r)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(r){this.elementDisposables=(0,k.B9)(this.elementDisposables);const f=me=>this.fireButtonTriggered(me),I=me=>this.fireSeparatorButtonTriggered(me);this.inputElements=r;const ee=new Map,oe=this.parent.classList.contains("show-checkboxes");this.elements=r.reduce((me,Ae,at)=>{var _t;const Rt=at>0?r[at-1]:void 0;if(Ae.type==="separator"&&!Ae.buttons)return me;const Jt=new Go(Ae,Rt,at,oe,f,I,this._listElementChecked),Ti=me.length;return me.push(Jt),ee.set((_t=Jt.item)!==null&&_t!==void 0?_t:Jt.separator,Ti),me},[]),this.elementsToIndexes=ee,this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(r=>r.item)}setFocusedElements(r){if(this.list.setFocus(r.filter(f=>this.elementsToIndexes.has(f)).map(f=>this.elementsToIndexes.get(f))),r.length>0){const f=this.list.getFocus()[0];typeof f=="number"&&this.list.reveal(f)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(r){this.list.setSelection(r.filter(f=>this.elementsToIndexes.has(f)).map(f=>this.elementsToIndexes.get(f)))}getCheckedElements(){return this.elements.filter(r=>r.checked).map(r=>r.item).filter(r=>!!r)}setCheckedElements(r){try{this._fireCheckedEvents=!1;const f=new Set;for(const I of r)f.add(I);for(const I of this.elements)I.checked=f.has(I.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(r){this.list.getHTMLElement().style.pointerEvents=r?"":"none"}focus(r){if(!this.list.length)return;switch(r===mo.Second&&this.list.length<2&&(r=mo.First),r){case mo.First:this.list.scrollTop=0,this.list.focusFirst(void 0,I=>!!I.item);break;case mo.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,I=>!!I.item);break;case mo.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,I=>!!I.item);break;case mo.Next:{this.list.focusNext(void 0,!0,void 0,ee=>!!ee.item);const I=this.list.getFocus()[0];I!==0&&!this.elements[I-1].item&&this.list.firstVisibleIndex>I-1&&this.list.reveal(I-1);break}case mo.Previous:{this.list.focusPrevious(void 0,!0,void 0,ee=>!!ee.item);const I=this.list.getFocus()[0];I!==0&&!this.elements[I-1].item&&this.list.firstVisibleIndex>I-1&&this.list.reveal(I-1);break}case mo.NextPage:this.list.focusNextPage(void 0,I=>!!I.item);break;case mo.PreviousPage:this.list.focusPreviousPage(void 0,I=>!!I.item);break}const f=this.list.getFocus()[0];typeof f=="number"&&this.list.reveal(f)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}showHover(r){var f,I,ee;this.options.hoverDelegate!==void 0&&(this._lastHover&&!this._lastHover.isDisposed&&((I=(f=this.options.hoverDelegate).onDidHideHover)===null||I===void 0||I.call(f),(ee=this._lastHover)===null||ee===void 0||ee.dispose()),!(!r.element||!r.saneTooltip)&&(this._lastHover=this.options.hoverDelegate.showHover({content:r.saneTooltip,target:r.element,linkHandler:oe=>{this.options.linkOpenerDelegate(oe)},appearance:{showPointer:!0},container:this.container,position:{hoverPosition:1}},!1)))}layout(r){this.list.getHTMLElement().style.maxHeight=r?`${Math.floor(r/44)*44+6}px`:"",this.list.layout()}filter(r){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const f=r;if(r=r.trim(),!r||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(ee=>{ee.labelHighlights=void 0,ee.descriptionHighlights=void 0,ee.detailHighlights=void 0,ee.hidden=!1;const oe=ee.index&&this.inputElements[ee.index-1];ee.item&&(ee.separator=oe&&oe.type==="separator"&&!oe.buttons?oe:void 0)});else{let ee;this.elements.forEach(oe=>{var me,Ae,at,_t;let Rt;this.matchOnLabelMode==="fuzzy"?Rt=this.matchOnLabel&&(me=(0,$n.Gt)(r,(0,$n.Ho)(oe.saneLabel)))!==null&&me!==void 0?me:void 0:Rt=this.matchOnLabel&&(Ae=Ua(f,(0,$n.Ho)(oe.saneLabel)))!==null&&Ae!==void 0?Ae:void 0;const Jt=this.matchOnDescription&&(at=(0,$n.Gt)(r,(0,$n.Ho)(oe.saneDescription||"")))!==null&&at!==void 0?at:void 0,Ti=this.matchOnDetail&&(_t=(0,$n.Gt)(r,(0,$n.Ho)(oe.saneDetail||"")))!==null&&_t!==void 0?_t:void 0;if(Rt||Jt||Ti?(oe.labelHighlights=Rt,oe.descriptionHighlights=Jt,oe.detailHighlights=Ti,oe.hidden=!1):(oe.labelHighlights=void 0,oe.descriptionHighlights=void 0,oe.detailHighlights=void 0,oe.hidden=oe.item?!oe.item.alwaysShow:!0),oe.item?oe.separator=void 0:oe.separator&&(oe.hidden=!0),!this.sortByLabel){const yi=oe.index&&this.inputElements[oe.index-1];ee=yi&&yi.type==="separator"?yi:ee,ee&&!oe.hidden&&(oe.separator=ee,ee=void 0)}})}const I=this.elements.filter(ee=>!ee.hidden);if(this.sortByLabel&&r){const ee=r.toLowerCase();I.sort((oe,me)=>Va(oe,me,ee))}return this.elementsToIndexes=I.reduce((ee,oe,me)=>{var Ae;return ee.set((Ae=oe.item)!==null&&Ae!==void 0?Ae:oe.separator,me),ee},new Map),this.list.splice(0,this.list.length,I),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(I.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const r=this.list.getFocusedElements(),f=this.allVisibleChecked(r);for(const I of r)I.checked=!f}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(r){this.container.style.display=r?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,k.B9)(this.elementDisposables),this.disposables=(0,k.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(r){this._onButtonTriggered.fire(r)}fireSeparatorButtonTriggered(r){this._onSeparatorButtonTriggered.fire(r)}style(r){this.list.style(r)}toggleHover(){const r=this.list.getFocusedElements()[0];if(!(r!=null&&r.saneTooltip))return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}const f=this.list.getFocusedElements()[0];if(!f)return;this.showHover(f);const I=new k.SL;I.add(this.list.onDidChangeFocus(ee=>{ee.indexes.length&&this.showHover(ee.elements[0])})),this._lastHover&&I.add(this._lastHover),this._toggleHover=I,this.elementDisposables.push(this._toggleHover)}}Sa([oo.H],ia.prototype,"onDidChangeFocus",null),Sa([oo.H],ia.prototype,"onDidChangeSelection",null);function Ua(Le,r){const{text:f,iconOffsets:I}=r;if(!I||I.length===0)return fl(Le,f);const ee=(0,L.j3)(f," "),oe=f.length-ee.length,me=fl(Le,ee);if(me)for(const Ae of me){const at=I[Ae.start+oe]+oe;Ae.start+=at,Ae.end+=at}return me}function fl(Le,r){const f=r.toLowerCase().indexOf(Le.toLowerCase());return f!==-1?[{start:f,end:f+Le.length}]:null}function Va(Le,r,f){const I=Le.labelHighlights||[],ee=r.labelHighlights||[];return I.length&&!ee.length?-1:!I.length&&ee.length?1:I.length===0&&ee.length===0?0:to(Le.saneSortLabel,r.saneSortLabel,f)}class va{getWidgetAriaLabel(){return(0,hi.NC)("quickInput","Quick Input")}getAriaLabel(r){var f;return!((f=r.separator)===null||f===void 0)&&f.label?`${r.saneAriaLabel}, ${r.separator.label}`:r.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(r){return r.hasCheckbox?"checkbox":"option"}isChecked(r){if(r.hasCheckbox)return{value:r.checked,onDidChange:r.onChecked}}}var Pl=c(94225);const Br={iconClass:rs.k.asClassName(Ts.l.quickInputBack),tooltip:(0,hi.NC)("quickInput.back","Back"),handle:-1};class Wr extends k.JT{constructor(r){super(),this.ui=r,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=Wr.noPromptMessage,this._severity=Fi.Z.Ignore,this.onDidTriggerButtonEmitter=this._register(new De.Q5),this.onDidHideEmitter=this._register(new De.Q5),this.onDisposeEmitter=this._register(new De.Q5),this.visibleDisposables=this._register(new k.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(r){this._title=r,this.update()}get description(){return this._description}set description(r){this._description=r,this.update()}get step(){return this._steps}set step(r){this._steps=r,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(r){this._totalSteps=r,this.update()}get enabled(){return this._enabled}set enabled(r){this._enabled=r,this.update()}get contextKey(){return this._contextKey}set contextKey(r){this._contextKey=r,this.update()}get busy(){return this._busy}set busy(r){this._busy=r,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(r){const f=this._ignoreFocusOut!==r&&!ii.gn;this._ignoreFocusOut=r&&!ii.gn,f&&this.update()}get buttons(){return this._buttons}set buttons(r){this._buttons=r,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(r){this._toggles=r!=null?r:[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(r){this._validationMessage=r,this.update()}get severity(){return this._severity}set severity(r){this._severity=r,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(r=>{this.buttons.indexOf(r)!==-1&&this.onDidTriggerButtonEmitter.fire(r)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(r=Es.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:r})}update(){var r,f;if(!this.visible)return;const I=this.getTitle();I&&this.ui.title.textContent!==I?this.ui.title.textContent=I:!I&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const ee=this.getDescription();if(this.ui.description1.textContent!==ee&&(this.ui.description1.textContent=ee),this.ui.description2.textContent!==ee&&(this.ui.description2.textContent=ee),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?Ne.mc(this.ui.widget,this._widget):Ne.mc(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new cn._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const me=this.buttons.filter(at=>at===Br);this.ui.leftActionBar.push(me.map((at,_t)=>{const Rt=new Wi.aU(`id-${_t}`,"",at.iconClass||tr(at.iconPath),!0,()=>At(this,null,function*(){this.onDidTriggerButtonEmitter.fire(at)}));return Rt.tooltip=at.tooltip||"",Rt}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const Ae=this.buttons.filter(at=>at!==Br);this.ui.rightActionBar.push(Ae.map((at,_t)=>{const Rt=new Wi.aU(`id-${_t}`,"",at.iconClass||tr(at.iconPath),!0,()=>At(this,null,function*(){this.onDidTriggerButtonEmitter.fire(at)}));return Rt.tooltip=at.tooltip||"",Rt}),{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const me=(f=(r=this.toggles)===null||r===void 0?void 0:r.filter(Ae=>Ae instanceof Pl.Z))!==null&&f!==void 0?f:[];this.ui.inputBox.toggles=me}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const oe=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==oe&&(this._lastValidationMessage=oe,Ne.mc(this.ui.message),ta(oe,this.ui.message,{callback:me=>{this.ui.linkOpenerDelegate(me)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,hi.NC)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(r){if(this.ui.inputBox.showDecoration(r),r!==Fi.Z.Ignore){const f=this.ui.inputBox.stylesForType(r);this.ui.message.style.color=f.foreground?`${f.foreground}`:"",this.ui.message.style.backgroundColor=f.background?`${f.background}`:"",this.ui.message.style.border=f.border?`1px solid ${f.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}Wr.noPromptMessage=(0,hi.NC)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class Me extends Wr{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new De.Q5),this.onWillAcceptEmitter=this._register(new De.Q5),this.onDidAcceptEmitter=this._register(new De.Q5),this.onDidCustomEmitter=this._register(new De.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=Es.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new De.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new De.Q5),this.onDidTriggerItemButtonEmitter=this._register(new De.Q5),this.onDidTriggerSeparatorButtonEmitter=this._register(new De.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=r=>r,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(r){this._quickNavigate=r,this.update()}get value(){return this._value}set value(r){this.doSetValue(r)}doSetValue(r,f){this._value!==r&&(this._value=r,f||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(r){this._ariaLabel=r,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(r){this._placeholder=r,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(r){this.ui.list.scrollTop=r}set items(r){this._items=r,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(r){this._canSelectMany=r,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(r){this._canAcceptInBackground=r}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(r){this._matchOnDescription=r,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(r){this._matchOnDetail=r,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(r){this._matchOnLabel=r,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(r){this._matchOnLabelMode=r,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(r){this._sortByLabel=r,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(r){this._autoFocusOnList=r,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(r){this._keepScrollPosition=r}get itemActivation(){return this._itemActivation}set itemActivation(r){this._itemActivation=r}get activeItems(){return this._activeItems}set activeItems(r){this._activeItems=r,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(r){this._selectedItems=r,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?Es.X5:this.ui.keyMods}set valueSelection(r){this._valueSelection=r,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(r){this._customButton=r,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(r){this._customButtonLabel=r,this.update()}get customHover(){return this._customButtonHover}set customHover(r){this._customButtonHover=r,this.update()}get ok(){return this._ok}set ok(r){this._ok=r,this.update()}get hideInput(){return!!this._hideInput}set hideInput(r){this._hideInput=r,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(mo.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(r=>{this.doSetValue(r,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(r=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(r=>{switch(r.keyCode){case 18:this.ui.list.focus(mo.Next),this.canSelectMany&&this.ui.list.domFocus(),Ne.zB.stop(r,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(mo.Previous):this.ui.list.focus(mo.Last),this.canSelectMany&&this.ui.list.domFocus(),Ne.zB.stop(r,!0);break;case 12:this.ui.list.focus(mo.NextPage),this.canSelectMany&&this.ui.list.domFocus(),Ne.zB.stop(r,!0);break;case 11:this.ui.list.focus(mo.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),Ne.zB.stop(r,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(r.ctrlKey||r.metaKey)&&!r.shiftKey&&!r.altKey&&(this.ui.list.focus(mo.First),Ne.zB.stop(r,!0));break;case 13:(r.ctrlKey||r.metaKey)&&!r.shiftKey&&!r.altKey&&(this.ui.list.focus(mo.Last),Ne.zB.stop(r,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(r=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,zt.fS)(r,this._activeItems,(f,I)=>f===I)||(this._activeItems=r,this.onDidChangeActiveEmitter.fire(r))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:r,event:f})=>{if(this.canSelectMany){r.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,zt.fS)(r,this._selectedItems,(I,ee)=>I===ee)||(this._selectedItems=r,this.onDidChangeSelectionEmitter.fire(r),r.length&&this.handleAccept(Ne.N5(f)&&f.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(r=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,zt.fS)(r,this._selectedItems,(f,I)=>f===I)||(this._selectedItems=r,this.onDidChangeSelectionEmitter.fire(r)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(r=>this.onDidTriggerItemButtonEmitter.fire(r))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(r=>this.onDidTriggerSeparatorButtonEmitter.fire(r))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(r){let f=!1;this.onWillAcceptEmitter.fire({veto:()=>f=!0}),f||this.onDidAcceptEmitter.fire({inBackground:r})}registerQuickNavigation(){return Ne.nm(this.ui.container,Ne.tw.KEY_UP,r=>{if(this.canSelectMany||!this._quickNavigate)return;const f=new pi.y(r),I=f.keyCode;this._quickNavigate.keybindings.some(me=>{const Ae=me.getChords();return Ae.length>1?!1:Ae[0].shiftKey&&I===4?!(f.ctrlKey||f.altKey||f.metaKey):!!(Ae[0].altKey&&I===6||Ae[0].ctrlKey&&I===5||Ae[0].metaKey&&I===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const r=this.keepScrollPosition?this.scrollTop:0,f=!!this.description,I={title:!!this.title||!!this.step||!!this.buttons.length,description:f,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||f,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(I),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let ee=this.ariaLabel;if(!ee&&I.inputBox&&(ee=this.placeholder||Me.DEFAULT_ARIA_LABEL,this.title&&(ee+=` - ${this.title}`)),this.ui.list.ariaLabel!==ee&&(this.ui.list.ariaLabel=ee!=null?ee:null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Es.jG.NONE:this._itemActivation=Es.jG.FIRST;break;case Es.jG.SECOND:this.ui.list.focus(mo.Second),this._itemActivation=Es.jG.FIRST;break;case Es.jG.LAST:this.ui.list.focus(mo.Last),this._itemActivation=Es.jG.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",I.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(mo.First)),this.keepScrollPosition&&(this.scrollTop=r)}}Me.DEFAULT_ARIA_LABEL=(0,hi.NC)("quickInputBox.ariaLabel","Type to narrow down results.");class nt extends Wr{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new De.Q5),this.onDidAcceptEmitter=this._register(new De.Q5),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(r){this._value=r||"",this.update()}get placeholder(){return this._placeholder}set placeholder(r){this._placeholder=r,this.update()}get password(){return this._password}set password(r){this._password=r,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(r=>{r!==this.value&&(this._value=r,this.onDidValueChangeEmitter.fire(r))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const r={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(r),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}const oi=Ne.$;class Yi extends k.JT{constructor(r,f,I){super(),this.options=r,this.themeService=f,this.layoutService=I,this.enabled=!0,this.onDidAcceptEmitter=this._register(new De.Q5),this.onDidCustomEmitter=this._register(new De.Q5),this.onDidTriggerButtonEmitter=this._register(new De.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new De.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new De.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=r.idPrefix,this.parentElement=r.container,this.styles=r.styles,this._register(De.ju.runAndSubscribe(Ne.Xo,({window:ee,disposables:oe})=>this.registerKeyModsListeners(ee,oe),{window:v.Ex,disposables:this._store})),this._register(Ne.Jc(ee=>{this.ui&&Ne.Jj(this.ui.container)===ee&&this.reparentUI(this.layoutService.mainContainer)}))}registerKeyModsListeners(r,f){const I=ee=>{this.keyMods.ctrlCmd=ee.ctrlKey||ee.metaKey,this.keyMods.alt=ee.altKey};for(const ee of[Ne.tw.KEY_DOWN,Ne.tw.KEY_UP,Ne.tw.MOUSE_DOWN])f.add(Ne.nm(r,ee,I,!0))}getUI(r){if(this.ui)return r&&this.parentElement.ownerDocument!==this.layoutService.activeContainer.ownerDocument&&this.reparentUI(this.layoutService.activeContainer),this.ui;const f=Ne.R3(this.parentElement,oi(".quick-input-widget.show-file-icons"));f.tabIndex=-1,f.style.display="none";const I=Ne.dS(f),ee=Ne.R3(f,oi(".quick-input-titlebar")),oe=this.options.hoverDelegate?{hoverDelegate:this.options.hoverDelegate}:void 0,me=this._register(new go.o(ee,oe));me.domNode.classList.add("quick-input-left-action-bar");const Ae=Ne.R3(ee,oi(".quick-input-title")),at=this._register(new go.o(ee,oe));at.domNode.classList.add("quick-input-right-action-bar");const _t=Ne.R3(f,oi(".quick-input-header")),Rt=Ne.R3(_t,oi("input.quick-input-check-all"));Rt.type="checkbox",Rt.setAttribute("aria-label",(0,hi.NC)("quickInput.checkAll","Toggle all checkboxes")),this._register(Ne.mu(Rt,Ne.tw.CHANGE,es=>{const aa=Rt.checked;zr.setAllVisibleChecked(aa)})),this._register(Ne.nm(Rt,Ne.tw.CLICK,es=>{(es.x||es.y)&&xn.setFocus()}));const Jt=Ne.R3(_t,oi(".quick-input-description")),Ti=Ne.R3(_t,oi(".quick-input-and-message")),yi=Ne.R3(Ti,oi(".quick-input-filter")),xn=this._register(new _a(yi,this.styles.inputBox,this.styles.toggle));xn.setAttribute("aria-describedby",`${this.idPrefix}message`);const Ls=Ne.R3(yi,oi(".quick-input-visible-count"));Ls.setAttribute("aria-live","polite"),Ls.setAttribute("aria-atomic","true");const Ms=new Dr.Z(Ls,{countFormat:(0,hi.NC)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),Po=Ne.R3(yi,oi(".quick-input-count"));Po.setAttribute("aria-live","polite");const qs=new Dr.Z(Po,{countFormat:(0,hi.NC)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),ws=Ne.R3(_t,oi(".quick-input-action")),_s=this._register(new Qo.z(ws,this.styles.button));_s.label=(0,hi.NC)("ok","OK"),this._register(_s.onDidClick(es=>{this.onDidAcceptEmitter.fire()}));const Lr=Ne.R3(_t,oi(".quick-input-action")),ra=this._register(new Qo.z(Lr,this.styles.button));ra.label=(0,hi.NC)("custom","Custom"),this._register(ra.onDidClick(es=>{this.onDidCustomEmitter.fire()}));const Fo=Ne.R3(Ti,oi(`#${this.idPrefix}message.quick-input-message`)),Vn=this._register(new rr(f,this.styles.progressBar));Vn.getContainer().classList.add("quick-input-progress");const xs=Ne.R3(f,oi(".quick-input-html-widget"));xs.tabIndex=-1;const Bo=Ne.R3(f,oi(".quick-input-description")),Pr=this.idPrefix+"list",zr=this._register(new ia(f,Pr,this.options,this.themeService));xn.setAttribute("aria-controls",Pr),this._register(zr.onDidChangeFocus(()=>{var es;xn.setAttribute("aria-activedescendant",(es=zr.getActiveDescendant())!==null&&es!==void 0?es:"")})),this._register(zr.onChangedAllVisibleChecked(es=>{Rt.checked=es})),this._register(zr.onChangedVisibleCount(es=>{Ms.setCount(es)})),this._register(zr.onChangedCheckedCount(es=>{qs.setCount(es)})),this._register(zr.onLeave(()=>{setTimeout(()=>{xn.setFocus(),this.controller instanceof Me&&this.controller.canSelectMany&&zr.clearFocus()},0)}));const xc=Ne.go(f);return this._register(xc),this._register(Ne.nm(f,Ne.tw.FOCUS,es=>{Ne.jg(es.relatedTarget,f)||(this.previousFocusElement=es.relatedTarget instanceof HTMLElement?es.relatedTarget:void 0)},!0)),this._register(xc.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(Es.Jq.Blur),this.previousFocusElement=void 0})),this._register(Ne.nm(f,Ne.tw.FOCUS,es=>{xn.setFocus()})),this._register(Ne.mu(f,Ne.tw.KEY_DOWN,es=>{if(!Ne.jg(es.target,xs))switch(es.keyCode){case 3:Ne.zB.stop(es,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:Ne.zB.stop(es,!0),this.hide(Es.Jq.Gesture);break;case 2:if(!es.altKey&&!es.ctrlKey&&!es.metaKey){const aa=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(f.classList.contains("show-checkboxes")?aa.push("input"):aa.push("input[type=text]"),this.getUI().list.isDisplayed()&&aa.push(".monaco-list"),this.getUI().message&&aa.push(".quick-input-message a"),this.getUI().widget){if(Ne.jg(es.target,this.getUI().widget))break;aa.push(".quick-input-html-widget")}const $l=f.querySelectorAll(aa.join(", "));es.shiftKey&&es.target===$l[0]?(Ne.zB.stop(es,!0),zr.clearFocus()):!es.shiftKey&&Ne.jg(es.target,$l[$l.length-1])&&(Ne.zB.stop(es,!0),$l[0].focus())}break;case 10:es.ctrlKey&&(Ne.zB.stop(es,!0),this.getUI().list.toggleHover());break}})),this.ui={container:f,styleSheet:I,leftActionBar:me,titleBar:ee,title:Ae,description1:Bo,description2:Jt,widget:xs,rightActionBar:at,checkAll:Rt,inputContainer:Ti,filterContainer:yi,inputBox:xn,visibleCountContainer:Ls,visibleCount:Ms,countContainer:Po,count:qs,okContainer:ws,ok:_s,message:Fo,customButtonContainer:Lr,customButton:ra,list:zr,progressBar:Vn,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:es=>this.show(es),hide:()=>this.hide(),setVisibilities:es=>this.setVisibilities(es),setEnabled:es=>this.setEnabled(es),setContextKey:es=>this.options.setContextKey(es),linkOpenerDelegate:es=>this.options.linkOpenerDelegate(es)},this.updateStyles(),this.ui}reparentUI(r){this.ui&&(this.parentElement=r,Ne.R3(this.parentElement,this.ui.container))}pick(r,f={},I=Mo.T.None){return new Promise((ee,oe)=>{let me=Rt=>{var Jt;me=ee,(Jt=f.onKeyMods)===null||Jt===void 0||Jt.call(f,Ae.keyMods),ee(Rt)};if(I.isCancellationRequested){me(void 0);return}const Ae=this.createQuickPick();let at;const _t=[Ae,Ae.onDidAccept(()=>{if(Ae.canSelectMany)me(Ae.selectedItems.slice()),Ae.hide();else{const Rt=Ae.activeItems[0];Rt&&(me(Rt),Ae.hide())}}),Ae.onDidChangeActive(Rt=>{const Jt=Rt[0];Jt&&f.onDidFocus&&f.onDidFocus(Jt)}),Ae.onDidChangeSelection(Rt=>{if(!Ae.canSelectMany){const Jt=Rt[0];Jt&&(me(Jt),Ae.hide())}}),Ae.onDidTriggerItemButton(Rt=>f.onDidTriggerItemButton&&f.onDidTriggerItemButton(sn(Di({},Rt),{removeItem:()=>{const Jt=Ae.items.indexOf(Rt.item);if(Jt!==-1){const Ti=Ae.items.slice(),yi=Ti.splice(Jt,1),xn=Ae.activeItems.filter(Ms=>Ms!==yi[0]),Ls=Ae.keepScrollPosition;Ae.keepScrollPosition=!0,Ae.items=Ti,xn&&(Ae.activeItems=xn),Ae.keepScrollPosition=Ls}}}))),Ae.onDidTriggerSeparatorButton(Rt=>{var Jt;return(Jt=f.onDidTriggerSeparatorButton)===null||Jt===void 0?void 0:Jt.call(f,Rt)}),Ae.onDidChangeValue(Rt=>{at&&!Rt&&(Ae.activeItems.length!==1||Ae.activeItems[0]!==at)&&(Ae.activeItems=[at])}),I.onCancellationRequested(()=>{Ae.hide()}),Ae.onDidHide(()=>{(0,k.B9)(_t),me(void 0)})];Ae.title=f.title,Ae.canSelectMany=!!f.canPickMany,Ae.placeholder=f.placeHolder,Ae.ignoreFocusOut=!!f.ignoreFocusLost,Ae.matchOnDescription=!!f.matchOnDescription,Ae.matchOnDetail=!!f.matchOnDetail,Ae.matchOnLabel=f.matchOnLabel===void 0||f.matchOnLabel,Ae.autoFocusOnList=f.autoFocusOnList===void 0||f.autoFocusOnList,Ae.quickNavigate=f.quickNavigate,Ae.hideInput=!!f.hideInput,Ae.contextKey=f.contextKey,Ae.busy=!0,Promise.all([r,f.activeItem]).then(([Rt,Jt])=>{at=Jt,Ae.busy=!1,Ae.items=Rt,Ae.canSelectMany&&(Ae.selectedItems=Rt.filter(Ti=>Ti.type!=="separator"&&Ti.picked)),at&&(Ae.activeItems=[at])}),Ae.show(),Promise.resolve(r).then(void 0,Rt=>{oe(Rt),Ae.hide()})})}createQuickPick(){const r=this.getUI(!0);return new Me(r)}createInputBox(){const r=this.getUI(!0);return new nt(r)}show(r){const f=this.getUI(!0);this.onShowEmitter.fire();const I=this.controller;this.controller=r,I==null||I.didHide(),this.setEnabled(!0),f.leftActionBar.clear(),f.title.textContent="",f.description1.textContent="",f.description2.textContent="",Ne.mc(f.widget),f.rightActionBar.clear(),f.checkAll.checked=!1,f.inputBox.placeholder="",f.inputBox.password=!1,f.inputBox.showDecoration(Fi.Z.Ignore),f.visibleCount.setCount(0),f.count.setCount(0),Ne.mc(f.message),f.progressBar.stop(),f.list.setElements([]),f.list.matchOnDescription=!1,f.list.matchOnDetail=!1,f.list.matchOnLabel=!0,f.list.sortByLabel=!0,f.ignoreFocusOut=!1,f.inputBox.toggles=void 0;const ee=this.options.backKeybindingLabel();Br.tooltip=ee?(0,hi.NC)("quickInput.backWithKeybinding","Back ({0})",ee):(0,hi.NC)("quickInput.back","Back"),f.container.style.display="",this.updateLayout(),f.inputBox.setFocus()}isVisible(){return!!this.ui&&this.ui.container.style.display!=="none"}setVisibilities(r){const f=this.getUI();f.title.style.display=r.title?"":"none",f.description1.style.display=r.description&&(r.inputBox||r.checkAll)?"":"none",f.description2.style.display=r.description&&!(r.inputBox||r.checkAll)?"":"none",f.checkAll.style.display=r.checkAll?"":"none",f.inputContainer.style.display=r.inputBox?"":"none",f.filterContainer.style.display=r.inputBox?"":"none",f.visibleCountContainer.style.display=r.visibleCount?"":"none",f.countContainer.style.display=r.count?"":"none",f.okContainer.style.display=r.ok?"":"none",f.customButtonContainer.style.display=r.customButton?"":"none",f.message.style.display=r.message?"":"none",f.progressBar.getContainer().style.display=r.progressBar?"":"none",f.list.display(!!r.list),f.container.classList.toggle("show-checkboxes",!!r.checkBox),f.container.classList.toggle("hidden-input",!r.inputBox&&!r.description),this.updateLayout()}setEnabled(r){if(r!==this.enabled){this.enabled=r;for(const f of this.getUI().leftActionBar.viewItems)f.action.enabled=r;for(const f of this.getUI().rightActionBar.viewItems)f.action.enabled=r;this.getUI().checkAll.disabled=!r,this.getUI().inputBox.enabled=r,this.getUI().ok.enabled=r,this.getUI().list.enabled=r}}hide(r){var f,I;const ee=this.controller;if(!ee)return;const oe=(f=this.ui)===null||f===void 0?void 0:f.container,me=oe&&!Ne.b5(oe);if(this.controller=null,this.onHideEmitter.fire(),oe&&(oe.style.display="none"),!me){let Ae=this.previousFocusElement;for(;Ae&&!Ae.offsetParent;)Ae=(I=Ae.parentElement)!==null&&I!==void 0?I:void 0;Ae!=null&&Ae.offsetParent?(Ae.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}ee.didHide(r)}layout(r,f){this.dimension=r,this.titleBarOffset=f,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;const r=this.ui.container.style,f=Math.min(this.dimension.width*.62,Yi.MAX_WIDTH);r.width=f+"px",r.marginLeft="-"+f/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(r){this.styles=r,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:r,quickInputBackground:f,quickInputForeground:I,widgetBorder:ee,widgetShadow:oe}=this.styles.widget;this.ui.titleBar.style.backgroundColor=r!=null?r:"",this.ui.container.style.backgroundColor=f!=null?f:"",this.ui.container.style.color=I!=null?I:"",this.ui.container.style.border=ee?`1px solid ${ee}`:"",this.ui.container.style.boxShadow=oe?`0 0 8px 2px ${oe}`:"",this.ui.list.style(this.styles.list);const me=[];this.styles.pickerGroup.pickerGroupBorder&&me.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&me.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&me.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(me.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&me.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&me.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&me.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&me.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&me.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),me.push("}"));const Ae=me.join(`
`);Ae!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=Ae)}}}Yi.MAX_WIDTH=600;var is=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},Os=function(Le,r){return function(f,I){r(f,I,Le)}};let Js=class extends Ve.bB{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(Mn))),this._quickAccess}constructor(r,f,I,ee){super(I),this.instantiationService=r,this.contextKeyService=f,this.layoutService=ee,this._onShow=this._register(new De.Q5),this._onHide=this._register(new De.Q5),this.contexts=new Map}createController(r=this.layoutService,f){const I={idPrefix:"quickInput_",container:r.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:oe=>this.setContextKey(oe),linkOpenerDelegate:oe=>{this.instantiationService.invokeFunction(me=>{me.get(kr.v).open(oe,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>r.focus(),createList:(oe,me,Ae,at,_t)=>this.instantiationService.createInstance(hs.ev,oe,me,Ae,at,_t),styles:this.computeStyles()},ee=this._register(new Yi(Di(Di({},I),f),this.themeService,this.layoutService));return ee.layout(r.activeContainerDimension,r.activeContainerOffset.quickPickTop),this._register(r.onDidLayoutActiveContainer(oe=>ee.layout(oe,r.activeContainerOffset.quickPickTop))),this._register(r.onDidChangeActiveContainer(()=>{ee.isVisible()||ee.layout(r.activeContainerDimension,r.activeContainerOffset.quickPickTop)})),this._register(ee.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(ee.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),ee}setContextKey(r){let f;r&&(f=this.contexts.get(r),f||(f=new mt.uy(r,!1).bindTo(this.contextKeyService),this.contexts.set(r,f))),!(f&&f.get())&&(this.resetContextKeys(),f==null||f.set(!0))}resetContextKeys(){this.contexts.forEach(r=>{r.get()&&r.reset()})}pick(r,f={},I=Mo.T.None){return this.controller.pick(r,f,I)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:(0,Hs.n_1)(Hs.zKr),quickInputForeground:(0,Hs.n_1)(Hs.tZ6),quickInputTitleBackground:(0,Hs.n_1)(Hs.loF),widgetBorder:(0,Hs.n_1)(Hs.A42),widgetShadow:(0,Hs.n_1)(Hs.rh)},inputBox:bs.Hc,toggle:bs.pl,countBadge:bs.ku,button:bs.wG,progressBar:bs.b5,keybindingLabel:bs.eO,list:(0,bs.TU)({listBackground:Hs.zKr,listFocusBackground:Hs.Vqd,listFocusForeground:Hs.NPS,listInactiveFocusForeground:Hs.NPS,listInactiveSelectionIconForeground:Hs.cbQ,listInactiveFocusBackground:Hs.Vqd,listFocusOutline:Hs.xL1,listInactiveFocusOutline:Hs.xL1}),pickerGroup:{pickerGroupBorder:(0,Hs.n_1)(Hs.opG),pickerGroupForeground:(0,Hs.n_1)(Hs.kJk)}}}};Js=is([Os(0,xi.TG),Os(1,mt.i6),Os(2,Ve.XE),Os(3,dn)],Js);var Fn=c(15039),io=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},Tr=function(Le,r){return function(f,I){r(f,I,Le)}};let ha=class extends Js{constructor(r,f,I,ee,oe){super(f,I,ee,new Nt(r.getContainerDomNode(),oe)),this.host=void 0;const me=zo.get(r);if(me){const Ae=me.widget;this.host={_serviceBrand:void 0,get mainContainer(){return Ae.getDomNode()},getContainer(){return Ae.getDomNode()},get containers(){return[Ae.getDomNode()]},get activeContainer(){return Ae.getDomNode()},get mainContainerDimension(){return r.getLayoutInfo()},get activeContainerDimension(){return r.getLayoutInfo()},get onDidLayoutMainContainer(){return r.onDidLayoutChange},get onDidLayoutActiveContainer(){return r.onDidLayoutChange},get onDidLayoutContainer(){return De.ju.map(r.onDidLayoutChange,at=>({container:Ae.getDomNode(),dimension:at}))},get onDidChangeActiveContainer(){return De.ju.None},get onDidAddContainer(){return De.ju.None},get mainContainerOffset(){return{top:0,quickPickTop:0}},get activeContainerOffset(){return{top:0,quickPickTop:0}},focus:()=>r.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};ha=io([Tr(1,xi.TG),Tr(2,mt.i6),Tr(3,Ve.XE),Tr(4,y.$)],ha);let Zs=class{get activeService(){const r=this.codeEditorService.getFocusedCodeEditor();if(!r)throw new Error("Quick input service needs a focused editor to work.");let f=this.mapEditorToService.get(r);if(!f){const I=f=this.instantiationService.createInstance(ha,r);this.mapEditorToService.set(r,f),(0,Fn.M)(r.onDidDispose)(()=>{I.dispose(),this.mapEditorToService.delete(r)})}return f}get quickAccess(){return this.activeService.quickAccess}constructor(r,f){this.instantiationService=r,this.codeEditorService=f,this.mapEditorToService=new Map}pick(r,f={},I=Mo.T.None){return this.activeService.pick(r,f,I)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};Zs=io([Tr(0,xi.TG),Tr(1,y.$)],Zs);class zo{static get(r){return r.getContribution(zo.ID)}constructor(r){this.editor=r,this.widget=new Hr(this.editor)}dispose(){this.widget.dispose()}}zo.ID="editor.controller.quickInput";class Hr{constructor(r){this.codeEditor=r,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return Hr.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}Hr.ID="editor.contrib.quickInputWidget",(0,B._K)(zo.ID,zo,4);var Td=c(55714),ar=c(99534),Ur=c(87943),bd=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},Io=function(Le,r){return function(f,I){r(f,I,Le)}};let Ld=class extends k.JT{constructor(r,f,I){super(),this._contextKeyService=r,this._layoutService=f,this._configurationService=I,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new De.Q5,this._onDidChangeReducedMotion=new De.Q5,this._accessibilityModeEnabledContext=Ur.UA.bindTo(this._contextKeyService);const ee=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(me=>{me.affectsConfiguration("editor.accessibilitySupport")&&(ee(),this._onDidChangeScreenReaderOptimized.fire()),me.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),ee(),this._register(this.onDidChangeScreenReaderOptimized(()=>ee()));const oe=v.Ex.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=oe.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(oe)}initReducedMotionListeners(r){this._register((0,Ne.nm)(r,"change",()=>{this._systemMotionReduced=r.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const f=()=>{const I=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",I),this._layoutService.mainContainer.classList.toggle("enable-motion",!I)};f(),this._register(this.onDidChangeReducedMotion(()=>f()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const r=this._configurationService.getValue("editor.accessibilitySupport");return r==="on"||r==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const r=this._configMotionReduced;return r==="on"||r==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};Ld=bd([Io(0,mt.i6),Io(1,dn),Io(2,x.Ui)],Ld);var Ml=c(14786),xl=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},na=function(Le,r){return function(f,I){r(f,I,Le)}},Ta,fa;let ba=class{constructor(r,f){this._commandService=r,this._hiddenStates=new Ga(f)}createMenu(r,f,I){return new Vr(r,this._hiddenStates,Di({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},I),this._commandService,f)}resetHiddenStates(r){this._hiddenStates.reset(r)}};ba=xl([na(0,Ji.H),na(1,Ml.Uy)],ba);let Ga=Ta=class{constructor(r){this._storageService=r,this._disposables=new k.SL,this._onDidChange=new De.Q5,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const f=r.get(Ta._key,0,"{}");this._data=JSON.parse(f)}catch(f){this._data=Object.create(null)}this._disposables.add(r.onDidChangeValue(0,Ta._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const f=r.get(Ta._key,0,"{}");this._data=JSON.parse(f)}catch(f){console.log("FAILED to read storage after UPDATE",f)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(r,f){var I;return(I=this._hiddenByDefaultCache.get(`${r.id}/${f}`))!==null&&I!==void 0?I:!1}setDefaultState(r,f,I){this._hiddenByDefaultCache.set(`${r.id}/${f}`,I)}isHidden(r,f){var I,ee;const oe=this._isHiddenByDefault(r,f),me=(ee=(I=this._data[r.id])===null||I===void 0?void 0:I.includes(f))!==null&&ee!==void 0?ee:!1;return oe?!me:me}updateHidden(r,f,I){this._isHiddenByDefault(r,f)&&(I=!I);const oe=this._data[r.id];if(I)oe?oe.indexOf(f)<0&&oe.push(f):this._data[r.id]=[f];else if(oe){const me=oe.indexOf(f);me>=0&&(0,zt.LS)(oe,me),oe.length===0&&delete this._data[r.id]}this._persist()}reset(r){if(r===void 0)this._data=Object.create(null),this._persist();else{for(const{id:f}of r)this._data[f]&&delete this._data[f];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const r=JSON.stringify(this._data);this._storageService.store(Ta._key,r,0,0)}finally{this._ignoreChangeEvent=!1}}};Ga._key="menu.hiddenCommands",Ga=Ta=xl([na(0,Ml.Uy)],Ga);let kl=fa=class{constructor(r,f,I,ee,oe){this._id=r,this._hiddenStates=f,this._collectContextKeysForSubmenus=I,this._commandService=ee,this._contextKeyService=oe,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const r=Oi.BH.getMenuItems(this._id);let f;r.sort(fa._compareMenuItems);for(const I of r){const ee=I.group||"";(!f||f[0]!==ee)&&(f=[ee,[]],this._menuGroups.push(f)),f[1].push(I),this._collectContextKeys(I)}}_collectContextKeys(r){if(fa._fillInKbExprKeys(r.when,this._structureContextKeys),(0,Oi.vr)(r)){if(r.command.precondition&&fa._fillInKbExprKeys(r.command.precondition,this._preconditionContextKeys),r.command.toggled){const f=r.command.toggled.condition||r.command.toggled;fa._fillInKbExprKeys(f,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&Oi.BH.getMenuItems(r.submenu).forEach(this._collectContextKeys,this)}createActionGroups(r){const f=[];for(const I of this._menuGroups){const[ee,oe]=I,me=[];for(const Ae of oe)if(this._contextKeyService.contextMatchesRules(Ae.when)){const at=(0,Oi.vr)(Ae);at&&this._hiddenStates.setDefaultState(this._id,Ae.command.id,!!Ae.isHiddenByDefault);const _t=Lt(this._id,at?Ae.command:Ae,this._hiddenStates);if(at)me.push(new Oi.U8(Ae.command,Ae.alt,r,_t,this._contextKeyService,this._commandService));else{const Rt=new fa(Ae.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(r),Jt=Wi.Z0.join(...Rt.map(Ti=>Ti[1]));Jt.length>0&&me.push(new Oi.NZ(Ae,_t,Jt))}}me.length>0&&f.push([ee,me])}return f}static _fillInKbExprKeys(r,f){if(r)for(const I of r.keys())f.add(I)}static _compareMenuItems(r,f){const I=r.group,ee=f.group;if(I!==ee){if(I){if(!ee)return-1}else return 1;if(I==="navigation")return-1;if(ee==="navigation")return 1;const Ae=I.localeCompare(ee);if(Ae!==0)return Ae}const oe=r.order||0,me=f.order||0;return oe<me?-1:oe>me?1:fa._compareTitles((0,Oi.vr)(r)?r.command.title:r.title,(0,Oi.vr)(f)?f.command.title:f.title)}static _compareTitles(r,f){const I=typeof r=="string"?r:r.original,ee=typeof f=="string"?f:f.original;return I.localeCompare(ee)}};kl=fa=xl([na(3,Ji.H),na(4,mt.i6)],kl);let Vr=class{constructor(r,f,I,ee,oe){this._disposables=new k.SL,this._menuInfo=new kl(r,f,I.emitEventsForSubmenuChanges,ee,oe);const me=new cn.pY(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},I.eventDebounceDelay);this._disposables.add(me),this._disposables.add(Oi.BH.onDidChangeMenu(Rt=>{Rt.has(r)&&me.schedule()}));const Ae=this._disposables.add(new k.SL),at=Rt=>{let Jt=!1,Ti=!1,yi=!1;for(const xn of Rt)if(Jt=Jt||xn.isStructuralChange,Ti=Ti||xn.isEnablementChange,yi=yi||xn.isToggleChange,Jt&&Ti&&yi)break;return{menu:this,isStructuralChange:Jt,isEnablementChange:Ti,isToggleChange:yi}},_t=()=>{Ae.add(oe.onDidChangeContext(Rt=>{const Jt=Rt.affectsSome(this._menuInfo.structureContextKeys),Ti=Rt.affectsSome(this._menuInfo.preconditionContextKeys),yi=Rt.affectsSome(this._menuInfo.toggledContextKeys);(Jt||Ti||yi)&&this._onDidChange.fire({menu:this,isStructuralChange:Jt,isEnablementChange:Ti,isToggleChange:yi})})),Ae.add(f.onDidChange(Rt=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new De.D0({onWillAddFirstListener:_t,onDidRemoveLastListener:Ae.clear.bind(Ae),delay:I.eventDebounceDelay,merge:at}),this.onDidChange=this._onDidChange.event}getActions(r){return this._menuInfo.createActionGroups(r)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};Vr=xl([na(3,Ji.H),na(4,mt.i6)],Vr);function Lt(Le,r,f){const I=(0,Oi.f6)(r)?r.submenu.id:r.id,ee=typeof r.title=="string"?r.title:r.title.value,oe=(0,Wi.xw)({id:`hide/${Le.id}/${I}`,label:(0,hi.NC)("hide.label","Hide '{0}'",ee),run(){f.updateHidden(Le,I,!0)}}),me=(0,Wi.xw)({id:`toggle/${Le.id}/${I}`,label:ee,get checked(){return!f.isHidden(Le,I)},run(){f.updateHidden(Le,I,!!this.checked)}});return{hide:oe,toggle:me,get isHidden(){return!me.checked}}}var n=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},l=function(Le,r){return function(f,I){r(f,I,Le)}};let m=class extends k.JT{constructor(r,f){super(),this.layoutService=r,this.logService=f,this.mapTextToType=new Map,this.findText="",this.resources=[],(Hn.G6||Hn.MG)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const r=()=>{const f=new cn.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=f,navigator.clipboard.write([new ClipboardItem({"text/plain":f.p})]).catch(I=>At(this,null,function*(){(!(I instanceof Error)||I.name!=="NotAllowedError"||!f.isRejected)&&this.logService.error(I)}))};this._register(De.ju.runAndSubscribe(this.layoutService.onDidAddContainer,({container:f,disposables:I})=>{I.add((0,Ne.nm)(f,"click",r)),I.add((0,Ne.nm)(f,"keydown",r))},{container:this.layoutService.mainContainer,disposables:this._store}))}writeText(r,f){return At(this,null,function*(){if(f){this.mapTextToType.set(f,r);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(r);try{return yield navigator.clipboard.writeText(r)}catch(me){console.error(me)}const I=(0,Ne.uP)(),ee=I.activeElement,oe=I.body.appendChild((0,Ne.$)("textarea",{"aria-hidden":!0}));oe.style.height="1px",oe.style.width="1px",oe.style.position="absolute",oe.value=r,oe.focus(),oe.select(),I.execCommand("copy"),ee instanceof HTMLElement&&ee.focus(),I.body.removeChild(oe)})}readText(r){return At(this,null,function*(){if(r)return this.mapTextToType.get(r)||"";try{return yield navigator.clipboard.readText()}catch(f){return console.error(f),""}})}readFindText(){return At(this,null,function*(){return this.findText})}writeFindText(r){return At(this,null,function*(){this.findText=r})}writeResources(r){return At(this,null,function*(){this.resources=r})}readResources(){return At(this,null,function*(){return this.resources})}};m=n([l(0,dn),l(1,it.VZ)],m);var w=c(22336),z=c(54362),ae=c(7350),ge=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},ye=function(Le,r){return function(f,I){r(f,I,Le)}};const Ge="data-keybinding-context";class ot{constructor(r,f){this._id=r,this._parent=f,this._value=Object.create(null),this._value._contextId=r}get value(){return Di({},this._value)}setValue(r,f){return this._value[r]!==f?(this._value[r]=f,!0):!1}removeValue(r){return r in this._value?(delete this._value[r],!0):!1}getValue(r){const f=this._value[r];return typeof f=="undefined"&&this._parent?this._parent.getValue(r):f}}class ht extends ot{constructor(){super(-1,null)}setValue(r,f){return!1}removeValue(r){return!1}getValue(r){}}ht.INSTANCE=new ht;class Et extends ot{constructor(r,f,I){super(r,null),this._configurationService=f,this._values=ae.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(ee=>{if(ee.source===7){const oe=Array.from(this._values,([me])=>me);this._values.clear(),I.fire(new qt(oe))}else{const oe=[];for(const me of ee.affectedKeys){const Ae=`config.${me}`,at=this._values.findSuperstr(Ae);at!==void 0&&(oe.push(...z.$.map(at,([_t])=>_t)),this._values.deleteSuperstr(Ae)),this._values.has(Ae)&&(oe.push(Ae),this._values.delete(Ae))}I.fire(new qt(oe))}})}dispose(){this._listener.dispose()}getValue(r){if(r.indexOf(Et._keyPrefix)!==0)return super.getValue(r);if(this._values.has(r))return this._values.get(r);const f=r.substr(Et._keyPrefix.length),I=this._configurationService.getValue(f);let ee;switch(typeof I){case"number":case"boolean":case"string":ee=I;break;default:Array.isArray(I)?ee=JSON.stringify(I):ee=I}return this._values.set(r,ee),ee}setValue(r,f){return super.setValue(r,f)}removeValue(r){return super.removeValue(r)}}Et._keyPrefix="config.";class wt{constructor(r,f,I){this._service=r,this._key=f,this._defaultValue=I,this.reset()}set(r){this._service.setContext(this._key,r)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class $t{constructor(r){this.key=r}affectsSome(r){return r.has(this.key)}allKeysContainedIn(r){return this.affectsSome(r)}}class qt{constructor(r){this.keys=r}affectsSome(r){for(const f of this.keys)if(r.has(f))return!0;return!1}allKeysContainedIn(r){return this.keys.every(f=>r.has(f))}}class ci{constructor(r){this.events=r}affectsSome(r){for(const f of this.events)if(f.affectsSome(r))return!0;return!1}allKeysContainedIn(r){return this.events.every(f=>f.allKeysContainedIn(r))}}function gi(Le,r){return Le.allKeysContainedIn(new Set(Object.keys(r)))}class wi extends k.JT{constructor(r){super(),this._onDidChangeContext=this._register(new De.K3({merge:f=>new ci(f)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=r}createKey(r,f){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new wt(this,r,f)}bufferChangeEvents(r){this._onDidChangeContext.pause();try{r()}finally{this._onDidChangeContext.resume()}}createScoped(r){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new nn(this,r)}contextMatchesRules(r){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const f=this.getContextValuesContainer(this._myContextId);return r?r.evaluate(f):!0}getContextKeyValue(r){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(r)}setContext(r,f){if(this._isDisposed)return;const I=this.getContextValuesContainer(this._myContextId);I&&I.setValue(r,f)&&this._onDidChangeContext.fire(new $t(r))}removeContext(r){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(r)&&this._onDidChangeContext.fire(new $t(r))}getContext(r){return this._isDisposed?ht.INSTANCE:this.getContextValuesContainer(an(r))}dispose(){super.dispose(),this._isDisposed=!0}}let Bi=class extends wi{constructor(r){super(0),this._contexts=new Map,this._lastContextId=0;const f=this._register(new Et(this._myContextId,r,this._onDidChangeContext));this._contexts.set(this._myContextId,f)}getContextValuesContainer(r){return this._isDisposed?ht.INSTANCE:this._contexts.get(r)||ht.INSTANCE}createChildContext(r=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const f=++this._lastContextId;return this._contexts.set(f,new ot(f,this.getContextValuesContainer(r))),f}disposeContext(r){this._isDisposed||this._contexts.delete(r)}};Bi=ge([ye(0,x.Ui)],Bi);class nn extends wi{constructor(r,f){if(super(r.createChildContext()),this._parentChangeListener=this._register(new k.XK),this._parent=r,this._updateParentChangeListener(),this._domNode=f,this._domNode.hasAttribute(Ge)){let I="";this._domNode.classList&&(I=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${I?": "+I:""}`)}this._domNode.setAttribute(Ge,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(r=>{const I=this._parent.getContextValuesContainer(this._myContextId).value;gi(r,I)||this._onDidChangeContext.fire(r)})}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(Ge),super.dispose())}getContextValuesContainer(r){return this._isDisposed?ht.INSTANCE:this._parent.getContextValuesContainer(r)}createChildContext(r=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(r)}disposeContext(r){this._isDisposed||this._parent.disposeContext(r)}}function an(Le){for(;Le;){if(Le.hasAttribute(Ge)){const r=Le.getAttribute(Ge);return r?parseInt(r,10):NaN}Le=Le.parentElement}return 0}function Nn(Le,r,f){Le.get(mt.i6).createKey(String(r),Sn(f))}function Sn(Le){return(0,b.rs)(Le,r=>{if(typeof r=="object"&&r.$mid===1)return T.o.revive(r).toString();if(r instanceof T.o)return r.toString()})}Ji.P.registerCommand("_setContext",Nn),Ji.P.registerCommand({id:"getContextKeyInfo",handler(){return[...mt.uy.all()].sort((Le,r)=>Le.key.localeCompare(r.key))},metadata:{description:(0,hi.NC)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),Ji.P.registerCommand("_generateContextKeyInfo",function(){const Le=[],r=new Set;for(const f of mt.uy.all())r.has(f.key)||(r.add(f.key),Le.push(f));Le.sort((f,I)=>f.key.localeCompare(I.key)),console.log(JSON.stringify(Le,void 0,2))});var _n=c(3544);class un{constructor(r,f){this.key=r,this.data=f,this.incoming=new Map,this.outgoing=new Map}}class Dn{constructor(r){this._hashFn=r,this._nodes=new Map}roots(){const r=[];for(const f of this._nodes.values())f.outgoing.size===0&&r.push(f);return r}insertEdge(r,f){const I=this.lookupOrInsertNode(r),ee=this.lookupOrInsertNode(f);I.outgoing.set(ee.key,ee),ee.incoming.set(I.key,I)}removeNode(r){const f=this._hashFn(r);this._nodes.delete(f);for(const I of this._nodes.values())I.outgoing.delete(f),I.incoming.delete(f)}lookupOrInsertNode(r){const f=this._hashFn(r);let I=this._nodes.get(f);return I||(I=new un(f,r),this._nodes.set(f,I)),I}isEmpty(){return this._nodes.size===0}toString(){const r=[];for(const[f,I]of this._nodes)r.push(`${f}
	(-> incoming)[${[...I.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...I.outgoing.keys()].join(",")}]
`);return r.join(`
`)}findCycleSlow(){for(const[r,f]of this._nodes){const I=new Set([r]),ee=this._findCycle(f,I);if(ee)return ee}}_findCycle(r,f){for(const[I,ee]of r.outgoing){if(f.has(I))return[...f,I].join(" -> ");f.add(I);const oe=this._findCycle(ee,f);if(oe)return oe;f.delete(I)}}}var zn=c(30533);const On=!1;class Yn extends Error{constructor(r){var f;super("cyclic dependency between services"),this.message=(f=r.findCycleSlow())!==null&&f!==void 0?f:`UNABLE to detect cycle, dumping graph: 
${r.toString()}`}}class Ps{constructor(r=new zn.y,f=!1,I,ee=On){var oe;this._services=r,this._strict=f,this._parent=I,this._enableTracing=ee,this._activeInstantiations=new Set,this._services.set(xi.TG,this),this._globalGraph=ee?(oe=I==null?void 0:I._globalGraph)!==null&&oe!==void 0?oe:new Dn(me=>me):void 0}createChild(r){return new Ps(r,this._strict,this,this._enableTracing)}invokeFunction(r,...f){const I=ss.traceInvocation(this._enableTracing,r);let ee=!1;try{return r({get:me=>{if(ee)throw(0,Ri.L6)("service accessor is only valid during the invocation of its target method");const Ae=this._getOrCreateServiceInstance(me,I);if(!Ae)throw new Error(`[invokeFunction] unknown service '${me}'`);return Ae}},...f)}finally{ee=!0,I.stop()}}createInstance(r,...f){let I,ee;return r instanceof _n.M?(I=ss.traceCreation(this._enableTracing,r.ctor),ee=this._createInstance(r.ctor,r.staticArguments.concat(f),I)):(I=ss.traceCreation(this._enableTracing,r),ee=this._createInstance(r,f,I)),I.stop(),ee}_createInstance(r,f=[],I){const ee=xi.I8.getServiceDependencies(r).sort((Ae,at)=>Ae.index-at.index),oe=[];for(const Ae of ee){const at=this._getOrCreateServiceInstance(Ae.id,I);at||this._throwIfStrict(`[createInstance] ${r.name} depends on UNKNOWN service ${Ae.id}.`,!1),oe.push(at)}const me=ee.length>0?ee[0].index:f.length;if(f.length!==me){console.trace(`[createInstance] First service dependency of ${r.name} at position ${me+1} conflicts with ${f.length} static arguments`);const Ae=me-f.length;Ae>0?f=f.concat(new Array(Ae)):f=f.slice(0,me)}return Reflect.construct(r,f.concat(oe))}_setServiceInstance(r,f){if(this._services.get(r)instanceof _n.M)this._services.set(r,f);else if(this._parent)this._parent._setServiceInstance(r,f);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(r){const f=this._services.get(r);return!f&&this._parent?this._parent._getServiceInstanceOrDescriptor(r):f}_getOrCreateServiceInstance(r,f){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(r));const I=this._getServiceInstanceOrDescriptor(r);return I instanceof _n.M?this._safeCreateAndCacheServiceInstance(r,I,f.branch(r,!0)):(f.branch(r,!1),I)}_safeCreateAndCacheServiceInstance(r,f,I){if(this._activeInstantiations.has(r))throw new Error(`illegal state - RECURSIVELY instantiating service '${r}'`);this._activeInstantiations.add(r);try{return this._createAndCacheServiceInstance(r,f,I)}finally{this._activeInstantiations.delete(r)}}_createAndCacheServiceInstance(r,f,I){var ee;const oe=new Dn(at=>at.id.toString());let me=0;const Ae=[{id:r,desc:f,_trace:I}];for(;Ae.length;){const at=Ae.pop();if(oe.lookupOrInsertNode(at),me++>1e3)throw new Yn(oe);for(const _t of xi.I8.getServiceDependencies(at.desc.ctor)){const Rt=this._getServiceInstanceOrDescriptor(_t.id);if(Rt||this._throwIfStrict(`[createInstance] ${r} depends on ${_t.id} which is NOT registered.`,!0),(ee=this._globalGraph)===null||ee===void 0||ee.insertEdge(String(at.id),String(_t.id)),Rt instanceof _n.M){const Jt={id:_t.id,desc:Rt,_trace:at._trace.branch(_t.id,!0)};oe.insertEdge(at,Jt),Ae.push(Jt)}}}for(;;){const at=oe.roots();if(at.length===0){if(!oe.isEmpty())throw new Yn(oe);break}for(const{data:_t}of at){if(this._getServiceInstanceOrDescriptor(_t.id)instanceof _n.M){const Jt=this._createServiceInstanceWithOwner(_t.id,_t.desc.ctor,_t.desc.staticArguments,_t.desc.supportsDelayedInstantiation,_t._trace);this._setServiceInstance(_t.id,Jt)}oe.removeNode(_t)}}return this._getServiceInstanceOrDescriptor(r)}_createServiceInstanceWithOwner(r,f,I=[],ee,oe){if(this._services.get(r)instanceof _n.M)return this._createServiceInstance(r,f,I,ee,oe);if(this._parent)return this._parent._createServiceInstanceWithOwner(r,f,I,ee,oe);throw new Error(`illegalState - creating UNKNOWN service instance ${f.name}`)}_createServiceInstance(r,f,I=[],ee,oe){if(ee){const me=new Ps(void 0,this._strict,this,this._enableTracing);me._globalGraphImplicitDependency=String(r);const Ae=new Map,at=new cn.R5(()=>{const _t=me._createInstance(f,I,oe);for(const[Rt,Jt]of Ae){const Ti=_t[Rt];if(typeof Ti=="function")for(const yi of Jt)Ti.apply(_t,yi)}return Ae.clear(),_t});return new Proxy(Object.create(null),{get(_t,Rt){if(!at.isInitialized&&typeof Rt=="string"&&(Rt.startsWith("onDid")||Rt.startsWith("onWill"))){let yi=Ae.get(Rt);return yi||(yi=new di.S,Ae.set(Rt,yi)),(Ls,Ms,Po)=>{const qs=yi.push([Ls,Ms,Po]);return(0,k.OF)(qs)}}if(Rt in _t)return _t[Rt];const Jt=at.value;let Ti=Jt[Rt];return typeof Ti!="function"||(Ti=Ti.bind(Jt),_t[Rt]=Ti),Ti},set(_t,Rt,Jt){return at.value[Rt]=Jt,!0},getPrototypeOf(_t){return f.prototype}})}else return this._createInstance(f,I,oe)}_throwIfStrict(r,f){if(f&&console.warn(r),this._strict)throw new Error(r)}}class ss{static traceInvocation(r,f){return r?new ss(2,f.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):ss._None}static traceCreation(r,f){return r?new ss(1,f.name):ss._None}constructor(r,f){this.type=r,this.name=f,this._start=Date.now(),this._dep=[]}branch(r,f){const I=new ss(3,r.toString());return this._dep.push([r,f,I]),I}stop(){const r=Date.now()-this._start;ss._totals+=r;let f=!1;function I(oe,me){const Ae=[],at=new Array(oe+1).join("	");for(const[_t,Rt,Jt]of me._dep)if(Rt&&Jt){f=!0,Ae.push(`${at}CREATES -> ${_t}`);const Ti=I(oe+1,Jt);Ti&&Ae.push(Ti)}else Ae.push(`${at}uses -> ${_t}`);return Ae.join(`
`)}const ee=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${I(1,this)}`,`DONE, took ${r.toFixed(2)}ms (grand total ${ss._totals.toFixed(2)}ms)`];(r>2||f)&&ss.all.add(ee.join(`
`))}}ss.all=new Set,ss._None=new class extends ss{constructor(){super(0,null)}stop(){}branch(){return this}},ss._totals=0;const Us=new Set([yt.lg.inMemory,yt.lg.vscodeSourceControl,yt.lg.walkThrough,yt.lg.walkThroughSnippet]);class lo{constructor(){this._byResource=new Cn.Y9,this._byOwner=new Map}set(r,f,I){let ee=this._byResource.get(r);ee||(ee=new Map,this._byResource.set(r,ee)),ee.set(f,I);let oe=this._byOwner.get(f);oe||(oe=new Cn.Y9,this._byOwner.set(f,oe)),oe.set(r,I)}get(r,f){const I=this._byResource.get(r);return I==null?void 0:I.get(f)}delete(r,f){let I=!1,ee=!1;const oe=this._byResource.get(r);oe&&(I=oe.delete(f));const me=this._byOwner.get(f);if(me&&(ee=me.delete(r)),I!==ee)throw new Error("illegal state");return I&&ee}values(r){var f,I,ee,oe;return typeof r=="string"?(I=(f=this._byOwner.get(r))===null||f===void 0?void 0:f.values())!==null&&I!==void 0?I:z.$.empty():T.o.isUri(r)?(oe=(ee=this._byResource.get(r))===null||ee===void 0?void 0:ee.values())!==null&&oe!==void 0?oe:z.$.empty():z.$.map(z.$.concat(...this._byOwner.values()),me=>me[1])}}class co{constructor(r){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Cn.Y9,this._service=r,this._subscription=r.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(r){for(const f of r){const I=this._data.get(f);I&&this._substract(I);const ee=this._resourceStats(f);this._add(ee),this._data.set(f,ee)}}_resourceStats(r){const f={errors:0,warnings:0,infos:0,unknowns:0};if(Us.has(r.scheme))return f;for(const{severity:I}of this._service.read({resource:r}))I===po.ZL.Error?f.errors+=1:I===po.ZL.Warning?f.warnings+=1:I===po.ZL.Info?f.infos+=1:f.unknowns+=1;return f}_substract(r){this.errors-=r.errors,this.warnings-=r.warnings,this.infos-=r.infos,this.unknowns-=r.unknowns}_add(r){this.errors+=r.errors,this.warnings+=r.warnings,this.infos+=r.infos,this.unknowns+=r.unknowns}}class Xs{constructor(){this._onMarkerChanged=new De.D0({delay:0,merge:Xs._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new lo,this._stats=new co(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(r,f){for(const I of f||[])this.changeOne(r,I,[])}changeOne(r,f,I){if((0,zt.XY)(I))this._data.delete(f,r)&&this._onMarkerChanged.fire([f]);else{const ee=[];for(const oe of I){const me=Xs._toMarker(r,f,oe);me&&ee.push(me)}this._data.set(f,r,ee),this._onMarkerChanged.fire([f])}}static _toMarker(r,f,I){let{code:ee,severity:oe,message:me,source:Ae,startLineNumber:at,startColumn:_t,endLineNumber:Rt,endColumn:Jt,relatedInformation:Ti,tags:yi}=I;if(me)return at=at>0?at:1,_t=_t>0?_t:1,Rt=Rt>=at?Rt:at,Jt=Jt>0?Jt:_t,{resource:f,owner:r,code:ee,severity:oe,message:me,source:Ae,startLineNumber:at,startColumn:_t,endLineNumber:Rt,endColumn:Jt,relatedInformation:Ti,tags:yi}}changeAll(r,f){const I=[],ee=this._data.values(r);if(ee)for(const oe of ee){const me=z.$.first(oe);me&&(I.push(me.resource),this._data.delete(me.resource,r))}if((0,zt.Of)(f)){const oe=new Cn.Y9;for(const{resource:me,marker:Ae}of f){const at=Xs._toMarker(r,me,Ae);if(!at)continue;const _t=oe.get(me);_t?_t.push(at):(oe.set(me,[at]),I.push(me))}for(const[me,Ae]of oe)this._data.set(me,r,Ae)}I.length>0&&this._onMarkerChanged.fire(I)}read(r=Object.create(null)){let{owner:f,resource:I,severities:ee,take:oe}=r;if((!oe||oe<0)&&(oe=-1),f&&I){const me=this._data.get(I,f);if(me){const Ae=[];for(const at of me)if(Xs._accept(at,ee)){const _t=Ae.push(at);if(oe>0&&_t===oe)break}return Ae}else return[]}else if(!f&&!I){const me=[];for(const Ae of this._data.values())for(const at of Ae)if(Xs._accept(at,ee)){const _t=me.push(at);if(oe>0&&_t===oe)return me}return me}else{const me=this._data.values(I!=null?I:f),Ae=[];for(const at of me)for(const _t of at)if(Xs._accept(_t,ee)){const Rt=Ae.push(_t);if(oe>0&&Rt===oe)return Ae}return Ae}}static _accept(r,f){return f===void 0||(f&r.severity)===r.severity}static _merge(r){const f=new Cn.Y9;for(const I of r)for(const ee of I)f.set(ee,!0);return Array.from(f.keys())}}class zs extends k.JT{constructor(){super(...arguments),this._configurationModel=new Gn}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new Gn;const r=qn.B.as(Wn.IP.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(r),r)}updateConfigurationModel(r,f){const I=this.getConfigurationDefaultOverrides();for(const ee of r){const oe=I[ee],me=f[ee];oe!==void 0?this._configurationModel.addValue(ee,oe):me?this._configurationModel.addValue(ee,me.default):this._configurationModel.removeValue(ee)}}}var wo=c(22784);class za extends k.JT{constructor(r,f=[]){super(),this.logger=new it.qA([r,...f]),this._register(r.onDidChangeLogLevel(I=>this.setLevel(I)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(r){this.logger.setLevel(r)}getLevel(){return this.logger.getLevel()}trace(r,...f){this.logger.trace(r,...f)}debug(r,...f){this.logger.debug(r,...f)}info(r,...f){this.logger.info(r,...f)}warn(r,...f){this.logger.warn(r,...f)}error(r,...f){this.logger.error(r,...f)}}var kh=c(13567),Fh=c(67611),Ka=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},yo=function(Le,r){return function(f,I){r(f,I,Le)}};class Jg{constructor(r){this.disposed=!1,this.model=r,this._onWillDispose=new De.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Cu=class{constructor(r){this.modelService=r}createModelReference(r){const f=this.modelService.getModel(r);return f?Promise.resolve(new k.Jz(new Jg(f))):Promise.reject(new Error("Model not found"))}};Cu=Ka([yo(0,Z.q)],Cu);class gl{show(){return gl.NULL_PROGRESS_RUNNER}showWhile(r,f){return At(this,null,function*(){yield r})}}gl.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Zg{withProgress(r,f,I){return f({report:()=>{}})}}class Rd{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class Bh{confirm(r){return At(this,null,function*(){return{confirmed:this.doConfirm(r.message,r.detail),checkboxChecked:!1}})}doConfirm(r,f){let I=r;return f&&(I=I+`

`+f),v.Ex.confirm(I)}prompt(r){return At(this,null,function*(){var f,I;let ee;if(this.doConfirm(r.message,r.detail)){const me=[...(f=r.buttons)!==null&&f!==void 0?f:[]];r.cancelButton&&typeof r.cancelButton!="string"&&typeof r.cancelButton!="boolean"&&me.push(r.cancelButton),ee=yield(I=me[0])===null||I===void 0?void 0:I.run({checkboxChecked:!1})}return{result:ee}})}error(r,f){return At(this,null,function*(){yield this.prompt({type:Fi.Z.Error,message:r,detail:f})})}}class Fl{info(r){return this.notify({severity:Fi.Z.Info,message:r})}warn(r){return this.notify({severity:Fi.Z.Warning,message:r})}error(r){return this.notify({severity:Fi.Z.Error,message:r})}notify(r){switch(r.severity){case Fi.Z.Error:console.error(r.message);break;case Fi.Z.Warning:console.warn(r.message);break;default:console.log(r.message);break}return Fl.NO_OP}prompt(r,f,I,ee){return Fl.NO_OP}status(r,f){return k.JT.None}}Fl.NO_OP=new bn.EO;let lc=class{constructor(r){this._onWillExecuteCommand=new De.Q5,this._onDidExecuteCommand=new De.Q5,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=r}executeCommand(r,...f){const I=Ji.P.getCommand(r);if(!I)return Promise.reject(new Error(`command '${r}' not found`));try{this._onWillExecuteCommand.fire({commandId:r,args:f});const ee=this._instantiationService.invokeFunction.apply(this._instantiationService,[I.handler,...f]);return this._onDidExecuteCommand.fire({commandId:r,args:f}),Promise.resolve(ee)}catch(ee){return Promise.reject(ee)}}};lc=Ka([yo(0,xi.TG)],lc);let Oo=class extends ls{constructor(r,f,I,ee,oe,me){super(r,f,I,ee,oe),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const Ae=yi=>{const xn=new k.SL;xn.add(Ne.nm(yi,Ne.tw.KEY_DOWN,Ls=>{const Ms=new pi.y(Ls);this._dispatch(Ms,Ms.target)&&(Ms.preventDefault(),Ms.stopPropagation())})),xn.add(Ne.nm(yi,Ne.tw.KEY_UP,Ls=>{const Ms=new pi.y(Ls);this._singleModifierDispatch(Ms,Ms.target)&&Ms.preventDefault()})),this._domNodeListeners.push(new Nd(yi,xn))},at=yi=>{for(let xn=0;xn<this._domNodeListeners.length;xn++){const Ls=this._domNodeListeners[xn];Ls.domNode===yi&&(this._domNodeListeners.splice(xn,1),Ls.dispose())}},_t=yi=>{yi.getOption(61)||Ae(yi.getContainerDomNode())},Rt=yi=>{yi.getOption(61)||at(yi.getContainerDomNode())};this._register(me.onCodeEditorAdd(_t)),this._register(me.onCodeEditorRemove(Rt)),me.listCodeEditors().forEach(_t);const Jt=yi=>{Ae(yi.getContainerDomNode())},Ti=yi=>{at(yi.getContainerDomNode())};this._register(me.onDiffEditorAdd(Jt)),this._register(me.onDiffEditorRemove(Ti)),me.listDiffEditors().forEach(Jt)}addDynamicKeybinding(r,f,I,ee){return(0,k.F8)(Ji.P.registerCommand(r,I),this.addDynamicKeybindings([{keybinding:f,command:r,when:ee}]))}addDynamicKeybindings(r){const f=r.map(I=>{var ee;return{keybinding:(0,ti.Z9)(I.keybinding,ii.OS),command:(ee=I.command)!==null&&ee!==void 0?ee:null,commandArgs:I.commandArgs,when:I.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(f),this.updateResolver(),(0,k.OF)(()=>{for(let I=0;I<this._dynamicKeybindings.length;I++)if(this._dynamicKeybindings[I]===f[0]){this._dynamicKeybindings.splice(I,f.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const r=this._toNormalizedKeybindingItems(Ss.W.getDefaultKeybindings(),!0),f=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new hn(r,f,I=>this._log(I))}return this._cachedResolver}_documentHasFocus(){return v.Ex.document.hasFocus()}_toNormalizedKeybindingItems(r,f){const I=[];let ee=0;for(const oe of r){const me=oe.when||void 0,Ae=oe.keybinding;if(!Ae)I[ee++]=new Gs(void 0,oe.command,oe.commandArgs,me,f,null,!1);else{const at=Ws.resolveKeybinding(Ae,ii.OS);for(const _t of at)I[ee++]=new Gs(_t,oe.command,oe.commandArgs,me,f,null,!1)}}return I}resolveKeyboardEvent(r){const f=new ti.$M(r.ctrlKey,r.shiftKey,r.altKey,r.metaKey,r.keyCode);return new Ws([f],ii.OS)}};Oo=Ka([yo(0,mt.i6),yo(1,Ji.H),yo(2,ao.b),yo(3,bn.lT),yo(4,it.VZ),yo(5,y.$)],Oo);class Nd extends k.JT{constructor(r,f){super(),this.domNode=r,this._register(f)}}function Wh(Le){return Le&&typeof Le=="object"&&(!Le.overrideIdentifier||typeof Le.overrideIdentifier=="string")&&(!Le.resource||Le.resource instanceof T.o)}class Hh{constructor(){this._onDidChangeConfiguration=new De.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const r=new zs;this._configuration=new as(r.reload(),new Gn,new Gn,new Gn),r.dispose()}getValue(r,f){const I=typeof r=="string"?r:void 0,ee=Wh(r)?r:Wh(f)?f:{};return this._configuration.getValue(I,ee,void 0)}updateValues(r){const f={data:this._configuration.toData()},I=[];for(const ee of r){const[oe,me]=ee;this.getValue(oe)!==me&&(this._configuration.updateValue(oe,me),I.push(oe))}if(I.length>0){const ee=new Zi({keys:I,overrides:[]},f,this._configuration);ee.source=8,ee.sourceConfig=null,this._onDidChangeConfiguration.fire(ee)}return Promise.resolve()}updateValue(r,f,I,ee){return this.updateValues([[r,f]])}inspect(r,f={}){return this._configuration.inspect(r,f,void 0)}}let Bl=class{constructor(r,f,I){this.configurationService=r,this.modelService=f,this.languageService=I,this._onDidChangeConfiguration=new De.Q5,this.configurationService.onDidChangeConfiguration(ee=>{this._onDidChangeConfiguration.fire({affectedKeys:ee.affectedKeys,affectsConfiguration:(oe,me)=>ee.affectsConfiguration(me)})})}getValue(r,f,I){const ee=Ut.L.isIPosition(f)?f:null,oe=ee?typeof I=="string"?I:void 0:typeof f=="string"?f:void 0,me=r?this.getLanguage(r,ee):void 0;return typeof oe=="undefined"?this.configurationService.getValue({resource:r,overrideIdentifier:me}):this.configurationService.getValue(oe,{resource:r,overrideIdentifier:me})}getLanguage(r,f){const I=this.modelService.getModel(r);return I?f?I.getLanguageIdAtPosition(f.lineNumber,f.column):I.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(r)}};Bl=Ka([yo(0,x.Ui),yo(1,Z.q),yo(2,R.O)],Bl);let Eu=class{constructor(r){this.configurationService=r}getEOL(r,f){const I=this.configurationService.getValue("files.eol",{overrideIdentifier:f,resource:r});return I&&typeof I=="string"&&I!=="auto"?I:ii.IJ||ii.dz?`
`:`\r
`}};Eu=Ka([yo(0,x.Ui)],Eu);class Uh{publicLog2(){}}class Wl{constructor(){const r=T.o.from({scheme:Wl.SCHEME,authority:"model",path:"/"});this.workspace={id:ri.p$,folders:[new ri.md({uri:r,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(r){return r&&r.scheme===Wl.SCHEME?this.workspace.folders[0]:null}}Wl.SCHEME="inmemory";function dc(Le,r,f){if(!r||!(Le instanceof Hh))return;const I=[];Object.keys(r).forEach(ee=>{(0,It.ei)(ee)&&I.push([`editor.${ee}`,r[ee]]),f&&(0,It.Pe)(ee)&&I.push([`diffEditor.${ee}`,r[ee]])}),I.length>0&&Le.updateValues(I)}let Su=class{constructor(r){this._modelService=r}hasPreviewHandler(){return!1}apply(r,f){return At(this,null,function*(){const I=Array.isArray(r)?r:Ct.fo.convert(r),ee=new Map;for(const Ae of I){if(!(Ae instanceof Ct.Gl))throw new Error("bad edit - only text edits are supported");const at=this._modelService.getModel(Ae.resource);if(!at)throw new Error("bad edit - model not found");if(typeof Ae.versionId=="number"&&at.getVersionId()!==Ae.versionId)throw new Error("bad state - model changed in the meantime");let _t=ee.get(at);_t||(_t=[],ee.set(at,_t)),_t.push(Qt.h.replaceMove(Si.e.lift(Ae.textEdit.range),Ae.textEdit.text))}let oe=0,me=0;for(const[Ae,at]of ee)Ae.pushStackElement(),Ae.pushEditOperations([],at,()=>[]),Ae.pushStackElement(),me+=1,oe+=at.length;return{ariaSummary:L.WU(Se.iN.bulkEditServiceSummary,oe,me),isApplied:oe>0}})}};Su=Ka([yo(0,Z.q)],Su);class Y_{getUriLabel(r,f){return r.scheme==="file"?r.fsPath:r.path}getUriBasenameLabel(r){return(0,je.EZ)(r)}}let Vh=class extends E{constructor(r,f){super(r),this._codeEditorService=f}showContextView(r,f,I){if(!f){const ee=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();ee&&(f=ee.getContainerDomNode())}return super.showContextView(r,f,I)}};Vh=Ka([yo(0,dn),yo(1,y.$)],Vh);class j_{constructor(){this._neverEmitter=new De.Q5,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class $_ extends zi{constructor(){super()}}class Ya extends za{constructor(){super(new it.kw)}}let Gh=class extends Yo{constructor(r,f,I,ee,oe,me){super(r,f,I,ee,oe,me),this.configure({blockMouse:!1})}};Gh=Ka([yo(0,ao.b),yo(1,bn.lT),yo(2,Ht.u),yo(3,qi.d),yo(4,Oi.co),yo(5,mt.i6)],Gh);class X_{playAudioCue(r,f){return At(this,null,function*(){})}}class Q_{notify(r,f){}}(0,jt.z)(x.Ui,Hh,0),(0,jt.z)(tn.V,Bl,0),(0,jt.z)(tn.y,Eu,0),(0,jt.z)(ri.ec,Wl,0),(0,jt.z)(Ns.e,Y_,0),(0,jt.z)(ao.b,Uh,0),(0,jt.z)(En.S,Bh,0),(0,jt.z)(Fh.Y,Rd,0),(0,jt.z)(bn.lT,Fl,0),(0,jt.z)(po.lT,Xs,0),(0,jt.z)(R.O,$_,0),(0,jt.z)(ar.Z,Td.nI,0),(0,jt.z)(it.VZ,Ya,0),(0,jt.z)(Z.q,Ar,0),(0,jt.z)(wl.i,$o,0),(0,jt.z)(mt.i6,Bi,0),(0,jt.z)(fo.R9,Zg,0),(0,jt.z)(fo.ek,gl,0),(0,jt.z)(Ml.Uy,Ml.vm,0),(0,jt.z)(Fa.p,C.eu,0),(0,jt.z)(Ct.vu,Su,0),(0,jt.z)(Qe.Y,j_,0),(0,jt.z)(Vi.S,Cu,0),(0,jt.z)(Ur.F7,Ld,0),(0,jt.z)(hs.Lw,hs.XN,0),(0,jt.z)(Ji.H,lc,0),(0,jt.z)(qi.d,Oo,0),(0,jt.z)(Es.eJ,Zs,0),(0,jt.z)(Ht.u,Vh,0),(0,jt.z)(kr.v,_r,0),(0,jt.z)(w.p,m,0),(0,jt.z)(Ht.i,Gh,0),(0,jt.z)(Oi.co,ba,0),(0,jt.z)(wo.e7,X_,0),(0,jt.z)(Ur.VX,Q_,0);var yn;(function(Le){const r=new zn.y;for(const[at,_t]of(0,jt.d)())r.set(at,_t);const f=new Ps(r,!0);r.set(xi.TG,f);function I(at){ee||me({});const _t=r.get(at);if(!_t)throw new Error("Missing service "+at);return _t instanceof _n.M?f.invokeFunction(Rt=>Rt.get(at)):_t}Le.get=I;let ee=!1;const oe=new De.Q5;function me(at){if(ee)return f;ee=!0;for(const[Rt,Jt]of(0,jt.d)())r.get(Rt)||r.set(Rt,Jt);for(const Rt in at)if(at.hasOwnProperty(Rt)){const Jt=(0,xi.yh)(Rt);r.get(Jt)instanceof _n.M&&r.set(Jt,at[Rt])}const _t=(0,kh.n)();for(const Rt of _t)try{f.createInstance(Rt)}catch(Jt){(0,Ri.dL)(Jt)}return oe.fire(),f}Le.initialize=me;function Ae(at){if(ee)return at();const _t=new k.SL,Rt=_t.add(oe.event(()=>{Rt.dispose(),_t.add(at())}));return _t}Le.withServices=Ae})(yn||(yn={}));var qg=c(29622),ja=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},Un=function(Le,r){return function(f,I){r(f,I,Le)}};let ga=0,sa=!1;function $a(Le){if(!Le){if(sa)return;sa=!0}Xt.wW(Le||v.Ex.document.body)}let cc=class extends li.Gm{constructor(r,f,I,ee,oe,me,Ae,at,_t,Rt,Jt,Ti){const yi=Di({},f);yi.ariaLabel=yi.ariaLabel||Se.B8.editorViewAccessibleLabel,yi.ariaLabel=yi.ariaLabel+";"+Se.B8.accessibilityHelpMessage,super(r,yi,{},I,ee,oe,me,at,_t,Rt,Jt,Ti),Ae instanceof Oo?this._standaloneKeybindingService=Ae:this._standaloneKeybindingService=null,$a(yi.ariaContainerElement)}addCommand(r,f,I){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const ee="DYNAMIC_"+ ++ga,oe=mt.Ao.deserialize(I);return this._standaloneKeybindingService.addDynamicKeybinding(ee,r,f,oe),ee}createContextKey(r,f){return this._contextKeyService.createKey(r,f)}addAction(r){if(typeof r.id!="string"||typeof r.label!="string"||typeof r.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),k.JT.None;const f=r.id,I=r.label,ee=mt.Ao.and(mt.Ao.equals("editorId",this.getId()),mt.Ao.deserialize(r.precondition)),oe=r.keybindings,me=mt.Ao.and(ee,mt.Ao.deserialize(r.keybindingContext)),Ae=r.contextMenuGroupId||null,at=r.contextMenuOrder||0,_t=(yi,...xn)=>Promise.resolve(r.run(this,...xn)),Rt=new k.SL,Jt=this.getId()+":"+f;if(Rt.add(Ji.P.registerCommand(Jt,_t)),Ae){const yi={command:{id:Jt,title:I},when:ee,group:Ae,order:at};Rt.add(Oi.BH.appendMenuItem(Oi.eH.EditorContext,yi))}if(Array.isArray(oe))for(const yi of oe)Rt.add(this._standaloneKeybindingService.addDynamicKeybinding(Jt,yi,_t,me));const Ti=new Yt.p(Jt,I,I,void 0,ee,(...yi)=>Promise.resolve(r.run(this,...yi)),this._contextKeyService);return this._actions.set(f,Ti),Rt.add((0,k.OF)(()=>{this._actions.delete(f)})),Rt}_triggerCommand(r,f){if(this._codeEditorService instanceof Ki)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(r,f)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(r,f)}};cc=ja([Un(2,xi.TG),Un(3,y.$),Un(4,Ji.H),Un(5,mt.i6),Un(6,qi.d),Un(7,Ve.XE),Un(8,bn.lT),Un(9,Ur.F7),Un(10,V.c_),Un(11,mn.p)],cc);let ml=class extends cc{constructor(r,f,I,ee,oe,me,Ae,at,_t,Rt,Jt,Ti,yi,xn,Ls){const Ms=Di({},f);dc(Rt,Ms,!1);const Po=at.registerEditorContainer(r);typeof Ms.theme=="string"&&at.setTheme(Ms.theme),typeof Ms.autoDetectHighContrast!="undefined"&&at.setAutoDetectHighContrast(!!Ms.autoDetectHighContrast);const qs=Ms.model;delete Ms.model,super(r,Ms,I,ee,oe,me,Ae,at,_t,Jt,xn,Ls),this._configurationService=Rt,this._standaloneThemeService=at,this._register(Po);let ws;if(typeof qs=="undefined"){const _s=yi.getLanguageIdByMimeType(Ms.language)||Ms.language||F.bd;ws=uc(Ti,yi,Ms.value||"",_s,void 0),this._ownsModel=!0}else ws=qs,this._ownsModel=!1;if(this._attachModel(ws),ws){const _s={oldModelUrl:null,newModelUrl:ws.uri};this._onDidChangeModel.fire(_s)}}dispose(){super.dispose()}updateOptions(r){dc(this._configurationService,r,!1),typeof r.theme=="string"&&this._standaloneThemeService.setTheme(r.theme),typeof r.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(!!r.autoDetectHighContrast),super.updateOptions(r)}_postDetachModelCleanup(r){super._postDetachModelCleanup(r),r&&this._ownsModel&&(r.dispose(),this._ownsModel=!1)}};ml=ja([Un(2,xi.TG),Un(3,y.$),Un(4,Ji.H),Un(5,mt.i6),Un(6,qi.d),Un(7,ar.Z),Un(8,bn.lT),Un(9,x.Ui),Un(10,Ur.F7),Un(11,Z.q),Un(12,R.O),Un(13,V.c_),Un(14,mn.p)],ml);let ir=class extends qg.p{constructor(r,f,I,ee,oe,me,Ae,at,_t,Rt,Jt,Ti){const yi=Di({},f);dc(at,yi,!0);const xn=me.registerEditorContainer(r);typeof yi.theme=="string"&&me.setTheme(yi.theme),typeof yi.autoDetectHighContrast!="undefined"&&me.setAutoDetectHighContrast(!!yi.autoDetectHighContrast),super(r,yi,{},ee,I,oe,Ti,Rt),this._configurationService=at,this._standaloneThemeService=me,this._register(xn)}dispose(){super.dispose()}updateOptions(r){dc(this._configurationService,r,!0),typeof r.theme=="string"&&this._standaloneThemeService.setTheme(r.theme),typeof r.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(!!r.autoDetectHighContrast),super.updateOptions(r)}_createInnerEditor(r,f,I){return r.createInstance(cc,f,I)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(r,f,I){return this.getModifiedEditor().addCommand(r,f,I)}createContextKey(r,f){return this.getModifiedEditor().createContextKey(r,f)}addAction(r){return this.getModifiedEditor().addAction(r)}};ir=ja([Un(2,xi.TG),Un(3,mt.i6),Un(4,y.$),Un(5,ar.Z),Un(6,bn.lT),Un(7,x.Ui),Un(8,Ht.i),Un(9,fo.ek),Un(10,w.p),Un(11,wo.e7)],ir);function uc(Le,r,f,I,ee){if(f=f||"",!I){const oe=f.indexOf(`
`);let me=f;return oe!==-1&&(me=f.substring(0,oe)),br(Le,f,r.createByFilepathOrFirstLine(ee||null,me),ee)}return br(Le,f,r.createById(I),ee)}function br(Le,r,f,I){return Le.createModel(r,f,I)}var no=c(13611),vu=c(97396),zh=c(99637),Ks=c(5411),Id=c(36773),pl=c(58850),hc=c(58399);class Tu extends Wi.Wi{constructor(r){super(),this._getContext=r}runAction(r,f){return super.runAction(r,this._getContext())}}var bu=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},em=function(Le,r){return function(f,I){r(f,I,Le)}};class Lu{constructor(r){this.viewModel=r}getId(){return this.viewModel}}let fc=class extends k.JT{constructor(r,f,I,ee){super(),this._container=r,this._overflowWidgetsDomNode=f,this._workbenchUIElementFactory=I,this._instantiationService=ee,this._viewModel=(0,Ks.uh)(this,void 0),this._collapsed=(0,no.nK)(this,me=>{var Ae;return(Ae=this._viewModel.read(me))===null||Ae===void 0?void 0:Ae.collapsed.read(me)}),this._contentHeight=(0,Ks.uh)(this,500),this.height=(0,no.nK)(this,me=>(this._collapsed.read(me)?0:this._contentHeight.read(me))+this._outerEditorHeight),this._modifiedContentWidth=(0,Ks.uh)(this,0),this._modifiedWidth=(0,Ks.uh)(this,0),this._originalContentWidth=(0,Ks.uh)(this,0),this._originalWidth=(0,Ks.uh)(this,0),this.maxScroll=(0,no.nK)(this,me=>{const Ae=this._modifiedContentWidth.read(me)-this._modifiedWidth.read(me),at=this._originalContentWidth.read(me)-this._originalWidth.read(me);return Ae>at?{maxScroll:Ae,width:this._modifiedWidth.read(me)}:{maxScroll:at,width:this._originalWidth.read(me)}}),this._elements=(0,Ne.h)("div.multiDiffEntry",[(0,Ne.h)("div.content",{style:{display:"flex",flexDirection:"column",flex:"1",overflow:"hidden"}},[(0,Ne.h)("div.header@header",[(0,Ne.h)("div.collapse-button@collapseButton"),(0,Ne.h)("div.title.show-file-icons@title",[]),(0,Ne.h)("div.actions@actions")]),(0,Ne.h)("div.editorParent",{style:{flex:"1",display:"flex",flexDirection:"column"}},[(0,Ne.h)("div.editorContainer@editor",{style:{flex:"1"}})])])]),this.editor=this._register(this._instantiationService.createInstance(qg.p,this._elements.editor,{overflowWidgetsDomNode:this._overflowWidgetsDomNode},{})),this.isModifedFocused=gc(this.editor.getModifiedEditor()),this.isOriginalFocused=gc(this.editor.getOriginalEditor()),this.isFocused=(0,no.nK)(this,me=>this.isModifedFocused.read(me)||this.isOriginalFocused.read(me)),this._resourceLabel=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.title)):void 0,this._dataStore=new k.SL,this._headerHeight=this._elements.header.clientHeight;const oe=new Qo.z(this._elements.collapseButton,{});this._register((0,no.EH)(me=>{oe.element.className="",oe.icon=this._collapsed.read(me)?Ts.l.chevronRight:Ts.l.chevronDown})),this._register(oe.onDidClick(()=>{var me;(me=this._viewModel.get())===null||me===void 0||me.collapsed.set(!this._collapsed.get(),void 0)})),this._register((0,no.EH)(me=>{this._elements.editor.style.display=this._collapsed.read(me)?"none":"block"})),this.editor.getModifiedEditor().onDidLayoutChange(me=>{const Ae=this.editor.getModifiedEditor().getLayoutInfo().contentWidth;this._modifiedWidth.set(Ae,void 0)}),this.editor.getOriginalEditor().onDidLayoutChange(me=>{const Ae=this.editor.getOriginalEditor().getLayoutInfo().contentWidth;this._originalWidth.set(Ae,void 0)}),this._register(this.editor.onDidContentSizeChange(me=>{(0,Ks.Bl)(Ae=>{this._contentHeight.set(me.contentHeight,Ae),this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(),Ae),this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(),Ae)})})),this._register((0,no.EH)(me=>{const Ae=this.isFocused.read(me);this._elements.root.classList.toggle("focused",Ae)})),this._container.appendChild(this._elements.root),this._outerEditorHeight=38,this._register(this._instantiationService.createInstance(hc.r,this._elements.actions,Oi.eH.MultiDiffEditorFileToolbar,{actionRunner:this._register(new Tu(()=>{var me,Ae;return(Ae=(me=this._viewModel.get())===null||me===void 0?void 0:me.diffEditorViewModel)===null||Ae===void 0?void 0:Ae.model.modified.uri})),menuOptions:{shouldForwardArgs:!0}}))}setScrollLeft(r){this._modifiedContentWidth.get()-this._modifiedWidth.get()>this._originalContentWidth.get()-this._originalWidth.get()?this.editor.getModifiedEditor().setScrollLeft(r):this.editor.getOriginalEditor().setScrollLeft(r)}setData(r){function f(ee){return sn(Di({},ee),{scrollBeyondLastLine:!1,hideUnchangedRegions:{enabled:!0},scrollbar:{vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1,useShadows:!1},renderOverviewRuler:!1,fixedOverflowWidgets:!0})}const I=r.viewModel.entry.value;I.onOptionsDidChange&&this._dataStore.add(I.onOptionsDidChange(()=>{var ee;this.editor.updateOptions(f((ee=I.options)!==null&&ee!==void 0?ee:{}))})),(0,Ks.Bl)(ee=>{var oe,me;(oe=this._resourceLabel)===null||oe===void 0||oe.setUri(r.viewModel.diffEditorViewModel.model.modified.uri),this._dataStore.clear(),this._viewModel.set(r.viewModel,ee),this.editor.setModel(r.viewModel.diffEditorViewModel,ee),this.editor.updateOptions(f((me=I.options)!==null&&me!==void 0?me:{}))})}render(r,f,I,ee){this._elements.root.style.visibility="visible",this._elements.root.style.top=`${r.start}px`,this._elements.root.style.height=`${r.length}px`,this._elements.root.style.width=`${f}px`,this._elements.root.style.position="absolute";const oe=Math.max(0,Math.min(r.length-this._headerHeight,ee.start-r.start));this._elements.header.style.transform=`translateY(${oe}px)`,(0,Ks.Bl)(me=>{this.editor.layout({width:f,height:r.length-this._outerEditorHeight})}),this.editor.getOriginalEditor().setScrollTop(I),this._elements.header.classList.toggle("shadow",oe>0||I>0)}hide(){this._elements.root.style.top="-100000px",this._elements.root.style.visibility="hidden"}};fc=bu([em(3,xi.TG)],fc);function gc(Le){return(0,no.rD)(r=>{const f=new k.SL;return f.add(Le.onDidFocusEditorWidget(()=>r(!0))),f.add(Le.onDidBlurEditorWidget(()=>r(!1))),f},()=>Le.hasWidgetFocus())}class Ad{constructor(r){this._create=r,this._unused=new Set,this._used=new Set,this._itemData=new Map}getUnusedObj(r){var f;let I;if(this._unused.size===0)I=this._create(r),this._itemData.set(I,r);else{const ee=[...this._unused.values()];I=(f=ee.find(oe=>this._itemData.get(oe).getId()===r.getId()))!==null&&f!==void 0?f:ee[0],this._unused.delete(I),this._itemData.set(I,r),I.setData(r)}return this._used.add(I),{object:I,dispose:()=>{this._used.delete(I),this._unused.size>5?I.dispose():this._unused.add(I)}}}dispose(){for(const r of this._used)r.dispose();for(const r of this._unused)r.dispose();this._used.clear(),this._unused.clear()}}var Kh=c(88582),Dd=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},Yh=function(Le,r){return function(f,I){r(f,I,Le)}};let Ru=class extends k.JT{constructor(r,f,I,ee,oe,me){super(),this._element=r,this._dimension=f,this._viewModel=I,this._workbenchUIElementFactory=ee,this._parentContextKeyService=oe,this._parentInstantiationService=me,this._elements=(0,Ne.h)("div",{style:{overflowY:"hidden"}},[(0,Ne.h)("div@content",{style:{overflow:"hidden"}}),(0,Ne.h)("div.monaco-editor@overflowWidgetsDomNode",{})]),this._sizeObserver=this._register(new vu.DU(this._element,void 0)),this._objectPool=this._register(new Ad(at=>{const _t=this._instantiationService.createInstance(fc,this._elements.content,this._elements.overflowWidgetsDomNode,this._workbenchUIElementFactory);return _t.setData(at),_t})),this._scrollable=this._register(new Id.Rm({forceIntegerValues:!1,scheduleAtNextAnimationFrame:at=>(0,Ne.jL)((0,Ne.Jj)(this._element),at),smoothScrollDuration:100})),this._scrollableElement=this._register(new An.$Z(this._elements.root,{vertical:1,horizontal:1,className:"monaco-component",useShadows:!1},this._scrollable)),this.scrollTop=(0,no.rD)(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollTop),this.scrollLeft=(0,no.rD)(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollLeft),this._viewItems=(0,no.Be)(this,(at,_t)=>{const Rt=this._viewModel.read(at);return Rt?Rt.items.read(at).map(Ti=>_t.add(new tm(Ti,this._objectPool,this.scrollLeft))):[]}),this._totalHeight=this._viewItems.map(this,(at,_t)=>at.reduce((Rt,Jt)=>Rt+Jt.contentHeight.read(_t),0)),this.activeDiffItem=(0,no.nK)(this,at=>this._viewItems.read(at).find(_t=>{var Rt;return(Rt=_t.template.read(at))===null||Rt===void 0?void 0:Rt.isFocused.read(at)})),this.lastActiveDiffItem=(0,no.bx)((at,_t)=>{var Rt;return(Rt=this.activeDiffItem.read(at))!==null&&Rt!==void 0?Rt:_t}),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._element)),this._instantiationService=this._parentInstantiationService.createChild(new zn.y([mt.i6,this._contextKeyService])),this._contextKeyService.createKey(Kh.u.inMultiDiffEditor.key,!0);const Ae=this._parentContextKeyService.createKey(Kh.u.multiDiffEditorAllCollapsed.key,!1);this._register((0,no.EH)(at=>{const _t=this._viewModel.read(at);if(_t){const Rt=_t.items.read(at).every(Jt=>Jt.collapsed.read(at));Ae.set(Rt)}})),this._register((0,no.EH)(at=>{const _t=this.lastActiveDiffItem.read(at);(0,Ks.PS)(Rt=>{var Jt;(Jt=this._viewModel.read(at))===null||Jt===void 0||Jt.activeDiffItem.set(_t==null?void 0:_t.viewModel,Rt)})})),this._register((0,no.EH)(at=>{const _t=this._dimension.read(at);this._sizeObserver.observe(_t)})),this._elements.content.style.position="relative",this._register((0,no.EH)(at=>{const _t=this._sizeObserver.height.read(at);this._elements.root.style.height=`${_t}px`;const Rt=this._totalHeight.read(at);this._elements.content.style.height=`${Rt}px`;const Jt=this._sizeObserver.width.read(at);let Ti=Jt;const yi=this._viewItems.read(at),xn=(0,zh.dI)(yi,Ls=>Ls.maxScroll.read(at).maxScroll);if(xn){const Ls=xn.maxScroll.read(at);Ti=Jt+Ls.maxScroll}this._scrollableElement.setScrollDimensions({width:Jt,height:_t,scrollHeight:Rt,scrollWidth:Ti})})),r.replaceChildren(this._scrollableElement.getDomNode()),this._register((0,k.OF)(()=>{r.replaceChildren()})),this._register(this._register((0,no.EH)(at=>{(0,Ks.Bl)(_t=>{this.render(at)})})))}render(r){const f=this.scrollTop.read(r);let I=0,ee=0,oe=0;const me=this._sizeObserver.height.read(r),Ae=pl.q.ofStartAndLength(f,me),at=this._sizeObserver.width.read(r);for(const _t of this._viewItems.read(r)){const Rt=_t.contentHeight.read(r),Jt=Math.min(Rt,me),Ti=pl.q.ofStartAndLength(ee,Jt),yi=pl.q.ofStartAndLength(oe,Rt);if(yi.isBefore(Ae))I-=Rt-Jt,_t.hide();else if(yi.isAfter(Ae))_t.hide();else{const xn=Math.max(0,Math.min(Ae.start-yi.start,Rt-Jt));I-=xn;const Ls=pl.q.ofStartAndLength(f+I,me);_t.render(Ti,xn,at,Ls)}ee+=Jt,oe+=Rt}this._elements.content.style.transform=`translateY(${-(f+I)}px)`}};Ru=Dd([Yh(4,mt.i6),Yh(5,xi.TG)],Ru);class tm extends k.JT{constructor(r,f,I){super(),this.viewModel=r,this._objectPool=f,this._scrollLeft=I,this._lastTemplateData=(0,no.uh)(this,{contentHeight:500,maxScroll:{maxScroll:0,width:0}}),this._templateRef=this._register((0,Ks.DN)(this,void 0)),this.contentHeight=(0,no.nK)(this,ee=>{var oe,me,Ae;return(Ae=(me=(oe=this._templateRef.read(ee))===null||oe===void 0?void 0:oe.object.height)===null||me===void 0?void 0:me.read(ee))!==null&&Ae!==void 0?Ae:this._lastTemplateData.read(ee).contentHeight}),this.maxScroll=(0,no.nK)(this,ee=>{var oe,me;return(me=(oe=this._templateRef.read(ee))===null||oe===void 0?void 0:oe.object.maxScroll.read(ee))!==null&&me!==void 0?me:this._lastTemplateData.read(ee).maxScroll}),this.template=(0,no.nK)(this,ee=>{var oe;return(oe=this._templateRef.read(ee))===null||oe===void 0?void 0:oe.object}),this._isHidden=(0,no.uh)(this,!1),this._register((0,no.EH)(ee=>{var oe;const me=this._scrollLeft.read(ee);(oe=this._templateRef.read(ee))===null||oe===void 0||oe.object.setScrollLeft(me)})),this._register((0,no.EH)(ee=>{const oe=this._templateRef.read(ee);!oe||!this._isHidden.read(ee)||oe.object.isFocused.read(ee)||(0,Ks.PS)(at=>{this._lastTemplateData.set({contentHeight:oe.object.height.get(),maxScroll:{maxScroll:0,width:0}},at),oe.object.hide(),this._templateRef.set(void 0,at)})}))}dispose(){this.hide(),super.dispose()}toString(){return`VirtualViewItem(${this.viewModel.entry.value.title})`}hide(){this._isHidden.set(!0,void 0)}render(r,f,I,ee){this._isHidden.set(!1,void 0);let oe=this._templateRef.get();oe||(oe=this._objectPool.getUnusedObj(new Lu(this.viewModel)),this._templateRef.set(oe,void 0)),oe.object.render(r,I,f,ee)}}const Xa=(0,Hs.P6G)("multiDiffEditor.headerBackground",{dark:"#808080",light:"#b4b4b4",hcDark:"#808080",hcLight:"#b4b4b4"},(0,hi.NC)("multiDiffEditor.headerBackground","The background color of the diff editor's header"));var mc=function(Le,r,f,I){var ee=arguments.length,oe=ee<3?r:I===null?I=Object.getOwnPropertyDescriptor(r,f):I,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Le,r,f,I);else for(var Ae=Le.length-1;Ae>=0;Ae--)(me=Le[Ae])&&(oe=(ee<3?me(oe):ee>3?me(r,f,oe):me(r,f))||oe);return ee>3&&oe&&Object.defineProperty(r,f,oe),oe},im=function(Le,r){return function(f,I){r(f,I,Le)}};let Nu=class extends k.JT{constructor(r,f,I){super(),this._element=r,this._workbenchUIElementFactory=f,this._instantiationService=I,this._dimension=(0,no.uh)(this,void 0),this._viewModel=(0,no.uh)(this,void 0),this._widgetImpl=(0,no.Be)(this,(ee,oe)=>((0,vu.NW)(fc,ee),oe.add(this._instantiationService.createInstance((0,vu.NW)(Ru,ee),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory)))),this._register((0,no.jx)(this._widgetImpl))}};Nu=mc([im(2,xi.TG)],Nu);function Iu(Le,r,f){return yn.initialize(f||{}).createInstance(ml,Le,r)}function nm(Le){return yn.get(y.$).onCodeEditorAdd(f=>{Le(f)})}function Hl(Le){return yn.get(y.$).onDiffEditorAdd(f=>{Le(f)})}function pc(){return yn.get(y.$).listCodeEditors()}function _l(){return yn.get(y.$).listDiffEditors()}function Qa(Le,r,f){return yn.initialize(f||{}).createInstance(ir,Le,r)}function Cl(Le,r){const f=yn.initialize(r||{});return new Nu(Le,{},f)}function jh(Le){if(typeof Le.id!="string"||typeof Le.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return Ji.P.registerCommand(Le.id,Le.run)}function wd(Le){if(typeof Le.id!="string"||typeof Le.label!="string"||typeof Le.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const r=mt.Ao.deserialize(Le.precondition),f=(ee,...oe)=>B._l.runEditorCommand(ee,oe,r,(me,Ae,at)=>Promise.resolve(Le.run(Ae,...at))),I=new k.SL;if(I.add(Ji.P.registerCommand(Le.id,f)),Le.contextMenuGroupId){const ee={command:{id:Le.id,title:Le.label},when:r,group:Le.contextMenuGroupId,order:Le.contextMenuOrder||0};I.add(Oi.BH.appendMenuItem(Oi.eH.EditorContext,ee))}if(Array.isArray(Le.keybindings)){const ee=yn.get(qi.d);if(!(ee instanceof Oo))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const oe=mt.Ao.and(r,mt.Ao.deserialize(Le.keybindingContext));I.add(ee.addDynamicKeybindings(Le.keybindings.map(me=>({keybinding:me,command:Le.id,when:oe}))))}}return I}function Au(Le){return yd([Le])}function yd(Le){const r=yn.get(qi.d);return r instanceof Oo?r.addDynamicKeybindings(Le.map(f=>({keybinding:f.keybinding,command:f.command,commandArgs:f.commandArgs,when:mt.Ao.deserialize(f.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),k.JT.None)}function Du(Le,r,f){const I=yn.get(R.O),ee=I.getLanguageIdByMimeType(r)||r;return uc(yn.get(Z.q),I,Le,ee,f)}function wu(Le,r){const f=yn.get(R.O),I=f.getLanguageIdByMimeType(r)||r||F.bd;Le.setLanguage(f.createById(I))}function Od(Le,r,f){Le&&yn.get(po.lT).changeOne(r,Le.uri,f)}function _c(Le){yn.get(po.lT).changeAll(Le,[])}function $h(Le){return yn.get(po.lT).read(Le)}function Xh(Le){return yn.get(po.lT).onMarkerChanged(Le)}function Qh(Le){return yn.get(Z.q).getModel(Le)}function Cc(){return yn.get(Z.q).getModels()}function Pd(Le){return yn.get(Z.q).onModelAdded(Le)}function La(Le){return yn.get(Z.q).onModelRemoved(Le)}function Ul(Le){return yn.get(Z.q).onModelLanguageChanged(f=>{Le({model:f.model,oldLanguage:f.oldLanguageId})})}function Md(Le){return S(yn.get(Z.q),yn.get(V.c_),Le)}function xd(Le,r){const f=yn.get(R.O),I=yn.get(ar.Z);return we.colorizeElement(I,f,Le,r).then(()=>{I.registerEditorContainer(Le)})}function kd(Le,r,f){const I=yn.get(R.O);return yn.get(ar.Z).registerEditorContainer(v.Ex.document.body),we.colorize(I,Le,r,f)}function Ec(Le,r,f=4){return yn.get(ar.Z).registerEditorContainer(v.Ex.document.body),we.colorizeModelLine(Le,r,f)}function Sc(Le){const r=O.RW.get(Le);return r||{getInitialState:()=>Y.TJ,tokenize:(f,I,ee)=>(0,Y.Ri)(Le,ee)}}function vc(Le,r){O.RW.getOrCreate(r);const f=Sc(r),I=(0,L.uq)(Le),ee=[];let oe=f.getInitialState();for(let me=0,Ae=I.length;me<Ae;me++){const at=I[me],_t=f.tokenize(at,!0,oe);ee[me]=_t.tokens,oe=_t.endState}return ee}function Tc(Le,r){yn.get(ar.Z).defineTheme(Le,r)}function bc(Le){yn.get(ar.Z).setTheme(Le)}function Vl(){M.g.clearAllFontInfos()}function Zo(Le,r){return Ji.P.registerCommand({id:Le,handler:r})}function Fd(Le){return yn.get(kr.v).registerOpener({open(I){return At(this,null,function*(){return typeof I=="string"&&(I=T.o.parse(I)),Le.open(I)})}})}function Jh(Le){return yn.get(y.$).registerCodeEditorOpenHandler((f,I,ee)=>At(this,null,function*(){var oe;if(!I)return null;const me=(oe=f.options)===null||oe===void 0?void 0:oe.selection;let Ae;return me&&typeof me.endLineNumber=="number"&&typeof me.endColumn=="number"?Ae=me:me&&(Ae={lineNumber:me.startLineNumber,column:me.startColumn}),(yield Le.openCodeEditor(I,f.resource,Ae))?I:null}))}function Zh(){return{create:Iu,getEditors:pc,getDiffEditors:_l,onDidCreateEditor:nm,onDidCreateDiffEditor:Hl,createDiffEditor:Qa,addCommand:jh,addEditorAction:wd,addKeybindingRule:Au,addKeybindingRules:yd,createModel:Du,setModelLanguage:wu,setModelMarkers:Od,getModelMarkers:$h,removeAllMarkers:_c,onDidChangeMarkers:Xh,getModels:Cc,getModel:Qh,onDidCreateModel:Pd,onWillDisposeModel:La,onDidChangeModelLanguage:Ul,createWebWorker:Md,colorizeElement:xd,colorize:kd,colorizeModelLine:Ec,tokenize:vc,defineTheme:Tc,setTheme:bc,remeasureFonts:Vl,registerCommand:Zo,registerLinkOpener:Fd,registerEditorOpener:Jh,AccessibilitySupport:ne.ao,ContentWidgetPositionPreference:ne.r3,CursorChangeReason:ne.Vi,DefaultEndOfLine:ne._x,EditorAutoIndentStrategy:ne.rf,EditorOption:ne.wT,EndOfLinePreference:ne.gm,EndOfLineSequence:ne.jl,MinimapPosition:ne.F5,MouseTargetType:ne.MG,OverlayWidgetPositionPreference:ne.E$,OverviewRulerLane:ne.sh,GlyphMarginLane:ne.U,RenderLineNumbersType:ne.Lu,RenderMinimap:ne.vQ,ScrollbarVisibility:ne.g_,ScrollType:ne.g4,TextEditorCursorBlinkingStyle:ne.In,TextEditorCursorStyle:ne.d2,TrackedRangeStickiness:ne.OI,WrappingIndent:ne.up,InjectedTextCursorStops:ne.RM,PositionAffinity:ne.py,ShowAiIconMode:ne.JO,ConfigurationChangedEvent:D.Bb,BareFontInfo:u.E4,FontInfo:u.pR,TextModelResolvedOptions:G.dJ,FindMatch:G.tk,ApplyUpdateResult:D.rk,EditorZoom:a.C,createMultiFileDiffEditor:Cl,EditorType:N.g,EditorOptions:D.BH}}var qh=c(72225);function ef(Le,r){if(!r||!Array.isArray(r))return!1;for(const f of r)if(!Le(f))return!1;return!0}function Lc(Le,r){return typeof Le=="boolean"?Le:r}function tf(Le,r){return typeof Le=="string"?Le:r}function yu(Le){const r={};for(const f of Le)r[f]=!0;return r}function Gl(Le,r=!1){r&&(Le=Le.map(function(I){return I.toLowerCase()}));const f=yu(Le);return r?function(I){return f[I.toLowerCase()]!==void 0&&f.hasOwnProperty(I.toLowerCase())}:function(I){return f[I]!==void 0&&f.hasOwnProperty(I)}}function Ra(Le,r){r=r.replace(/@@/g,"");let f=0,I;do I=!1,r=r.replace(/@(\w+)/g,function(oe,me){I=!0;let Ae="";if(typeof Le[me]=="string")Ae=Le[me];else if(Le[me]&&Le[me]instanceof RegExp)Ae=Le[me].source;else throw Le[me]===void 0?Ee(Le,"language definition does not contain attribute '"+me+"', used at: "+r):Ee(Le,"attribute reference '"+me+"' must be a string, used at: "+r);return K(Ae)?"":"(?:"+Ae+")"}),f++;while(I&&f<5);r=r.replace(/\x01/g,"@");const ee=(Le.ignoreCase?"i":"")+(Le.unicode?"u":"");return new RegExp(r,ee)}function nf(Le,r,f,I){if(I<0)return Le;if(I<r.length)return r[I];if(I>=100){I=I-100;const ee=f.split(".");if(ee.unshift(f),I<ee.length)return ee[I]}return null}function Rc(Le,r,f,I){let ee=-1,oe=f,me=f.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);me&&(me[3]&&(ee=parseInt(me[3]),me[2]&&(ee=ee+100)),oe=me[4]);let Ae="~",at=oe;!oe||oe.length===0?(Ae="!=",at=""):/^\w*$/.test(at)?Ae="==":(me=oe.match(/^(@|!@|~|!~|==|!=)(.*)$/),me&&(Ae=me[1],at=me[2]));let _t;if((Ae==="~"||Ae==="!~")&&/^(\w|\|)*$/.test(at)){const Rt=Gl(at.split("|"),Le.ignoreCase);_t=function(Jt){return Ae==="~"?Rt(Jt):!Rt(Jt)}}else if(Ae==="@"||Ae==="!@"){const Rt=Le[at];if(!Rt)throw Ee(Le,"the @ match target '"+at+"' is not defined, in rule: "+r);if(!ef(function(Ti){return typeof Ti=="string"},Rt))throw Ee(Le,"the @ match target '"+at+"' must be an array of strings, in rule: "+r);const Jt=Gl(Rt,Le.ignoreCase);_t=function(Ti){return Ae==="@"?Jt(Ti):!Jt(Ti)}}else if(Ae==="~"||Ae==="!~")if(at.indexOf("$")<0){const Rt=Ra(Le,"^"+at+"$");_t=function(Jt){return Ae==="~"?Rt.test(Jt):!Rt.test(Jt)}}else _t=function(Rt,Jt,Ti,yi){return Ra(Le,"^"+Ce(Le,at,Jt,Ti,yi)+"$").test(Rt)};else if(at.indexOf("$")<0){const Rt=ie(Le,at);_t=function(Jt){return Ae==="=="?Jt===Rt:Jt!==Rt}}else{const Rt=ie(Le,at);_t=function(Jt,Ti,yi,xn,Ls){const Ms=Ce(Le,Rt,Ti,yi,xn);return Ae==="=="?Jt===Ms:Jt!==Ms}}return ee===-1?{name:f,value:I,test:function(Rt,Jt,Ti,yi){return _t(Rt,Rt,Jt,Ti,yi)}}:{name:f,value:I,test:function(Rt,Jt,Ti,yi){const xn=nf(Rt,Jt,Ti,ee);return _t(xn||"",Rt,Jt,Ti,yi)}}}function zl(Le,r,f){if(f){if(typeof f=="string")return f;if(f.token||f.token===""){if(typeof f.token!="string")throw Ee(Le,"a 'token' attribute must be of type string, in rule: "+r);{const I={token:f.token};if(f.token.indexOf("$")>=0&&(I.tokenSubst=!0),typeof f.bracket=="string")if(f.bracket==="@open")I.bracket=1;else if(f.bracket==="@close")I.bracket=-1;else throw Ee(Le,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+r);if(f.next){if(typeof f.next!="string")throw Ee(Le,"the next state must be a string value in rule: "+r);{let ee=f.next;if(!/^(@pop|@push|@popall)$/.test(ee)&&(ee[0]==="@"&&(ee=ee.substr(1)),ee.indexOf("$")<0&&!xe(Le,Ce(Le,ee,"",[],""))))throw Ee(Le,"the next state '"+f.next+"' is not defined in rule: "+r);I.next=ee}}return typeof f.goBack=="number"&&(I.goBack=f.goBack),typeof f.switchTo=="string"&&(I.switchTo=f.switchTo),typeof f.log=="string"&&(I.log=f.log),typeof f.nextEmbedded=="string"&&(I.nextEmbedded=f.nextEmbedded,Le.usesEmbedded=!0),I}}else if(Array.isArray(f)){const I=[];for(let ee=0,oe=f.length;ee<oe;ee++)I[ee]=zl(Le,r,f[ee]);return{group:I}}else if(f.cases){const I=[];for(const oe in f.cases)if(f.cases.hasOwnProperty(oe)){const me=zl(Le,r,f.cases[oe]);oe==="@default"||oe==="@"||oe===""?I.push({test:void 0,value:me,name:oe}):oe==="@eos"?I.push({test:function(Ae,at,_t,Rt){return Rt},value:me,name:oe}):I.push(Rc(Le,r,oe,me))}const ee=Le.defaultToken;return{test:function(oe,me,Ae,at){for(const _t of I)if(!_t.test||_t.test(oe,me,Ae,at))return _t.value;return ee}}}else throw Ee(Le,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+r)}else return{token:""}}class sf{constructor(r){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=r}setRegex(r,f){let I;if(typeof f=="string")I=f;else if(f instanceof RegExp)I=f.source;else throw Ee(r,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=I.length>0&&I[0]==="^",this.name=this.name+": "+I,this.regex=Ra(r,"^(?:"+(this.matchOnlyAtLineStart?I.substr(1):I)+")")}setAction(r,f){this.action=zl(r,this.name,f)}}function Nc(Le,r){if(!r||typeof r!="object")throw new Error("Monarch: expecting a language definition object");const f={};f.languageId=Le,f.includeLF=Lc(r.includeLF,!1),f.noThrow=!1,f.maxStack=100,f.start=typeof r.start=="string"?r.start:null,f.ignoreCase=Lc(r.ignoreCase,!1),f.unicode=Lc(r.unicode,!1),f.tokenPostfix=tf(r.tokenPostfix,"."+f.languageId),f.defaultToken=tf(r.defaultToken,"source"),f.usesEmbedded=!1;const I=r;I.languageId=Le,I.includeLF=f.includeLF,I.ignoreCase=f.ignoreCase,I.unicode=f.unicode,I.noThrow=f.noThrow,I.usesEmbedded=f.usesEmbedded,I.stateNames=r.tokenizer,I.defaultToken=f.defaultToken;function ee(me,Ae,at){for(const _t of at){let Rt=_t.include;if(Rt){if(typeof Rt!="string")throw Ee(f,"an 'include' attribute must be a string at: "+me);if(Rt[0]==="@"&&(Rt=Rt.substr(1)),!r.tokenizer[Rt])throw Ee(f,"include target '"+Rt+"' is not defined at: "+me);ee(me+"."+Rt,Ae,r.tokenizer[Rt])}else{const Jt=new sf(me);if(Array.isArray(_t)&&_t.length>=1&&_t.length<=3)if(Jt.setRegex(I,_t[0]),_t.length>=3)if(typeof _t[1]=="string")Jt.setAction(I,{token:_t[1],next:_t[2]});else if(typeof _t[1]=="object"){const Ti=_t[1];Ti.next=_t[2],Jt.setAction(I,Ti)}else throw Ee(f,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+me);else Jt.setAction(I,_t[1]);else{if(!_t.regex)throw Ee(f,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+me);_t.name&&typeof _t.name=="string"&&(Jt.name=_t.name),_t.matchOnlyAtStart&&(Jt.matchOnlyAtLineStart=Lc(_t.matchOnlyAtLineStart,!1)),Jt.setRegex(I,_t.regex),Jt.setAction(I,_t.action)}Ae.push(Jt)}}}if(!r.tokenizer||typeof r.tokenizer!="object")throw Ee(f,"a language definition must define the 'tokenizer' attribute as an object");f.tokenizer=[];for(const me in r.tokenizer)if(r.tokenizer.hasOwnProperty(me)){f.start||(f.start=me);const Ae=r.tokenizer[me];f.tokenizer[me]=new Array,ee("tokenizer."+me,f.tokenizer[me],Ae)}if(f.usesEmbedded=I.usesEmbedded,r.brackets){if(!Array.isArray(r.brackets))throw Ee(f,"the 'brackets' attribute must be defined as an array")}else r.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const oe=[];for(const me of r.brackets){let Ae=me;if(Ae&&Array.isArray(Ae)&&Ae.length===3&&(Ae={token:Ae[2],open:Ae[0],close:Ae[1]}),Ae.open===Ae.close)throw Ee(f,"open and close brackets in a 'brackets' attribute must be different: "+Ae.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof Ae.open=="string"&&typeof Ae.token=="string"&&typeof Ae.close=="string")oe.push({token:Ae.token+f.tokenPostfix,open:ie(f,Ae.open),close:ie(f,Ae.close)});else throw Ee(f,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return f.brackets=oe,f.noThrow=!0,f}function sm(Le){F.dQ.registerLanguage(Le)}function om(){let Le=[];return Le=Le.concat(F.dQ.getLanguages()),Le}function of(Le){return yn.get(R.O).languageIdCodec.encodeLanguageId(Le)}function Ou(Le,r){return yn.withServices(()=>{const I=yn.get(R.O).onDidRequestRichLanguageFeatures(ee=>{ee===Le&&(I.dispose(),r())});return I})}function Ic(Le,r){return yn.withServices(()=>{const I=yn.get(R.O).onDidRequestBasicLanguageFeatures(ee=>{ee===Le&&(I.dispose(),r())});return I})}function El(Le,r){if(!yn.get(R.O).isRegisteredLanguageId(Le))throw new Error(`Cannot set configuration for unknown language ${Le}`);return yn.get(V.c_).register(Le,r,100)}class Pu{constructor(r,f){this._languageId=r,this._actual=f}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(r,f,I){if(typeof this._actual.tokenize=="function")return Bd.adaptTokenize(this._languageId,this._actual,r,I);throw new Error("Not supported!")}tokenizeEncoded(r,f,I){const ee=this._actual.tokenizeEncoded(r,I);return new O.DI(ee.tokens,ee.endState)}}class Bd{constructor(r,f,I,ee){this._languageId=r,this._actual=f,this._languageService=I,this._standaloneThemeService=ee}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(r,f){const I=[];let ee=0;for(let oe=0,me=r.length;oe<me;oe++){const Ae=r[oe];let at=Ae.startIndex;oe===0?at=0:at<ee&&(at=ee),I[oe]=new O.WU(at,Ae.scopes,f),ee=at}return I}static adaptTokenize(r,f,I,ee){const oe=f.tokenize(I,ee),me=Bd._toClassicTokens(oe.tokens,r);let Ae;return oe.endState.equals(ee)?Ae=ee:Ae=oe.endState,new O.hG(me,Ae)}tokenize(r,f,I){return Bd.adaptTokenize(this._languageId,this._actual,r,I)}_toBinaryTokens(r,f){const I=r.encodeLanguageId(this._languageId),ee=this._standaloneThemeService.getColorTheme().tokenTheme,oe=[];let me=0,Ae=0;for(let _t=0,Rt=f.length;_t<Rt;_t++){const Jt=f[_t],Ti=ee.match(I,Jt.scopes)|1024;if(me>0&&oe[me-1]===Ti)continue;let yi=Jt.startIndex;_t===0?yi=0:yi<Ae&&(yi=Ae),oe[me++]=yi,oe[me++]=Ti,Ae=yi}const at=new Uint32Array(me);for(let _t=0;_t<me;_t++)at[_t]=oe[_t];return at}tokenizeEncoded(r,f,I){const ee=this._actual.tokenize(r,I),oe=this._toBinaryTokens(this._languageService.languageIdCodec,ee.tokens);let me;return ee.endState.equals(I)?me=I:me=ee.endState,new O.DI(oe,me)}}function rm(Le){return typeof Le.getInitialState=="function"}function am(Le){return"tokenizeEncoded"in Le}function Ac(Le){return Le&&typeof Le.then=="function"}function Sl(Le){const r=yn.get(ar.Z);if(Le){const f=[null];for(let I=1,ee=Le.length;I<ee;I++)f[I]=qh.Il.fromHex(Le[I]);r.setColorMapOverride(f)}else r.setColorMapOverride(null)}function Wd(Le,r){return am(r)?new Pu(Le,r):new Bd(Le,r,yn.get(R.O),yn.get(ar.Z))}function Gr(Le,r){const f=new O.MO(()=>At(this,null,function*(){const I=yield Promise.resolve(r.create());return I?rm(I)?Wd(Le,I):new Tt(yn.get(R.O),yn.get(ar.Z),Le,Nc(Le,I),yn.get(x.Ui)):null}));return O.RW.registerFactory(Le,f)}function rf(Le,r){if(!yn.get(R.O).isRegisteredLanguageId(Le))throw new Error(`Cannot set tokens provider for unknown language ${Le}`);return Ac(r)?Gr(Le,{create:()=>r}):O.RW.register(Le,Wd(Le,r))}function Dc(Le,r){const f=I=>new Tt(yn.get(R.O),yn.get(ar.Z),Le,Nc(Le,I),yn.get(x.Ui));return Ac(r)?Gr(Le,{create:()=>r}):O.RW.register(Le,f(r))}function af(Le,r){return yn.get(mn.p).referenceProvider.register(Le,r)}function lm(Le,r){return yn.get(mn.p).renameProvider.register(Le,r)}function dm(Le,r){return yn.get(mn.p).signatureHelpProvider.register(Le,r)}function lf(Le,r){return yn.get(mn.p).hoverProvider.register(Le,{provideHover:(I,ee,oe)=>{const me=I.getWordAtPosition(ee);return Promise.resolve(r.provideHover(I,ee,oe)).then(Ae=>{if(Ae)return!Ae.range&&me&&(Ae.range=new Si.e(ee.lineNumber,me.startColumn,ee.lineNumber,me.endColumn)),Ae.range||(Ae.range=new Si.e(ee.lineNumber,ee.column,ee.lineNumber,ee.column)),Ae})}})}function Mu(Le,r){return yn.get(mn.p).documentSymbolProvider.register(Le,r)}function cm(Le,r){return yn.get(mn.p).documentHighlightProvider.register(Le,r)}function Ja(Le,r){return yn.get(mn.p).linkedEditingRangeProvider.register(Le,r)}function wc(Le,r){return yn.get(mn.p).definitionProvider.register(Le,r)}function yc(Le,r){return yn.get(mn.p).implementationProvider.register(Le,r)}function df(Le,r){return yn.get(mn.p).typeDefinitionProvider.register(Le,r)}function cf(Le,r){return yn.get(mn.p).codeLensProvider.register(Le,r)}function Kl(Le,r,f){return yn.get(mn.p).codeActionProvider.register(Le,{providedCodeActionKinds:f==null?void 0:f.providedCodeActionKinds,documentation:f==null?void 0:f.documentation,provideCodeActions:(ee,oe,me,Ae)=>{const _t=yn.get(po.lT).read({resource:ee.uri}).filter(Rt=>Si.e.areIntersectingOrTouching(Rt,oe));return r.provideCodeActions(ee,oe,{markers:_t,only:me.only,trigger:me.trigger},Ae)},resolveCodeAction:r.resolveCodeAction})}function um(Le,r){return yn.get(mn.p).documentFormattingEditProvider.register(Le,r)}function hm(Le,r){return yn.get(mn.p).documentRangeFormattingEditProvider.register(Le,r)}function fm(Le,r){return yn.get(mn.p).onTypeFormattingEditProvider.register(Le,r)}function xu(Le,r){return yn.get(mn.p).linkProvider.register(Le,r)}function gm(Le,r){return yn.get(mn.p).completionProvider.register(Le,r)}function mm(Le,r){return yn.get(mn.p).colorProvider.register(Le,r)}function pm(Le,r){return yn.get(mn.p).foldingRangeProvider.register(Le,r)}function Oc(Le,r){return yn.get(mn.p).declarationProvider.register(Le,r)}function uf(Le,r){return yn.get(mn.p).selectionRangeProvider.register(Le,r)}function oa(Le,r){return yn.get(mn.p).documentSemanticTokensProvider.register(Le,r)}function Pc(Le,r){return yn.get(mn.p).documentRangeSemanticTokensProvider.register(Le,r)}function hf(Le,r){return yn.get(mn.p).inlineCompletionsProvider.register(Le,r)}function _m(Le,r){return yn.get(mn.p).inlayHintsProvider.register(Le,r)}function ff(){return{register:sm,getLanguages:om,onLanguage:Ou,onLanguageEncountered:Ic,getEncodedLanguageId:of,setLanguageConfiguration:El,setColorMap:Sl,registerTokensProviderFactory:Gr,setTokensProvider:rf,setMonarchTokensProvider:Dc,registerReferenceProvider:af,registerRenameProvider:lm,registerCompletionItemProvider:gm,registerSignatureHelpProvider:dm,registerHoverProvider:lf,registerDocumentSymbolProvider:Mu,registerDocumentHighlightProvider:cm,registerLinkedEditingRangeProvider:Ja,registerDefinitionProvider:wc,registerImplementationProvider:yc,registerTypeDefinitionProvider:df,registerCodeLensProvider:cf,registerCodeActionProvider:Kl,registerDocumentFormattingEditProvider:um,registerDocumentRangeFormattingEditProvider:hm,registerOnTypeFormattingEditProvider:fm,registerLinkProvider:xu,registerColorProvider:mm,registerFoldingRangeProvider:pm,registerDeclarationProvider:Oc,registerSelectionRangeProvider:uf,registerDocumentSemanticTokensProvider:oa,registerDocumentRangeSemanticTokensProvider:Pc,registerInlineCompletionsProvider:hf,registerInlayHintsProvider:_m,DocumentHighlightKind:ne.MY,CompletionItemKind:ne.cm,CompletionItemTag:ne.we,CompletionItemInsertTextRule:ne.a7,SymbolKind:ne.cR,SymbolTag:ne.r4,IndentAction:ne.wU,CompletionTriggerKind:ne.Ij,SignatureHelpTriggerKind:ne.WW,InlayHintKind:ne.gl,InlineCompletionTriggerKind:ne.bw,CodeActionTriggerType:ne.np,FoldingRangeKind:O.AD,SelectedSuggestionInfo:O.ln}}var gf=c(94519);D.BH.wrappingIndent.defaultValue=0,D.BH.glyphMargin.defaultValue=!1,D.BH.autoIndent.defaultValue=3,D.BH.overviewRulerLanes.defaultValue=2,gf.xC.setFormatterSelector((Le,r,f)=>Promise.resolve(Le[0]));const ko=(0,X.O)();ko.editor=Zh(),ko.languages=ff();const mf=ko.CancellationTokenSource,ku=ko.Emitter,pf=ko.KeyCode,Fu=ko.KeyMod,Mc=ko.Position,Bu=ko.Range,Cm=ko.Selection,Yl=ko.SelectionDirection,Wu=ko.MarkerSeverity,Em=ko.MarkerTag,jl=ko.Uri,_f=ko.Token,Cf=ko.editor,Ef=ko.languages,Hd=globalThis.MonacoEnvironment;(Hd!=null&&Hd.globalAPI||typeof define=="function"&&c.amdO)&&(globalThis.monaco=ko),typeof globalThis.require!="undefined"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},97818:function(Gt,ze,c){"use strict";c.d(ze,{VD:function(){return D.KeyCode},DC:function(){return D.KeyMod},e6:function(){return D.Range},j6:function(){return D.editor},Mj:function(){return D.languages}});var D=c(51293);var X=Object.defineProperty,v=Object.getOwnPropertyDescriptor,k=Object.getOwnPropertyNames,L=Object.prototype.hasOwnProperty,T=(g,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of k(e))!L.call(g,s)&&s!==t&&X(g,s,{get:()=>e[s],enumerable:!(i=v(e,s))||i.enumerable});return g},M=(g,e,t)=>(T(g,e,"default"),t&&T(t,e,"default")),B={};M(B,D);var y={},b={},C=class{constructor(g){ho(this,"_languageId");ho(this,"_loadingTriggered");ho(this,"_lazyLoadPromise");ho(this,"_lazyLoadPromiseResolve");ho(this,"_lazyLoadPromiseReject");this._languageId=g,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((e,t)=>{this._lazyLoadPromiseResolve=e,this._lazyLoadPromiseReject=t})}static getOrCreate(g){return b[g]||(b[g]=new C(g)),b[g]}load(){return this._loadingTriggered||(this._loadingTriggered=!0,y[this._languageId].loader().then(g=>this._lazyLoadPromiseResolve(g),g=>this._lazyLoadPromiseReject(g))),this._lazyLoadPromise}};function S(g){return At(this,null,function*(){yield C.getOrCreate(g).load(),B.editor.createModel("",g).dispose()})}function _(g){const e=g.id;y[e]=g,B.languages.register(g);const t=C.getOrCreate(e);B.languages.registerTokensProviderFactory(e,{create:()=>At(this,null,function*(){return(yield t.load()).language})}),B.languages.onLanguageEncountered(e,()=>At(this,null,function*(){const i=yield t.load();B.languages.setLanguageConfiguration(e,i.conf)}))}_({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>c.e(6779).then(c.bind(c,96779))});_({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>c.e(1200).then(c.bind(c,71200))});_({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>c.e(1407).then(c.bind(c,91407))});_({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>c.e(9474).then(c.bind(c,39474))});_({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>c.e(638).then(c.bind(c,50638))});_({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>c.e(6969).then(c.bind(c,56969))});_({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>c.e(5634).then(c.bind(c,41355))});_({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>c.e(5723).then(c.bind(c,35723))});_({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>c.e(8668).then(c.bind(c,18668))}),_({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>c.e(8668).then(c.bind(c,18668))});_({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>c.e(1050).then(c.bind(c,11050))});_({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>c.e(7120).then(c.bind(c,47120))});_({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>c.e(562).then(c.bind(c,50562))});_({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>c.e(248).then(c.bind(c,80248))});_({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>c.e(3595).then(c.bind(c,93595))});_({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>c.e(2695).then(c.bind(c,22695))});_({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>c.e(8327).then(c.bind(c,58327))});_({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>c.e(6525).then(c.bind(c,56525))});_({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>c.e(9611).then(c.bind(c,89611))});_({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>c.e(4758).then(c.bind(c,4758))});_({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>c.e(7119).then(c.bind(c,57119)).then(g=>g.TagAutoInterpolationDollar)}),_({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>c.e(7119).then(c.bind(c,57119)).then(g=>g.TagAngleInterpolationDollar)}),_({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>c.e(7119).then(c.bind(c,57119)).then(g=>g.TagBracketInterpolationDollar)}),_({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>c.e(7119).then(c.bind(c,57119)).then(g=>g.TagAngleInterpolationBracket)}),_({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>c.e(7119).then(c.bind(c,57119)).then(g=>g.TagBracketInterpolationBracket)}),_({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>c.e(7119).then(c.bind(c,57119)).then(g=>g.TagAutoInterpolationDollar)}),_({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>c.e(7119).then(c.bind(c,57119)).then(g=>g.TagAutoInterpolationBracket)});_({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>c.e(461).then(c.bind(c,40461))});_({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>c.e(4666).then(c.bind(c,24666))});_({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>c.e(3307).then(c.bind(c,43307))});_({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>c.e(6882).then(c.bind(c,46882))});_({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>c.e(6975).then(c.bind(c,16975))});_({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>c.e(6167).then(c.bind(c,56167))});_({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>c.e(5917).then(c.bind(c,5917))});_({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>c.e(9764).then(c.bind(c,19764))});_({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>c.e(1564).then(c.bind(c,31564))});_({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>c.e(2970).then(c.bind(c,62970))});_({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>c.e(2854).then(c.bind(c,72854))});_({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>c.e(4992).then(c.bind(c,54992))});_({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>c.e(5359).then(c.bind(c,65359))});_({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>c.e(1354).then(c.bind(c,71354))});_({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>c.e(9036).then(c.bind(c,9036))});_({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>c.e(6103).then(c.bind(c,46103))});_({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>c.e(5024).then(c.bind(c,35024))});_({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>c.e(6575).then(c.bind(c,76575))});_({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>c.e(3489).then(c.bind(c,83489))});_({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>c.e(131).then(c.bind(c,10131))});_({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>c.e(7406).then(c.bind(c,7406))});_({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>c.e(3478).then(c.bind(c,73478))});_({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>c.e(19).then(c.bind(c,40019))});_({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>c.e(2419).then(c.bind(c,62419))});_({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>c.e(4888).then(c.bind(c,64888))});_({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>c.e(478).then(c.bind(c,80478))});_({id:"pla",extensions:[".pla"],loader:()=>c.e(9173).then(c.bind(c,89173))});_({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>c.e(8367).then(c.bind(c,68367))});_({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>c.e(2106).then(c.bind(c,22106))});_({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>c.e(7577).then(c.bind(c,97577))});_({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>c.e(6342).then(c.bind(c,56342))});_({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>c.e(1410).then(c.bind(c,21410))});_({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>c.e(791).then(c.bind(c,50791))});_({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>c.e(7866).then(c.bind(c,17866))});_({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>c.e(364).then(c.bind(c,10364))});_({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>c.e(9404).then(c.bind(c,9404))});_({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>c.e(9657).then(c.bind(c,59657))});_({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>c.e(697).then(c.bind(c,697))});_({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>c.e(5871).then(c.bind(c,55871))});_({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>c.e(3095).then(c.bind(c,53095))});_({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>c.e(7320).then(c.bind(c,17320))});_({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>c.e(1131).then(c.bind(c,41131))});_({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>c.e(9631).then(c.bind(c,19631))});_({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>c.e(6313).then(c.bind(c,16313))});_({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>c.e(7588).then(c.bind(c,97588))});_({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>c.e(1355).then(c.bind(c,21355))});_({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>c.e(9668).then(c.bind(c,39668))});_({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>c.e(3751).then(c.bind(c,43751))});_({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>c.e(5605).then(c.bind(c,95605))});_({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>c.e(1074).then(c.bind(c,61074))});_({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>c.e(5927).then(c.bind(c,85927))});_({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>c.e(8794).then(c.bind(c,68794))});_({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>c.e(7837).then(c.bind(c,67837))}),_({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>c.e(7837).then(c.bind(c,67837))});_({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>c.e(790).then(c.bind(c,90790))});_({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>c.e(8906).then(c.bind(c,38906))});_({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>c.e(6377).then(c.bind(c,86377))});_({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>c.e(8753).then(c.bind(c,8753))});_({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>c.e(9333).then(c.bind(c,39333))});_({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>c.e(6981).then(c.bind(c,55471))});_({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>c.e(1510).then(c.bind(c,11510))});var a=Object.defineProperty,u=Object.getOwnPropertyDescriptor,N=Object.getOwnPropertyNames,O=Object.prototype.hasOwnProperty,R=(g,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of N(e))!O.call(g,s)&&s!==t&&a(g,s,{get:()=>e[s],enumerable:!(i=u(e,s))||i.enumerable});return g},V=(g,e,t)=>(R(g,e,"default"),t&&R(t,e,"default")),F={};V(F,D);var Y=class{constructor(g,e,t){ho(this,"_onDidChange",new F.Emitter);ho(this,"_options");ho(this,"_modeConfiguration");ho(this,"_languageId");this._languageId=g,this.setOptions(e),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(g){this._options=g||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(g){this.setOptions(g)}setModeConfiguration(g){this._modeConfiguration=g||Object.create(null),this._onDidChange.fire(this)}},G={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},Z={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},ne=new Y("css",G,Z),$=new Y("scss",G,Z),J=new Y("less",G,Z);F.languages.css={cssDefaults:ne,lessDefaults:J,scssDefaults:$};function se(){return c.e(6537).then(c.bind(c,96537))}F.languages.onLanguage("less",()=>{se().then(g=>g.setupMode(J))}),F.languages.onLanguage("scss",()=>{se().then(g=>g.setupMode($))}),F.languages.onLanguage("css",()=>{se().then(g=>g.setupMode(ne))});var re=Object.defineProperty,he=Object.getOwnPropertyDescriptor,H=Object.getOwnPropertyNames,P=Object.prototype.hasOwnProperty,j=(g,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of H(e))!P.call(g,s)&&s!==t&&re(g,s,{get:()=>e[s],enumerable:!(i=he(e,s))||i.enumerable});return g},K=(g,e,t)=>(j(g,e,"default"),t&&j(t,e,"default")),ie={};K(ie,D);var ce=class{constructor(g,e,t){ho(this,"_onDidChange",new ie.Emitter);ho(this,"_options");ho(this,"_modeConfiguration");ho(this,"_languageId");this._languageId=g,this.setOptions(e),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(g){this._options=g||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(g){this._modeConfiguration=g||Object.create(null),this._onDidChange.fire(this)}},_e={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},Ee={format:_e,suggest:{},data:{useDefaultDataProvider:!0}};function Ce(g){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:g===pe,documentFormattingEdits:g===pe,documentRangeFormattingEdits:g===pe}}var pe="html",xe="handlebars",x="razor",rt=Dt(pe,Ee,Ce(pe)),Xe=rt.defaults,Ze=Dt(xe,Ee,Ce(xe)),lt=Ze.defaults,ut=Dt(x,Ee,Ce(x)),ct=ut.defaults;ie.languages.html={htmlDefaults:Xe,razorDefaults:ct,handlebarDefaults:lt,htmlLanguageService:rt,handlebarLanguageService:Ze,razorLanguageService:ut,registerHTMLLanguageService:Dt};function He(){return c.e(9868).then(c.bind(c,49868))}function Dt(g,e=Ee,t=Ce(g)){const i=new ce(g,e,t);let s;const o=ie.languages.onLanguage(g,()=>At(this,null,function*(){s=(yield He()).setupMode(i)}));return{defaults:i,dispose(){o.dispose(),s==null||s.dispose(),s=void 0}}}var gt=Object.defineProperty,Re=Object.getOwnPropertyDescriptor,st=Object.getOwnPropertyNames,Tt=Object.prototype.hasOwnProperty,xt=(g,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of st(e))!Tt.call(g,s)&&s!==t&&gt(g,s,{get:()=>e[s],enumerable:!(i=Re(e,s))||i.enumerable});return g},vt=(g,e,t)=>(xt(g,e,"default"),t&&xt(t,e,"default")),we={};vt(we,D);var pt=class{constructor(g,e,t){ho(this,"_onDidChange",new we.Emitter);ho(this,"_diagnosticsOptions");ho(this,"_modeConfiguration");ho(this,"_languageId");this._languageId=g,this.setDiagnosticsOptions(e),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(g){this._diagnosticsOptions=g||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(g){this._modeConfiguration=g||Object.create(null),this._onDidChange.fire(this)}},Mt={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},Ft={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},Xt=new pt("json",Mt,Ft);we.languages.json={jsonDefaults:Xt};function li(){return c.e(3165).then(c.bind(c,33165))}we.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),we.languages.onLanguage("json",()=>{li().then(g=>g.setupMode(Xt))});var Yt=c(31641),Ne=c(55508),yt=c(93309),De=c(97480),di=c(64423),Ve=c(4593),$i=c(79602),wn=c(29622),Pt=c(88582),le=c(18493),mt=c(61008),jt=c(50544),bi=c(76681),Ot=c(81002);class Ki extends mt.Ke{constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:{value:(0,le.NC)("toggleCollapseUnchangedRegions","Toggle Collapse Unchanged Regions"),original:"Toggle Collapse Unchanged Regions"},icon:di.l.map,toggled:Ot.Ao.has("config.diffEditor.hideUnchangedRegions.enabled"),precondition:Ot.Ao.has("isInDiffEditor"),menu:{when:Ot.Ao.has("isInDiffEditor"),id:mt.eH.EditorTitle,order:22,group:"navigation"}})}run(e,...t){const i=e.get(bi.Ui),s=!i.getValue("diffEditor.hideUnchangedRegions.enabled");i.updateValue("diffEditor.hideUnchangedRegions.enabled",s)}}(0,mt.r1)(Ki);class xi extends mt.Ke{constructor(){super({id:"diffEditor.toggleShowMovedCodeBlocks",title:{value:(0,le.NC)("toggleShowMovedCodeBlocks","Toggle Show Moved Code Blocks"),original:"Toggle Show Moved Code Blocks"},precondition:Ot.Ao.has("isInDiffEditor")})}run(e,...t){const i=e.get(bi.Ui),s=!i.getValue("diffEditor.experimental.showMoves");i.updateValue("diffEditor.experimental.showMoves",s)}}(0,mt.r1)(xi);class dn extends mt.Ke{constructor(){super({id:"diffEditor.toggleUseInlineViewWhenSpaceIsLimited",title:{value:(0,le.NC)("toggleUseInlineViewWhenSpaceIsLimited","Toggle Use Inline View When Space Is Limited"),original:"Toggle Use Inline View When Space Is Limited"},precondition:Ot.Ao.has("isInDiffEditor")})}run(e,...t){const i=e.get(bi.Ui),s=!i.getValue("diffEditor.useInlineViewWhenSpaceIsLimited");i.updateValue("diffEditor.useInlineViewWhenSpaceIsLimited",s)}}(0,mt.r1)(dn),mt.BH.appendMenuItem(mt.eH.EditorTitle,{command:{id:new dn().desc.id,title:(0,le.NC)("useInlineViewWhenSpaceIsLimited","Use Inline View When Space Is Limited"),toggled:Ot.Ao.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:Ot.Ao.has("isInDiffEditor")},order:11,group:"1_diff",when:Ot.Ao.and(Pt.u.diffEditorRenderSideBySideInlineBreakpointReached,Ot.Ao.has("isInDiffEditor"))}),mt.BH.appendMenuItem(mt.eH.EditorTitle,{command:{id:new xi().desc.id,title:(0,le.NC)("showMoves","Show Moved Code Blocks"),icon:di.l.move,toggled:Ot.cP.create("config.diffEditor.experimental.showMoves",!0),precondition:Ot.Ao.has("isInDiffEditor")},order:10,group:"1_diff",when:Ot.Ao.has("isInDiffEditor")});const zt={value:(0,le.NC)("diffEditor","Diff Editor"),original:"Diff Editor"};class Qi extends Ve.x1{constructor(){super({id:"diffEditor.switchSide",title:{value:(0,le.NC)("switchSide","Switch Side"),original:"Switch Side"},icon:di.l.arrowSwap,precondition:Ot.Ao.has("isInDiffEditor"),f1:!0,category:zt})}runEditorCommand(e,t,i){const s=En(e);if(s instanceof wn.p){if(i&&i.dryRun)return{destinationSelection:s.mapToOtherSide().destinationSelection};s.switchSide()}}}(0,mt.r1)(Qi);class ei extends Ve.x1{constructor(){super({id:"diffEditor.exitCompareMove",title:{value:(0,le.NC)("exitCompareMove","Exit Compare Move"),original:"Exit Compare Move"},icon:di.l.close,precondition:Pt.u.comparingMovedCode,f1:!1,category:zt,keybinding:{weight:1e4,primary:9}})}runEditorCommand(e,t,...i){const s=En(e);s instanceof wn.p&&s.exitCompareMove()}}(0,mt.r1)(ei);class Be extends Ve.x1{constructor(){super({id:"diffEditor.collapseAllUnchangedRegions",title:{value:(0,le.NC)("collapseAllUnchangedRegions","Collapse All Unchanged Regions"),original:"Collapse All Unchanged Regions"},icon:di.l.fold,precondition:Ot.Ao.has("isInDiffEditor"),f1:!0,category:zt})}runEditorCommand(e,t,...i){const s=En(e);s instanceof wn.p&&s.collapseAllUnchangedRegions()}}(0,mt.r1)(Be);class Nt extends Ve.x1{constructor(){super({id:"diffEditor.showAllUnchangedRegions",title:{value:(0,le.NC)("showAllUnchangedRegions","Show All Unchanged Regions"),original:"Show All Unchanged Regions"},icon:di.l.unfold,precondition:Ot.Ao.has("isInDiffEditor"),f1:!0,category:zt})}runEditorCommand(e,t,...i){const s=En(e);s instanceof wn.p&&s.showAllUnchangedRegions()}}(0,mt.r1)(Nt);const Ri={value:(0,le.NC)("accessibleDiffViewer","Accessible Diff Viewer"),original:"Accessible Diff Viewer"};class Fi extends mt.Ke{constructor(){super({id:Fi.id,title:{value:(0,le.NC)("editor.action.accessibleDiffViewer.next","Go to Next Difference"),original:"Go to Next Difference"},category:Ri,precondition:Ot.Ao.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(e){const t=En(e);t==null||t.accessibleDiffViewerNext()}}Fi.id="editor.action.accessibleDiffViewer.next",mt.BH.appendMenuItem(mt.eH.EditorTitle,{command:{id:Fi.id,title:(0,le.NC)("Open Accessible Diff Viewer","Open Accessible Diff Viewer"),precondition:Ot.Ao.has("isInDiffEditor")},order:10,group:"2_diff",when:Ot.Ao.and(Pt.u.accessibleDiffViewerVisible.negate(),Ot.Ao.has("isInDiffEditor"))});class hi extends mt.Ke{constructor(){super({id:hi.id,title:{value:(0,le.NC)("editor.action.accessibleDiffViewer.prev","Go to Previous Difference"),original:"Go to Previous Difference"},category:Ri,precondition:Ot.Ao.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(e){const t=En(e);t==null||t.accessibleDiffViewerPrev()}}hi.id="editor.action.accessibleDiffViewer.prev";function En(g){var e;const t=g.get($i.$),i=t.listDiffEditors(),s=(e=t.getFocusedCodeEditor())!==null&&e!==void 0?e:t.getActiveCodeEditor();if(!s)return null;for(let d=0,p=i.length;d<p;d++){const U=i[d];if(U.getModifiedEditor().getId()===s.getId()||U.getOriginalEditor().getId()===s.getId())return U}const o=(0,De.vY)();if(o)for(const d of i){const p=d.getContainerDomNode();if(bn(p,o))return d}return null}function bn(g,e){let t=e;for(;t;){if(t===g)return!0;t=t.parentElement}return!1}jt.P.registerCommandAlias("editor.action.diffReview.next",Fi.id),(0,mt.r1)(Fi),jt.P.registerCommandAlias("editor.action.diffReview.prev",hi.id),(0,mt.r1)(hi);var gn=c(1891),Bn=c(61126),kn=c(82238),en=c(37753),Jn=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},ys=function(g,e){return function(t,i){e(t,i,g)}},ds;const cs=new Ot.uy("selectionAnchorSet",!1);let ps=ds=class{static get(e){return e.getContribution(ds.ID)}constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=cs.bindTo(t),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const e=this.editor.getPosition();this.editor.changeDecorations(t=>{this.decorationId&&t.removeDecoration(this.decorationId),this.decorationId=t.addDecoration(en.Y.fromPositions(e,e),{description:"selection-anchor",stickiness:1,hoverMessage:new Bn.W5().appendText((0,le.NC)("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,gn.Z9)((0,le.NC)("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){const t=this.editor.getPosition();this.editor.setSelection(en.Y.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const e=this.decorationId;this.editor.changeDecorations(t=>{t.removeDecoration(e),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};ps.ID="editor.contrib.selectionAnchorController",ps=ds=Jn([ys(1,Ot.i6)],ps);class In extends Ve.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,le.NC)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:(0,kn.gx)(2089,2080),weight:100}})}run(e,t){return At(this,null,function*(){var i;(i=ps.get(t))===null||i===void 0||i.setSelectionAnchor()})}}class os extends Ve.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,le.NC)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:cs})}run(e,t){return At(this,null,function*(){var i;(i=ps.get(t))===null||i===void 0||i.goToSelectionAnchor()})}}class ui extends Ve.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,le.NC)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:cs,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:(0,kn.gx)(2089,2089),weight:100}})}run(e,t){return At(this,null,function*(){var i;(i=ps.get(t))===null||i===void 0||i.selectFromAnchorToCursor()})}}class ke extends Ve.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,le.NC)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:cs,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:9,weight:100}})}run(e,t){return At(this,null,function*(){var i;(i=ps.get(t))===null||i===void 0||i.cancelSelectionAnchor()})}}(0,Ve._K)(ps.ID,ps,4),(0,Ve.Qr)(In),(0,Ve.Qr)(os),(0,Ve.Qr)(ui),(0,Ve.Qr)(ke);var Ke=c(96925),Ue=c(83845),bt=c(79946),it=c(54125),fi=c(74222),_i=c(44728),Te=c(32955),tt=c(27722);const Wt=(0,Te.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},le.NC("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class Vt extends Ve.R6{constructor(){super({id:"editor.action.jumpToBracket",label:le.NC("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:3165,weight:100}})}run(e,t){var i;(i=on.get(t))===null||i===void 0||i.jumpToBracket()}}class Ni extends Ve.R6{constructor(){super({id:"editor.action.selectToBracket",label:le.NC("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,metadata:{description:le.vv("smartSelect.selectToBracketDescription","Select the text inside and including the brackets or curly braces"),args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,i){var s;let o=!0;i&&i.selectBrackets===!1&&(o=!1),(s=on.get(t))===null||s===void 0||s.selectToBracket(o)}}class ji extends Ve.R6{constructor(){super({id:"editor.action.removeBrackets",label:le.NC("smartSelect.removeBrackets","Remove Brackets"),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:2561,weight:100}})}run(e,t){var i;(i=on.get(t))===null||i===void 0||i.removeBrackets(this.id)}}class Ai{constructor(e,t,i){this.position=e,this.brackets=t,this.options=i}}class on extends Ue.JT{static get(e){return e.getContribution(on.ID)}constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new Ke.pY(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(71),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition(t=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelContent(t=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModel(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelLanguageConfiguration(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(71)&&(this._matchBrackets=this._editor.getOption(71),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(e.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getSelections().map(i=>{const s=i.getStartPosition(),o=e.bracketPairs.matchBracket(s);let d=null;if(o)o[0].containsPosition(s)&&!o[1].containsPosition(s)?d=o[1].getStartPosition():o[1].containsPosition(s)&&(d=o[0].getStartPosition());else{const p=e.bracketPairs.findEnclosingBrackets(s);if(p)d=p[1].getStartPosition();else{const U=e.bracketPairs.findNextBracket(s);U&&U.range&&(d=U.range.getStartPosition())}}return d?new en.Y(d.lineNumber,d.column,d.lineNumber,d.column):new en.Y(s.lineNumber,s.column,s.lineNumber,s.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=[];this._editor.getSelections().forEach(s=>{const o=s.getStartPosition();let d=t.bracketPairs.matchBracket(o);if(!d&&(d=t.bracketPairs.findEnclosingBrackets(o),!d)){const te=t.bracketPairs.findNextBracket(o);te&&te.range&&(d=t.bracketPairs.matchBracket(te.range.getStartPosition()))}let p=null,U=null;if(d){d.sort(it.e.compareRangesUsingStarts);const[te,de]=d;if(p=e?te.getStartPosition():te.getEndPosition(),U=e?de.getEndPosition():de.getStartPosition(),de.containsPosition(o)){const be=p;p=U,U=be}}p&&U&&i.push(new en.Y(p.lineNumber,p.column,U.lineNumber,U.column))}),i.length>0&&(this._editor.setSelections(i),this._editor.revealRange(i[0]))}removeBrackets(e){if(!this._editor.hasModel())return;const t=this._editor.getModel();this._editor.getSelections().forEach(i=>{const s=i.getPosition();let o=t.bracketPairs.matchBracket(s);o||(o=t.bracketPairs.findEnclosingBrackets(s)),o&&(this._editor.pushUndoStop(),this._editor.executeEdits(e,[{range:o[0],text:""},{range:o[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const e=[];let t=0;for(const i of this._lastBracketsData){const s=i.brackets;s&&(e[t++]={range:s[0],options:i.options},e[t++]={range:s[1],options:i.options})}this._decorations.set(e)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const e=this._editor.getSelections();if(e.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const t=this._editor.getModel(),i=t.getVersionId();let s=[];this._lastVersionId===i&&(s=this._lastBracketsData);const o=[];let d=0;for(let be=0,Ie=e.length;be<Ie;be++){const $e=e[be];$e.isEmpty()&&(o[d++]=$e.getStartPosition())}o.length>1&&o.sort(bt.L.compare);const p=[];let U=0,te=0;const de=s.length;for(let be=0,Ie=o.length;be<Ie;be++){const $e=o[be];for(;te<de&&s[te].position.isBefore($e);)te++;if(te<de&&s[te].position.equals($e))p[U++]=s[te];else{let qe=t.bracketPairs.matchBracket($e,20),ft=on._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!qe&&this._matchBrackets==="always"&&(qe=t.bracketPairs.findEnclosingBrackets($e,20),ft=on._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),p[U++]=new Ai($e,qe,ft)}}this._lastBracketsData=p,this._lastVersionId=i}}on.ID="editor.contrib.bracketMatchingController",on._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=_i.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,tt.EN)(Wt),position:fi.sh.Center}}),on._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=_i.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,Ve._K)(on.ID,on,1),(0,Ve.Qr)(Ni),(0,Ve.Qr)(Vt),(0,Ve.Qr)(ji),mt.BH.appendMenuItem(mt.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:le.NC({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});class mn{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const i=this._selection.startLineNumber,s=this._selection.startColumn,o=this._selection.endColumn;if(!(this._isMovingLeft&&s===1)&&!(!this._isMovingLeft&&o===e.getLineMaxColumn(i)))if(this._isMovingLeft){const d=new it.e(i,s-1,i,s),p=e.getValueInRange(d);t.addEditOperation(d,null),t.addEditOperation(new it.e(i,o,i,o),p)}else{const d=new it.e(i,o,i,o+1),p=e.getValueInRange(d);t.addEditOperation(d,null),t.addEditOperation(new it.e(i,s,i,s),p)}}computeCursorState(e,t){return this._isMovingLeft?new en.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new en.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class Rn extends Ve.R6{constructor(e,t){super(t),this.left=e}run(e,t){if(!t.hasModel())return;const i=[],s=t.getSelections();for(const o of s)i.push(new mn(o,this.left));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class pi extends Rn{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:le.NC("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:Pt.u.writable})}}class ti extends Rn{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:le.NC("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:Pt.u.writable})}}(0,Ve.Qr)(pi),(0,Ve.Qr)(ti);var ii=c(22532),Ct=c(45901);class It extends Ve.R6{constructor(){super({id:"editor.action.transposeLetters",label:le.NC("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;const i=t.getModel(),s=[],o=t.getSelections();for(const d of o){if(!d.isEmpty())continue;const p=d.startLineNumber,U=d.startColumn,te=i.getLineMaxColumn(p);if(p===1&&(U===1||U===2&&te===2))continue;const de=U===te?d.getPosition():Ct.o.rightPosition(i,d.getPosition().lineNumber,d.getPosition().column),be=Ct.o.leftPosition(i,de),Ie=Ct.o.leftPosition(i,be),$e=i.getValueInRange(it.e.fromPositions(Ie,be)),qe=i.getValueInRange(it.e.fromPositions(be,de)),ft=it.e.fromPositions(Ie,de);s.push(new ii.T4(ft,qe+$e))}s.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop())}}(0,Ve.Qr)(It);var Qt=c(51678),Ut=c(43998),Si=c(2635),Vi=c(22336);const tn="9_cutcopypaste",Ji=Ut.tY||document.queryCommandSupported("cut"),Cn=Ut.tY||document.queryCommandSupported("copy"),Tn=typeof navigator.clipboard=="undefined"||Qt.vU?document.queryCommandSupported("paste"):!0;function Wn(g){return g.register(),g}const qn=Ji?Wn(new Ve.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:Ut.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:mt.eH.MenubarEditMenu,group:"2_ccp",title:le.NC({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:mt.eH.EditorContext,group:tn,title:le.NC("actions.clipboard.cutLabel","Cut"),when:Pt.u.writable,order:1},{menuId:mt.eH.CommandPalette,group:"",title:le.NC("actions.clipboard.cutLabel","Cut"),order:1},{menuId:mt.eH.SimpleEditorContext,group:tn,title:le.NC("actions.clipboard.cutLabel","Cut"),when:Pt.u.writable,order:1}]})):void 0,ln=Cn?Wn(new Ve.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:Ut.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:mt.eH.MenubarEditMenu,group:"2_ccp",title:le.NC({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:mt.eH.EditorContext,group:tn,title:le.NC("actions.clipboard.copyLabel","Copy"),order:2},{menuId:mt.eH.CommandPalette,group:"",title:le.NC("actions.clipboard.copyLabel","Copy"),order:1},{menuId:mt.eH.SimpleEditorContext,group:tn,title:le.NC("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;mt.BH.appendMenuItem(mt.eH.MenubarEditMenu,{submenu:mt.eH.MenubarCopy,title:{value:le.NC("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),mt.BH.appendMenuItem(mt.eH.EditorContext,{submenu:mt.eH.EditorContextCopy,title:{value:le.NC("copy as","Copy As"),original:"Copy As"},group:tn,order:3}),mt.BH.appendMenuItem(mt.eH.EditorContext,{submenu:mt.eH.EditorContextShare,title:{value:le.NC("share","Share"),original:"Share"},group:"11_share",order:-1,when:Ot.Ao.and(Ot.Ao.notEquals("resourceScheme","output"),Pt.u.editorTextFocus)}),mt.BH.appendMenuItem(mt.eH.EditorTitleContext,{submenu:mt.eH.EditorTitleContextShare,title:{value:le.NC("share","Share"),original:"Share"},group:"11_share",order:-1}),mt.BH.appendMenuItem(mt.eH.ExplorerContext,{submenu:mt.eH.ExplorerContextShare,title:{value:le.NC("share","Share"),original:"Share"},group:"11_share",order:-1});const Gn=Tn?Wn(new Ve.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:Ut.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:mt.eH.MenubarEditMenu,group:"2_ccp",title:le.NC({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:mt.eH.EditorContext,group:tn,title:le.NC("actions.clipboard.pasteLabel","Paste"),when:Pt.u.writable,order:4},{menuId:mt.eH.CommandPalette,group:"",title:le.NC("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:mt.eH.SimpleEditorContext,group:tn,title:le.NC("actions.clipboard.pasteLabel","Paste"),when:Pt.u.writable,order:4}]})):void 0;class Kn extends Ve.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:le.NC("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:Pt.u.textInputFocus,primary:0,weight:100}})}run(e,t){!t.hasModel()||!t.getOption(37)&&t.getSelection().isEmpty()||(Si.RA.forceCopyWithSyntaxHighlighting=!0,t.focus(),t.getContainerDomNode().ownerDocument.execCommand("copy"),Si.RA.forceCopyWithSyntaxHighlighting=!1)}}function ro(g,e){g&&(g.addImplementation(1e4,"code-editor",(t,i)=>{const s=t.get($i.$).getFocusedCodeEditor();if(s&&s.hasTextFocus()){const o=s.getOption(37),d=s.getSelection();return d&&d.isEmpty()&&!o||s.getContainerDomNode().ownerDocument.execCommand(e),!0}return!1}),g.addImplementation(0,"generic-dom",(t,i)=>((0,De.uP)().execCommand(e),!0)))}ro(qn,"cut"),ro(ln,"copy"),Gn&&(Gn.addImplementation(1e4,"code-editor",(g,e)=>{const t=g.get($i.$),i=g.get(Vi.p),s=t.getFocusedCodeEditor();return s&&s.hasTextFocus()?!s.getContainerDomNode().ownerDocument.execCommand("paste")&&Ut.$L?(()=>At(this,null,function*(){const d=yield i.readText();if(d!==""){const p=Si.Nl.INSTANCE.get(d);let U=!1,te=null,de=null;p&&(U=s.getOption(37)&&!!p.isFromEmptySelection,te=typeof p.multicursorText!="undefined"?p.multicursorText:null,de=p.mode),s.trigger("keyboard","paste",{text:d,pasteOnNewLine:U,multicursorText:te,mode:de})}}))():!0:!1}),Gn.addImplementation(0,"generic-dom",(g,e)=>((0,De.uP)().execCommand("paste"),!0))),Cn&&(0,Ve.Qr)(Kn);var as=c(62007),Zi=c(80360),cn=c(54888),pn=c(60902),rn=c(35541),Xn=c(6685),Is=c(85079),hn=c(36276),us=c(15056),Rs=c(90230),ts=c(23829),ls=c(79979),ms=c(53174);class qi{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||this.value===""||e.value.startsWith(this.value+qi.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new qi(this.value+qi.sep+e)}}qi.sep=".",qi.None=new qi("@@none@@"),qi.Empty=new qi(""),qi.QuickFix=new qi("quickfix"),qi.Refactor=new qi("refactor"),qi.RefactorExtract=qi.Refactor.append("extract"),qi.RefactorInline=qi.Refactor.append("inline"),qi.RefactorMove=qi.Refactor.append("move"),qi.RefactorRewrite=qi.Refactor.append("rewrite"),qi.Notebook=new qi("notebook"),qi.Source=new qi("source"),qi.SourceOrganizeImports=qi.Source.append("organizeImports"),qi.SourceFixAll=qi.Source.append("fixAll"),qi.SurroundWith=qi.Refactor.append("surround");var Ss;(function(g){g.Refactor="refactor",g.RefactorPreview="refactor preview",g.Lightbulb="lightbulb",g.Default="other (default)",g.SourceAction="source action",g.QuickFix="quick fix action",g.FixAll="fix all",g.OrganizeImports="organize imports",g.AutoFix="auto fix",g.QuickFixHover="quick fix hover window",g.OnSave="save participants",g.ProblemsView="problems view"})(Ss||(Ss={}));function Gs(g,e){return!(g.include&&!g.include.intersects(e)||g.excludes&&g.excludes.some(t=>Ys(e,t,g.include))||!g.includeSourceActions&&qi.Source.contains(e))}function Eo(g,e){const t=e.kind?new qi(e.kind):void 0;return!(g.include&&(!t||!g.include.contains(t))||g.excludes&&t&&g.excludes.some(i=>Ys(t,i,g.include))||!g.includeSourceActions&&t&&qi.Source.contains(t)||g.onlyIncludePreferredActions&&!e.isPreferred)}function Ys(g,e,t){return!(!e.contains(g)||t&&e.contains(t))}class vs{static fromUser(e,t){return!e||typeof e!="object"?new vs(t.kind,t.apply,!1):new vs(vs.getKindFromUser(e,t.kind),vs.getApplyFromUser(e,t.apply),vs.getPreferredUser(e))}static getApplyFromUser(e,t){switch(typeof e.apply=="string"?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return typeof e.kind=="string"?new qi(e.kind):t}static getPreferredUser(e){return typeof e.preferred=="boolean"?e.preferred:!1}constructor(e,t,i){this.kind=e,this.apply=t,this.preferred=i}}class Fs{constructor(e,t,i){this.action=e,this.provider=t,this.highlightRange=i}resolve(e){return At(this,null,function*(){var t;if(!((t=this.provider)===null||t===void 0)&&t.resolveCodeAction&&!this.action.edit){let i;try{i=yield this.provider.resolveCodeAction(this.action,e)}catch(s){(0,rn.Cp)(s)}i&&(this.action.edit=i.edit)}return this})}}const Ws="editor.action.codeAction",Ns="editor.action.quickFix",fo="editor.action.autoFix",ao="editor.action.refactor",ri="editor.action.sourceAction",Se="editor.action.organizeImports",je="editor.action.fixAll";class Qe extends Ue.JT{static codeActionsPreferredComparator(e,t){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:0}static codeActionsComparator({action:e},{action:t}){return e.isAI&&!t.isAI?1:!e.isAI&&t.isAI?-1:(0,cn.Of)(e.diagnostics)?(0,cn.Of)(t.diagnostics)?Qe.codeActionsPreferredComparator(e,t):-1:(0,cn.Of)(t.diagnostics)?1:Qe.codeActionsPreferredComparator(e,t)}constructor(e,t,i){super(),this.documentation=t,this._register(i),this.allActions=[...e].sort(Qe.codeActionsComparator),this.validActions=this.allActions.filter(({action:s})=>!s.disabled)}get hasAutoFix(){return this.validActions.some(({action:e})=>!!e.kind&&qi.QuickFix.contains(new qi(e.kind))&&!!e.isPreferred)}get hasAIFix(){return this.validActions.some(({action:e})=>!!e.isAI)}get allAIFixes(){return this.validActions.every(({action:e})=>!!e.isAI)}}const Ht={actions:[],documentation:void 0};function kt(g,e,t,i,s,o){return At(this,null,function*(){var d;const p=i.filter||{},U=sn(Di({},p),{excludes:[...p.excludes||[],qi.Notebook]}),te={only:(d=p.include)===null||d===void 0?void 0:d.value,trigger:i.type},de=new Rs.YQ(e,o),be=i.type===2,Ie=ni(g,e,be?U:p),$e=new Ue.SL,qe=Ie.map(Zt=>At(this,null,function*(){try{s.report(Zt);const Kt=yield Zt.provideCodeActions(e,t,te,de.token);if(Kt&&$e.add(Kt),de.token.isCancellationRequested)return Ht;const mi=((Kt==null?void 0:Kt.actions)||[]).filter(Ui=>Ui&&Eo(p,Ui)),ki=si(Zt,mi,p.include);return{actions:mi.map(Ui=>new Fs(Ui,Zt)),documentation:ki}}catch(Kt){if((0,rn.n2)(Kt))throw Kt;return(0,rn.Cp)(Kt),Ht}})),ft=g.onDidChange(()=>{const Zt=g.all(e);(0,cn.fS)(Zt,Ie)||de.cancel()});try{const Zt=yield Promise.all(qe),Kt=Zt.map(ki=>ki.actions).flat(),mi=[...(0,cn.kX)(Zt.map(ki=>ki.documentation)),...ai(g,e,i,Kt)];return new Qe(Kt,mi,$e)}finally{ft.dispose(),de.dispose()}})}function ni(g,e,t){return g.all(e).filter(i=>i.providedCodeActionKinds?i.providedCodeActionKinds.some(s=>Gs(t,new qi(s))):!0)}function*ai(g,e,t,i){var s,o,d;if(e&&i.length)for(const p of g.all(e))p._getAdditionalMenuItems&&(yield*(s=p._getAdditionalMenuItems)===null||s===void 0?void 0:s.call(p,{trigger:t.type,only:(d=(o=t.filter)===null||o===void 0?void 0:o.include)===null||d===void 0?void 0:d.value},i.map(U=>U.action)))}function si(g,e,t){if(!g.documentation)return;const i=g.documentation.map(s=>({kind:new qi(s.kind),command:s.command}));if(t){let s;for(const o of i)o.kind.contains(t)&&(s?s.kind.contains(o.kind)&&(s=o):s=o);if(s)return s==null?void 0:s.command}for(const s of e)if(s.kind){for(const o of i)if(o.kind.contains(new qi(s.kind)))return o.command}}var Ei;(function(g){g.OnSave="onSave",g.FromProblemsView="fromProblemsView",g.FromCodeActions="fromCodeActions"})(Ei||(Ei={}));function Pi(o,d,p,U){return At(this,arguments,function*(g,e,t,i,s=pn.T.None){var te;const de=g.get(Is.vu),be=g.get(jt.H),Ie=g.get(ms.b),$e=g.get(ts.lT);if(Ie.publicLog2("codeAction.applyCodeAction",{codeActionTitle:e.action.title,codeActionKind:e.action.kind,codeActionIsPreferred:!!e.action.isPreferred,reason:t}),yield e.resolve(s),!s.isCancellationRequested&&!(!((te=e.action.edit)===null||te===void 0)&&te.edits.length&&!(yield de.apply(e.action.edit,{editor:i==null?void 0:i.editor,label:e.action.title,quotableLabel:e.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:t!==Ei.OnSave,showPreview:i==null?void 0:i.preview})).isApplied)&&e.action.command)try{yield be.executeCommand(e.action.command.id,...e.action.command.arguments||[])}catch(qe){const ft=Li(qe);$e.error(typeof ft=="string"?ft:le.NC("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function Li(g){return typeof g=="string"?g:g instanceof Error&&typeof g.message=="string"?g.message:void 0}jt.P.registerCommand("_executeCodeActionProvider",function(g,e,t,i,s){return At(this,null,function*(){if(!(e instanceof Xn.o))throw(0,rn.b1)();const{codeActionProvider:o}=g.get(hn.p),d=g.get(us.q).getModel(e);if(!d)throw(0,rn.b1)();const p=en.Y.isISelection(t)?en.Y.liftSelection(t):it.e.isIRange(t)?d.validateRange(t):void 0;if(!p)throw(0,rn.b1)();const U=typeof i=="string"?new qi(i):void 0,te=yield kt(o,d,p,{type:1,triggerAction:Ss.Default,filter:{includeSourceActions:!0,include:U}},ls.Ex.None,pn.T.None),de=[],be=Math.min(te.validActions.length,typeof s=="number"?s:0);for(let Ie=0;Ie<be;Ie++)de.push(te.validActions[Ie].resolve(pn.T.None));try{return yield Promise.all(de),te.validActions.map(Ie=>Ie.action)}finally{setTimeout(()=>te.dispose(),100)}})});var Ii=c(18796),Je=c(30966),E=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},W=function(g,e){return function(t,i){e(t,i,g)}},Q;let ue=Q=class{constructor(e){this.keybindingService=e}getResolver(){const e=new Ii.o(()=>this.keybindingService.getKeybindings().filter(t=>Q.codeActionCommands.indexOf(t.command)>=0).filter(t=>t.resolvedKeybinding).map(t=>{let i=t.commandArgs;return t.command===Se?i={kind:qi.SourceOrganizeImports.value}:t.command===je&&(i={kind:qi.SourceFixAll.value}),Di({resolvedKeybinding:t.resolvedKeybinding},vs.fromUser(i,{kind:qi.None,apply:"never"}))}));return t=>{if(t.kind){const i=this.bestKeybindingForCodeAction(t,e.value);return i==null?void 0:i.resolvedKeybinding}}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;const i=new qi(e.kind);return t.filter(s=>s.kind.contains(i)).filter(s=>s.preferred?e.isPreferred:!0).reduceRight((s,o)=>s?s.kind.contains(o.kind)?o:s:o,void 0)}};ue.codeActionCommands=[ao,Ws,ri,Se,je],ue=Q=E([W(0,Je.d)],ue);const ve=(0,Te.P6G)("symbolIcon.arrayForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Oe=(0,Te.P6G)("symbolIcon.booleanForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),We=(0,Te.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,le.NC)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),et=(0,Te.P6G)("symbolIcon.colorForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Fe=(0,Te.P6G)("symbolIcon.constantForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),A=(0,Te.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,le.NC)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),q=(0,Te.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,le.NC)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fe=(0,Te.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,le.NC)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Pe=(0,Te.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,le.NC)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ye=(0,Te.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,le.NC)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),dt=(0,Te.P6G)("symbolIcon.fileForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),St=(0,Te.P6G)("symbolIcon.folderForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Bt=(0,Te.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,le.NC)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ci=(0,Te.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,le.NC)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),vi=(0,Te.P6G)("symbolIcon.keyForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),zi=(0,Te.P6G)("symbolIcon.keywordForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Gi=(0,Te.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,le.NC)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Wi=(0,Te.P6G)("symbolIcon.moduleForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Mi=(0,Te.P6G)("symbolIcon.namespaceForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Oi=(0,Te.P6G)("symbolIcon.nullForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xi=(0,Te.P6G)("symbolIcon.numberForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Hn=(0,Te.P6G)("symbolIcon.objectForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),js=(0,Te.P6G)("symbolIcon.operatorForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),go=(0,Te.P6G)("symbolIcon.packageForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),So=(0,Te.P6G)("symbolIcon.propertyForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),An=(0,Te.P6G)("symbolIcon.referenceForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ts=(0,Te.P6G)("symbolIcon.snippetForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),rs=(0,Te.P6G)("symbolIcon.stringForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$n=(0,Te.P6G)("symbolIcon.structForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Bs=(0,Te.P6G)("symbolIcon.textForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),so=(0,Te.P6G)("symbolIcon.typeParameterForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),bo=(0,Te.P6G)("symbolIcon.unitForeground",{dark:Te.dRz,light:Te.dRz,hcDark:Te.dRz,hcLight:Te.dRz},(0,le.NC)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Nr=(0,Te.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,le.NC)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ks=Object.freeze({kind:qi.Empty,title:(0,le.NC)("codeAction.widget.id.more","More Actions...")}),Lo=Object.freeze([{kind:qi.QuickFix,title:(0,le.NC)("codeAction.widget.id.quickfix","Quick Fix")},{kind:qi.RefactorExtract,title:(0,le.NC)("codeAction.widget.id.extract","Extract"),icon:di.l.wrench},{kind:qi.RefactorInline,title:(0,le.NC)("codeAction.widget.id.inline","Inline"),icon:di.l.wrench},{kind:qi.RefactorRewrite,title:(0,le.NC)("codeAction.widget.id.convert","Rewrite"),icon:di.l.wrench},{kind:qi.RefactorMove,title:(0,le.NC)("codeAction.widget.id.move","Move"),icon:di.l.wrench},{kind:qi.SurroundWith,title:(0,le.NC)("codeAction.widget.id.surround","Surround With"),icon:di.l.symbolSnippet},{kind:qi.Source,title:(0,le.NC)("codeAction.widget.id.source","Source Action"),icon:di.l.symbolFile},ks]);function Ir(g,e,t){if(!e)return g.map(o=>{var d;return{kind:"action",item:o,group:ks,disabled:!!o.action.disabled,label:o.action.disabled||o.action.title,canPreview:!!(!((d=o.action.edit)===null||d===void 0)&&d.edits.length)}});const i=Lo.map(o=>({group:o,actions:[]}));for(const o of g){const d=o.action.kind?new qi(o.action.kind):qi.None;for(const p of i)if(p.group.kind.contains(d)){p.actions.push(o);break}}const s=[];for(const o of i)if(o.actions.length){s.push({kind:"header",group:o.group});for(const d of o.actions){const p=o.group;s.push({kind:"action",item:d,group:d.action.isAI?{title:p.title,kind:p.kind,icon:di.l.sparkle}:p,label:d.action.title,disabled:!!d.action.disabled,keybinding:t(d.action)})}}return s}var xa=c(84702),Ln=c(46328),Ds=c(12003),bs=c(38074),Jr=c(56384),ka=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},cr=function(g,e){return function(t,i){e(t,i,g)}},Yo,ur;(function(g){g.Hidden={type:0};class e{constructor(i,s,o,d){this.actions=i,this.trigger=s,this.editorPosition=o,this.widgetPosition=d,this.type=1}}g.Showing=e})(ur||(ur={}));let Mo=Yo=class extends Ue.JT{constructor(e,t,i){super(),this._editor=e,this._keybindingService=t,this._onClick=this._register(new Ln.Q5),this.onClick=this._onClick.event,this._state=ur.Hidden,this._iconClasses=[],this._domNode=De.$("div.lightBulbWidget"),this._register(xa.o.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(s=>{const o=this._editor.getModel();(this.state.type!==1||!o||this.state.editorPosition.lineNumber>=o.getLineCount())&&this.hide()})),this._register(De.GQ(this._domNode,s=>{var o;if(this.state.type!==1)return;const d=this._editor.getOption(64).experimental.showAiIcon;if((d===bs.JO.On||d===bs.JO.OnCode)&&this.state.actions.allAIFixes&&this.state.actions.validActions.length===1){const be=this.state.actions.validActions[0].action;if(!((o=be.command)===null||o===void 0)&&o.id){i.executeCommand(be.command.id,...be.command.arguments||[]),s.preventDefault();return}}this._editor.focus(),s.preventDefault();const{top:p,height:U}=De.i(this._domNode),te=this._editor.getOption(66);let de=Math.floor(te/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(de+=te),this._onClick.fire({x:s.posx,y:p+U+de,actions:this.state.actions,trigger:this.state.trigger})})),this._register(De.nm(this._domNode,"mouseenter",s=>{(s.buttons&1)===1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(64)&&(this._editor.getOption(64).enabled||this.hide(),this._updateLightBulbTitleAndIcon())})),this._register(Ln.ju.runAndSubscribe(this._keybindingService.onDidUpdateKeybindings,()=>{var s,o,d,p;this._preferredKbLabel=(o=(s=this._keybindingService.lookupKeybinding(fo))===null||s===void 0?void 0:s.getLabel())!==null&&o!==void 0?o:void 0,this._quickFixKbLabel=(p=(d=this._keybindingService.lookupKeybinding(Ns))===null||d===void 0?void 0:d.getLabel())!==null&&p!==void 0?p:void 0,this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(e,t,i){if(e.validActions.length<=0)return this.hide();const s=this._editor.getOptions();if(!s.get(64).enabled)return this.hide();const o=this._editor.getModel();if(!o)return this.hide();const{lineNumber:d,column:p}=o.validatePosition(i),U=o.getOptions().tabSize,te=s.get(50),de=o.getLineContent(d),be=(0,Jr.q)(de,U),Ie=te.spaceWidth*be>22,$e=ft=>ft>2&&this._editor.getTopForLineNumber(ft)===this._editor.getTopForLineNumber(ft-1);let qe=d;if(!Ie){if(d>1&&!$e(d-1))qe-=1;else if(!$e(d+1))qe+=1;else if(p*te.spaceWidth<22)return this.hide()}this.state=new ur.Showing(e,t,i,{position:{lineNumber:qe,column:o.getLineContent(qe).match(/^\S\s*$/)?2:1},preference:Yo._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==ur.Hidden&&(this.state=ur.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){var e,t,i;if(this._domNode.classList.remove(...this._iconClasses),this._iconClasses=[],this.state.type!==1)return;const s=()=>{this._preferredKbLabel&&(this.title=le.NC("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",this._preferredKbLabel))},o=()=>{this._quickFixKbLabel?this.title=le.NC("codeActionWithKb","Show Code Actions ({0})",this._quickFixKbLabel):this.title=le.NC("codeAction","Show Code Actions")};let d;const p=this._editor.getOption(64).experimental.showAiIcon;if(p===bs.JO.On||p===bs.JO.OnCode)if(p===bs.JO.On&&this.state.actions.allAIFixes)if(d=di.l.sparkleFilled,this.state.actions.allAIFixes&&this.state.actions.validActions.length===1)if(((e=this.state.actions.validActions[0].action.command)===null||e===void 0?void 0:e.id)==="inlineChat.start"){const U=(i=(t=this._keybindingService.lookupKeybinding("inlineChat.start"))===null||t===void 0?void 0:t.getLabel())!==null&&i!==void 0?i:void 0;this.title=U?le.NC("codeActionStartInlineChatWithKb","Start Inline Chat ({0})",U):le.NC("codeActionStartInlineChat","Start Inline Chat")}else this.title=le.NC("codeActionTriggerAiAction","Trigger AI Action");else o();else this.state.actions.hasAutoFix?(this.state.actions.hasAIFix?d=di.l.lightbulbSparkleAutofix:d=di.l.lightbulbAutofix,s()):this.state.actions.hasAIFix?(d=di.l.lightbulbSparkle,o()):(d=di.l.lightBulb,o());else this.state.actions.hasAutoFix?(d=di.l.lightbulbAutofix,s()):(d=di.l.lightBulb,o());this._iconClasses=Ds.k.asClassNameArray(d),this._domNode.classList.add(...this._iconClasses)}set title(e){this._domNode.title=e}};Mo.ID="editor.contrib.lightbulbWidget",Mo._posPref=[0],Mo=Yo=ka([cr(1,Je.d),cr(2,jt.H)],Mo);var Zr=c(45014),Ho=c(13158),kr=c(13687),Ro=c(57529),pr=c(24966),jo=c(10399),xo=c(51270),_r=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Fa=function(g,e){return function(t,i){e(t,i,g)}},po;let Uo=po=class{constructor(e,t,i){this._options=e,this._languageService=t,this._openerService=i,this._onDidRenderAsync=new Ln.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,i){if(!e)return{element:document.createElement("span"),dispose:()=>{}};const s=new Ue.SL,o=s.add((0,Zr.ap)(e,Di(Di({},this._getRenderOptions(e,s)),t),i));return o.element.classList.add("rendered-markdown"),{element:o.element,dispose:()=>s.dispose()}}_getRenderOptions(e,t){return{codeBlockRenderer:(i,s)=>At(this,null,function*(){var o,d,p;let U;i?U=this._languageService.getLanguageIdByLanguageName(i):this._options.editor&&(U=(o=this._options.editor.getModel())===null||o===void 0?void 0:o.getLanguageId()),U||(U=pr.bd);const te=yield(0,jo.C2)(this._languageService,s,U),de=document.createElement("span");if(de.innerHTML=(p=(d=po._ttpTokenizer)===null||d===void 0?void 0:d.createHTML(te))!==null&&p!==void 0?p:te,this._options.editor){const be=this._options.editor.getOption(50);(0,kr.N)(de,be)}else this._options.codeBlockFontFamily&&(de.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(de.style.fontSize=this._options.codeBlockFontSize),de}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:i=>Hs(this._openerService,i,e.isTrusted),disposables:t}}}};Uo._ttpTokenizer=(0,Ho.Z)("tokenizeToString",{createHTML(g){return g}}),Uo=po=_r([Fa(1,Ro.O),Fa(2,xo.v)],Uo);function Hs(g,e,t){return At(this,null,function*(){try{return yield g.open(e,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:rl(t)})}catch(i){return(0,rn.dL)(i),!1}})}function rl(g){return g===!0?!0:g&&Array.isArray(g.enabledCommands)?g.enabledCommands:!1}var al=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},qr=function(g,e){return function(t,i){e(t,i,g)}},$o;let Do=$o=class{static get(e){return e.getContribution($o.ID)}constructor(e,t,i){this._openerService=i,this._messageWidget=new Ue.XK,this._messageListeners=new Ue.SL,this._mouseOverMessage=!1,this._editor=e,this._visible=$o.MESSAGE_VISIBLE.bindTo(t)}dispose(){var e;(e=this._message)===null||e===void 0||e.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){(0,gn.Z9)((0,Bn.Fr)(e)?e.value:e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=(0,Bn.Fr)(e)?(0,Zr.ap)(e,{actionHandler:{callback:s=>Hs(this._openerService,s,(0,Bn.Fr)(e)?e.isTrusted:void 0),disposables:this._messageListeners}}):void 0,this._messageWidget.value=new Ba(this._editor,t,typeof e=="string"?e:this._message.element),this._messageListeners.add(Ln.ju.debounce(this._editor.onDidBlurEditorText,(s,o)=>o,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&De.jg(De.vY(),this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(De.nm(this._messageWidget.value.getDomNode(),De.tw.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(De.nm(this._messageWidget.value.getDomNode(),De.tw.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0));let i;this._messageListeners.add(this._editor.onMouseMove(s=>{s.target.position&&(i?i.containsPosition(s.target.position)||this.closeMessage():i=new it.e(t.lineNumber-3,1,s.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(Ba.fadeOut(this._messageWidget.value))}};Do.ID="editor.contrib.messageController",Do.MESSAGE_VISIBLE=new Ot.uy("messageVisible",!1,le.NC("messageVisible","Whether the editor is currently showing an inline message")),Do=$o=al([qr(1,Ot.i6),qr(2,xo.v)],Do);const wl=Ve._l.bindToContribution(Do.get);(0,Ve.fK)(new wl({id:"leaveEditorMessage",precondition:Do.MESSAGE_VISIBLE,handler:g=>g.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class Ba{static fadeOut(e){const t=()=>{e.dispose(),clearTimeout(i),e.getDomNode().removeEventListener("animationend",t)},i=setTimeout(t,110);return e.getDomNode().addEventListener("animationend",t),e.getDomNode().classList.add("fadeOut"),{dispose:t}}constructor(e,{lineNumber:t,column:i},s){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:i},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);const d=document.createElement("div");typeof s=="string"?(d.classList.add("message"),d.textContent=s):(s.classList.add("message"),d.appendChild(s)),this._domNode.appendChild(d);const p=document.createElement("div");p.classList.add("anchor","below"),this._domNode.appendChild(p),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(e){this._domNode.classList.toggle("below",e===2)}}(0,Ve._K)(Do.ID,Do,4);var qo=c(18016),or=c(53762),_o=c(50825),fn=c(16288),No=c(55410),hr=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},er=function(g,e){return function(t,i){e(t,i,g)}};const Xo="acceptSelectedCodeAction",Cr="previewSelectedCodeAction";class Wa{get templateId(){return"header"}renderTemplate(e){e.classList.add("group-header");const t=document.createElement("span");return e.append(t),{container:e,text:t}}renderElement(e,t,i){var s,o;i.text.textContent=(o=(s=e.group)===null||s===void 0?void 0:s.title)!==null&&o!==void 0?o:""}disposeTemplate(e){}}let Ar=class{get templateId(){return"action"}constructor(e,t){this._supportsPreview=e,this._keybindingService=t}renderTemplate(e){e.classList.add(this.templateId);const t=document.createElement("div");t.className="icon",e.append(t);const i=document.createElement("span");i.className="title",e.append(i);const s=new or.e(e,Ut.OS);return{container:e,icon:t,text:i,keybinding:s}}renderElement(e,t,i){var s,o,d;if(!((s=e.group)===null||s===void 0)&&s.icon?(i.icon.className=Ds.k.asClassName(e.group.icon),e.group.icon.color&&(i.icon.style.color=(0,Te.n_1)(e.group.icon.color.id))):(i.icon.className=Ds.k.asClassName(di.l.lightBulb),i.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!e.item||!e.label)return;i.text.textContent=Vo(e.label),i.keybinding.set(e.keybinding),De.iJ(!!e.keybinding,i.keybinding.element);const p=(o=this._keybindingService.lookupKeybinding(Xo))===null||o===void 0?void 0:o.getLabel(),U=(d=this._keybindingService.lookupKeybinding(Cr))===null||d===void 0?void 0:d.getLabel();i.container.classList.toggle("option-disabled",e.disabled),e.disabled?i.container.title=e.label:p&&U?this._supportsPreview&&e.canPreview?i.container.title=(0,le.NC)({key:"label-preview",comment:['placeholders are keybindings, e.g "F2 to apply, Shift+F2 to preview"']},"{0} to apply, {1} to preview",p,U):i.container.title=(0,le.NC)({key:"label",comment:['placeholder is a keybinding, e.g "F2 to apply"']},"{0} to apply",p):i.container.title=""}disposeTemplate(e){}};Ar=hr([er(1,Je.d)],Ar);class jn extends UIEvent{constructor(){super("acceptSelectedAction")}}class hs extends UIEvent{constructor(){super("previewSelectedAction")}}function Cs(g){if(g.kind==="action")return g.label}let Es=class extends Ue.JT{constructor(e,t,i,s,o,d){super(),this._delegate=s,this._contextViewService=o,this._keybindingService=d,this._actionLineHeight=24,this._headerLineHeight=26,this.cts=this._register(new pn.A),this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const p={getHeight:U=>U.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:U=>U.kind};this._list=this._register(new _o.aV(e,this.domNode,p,[new Ar(t,this._keybindingService),new Wa],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:Cs},accessibilityProvider:{getAriaLabel:U=>{if(U.kind==="action"){let te=U.label?Vo(U==null?void 0:U.label):"";return U.disabled&&(te=(0,le.NC)({key:"customQuickFixWidget.labels",comment:["Action widget labels for accessibility."]},"{0}, Disabled Reason: {1}",te,U.disabled)),te}return null},getWidgetAriaLabel:()=>(0,le.NC)({key:"customQuickFixWidget",comment:["An action widget option"]},"Action Widget"),getRole:U=>U.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(No.O2),this._register(this._list.onMouseClick(U=>this.onListClick(U))),this._register(this._list.onMouseOver(U=>this.onListHover(U))),this._register(this._list.onDidChangeFocus(()=>this.onFocus())),this._register(this._list.onDidChangeSelection(U=>this.onListSelection(U))),this._allMenuItems=i,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(e){return!e.disabled&&e.kind==="action"}hide(e){this._delegate.onHide(e),this.cts.cancel(),this._contextViewService.hideContextView()}layout(e){const t=this._allMenuItems.filter(U=>U.kind==="header").length,s=this._allMenuItems.length*this._actionLineHeight+t*this._headerLineHeight-t*this._actionLineHeight;this._list.layout(s);let o=e;if(this._allMenuItems.length>=50)o=380;else{const U=this._allMenuItems.map((te,de)=>{const be=this.domNode.ownerDocument.getElementById(this._list.getElementID(de));if(be){be.style.width="auto";const Ie=be.getBoundingClientRect().width;return be.style.width="",Ie}return 0});o=Math.max(...U,e)}const d=.7,p=Math.min(s,this.domNode.ownerDocument.body.clientHeight*d);return this._list.layout(p,o),this.domNode.style.height=`${p}px`,this._list.domFocus(),o}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(e){const t=this._list.getFocus();if(t.length===0)return;const i=t[0],s=this._list.element(i);if(!this.focusCondition(s))return;const o=e?new hs:new jn;this._list.setSelection([i],o)}onListSelection(e){if(!e.elements.length)return;const t=e.elements[0];t.item&&this.focusCondition(t)?this._delegate.onSelect(t.item,e.browserEvent instanceof hs):this._list.setSelection([])}onFocus(){var e,t;this._list.domFocus();const i=this._list.getFocus();if(i.length===0)return;const s=i[0],o=this._list.element(s);(t=(e=this._delegate).onFocus)===null||t===void 0||t.call(e,o.item)}onListHover(e){return At(this,null,function*(){const t=e.element;if(t&&t.item&&this.focusCondition(t)){if(this._delegate.onHover&&!t.disabled&&t.kind==="action"){const i=yield this._delegate.onHover(t.item,this.cts.token);t.canPreview=i?i.canPreview:void 0}e.index&&this._list.splice(e.index,1,[t])}this._list.setFocus(typeof e.index=="number"?[e.index]:[])})}onListClick(e){e.element&&this.focusCondition(e.element)&&this._list.setFocus([])}};Es=hr([er(4,fn.u),er(5,Je.d)],Es);function Vo(g){return g.replace(/\r\n|\r|\n/g," ")}var eo=c(89320),Mn=c(99068),Qo=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Dr=function(g,e){return function(t,i){e(t,i,g)}};(0,Te.P6G)("actionBar.toggledBackground",{dark:Te.XEs,light:Te.XEs,hcDark:Te.XEs,hcLight:Te.XEs},(0,le.NC)("actionBar.toggledBackground","Background color for toggled action items in action bar."));const Fr={Visible:new Ot.uy("codeActionMenuVisible",!1,(0,le.NC)("codeActionMenuVisible","Whether the action widget list is visible"))},Er=(0,Mn.yh)("actionWidgetService");let wr=class extends Ue.JT{get isVisible(){return Fr.Visible.getValue(this._contextKeyService)||!1}constructor(e,t,i){super(),this._contextViewService=e,this._contextKeyService=t,this._instantiationService=i,this._list=this._register(new Ue.XK)}show(e,t,i,s,o,d,p){const U=Fr.Visible.bindTo(this._contextKeyService),te=this._instantiationService.createInstance(Es,e,t,i,s);this._contextViewService.showContextView({getAnchor:()=>o,render:de=>(U.set(!0),this._renderWidget(de,te,p!=null?p:[])),onHide:de=>{U.reset(),this._onWidgetClosed(de)}},d,!1)}acceptSelected(e){var t;(t=this._list.value)===null||t===void 0||t.acceptSelected(e)}focusPrevious(){var e,t;(t=(e=this._list)===null||e===void 0?void 0:e.value)===null||t===void 0||t.focusPrevious()}focusNext(){var e,t;(t=(e=this._list)===null||e===void 0?void 0:e.value)===null||t===void 0||t.focusNext()}hide(){var e;(e=this._list.value)===null||e===void 0||e.hide(),this._list.clear()}_renderWidget(e,t,i){var s;const o=document.createElement("div");if(o.classList.add("action-widget"),e.appendChild(o),this._list.value=t,this._list.value)o.appendChild(this._list.value.domNode);else throw new Error("List has no value");const d=new Ue.SL,p=document.createElement("div"),U=e.appendChild(p);U.classList.add("context-view-block"),d.add(De.nm(U,De.tw.MOUSE_DOWN,qe=>qe.stopPropagation()));const te=document.createElement("div"),de=e.appendChild(te);de.classList.add("context-view-pointerBlock"),d.add(De.nm(de,De.tw.POINTER_MOVE,()=>de.remove())),d.add(De.nm(de,De.tw.MOUSE_DOWN,()=>de.remove()));let be=0;if(i.length){const qe=this._createActionBar(".action-widget-action-bar",i);qe&&(o.appendChild(qe.getContainer().parentElement),d.add(qe),be=qe.getContainer().offsetWidth)}const Ie=(s=this._list.value)===null||s===void 0?void 0:s.layout(be);o.style.width=`${Ie}px`;const $e=d.add(De.go(e));return d.add($e.onDidBlur(()=>this.hide())),d}_createActionBar(e,t){if(!t.length)return;const i=De.$(e),s=new qo.o(i);return s.push(t,{icon:!1,label:!0}),s}_onWidgetClosed(e){var t;(t=this._list.value)===null||t===void 0||t.hide(e)}};wr=Qo([Dr(0,fn.u),Dr(1,Ot.i6),Dr(2,Mn.TG)],wr),(0,eo.z)(Er,wr,1);const Sr=100+1e3;(0,mt.r1)(class extends mt.Ke{constructor(){super({id:"hideCodeActionWidget",title:{value:(0,le.NC)("hideCodeActionWidget.title","Hide action widget"),original:"Hide action widget"},precondition:Fr.Visible,keybinding:{weight:Sr,primary:9,secondary:[1033]}})}run(g){g.get(Er).hide()}}),(0,mt.r1)(class extends mt.Ke{constructor(){super({id:"selectPrevCodeAction",title:{value:(0,le.NC)("selectPrevCodeAction.title","Select previous action"),original:"Select previous action"},precondition:Fr.Visible,keybinding:{weight:Sr,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(g){const e=g.get(Er);e instanceof wr&&e.focusPrevious()}}),(0,mt.r1)(class extends mt.Ke{constructor(){super({id:"selectNextCodeAction",title:{value:(0,le.NC)("selectNextCodeAction.title","Select next action"),original:"Select next action"},precondition:Fr.Visible,keybinding:{weight:Sr,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(g){const e=g.get(Er);e instanceof wr&&e.focusNext()}}),(0,mt.r1)(class extends mt.Ke{constructor(){super({id:Xo,title:{value:(0,le.NC)("acceptSelected.title","Accept selected action"),original:"Accept selected action"},precondition:Fr.Visible,keybinding:{weight:Sr,primary:3,secondary:[2137]}})}run(g){const e=g.get(Er);e instanceof wr&&e.acceptSelected()}}),(0,mt.r1)(class extends mt.Ke{constructor(){super({id:Cr,title:{value:(0,le.NC)("previewSelected.title","Preview selected action"),original:"Preview selected action"},precondition:Fr.Visible,keybinding:{weight:Sr,primary:2051}})}run(g){const e=g.get(Er);e instanceof wr&&e.acceptSelected(!0)}});var Qs=c(59265),rr=c(34732),$s=c(94286);const yl=new Ot.uy("supportedCodeAction","");class _a extends Ue.JT{constructor(e,t,i,s=250){super(),this._editor=e,this._markerService=t,this._signalChange=i,this._delay=s,this._autoTriggerTimer=this._register(new Ke._F),this._register(this._markerService.onMarkerChanged(o=>this._onMarkerChanges(o))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(e){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);this._signalChange(t?{trigger:e,selection:t}:void 0)}_onMarkerChanges(e){const t=this._editor.getModel();t&&e.some(i=>(0,$s.Xy)(i,t.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:Ss.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){var t;if(!this._editor.hasModel())return;const i=this._editor.getModel(),s=this._editor.getSelection();if(s.isEmpty()&&e.type===2){const{lineNumber:o,column:d}=s.getPosition(),p=i.getLineContent(o);if(p.length===0){if(!(((t=this._editor.getOption(64).experimental)===null||t===void 0?void 0:t.showAiIcon)===bs.JO.On))return}else if(d===1){if(/\s/.test(p[0]))return}else if(d===i.getLineMaxColumn(o)){if(/\s/.test(p[p.length-1]))return}else if(/\s/.test(p[d-2])&&/\s/.test(p[d-1]))return}return s}}var yr;(function(g){g.Empty={type:0};class e{constructor(i,s,o){this.trigger=i,this.position=s,this._cancellablePromise=o,this.type=1,this.actions=o.catch(d=>{if((0,rn.n2)(d))return ll;throw d})}cancel(){this._cancellablePromise.cancel()}}g.Triggered=e})(yr||(yr={}));const ll=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1,hasAIFix:!1,allAIFixes:!1});class Ca extends Ue.JT{constructor(e,t,i,s,o,d){super(),this._editor=e,this._registry=t,this._markerService=i,this._progressService=o,this._configurationService=d,this._codeActionOracle=this._register(new Ue.XK),this._state=yr.Empty,this._onDidChangeState=this._register(new Ln.Q5),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=yl.bindTo(s),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(yr.Empty,!0))}_settingEnabledNearbyQuickfixes(){var e;const t=(e=this._editor)===null||e===void 0?void 0:e.getModel();return this._configurationService?this._configurationService.getValue("editor.codeActionWidget.includeNearbyQuickFixes",{resource:t==null?void 0:t.uri}):!1}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(yr.Empty);const e=this._editor.getModel();if(e&&this._registry.has(e)&&!this._editor.getOption(90)){const t=this._registry.all(e).flatMap(i=>{var s;return(s=i.providedCodeActionKinds)!==null&&s!==void 0?s:[]});this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new _a(this._editor,this._markerService,i=>{var s;if(!i){this.setState(yr.Empty);return}const o=i.selection.getStartPosition(),d=(0,Ke.PG)(p=>At(this,null,function*(){var U,te,de,be,Ie,$e;if(this._settingEnabledNearbyQuickfixes()&&i.trigger.type===1&&(i.trigger.triggerAction===Ss.QuickFix||!((te=(U=i.trigger.filter)===null||U===void 0?void 0:U.include)===null||te===void 0)&&te.contains(qi.QuickFix))){const qe=yield kt(this._registry,e,i.selection,i.trigger,ls.Ex.None,p),ft=[...qe.allActions];if(p.isCancellationRequested)return ll;if(!((de=qe.validActions)===null||de===void 0?void 0:de.some(Kt=>Kt.action.kind?qi.QuickFix.contains(new qi(Kt.action.kind)):!1))){const Kt=this._markerService.read({resource:e.uri});if(Kt.length>0){const mi=i.selection.getPosition();let ki=mi,Ui=Number.MAX_VALUE;const Hi=[...qe.validActions];for(const Pn of Kt){const fs=Pn.endColumn,gs=Pn.endLineNumber,As=Pn.startLineNumber;if(gs===mi.lineNumber||As===mi.lineNumber){ki=new bt.L(gs,fs);const xr={type:i.trigger.type,triggerAction:i.trigger.triggerAction,filter:{include:!((be=i.trigger.filter)===null||be===void 0)&&be.include?(Ie=i.trigger.filter)===null||Ie===void 0?void 0:Ie.include:qi.QuickFix},autoApply:i.trigger.autoApply,context:{notAvailableMessage:(($e=i.trigger.context)===null||$e===void 0?void 0:$e.notAvailableMessage)||"",position:ki}},Xg=new en.Y(ki.lineNumber,ki.column,ki.lineNumber,ki.column),xh=yield kt(this._registry,e,Xg,xr,ls.Ex.None,p);if(xh.validActions.length!==0){for(const H0 of xh.validActions)H0.highlightRange=H0.action.isPreferred;qe.allActions.length===0&&ft.push(...xh.allActions),Math.abs(mi.column-fs)<Ui?Hi.unshift(...xh.validActions):Hi.push(...xh.validActions)}Ui=Math.abs(mi.column-fs)}}const vn=Hi.filter((Pn,fs,gs)=>gs.findIndex(As=>As.action.title===Pn.action.title)===fs);return vn.sort((Pn,fs)=>Pn.action.isPreferred&&!fs.action.isPreferred?-1:!Pn.action.isPreferred&&fs.action.isPreferred||Pn.action.isAI&&!fs.action.isAI?1:!Pn.action.isAI&&fs.action.isAI?-1:0),{validActions:vn,allActions:ft,documentation:qe.documentation,hasAutoFix:qe.hasAutoFix,hasAIFix:qe.hasAIFix,allAIFixes:qe.allAIFixes,dispose:()=>{qe.dispose()}}}}}return kt(this._registry,e,i.selection,i.trigger,ls.Ex.None,p)}));i.trigger.type===1&&((s=this._progressService)===null||s===void 0||s.showWhile(d,250)),this.setState(new yr.Triggered(i.trigger,o,d))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:Ss.Default})}else this._supportedCodeActions.reset()}trigger(e){var t;(t=this._codeActionOracle.value)===null||t===void 0||t.trigger(e)}setState(e,t){e!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=e,!t&&!this._disposed&&this._onDidChangeState.fire(e))}}var Ha=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},vr=function(g,e){return function(t,i){e(t,i,g)}},ns;const ea="quickfix-edit-highlight";let to=ns=class extends Ue.JT{static get(e){return e.getContribution(ns.ID)}constructor(e,t,i,s,o,d,p,U,te,de){super(),this._commandService=p,this._configurationService=U,this._actionWidgetService=te,this._instantiationService=de,this._activeCodeActions=this._register(new Ue.XK),this._showDisabled=!1,this._disposed=!1,this._editor=e,this._model=this._register(new Ca(this._editor,o.codeActionProvider,t,i,d,U)),this._register(this._model.onDidChangeState(be=>this.update(be))),this._lightBulbWidget=new Ii.o(()=>{const be=this._editor.getContribution(Mo.ID);return be&&this._register(be.onClick(Ie=>this.showCodeActionList(Ie.actions,Ie,{includeDisabledActions:!1,fromLightbulb:!0}))),be}),this._resolver=s.createInstance(ue),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}showCodeActions(e,t,i){return this.showCodeActionList(t,i,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(e,t,i,s){var o;if(!this._editor.hasModel())return;(o=Do.get(this._editor))===null||o===void 0||o.closeMessage();const d=this._editor.getPosition();this._trigger({type:1,triggerAction:t,filter:i,autoApply:s,context:{notAvailableMessage:e,position:d}})}_trigger(e){return this._model.trigger(e)}_applyCodeAction(e,t,i){return At(this,null,function*(){try{yield this._instantiationService.invokeFunction(Pi,e,Ei.FromCodeActions,{preview:i,editor:this._editor})}finally{t&&this._trigger({type:2,triggerAction:Ss.QuickFix,filter:{}})}})}update(e){return At(this,null,function*(){var t,i,s,o,d,p,U;if(e.type!==1){(t=this._lightBulbWidget.rawValue)===null||t===void 0||t.hide();return}let te;try{te=yield e.actions}catch(de){(0,rn.dL)(de);return}if(!this._disposed)if((i=this._lightBulbWidget.value)===null||i===void 0||i.update(te,e.trigger,e.position),e.trigger.type===1){if(!((s=e.trigger.filter)===null||s===void 0)&&s.include){const be=this.tryGetValidActionToApply(e.trigger,te);if(be){try{(o=this._lightBulbWidget.value)===null||o===void 0||o.hide(),yield this._applyCodeAction(be,!1,!1)}finally{te.dispose()}return}if(e.trigger.context){const Ie=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,te);if(Ie&&Ie.action.disabled){(d=Do.get(this._editor))===null||d===void 0||d.showMessage(Ie.action.disabled,e.trigger.context.position),te.dispose();return}}}const de=!!(!((p=e.trigger.filter)===null||p===void 0)&&p.include);if(e.trigger.context&&(!te.allActions.length||!de&&!te.validActions.length)){(U=Do.get(this._editor))===null||U===void 0||U.showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=te,te.dispose();return}this._activeCodeActions.value=te,this.showCodeActionList(te,this.toCoords(e.position),{includeDisabledActions:de,fromLightbulb:!1})}else this._actionWidgetService.isVisible?te.dispose():this._activeCodeActions.value=te})}getInvalidActionThatWouldHaveBeenApplied(e,t){if(t.allActions.length&&(e.autoApply==="first"&&t.validActions.length===0||e.autoApply==="ifSingle"&&t.allActions.length===1))return t.allActions.find(({action:i})=>i.disabled)}tryGetValidActionToApply(e,t){if(t.validActions.length&&(e.autoApply==="first"&&t.validActions.length>0||e.autoApply==="ifSingle"&&t.validActions.length===1))return t.validActions[0]}showCodeActionList(e,t,i){return At(this,null,function*(){const s=this._editor.createDecorationsCollection(),o=this._editor.getDomNode();if(!o)return;const d=i.includeDisabledActions&&(this._showDisabled||e.validActions.length===0)?e.allActions:e.validActions;if(!d.length)return;const p=bt.L.isIPosition(t)?this.toCoords(t):t,U={onSelect:(te,de)=>At(this,null,function*(){this._applyCodeAction(te,!0,!!de),this._actionWidgetService.hide(),s.clear()}),onHide:()=>{var te;(te=this._editor)===null||te===void 0||te.focus(),s.clear()},onHover:(te,de)=>At(this,null,function*(){var be;if(yield te.resolve(de),!de.isCancellationRequested)return{canPreview:!!(!((be=te.action.edit)===null||be===void 0)&&be.edits.length)}}),onFocus:te=>{var de,be;if(te&&te.highlightRange&&te.action.diagnostics){const Ie=[{range:te.action.diagnostics[0],options:ns.DECORATION}];s.set(Ie);const $e=te.action.diagnostics[0],qe=(be=(de=this._editor.getModel())===null||de===void 0?void 0:de.getWordAtPosition({lineNumber:$e.startLineNumber,column:$e.startColumn}))===null||be===void 0?void 0:be.word;gn.i7((0,le.NC)("editingNewSelection","Context: {0} at line {1} and column {2}.",qe,$e.startLineNumber,$e.startColumn))}else s.clear()}};this._actionWidgetService.show("codeActionWidget",!0,Ir(d,this._shouldShowHeaders(),this._resolver.getResolver()),U,p,o,this._getActionBarActions(e,t,i))})}toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(e),i=(0,De.i)(this._editor.getDomNode()),s=i.left+t.left,o=i.top+t.top+t.height;return{x:s,y:o}}_shouldShowHeaders(){var e;const t=(e=this._editor)===null||e===void 0?void 0:e.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:t==null?void 0:t.uri})}_getActionBarActions(e,t,i){if(i.fromLightbulb)return[];const s=e.documentation.map(o=>{var d;return{id:o.id,label:o.title,tooltip:(d=o.tooltip)!==null&&d!==void 0?d:"",class:void 0,enabled:!0,run:()=>{var p;return this._commandService.executeCommand(o.id,...(p=o.arguments)!==null&&p!==void 0?p:[])}}});return i.includeDisabledActions&&e.validActions.length>0&&e.allActions.length!==e.validActions.length&&s.push(this._showDisabled?{id:"hideMoreActions",label:(0,le.NC)("hideMoreActions","Hide Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(e,t,i))}:{id:"showMoreActions",label:(0,le.NC)("showMoreActions","Show Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(e,t,i))}),s}};to.ID="editor.contrib.codeActionController",to.DECORATION=_i.qx.register({description:"quickfix-highlight",className:ea}),to=ns=Ha([vr(1,Qs.lT),vr(2,Ot.i6),vr(3,Mn.TG),vr(4,hn.p),vr(5,ls.ek),vr(6,jt.H),vr(7,bi.Ui),vr(8,Er),vr(9,Mn.TG)],to),(0,tt.Ic)((g,e)=>{((s,o)=>{o&&e.addRule(`.monaco-editor ${s} { background-color: ${o}; }`)})(".quickfix-edit-highlight",g.getColor(Te.MUv));const i=g.getColor(Te.EiJ);i&&e.addRule(`.monaco-editor .quickfix-edit-highlight { border: 1px ${(0,rr.c3)(g.type)?"dotted":"solid"} ${i}; box-sizing: border-box; }`)});function ua(g){return Ot.Ao.regex(yl.keys()[0],new RegExp("(\\s|^)"+(0,Zi.ec)(g.value)+"\\b"))}const oo={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:le.NC("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:le.NC("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[le.NC("args.schema.apply.first","Always apply the first returned code action."),le.NC("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),le.NC("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:le.NC("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};function Or(g,e,t,i,s=Ss.Default){if(g.hasModel()){const o=to.get(g);o==null||o.manualTriggerAtCurrentPosition(e,s,t,i)}}class Ed extends Ve.R6{constructor(){super({id:Ns,label:le.NC("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:Ot.Ao.and(Pt.u.writable,Pt.u.hasCodeActionsProvider),kbOpts:{kbExpr:Pt.u.textInputFocus,primary:2137,weight:100}})}run(e,t){return Or(t,le.NC("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,Ss.QuickFix)}}class Sd extends Ve._l{constructor(){super({id:Ws,precondition:Ot.Ao.and(Pt.u.writable,Pt.u.hasCodeActionsProvider),metadata:{description:"Trigger a code action",args:[{name:"args",schema:oo}]}})}runEditorCommand(e,t,i){const s=vs.fromUser(i,{kind:qi.Empty,apply:"ifSingle"});return Or(t,typeof(i==null?void 0:i.kind)=="string"?s.preferred?le.NC("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",i.kind):le.NC("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",i.kind):s.preferred?le.NC("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):le.NC("editor.action.codeAction.noneMessage","No code actions available"),{include:s.kind,includeSourceActions:!0,onlyIncludePreferredActions:s.preferred},s.apply)}}class Ol extends Ve.R6{constructor(){super({id:ao,label:le.NC("refactor.label","Refactor..."),alias:"Refactor...",precondition:Ot.Ao.and(Pt.u.writable,Pt.u.hasCodeActionsProvider),kbOpts:{kbExpr:Pt.u.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:Ot.Ao.and(Pt.u.writable,ua(qi.Refactor))},metadata:{description:"Refactor...",args:[{name:"args",schema:oo}]}})}run(e,t,i){const s=vs.fromUser(i,{kind:qi.Refactor,apply:"never"});return Or(t,typeof(i==null?void 0:i.kind)=="string"?s.preferred?le.NC("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",i.kind):le.NC("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",i.kind):s.preferred?le.NC("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):le.NC("editor.action.refactor.noneMessage","No refactorings available"),{include:qi.Refactor.contains(s.kind)?s.kind:qi.None,onlyIncludePreferredActions:s.preferred},s.apply,Ss.Refactor)}}class dl extends Ve.R6{constructor(){super({id:ri,label:le.NC("source.label","Source Action..."),alias:"Source Action...",precondition:Ot.Ao.and(Pt.u.writable,Pt.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:Ot.Ao.and(Pt.u.writable,ua(qi.Source))},metadata:{description:"Source Action...",args:[{name:"args",schema:oo}]}})}run(e,t,i){const s=vs.fromUser(i,{kind:qi.Source,apply:"never"});return Or(t,typeof(i==null?void 0:i.kind)=="string"?s.preferred?le.NC("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",i.kind):le.NC("editor.action.source.noneMessage.kind","No source actions for '{0}' available",i.kind):s.preferred?le.NC("editor.action.source.noneMessage.preferred","No preferred source actions available"):le.NC("editor.action.source.noneMessage","No source actions available"),{include:qi.Source.contains(s.kind)?s.kind:qi.None,includeSourceActions:!0,onlyIncludePreferredActions:s.preferred},s.apply,Ss.SourceAction)}}class vd extends Ve.R6{constructor(){super({id:Se,label:le.NC("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:Ot.Ao.and(Pt.u.writable,ua(qi.SourceOrganizeImports)),kbOpts:{kbExpr:Pt.u.textInputFocus,primary:1581,weight:100}})}run(e,t){return Or(t,le.NC("editor.action.organize.noneMessage","No organize imports action available"),{include:qi.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",Ss.OrganizeImports)}}class cl extends Ve.R6{constructor(){super({id:je,label:le.NC("fixAll.label","Fix All"),alias:"Fix All",precondition:Ot.Ao.and(Pt.u.writable,ua(qi.SourceFixAll))})}run(e,t){return Or(t,le.NC("fixAll.noneMessage","No fix all action available"),{include:qi.SourceFixAll,includeSourceActions:!0},"ifSingle",Ss.FixAll)}}class ul extends Ve.R6{constructor(){super({id:fo,label:le.NC("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:Ot.Ao.and(Pt.u.writable,ua(qi.QuickFix)),kbOpts:{kbExpr:Pt.u.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(e,t){return Or(t,le.NC("editor.action.autoFix.noneMessage","No auto fixes available"),{include:qi.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",Ss.AutoFix)}}var Ea=c(43211),tr=c(93796);(0,Ve._K)(to.ID,to,3),(0,Ve._K)(Mo.ID,Mo,4),(0,Ve.Qr)(Ed),(0,Ve.Qr)(Ol),(0,Ve.Qr)(dl),(0,Ve.Qr)(vd),(0,Ve.Qr)(ul),(0,Ve.Qr)(cl),(0,Ve.fK)(new Sd),tr.B.as(Ea.IP.Configuration).registerConfiguration(sn(Di({},as.wk),{properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:le.NC("showCodeActionHeaders","Enable/disable showing group headers in the Code Action menu."),default:!0}}})),tr.B.as(Ea.IP.Configuration).registerConfiguration(sn(Di({},as.wk),{properties:{"editor.codeActionWidget.includeNearbyQuickFixes":{type:"boolean",scope:5,description:le.NC("includeNearbyQuickFixes","Enable/disable showing nearest Quick Fix within a line when not currently on a diagnostic."),default:!0}}}));var ta=c(55426),Zn=c(22968);class Sa{constructor(){this.lenses=[],this._disposables=new Ue.SL}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(e,t){this._disposables.add(e);for(const i of e.lenses)this.lenses.push({symbol:i,provider:t})}}function Jo(g,e,t){return At(this,null,function*(){const i=g.ordered(e),s=new Map,o=new Sa,d=i.map((p,U)=>At(this,null,function*(){s.set(p,U);try{const te=yield Promise.resolve(p.provideCodeLenses(e,t));te&&o.add(te,p)}catch(te){(0,rn.Cp)(te)}}));return yield Promise.all(d),o.lenses=o.lenses.sort((p,U)=>p.symbol.range.startLineNumber<U.symbol.range.startLineNumber?-1:p.symbol.range.startLineNumber>U.symbol.range.startLineNumber?1:s.get(p.provider)<s.get(U.provider)?-1:s.get(p.provider)>s.get(U.provider)?1:p.symbol.range.startColumn<U.symbol.range.startColumn?-1:p.symbol.range.startColumn>U.symbol.range.startColumn?1:0),o})}jt.P.registerCommand("_executeCodeLensProvider",function(g,...e){let[t,i]=e;(0,Zn.p_)(Xn.o.isUri(t)),(0,Zn.p_)(typeof i=="number"||!i);const{codeLensProvider:s}=g.get(hn.p),o=g.get(us.q).getModel(t);if(!o)throw(0,rn.b1)();const d=[],p=new Ue.SL;return Jo(s,o,pn.T.None).then(U=>{p.add(U);const te=[];for(const de of U.lenses)i==null||de.symbol.command?d.push(de.symbol):i-- >0&&de.provider.resolveCodeLens&&te.push(Promise.resolve(de.provider.resolveCodeLens(o,de.symbol,pn.T.None)).then(be=>d.push(be||de.symbol)));return Promise.all(te)}).then(()=>d).finally(()=>{setTimeout(()=>p.dispose(),100)})});var Go=c(83987),vo=c(14786),hl=c(32764),mo=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},ia=function(g,e){return function(t,i){e(t,i,g)}};const Ua=(0,Mn.yh)("ICodeLensCache");class fl{constructor(e,t){this.lineCount=e,this.data=t}}let Va=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new Go.z6(20,.75);const t="codelens/cache";(0,De.se)(hl.Ex,()=>e.remove(t,1));const i="codelens/cache2",s=e.get(i,1,"{}");this._deserialize(s),Ln.ju.once(e.onWillSaveState)(o=>{o.reason===vo.fk.SHUTDOWN&&e.store(i,this._serialize(),1,1)})}put(e,t){const i=t.lenses.map(d=>{var p;return{range:d.symbol.range,command:d.symbol.command&&{id:"",title:(p=d.symbol.command)===null||p===void 0?void 0:p.title}}}),s=new Sa;s.add({lenses:i,dispose:()=>{}},this._fakeProvider);const o=new fl(e.getLineCount(),s);this._cache.set(e.uri.toString(),o)}get(e){const t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){const e=Object.create(null);for(const[t,i]of this._cache){const s=new Set;for(const o of i.data.lenses)s.add(o.symbol.range.startLineNumber);e[t]={lineCount:i.lineCount,lines:[...s.values()]}}return JSON.stringify(e)}_deserialize(e){try{const t=JSON.parse(e);for(const i in t){const s=t[i],o=[];for(const p of s.lines)o.push({range:new it.e(p,1,p,11)});const d=new Sa;d.add({lenses:o,dispose(){}},this._fakeProvider),this._cache.set(i,new fl(s.lineCount,d))}}catch(t){}}};Va=mo([ia(0,vo.Uy)],Va),(0,eo.z)(Ua,Va,1);var va=c(89227);class Pl{constructor(e,t,i){this.afterColumn=1073741824,this.afterLineNumber=e,this.heightInPx=t,this._onHeight=i,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){this._lastHeight===void 0?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class Br{constructor(e,t){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id=`codelens.widget-${Br._idPool++}`,this.updatePosition(t),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(e,t){this._commands.clear();const i=[];let s=!1;for(let o=0;o<e.length;o++){const d=e[o];if(d&&(s=!0,d.command)){const p=(0,va.T)(d.command.title.trim());d.command.id?(i.push(De.$("a",{id:String(o),title:d.command.tooltip,role:"button"},...p)),this._commands.set(String(o),d.command)):i.push(De.$("span",{title:d.command.tooltip},...p)),o+1<e.length&&i.push(De.$("span",void 0,"\xA0|\xA0"))}}s?(De.mc(this._domNode,...i),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):De.mc(this._domNode,De.$("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}}Br._idPool=0;class Wr{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){const t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let i=0,s=t.length;i<s;i++)this._addDecorationsCallbacks[i](t[i])}}const Me=_i.qx.register({collapseOnReplaceEdit:!0,description:"codelens"});class nt{constructor(e,t,i,s,o,d){this._isDisposed=!1,this._editor=t,this._data=e,this._decorationIds=[];let p;const U=[];this._data.forEach((te,de)=>{te.symbol.command&&U.push(te.symbol),i.addDecoration({range:te.symbol.range,options:Me},be=>this._decorationIds[de]=be),p?p=it.e.plusRange(p,te.symbol.range):p=it.e.lift(te.symbol.range)}),this._viewZone=new Pl(p.startLineNumber-1,o,d),this._viewZoneId=s.addZone(this._viewZone),U.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(U,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new Br(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t==null||t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((e,t)=>{const i=this._editor.getModel().getDecorationRange(e),s=this._data[t].symbol;return!!(i&&it.e.isEmpty(s.range)===i.isEmpty())})}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((i,s)=>{t.addDecoration({range:i.symbol.range,options:Me},o=>this._decorationIds[s]=o)})}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){const i=e.getDecorationRange(this._decorationIds[t]);i&&(this._data[t].symbol.range=i)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){const i=e[t];if(i){const{symbol:s}=this._data[t];s.command=i.command||s.command}}}getCommand(e){var t;return(t=this._contentWidget)===null||t===void 0?void 0:t.getCommand(e)}getLineNumber(){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var oi=c(63346),Yi=c(49035),is=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Os=function(g,e){return function(t,i){e(t,i,g)}};let Js=class{constructor(e,t,i,s,o,d){this._editor=e,this._languageFeaturesService=t,this._commandService=s,this._notificationService=o,this._codeLensCache=d,this._disposables=new Ue.SL,this._localToDispose=new Ue.SL,this._lenses=[],this._oldCodeLensModels=new Ue.SL,this._provideCodeLensDebounce=i.for(t.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=i.for(t.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new Ke.pY(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(p=>{(p.hasChanged(50)||p.hasChanged(19)||p.hasChanged(18))&&this._updateLensStyle(),p.hasChanged(17)&&this._onModelChange()})),this._disposables.add(t.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(e=this._currentCodeLensModel)===null||e===void 0||e.dispose()}_getLayoutInfo(){const e=Math.max(1.3,this._editor.getOption(66)/this._editor.getOption(52));let t=this._editor.getOption(19);return(!t||t<5)&&(t=this._editor.getOption(52)*.9|0),{fontSize:t,codeLensHeight:t*e|0}}_updateLensStyle(){const{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),i=this._editor.getOption(18),s=this._editor.getOption(50),{style:o}=this._editor.getContainerDomNode();o.setProperty("--vscode-editorCodeLens-lineHeight",`${e}px`),o.setProperty("--vscode-editorCodeLens-fontSize",`${t}px`),o.setProperty("--vscode-editorCodeLens-fontFeatureSettings",s.fontFeatureSettings),i&&(o.setProperty("--vscode-editorCodeLens-fontFamily",i),o.setProperty("--vscode-editorCodeLens-fontFamilyDefault",bs.hL.fontFamily)),this._editor.changeViewZones(d=>{for(const p of this._lenses)p.updateHeight(e,d)})}_localDispose(){var e,t,i;(e=this._getCodeLensModelPromise)===null||e===void 0||e.cancel(),this._getCodeLensModelPromise=void 0,(t=this._resolveCodeLensesPromise)===null||t===void 0||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(i=this._currentCodeLensModel)===null||i===void 0||i.dispose()}_onModelChange(){this._localDispose();const e=this._editor.getModel();if(!e||!this._editor.getOption(17)||e.isTooLargeForTokenization())return;const t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!this._languageFeaturesService.codeLensProvider.has(e)){t&&(0,Ke.Vg)(()=>{const s=this._codeLensCache.get(e);t===s&&(this._codeLensCache.delete(e),this._onModelChange())},30*1e3,this._localToDispose);return}for(const s of this._languageFeaturesService.codeLensProvider.all(e))if(typeof s.onDidChange=="function"){const o=s.onDidChange(()=>i.schedule());this._localToDispose.add(o)}const i=new Ke.pY(()=>{var s;const o=Date.now();(s=this._getCodeLensModelPromise)===null||s===void 0||s.cancel(),this._getCodeLensModelPromise=(0,Ke.PG)(d=>Jo(this._languageFeaturesService.codeLensProvider,e,d)),this._getCodeLensModelPromise.then(d=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=d,this._codeLensCache.put(e,d);const p=this._provideCodeLensDebounce.update(e,Date.now()-o);i.delay=p,this._renderCodeLensSymbols(d),this._resolveCodeLensesInViewportSoon()},rn.dL)},this._provideCodeLensDebounce.get(e));this._localToDispose.add(i),this._localToDispose.add((0,Ue.OF)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var s;this._editor.changeDecorations(o=>{this._editor.changeViewZones(d=>{const p=[];let U=-1;this._lenses.forEach(de=>{!de.isValid()||U===de.getLineNumber()?p.push(de):(de.update(d),U=de.getLineNumber())});const te=new Wr;p.forEach(de=>{de.dispose(te,d),this._lenses.splice(this._lenses.indexOf(de),1)}),te.commit(o)})}),i.schedule(),this._resolveCodeLensesScheduler.cancel(),(s=this._resolveCodeLensesPromise)===null||s===void 0||s.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{i.schedule()})),this._localToDispose.add(this._editor.onDidBlurEditorText(()=>{i.cancel()})),this._localToDispose.add(this._editor.onDidScrollChange(s=>{s.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,Ue.OF)(()=>{if(this._editor.getModel()){const s=ta.Z.capture(this._editor);this._editor.changeDecorations(o=>{this._editor.changeViewZones(d=>{this._disposeAllLenses(o,d)})}),s.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(s=>{if(s.target.type!==9)return;let o=s.target.element;if((o==null?void 0:o.tagName)==="SPAN"&&(o=o.parentElement),(o==null?void 0:o.tagName)==="A")for(const d of this._lenses){const p=d.getCommand(o);if(p){this._commandService.executeCommand(p.id,...p.arguments||[]).catch(U=>this._notificationService.error(U));break}}})),i.schedule()}_disposeAllLenses(e,t){const i=new Wr;for(const s of this._lenses)s.dispose(i,t);e&&i.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;const t=this._editor.getModel().getLineCount(),i=[];let s;for(const p of e.lenses){const U=p.symbol.range.startLineNumber;U<1||U>t||(s&&s[s.length-1].symbol.range.startLineNumber===U?s.push(p):(s=[p],i.push(s)))}if(!i.length&&!this._lenses.length)return;const o=ta.Z.capture(this._editor),d=this._getLayoutInfo();this._editor.changeDecorations(p=>{this._editor.changeViewZones(U=>{const te=new Wr;let de=0,be=0;for(;be<i.length&&de<this._lenses.length;){const Ie=i[be][0].symbol.range.startLineNumber,$e=this._lenses[de].getLineNumber();$e<Ie?(this._lenses[de].dispose(te,U),this._lenses.splice(de,1)):$e===Ie?(this._lenses[de].updateCodeLensSymbols(i[be],te),be++,de++):(this._lenses.splice(de,0,new nt(i[be],this._editor,te,U,d.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),de++,be++)}for(;de<this._lenses.length;)this._lenses[de].dispose(te,U),this._lenses.splice(de,1);for(;be<i.length;)this._lenses.push(new nt(i[be],this._editor,te,U,d.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),be++;te.commit(p)})}),o.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;(e=this._resolveCodeLensesPromise)===null||e===void 0||e.cancel(),this._resolveCodeLensesPromise=void 0;const t=this._editor.getModel();if(!t)return;const i=[],s=[];if(this._lenses.forEach(p=>{const U=p.computeIfNecessary(t);U&&(i.push(U),s.push(p))}),i.length===0)return;const o=Date.now(),d=(0,Ke.PG)(p=>{const U=i.map((te,de)=>{const be=new Array(te.length),Ie=te.map(($e,qe)=>!$e.symbol.command&&typeof $e.provider.resolveCodeLens=="function"?Promise.resolve($e.provider.resolveCodeLens(t,$e.symbol,p)).then(ft=>{be[qe]=ft},rn.Cp):(be[qe]=$e.symbol,Promise.resolve(void 0)));return Promise.all(Ie).then(()=>{!p.isCancellationRequested&&!s[de].isDisposed()&&s[de].updateCommands(be)})});return Promise.all(U)});this._resolveCodeLensesPromise=d,this._resolveCodeLensesPromise.then(()=>{const p=this._resolveCodeLensesDebounce.update(t,Date.now()-o);this._resolveCodeLensesScheduler.delay=p,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),d===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},p=>{(0,rn.dL)(p),d===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return At(this,null,function*(){var e;return yield this._getCodeLensModelPromise,yield this._resolveCodeLensesPromise,!((e=this._currentCodeLensModel)===null||e===void 0)&&e.isDisposed?void 0:this._currentCodeLensModel})}};Js.ID="css.editor.codeLens",Js=is([Os(1,hn.p),Os(2,Yi.A),Os(3,jt.H),Os(4,ts.lT),Os(5,Ua)],Js),(0,Ve._K)(Js.ID,Js,1),(0,Ve.Qr)(class extends Ve.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:Pt.u.hasCodeLensProvider,label:(0,le.NC)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(e,t){return At(this,null,function*(){if(!t.hasModel())return;const i=e.get(oi.eJ),s=e.get(jt.H),o=e.get(ts.lT),d=t.getSelection().positionLineNumber,p=t.getContribution(Js.ID);if(!p)return;const U=yield p.getModel();if(!U)return;const te=[];for(const Ie of U.lenses)Ie.symbol.command&&Ie.symbol.range.startLineNumber===d&&te.push({label:Ie.symbol.command.title,command:Ie.symbol.command});if(te.length===0)return;const de=yield i.pick(te,{canPickMany:!1,placeHolder:(0,le.NC)("placeHolder","Select a command")});if(!de)return;let be=de.command;if(U.isDisposed){const Ie=yield p.getModel(),$e=Ie==null?void 0:Ie.lenses.find(qe=>{var ft;return qe.symbol.range.startLineNumber===d&&((ft=qe.symbol.command)===null||ft===void 0?void 0:ft.title)===be.title});if(!$e||!$e.symbol.command)return;be=$e.symbol.command}try{yield s.executeCommand(be.id,...be.arguments||[])}catch(Ie){o.error(Ie)}})}});var Fn=c(72225),io=c(74987),Tr=c(29945),ha=c(53085),Zs=c(79993),zo=c(13567),Hr=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Td=function(g,e){return function(t,i){e(t,i,g)}};class ar{constructor(e,t){this._editorWorkerClient=new ha.Q8(e,!1,"editorWorkerService",t)}provideDocumentColors(e,t){return At(this,null,function*(){return this._editorWorkerClient.computeDefaultDocumentColors(e.uri)})}provideColorPresentations(e,t,i){const s=t.range,o=t.color,d=o.alpha,p=new Fn.Il(new Fn.VS(Math.round(255*o.red),Math.round(255*o.green),Math.round(255*o.blue),d)),U=d?Fn.Il.Format.CSS.formatRGB(p):Fn.Il.Format.CSS.formatRGBA(p),te=d?Fn.Il.Format.CSS.formatHSL(p):Fn.Il.Format.CSS.formatHSLA(p),de=d?Fn.Il.Format.CSS.formatHex(p):Fn.Il.Format.CSS.formatHexA(p),be=[];return be.push({label:U,textEdit:{range:s,text:U}}),be.push({label:te,textEdit:{range:s,text:te}}),be.push({label:de,textEdit:{range:s,text:de}}),be}}let Ur=class extends Ue.JT{constructor(e,t,i){super(),this._register(i.colorProvider.register("*",new ar(e,t)))}};Ur=Hr([Td(0,us.q),Td(1,Zs.c_),Td(2,hn.p)],Ur),(0,zo.y)(Ur);function bd(g,e,t,i=!0){return At(this,null,function*(){return na(new Ld,g,e,t,i)})}function Io(g,e,t,i){return Promise.resolve(t.provideColorPresentations(g,e,i))}class Ld{constructor(){}compute(e,t,i,s){return At(this,null,function*(){const o=yield e.provideDocumentColors(t,i);if(Array.isArray(o))for(const d of o)s.push({colorInfo:d,provider:e});return Array.isArray(o)})}}class Ml{constructor(){}compute(e,t,i,s){return At(this,null,function*(){const o=yield e.provideDocumentColors(t,i);if(Array.isArray(o))for(const d of o)s.push({range:d.range,color:[d.color.red,d.color.green,d.color.blue,d.color.alpha]});return Array.isArray(o)})}}class xl{constructor(e){this.colorInfo=e}compute(e,t,i,s){return At(this,null,function*(){const o=yield e.provideColorPresentations(t,this.colorInfo,pn.T.None);return Array.isArray(o)&&s.push(...o),Array.isArray(o)})}}function na(g,e,t,i,s){return At(this,null,function*(){let o=!1,d;const p=[],U=e.ordered(t);for(let te=U.length-1;te>=0;te--){const de=U[te];if(de instanceof ar)d=de;else try{(yield g.compute(de,t,i,p))&&(o=!0)}catch(be){(0,rn.Cp)(be)}}return o?p:d&&s?(yield g.compute(d,t,i,p),p):[]})}function Ta(g,e){const{colorProvider:t}=g.get(hn.p),i=g.get(us.q).getModel(e);if(!i)throw(0,rn.b1)();const s=g.get(bi.Ui).getValue("editor.defaultColorDecorators",{resource:e});return{model:i,colorProviderRegistry:t,isDefaultColorDecoratorsEnabled:s}}jt.P.registerCommand("_executeDocumentColorProvider",function(g,...e){const[t]=e;if(!(t instanceof Xn.o))throw(0,rn.b1)();const{model:i,colorProviderRegistry:s,isDefaultColorDecoratorsEnabled:o}=Ta(g,t);return na(new Ml,s,i,pn.T.None,o)}),jt.P.registerCommand("_executeColorPresentationProvider",function(g,...e){const[t,i]=e,{uri:s,range:o}=i;if(!(s instanceof Xn.o)||!Array.isArray(t)||t.length!==4||!it.e.isIRange(o))throw(0,rn.b1)();const{model:d,colorProviderRegistry:p,isDefaultColorDecoratorsEnabled:U}=Ta(g,s),[te,de,be,Ie]=t;return na(new xl({range:o,color:{red:te,green:de,blue:be,alpha:Ie}}),p,d,pn.T.None,U)});var fa=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},ba=function(g,e){return function(t,i){e(t,i,g)}},Ga;const kl=Object.create({});let Vr=Ga=class extends Ue.JT{constructor(e,t,i,s){super(),this._editor=e,this._configurationService=t,this._languageFeaturesService=i,this._localToDispose=this._register(new Ue.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new Tr.t7(this._editor),this._decoratorLimitReporter=new Lt,this._colorDecorationClassRefs=this._register(new Ue.SL),this._debounceInformation=s.for(i.colorProvider,"Document Colors",{min:Ga.RECOMPUTE_TIME}),this._register(e.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(e.onDidChangeModelLanguage(()=>this.updateColors())),this._register(i.colorProvider.onDidChange(()=>this.updateColors())),this._register(e.onDidChangeConfiguration(o=>{const d=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(145);const p=d!==this._isColorDecoratorsEnabled||o.hasChanged(21),U=o.hasChanged(145);(p||U)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(145),this.updateColors()}isEnabled(){const e=this._editor.getModel();if(!e)return!1;const t=e.getLanguageId(),i=this._configurationService.getValue(t);if(i&&typeof i=="object"){const s=i.colorDecorators;if(s&&s.enable!==void 0&&!s.enable)return s.enable}return this._editor.getOption(20)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const e=this._editor.getModel();!e||!this._languageFeaturesService.colorProvider.has(e)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new Ke._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(e)))})),this.beginCompute())}beginCompute(){return At(this,null,function*(){this._computePromise=(0,Ke.PG)(e=>At(this,null,function*(){const t=this._editor.getModel();if(!t)return[];const i=new io.G(!1),s=yield bd(this._languageFeaturesService.colorProvider,t,e,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(t,i.elapsed()),s}));try{const e=yield this._computePromise;this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null}catch(e){(0,rn.dL)(e)}})}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){const t=e.map(i=>({range:{startLineNumber:i.colorInfo.range.startLineNumber,startColumn:i.colorInfo.range.startColumn,endLineNumber:i.colorInfo.range.endLineNumber,endColumn:i.colorInfo.range.endColumn},options:_i.qx.EMPTY}));this._editor.changeDecorations(i=>{this._decorationsIds=i.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach((s,o)=>this._colorDatas.set(s,e[o]))})}updateColorDecorators(e){this._colorDecorationClassRefs.clear();const t=[],i=this._editor.getOption(21);for(let o=0;o<e.length&&t.length<i;o++){const{red:d,green:p,blue:U,alpha:te}=e[o].colorInfo.color,de=new Fn.VS(Math.round(d*255),Math.round(p*255),Math.round(U*255),te),be=`rgba(${de.r}, ${de.g}, ${de.b}, ${de.a})`,Ie=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:be}));t.push({range:{startLineNumber:e[o].colorInfo.range.startLineNumber,startColumn:e[o].colorInfo.range.startColumn,endLineNumber:e[o].colorInfo.range.endLineNumber,endColumn:e[o].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:Zi.B4,inlineClassName:`${Ie.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:kl}}})}const s=i<e.length?i:!1;this._decoratorLimitReporter.update(e.length,s),this._colorDecoratorIds.set(t)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(e){const t=this._editor.getModel();if(!t)return null;const i=t.getDecorationsInRange(it.e.fromPositions(e,e)).filter(s=>this._colorDatas.has(s.id));return i.length===0?null:this._colorDatas.get(i[0].id)}isColorDecoration(e){return this._colorDecoratorIds.has(e)}};Vr.ID="editor.contrib.colorDetector",Vr.RECOMPUTE_TIME=1e3,Vr=Ga=fa([ba(1,bi.Ui),ba(2,hn.p),ba(3,Yi.A)],Vr);class Lt{constructor(){this._onDidChange=new Ln.Q5,this._computed=0,this._limited=!1}update(e,t){(e!==this._computed||t!==this._limited)&&(this._computed=e,this._limited=t,this._onDidChange.fire())}}(0,Ve._K)(Vr.ID,Vr,1);class n{get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(e,t,i){this.presentationIndex=i,this._onColorFlushed=new Ln.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new Ln.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new Ln.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){let i=-1;for(let s=0;s<this.colorPresentations.length;s++)if(t.toLowerCase()===this.colorPresentations[s].label){i=s;break}if(i===-1){const s=t.split("(")[0].toLowerCase();for(let o=0;o<this.colorPresentations.length;o++)if(this.colorPresentations[o].label.toLowerCase().startsWith(s)){i=o;break}}i!==-1&&i!==this.presentationIndex&&(this.presentationIndex=i,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}var l=c(90042),m=c(58595),w=c(6863);const z=De.$;class ae extends Ue.JT{constructor(e,t,i,s=!1){super(),this.model=t,this.showingStandaloneColorPicker=s,this._closeButton=null,this._domNode=z(".colorpicker-header"),De.R3(e,this._domNode),this._pickedColorNode=De.R3(this._domNode,z(".picked-color")),De.R3(this._pickedColorNode,z("span.codicon.codicon-color-mode")),this._pickedColorPresentation=De.R3(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");const o=(0,le.NC)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this._pickedColorNode.setAttribute("title",o),this._originalColorNode=De.R3(this._domNode,z(".original-color")),this._originalColorNode.style.backgroundColor=Fn.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=i.getColorTheme().getColor(Te.yJx)||Fn.Il.white,this._register(i.onDidColorThemeChange(d=>{this.backgroundColor=d.getColor(Te.yJx)||Fn.Il.white})),this._register(De.nm(this._pickedColorNode,De.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(De.nm(this._originalColorNode,De.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=Fn.Il.Format.CSS.format(t.color)||"",this._pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?this.backgroundColor.isLighter():t.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new ge(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(e){this._pickedColorNode.style.backgroundColor=Fn.Il.Format.CSS.format(e)||"",this._pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}}class ge extends Ue.JT{constructor(e){super(),this._onClicked=this._register(new Ln.Q5),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),De.R3(e,this._button);const t=document.createElement("div");t.classList.add("close-button-inner-div"),De.R3(this._button,t),De.R3(t,z(".button"+Ds.k.asCSSSelector((0,w.q5)("color-picker-close",di.l.close,(0,le.NC)("closeIcon","Icon to close the color picker"))))).classList.add("close-icon"),this._button.onclick=()=>{this._onClicked.fire()}}}class ye extends Ue.JT{constructor(e,t,i,s=!1){super(),this.model=t,this.pixelRatio=i,this._insertButton=null,this._domNode=z(".colorpicker-body"),De.R3(e,this._domNode),this._saturationBox=new Ge(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new ht(this._domNode,this.model,s),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new Et(this._domNode,this.model,s),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),s&&(this._insertButton=this._register(new wt(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){const i=this.model.color.hsva;this.model.color=new Fn.Il(new Fn.tx(i.h,e,t,i.a))}onDidOpacityChange(e){const t=this.model.color.hsva;this.model.color=new Fn.Il(new Fn.tx(t.h,t.s,t.v,e))}onDidHueChange(e){const t=this.model.color.hsva,i=(1-e)*360;this.model.color=new Fn.Il(new Fn.tx(i===360?0:i,t.s,t.v,t.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}class Ge extends Ue.JT{constructor(e,t,i){super(),this.model=t,this.pixelRatio=i,this._onDidChange=new Ln.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new Ln.Q5,this.onColorFlushed=this._onColorFlushed.event,this._domNode=z(".saturation-wrap"),De.R3(e,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",De.R3(this._domNode,this._canvas),this.selection=z(".saturation-selection"),De.R3(this._domNode,this.selection),this.layout(),this._register(De.nm(this._domNode,De.tw.POINTER_DOWN,s=>this.onPointerDown(s))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(e){if(!e.target||!(e.target instanceof Element))return;this.monitor=this._register(new l.C);const t=De.i(this._domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.pointerId,e.buttons,s=>this.onDidChangePosition(s.pageX-t.left,s.pageY-t.top),()=>null);const i=De.nm(e.target.ownerDocument,De.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),i.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(e,t){const i=Math.max(0,Math.min(1,e/this.width)),s=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(i,s),this._onDidChange.fire({s:i,v:s})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){const e=this.model.color.hsva,t=new Fn.Il(new Fn.tx(e.h,1,1,1)),i=this._canvas.getContext("2d"),s=i.createLinearGradient(0,0,this._canvas.width,0);s.addColorStop(0,"rgba(255, 255, 255, 1)"),s.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),s.addColorStop(1,"rgba(255, 255, 255, 0)");const o=i.createLinearGradient(0,0,0,this._canvas.height);o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(1,"rgba(0, 0, 0, 1)"),i.rect(0,0,this._canvas.width,this._canvas.height),i.fillStyle=Fn.Il.Format.CSS.format(t),i.fill(),i.fillStyle=s,i.fill(),i.fillStyle=o,i.fill()}paintSelection(e,t){this.selection.style.left=`${e*this.width}px`,this.selection.style.top=`${this.height-t*this.height}px`}onDidChangeColor(e){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();const t=e.hsva;this.paintSelection(t.s,t.v)}}class ot extends Ue.JT{constructor(e,t,i=!1){super(),this.model=t,this._onDidChange=new Ln.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new Ln.Q5,this.onColorFlushed=this._onColorFlushed.event,i?(this.domNode=De.R3(e,z(".standalone-strip")),this.overlay=De.R3(this.domNode,z(".standalone-overlay"))):(this.domNode=De.R3(e,z(".strip")),this.overlay=De.R3(this.domNode,z(".overlay"))),this.slider=De.R3(this.domNode,z(".slider")),this.slider.style.top="0px",this._register(De.nm(this.domNode,De.tw.POINTER_DOWN,s=>this.onPointerDown(s))),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const e=this.getValue(this.model.color);this.updateSliderPosition(e)}onDidChangeColor(e){const t=this.getValue(e);this.updateSliderPosition(t)}onPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=this._register(new l.C),i=De.i(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.pointerId,e.buttons,o=>this.onDidChangeTop(o.pageY-i.top),()=>null);const s=De.nm(e.target.ownerDocument,De.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),s.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(e){const t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=`${(1-e)*this.height}px`}}class ht extends ot{constructor(e,t,i=!1){super(e,t,i),this.domNode.classList.add("opacity-strip"),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){super.onDidChangeColor(e);const{r:t,g:i,b:s}=e.rgba,o=new Fn.Il(new Fn.VS(t,i,s,1)),d=new Fn.Il(new Fn.VS(t,i,s,0));this.overlay.style.background=`linear-gradient(to bottom, ${o} 0%, ${d} 100%)`}getValue(e){return e.hsva.a}}class Et extends ot{constructor(e,t,i=!1){super(e,t,i),this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}}class wt extends Ue.JT{constructor(e){super(),this._onClicked=this._register(new Ln.Q5),this.onClicked=this._onClicked.event,this._button=De.R3(e,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._button.onclick=t=>{this._onClicked.fire()}}get button(){return this._button}}class $t extends m.${constructor(e,t,i,s,o=!1){super(),this.model=t,this.pixelRatio=i,this._register(Qt.Tz.onDidChange(()=>this.layout()));const d=z(".colorpicker-widget");e.appendChild(d),this.header=this._register(new ae(d,this.model,s,o)),this.body=this._register(new ye(d,this.model,this.pixelRatio,o))}layout(){this.body.layout()}}var qt=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},ci=function(g,e){return function(t,i){e(t,i,g)}};class gi{constructor(e,t,i,s){this.owner=e,this.range=t,this.model=i,this.provider=s,this.forceShowAtRange=!0}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let wi=class{constructor(e,t){this._editor=e,this._themeService=t,this.hoverOrdinal=2}computeSync(e,t){return[]}computeAsync(e,t,i){return Ke.Aq.fromPromise(this._computeAsync(e,t,i))}_computeAsync(e,t,i){return At(this,null,function*(){if(!this._editor.hasModel())return[];const s=Vr.get(this._editor);if(!s)return[];for(const o of t){if(!s.isColorDecoration(o))continue;const d=s.getColorData(o.range.getStartPosition());if(d)return[yield an(this,this._editor.getModel(),d.colorInfo,d.provider)]}return[]})}renderHoverParts(e,t){return Nn(this,this._editor,this._themeService,t,e)}};wi=qt([ci(1,tt.XE)],wi);class Bi{constructor(e,t,i,s){this.owner=e,this.range=t,this.model=i,this.provider=s}}let nn=class{constructor(e,t){this._editor=e,this._themeService=t,this._color=null}createColorHover(e,t,i){return At(this,null,function*(){if(!this._editor.hasModel()||!Vr.get(this._editor))return null;const o=yield bd(i,this._editor.getModel(),pn.T.None);let d=null,p=null;for(const be of o){const Ie=be.colorInfo;it.e.containsRange(Ie.range,e.range)&&(d=Ie,p=be.provider)}const U=d!=null?d:e,te=p!=null?p:t,de=!!d;return{colorHover:yield an(this,this._editor.getModel(),U,te),foundInEditor:de}})}updateEditorModel(e){return At(this,null,function*(){if(!this._editor.hasModel())return;const t=e.model;let i=new it.e(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn);this._color&&(yield _n(this._editor.getModel(),t,this._color,i,e),i=Sn(this._editor,i,t))})}renderHoverParts(e,t){return Nn(this,this._editor,this._themeService,t,e)}set color(e){this._color=e}get color(){return this._color}};nn=qt([ci(1,tt.XE)],nn);function an(g,e,t,i){return At(this,null,function*(){const s=e.getValueInRange(t.range),{red:o,green:d,blue:p,alpha:U}=t.color,te=new Fn.VS(Math.round(o*255),Math.round(d*255),Math.round(p*255),U),de=new Fn.Il(te),be=yield Io(e,t,i,pn.T.None),Ie=new n(de,[],0);return Ie.colorPresentations=be||[],Ie.guessColorPresentation(de,s),g instanceof wi?new gi(g,it.e.lift(t.range),Ie,i):new Bi(g,it.e.lift(t.range),Ie,i)})}function Nn(g,e,t,i,s){if(i.length===0||!e.hasModel())return Ue.JT.None;if(s.setMinimumDimensions){const Ie=e.getOption(66)+8;s.setMinimumDimensions(new De.Ro(302,Ie))}const o=new Ue.SL,d=i[0],p=e.getModel(),U=d.model,te=o.add(new $t(s.fragment,U,e.getOption(141),t,g instanceof nn));s.setColorPicker(te);let de=!1,be=new it.e(d.range.startLineNumber,d.range.startColumn,d.range.endLineNumber,d.range.endColumn);if(g instanceof nn){const Ie=i[0].model.color;g.color=Ie,_n(p,U,Ie,be,d),o.add(U.onColorFlushed($e=>{g.color=$e}))}else o.add(U.onColorFlushed(Ie=>At(this,null,function*(){yield _n(p,U,Ie,be,d),de=!0,be=Sn(e,be,U,s)})));return o.add(U.onDidChangeColor(Ie=>{_n(p,U,Ie,be,d)})),o.add(e.onDidChangeModelContent(Ie=>{de?de=!1:(s.hide(),e.focus())})),o}function Sn(g,e,t,i){let s,o;if(t.presentation.textEdit){s=[t.presentation.textEdit],o=new it.e(t.presentation.textEdit.range.startLineNumber,t.presentation.textEdit.range.startColumn,t.presentation.textEdit.range.endLineNumber,t.presentation.textEdit.range.endColumn);const d=g.getModel()._setTrackedRange(null,o,3);g.pushUndoStop(),g.executeEdits("colorpicker",s),o=g.getModel()._getTrackedRange(d)||o}else s=[{range:e,text:t.presentation.label,forceMoveMarkers:!1}],o=e.setEndPosition(e.endLineNumber,e.startColumn+t.presentation.label.length),g.pushUndoStop(),g.executeEdits("colorpicker",s);return t.presentation.additionalTextEdits&&(s=[...t.presentation.additionalTextEdits],g.executeEdits("colorpicker",s),i&&i.hide()),g.pushUndoStop(),o}function _n(g,e,t,i,s){return At(this,null,function*(){const o=yield Io(g,{range:i,color:{red:t.rgba.r/255,green:t.rgba.g/255,blue:t.rgba.b/255,alpha:t.rgba.a}},s.provider,pn.T.None);e.colorPresentations=o||[]})}var un=c(18540);function Dn(g,e){return!!g[e]}class zn{constructor(e,t){this.target=e.target,this.isLeftClick=e.event.leftButton,this.isMiddleClick=e.event.middleButton,this.isRightClick=e.event.rightButton,this.hasTriggerModifier=Dn(e.event,t.triggerModifier),this.hasSideBySideModifier=Dn(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}}class On{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=Dn(e,t.triggerModifier)}}class Yn{constructor(e,t,i,s){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=s}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}function Ps(g){return g==="altKey"?Ut.dz?new Yn(57,"metaKey",6,"altKey"):new Yn(5,"ctrlKey",6,"altKey"):Ut.dz?new Yn(6,"altKey",57,"metaKey"):new Yn(6,"altKey",5,"ctrlKey")}class ss extends Ue.JT{constructor(e,t){var i;super(),this._onMouseMoveOrRelevantKeyDown=this._register(new Ln.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new Ln.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new Ln.Q5),this.onCancel=this._onCancel.event,this._editor=e,this._extractLineNumberFromMouseEvent=(i=t==null?void 0:t.extractLineNumberFromMouseEvent)!==null&&i!==void 0?i:s=>s.target.position?s.target.position.lineNumber:0,this._opts=Ps(this._editor.getOption(77)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(s=>{if(s.hasChanged(77)){const o=Ps(this._editor.getOption(77));if(this._opts.equals(o))return;this._opts=o,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(s=>this._onEditorMouseMove(new zn(s,this._opts)))),this._register(this._editor.onMouseDown(s=>this._onEditorMouseDown(new zn(s,this._opts)))),this._register(this._editor.onMouseUp(s=>this._onEditorMouseUp(new zn(s,this._opts)))),this._register(this._editor.onKeyDown(s=>this._onEditorKeyDown(new On(s,this._opts)))),this._register(this._editor.onKeyUp(s=>this._onEditorKeyUp(new On(s,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(s=>this._onDidChangeCursorSelection(s))),this._register(this._editor.onDidChangeModel(s=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(s=>{(s.scrollTopChanged||s.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(e)}_onEditorMouseUp(e){const t=this._extractLineNumberFromMouseEvent(e);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}var Us=c(66351),lo=c(24913),co=c(87943),Xs=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},zs=function(g,e){return function(t,i){e(t,i,g)}};let wo=class extends yt.Gm{constructor(e,t,i,s,o,d,p,U,te,de,be,Ie,$e){super(e,sn(Di({},s.getRawOptions()),{overflowWidgetsDomNode:s.getOverflowWidgetsDomNode()}),i,o,d,p,U,te,de,be,Ie,$e),this._parentEditor=s,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(s.onDidChangeConfiguration(qe=>this._onParentConfigurationChanged(qe)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){lo.jB(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};wo=Xs([zs(4,Mn.TG),zs(5,$i.$),zs(6,jt.H),zs(7,Ot.i6),zs(8,tt.XE),zs(9,ts.lT),zs(10,co.F7),zs(11,Zs.c_),zs(12,hn.p)],wo);var za=c(13491),kh=c(18286);const Fh=new Fn.Il(new Fn.VS(0,122,204)),Ka={showArrow:!0,showFrame:!0,className:"",frameColor:Fh,arrowColor:Fh,keepEditorSelection:!1},yo="vs.editor.contrib.zoneWidget";class Jg{constructor(e,t,i,s,o,d,p,U){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=i,this.heightInLines=s,this.showInHiddenAreas=p,this.ordinal=U,this._onDomNodeTop=o,this._onComputedHeight=d}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}}class Cu{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class gl{constructor(e){this._editor=e,this._ruleName=gl._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),De.uN(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){De.uN(this._ruleName),De.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){e.column===1&&(e={lineNumber:e.lineNumber,column:2}),this._decorations.set([{range:it.e.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}gl._IdGenerator=new kh.R(".arrow-decoration-");class Zg{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new Ue.SL,this.container=null,this._isShowing=!1,this.editor=e,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=lo.I8(t),lo.jB(this.options,Ka,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(i=>{const s=this._getWidth(i);this.domNode.style.width=s+"px",this.domNode.style.left=this._getLeft(i)+"px",this._onWidth(s)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new gl(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){const e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&e.minimap.minimapLeft===0?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){var t;if(this.domNode.style.height=`${e}px`,this.container){const i=e-this._decoratingElementsHeight();this.container.style.height=`${i}px`;const s=this.editor.getLayoutInfo();this._doLayout(i,this._getWidth(s))}(t=this._resizeSash)===null||t===void 0||t.layout()}get position(){const e=this._positionMarkerId.getRange(0);if(e)return e.getStartPosition()}show(e,t){const i=it.e.isIRange(e)?it.e.lift(e):it.e.fromPositions(e);this._isShowing=!0,this._showImpl(i,t),this._isShowing=!1,this._positionMarkerId.set([{range:i,options:_i.qx.EMPTY}])}hide(){var e;this._viewZone&&(this.editor.changeViewZones(t=>{this._viewZone&&t.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(e=this._arrow)===null||e===void 0||e.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const e=this.editor.getOption(66);let t=0;if(this.options.showArrow){const i=Math.round(e/3);t+=2*i}if(this.options.showFrame){const i=Math.round(e/9);t+=2*i}return t}_showImpl(e,t){const i=e.getStartPosition(),s=this.editor.getLayoutInfo(),o=this._getWidth(s);this.domNode.style.width=`${o}px`,this.domNode.style.left=this._getLeft(s)+"px";const d=document.createElement("div");d.style.overflow="hidden";const p=this.editor.getOption(66);if(!this.options.allowUnlimitedHeight){const Ie=Math.max(12,this.editor.getLayoutInfo().height/p*.8);t=Math.min(t,Ie)}let U=0,te=0;if(this._arrow&&this.options.showArrow&&(U=Math.round(p/3),this._arrow.height=U,this._arrow.show(i)),this.options.showFrame&&(te=Math.round(p/9)),this.editor.changeViewZones(Ie=>{this._viewZone&&Ie.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new Jg(d,i.lineNumber,i.column,t,$e=>this._onViewZoneTop($e),$e=>this._onViewZoneHeight($e),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=Ie.addZone(this._viewZone),this._overlayWidget=new Cu(yo+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const Ie=this.options.frameWidth?this.options.frameWidth:te;this.container.style.borderTopWidth=Ie+"px",this.container.style.borderBottomWidth=Ie+"px"}const de=t*p-this._decoratingElementsHeight();this.container&&(this.container.style.top=U+"px",this.container.style.height=de+"px",this.container.style.overflow="hidden"),this._doLayout(de,o),this.options.keepEditorSelection||this.editor.setSelection(e);const be=this.editor.getModel();if(be){const Ie=be.validateRange(new it.e(e.startLineNumber,1,e.endLineNumber+1,1));this.revealRange(Ie,Ie.startLineNumber===be.getLineCount())}}revealRange(e,t){t?this.editor.revealLineNearTop(e.endLineNumber,0):this.editor.revealRange(e,0)}setCssClass(e,t){this.container&&(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new za.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let e;this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{e=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(e){const i=(t.currentY-e.startY)/this.editor.getOption(66),s=i<0?Math.ceil(i):Math.floor(i),o=e.heightInLines+s;o>5&&o<35&&this._relayout(o)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}var Rd=c(34794),Bh=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Fl=function(g,e){return function(t,i){e(t,i,g)}};const lc=(0,Mn.yh)("IPeekViewService");(0,eo.z)(lc,class{constructor(){this._widgets=new Map}addExclusiveWidget(g,e){const t=this._widgets.get(g);t&&(t.listener.dispose(),t.widget.dispose());const i=()=>{const s=this._widgets.get(g);s&&s.widget===e&&(s.listener.dispose(),this._widgets.delete(g))};this._widgets.set(g,{widget:e,listener:e.onDidClose(i)})}},1);var Oo;(function(g){g.inPeekEditor=new Ot.uy("inReferenceSearchEditor",!0,le.NC("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),g.notInPeekEditor=g.inPeekEditor.toNegated()})(Oo||(Oo={}));let Nd=class{constructor(e,t){e instanceof wo&&Oo.inPeekEditor.bindTo(t)}dispose(){}};Nd.ID="editor.contrib.referenceController",Nd=Bh([Fl(1,Ot.i6)],Nd),(0,Ve._K)(Nd.ID,Nd,0);function Wh(g){const e=g.get($i.$).getFocusedCodeEditor();return e instanceof wo?e.getParentEditor():e}const Hh={headerBackgroundColor:Fn.Il.white,primaryHeadingColor:Fn.Il.fromHex("#333333"),secondaryHeadingColor:Fn.Il.fromHex("#6c6c6cb3")};let Bl=class extends Zg{constructor(e,t,i){super(e,t),this.instantiationService=i,this._onDidClose=new Ln.Q5,this.onDidClose=this._onDidClose.event,lo.jB(this.options,Hh,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){const t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();const e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=De.$(".head"),this._bodyElement=De.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){this._titleElement=De.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),De.mu(this._titleElement,"click",o=>this._onTitleClick(o))),De.R3(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=De.$("span.filename"),this._secondaryHeading=De.$("span.dirname"),this._metaHeading=De.$("span.meta"),De.R3(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const i=De.$(".peekview-actions");De.R3(this._headElement,i);const s=this._getActionBarOptions();this._actionbarWidget=new qo.o(i,s),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new Us.aU("peekview.close",le.NC("label.close","Close"),Ds.k.asClassName(di.l.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:Rd.Id.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:De.PO(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,De.$Z(this._metaHeading)):De.Cp(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0){this.dispose();return}const i=Math.ceil(this.editor.getOption(66)*1.2),s=Math.round(e-(i+2));this._doLayoutHead(i,t),this._doLayoutBody(s,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=`${e}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=`${e}px`)}};Bl=Bh([Fl(2,Mn.TG)],Bl);const Eu=(0,Te.P6G)("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:Fn.Il.black,hcLight:Fn.Il.white},le.NC("peekViewTitleBackground","Background color of the peek view title area.")),Uh=(0,Te.P6G)("peekViewTitleLabel.foreground",{dark:Fn.Il.white,light:Fn.Il.black,hcDark:Fn.Il.white,hcLight:Te.NOs},le.NC("peekViewTitleForeground","Color of the peek view title.")),Wl=(0,Te.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},le.NC("peekViewTitleInfoForeground","Color of the peek view title info.")),dc=(0,Te.P6G)("peekView.border",{dark:Te.c63,light:Te.c63,hcDark:Te.lRK,hcLight:Te.lRK},le.NC("peekViewBorder","Color of the peek view borders and arrow.")),Su=(0,Te.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:Fn.Il.black,hcLight:Fn.Il.white},le.NC("peekViewResultsBackground","Background color of the peek view result list.")),Y_=(0,Te.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:Fn.Il.white,hcLight:Te.NOs},le.NC("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),Vh=(0,Te.P6G)("peekViewResult.fileForeground",{dark:Fn.Il.white,light:"#1E1E1E",hcDark:Fn.Il.white,hcLight:Te.NOs},le.NC("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),j_=(0,Te.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},le.NC("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),$_=(0,Te.P6G)("peekViewResult.selectionForeground",{dark:Fn.Il.white,light:"#6C6C6C",hcDark:Fn.Il.white,hcLight:Te.NOs},le.NC("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),Ya=(0,Te.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:Fn.Il.black,hcLight:Fn.Il.white},le.NC("peekViewEditorBackground","Background color of the peek view editor.")),Gh=(0,Te.P6G)("peekViewEditorGutter.background",{dark:Ya,light:Ya,hcDark:Ya,hcLight:Ya},le.NC("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),X_=(0,Te.P6G)("peekViewEditorStickyScroll.background",{dark:Ya,light:Ya,hcDark:Ya,hcLight:Ya},le.NC("peekViewEditorStickScrollBackground","Background color of sticky scroll in the peek view editor.")),Q_=(0,Te.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},le.NC("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),yn=(0,Te.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},le.NC("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),qg=(0,Te.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:Te.xL1,hcLight:Te.xL1},le.NC("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));var ja=c(1764),Un=c(26627),ga=c(26586),sa=c(49192);class $a{constructor(e,t,i,s){this.isProviderFirst=e,this.parent=t,this.link=i,this._rangeCallback=s,this.id=kh.a.nextId()}get uri(){return this.link.uri}get range(){var e,t;return(t=(e=this._range)!==null&&e!==void 0?e:this.link.targetSelectionRange)!==null&&t!==void 0?t:this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){var e;const t=(e=this.parent.getPreview(this))===null||e===void 0?void 0:e.preview(this.range);return t?(0,le.NC)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"{0} in {1} on line {2} at column {3}",t.value,(0,$s.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn):(0,le.NC)("aria.oneReference","in {0} on line {1} at column {2}",(0,$s.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class cc{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){const i=this._modelReference.object.textEditorModel;if(!i)return;const{startLineNumber:s,startColumn:o,endLineNumber:d,endColumn:p}=e,U=i.getWordUntilPosition({lineNumber:s,column:o-t}),te=new it.e(s,U.startColumn,s,o),de=new it.e(d,p,d,1073741824),be=i.getValueInRange(te).replace(/^\s+/,""),Ie=i.getValueInRange(e),$e=i.getValueInRange(de).replace(/\s+$/,"");return{value:be+Ie+$e,highlight:{start:be.length,end:be.length+Ie.length}}}}class ml{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new Go.Y9}dispose(){(0,Ue.B9)(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){const e=this.children.length;return e===1?(0,le.NC)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,$s.EZ)(this.uri),this.uri.fsPath):(0,le.NC)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,(0,$s.EZ)(this.uri),this.uri.fsPath)}resolve(e){return At(this,null,function*(){if(this._previews.size!==0)return this;for(const t of this.children)if(!this._previews.has(t.uri))try{const i=yield e.createModelReference(t.uri);this._previews.set(t.uri,new cc(i))}catch(i){(0,rn.dL)(i)}return this})}}class ir{constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new Ln.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;const[i]=e;e.sort(ir._compareReferences);let s;for(const o of e)if((!s||!$s.SF.isEqual(s.uri,o.uri,!0))&&(s=new ml(this,o.uri),this.groups.push(s)),s.children.length===0||ir._compareReferences(o,s.children[s.children.length-1])!==0){const d=new $a(i===o,s,o,p=>this._onDidChangeReferenceRange.fire(p));this.references.push(d),s.children.push(d)}}dispose(){(0,Ue.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new ir(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,le.NC)("aria.result.0","No results found"):this.references.length===1?(0,le.NC)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?(0,le.NC)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,le.NC)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){const{parent:i}=e;let s=i.children.indexOf(e);const o=i.children.length,d=i.parent.groups.length;return d===1||t&&s+1<o||!t&&s>0?(t?s=(s+1)%o:s=(s+o-1)%o,i.children[s]):(s=i.parent.groups.indexOf(i),t?(s=(s+1)%d,i.parent.groups[s].children[0]):(s=(s+d-1)%d,i.parent.groups[s].children[i.parent.groups[s].children.length-1]))}nearestReference(e,t){const i=this.references.map((s,o)=>({idx:o,prefixLen:Zi.Mh(s.uri.toString(),e.toString()),offsetDist:Math.abs(s.range.startLineNumber-t.lineNumber)*100+Math.abs(s.range.startColumn-t.column)})).sort((s,o)=>s.prefixLen>o.prefixLen?-1:s.prefixLen<o.prefixLen?1:s.offsetDist<o.offsetDist?-1:s.offsetDist>o.offsetDist?1:0)[0];if(i)return this.references[i.idx]}referenceAt(e,t){for(const i of this.references)if(i.uri.toString()===e.toString()&&it.e.containsPosition(i.range,t))return i}firstReference(){for(const e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return $s.SF.compare(e.uri,t.uri)||it.e.compareRangesUsingStarts(e.range,t.range)}}var uc=c(57996),br=c(90385),no=c(74213),vu=c(31568),zh=c(87232),Ks=c(27469),Id=c(57369),pl=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},hc=function(g,e){return function(t,i){e(t,i,g)}},Tu;let bu=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof ir||e instanceof ml}getChildren(e){if(e instanceof ir)return e.groups;if(e instanceof ml)return e.resolve(this._resolverService).then(t=>t.children);throw new Error("bad tree")}};bu=pl([hc(0,un.S)],bu);class em{getHeight(){return 23}getTemplateId(e){return e instanceof ml?Ad.id:Dd.id}}let Lu=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){var t;if(e instanceof $a){const i=(t=e.parent.getPreview(e))===null||t===void 0?void 0:t.preview(e.range);if(i)return i.value}return(0,$s.EZ)(e.uri)}};Lu=pl([hc(0,Je.d)],Lu);class fc{getId(e){return e instanceof $a?e.id:e.uri}}let gc=class extends Ue.JT{constructor(e,t){super(),this._labelService=t;const i=document.createElement("div");i.classList.add("reference-file"),this.file=this._register(new zh.g(i,{supportHighlights:!0})),this.badge=new no.Z(De.R3(i,De.$(".count")),{},No.ku),e.appendChild(i)}set(e,t){const i=(0,$s.XX)(e.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(e.uri),this._labelService.getUriLabel(i,{relative:!0}),{title:this._labelService.getUriLabel(e.uri),matches:t});const s=e.children.length;this.badge.setCount(s),s>1?this.badge.setTitleFormat((0,le.NC)("referencesCount","{0} references",s)):this.badge.setTitleFormat((0,le.NC)("referenceCount","{0} reference",s))}};gc=pl([hc(1,Id.e)],gc);let Ad=Tu=class{constructor(e){this._instantiationService=e,this.templateId=Tu.id}renderTemplate(e){return this._instantiationService.createInstance(gc,e)}renderElement(e,t,i){i.set(e.element,(0,Ks.mB)(e.filterData))}disposeTemplate(e){e.dispose()}};Ad.id="FileReferencesRenderer",Ad=Tu=pl([hc(0,Mn.TG)],Ad);class Kh{constructor(e){this.label=new vu.q(e)}set(e,t){var i;const s=(i=e.parent.getPreview(e))===null||i===void 0?void 0:i.preview(e.range);if(!s||!s.value)this.label.set(`${(0,$s.EZ)(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`);else{const{value:o,highlight:d}=s;t&&!Ks.CL.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(o,(0,Ks.mB)(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(o,[d]))}}}class Dd{constructor(){this.templateId=Dd.id}renderTemplate(e){return new Kh(e)}renderElement(e,t,i){i.set(e.element,e.filterData)}disposeTemplate(){}}Dd.id="OneReferenceRenderer";class Yh{getWidgetAriaLabel(){return(0,le.NC)("treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}}var Ru=c(62216),tm=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Xa=function(g,e){return function(t,i){e(t,i,g)}};class mc{constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new Ue.SL,this._callOnModelChange=new Ue.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const e=this._editor.getModel();if(e){for(const t of this._model.references)if(t.uri.toString()===e.uri.toString()){this._addDecorations(t.parent);return}}}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const t=[],i=[];for(let s=0,o=e.children.length;s<o;s++){const d=e.children[s];this._decorationIgnoreSet.has(d.id)||d.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:d.range,options:mc.DecorationOptions}),i.push(s))}this._editor.changeDecorations(s=>{const o=s.deltaDecorations([],t);for(let d=0;d<o.length;d++)this._decorations.set(o[d],e.children[i[d]])})}_onDecorationChanged(){const e=[],t=this._editor.getModel();if(t){for(const[i,s]of this._decorations){const o=t.getDecorationRange(i);if(!o)continue;let d=!1;if(!it.e.equalsRange(o,s.range)){if(it.e.spansMultipleLines(o))d=!0;else{const p=s.range.endColumn-s.range.startColumn,U=o.endColumn-o.startColumn;p!==U&&(d=!0)}d?(this._decorationIgnoreSet.add(s.id),e.push(i)):s.range=o}}for(let i=0,s=e.length;i<s;i++)this._decorations.delete(e[i]);this._editor.removeDecorations(e)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}mc.DecorationOptions=_i.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class im{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(e){let t,i;try{const s=JSON.parse(e);t=s.ratio,i=s.heightInLines}catch(s){}return{ratio:t||.7,heightInLines:i||18}}}class Nu extends sa.ls{}let Iu=class extends Bl{constructor(e,t,i,s,o,d,p,U,te,de,be,Ie){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},d),this._defaultTreeKeyboardSupport=t,this.layoutData=i,this._textModelResolverService=o,this._instantiationService=d,this._peekViewService=p,this._uriLabel=U,this._undoRedoService=te,this._keybindingService=de,this._languageService=be,this._languageConfigurationService=Ie,this._disposeOnNewModel=new Ue.SL,this._callOnDispose=new Ue.SL,this._onDidSelectReference=new Ln.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new De.Ro(0,0),this._applyTheme(s.getColorTheme()),this._callOnDispose.add(s.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,Ue.B9)(this._preview),(0,Ue.B9)(this._previewNotAvailableMessage),(0,Ue.B9)(this._tree),(0,Ue.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){const t=e.getColor(dc)||Fn.Il.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(Eu)||Fn.Il.transparent,primaryHeadingColor:e.getColor(Uh),secondaryHeadingColor:e.getColor(Wl)})}show(e){super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=De.R3(e,De.$("div.messages")),De.Cp(this._messageContainer),this._splitView=new uc.z(e,{orientation:1}),this._previewContainer=De.R3(e,De.$("div.preview.inline"));const t={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(wo,this._previewContainer,t,{},this.editor),De.Cp(this._previewContainer),this._previewNotAvailableMessage=new _i.yO(le.NC("missingPreviewMessage","no preview available"),pr.bd,_i.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=De.R3(e,De.$("div.ref-tree.inline"));const i={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new Yh,keyboardNavigationLabelProvider:this._instantiationService.createInstance(Lu),identityProvider:new fc,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:Su}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(De.mu(this._treeContainer,"keydown",o=>{o.equals(9)&&(this._keybindingService.dispatchEvent(o,o.target),o.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(Nu,"ReferencesWidget",this._treeContainer,new em,[this._instantiationService.createInstance(Ad),this._instantiationService.createInstance(Dd)],this._instantiationService.createInstance(bu),i),this._splitView.addView({onDidChange:Ln.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:o=>{this._preview.layout({height:this._dim.height,width:o})}},uc.M.Distribute),this._splitView.addView({onDidChange:Ln.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:o=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${o}px`,this._tree.layout(this._dim.height,o)}},uc.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const s=(o,d)=>{o instanceof $a&&(d==="show"&&this._revealReference(o,!1),this._onDidSelectReference.fire({element:o,kind:d,source:"tree"}))};this._tree.onDidOpen(o=>{o.sideBySide?s(o.element,"side"):o.editorOptions.pinned?s(o.element,"goto"):s(o.element,"show")}),De.Cp(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new De.Ro(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then(()=>{this._model&&(this._tree.setSelection([e]),this._tree.setFocus([e]))})}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=le.NC("noResults","No results"),De.$Z(this._messageContainer),Promise.resolve(void 0)):(De.Cp(this._messageContainer),this._decorationsManager=new mc(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(e=>this._tree.rerender(e))),this._disposeOnNewModel.add(this._preview.onMouseDown(e=>{const{event:t,target:i}=e;if(t.detail!==2)return;const s=this._getFocusedReference();s&&this._onDidSelectReference.fire({element:{uri:s.uri,range:i.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),De.$Z(this._treeContainer),De.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[e]=this._tree.getFocus();if(e instanceof $a)return e;if(e instanceof ml&&e.children.length>0)return e.children[0]}revealReference(e){return At(this,null,function*(){yield this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})})}_revealReference(e,t){return At(this,null,function*(){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==br.lg.inMemory?this.setTitle((0,$s.Hx)(e.uri),this._uriLabel.getUriLabel((0,$s.XX)(e.uri))):this.setTitle(le.NC("peekView.alternateTitle","References"));const i=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent?this._tree.reveal(e):(t&&this._tree.reveal(e.parent),yield this._tree.expand(e.parent),this._tree.reveal(e));const s=yield i;if(!this._model){s.dispose();return}(0,Ue.B9)(this._previewModelReference);const o=s.object;if(o){const d=this._preview.getModel()===o.textEditorModel?0:1,p=it.e.lift(e.range).collapseToStart();this._previewModelReference=s,this._preview.setModel(o.textEditorModel),this._preview.setSelection(p),this._preview.revealRangeInCenter(p,d)}else this._preview.setModel(this._previewNotAvailableMessage),s.dispose()})}};Iu=tm([Xa(3,tt.XE),Xa(4,un.S),Xa(5,Mn.TG),Xa(6,lc),Xa(7,Id.e),Xa(8,Ru.tJ),Xa(9,Je.d),Xa(10,Ro.O),Xa(11,Zs.c_)],Iu);var nm=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Hl=function(g,e){return function(t,i){e(t,i,g)}},pc;const _l=new Ot.uy("referenceSearchVisible",!1,le.NC("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let Qa=pc=class{static get(e){return e.getContribution(pc.ID)}constructor(e,t,i,s,o,d,p,U){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=s,this._notificationService=o,this._instantiationService=d,this._storageService=p,this._configurationService=U,this._disposables=new Ue.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=_l.bindTo(i)}dispose(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),(e=this._widget)===null||e===void 0||e.dispose(),(t=this._model)===null||t===void 0||t.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,i){let s;if(this._widget&&(s=this._widget.position),this.closeWidget(),s&&e.containsPosition(s))return;this._peekMode=i,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const o="peekViewLayout",d=im.fromJSON(this._storageService.get(o,0,"{}"));this._widget=this._instantiationService.createInstance(Iu,this._editor,this._defaultTreeKeyboardSupport,d),this._widget.setTitle(le.NC("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(()=>{t.cancel(),this._widget&&(this._storageService.store(o,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(U=>{const{element:te,kind:de}=U;if(te)switch(de){case"open":(U.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(te,!1,!1);break;case"side":this.openReference(te,!0,!1);break;case"goto":i?this._gotoReference(te,!0):this.openReference(te,!1,!0);break}}));const p=++this._requestIdPool;t.then(U=>{var te;if(p!==this._requestIdPool||!this._widget){U.dispose();return}return(te=this._model)===null||te===void 0||te.dispose(),this._model=U,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(le.NC("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const de=this._editor.getModel().uri,be=new bt.L(e.startLineNumber,e.startColumn),Ie=this._model.nearestReference(de,be);if(Ie)return this._widget.setSelection(Ie).then(()=>{this._widget&&this._editor.getOption(86)==="editor"&&this._widget.focusOnPreviewEditor()})}})},U=>{this._notificationService.error(U)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return At(this,null,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const t=this._widget.position;if(!t)return;const i=this._model.nearestReference(this._editor.getModel().uri,t);if(!i)return;const s=this._model.nextOrPreviousReference(i,e),o=this._editor.hasTextFocus(),d=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(s),yield this._gotoReference(s,!1),o?this._editor.focus():this._widget&&d&&this._widget.focusOnPreviewEditor()})}revealReference(e){return At(this,null,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(e))})}closeWidget(e=!0){var t,i;(t=this._widget)===null||t===void 0||t.dispose(),(i=this._model)===null||i===void 0||i.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(e,t){var i;(i=this._widget)===null||i===void 0||i.hide(),this._ignoreModelChangeEvent=!0;const s=it.e.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:s,selectionSource:"code.jump",pinned:t}},this._editor).then(o=>{var d;if(this._ignoreModelChangeEvent=!1,!o||!this._widget){this.closeWidget();return}if(this._editor===o)this._widget.show(s),this._widget.focusOnReferenceTree();else{const p=pc.get(o),U=this._model.clone();this.closeWidget(),o.focus(),p==null||p.toggleWidget(s,(0,Ke.PG)(te=>Promise.resolve(U)),(d=this._peekMode)!==null&&d!==void 0?d:!1)}},o=>{this._ignoreModelChangeEvent=!1,(0,rn.dL)(o)})}openReference(e,t,i){t||this.closeWidget();const{uri:s,range:o}=e;this._editorService.openCodeEditor({resource:s,options:{selection:o,selectionSource:"code.jump",pinned:i}},this._editor,t)}};Qa.ID="editor.contrib.referencesController",Qa=pc=nm([Hl(2,Ot.i6),Hl(3,$i.$),Hl(4,ts.lT),Hl(5,Mn.TG),Hl(6,vo.Uy),Hl(7,bi.Ui)],Qa);function Cl(g,e){const t=Wh(g);if(!t)return;const i=Qa.get(t);i&&e(i)}ga.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,kn.gx)(2089,60),when:Ot.Ao.or(_l,Oo.inPeekEditor),handler(g){Cl(g,e=>{e.changeFocusBetweenPreviewAndReferences()})}}),ga.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:Ot.Ao.or(_l,Oo.inPeekEditor),handler(g){Cl(g,e=>{e.goToNextOrPreviousReference(!0)})}}),ga.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:Ot.Ao.or(_l,Oo.inPeekEditor),handler(g){Cl(g,e=>{e.goToNextOrPreviousReference(!1)})}}),jt.P.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),jt.P.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),jt.P.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),jt.P.registerCommand("closeReferenceSearch",g=>Cl(g,e=>e.closeWidget())),ga.W.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:Ot.Ao.and(Oo.inPeekEditor,Ot.Ao.not("config.editor.stablePeek"))}),ga.W.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:Ot.Ao.and(_l,Ot.Ao.not("config.editor.stablePeek"))}),ga.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:Ot.Ao.and(_l,sa.CQ,sa.PS.negate(),sa.uJ.negate()),handler(g){var e;const i=(e=g.get(sa.Lw).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof $a&&Cl(g,s=>s.revealReference(i[0]))}}),ga.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:Ot.Ao.and(_l,sa.CQ,sa.PS.negate(),sa.uJ.negate()),handler(g){var e;const i=(e=g.get(sa.Lw).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof $a&&Cl(g,s=>s.openReference(i[0],!0,!0))}}),jt.P.registerCommand("openReference",g=>{var e;const i=(e=g.get(sa.Lw).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof $a&&Cl(g,s=>s.openReference(i[0],!1,!0))});var jh=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},wd=function(g,e){return function(t,i){e(t,i,g)}};const Au=new Ot.uy("hasSymbols",!1,(0,le.NC)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),yd=(0,Mn.yh)("ISymbolNavigationService");let Du=class{constructor(e,t,i,s){this._editorService=t,this._notificationService=i,this._keybindingService=s,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=Au.bindTo(e)}reset(){var e,t;this._ctxHasSymbols.reset(),(e=this._currentState)===null||e===void 0||e.dispose(),(t=this._currentMessage)===null||t===void 0||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){const t=e.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();const i=new wu(this._editorService),s=i.onDidChange(o=>{if(this._ignoreEditorChange)return;const d=this._editorService.getActiveCodeEditor();if(!d)return;const p=d.getModel(),U=d.getPosition();if(!p||!U)return;let te=!1,de=!1;for(const be of t.references)if((0,$s.Xy)(be.uri,p.uri))te=!0,de=de||it.e.containsPosition(be.range,U);else if(te)break;(!te||!de)&&this.reset()});this._currentState=(0,Ue.F8)(i,s)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:it.e.collapseToStart(t.range),selectionRevealType:3}},e).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var e;(e=this._currentMessage)===null||e===void 0||e.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),i=t?(0,le.NC)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):(0,le.NC)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(i)}};Du=jh([wd(0,Ot.i6),wd(1,$i.$),wd(2,ts.lT),wd(3,Je.d)],Du),(0,eo.z)(yd,Du,1),(0,Ve.fK)(new class extends Ve._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:Au,kbOpts:{weight:100,primary:70}})}runEditorCommand(g,e){return g.get(yd).revealNext(e)}}),ga.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:Au,primary:9,handler(g){g.get(yd).reset()}});let wu=class{constructor(e){this._listener=new Map,this._disposables=new Ue.SL,this._onDidChange=new Ln.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,Ue.B9)(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,(0,Ue.F8)(e.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:e})),e.onDidChangeModelContent(t=>this._onDidChange.fire({editor:e}))))}_onDidRemoveEditor(e){var t;(t=this._listener.get(e))===null||t===void 0||t.dispose(),this._listener.delete(e)}};wu=jh([wd(0,$i.$)],wu);function Od(g,e,t,i){return At(this,null,function*(){const o=t.ordered(g).map(p=>Promise.resolve(i(p,g,e)).then(void 0,U=>{(0,rn.Cp)(U)})),d=yield Promise.all(o);return(0,cn.kX)(d.flat())})}function _c(g,e,t,i){return Od(e,t,g,(s,o,d)=>s.provideDefinition(o,d,i))}function $h(g,e,t,i){return Od(e,t,g,(s,o,d)=>s.provideDeclaration(o,d,i))}function Xh(g,e,t,i){return Od(e,t,g,(s,o,d)=>s.provideImplementation(o,d,i))}function Qh(g,e,t,i){return Od(e,t,g,(s,o,d)=>s.provideTypeDefinition(o,d,i))}function Cc(g,e,t,i,s){return Od(e,t,g,(o,d,p)=>At(this,null,function*(){const U=yield o.provideReferences(d,p,{includeDeclaration:!0},s);if(!i||!U||U.length!==2)return U;const te=yield o.provideReferences(d,p,{includeDeclaration:!1},s);return te&&te.length===1?te:U}))}function Pd(g){return At(this,null,function*(){const e=yield g(),t=new ir(e,""),i=t.references.map(s=>s.link);return t.dispose(),i})}(0,Ve.sb)("_executeDefinitionProvider",(g,e,t)=>{const i=g.get(hn.p),s=_c(i.definitionProvider,e,t,pn.T.None);return Pd(()=>s)}),(0,Ve.sb)("_executeTypeDefinitionProvider",(g,e,t)=>{const i=g.get(hn.p),s=Qh(i.typeDefinitionProvider,e,t,pn.T.None);return Pd(()=>s)}),(0,Ve.sb)("_executeDeclarationProvider",(g,e,t)=>{const i=g.get(hn.p),s=$h(i.declarationProvider,e,t,pn.T.None);return Pd(()=>s)}),(0,Ve.sb)("_executeReferenceProvider",(g,e,t)=>{const i=g.get(hn.p),s=Cc(i.referenceProvider,e,t,!1,pn.T.None);return Pd(()=>s)}),(0,Ve.sb)("_executeImplementationProvider",(g,e,t)=>{const i=g.get(hn.p),s=Xh(i.implementationProvider,e,t,pn.T.None);return Pd(()=>s)});var La=c(54362),Ul=c(13581),Md,xd,kd,Ec,Sc,vc,Tc,bc;mt.BH.appendMenuItem(mt.eH.EditorContext,{submenu:mt.eH.EditorContextPeek,title:le.NC("peek.submenu","Peek"),group:"navigation",order:100});class Vl{static is(e){return!e||typeof e!="object"?!1:!!(e instanceof Vl||bt.L.isIPosition(e.position)&&e.model)}constructor(e,t){this.model=e,this.position=t}}class Zo extends Ve.x1{static all(){return Zo._allSymbolNavigationCommands.values()}static _patchConfig(e){const t=sn(Di({},e),{f1:!0});if(t.menu)for(const i of La.$.wrap(t.menu))(i.id===mt.eH.EditorContext||i.id===mt.eH.EditorContextPeek)&&(i.when=Ot.Ao.and(e.precondition,i.when));return t}constructor(e,t){super(Zo._patchConfig(t)),this.configuration=e,Zo._allSymbolNavigationCommands.set(t.id,this)}runEditorCommand(e,t,i,s){if(!t.hasModel())return Promise.resolve(void 0);const o=e.get(ts.lT),d=e.get($i.$),p=e.get(ls.ek),U=e.get(yd),te=e.get(hn.p),de=e.get(Mn.TG),be=t.getModel(),Ie=t.getPosition(),$e=Vl.is(i)?i:new Vl(be,Ie),qe=new Rs.Dl(t,5),ft=(0,Ke.eP)(this._getLocationModel(te,$e.model,$e.position,qe.token),qe.token).then(Zt=>At(this,null,function*(){var Kt;if(!Zt||qe.token.isCancellationRequested)return;(0,gn.Z9)(Zt.ariaMessage);let mi;if(Zt.referenceAt(be.uri,Ie)){const Ui=this._getAlternativeCommand(t);!Zo._activeAlternativeCommands.has(Ui)&&Zo._allSymbolNavigationCommands.has(Ui)&&(mi=Zo._allSymbolNavigationCommands.get(Ui))}const ki=Zt.references.length;if(ki===0){if(!this.configuration.muteMessage){const Ui=be.getWordAtPosition(Ie);(Kt=Do.get(t))===null||Kt===void 0||Kt.showMessage(this._getNoResultFoundMessage(Ui),Ie)}}else if(ki===1&&mi)Zo._activeAlternativeCommands.add(this.desc.id),de.invokeFunction(Ui=>mi.runEditorCommand(Ui,t,i,s).finally(()=>{Zo._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(d,U,t,Zt,s)}),Zt=>{o.error(Zt)}).finally(()=>{qe.dispose()});return p.showWhile(ft,250),ft}_onResult(e,t,i,s,o){return At(this,null,function*(){const d=this._getGoToPreference(i);if(!(i instanceof wo)&&(this.configuration.openInPeek||d==="peek"&&s.references.length>1))this._openInPeek(i,s,o);else{const p=s.firstReference(),U=s.references.length>1&&d==="gotoAndPeek",te=yield this._openReference(i,e,p,this.configuration.openToSide,!U);U&&te?this._openInPeek(te,s,o):s.dispose(),d==="goto"&&t.put(p)}})}_openReference(e,t,i,s,o){return At(this,null,function*(){let d;if((0,Un.vx)(i)&&(d=i.targetSelectionRange),d||(d=i.range),!d)return;const p=yield t.openCodeEditor({resource:i.uri,options:{selection:it.e.collapseToStart(d),selectionRevealType:3,selectionSource:"code.jump"}},e,s);if(p){if(o){const U=p.getModel(),te=p.createDecorationsCollection([{range:d,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{p.getModel()===U&&te.clear()},350)}return p}})}_openInPeek(e,t,i){const s=Qa.get(e);s&&e.hasModel()?s.toggleWidget(i!=null?i:e.getSelection(),(0,Ke.PG)(o=>Promise.resolve(t)),this.configuration.openInPeek):t.dispose()}}Zo._allSymbolNavigationCommands=new Map,Zo._activeAlternativeCommands=new Set;class Fd extends Zo{_getLocationModel(e,t,i,s){return At(this,null,function*(){return new ir(yield _c(e.definitionProvider,t,i,s),le.NC("def.title","Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?le.NC("noResultWord","No definition found for '{0}'",e.word):le.NC("generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(58).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(58).multipleDefinitions}}(0,mt.r1)((Md=class extends Fd{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Md.id,title:{value:le.NC("actions.goToDecl.label","Go to Definition"),original:"Go to Definition",mnemonicTitle:le.NC({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},precondition:Ot.Ao.and(Pt.u.hasDefinitionProvider,Pt.u.isInWalkThroughSnippet.toNegated()),keybinding:[{when:Pt.u.editorTextFocus,primary:70,weight:100},{when:Ot.Ao.and(Pt.u.editorTextFocus,Ul.Pf),primary:2118,weight:100}],menu:[{id:mt.eH.EditorContext,group:"navigation",order:1.1},{id:mt.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),jt.P.registerCommandAlias("editor.action.goToDeclaration",Md.id)}},Md.id="editor.action.revealDefinition",Md)),(0,mt.r1)((xd=class extends Fd{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:xd.id,title:{value:le.NC("actions.goToDeclToSide.label","Open Definition to the Side"),original:"Open Definition to the Side"},precondition:Ot.Ao.and(Pt.u.hasDefinitionProvider,Pt.u.isInWalkThroughSnippet.toNegated()),keybinding:[{when:Pt.u.editorTextFocus,primary:(0,kn.gx)(2089,70),weight:100},{when:Ot.Ao.and(Pt.u.editorTextFocus,Ul.Pf),primary:(0,kn.gx)(2089,2118),weight:100}]}),jt.P.registerCommandAlias("editor.action.openDeclarationToTheSide",xd.id)}},xd.id="editor.action.revealDefinitionAside",xd)),(0,mt.r1)((kd=class extends Fd{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:kd.id,title:{value:le.NC("actions.previewDecl.label","Peek Definition"),original:"Peek Definition"},precondition:Ot.Ao.and(Pt.u.hasDefinitionProvider,Oo.notInPeekEditor,Pt.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:Pt.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:mt.eH.EditorContextPeek,group:"peek",order:2}}),jt.P.registerCommandAlias("editor.action.previewDeclaration",kd.id)}},kd.id="editor.action.peekDefinition",kd));class Jh extends Zo{_getLocationModel(e,t,i,s){return At(this,null,function*(){return new ir(yield $h(e.declarationProvider,t,i,s),le.NC("decl.title","Declarations"))})}_getNoResultFoundMessage(e){return e&&e.word?le.NC("decl.noResultWord","No declaration found for '{0}'",e.word):le.NC("decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(58).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(58).multipleDeclarations}}(0,mt.r1)((Ec=class extends Jh{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Ec.id,title:{value:le.NC("actions.goToDeclaration.label","Go to Declaration"),original:"Go to Declaration",mnemonicTitle:le.NC({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},precondition:Ot.Ao.and(Pt.u.hasDeclarationProvider,Pt.u.isInWalkThroughSnippet.toNegated()),menu:[{id:mt.eH.EditorContext,group:"navigation",order:1.3},{id:mt.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(e){return e&&e.word?le.NC("decl.noResultWord","No declaration found for '{0}'",e.word):le.NC("decl.generic.noResults","No declaration found")}},Ec.id="editor.action.revealDeclaration",Ec)),(0,mt.r1)(class extends Jh{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:{value:le.NC("actions.peekDecl.label","Peek Declaration"),original:"Peek Declaration"},precondition:Ot.Ao.and(Pt.u.hasDeclarationProvider,Oo.notInPeekEditor,Pt.u.isInWalkThroughSnippet.toNegated()),menu:{id:mt.eH.EditorContextPeek,group:"peek",order:3}})}});class Zh extends Zo{_getLocationModel(e,t,i,s){return At(this,null,function*(){return new ir(yield Qh(e.typeDefinitionProvider,t,i,s),le.NC("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?le.NC("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):le.NC("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(58).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(58).multipleTypeDefinitions}}(0,mt.r1)((Sc=class extends Zh{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Sc.ID,title:{value:le.NC("actions.goToTypeDefinition.label","Go to Type Definition"),original:"Go to Type Definition",mnemonicTitle:le.NC({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},precondition:Ot.Ao.and(Pt.u.hasTypeDefinitionProvider,Pt.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:Pt.u.editorTextFocus,primary:0,weight:100},menu:[{id:mt.eH.EditorContext,group:"navigation",order:1.4},{id:mt.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},Sc.ID="editor.action.goToTypeDefinition",Sc)),(0,mt.r1)((vc=class extends Zh{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:vc.ID,title:{value:le.NC("actions.peekTypeDefinition.label","Peek Type Definition"),original:"Peek Type Definition"},precondition:Ot.Ao.and(Pt.u.hasTypeDefinitionProvider,Oo.notInPeekEditor,Pt.u.isInWalkThroughSnippet.toNegated()),menu:{id:mt.eH.EditorContextPeek,group:"peek",order:4}})}},vc.ID="editor.action.peekTypeDefinition",vc));class qh extends Zo{_getLocationModel(e,t,i,s){return At(this,null,function*(){return new ir(yield Xh(e.implementationProvider,t,i,s),le.NC("impl.title","Implementations"))})}_getNoResultFoundMessage(e){return e&&e.word?le.NC("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):le.NC("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(58).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(58).multipleImplementations}}(0,mt.r1)((Tc=class extends qh{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Tc.ID,title:{value:le.NC("actions.goToImplementation.label","Go to Implementations"),original:"Go to Implementations",mnemonicTitle:le.NC({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},precondition:Ot.Ao.and(Pt.u.hasImplementationProvider,Pt.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:Pt.u.editorTextFocus,primary:2118,weight:100},menu:[{id:mt.eH.EditorContext,group:"navigation",order:1.45},{id:mt.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},Tc.ID="editor.action.goToImplementation",Tc)),(0,mt.r1)((bc=class extends qh{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:bc.ID,title:{value:le.NC("actions.peekImplementation.label","Peek Implementations"),original:"Peek Implementations"},precondition:Ot.Ao.and(Pt.u.hasImplementationProvider,Oo.notInPeekEditor,Pt.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:Pt.u.editorTextFocus,primary:3142,weight:100},menu:{id:mt.eH.EditorContextPeek,group:"peek",order:5}})}},bc.ID="editor.action.peekImplementation",bc));class ef extends Zo{_getNoResultFoundMessage(e){return e?le.NC("references.no","No references found for '{0}'",e.word):le.NC("references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(58).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(58).multipleReferences}}(0,mt.r1)(class extends ef{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{value:le.NC("goToReferences.label","Go to References"),original:"Go to References",mnemonicTitle:le.NC({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},precondition:Ot.Ao.and(Pt.u.hasReferenceProvider,Oo.notInPeekEditor,Pt.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:Pt.u.editorTextFocus,primary:1094,weight:100},menu:[{id:mt.eH.EditorContext,group:"navigation",order:1.45},{id:mt.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}_getLocationModel(e,t,i,s){return At(this,null,function*(){return new ir(yield Cc(e.referenceProvider,t,i,!0,s),le.NC("ref.title","References"))})}}),(0,mt.r1)(class extends ef{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:{value:le.NC("references.action.label","Peek References"),original:"Peek References"},precondition:Ot.Ao.and(Pt.u.hasReferenceProvider,Oo.notInPeekEditor,Pt.u.isInWalkThroughSnippet.toNegated()),menu:{id:mt.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(e,t,i,s){return At(this,null,function*(){return new ir(yield Cc(e.referenceProvider,t,i,!1,s),le.NC("ref.title","References"))})}});class Lc extends Zo{constructor(e,t,i){super(e,{id:"editor.action.goToLocation",title:{value:le.NC("label.generic","Go to Any Symbol"),original:"Go to Any Symbol"},precondition:Ot.Ao.and(Oo.notInPeekEditor,Pt.u.isInWalkThroughSnippet.toNegated())}),this._references=t,this._gotoMultipleBehaviour=i}_getLocationModel(e,t,i,s){return At(this,null,function*(){return new ir(this._references,le.NC("generic.title","Locations"))})}_getNoResultFoundMessage(e){return e&&le.NC("generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return(t=this._gotoMultipleBehaviour)!==null&&t!==void 0?t:e.getOption(58).multipleReferences}_getAlternativeCommand(){return""}}jt.P.registerCommand({id:"editor.action.goToLocations",metadata:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Xn.o},{name:"position",description:"The position at which to start",constraint:bt.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(g,e,t,i,s,o,d)=>At(this,null,function*(){(0,Zn.p_)(Xn.o.isUri(e)),(0,Zn.p_)(bt.L.isIPosition(t)),(0,Zn.p_)(Array.isArray(i)),(0,Zn.p_)(typeof s=="undefined"||typeof s=="string"),(0,Zn.p_)(typeof d=="undefined"||typeof d=="boolean");const p=g.get($i.$),U=yield p.openCodeEditor({resource:e},p.getFocusedCodeEditor());if((0,ja.CL)(U))return U.setPosition(t),U.revealPositionInCenterIfOutsideViewport(t,0),U.invokeWithinContext(te=>{const de=new class extends Lc{_getNoResultFoundMessage(be){return o||super._getNoResultFoundMessage(be)}}({muteMessage:!o,openInPeek:!!d,openToSide:!1},i,s);te.get(Mn.TG).invokeFunction(de.run.bind(de),U)})})}),jt.P.registerCommand({id:"editor.action.peekLocations",metadata:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Xn.o},{name:"position",description:"The position at which to start",constraint:bt.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(g,e,t,i,s)=>At(this,null,function*(){g.get(jt.H).executeCommand("editor.action.goToLocations",e,t,i,s,void 0,!0)})}),jt.P.registerCommand({id:"editor.action.findReferences",handler:(g,e,t)=>{(0,Zn.p_)(Xn.o.isUri(e)),(0,Zn.p_)(bt.L.isIPosition(t));const i=g.get(hn.p),s=g.get($i.$);return s.openCodeEditor({resource:e},s.getFocusedCodeEditor()).then(o=>{if(!(0,ja.CL)(o)||!o.hasModel())return;const d=Qa.get(o);if(!d)return;const p=(0,Ke.PG)(te=>Cc(i.referenceProvider,o.getModel(),bt.L.lift(t),!1,te).then(de=>new ir(de,le.NC("ref.title","References")))),U=new it.e(t.lineNumber,t.column,t.lineNumber,t.column);return Promise.resolve(d.toggleWidget(U,p,!1))})}}),jt.P.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");var tf=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},yu=function(g,e){return function(t,i){e(t,i,g)}},Gl;let Ra=Gl=class{constructor(e,t,i,s){this.textModelResolverService=t,this.languageService=i,this.languageFeaturesService=s,this.toUnhook=new Ue.SL,this.toUnhookForKeyboard=new Ue.SL,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e,this.linkDecorations=this.editor.createDecorationsCollection();const o=new ss(e);this.toUnhook.add(o),this.toUnhook.add(o.onMouseMoveOrRelevantKeyDown(([d,p])=>{this.startFindDefinitionFromMouse(d,p!=null?p:void 0)})),this.toUnhook.add(o.onExecute(d=>{this.isEnabled(d)&&this.gotoDefinition(d.target.position,d.hasSideBySideModifier).catch(p=>{(0,rn.dL)(p)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(o.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(e){return e.getContribution(Gl.ID)}startFindDefinitionFromCursor(e){return At(this,null,function*(){yield this.startFindDefinition(e),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(t=>{t&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(e,t){if(e.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const i=e.target.position;this.startFindDefinition(i)}startFindDefinition(e){return At(this,null,function*(){var t;this.toUnhookForKeyboard.clear();const i=e?(t=this.editor.getModel())===null||t===void 0?void 0:t.getWordAtPosition(e):null;if(!i){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===i.startColumn&&this.currentWordAtPosition.endColumn===i.endColumn&&this.currentWordAtPosition.word===i.word)return;this.currentWordAtPosition=i;const s=new Rs.yy(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,Ke.PG)(p=>this.findDefinition(e,p));let o;try{o=yield this.previousPromise}catch(p){(0,rn.dL)(p);return}if(!o||!o.length||!s.validate(this.editor)){this.removeLinkDecorations();return}const d=o[0].originSelectionRange?it.e.lift(o[0].originSelectionRange):new it.e(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn);if(o.length>1){let p=d;for(const{originSelectionRange:U}of o)U&&(p=it.e.plusRange(p,U));this.addDecoration(p,new Bn.W5().appendText(le.NC("multipleResults","Click to show {0} definitions.",o.length)))}else{const p=o[0];if(!p.uri)return;this.textModelResolverService.createModelReference(p.uri).then(U=>{if(!U.object||!U.object.textEditorModel){U.dispose();return}const{object:{textEditorModel:te}}=U,{startLineNumber:de}=p.range;if(de<1||de>te.getLineCount()){U.dispose();return}const be=this.getPreviewValue(te,de,p),Ie=this.languageService.guessLanguageIdByFilepathOrFirstLine(te.uri);this.addDecoration(d,be?new Bn.W5().appendCodeblock(Ie||"",be):void 0),U.dispose()})}})}getPreviewValue(e,t,i){let s=i.range;return s.endLineNumber-s.startLineNumber>=Gl.MAX_SOURCE_PREVIEW_LINES&&(s=this.getPreviewRangeBasedOnIndentation(e,t)),this.stripIndentationFromPreviewRange(e,t,s)}stripIndentationFromPreviewRange(e,t,i){let o=e.getLineFirstNonWhitespaceColumn(t);for(let p=t+1;p<i.endLineNumber;p++){const U=e.getLineFirstNonWhitespaceColumn(p);o=Math.min(o,U)}return e.getValueInRange(i).replace(new RegExp(`^\\s{${o-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(e,t){const i=e.getLineFirstNonWhitespaceColumn(t),s=Math.min(e.getLineCount(),t+Gl.MAX_SOURCE_PREVIEW_LINES);let o=t+1;for(;o<s;o++){const d=e.getLineFirstNonWhitespaceColumn(o);if(i===d)break}return new it.e(t,1,o+1,1)}addDecoration(e,t){const i={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations.set([i])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(e,t){var i;return this.editor.hasModel()&&e.isLeftClick&&e.isNoneOrSingleMouseDown&&e.target.type===6&&!(((i=e.target.detail.injectedText)===null||i===void 0?void 0:i.options)instanceof _i.HS)&&(e.hasTriggerModifier||(t?t.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(e,t){const i=this.editor.getModel();return i?_c(this.languageFeaturesService.definitionProvider,i,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext(i=>{const s=!t&&this.editor.getOption(87)&&!this.isInPeekEditor(i);return new Fd({openToSide:t,openInPeek:s,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(i)})}isInPeekEditor(e){const t=e.get(Ot.i6);return Oo.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};Ra.ID="editor.contrib.gotodefinitionatposition",Ra.MAX_SOURCE_PREVIEW_LINES=8,Ra=Gl=tf([yu(1,un.S),yu(2,Ro.O),yu(3,hn.p)],Ra),(0,Ve._K)(Ra.ID,Ra,2);var nf=c(89056),Rc=c(97918);const zl=De.$;class sf extends Ue.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new Rc.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class Nc extends Ue.JT{static render(e,t,i){return new Nc(e,t,i)}constructor(e,t,i){super(),this.actionContainer=De.R3(e,zl("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=De.R3(this.actionContainer,zl("a.action")),this.action.setAttribute("role","button"),t.iconClass&&De.R3(this.action,zl(`span.icon.${t.iconClass}`));const s=De.R3(this.action,zl("span"));s.textContent=i?`${t.label} (${i})`:t.label,this._register(De.nm(this.actionContainer,De.tw.CLICK,o=>{o.stopPropagation(),o.preventDefault(),t.run(this.actionContainer)})),this._register(De.nm(this.actionContainer,De.tw.KEY_DOWN,o=>{const d=new nf.y(o);(d.equals(3)||d.equals(10))&&(o.stopPropagation(),o.preventDefault(),t.run(this.actionContainer))})),this.setEnabled(!0)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}function sm(g,e){return g&&e?(0,le.NC)("acessibleViewHint","Inspect this in the accessible view with {0}.",e):g?(0,le.NC)("acessibleViewHintNoKbOpen","Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding."):""}class om{constructor(e,t,i){this.value=e,this.isComplete=t,this.hasLoadingMessage=i}}class of extends Ue.JT{constructor(e,t){super(),this._editor=e,this._computer=t,this._onResult=this._register(new Ln.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new Ke.pY(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new Ke.pY(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new Ke.pY(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(60).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(e,t=!0){this._state=e,t&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,Ke.zS)(e=>this._computer.computeAsync(e)),At(this,null,function*(){try{try{for(var e=Cd(this._asyncIterable),t,i,s;t=!(i=yield e.next()).done;t=!1){const o=i.value;o&&(this._result.push(o),this._fireResult())}}catch(i){s=[i]}finally{try{t&&(i=e.return)&&(yield i.call(e))}finally{if(s)throw s[0]}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(o){(0,rn.dL)(o)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const e=this._state===0,t=this._state===4;this._onResult.fire(new om(this._result.slice(0),e,t))}start(e){if(e===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}class Ou{constructor(e,t,i,s){this.priority=e,this.range=t,this.initialMousePosX=i,this.initialMousePosY=s,this.type=1}equals(e){return e.type===1&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return e.type===1&&t.lineNumber===this.range.startLineNumber}}class Ic{constructor(e,t,i,s,o,d){this.priority=e,this.owner=t,this.range=i,this.initialMousePosX=s,this.initialMousePosY=o,this.supportsMarkerHover=d,this.type=2}equals(e){return e.type===2&&this.owner===e.owner}canAdoptVisibleHover(e,t){return e.type===2&&this.owner===e.owner}}const El=new class{constructor(){this._participants=[]}register(e){this._participants.push(e)}getAll(){return this._participants}};class Pu{constructor(){this._onDidWillResize=new Ln.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new Ln.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new Ue.SL,this._size=new De.Ro(0,0),this._minSize=new De.Ro(0,0),this._maxSize=new De.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new za.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new za.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new za.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:za.l.North}),this._southSash=new za.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:za.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let e,t=0,i=0;this._sashListener.add(Ln.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{e===void 0&&(this._onDidWillResize.fire(),e=this._size,t=0,i=0)})),this._sashListener.add(Ln.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{e!==void 0&&(e=void 0,t=0,i=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(s=>{e&&(i=s.currentX-s.startX,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(s=>{e&&(i=-(s.currentX-s.startX),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(s=>{e&&(t=-(s.currentY-s.startY),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(s=>{e&&(t=s.currentY-s.startY,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(Ln.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(Ln.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,i,s){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=i?3:0,this._westSash.state=s?3:0}layout(e=this.size.height,t=this.size.width){const{height:i,width:s}=this._minSize,{height:o,width:d}=this._maxSize;e=Math.max(i,Math.min(o,e)),t=Math.max(s,Math.min(d,t));const p=new De.Ro(t,e);De.Ro.equals(p,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=p,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}}const Bd=30,rm=24;class am extends Ue.JT{constructor(e,t=new De.Ro(10,10)){super(),this._editor=e,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new Pu),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=De.Ro.lift(t),this._resizableNode.layout(t.height,t.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize(i=>{this._resize(new De.Ro(i.dimension.width,i.dimension.height)),i.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){var e;return!((e=this._contentPosition)===null||e===void 0)&&e.position?bt.L.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(e){const t=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(e);return!t||!i?void 0:De.i(t).top+i.top-Bd}_availableVerticalSpaceBelow(e){const t=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(e);if(!t||!i)return;const s=De.i(t),o=De.D6(t.ownerDocument.body),d=s.top+i.top+i.height;return o.height-d-rm}_findPositionPreference(e,t){var i,s;const o=Math.min((i=this._availableVerticalSpaceBelow(t))!==null&&i!==void 0?i:1/0,e),d=Math.min((s=this._availableVerticalSpaceAbove(t))!==null&&s!==void 0?s:1/0,e),p=Math.min(Math.max(d,o),e),U=Math.min(e,p);let te;return this._editor.getOption(60).above?te=U<=d?1:2:te=U<=o?2:1,te===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),te}_resize(e){this._resizableNode.layout(e.height,e.width)}}var Ac=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Sl=function(g,e){return function(t,i){e(t,i,g)}},Wd,Gr;const rf=De.$;let Dc=Wd=class extends Ue.JT{constructor(e,t,i){super(),this._editor=e,this._instantiationService=t,this._keybindingService=i,this._currentResult=null,this._widget=this._register(this._instantiationService.createInstance(Ja,this._editor)),this._participants=[];for(const s of El.getAll())this._participants.push(this._instantiationService.createInstance(s,this._editor));this._participants.sort((s,o)=>s.hoverOrdinal-o.hoverOrdinal),this._computer=new yc(this._editor,this._participants),this._hoverOperation=this._register(new of(this._editor,this._computer)),this._register(this._hoverOperation.onResult(s=>{if(!this._computer.anchor)return;const o=s.hasLoadingMessage?this._addLoadingMessage(s.value):s.value;this._withResult(new af(this._computer.anchor,o,s.isComplete))})),this._register(De.mu(this._widget.getDomNode(),"keydown",s=>{s.equals(9)&&this.hide()})),this._register(Un.RW.onDidChange(()=>{this._widget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}get widget(){return this._widget}maybeShowAt(e){if(this._widget.isResizing)return!0;const t=[];for(const s of this._participants)if(s.suggestHoverAnchor){const o=s.suggestHoverAnchor(e);o&&t.push(o)}const i=e.target;if(i.type===6&&t.push(new Ou(0,i.range,e.event.posx,e.event.posy)),i.type===7){const s=this._editor.getOption(50).typicalHalfwidthCharacterWidth/2;!i.detail.isAfterLines&&typeof i.detail.horizontalDistanceToText=="number"&&i.detail.horizontalDistanceToText<s&&t.push(new Ou(0,i.range,e.event.posx,e.event.posy))}return t.length===0?this._startShowingOrUpdateHover(null,0,0,!1,e):(t.sort((s,o)=>o.priority-s.priority),this._startShowingOrUpdateHover(t[0],0,0,!1,e))}startShowingAtRange(e,t,i,s){this._startShowingOrUpdateHover(new Ou(0,e,void 0,void 0),t,i,s,null)}_startShowingOrUpdateHover(e,t,i,s,o){return!this._widget.position||!this._currentResult?e?(this._startHoverOperationIfNecessary(e,t,i,s,!1),!0):!1:this._editor.getOption(60).sticky&&o&&this._widget.isMouseGettingCloser(o.event.posx,o.event.posy)?(e&&this._startHoverOperationIfNecessary(e,t,i,s,!0),!0):e?e&&this._currentResult.anchor.equals(e)?!0:e.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(e)),this._startHoverOperationIfNecessary(e,t,i,s,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(e,t,i,s,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(e,t,i,s,o){this._computer.anchor&&this._computer.anchor.equals(e)||(this._hoverOperation.cancel(),this._computer.anchor=e,this._computer.shouldFocus=s,this._computer.source=i,this._computer.insistOnKeepingHoverVisible=o,this._hoverOperation.start(t))}_setCurrentResult(e){this._currentResult!==e&&(e&&e.messages.length===0&&(e=null),this._currentResult=e,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}get isColorPickerVisible(){return this._widget.isColorPickerVisible}get isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}get isVisible(){return this._widget.isVisible}get isFocused(){return this._widget.isFocused}get isResizing(){return this._widget.isResizing}containsNode(e){return e?this._widget.getDomNode().contains(e):!1}_addLoadingMessage(e){if(this._computer.anchor){for(const t of this._participants)if(t.createLoadingMessage){const i=t.createLoadingMessage(this._computer.anchor);if(i)return e.slice(0).concat([i])}}return e}_withResult(e){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!e.isComplete||this._computer.insistOnKeepingHoverVisible&&e.messages.length===0)||this._setCurrentResult(e)}_renderMessages(e,t){const{showAtPosition:i,showAtSecondaryPosition:s,highlightRange:o}=Wd.computeHoverRanges(this._editor,e.range,t),d=new Ue.SL,p=d.add(new wc(this._keybindingService)),U=document.createDocumentFragment();let te=null;const de={fragment:U,statusBar:p,setColorPicker:Ie=>te=Ie,onContentsChanged:()=>this._widget.onContentsChanged(),setMinimumDimensions:Ie=>this._widget.setMinimumDimensions(Ie),hide:()=>this.hide()};for(const Ie of this._participants){const $e=t.filter(qe=>qe.owner===Ie);$e.length>0&&d.add(Ie.renderHoverParts(de,$e))}const be=t.some(Ie=>Ie.isBeforeContent);if(p.hasContent&&U.appendChild(p.hoverElement),U.hasChildNodes()){if(o){const Ie=this._editor.createDecorationsCollection();Ie.set([{range:o,options:Wd._DECORATION_OPTIONS}]),d.add((0,Ue.OF)(()=>{Ie.clear()}))}this._widget.showAt(U,new dm(te,i,s,this._editor.getOption(60).above,this._computer.shouldFocus,this._computer.source,be,e.initialMousePosX,e.initialMousePosY,d))}else d.dispose()}static computeHoverRanges(e,t,i){let s=1;if(e.hasModel()){const te=e._getViewModel(),de=te.coordinatesConverter,be=de.convertModelRangeToViewRange(t),Ie=new bt.L(be.startLineNumber,te.getLineMinColumn(be.startLineNumber));s=de.convertViewPositionToModelPosition(Ie).column}const o=t.startLineNumber;let d=t.startColumn,p=i[0].range,U=null;for(const te of i)p=it.e.plusRange(p,te.range),te.range.startLineNumber===o&&te.range.endLineNumber===o&&(d=Math.max(Math.min(d,te.range.startColumn),s)),te.forceShowAtRange&&(U=te.range);return{showAtPosition:U?U.getStartPosition():new bt.L(o,t.startColumn),showAtSecondaryPosition:U?U.getStartPosition():new bt.L(o,d),highlightRange:p}}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}};Dc._DECORATION_OPTIONS=_i.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),Dc=Wd=Ac([Sl(1,Mn.TG),Sl(2,Je.d)],Dc);class af{constructor(e,t,i){this.anchor=e,this.messages=t,this.isComplete=i}filter(e){const t=this.messages.filter(i=>i.isValidForHoverAnchor(e));return t.length===this.messages.length?this:new lm(this,this.anchor,t,this.isComplete)}}class lm extends af{constructor(e,t,i,s){super(t,i,s),this.original=e}filter(e){return this.original.filter(e)}}class dm{constructor(e,t,i,s,o,d,p,U,te,de){this.colorPicker=e,this.showAtPosition=t,this.showAtSecondaryPosition=i,this.preferAbove=s,this.stoleFocus=o,this.source=d,this.isBeforeContent=p,this.initialMousePosX=U,this.initialMousePosY=te,this.disposables=de,this.closestMouseDistance=void 0}}const lf=30,Mu=10,cm=6;let Ja=Gr=class extends am{get isColorPickerVisible(){var e;return!!(!((e=this._visibleData)===null||e===void 0)&&e.colorPicker)}get isVisibleFromKeyboard(){var e;return((e=this._visibleData)===null||e===void 0?void 0:e.source)===1}get isVisible(){var e;return(e=this._hoverVisibleKey.get())!==null&&e!==void 0?e:!1}get isFocused(){var e;return(e=this._hoverFocusedKey.get())!==null&&e!==void 0?e:!1}constructor(e,t,i,s,o){const d=e.getOption(66)+8,p=150,U=new De.Ro(p,d);super(e,U),this._configurationService=i,this._accessibilityService=s,this._keybindingService=o,this._hover=this._register(new sf),this._minimumSize=U,this._hoverVisibleKey=Pt.u.hoverVisible.bindTo(t),this._hoverFocusedKey=Pt.u.hoverFocused.bindTo(t),De.R3(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>{this.isVisible&&this._updateMaxDimensions()})),this._register(this._editor.onDidChangeConfiguration(de=>{de.hasChanged(50)&&this._updateFont()}));const te=this._register(De.go(this._resizableNode.domNode));this._register(te.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(te.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setHoverData(void 0),this._editor.addContentWidget(this)}dispose(){var e;super.dispose(),(e=this._visibleData)===null||e===void 0||e.disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return Gr.ID}static _applyDimensions(e,t,i){const s=typeof t=="number"?`${t}px`:t,o=typeof i=="number"?`${i}px`:i;e.style.width=s,e.style.height=o}_setContentsDomNodeDimensions(e,t){const i=this._hover.contentsDomNode;return Gr._applyDimensions(i,e,t)}_setContainerDomNodeDimensions(e,t){const i=this._hover.containerDomNode;return Gr._applyDimensions(i,e,t)}_setHoverWidgetDimensions(e,t){this._setContentsDomNodeDimensions(e,t),this._setContainerDomNodeDimensions(e,t),this._layoutContentWidget()}static _applyMaxDimensions(e,t,i){const s=typeof t=="number"?`${t}px`:t,o=typeof i=="number"?`${i}px`:i;e.style.maxWidth=s,e.style.maxHeight=o}_setHoverWidgetMaxDimensions(e,t){Gr._applyMaxDimensions(this._hover.contentsDomNode,e,t),Gr._applyMaxDimensions(this._hover.containerDomNode,e,t),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth",typeof e=="number"?`${e}px`:e),this._layoutContentWidget()}_hasHorizontalScrollbar(){const e=this._hover.scrollbar.getScrollDimensions();return e.scrollWidth>e.width}_adjustContentsBottomPadding(){const e=this._hover.contentsDomNode,t=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;e.style.paddingBottom!==t&&(e.style.paddingBottom=t)}_setAdjustedHoverWidgetDimensions(e){this._setHoverWidgetMaxDimensions("none","none");const t=e.width,i=e.height;this._setHoverWidgetDimensions(t,i),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._setContentsDomNodeDimensions(t,i-Mu))}_updateResizableNodeMaxDimensions(){var e,t;const i=(e=this._findMaximumRenderingWidth())!==null&&e!==void 0?e:1/0,s=(t=this._findMaximumRenderingHeight())!==null&&t!==void 0?t:1/0;this._resizableNode.maxSize=new De.Ro(i,s),this._setHoverWidgetMaxDimensions(i,s)}_resize(e){var t,i;Gr._lastDimensions=new De.Ro(e.width,e.height),this._setAdjustedHoverWidgetDimensions(e),this._resizableNode.layout(e.height,e.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),(i=(t=this._visibleData)===null||t===void 0?void 0:t.colorPicker)===null||i===void 0||i.layout()}_findAvailableSpaceVertically(){var e;const t=(e=this._visibleData)===null||e===void 0?void 0:e.showAtPosition;if(t)return this._positionPreference===1?this._availableVerticalSpaceAbove(t):this._availableVerticalSpaceBelow(t)}_findMaximumRenderingHeight(){const e=this._findAvailableSpaceVertically();if(!e)return;let t=cm;return Array.from(this._hover.contentsDomNode.children).forEach(i=>{t+=i.clientHeight}),this._hasHorizontalScrollbar()&&(t+=Mu),Math.min(e,t)}_isHoverTextOverflowing(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");const e=Array.from(this._hover.contentsDomNode.children).some(t=>t.scrollWidth>t.clientWidth);return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),e}_findMaximumRenderingWidth(){if(!this._editor||!this._editor.hasModel())return;const e=this._isHoverTextOverflowing(),t=typeof this._contentWidth=="undefined"?0:this._contentWidth-2;return e||this._hover.containerDomNode.clientWidth<t?De.D6(this._hover.containerDomNode.ownerDocument.body).width-14:this._hover.containerDomNode.clientWidth+2}isMouseGettingCloser(e,t){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX=="undefined"||typeof this._visibleData.initialMousePosY=="undefined")return this._visibleData.initialMousePosX=e,this._visibleData.initialMousePosY=t,!1;const i=De.i(this.getDomNode());typeof this._visibleData.closestMouseDistance=="undefined"&&(this._visibleData.closestMouseDistance=df(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,i.left,i.top,i.width,i.height));const s=df(e,t,i.left,i.top,i.width,i.height);return s>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,s),!0)}_setHoverData(e){var t;(t=this._visibleData)===null||t===void 0||t.disposables.dispose(),this._visibleData=e,this._hoverVisibleKey.set(!!e),this._hover.containerDomNode.classList.toggle("hidden",!e)}_updateFont(){const{fontSize:e,lineHeight:t}=this._editor.getOption(50),i=this._hover.contentsDomNode;i.style.fontSize=`${e}px`,i.style.lineHeight=`${t/e}`,Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(o=>this._editor.applyFontInfo(o))}_updateContent(e){const t=this._hover.contentsDomNode;t.style.paddingBottom="",t.textContent="",t.appendChild(e)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){const e=Math.max(this._editor.getLayoutInfo().height/4,250,Gr._lastDimensions.height),t=Math.max(this._editor.getLayoutInfo().width*.66,500,Gr._lastDimensions.width);this._setHoverWidgetMaxDimensions(t,e)}_render(e,t){this._setHoverData(t),this._updateFont(),this._updateContent(e),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){var e;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[(e=this._positionPreference)!==null&&e!==void 0?e:1]}:null}showAt(e,t){var i,s,o,d;if(!this._editor||!this._editor.hasModel())return;this._render(e,t);const p=De.wn(this._hover.containerDomNode),U=t.showAtPosition;this._positionPreference=(i=this._findPositionPreference(p,U))!==null&&i!==void 0?i:1,this.onContentsChanged(),t.stoleFocus&&this._hover.containerDomNode.focus(),(s=t.colorPicker)===null||s===void 0||s.layout();const de=this._hover.containerDomNode.ownerDocument.activeElement===this._hover.containerDomNode&&sm(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(d=(o=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||o===void 0?void 0:o.getAriaLabel())!==null&&d!==void 0?d:"");de&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+de)}hide(){if(!this._visibleData)return;const e=this._visibleData.stoleFocus||this._hoverFocusedKey.get();this._setHoverData(void 0),this._resizableNode.maxSize=new De.Ro(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),e&&this._editor.focus()}_removeConstraintsRenderNormally(){const e=this._editor.getLayoutInfo();this._resizableNode.layout(e.height,e.width),this._setHoverWidgetDimensions("auto","auto")}_adjustHoverHeightForScrollbar(e){var t;const i=this._hover.containerDomNode,s=this._hover.contentsDomNode,o=(t=this._findMaximumRenderingHeight())!==null&&t!==void 0?t:1/0;this._setContainerDomNodeDimensions(De.w(i),Math.min(o,e)),this._setContentsDomNodeDimensions(De.w(s),Math.min(o,e-Mu))}setMinimumDimensions(e){this._minimumSize=new De.Ro(Math.max(this._minimumSize.width,e.width),Math.max(this._minimumSize.height,e.height)),this._updateMinimumWidth()}_updateMinimumWidth(){const e=typeof this._contentWidth=="undefined"?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new De.Ro(e,this._minimumSize.height)}onContentsChanged(){var e;this._removeConstraintsRenderNormally();const t=this._hover.containerDomNode;let i=De.wn(t),s=De.w(t);if(this._resizableNode.layout(i,s),this._setHoverWidgetDimensions(s,i),i=De.wn(t),s=De.w(t),this._contentWidth=s,this._updateMinimumWidth(),this._resizableNode.layout(i,s),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._adjustHoverHeightForScrollbar(i)),!((e=this._visibleData)===null||e===void 0)&&e.showAtPosition){const o=De.wn(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(o,this._visibleData.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:e-t.lineHeight})}scrollDown(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:e+t.lineHeight})}scrollLeft(){const e=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:e-lf})}scrollRight(){const e=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:e+lf})}pageUp(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:e-t})}pageDown(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:e+t})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};Ja.ID="editor.contrib.resizableContentHoverWidget",Ja._lastDimensions=new De.Ro(0,0),Ja=Gr=Ac([Sl(1,Ot.i6),Sl(2,bi.Ui),Sl(3,co.F7),Sl(4,Je.d)],Ja);let wc=class extends Ue.JT{get hasContent(){return this._hasContent}constructor(e){super(),this._keybindingService=e,this._hasContent=!1,this.hoverElement=rf("div.hover-row.status-bar"),this.actionsElement=De.R3(this.hoverElement,rf("div.actions"))}addAction(e){const t=this._keybindingService.lookupKeybinding(e.commandId),i=t?t.getLabel():null;return this._hasContent=!0,this._register(Nc.render(this.actionsElement,e,i))}append(e){const t=De.R3(this.actionsElement,e);return this._hasContent=!0,t}};wc=Ac([Sl(0,Je.d)],wc);class yc{get anchor(){return this._anchor}set anchor(e){this._anchor=e}get shouldFocus(){return this._shouldFocus}set shouldFocus(e){this._shouldFocus=e}get source(){return this._source}set source(e){this._source=e}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(e){this._insistOnKeepingHoverVisible=e}constructor(e,t){this._editor=e,this._participants=t,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(e,t){if(t.type!==1&&!t.supportsMarkerHover)return[];const i=e.getModel(),s=t.range.startLineNumber;if(s>i.getLineCount())return[];const o=i.getLineMaxColumn(s);return e.getLineDecorations(s).filter(d=>{if(d.options.isWholeLine)return!0;const p=d.range.startLineNumber===s?d.range.startColumn:1,U=d.range.endLineNumber===s?d.range.endColumn:o;if(d.options.showIfCollapsed){if(p>t.range.startColumn+1||t.range.endColumn-1>U)return!1}else if(p>t.range.startColumn||t.range.endColumn>U)return!1;return!0})}computeAsync(e){const t=this._anchor;if(!this._editor.hasModel()||!t)return Ke.Aq.EMPTY;const i=yc._getLineDecorations(this._editor,t);return Ke.Aq.merge(this._participants.map(s=>s.computeAsync?s.computeAsync(t,i,e):Ke.Aq.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const e=yc._getLineDecorations(this._editor,this._anchor);let t=[];for(const i of this._participants)t=t.concat(i.computeSync(this._anchor,e));return(0,cn.kX)(t)}}function df(g,e,t,i,s,o){const d=t+s/2,p=i+o/2,U=Math.max(Math.abs(g-d)-s/2,0),te=Math.max(Math.abs(e-p)-o/2,0);return Math.sqrt(U*U+te*te)}const cf=De.$;class Kl extends Ue.JT{constructor(e,t,i){super(),this._renderDisposeables=this._register(new Ue.SL),this._editor=e,this._isVisible=!1,this._messages=[],this._hover=this._register(new sf),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new Uo({editor:this._editor},t,i)),this._computer=new um(this._editor),this._hoverOperation=this._register(new of(this._editor,this._computer)),this._register(this._hoverOperation.onResult(s=>{this._withResult(s.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(50)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Kl.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(e){this._computer.lineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();const i=document.createDocumentFragment();for(const s of t){const o=cf("div.hover-row.markdown-hover"),d=De.R3(o,cf("div.hover-contents")),p=this._renderDisposeables.add(this._markdownRenderer.render(s.value));d.appendChild(p.element),i.appendChild(o)}this._updateContents(i),this._showAt(e)}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const t=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(e),s=this._editor.getScrollTop(),o=this._editor.getOption(66),d=this._hover.containerDomNode.clientHeight,p=i-s-(d-o)/2;this._hover.containerDomNode.style.left=`${t.glyphMarginLeft+t.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(p),0)}px`}}Kl.ID="editor.contrib.modesGlyphHoverWidget";class um{get lineNumber(){return this._lineNumber}set lineNumber(e){this._lineNumber=e}constructor(e){this._editor=e,this._lineNumber=-1}computeSync(){const e=s=>({value:s}),t=this._editor.getLineDecorations(this._lineNumber),i=[];if(!t)return i;for(const s of t){if(!s.options.glyphMarginClassName)continue;const o=s.options.glyphMarginHoverMessage;!o||(0,Bn.CP)(o)||i.push(...(0,cn._2)(o).map(e))}return i}}class hm{constructor(e,t,i){this.provider=e,this.hover=t,this.ordinal=i}}function fm(g,e,t,i,s){return At(this,null,function*(){try{const o=yield Promise.resolve(g.provideHover(t,i,s));if(o&&mm(o))return new hm(g,o,e)}catch(o){(0,rn.Cp)(o)}})}function xu(g,e,t,i){const o=g.ordered(e).map((d,p)=>fm(d,p,e,t,i));return Ke.Aq.fromPromises(o).coalesce()}function gm(g,e,t,i){return xu(g,e,t,i).map(s=>s.hover).toPromise()}(0,Ve.sb)("_executeHoverProvider",(g,e,t)=>{const i=g.get(hn.p);return gm(i.hoverProvider,e,t,pn.T.None)});function mm(g){const e=typeof g.range!="undefined",t=typeof g.contents!="undefined"&&g.contents&&g.contents.length>0;return e&&t}var pm=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Oc=function(g,e){return function(t,i){e(t,i,g)}};const uf=De.$;class oa{constructor(e,t,i,s,o){this.owner=e,this.range=t,this.contents=i,this.isBeforeContent=s,this.ordinal=o}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let Pc=class{constructor(e,t,i,s,o){this._editor=e,this._languageService=t,this._openerService=i,this._configurationService=s,this._languageFeaturesService=o,this.hoverOrdinal=3}createLoadingMessage(e){return new oa(this,e.range,[new Bn.W5().appendText(le.NC("modesContentHover.loading","Loading..."))],!1,2e3)}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const i=this._editor.getModel(),s=e.range.startLineNumber,o=i.getLineMaxColumn(s),d=[];let p=1e3;const U=i.getLineLength(s),te=i.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),de=this._editor.getOption(116),be=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:te});let Ie=!1;de>=0&&U>de&&e.range.startColumn>=de&&(Ie=!0,d.push(new oa(this,e.range,[{value:le.NC("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,p++))),!Ie&&typeof be=="number"&&U>=be&&d.push(new oa(this,e.range,[{value:le.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,p++));let $e=!1;for(const qe of t){const ft=qe.range.startLineNumber===s?qe.range.startColumn:1,Zt=qe.range.endLineNumber===s?qe.range.endColumn:o,Kt=qe.options.hoverMessage;if(!Kt||(0,Bn.CP)(Kt))continue;qe.options.beforeContentClassName&&($e=!0);const mi=new it.e(e.range.startLineNumber,ft,e.range.startLineNumber,Zt);d.push(new oa(this,mi,(0,cn._2)(Kt),$e,p++))}return d}computeAsync(e,t,i){if(!this._editor.hasModel()||e.type!==1)return Ke.Aq.EMPTY;const s=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(s))return Ke.Aq.EMPTY;const o=new bt.L(e.range.startLineNumber,e.range.startColumn);return xu(this._languageFeaturesService.hoverProvider,s,o,i).filter(d=>!(0,Bn.CP)(d.hover.contents)).map(d=>{const p=d.hover.range?it.e.lift(d.hover.range):e.range;return new oa(this,p,d.hover.contents,!1,d.ordinal)})}renderHoverParts(e,t){return hf(e,t,this._editor,this._languageService,this._openerService)}};Pc=pm([Oc(1,Ro.O),Oc(2,xo.v),Oc(3,bi.Ui),Oc(4,hn.p)],Pc);function hf(g,e,t,i,s){e.sort((d,p)=>d.ordinal-p.ordinal);const o=new Ue.SL;for(const d of e)for(const p of d.contents){if((0,Bn.CP)(p))continue;const U=uf("div.hover-row.markdown-hover"),te=De.R3(U,uf("div.hover-contents")),de=o.add(new Uo({editor:t},i,s));o.add(de.onDidRenderAsync(()=>{te.className="hover-contents code-hover-contents",g.onContentsChanged()}));const be=o.add(de.render(p));te.appendChild(be.element),g.fragment.appendChild(U)}return o}var _m=c(19524),ff=c(29882),gf=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},ko=function(g,e){return function(t,i){e(t,i,g)}};class mf{constructor(e,t,i){this.marker=e,this.index=t,this.total=i}}let ku=class{constructor(e,t,i){this._markerService=t,this._configService=i,this._onDidChange=new Ln.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new Ue.SL,this._markers=[],this._nextIdx=-1,Xn.o.isUri(e)?this._resourceFilter=p=>p.toString()===e.toString():e&&(this._resourceFilter=e);const s=this._configService.getValue("problems.sortOrder"),o=(p,U)=>{let te=(0,Zi.qu)(p.resource.toString(),U.resource.toString());return te===0&&(s==="position"?te=it.e.compareRangesUsingStarts(p,U)||Qs.ZL.compare(p.severity,U.severity):te=Qs.ZL.compare(p.severity,U.severity)||it.e.compareRangesUsingStarts(p,U)),te},d=()=>{this._markers=this._markerService.read({resource:Xn.o.isUri(e)?e:void 0,severities:Qs.ZL.Error|Qs.ZL.Warning|Qs.ZL.Info}),typeof e=="function"&&(this._markers=this._markers.filter(p=>this._resourceFilter(p.resource))),this._markers.sort(o)};d(),this._dispoables.add(t.onMarkerChanged(p=>{(!this._resourceFilter||p.some(U=>this._resourceFilter(U)))&&(d(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e?!0:!this._resourceFilter||!e?!1:this._resourceFilter(e)}get selected(){const e=this._markers[this._nextIdx];return e&&new mf(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,i){let s=!1,o=this._markers.findIndex(d=>d.resource.toString()===e.uri.toString());o<0&&(o=(0,cn.ry)(this._markers,{resource:e.uri},(d,p)=>(0,Zi.qu)(d.resource.toString(),p.resource.toString())),o<0&&(o=~o));for(let d=o;d<this._markers.length;d++){let p=it.e.lift(this._markers[d]);if(p.isEmpty()){const U=e.getWordAtPosition(p.getStartPosition());U&&(p=new it.e(p.startLineNumber,U.startColumn,p.startLineNumber,U.endColumn))}if(t&&(p.containsPosition(t)||t.isBeforeOrEqual(p.getStartPosition()))){this._nextIdx=d,s=!0;break}if(this._markers[d].resource.toString()!==e.uri.toString())break}s||(this._nextIdx=i?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,i){if(this._markers.length===0)return!1;const s=this._nextIdx;return this._nextIdx===-1?this._initIdx(t,i,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),s!==this._nextIdx}find(e,t){let i=this._markers.findIndex(s=>s.resource.toString()===e.toString());if(!(i<0)){for(;i<this._markers.length;i++)if(it.e.containsPosition(this._markers[i],t))return new mf(this._markers[i],i+1,this._markers.length)}}};ku=gf([ko(1,Qs.lT),ko(2,bi.Ui)],ku);const pf=(0,Mn.yh)("IMarkerNavigationService");let Fu=class{constructor(e,t){this._markerService=e,this._configService=t,this._provider=new ff.S}getMarkerList(e){for(const t of this._provider){const i=t.getMarkerList(e);if(i)return i}return new ku(e,this._markerService,this._configService)}};Fu=gf([ko(0,Qs.lT),ko(1,bi.Ui)],Fu),(0,eo.z)(pf,Fu,1);var Mc=c(40539),Bu;(function(g){function e(t){switch(t){case Mc.Z.Ignore:return"severity-ignore "+Ds.k.asClassName(di.l.info);case Mc.Z.Info:return Ds.k.asClassName(di.l.info);case Mc.Z.Warning:return Ds.k.asClassName(di.l.warning);case Mc.Z.Error:return Ds.k.asClassName(di.l.error);default:return""}}g.className=e})(Bu||(Bu={}));var Cm=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Yl=function(g,e){return function(t,i){e(t,i,g)}},Wu;class Em{constructor(e,t,i,s,o){this._openerService=s,this._labelService=o,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new Ue.SL,this._editor=t;const d=document.createElement("div");d.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),d.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),d.appendChild(this._relatedBlock),this._disposables.add(De.mu(this._relatedBlock,"click",p=>{p.preventDefault();const U=this._relatedDiagnostics.get(p.target);U&&i(U)})),this._scrollable=new Rc.NB(d,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(p=>{d.style.left=`-${p.scrollLeft}px`,d.style.top=`-${p.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,Ue.B9)(this._disposables)}update(e){const{source:t,message:i,relatedInformation:s,code:o}=e;let d=((t==null?void 0:t.length)||0)+2;o&&(typeof o=="string"?d+=o.length:d+=o.value.length);const p=(0,Zi.uq)(i);this._lines=p.length,this._longestLineLength=0;for(const Ie of p)this._longestLineLength=Math.max(Ie.length+d,this._longestLineLength);De.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let U=this._messageBlock;for(const Ie of p)U=document.createElement("div"),U.innerText=Ie,Ie===""&&(U.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(U);if(t||o){const Ie=document.createElement("span");if(Ie.classList.add("details"),U.appendChild(Ie),t){const $e=document.createElement("span");$e.innerText=t,$e.classList.add("source"),Ie.appendChild($e)}if(o)if(typeof o=="string"){const $e=document.createElement("span");$e.innerText=`(${o})`,$e.classList.add("code"),Ie.appendChild($e)}else{this._codeLink=De.$("a.code-link"),this._codeLink.setAttribute("href",`${o.target.toString()}`),this._codeLink.onclick=qe=>{this._openerService.open(o.target,{allowCommands:!0}),qe.preventDefault(),qe.stopPropagation()};const $e=De.R3(this._codeLink,De.$("span"));$e.innerText=o.value,Ie.appendChild(this._codeLink)}}if(De.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,cn.Of)(s)){const Ie=this._relatedBlock.appendChild(document.createElement("div"));Ie.style.paddingTop=`${Math.floor(this._editor.getOption(66)*.66)}px`,this._lines+=1;for(const $e of s){const qe=document.createElement("div"),ft=document.createElement("a");ft.classList.add("filename"),ft.innerText=`${this._labelService.getUriBasenameLabel($e.resource)}(${$e.startLineNumber}, ${$e.startColumn}): `,ft.title=this._labelService.getUriLabel($e.resource),this._relatedDiagnostics.set(ft,$e);const Zt=document.createElement("span");Zt.innerText=$e.message,qe.appendChild(ft),qe.appendChild(Zt),this._lines+=1,Ie.appendChild(qe)}}const te=this._editor.getOption(50),de=Math.ceil(te.typicalFullwidthCharacterWidth*this._longestLineLength*.75),be=te.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:de,scrollHeight:be})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case Qs.ZL.Error:t=le.NC("Error","Error");break;case Qs.ZL.Warning:t=le.NC("Warning","Warning");break;case Qs.ZL.Info:t=le.NC("Info","Info");break;case Qs.ZL.Hint:t=le.NC("Hint","Hint");break}let i=le.NC("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn);const s=this._editor.getModel();return s&&e.startLineNumber<=s.getLineCount()&&e.startLineNumber>=1&&(i=`${s.getLineContent(e.startLineNumber)}, ${i}`),i}}let jl=Wu=class extends Bl{constructor(e,t,i,s,o,d,p){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},o),this._themeService=t,this._openerService=i,this._menuService=s,this._contextKeyService=d,this._labelService=p,this._callOnDispose=new Ue.SL,this._onDidSelectRelatedInformation=new Ln.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=Qs.ZL.Warning,this._backgroundColor=Fn.Il.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(oe);let t=Hd,i=Le;this._severity===Qs.ZL.Warning?(t=r,i=f):this._severity===Qs.ZL.Info&&(t=I,i=ee);const s=e.getColor(t),o=e.getColor(i);this.style({arrowColor:s,frameColor:s,headerBackgroundColor:o,primaryHeadingColor:e.getColor(Uh),secondaryHeadingColor:e.getColor(Wl)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(e){super._fillHead(e),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(s=>this.editor.focus()));const t=[],i=this._menuService.createMenu(Wu.TitleMenu,this._contextKeyService);(0,Rd.vr)(i,void 0,t),this._actionbarWidget.push(t,{label:!1,icon:!0,index:0}),i.dispose()}_fillTitleIcon(e){this._icon=De.R3(e,De.$(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new Em(this._container,this.editor,t=>this._onDidSelectRelatedInformation.fire(t),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,i){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());const s=it.e.lift(e),o=this.editor.getPosition(),d=o&&s.containsPosition(o)?o:s.getStartPosition();super.show(d,this.computeRequiredHeight());const p=this.editor.getModel();if(p){const U=i>1?le.NC("problems","{0} of {1} problems",t,i):le.NC("change","{0} of {1} problem",t,i);this.setTitle((0,$s.EZ)(p.uri),U)}this._icon.className=`codicon ${Bu.className(Qs.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(d,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};jl.TitleMenu=new mt.eH("gotoErrorTitleMenu"),jl=Wu=Cm([Yl(1,tt.XE),Yl(2,xo.v),Yl(3,mt.co),Yl(4,Mn.TG),Yl(5,Ot.i6),Yl(6,Id.e)],jl);const _f=(0,Te.kwl)(Te.lXJ,Te.b6y),Cf=(0,Te.kwl)(Te.uoC,Te.pW3),Ef=(0,Te.kwl)(Te.c63,Te.T83),Hd=(0,Te.P6G)("editorMarkerNavigationError.background",{dark:_f,light:_f,hcDark:Te.lRK,hcLight:Te.lRK},le.NC("editorMarkerNavigationError","Editor marker navigation widget error color.")),Le=(0,Te.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,Te.ZnX)(Hd,.1),light:(0,Te.ZnX)(Hd,.1),hcDark:null,hcLight:null},le.NC("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),r=(0,Te.P6G)("editorMarkerNavigationWarning.background",{dark:Cf,light:Cf,hcDark:Te.lRK,hcLight:Te.lRK},le.NC("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),f=(0,Te.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,Te.ZnX)(r,.1),light:(0,Te.ZnX)(r,.1),hcDark:"#0C141F",hcLight:(0,Te.ZnX)(r,.2)},le.NC("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),I=(0,Te.P6G)("editorMarkerNavigationInfo.background",{dark:Ef,light:Ef,hcDark:Te.lRK,hcLight:Te.lRK},le.NC("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),ee=(0,Te.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,Te.ZnX)(I,.1),light:(0,Te.ZnX)(I,.1),hcDark:null,hcLight:null},le.NC("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),oe=(0,Te.P6G)("editorMarkerNavigation.background",{dark:Te.cvW,light:Te.cvW,hcDark:Te.cvW,hcLight:Te.cvW},le.NC("editorMarkerNavigationBackground","Editor marker navigation widget background."));var me=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Ae=function(g,e){return function(t,i){e(t,i,g)}},at;let _t=at=class{static get(e){return e.getContribution(at.ID)}constructor(e,t,i,s,o){this._markerNavigationService=t,this._contextKeyService=i,this._editorService=s,this._instantiationService=o,this._sessionDispoables=new Ue.SL,this._editor=e,this._widgetVisible=Ls.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(jl,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(i=>{var s,o,d;(!(!((s=this._model)===null||s===void 0)&&s.selected)||!it.e.containsPosition((o=this._model)===null||o===void 0?void 0:o.selected.marker,i.position))&&((d=this._model)===null||d===void 0||d.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const i=this._model.find(this._editor.getModel().uri,this._widget.position);i?this._widget.updateMarker(i.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(i=>{this._editorService.openCodeEditor({resource:i.resource,options:{pinned:!0,revealIfOpened:!0,selection:it.e.lift(i).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){const t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new bt.L(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}nagivate(e,t){return At(this,null,function*(){var i,s;if(this._editor.hasModel()){const o=this._getOrCreateModel(t?void 0:this._editor.getModel().uri);if(o.move(e,this._editor.getModel(),this._editor.getPosition()),!o.selected)return;if(o.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const d=yield this._editorService.openCodeEditor({resource:o.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:o.selected.marker}},this._editor);d&&((i=at.get(d))===null||i===void 0||i.close(),(s=at.get(d))===null||s===void 0||s.nagivate(e,t))}else this._widget.showAtMarker(o.selected.marker,o.selected.index,o.selected.total)}})}};_t.ID="editor.contrib.markerController",_t=at=me([Ae(1,pf),Ae(2,Ot.i6),Ae(3,$i.$),Ae(4,Mn.TG)],_t);class Rt extends Ve.R6{constructor(e,t,i){super(i),this._next=e,this._multiFile=t}run(e,t){return At(this,null,function*(){var i;t.hasModel()&&((i=_t.get(t))===null||i===void 0||i.nagivate(this._next,this._multiFile))})}}class Jt extends Rt{constructor(){super(!0,!1,{id:Jt.ID,label:Jt.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Pt.u.focus,primary:578,weight:100},menuOpts:{menuId:jl.TitleMenu,title:Jt.LABEL,icon:(0,w.q5)("marker-navigation-next",di.l.arrowDown,le.NC("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}Jt.ID="editor.action.marker.next",Jt.LABEL=le.NC("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class Ti extends Rt{constructor(){super(!1,!1,{id:Ti.ID,label:Ti.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Pt.u.focus,primary:1602,weight:100},menuOpts:{menuId:jl.TitleMenu,title:Ti.LABEL,icon:(0,w.q5)("marker-navigation-previous",di.l.arrowUp,le.NC("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}Ti.ID="editor.action.marker.prev",Ti.LABEL=le.NC("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class yi extends Rt{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:le.NC("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Pt.u.focus,primary:66,weight:100},menuOpts:{menuId:mt.eH.MenubarGoMenu,title:le.NC({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class xn extends Rt{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:le.NC("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Pt.u.focus,primary:1090,weight:100},menuOpts:{menuId:mt.eH.MenubarGoMenu,title:le.NC({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}(0,Ve._K)(_t.ID,_t,4),(0,Ve.Qr)(Jt),(0,Ve.Qr)(Ti),(0,Ve.Qr)(yi),(0,Ve.Qr)(xn);const Ls=new Ot.uy("markersNavigationVisible",!1),Ms=Ve._l.bindToContribution(_t.get);(0,Ve.fK)(new Ms({id:"closeMarkersNavigation",precondition:Ls,handler:g=>g.close(),kbOpts:{weight:100+50,kbExpr:Pt.u.focus,primary:9,secondary:[1033]}}));var Po=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},qs=function(g,e){return function(t,i){e(t,i,g)}};const ws=De.$;class _s{constructor(e,t,i){this.owner=e,this.range=t,this.marker=i}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}const Lr={type:1,filter:{include:qi.QuickFix},triggerAction:Ss.QuickFixHover};let ra=class{constructor(e,t,i,s){this._editor=e,this._markerDecorationsService=t,this._openerService=i,this._languageFeaturesService=s,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1&&!e.supportsMarkerHover)return[];const i=this._editor.getModel(),s=e.range.startLineNumber,o=i.getLineMaxColumn(s),d=[];for(const p of t){const U=p.range.startLineNumber===s?p.range.startColumn:1,te=p.range.endLineNumber===s?p.range.endColumn:o,de=this._markerDecorationsService.getMarker(i.uri,p);if(!de)continue;const be=new it.e(e.range.startLineNumber,U,e.range.startLineNumber,te);d.push(new _s(this,be,de))}return d}renderHoverParts(e,t){if(!t.length)return Ue.JT.None;const i=new Ue.SL;t.forEach(o=>e.fragment.appendChild(this.renderMarkerHover(o,i)));const s=t.length===1?t[0]:t.sort((o,d)=>Qs.ZL.compare(o.marker.severity,d.marker.severity))[0];return this.renderMarkerStatusbar(e,s,i),i}renderMarkerHover(e,t){const i=ws("div.hover-row"),s=De.R3(i,ws("div.marker.hover-contents")),{source:o,message:d,code:p,relatedInformation:U}=e.marker;this._editor.applyFontInfo(s);const te=De.R3(s,ws("span"));if(te.style.whiteSpace="pre-wrap",te.innerText=d,o||p)if(p&&typeof p!="string"){const de=ws("span");if(o){const qe=De.R3(de,ws("span"));qe.innerText=o}const be=De.R3(de,ws("a.code-link"));be.setAttribute("href",p.target.toString()),t.add(De.nm(be,"click",qe=>{this._openerService.open(p.target,{allowCommands:!0}),qe.preventDefault(),qe.stopPropagation()}));const Ie=De.R3(be,ws("span"));Ie.innerText=p.value;const $e=De.R3(s,de);$e.style.opacity="0.6",$e.style.paddingLeft="6px"}else{const de=De.R3(s,ws("span"));de.style.opacity="0.6",de.style.paddingLeft="6px",de.innerText=o&&p?`${o}(${p})`:o||`(${p})`}if((0,cn.Of)(U))for(const{message:de,resource:be,startLineNumber:Ie,startColumn:$e}of U){const qe=De.R3(s,ws("div"));qe.style.marginTop="8px";const ft=De.R3(qe,ws("a"));ft.innerText=`${(0,$s.EZ)(be)}(${Ie}, ${$e}): `,ft.style.cursor="pointer",t.add(De.nm(ft,"click",Kt=>{Kt.stopPropagation(),Kt.preventDefault(),this._openerService&&this._openerService.open(be,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:Ie,startColumn:$e}}}).catch(rn.dL)}));const Zt=De.R3(qe,ws("span"));Zt.innerText=de,this._editor.applyFontInfo(Zt)}return i}renderMarkerStatusbar(e,t,i){if((t.marker.severity===Qs.ZL.Error||t.marker.severity===Qs.ZL.Warning||t.marker.severity===Qs.ZL.Info)&&e.statusBar.addAction({label:le.NC("view problem","View Problem"),commandId:Jt.ID,run:()=>{var s;e.hide(),(s=_t.get(this._editor))===null||s===void 0||s.showAtMarker(t.marker),this._editor.focus()}}),!this._editor.getOption(90)){const s=e.statusBar.append(ws("div"));this.recentMarkerCodeActionsInfo&&(Qs.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===Qs.H0.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(s.textContent=le.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const o=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?Ue.JT.None:i.add((0,Ke.Vg)(()=>s.textContent=le.NC("checkingForQuickFixes","Checking for quick fixes..."),200));s.textContent||(s.textContent=String.fromCharCode(160));const d=this.getCodeActions(t.marker);i.add((0,Ue.OF)(()=>d.cancel())),d.then(p=>{if(o.dispose(),this.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:p.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){p.dispose(),s.textContent=le.NC("noQuickFixes","No quick fixes available");return}s.style.display="none";let U=!1;i.add((0,Ue.OF)(()=>{U||p.dispose()})),e.statusBar.addAction({label:le.NC("quick fixes","Quick Fix..."),commandId:Ns,run:te=>{U=!0;const de=to.get(this._editor),be=De.i(te);e.hide(),de==null||de.showCodeActions(Lr,p,{x:be.left,y:be.top,width:be.width,height:be.height})}})},rn.dL)}}getCodeActions(e){return(0,Ke.PG)(t=>kt(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new it.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),Lr,ls.Ex.None,t))}};ra=Po([qs(1,_m.i),qs(2,xo.v),qs(3,hn.p)],ra);var Fo=c(6285),Vn=c(13611);const xs="editor.action.inlineSuggest.commit",Bo="editor.action.inlineSuggest.showPrevious",Pr="editor.action.inlineSuggest.showNext";var zr=c(58399),xc=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},es=function(g,e){return function(t,i){e(t,i,g)}},aa;let $l=class extends Ue.JT{constructor(e,t,i){super(),this.editor=e,this.model=t,this.instantiationService=i,this.alwaysShowToolbar=(0,Vn.rD)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,Vn.nK)(this,s=>{var o,d,p;const U=(o=this.model.read(s))===null||o===void 0?void 0:o.ghostText.read(s);if(!this.alwaysShowToolbar.read(s)||!U||U.parts.length===0)return this.sessionPosition=void 0,null;const te=U.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==U.lineNumber&&(this.sessionPosition=void 0);const de=new bt.L(U.lineNumber,Math.min(te,(p=(d=this.sessionPosition)===null||d===void 0?void 0:d.column)!==null&&p!==void 0?p:Number.MAX_SAFE_INTEGER));return this.sessionPosition=de,de}),this._register((0,Vn.gp)((s,o)=>{const d=this.model.read(s);if(!d||!this.alwaysShowToolbar.read(s))return;const p=o.add(this.instantiationService.createInstance(Xl,this.editor,!0,this.position,d.selectedInlineCompletionIndex,d.inlineCompletionsCount,d.selectedInlineCompletion.map(U=>{var te;return(te=U==null?void 0:U.inlineCompletion.source.inlineCompletions.commands)!==null&&te!==void 0?te:[]})));e.addContentWidget(p),o.add((0,Ue.OF)(()=>e.removeContentWidget(p))),o.add((0,Vn.EH)(U=>{this.position.read(U)&&d.lastTriggerKind.read(U)!==Un.bw.Explicit&&d.triggerExplicitly()}))}))}};$l=xc([es(2,Mn.TG)],$l);const K0=(0,w.q5)("inline-suggestion-hints-next",di.l.chevronRight,(0,le.NC)("parameterHintsNextIcon","Icon for show next parameter hint.")),Y0=(0,w.q5)("inline-suggestion-hints-previous",di.l.chevronLeft,(0,le.NC)("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let Xl=aa=class extends Ue.JT{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(e,t,i){const s=new Us.aU(e,t,i,!0,()=>this._commandService.executeCommand(e)),o=this.keybindingService.lookupKeybinding(e,this._contextKeyService);let d=t;return o&&(d=(0,le.NC)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",t,o.getLabel())),s.tooltip=d,s}constructor(e,t,i,s,o,d,p,U,te,de,be){super(),this.editor=e,this.withBorder=t,this._position=i,this._currentSuggestionIdx=s,this._suggestionCount=o,this._extraCommands=d,this._commandService=p,this.keybindingService=te,this._contextKeyService=de,this._menuService=be,this.id=`InlineSuggestionHintsContentWidget${aa.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,De.h)("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[(0,De.h)("div@toolBar")]),this.previousAction=this.createCommandAction(Bo,(0,le.NC)("previous","Previous"),Ds.k.asClassName(Y0)),this.availableSuggestionCountAction=new Us.aU("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(Pr,(0,le.NC)("next","Next"),Ds.k.asClassName(K0)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(mt.eH.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new Ke.pY(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new Ke.pY(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.lastCommands=[],this.toolBar=this._register(U.createInstance(Sm,this.nodes.toolBar,mt.eH.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:Ie=>Ie.startsWith("primary")},actionViewItemProvider:(Ie,$e)=>{if(Ie instanceof mt.U8)return U.createInstance($0,Ie,void 0);if(Ie===this.availableSuggestionCountAction){const qe=new j0(void 0,Ie,{label:!0,icon:!1});return qe.setClass("availableSuggestionCount"),qe}},telemetrySource:"InlineSuggestionToolbar"})),this.toolBar.setPrependedPrimaryActions([this.previousAction,this.availableSuggestionCountAction,this.nextAction]),this._register(this.toolBar.onDidChangeDropdownVisibility(Ie=>{aa._dropDownVisible=Ie})),this._register((0,Vn.EH)(Ie=>{this._position.read(Ie),this.editor.layoutContentWidget(this)})),this._register((0,Vn.EH)(Ie=>{const $e=this._suggestionCount.read(Ie),qe=this._currentSuggestionIdx.read(Ie);$e!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${qe+1}/${$e}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),$e!==void 0&&$e>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register((0,Vn.EH)(Ie=>{const $e=this._extraCommands.read(Ie);if((0,cn.fS)(this.lastCommands,$e))return;this.lastCommands=$e;const qe=$e.map(ft=>({class:void 0,id:ft.id,enabled:!0,tooltip:ft.tooltip||"",label:ft.title,run:Zt=>this._commandService.executeCommand(ft.id)}));for(const[ft,Zt]of this.inlineCompletionsActionsMenus.getActions())for(const Kt of Zt)Kt instanceof mt.U8&&qe.push(Kt);qe.length>0&&qe.unshift(new Us.Z0),this.toolBar.setAdditionalSecondaryActions(qe)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};Xl._dropDownVisible=!1,Xl.id=0,Xl=aa=xc([es(6,jt.H),es(7,Mn.TG),es(8,Je.d),es(9,Ot.i6),es(10,mt.co)],Xl);class j0 extends Fo.gU{constructor(){super(...arguments),this._className=void 0}setClass(e){this._className=e}render(e){super.render(e),this._className&&e.classList.add(this._className)}}class $0 extends Rd.Mm{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();if(this.label){const t=(0,De.h)("div.keybinding").root;new or.e(t,Ut.OS,Di({disableTitle:!0},or.F)).set(e),this.label.textContent=this._action.label,this.label.appendChild(t),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}}let Sm=class extends zr.T{constructor(e,t,i,s,o,d,p,U){super(e,Di({resetMenu:t},i),s,o,d,p,U),this.menuId=t,this.options2=i,this.menuService=s,this.contextKeyService=o,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var e,t,i,s,o,d,p;const U=[],te=[];(0,Rd.vr)(this.menu,(e=this.options2)===null||e===void 0?void 0:e.menuOptions,{primary:U,secondary:te},(i=(t=this.options2)===null||t===void 0?void 0:t.toolbarOptions)===null||i===void 0?void 0:i.primaryGroup,(o=(s=this.options2)===null||s===void 0?void 0:s.toolbarOptions)===null||o===void 0?void 0:o.shouldInlineSubmenu,(p=(d=this.options2)===null||d===void 0?void 0:d.toolbarOptions)===null||p===void 0?void 0:p.useSeparatorsInPrimaryActions),te.push(...this.additionalActions),U.unshift(...this.prependedPrimaryActions),this.setActions(U,te)}setPrependedPrimaryActions(e){(0,cn.fS)(this.prependedPrimaryActions,e,(t,i)=>t===i)||(this.prependedPrimaryActions=e,this.updateToolbar())}setAdditionalSecondaryActions(e){(0,cn.fS)(this.additionalActions,e,(t,i)=>t===i)||(this.additionalActions=e,this.updateToolbar())}};Sm=xc([es(3,mt.co),es(4,Ot.i6),es(5,fn.i),es(6,Je.d),es(7,ms.b)],Sm);var X0=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Sf=function(g,e){return function(t,i){e(t,i,g)}},vm;const vf=!1;let Rr=vm=class extends Ue.JT{static get(e){return e.getContribution(vm.ID)}constructor(e,t,i,s,o){super(),this._editor=e,this._instantiationService=t,this._openerService=i,this._languageService=s,this._keybindingService=o,this._toUnhook=new Ue.SL,this._hoverActivatedByColorDecoratorClick=!1,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._reactToEditorMouseMoveRunner=this._register(new Ke.pY(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookEvents(),this._register(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(60)&&(this._unhookEvents(),this._hookEvents())}))}_hookEvents(){const e=this._editor.getOption(60);this._isHoverEnabled=e.enabled,this._isHoverSticky=e.sticky,this._hidingDelay=e.hidingDelay,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._toUnhook.add(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._toUnhook.add(this._editor.onMouseMove(t=>this._onEditorMouseMove(t))),this._toUnhook.add(this._editor.onKeyDown(t=>this._onKeyDown(t)))):(this._toUnhook.add(this._editor.onMouseMove(t=>this._onEditorMouseMove(t))),this._toUnhook.add(this._editor.onKeyDown(t=>this._onKeyDown(t)))),this._toUnhook.add(this._editor.onMouseLeave(t=>this._onEditorMouseLeave(t))),this._toUnhook.add(this._editor.onDidChangeModel(()=>{this._cancelScheduler(),this._hideWidgets()})),this._toUnhook.add(this._editor.onDidChangeModelContent(()=>this._cancelScheduler())),this._toUnhook.add(this._editor.onDidScrollChange(t=>this._onEditorScrollChanged(t)))}_cancelScheduler(){this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){var t;this._isMouseDown=!0;const i=e.target;if(i.type===9&&i.detail===Ja.ID){this._hoverClicked=!0;return}i.type===12&&i.detail===Kl.ID||(i.type!==12&&(this._hoverClicked=!1),!((t=this._contentWidget)===null||t===void 0)&&t.widget.isResizing||this._hideWidgets())}_onEditorMouseUp(e){this._isMouseDown=!1}_onEditorMouseLeave(e){var t,i;this._cancelScheduler();const s=e.event.browserEvent.relatedTarget;!((t=this._contentWidget)===null||t===void 0)&&t.widget.isResizing||!((i=this._contentWidget)===null||i===void 0)&&i.containsNode(s)||vf||this._hideWidgets()}_isMouseOverWidget(e){var t,i,s,o,d;const p=e.target;return!!(this._isHoverSticky&&p.type===9&&p.detail===Ja.ID||this._isHoverSticky&&(!((t=this._contentWidget)===null||t===void 0)&&t.containsNode((i=e.event.browserEvent.view)===null||i===void 0?void 0:i.document.activeElement))&&!(!((o=(s=e.event.browserEvent.view)===null||s===void 0?void 0:s.getSelection())===null||o===void 0)&&o.isCollapsed)||!this._isHoverSticky&&p.type===9&&p.detail===Ja.ID&&(!((d=this._contentWidget)===null||d===void 0)&&d.isColorPickerVisible)||this._isHoverSticky&&p.type===12&&p.detail===Kl.ID)}_onEditorMouseMove(e){var t,i,s,o;if(this._mouseMoveEvent=e,!((t=this._contentWidget)===null||t===void 0)&&t.isFocused||!((i=this._contentWidget)===null||i===void 0)&&i.isResizing||this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&(!((s=this._contentWidget)===null||s===void 0)&&s.isVisibleFromKeyboard))return;if(this._isMouseOverWidget(e)){this._reactToEditorMouseMoveRunner.cancel();return}if(!((o=this._contentWidget)===null||o===void 0)&&o.isVisible&&this._isHoverSticky&&this._hidingDelay>0){this._reactToEditorMouseMoveRunner.isScheduled()||this._reactToEditorMouseMoveRunner.schedule(this._hidingDelay);return}this._reactToEditorMouseMove(e)}_reactToEditorMouseMove(e){var t,i,s;if(!e)return;const o=e.target,d=(t=o.element)===null||t===void 0?void 0:t.classList.contains("colorpicker-color-decoration"),p=this._editor.getOption(146);if(d&&(p==="click"&&!this._hoverActivatedByColorDecoratorClick||p==="hover"&&!this._isHoverEnabled&&!vf||p==="clickAndHover"&&!this._isHoverEnabled&&!this._hoverActivatedByColorDecoratorClick)||!d&&!this._isHoverEnabled&&!this._hoverActivatedByColorDecoratorClick){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(e)){(i=this._glyphWidget)===null||i===void 0||i.hide();return}if(o.type===2&&o.position){(s=this._contentWidget)===null||s===void 0||s.hide(),this._glyphWidget||(this._glyphWidget=new Kl(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(o.position.lineNumber);return}vf||this._hideWidgets()}_onKeyDown(e){var t;if(!this._editor.hasModel())return;const i=this._keybindingService.softDispatch(e,this._editor.getDomNode()),s=i.kind===1||i.kind===2&&i.commandId==="editor.action.showHover"&&((t=this._contentWidget)===null||t===void 0?void 0:t.isVisible);e.keyCode!==5&&e.keyCode!==6&&e.keyCode!==57&&e.keyCode!==4&&!s&&this._hideWidgets()}_hideWidgets(){var e,t,i;vf||this._isMouseDown&&this._hoverClicked&&(!((e=this._contentWidget)===null||e===void 0)&&e.isColorPickerVisible)||Xl.dropDownVisible||(this._hoverActivatedByColorDecoratorClick=!1,this._hoverClicked=!1,(t=this._glyphWidget)===null||t===void 0||t.hide(),(i=this._contentWidget)===null||i===void 0||i.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(Dc,this._editor)),this._contentWidget}showContentHover(e,t,i,s,o=!1){this._hoverActivatedByColorDecoratorClick=o,this._getOrCreateContentWidget().startShowingAtRange(e,t,i,s)}focus(){var e;(e=this._contentWidget)===null||e===void 0||e.focus()}scrollUp(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollUp()}scrollDown(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollDown()}scrollLeft(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollLeft()}scrollRight(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollRight()}pageUp(){var e;(e=this._contentWidget)===null||e===void 0||e.pageUp()}pageDown(){var e;(e=this._contentWidget)===null||e===void 0||e.pageDown()}goToTop(){var e;(e=this._contentWidget)===null||e===void 0||e.goToTop()}goToBottom(){var e;(e=this._contentWidget)===null||e===void 0||e.goToBottom()}get isColorPickerVisible(){var e;return(e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible}get isHoverVisible(){var e;return(e=this._contentWidget)===null||e===void 0?void 0:e.isVisible}dispose(){var e,t;super.dispose(),this._unhookEvents(),this._toUnhook.dispose(),(e=this._glyphWidget)===null||e===void 0||e.dispose(),(t=this._contentWidget)===null||t===void 0||t.dispose()}};Rr.ID="editor.contrib.hover",Rr=vm=X0([Sf(1,Mn.TG),Sf(2,xo.v),Sf(3,Ro.O),Sf(4,Je.d)],Rr);var Na;(function(g){g.NoAutoFocus="noAutoFocus",g.FocusIfVisible="focusIfVisible",g.AutoFocusImmediately="autoFocusImmediately"})(Na||(Na={}));class Q0 extends Ve.R6{constructor(){super({id:"editor.action.showHover",label:le.NC({key:"showOrFocusHover",comment:["Label for action that will trigger the showing/focusing of a hover in the editor.","If the hover is not visible, it will show the hover.","This allows for users to show the hover without using the mouse."]},"Show or Focus Hover"),metadata:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if and when the hover should take focus upon being triggered by this action.",enum:[Na.NoAutoFocus,Na.FocusIfVisible,Na.AutoFocusImmediately],enumDescriptions:[le.NC("showOrFocusHover.focus.noAutoFocus","The hover will not automatically take focus."),le.NC("showOrFocusHover.focus.focusIfVisible","The hover will take focus only if it is already visible."),le.NC("showOrFocusHover.focus.autoFocusImmediately","The hover will automatically take focus when it appears.")],default:Na.FocusIfVisible}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:(0,kn.gx)(2089,2087),weight:100}})}run(e,t,i){if(!t.hasModel())return;const s=Rr.get(t);if(!s)return;const o=i==null?void 0:i.focus;let d=Na.FocusIfVisible;o in Na?d=o:typeof o=="boolean"&&o&&(d=Na.AutoFocusImmediately);const p=te=>{const de=t.getPosition(),be=new it.e(de.lineNumber,de.column,de.lineNumber,de.column);s.showContentHover(be,1,1,te)},U=t.getOption(2)===2;s.isHoverVisible?d!==Na.NoAutoFocus?s.focus():p(U):p(U||d===Na.AutoFocusImmediately)}}class J0 extends Ve.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:le.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(e,t){const i=Rr.get(t);if(!i)return;const s=t.getPosition();if(!s)return;const o=new it.e(s.lineNumber,s.column,s.lineNumber,s.column),d=Ra.get(t);if(!d)return;d.startFindDefinitionFromCursor(s).then(()=>{i.showContentHover(o,1,1,!0)})}}class Z0 extends Ve.R6{constructor(){super({id:"editor.action.scrollUpHover",label:le.NC({key:"scrollUpHover",comment:["Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:Pt.u.hoverFocused,kbOpts:{kbExpr:Pt.u.hoverFocused,primary:16,weight:100}})}run(e,t){const i=Rr.get(t);i&&i.scrollUp()}}class q0 extends Ve.R6{constructor(){super({id:"editor.action.scrollDownHover",label:le.NC({key:"scrollDownHover",comment:["Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:Pt.u.hoverFocused,kbOpts:{kbExpr:Pt.u.hoverFocused,primary:18,weight:100}})}run(e,t){const i=Rr.get(t);i&&i.scrollDown()}}class eS extends Ve.R6{constructor(){super({id:"editor.action.scrollLeftHover",label:le.NC({key:"scrollLeftHover",comment:["Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused."]},"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:Pt.u.hoverFocused,kbOpts:{kbExpr:Pt.u.hoverFocused,primary:15,weight:100}})}run(e,t){const i=Rr.get(t);i&&i.scrollLeft()}}class tS extends Ve.R6{constructor(){super({id:"editor.action.scrollRightHover",label:le.NC({key:"scrollRightHover",comment:["Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused."]},"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:Pt.u.hoverFocused,kbOpts:{kbExpr:Pt.u.hoverFocused,primary:17,weight:100}})}run(e,t){const i=Rr.get(t);i&&i.scrollRight()}}class iS extends Ve.R6{constructor(){super({id:"editor.action.pageUpHover",label:le.NC({key:"pageUpHover",comment:["Action that allows to page up in the hover widget with the page up command when the hover widget is focused."]},"Page Up Hover"),alias:"Page Up Hover",precondition:Pt.u.hoverFocused,kbOpts:{kbExpr:Pt.u.hoverFocused,primary:11,secondary:[528],weight:100}})}run(e,t){const i=Rr.get(t);i&&i.pageUp()}}class nS extends Ve.R6{constructor(){super({id:"editor.action.pageDownHover",label:le.NC({key:"pageDownHover",comment:["Action that allows to page down in the hover widget with the page down command when the hover widget is focused."]},"Page Down Hover"),alias:"Page Down Hover",precondition:Pt.u.hoverFocused,kbOpts:{kbExpr:Pt.u.hoverFocused,primary:12,secondary:[530],weight:100}})}run(e,t){const i=Rr.get(t);i&&i.pageDown()}}class sS extends Ve.R6{constructor(){super({id:"editor.action.goToTopHover",label:le.NC({key:"goToTopHover",comment:["Action that allows to go to the top of the hover widget with the home command when the hover widget is focused."]},"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:Pt.u.hoverFocused,kbOpts:{kbExpr:Pt.u.hoverFocused,primary:14,secondary:[2064],weight:100}})}run(e,t){const i=Rr.get(t);i&&i.goToTop()}}class oS extends Ve.R6{constructor(){super({id:"editor.action.goToBottomHover",label:le.NC({key:"goToBottomHover",comment:["Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused."]},"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:Pt.u.hoverFocused,kbOpts:{kbExpr:Pt.u.hoverFocused,primary:13,secondary:[2066],weight:100}})}run(e,t){const i=Rr.get(t);i&&i.goToBottom()}}(0,Ve._K)(Rr.ID,Rr,2),(0,Ve.Qr)(Q0),(0,Ve.Qr)(J0),(0,Ve.Qr)(Z0),(0,Ve.Qr)(q0),(0,Ve.Qr)(eS),(0,Ve.Qr)(tS),(0,Ve.Qr)(iS),(0,Ve.Qr)(nS),(0,Ve.Qr)(sS),(0,Ve.Qr)(oS),El.register(Pc),El.register(ra),(0,tt.Ic)((g,e)=>{const t=g.getColor(Te.CNo);t&&(e.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${t.transparent(.5)}; }`))});class Tm extends Ue.JT{constructor(e){super(),this._editor=e,this._register(e.onMouseDown(t=>this.onMouseDown(t)))}dispose(){super.dispose()}onMouseDown(e){const t=this._editor.getOption(146);if(t!=="click"&&t!=="clickAndHover")return;const i=e.target;if(i.type!==6||!i.detail.injectedText||i.detail.injectedText.options.attachedData!==kl||!i.range)return;const s=this._editor.getContribution(Rr.ID);if(s&&!s.isColorPickerVisible){const o=new it.e(i.range.startLineNumber,i.range.startColumn+1,i.range.endLineNumber,i.range.endColumn+1);s.showContentHover(o,1,0,!1,!0)}}}Tm.ID="editor.contrib.colorContribution",(0,Ve._K)(Tm.ID,Tm,2),El.register(wi);var J_=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Ia=function(g,e){return function(t,i){e(t,i,g)}},bm,Lm;let Ql=bm=class extends Ue.JT{constructor(e,t,i,s,o,d,p){super(),this._editor=e,this._modelService=i,this._keybindingService=s,this._instantiationService=o,this._languageFeatureService=d,this._languageConfigurationService=p,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=Pt.u.standaloneColorPickerVisible.bindTo(t),this._standaloneColorPickerFocused=Pt.u.standaloneColorPickerFocused.bindTo(t)}showOrFocus(){var e;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(e=this._standaloneColorPickerWidget)===null||e===void 0||e.focus():this._standaloneColorPickerWidget=new Tf(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}hide(){var e;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(e=this._standaloneColorPickerWidget)===null||e===void 0||e.hide(),this._editor.focus()}insertColor(){var e;(e=this._standaloneColorPickerWidget)===null||e===void 0||e.updateEditor(),this.hide()}static get(e){return e.getContribution(bm.ID)}};Ql.ID="editor.contrib.standaloneColorPickerController",Ql=bm=J_([Ia(1,Ot.i6),Ia(2,us.q),Ia(3,Je.d),Ia(4,Mn.TG),Ia(5,hn.p),Ia(6,Zs.c_)],Ql),(0,Ve._K)(Ql.ID,Ql,1);const Z_=8,rS=22;let Tf=Lm=class extends Ue.JT{constructor(e,t,i,s,o,d,p,U){var te;super(),this._editor=e,this._standaloneColorPickerVisible=t,this._standaloneColorPickerFocused=i,this._modelService=o,this._keybindingService=d,this._languageFeaturesService=p,this._languageConfigurationService=U,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new Ln.Q5),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=s.createInstance(nn,this._editor),this._position=(te=this._editor._getViewModel())===null||te===void 0?void 0:te.getPrimaryCursorState().modelState.position;const de=this._editor.getSelection(),be=de?{startLineNumber:de.startLineNumber,startColumn:de.startColumn,endLineNumber:de.endLineNumber,endColumn:de.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},Ie=this._register(De.go(this._body));this._register(Ie.onDidBlur($e=>{this.hide()})),this._register(Ie.onDidFocus($e=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove($e=>{var qe;const ft=(qe=$e.target.element)===null||qe===void 0?void 0:qe.classList;ft&&ft.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult($e=>{this._render($e.value,$e.foundInEditor)})),this._start(be),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return Lm.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;const e=this._editor.getOption(60).above;return{position:this._position,secondaryPosition:this._position,preference:e?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}_start(e){return At(this,null,function*(){const t=yield this._computeAsync(e);t&&this._onResult.fire(new aS(t.result,t.foundInEditor))})}_computeAsync(e){return At(this,null,function*(){if(!this._editor.hasModel())return null;const t={range:e,color:{red:0,green:0,blue:0,alpha:1}},i=yield this._standaloneColorPickerParticipant.createColorHover(t,new ar(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider);return i?{result:i.colorHover,foundInEditor:i.foundInEditor}:null})}_render(e,t){const i=document.createDocumentFragment(),s=this._register(new wc(this._keybindingService));let o;const d={fragment:i,statusBar:s,setColorPicker:ft=>o=ft,onContentsChanged:()=>{},hide:()=>this.hide()};if(this._colorHover=e,this._register(this._standaloneColorPickerParticipant.renderHoverParts(d,[e])),o===void 0)return;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this._body.tabIndex=0,this._body.appendChild(i),o.layout();const p=o.body,U=p.saturationBox.domNode.clientWidth,te=p.domNode.clientWidth-U-rS-Z_,de=o.body.enterButton;de==null||de.onClicked(()=>{this.updateEditor(),this.hide()});const be=o.header,Ie=be.pickedColorNode;Ie.style.width=U+Z_+"px";const $e=be.originalColorNode;$e.style.width=te+"px";const qe=o.header.closeButton;qe==null||qe.onClicked(()=>{this.hide()}),t&&(de&&(de.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(e.range)),this._editor.layoutContentWidget(this)}};Tf.ID="editor.contrib.standaloneColorPickerWidget",Tf=Lm=J_([Ia(3,Mn.TG),Ia(4,us.q),Ia(5,Je.d),Ia(6,hn.p),Ia(7,Zs.c_)],Tf);class aS{constructor(e,t){this.value=e,this.foundInEditor=t}}class lS extends Ve.x1{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{value:(0,le.NC)("showOrFocusStandaloneColorPicker","Show or Focus Standalone Color Picker"),mnemonicTitle:(0,le.NC)({key:"mishowOrFocusStandaloneColorPicker",comment:["&& denotes a mnemonic"]},"&&Show or Focus Standalone Color Picker"),original:"Show or Focus Standalone Color Picker"},precondition:void 0,menu:[{id:mt.eH.CommandPalette}]})}runEditorCommand(e,t){var i;(i=Ql.get(t))===null||i===void 0||i.showOrFocus()}}class dS extends Ve.R6{constructor(){super({id:"editor.action.hideColorPicker",label:(0,le.NC)({key:"hideColorPicker",comment:["Action that hides the color picker"]},"Hide the Color Picker"),alias:"Hide the Color Picker",precondition:Pt.u.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100}})}run(e,t){var i;(i=Ql.get(t))===null||i===void 0||i.hide()}}class cS extends Ve.R6{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:(0,le.NC)({key:"insertColorWithStandaloneColorPicker",comment:["Action that inserts color with standalone color picker"]},"Insert Color with Standalone Color Picker"),alias:"Insert Color with Standalone Color Picker",precondition:Pt.u.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100}})}run(e,t){var i;(i=Ql.get(t))===null||i===void 0||i.insertColor()}}(0,Ve.Qr)(dS),(0,Ve.Qr)(cS),(0,mt.r1)(lS);var uo=c(62336);class Jl{constructor(e,t,i){this.languageConfigurationService=i,this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,i){if(i<0)return!1;const s=t.length,o=e.length;if(i+s>o)return!1;for(let d=0;d<s;d++){const p=e.charCodeAt(i+d),U=t.charCodeAt(d);if(p!==U&&!(p>=65&&p<=90&&p+32===U)&&!(U>=65&&U<=90&&U+32===p))return!1}return!0}_createOperationsForBlockComment(e,t,i,s,o,d){const p=e.startLineNumber,U=e.startColumn,te=e.endLineNumber,de=e.endColumn,be=o.getLineContent(p),Ie=o.getLineContent(te);let $e=be.lastIndexOf(t,U-1+t.length),qe=Ie.indexOf(i,de-1-i.length);if($e!==-1&&qe!==-1)if(p===te)be.substring($e+t.length,qe).indexOf(i)>=0&&($e=-1,qe=-1);else{const Zt=be.substring($e+t.length),Kt=Ie.substring(0,qe);(Zt.indexOf(i)>=0||Kt.indexOf(i)>=0)&&($e=-1,qe=-1)}let ft;$e!==-1&&qe!==-1?(s&&$e+t.length<be.length&&be.charCodeAt($e+t.length)===32&&(t=t+" "),s&&qe>0&&Ie.charCodeAt(qe-1)===32&&(i=" "+i,qe-=1),ft=Jl._createRemoveBlockCommentOperations(new it.e(p,$e+t.length+1,te,qe+1),t,i)):(ft=Jl._createAddBlockCommentOperations(e,t,i,this._insertSpace),this._usedEndToken=ft.length===1?i:null);for(const Zt of ft)d.addTrackedEditOperation(Zt.range,Zt.text)}static _createRemoveBlockCommentOperations(e,t,i){const s=[];return it.e.isEmpty(e)?s.push(uo.h.delete(new it.e(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+i.length))):(s.push(uo.h.delete(new it.e(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),s.push(uo.h.delete(new it.e(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+i.length)))),s}static _createAddBlockCommentOperations(e,t,i,s){const o=[];return it.e.isEmpty(e)?o.push(uo.h.replace(new it.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+i)):(o.push(uo.h.insert(new bt.L(e.startLineNumber,e.startColumn),t+(s?" ":""))),o.push(uo.h.insert(new bt.L(e.endLineNumber,e.endColumn),(s?" ":"")+i))),o}getEditOperations(e,t){const i=this._selection.startLineNumber,s=this._selection.startColumn;e.tokenization.tokenizeIfCheap(i);const o=e.getLanguageIdAtPosition(i,s),d=this.languageConfigurationService.getLanguageConfiguration(o).comments;!d||!d.blockCommentStartToken||!d.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,d.blockCommentStartToken,d.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){const i=t.getInverseEditOperations();if(i.length===2){const s=i[0],o=i[1];return new en.Y(s.range.endLineNumber,s.range.endColumn,o.range.startLineNumber,o.range.startColumn)}else{const s=i[0].range,o=this._usedEndToken?-this._usedEndToken.length-1:0;return new en.Y(s.endLineNumber,s.endColumn+o,s.endLineNumber,s.endColumn+o)}}}class vl{constructor(e,t,i,s,o,d,p){this.languageConfigurationService=e,this._selection=t,this._tabSize=i,this._type=s,this._insertSpace=o,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=d,this._ignoreFirstLine=p||!1}static _gatherPreflightCommentStrings(e,t,i,s){e.tokenization.tokenizeIfCheap(t);const o=e.getLanguageIdAtPosition(t,1),d=s.getLanguageConfiguration(o).comments,p=d?d.lineCommentToken:null;if(!p)return null;const U=[];for(let te=0,de=i-t+1;te<de;te++)U[te]={ignore:!1,commentStr:p,commentStrOffset:0,commentStrLength:p.length};return U}static _analyzeLines(e,t,i,s,o,d,p,U){let te=!0,de;e===0?de=!0:e===1?de=!1:de=!0;for(let be=0,Ie=s.length;be<Ie;be++){const $e=s[be],qe=o+be;if(qe===o&&p){$e.ignore=!0;continue}const ft=i.getLineContent(qe),Zt=Zi.LC(ft);if(Zt===-1){$e.ignore=d,$e.commentStrOffset=ft.length;continue}if(te=!1,$e.ignore=!1,$e.commentStrOffset=Zt,de&&!Jl._haystackHasNeedleAtOffset(ft,$e.commentStr,Zt)&&(e===0?de=!1:e===1||($e.ignore=!0)),de&&t){const Kt=Zt+$e.commentStrLength;Kt<ft.length&&ft.charCodeAt(Kt)===32&&($e.commentStrLength+=1)}}if(e===0&&te){de=!1;for(let be=0,Ie=s.length;be<Ie;be++)s[be].ignore=!1}return{supported:!0,shouldRemoveComments:de,lines:s}}static _gatherPreflightData(e,t,i,s,o,d,p,U){const te=vl._gatherPreflightCommentStrings(i,s,o,U);return te===null?{supported:!1}:vl._analyzeLines(e,t,i,te,s,d,p,U)}_executeLineComments(e,t,i,s){let o;i.shouldRemoveComments?o=vl._createRemoveLineCommentsOperations(i.lines,s.startLineNumber):(vl._normalizeInsertionPoint(e,i.lines,s.startLineNumber,this._tabSize),o=this._createAddLineCommentsOperations(i.lines,s.startLineNumber));const d=new bt.L(s.positionLineNumber,s.positionColumn);for(let p=0,U=o.length;p<U;p++)t.addEditOperation(o[p].range,o[p].text),it.e.isEmpty(o[p].range)&&it.e.getStartPosition(o[p].range).equals(d)&&e.getLineContent(d.lineNumber).length+1===d.column&&(this._deltaColumn=(o[p].text||"").length);this._selectionId=t.trackSelection(s)}_attemptRemoveBlockComment(e,t,i,s){let o=t.startLineNumber,d=t.endLineNumber;const p=s.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn);let U=e.getLineContent(o).lastIndexOf(i,p-1),te=e.getLineContent(d).indexOf(s,t.endColumn-1-i.length);return U!==-1&&te===-1&&(te=e.getLineContent(o).indexOf(s,U+i.length),d=o),U===-1&&te!==-1&&(U=e.getLineContent(d).lastIndexOf(i,te),o=d),t.isEmpty()&&(U===-1||te===-1)&&(U=e.getLineContent(o).indexOf(i),U!==-1&&(te=e.getLineContent(o).indexOf(s,U+i.length))),U!==-1&&e.getLineContent(o).charCodeAt(U+i.length)===32&&(i+=" "),te!==-1&&e.getLineContent(d).charCodeAt(te-1)===32&&(s=" "+s,te-=1),U!==-1&&te!==-1?Jl._createRemoveBlockCommentOperations(new it.e(o,U+i.length+1,d,te+1),i,s):null}_executeBlockComment(e,t,i){e.tokenization.tokenizeIfCheap(i.startLineNumber);const s=e.getLanguageIdAtPosition(i.startLineNumber,1),o=this.languageConfigurationService.getLanguageConfiguration(s).comments;if(!o||!o.blockCommentStartToken||!o.blockCommentEndToken)return;const d=o.blockCommentStartToken,p=o.blockCommentEndToken;let U=this._attemptRemoveBlockComment(e,i,d,p);if(!U){if(i.isEmpty()){const te=e.getLineContent(i.startLineNumber);let de=Zi.LC(te);de===-1&&(de=te.length),U=Jl._createAddBlockCommentOperations(new it.e(i.startLineNumber,de+1,i.startLineNumber,te.length+1),d,p,this._insertSpace)}else U=Jl._createAddBlockCommentOperations(new it.e(i.startLineNumber,e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),d,p,this._insertSpace);U.length===1&&(this._deltaColumn=d.length+1)}this._selectionId=t.trackSelection(i);for(const te of U)t.addEditOperation(te.range,te.text)}getEditOperations(e,t){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine){t.addEditOperation(new it.e(i.startLineNumber,e.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===e.getLineCount()?"":`
`),this._selectionId=t.trackSelection(i);return}i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const s=vl._gatherPreflightData(this._type,this._insertSpace,e,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return s.supported?this._executeLineComments(e,t,s,i):this._executeBlockComment(e,t,i)}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new en.Y(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){const i=[];for(let s=0,o=e.length;s<o;s++){const d=e[s];d.ignore||i.push(uo.h.delete(new it.e(t+s,d.commentStrOffset+1,t+s,d.commentStrOffset+d.commentStrLength+1)))}return i}_createAddLineCommentsOperations(e,t){const i=[],s=this._insertSpace?" ":"";for(let o=0,d=e.length;o<d;o++){const p=e[o];p.ignore||i.push(uo.h.insert(new bt.L(t+o,p.commentStrOffset+1),p.commentStr+s))}return i}static nextVisibleColumn(e,t,i,s){return i?e+(t-e%t):e+s}static _normalizeInsertionPoint(e,t,i,s){let o=1073741824,d,p;for(let U=0,te=t.length;U<te;U++){if(t[U].ignore)continue;const de=e.getLineContent(i+U);let be=0;for(let Ie=0,$e=t[U].commentStrOffset;be<o&&Ie<$e;Ie++)be=vl.nextVisibleColumn(be,s,de.charCodeAt(Ie)===9,1);be<o&&(o=be)}o=Math.floor(o/s)*s;for(let U=0,te=t.length;U<te;U++){if(t[U].ignore)continue;const de=e.getLineContent(i+U);let be=0;for(d=0,p=t[U].commentStrOffset;be<o&&d<p;d++)be=vl.nextVisibleColumn(be,s,de.charCodeAt(d)===9,1);be>o?t[U].commentStrOffset=d-1:t[U].commentStrOffset=d}}}class Rm extends Ve.R6{constructor(e,t){super(t),this._type=e}run(e,t){const i=e.get(Zs.c_);if(!t.hasModel())return;const s=t.getModel(),o=[],d=s.getOptions(),p=t.getOption(23),U=t.getSelections().map((de,be)=>({selection:de,index:be,ignoreFirstLine:!1}));U.sort((de,be)=>it.e.compareRangesUsingStarts(de.selection,be.selection));let te=U[0];for(let de=1;de<U.length;de++){const be=U[de];te.selection.endLineNumber===be.selection.startLineNumber&&(te.index<be.index?be.ignoreFirstLine=!0:(te.ignoreFirstLine=!0,te=be))}for(const de of U)o.push(new vl(i,de.selection,d.tabSize,this._type,p.insertSpace,p.ignoreEmptyLines,de.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class uS extends Rm{constructor(){super(0,{id:"editor.action.commentLine",label:le.NC("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:mt.eH.MenubarEditMenu,group:"5_insert",title:le.NC({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}class hS extends Rm{constructor(){super(1,{id:"editor.action.addCommentLine",label:le.NC("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:(0,kn.gx)(2089,2081),weight:100}})}}class fS extends Rm{constructor(){super(2,{id:"editor.action.removeCommentLine",label:le.NC("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:(0,kn.gx)(2089,2099),weight:100}})}}class gS extends Ve.R6{constructor(){super({id:"editor.action.blockComment",label:le.NC("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:mt.eH.MenubarEditMenu,group:"5_insert",title:le.NC({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){const i=e.get(Zs.c_);if(!t.hasModel())return;const s=t.getOption(23),o=[],d=t.getSelections();for(const p of d)o.push(new Jl(p,s.insertSpace,i));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}(0,Ve.Qr)(uS),(0,Ve.Qr)(hS),(0,Ve.Qr)(fS),(0,Ve.Qr)(gS);var la=c(94486),mS=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Ud=function(g,e){return function(t,i){e(t,i,g)}},Nm;let kc=Nm=class{static get(e){return e.getContribution(Nm.ID)}constructor(e,t,i,s,o,d,p,U){this._contextMenuService=t,this._contextViewService=i,this._contextKeyService=s,this._keybindingService=o,this._menuService=d,this._configurationService=p,this._workspaceContextService=U,this._toDispose=new Ue.SL,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu(te=>this._onContextMenu(te))),this._toDispose.add(this._editor.onMouseWheel(te=>{if(this._contextMenuIsBeingShownCount>0){const de=this._contextViewService.getContextViewElement(),be=te.srcElement;be.shadowRoot&&De.Ay(de)===be.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(te=>{this._editor.getOption(24)&&te.keyCode===58&&(te.preventDefault(),te.stopPropagation(),this.showContextMenu())}))}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(24)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);return}if(e.target.type===12||e.target.type===6&&e.target.detail.injectedText)return;if(e.event.preventDefault(),e.event.stopPropagation(),e.target.type===11)return this._showScrollbarContextMenu(e.event);if(e.target.type!==6&&e.target.type!==7&&e.target.type!==1)return;if(this._editor.focus(),e.target.position){let i=!1;for(const s of this._editor.getSelections())if(s.containsPosition(e.target.position)){i=!0;break}i||this._editor.setPosition(e.target.position)}let t=null;e.target.type!==1&&(t=e.event),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(24)||!this._editor.hasModel())return;const t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?mt.eH.SimpleEditorContext:mt.eH.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){const i=[],s=this._menuService.createMenu(t,this._contextKeyService),o=s.getActions({arg:e.uri});s.dispose();for(const d of o){const[,p]=d;let U=0;for(const te of p)if(te instanceof mt.NZ){const de=this._getMenuActions(e,te.item.submenu);de.length>0&&(i.push(new Us.wY(te.id,te.label,de)),U++)}else i.push(te),U++;U&&i.push(new Us.Z0)}return i.length&&i.pop(),i}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;const i=this._editor.getOption(60);this._editor.updateOptions({hover:{enabled:!1}});let s=t;if(!s){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const d=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),p=De.i(this._editor.getDomNode()),U=p.left+d.left,te=p.top+d.top+d.height;s={x:U,y:te}}const o=this._editor.getOption(126)&&!Ut.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:o?this._editor.getDomNode():void 0,getAnchor:()=>s,getActions:()=>e,getActionViewItem:d=>{const p=this._keybindingFor(d);if(p)return new Fo.gU(d,d,{label:!0,keybinding:p.getLabel(),isMenu:!0});const U=d;return typeof U.getActionViewItem=="function"?U.getActionViewItem():new Fo.gU(d,d,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:d=>this._keybindingFor(d),onHide:d=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:i})}})}_showScrollbarContextMenu(e){if(!this._editor.hasModel()||(0,la.x)(this._workspaceContextService.getWorkspace()))return;const t=this._editor.getOption(72);let i=0;const s=te=>({id:`menu-action-${++i}`,label:te.label,tooltip:"",class:void 0,enabled:typeof te.enabled=="undefined"?!0:te.enabled,checked:te.checked,run:te.run}),o=(te,de)=>new Us.wY(`menu-action-${++i}`,te,de,void 0),d=(te,de,be,Ie,$e)=>{if(!de)return s({label:te,enabled:de,run:()=>{}});const qe=Zt=>()=>{this._configurationService.updateValue(be,Zt)},ft=[];for(const Zt of $e)ft.push(s({label:Zt.label,checked:Ie===Zt.value,run:qe(Zt.value)}));return o(te,ft)},p=[];p.push(s({label:le.NC("context.minimap.minimap","Minimap"),checked:t.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!t.enabled)}})),p.push(new Us.Z0),p.push(s({label:le.NC("context.minimap.renderCharacters","Render Characters"),enabled:t.enabled,checked:t.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!t.renderCharacters)}})),p.push(d(le.NC("context.minimap.size","Vertical size"),t.enabled,"editor.minimap.size",t.size,[{label:le.NC("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:le.NC("context.minimap.size.fill","Fill"),value:"fill"},{label:le.NC("context.minimap.size.fit","Fit"),value:"fit"}])),p.push(d(le.NC("context.minimap.slider","Slider"),t.enabled,"editor.minimap.showSlider",t.showSlider,[{label:le.NC("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:le.NC("context.minimap.slider.always","Always"),value:"always"}]));const U=this._editor.getOption(126)&&!Ut.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:U?this._editor.getDomNode():void 0,getAnchor:()=>e,getActions:()=>p,onHide:te=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};kc.ID="editor.contrib.contextmenu",kc=Nm=mS([Ud(1,fn.i),Ud(2,fn.u),Ud(3,Ot.i6),Ud(4,Je.d),Ud(5,mt.co),Ud(6,bi.Ui),Ud(7,la.ec)],kc);class pS extends Ve.R6{constructor(){super({id:"editor.action.showContextMenu",label:le.NC("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:Pt.u.textInputFocus,primary:1092,weight:100}})}run(e,t){var i;(i=kc.get(t))===null||i===void 0||i.showContextMenu()}}(0,Ve._K)(kc.ID,kc,2),(0,Ve.Qr)(pS);class Im{constructor(e){this.selections=e}equals(e){const t=this.selections.length,i=e.selections.length;if(t!==i)return!1;for(let s=0;s<t;s++)if(!this.selections[s].equalsSelection(e.selections[s]))return!1;return!0}}class Am{constructor(e,t,i){this.cursorState=e,this.scrollTop=t,this.scrollLeft=i}}class Vd extends Ue.JT{static get(e){return e.getContribution(Vd.ID)}constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;const i=new Im(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(i)||(this._undoStack.push(new Am(i,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new Am(new Im(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new Am(new Im(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}Vd.ID="editor.contrib.cursorUndoRedoController";class _S extends Ve.R6{constructor(){super({id:"cursorUndo",label:le.NC("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:Pt.u.textInputFocus,primary:2099,weight:100}})}run(e,t,i){var s;(s=Vd.get(t))===null||s===void 0||s.cursorUndo()}}class CS extends Ve.R6{constructor(){super({id:"cursorRedo",label:le.NC("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,i){var s;(s=Vd.get(t))===null||s===void 0||s.cursorRedo()}}(0,Ve._K)(Vd.ID,Vd,0),(0,Ve.Qr)(_S),(0,Ve.Qr)(CS);class ES{constructor(e,t,i){this.selection=e,this.targetPosition=t,this.copy=i,this.targetSelection=null}getEditOperations(e,t){const i=e.getValueInRange(this.selection);if(this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new it.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new en.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new en.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new en.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new en.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new en.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(e,t){return this.targetSelection}}function Fc(g){return Ut.dz?g.altKey:g.ctrlKey}class Tl extends Ue.JT{constructor(e){super(),this._editor=e,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){!this._editor.getOption(35)||this._editor.getOption(22)||(Fc(e)&&(this._modifierPressed=!0),this._mouseDown&&Fc(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){!this._editor.getOption(35)||this._editor.getOption(22)||(Fc(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===Tl.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){const t=e.target;if(this._dragSelection===null){const s=(this._editor.getSelections()||[]).filter(o=>t.position&&o.containsPosition(t.position));if(s.length===1)this._dragSelection=s[0];else return}Fc(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){const t=new bt.L(e.target.position.lineNumber,e.target.position.column);if(this._dragSelection===null){let i=null;if(e.event.shiftKey){const s=this._editor.getSelection();if(s){const{selectionStartLineNumber:o,selectionStartColumn:d}=s;i=[new en.Y(o,d,t.lineNumber,t.column)]}}else i=(this._editor.getSelections()||[]).map(s=>s.containsPosition(t)?new en.Y(t.lineNumber,t.column,t.lineNumber,t.column):s);this._editor.setSelections(i||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(Fc(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(Tl.ID,new ES(this._dragSelection,t,Fc(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){this._dndDecorationIds.set([{range:new it.e(e.lineNumber,e.column,e.lineNumber,e.column),options:Tl._DECORATION_OPTIONS}]),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(e){return e.type===6||e.type===7}_hitMargin(e){return e.type===2||e.type===3||e.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}Tl.ID="editor.contrib.dragAndDrop",Tl.TRIGGER_KEY_VALUE=Ut.dz?6:5,Tl._DECORATION_OPTIONS=_i.qx.register({description:"dnd-target",className:"dnd-target"}),(0,Ve._K)(Tl.ID,Tl,2);const bf=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let g;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?g=crypto.getRandomValues.bind(crypto):g=function(i){for(let s=0;s<i.length;s++)i[s]=Math.floor(Math.random()*256);return i};const e=new Uint8Array(16),t=[];for(let i=0;i<256;i++)t.push(i.toString(16).padStart(2,"0"));return function(){g(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let s=0,o="";return o+=t[e[s++]],o+=t[e[s++]],o+=t[e[s++]],o+=t[e[s++]],o+="-",o+=t[e[s++]],o+=t[e[s++]],o+="-",o+=t[e[s++]],o+=t[e[s++]],o+="-",o+=t[e[s++]],o+=t[e[s++]],o+="-",o+=t[e[s++]],o+=t[e[s++]],o+=t[e[s++]],o+=t[e[s++]],o+=t[e[s++]],o+=t[e[s++]],o}}();function Dm(g){return{asString:()=>At(this,null,function*(){return g}),asFile:()=>{},value:typeof g=="string"?g:void 0}}function SS(g,e,t){const i={id:bf(),name:g,uri:e,data:t};return{asString:()=>At(this,null,function*(){return""}),asFile:()=>i,value:void 0}}class q_{constructor(){this._entries=new Map}get size(){let e=0;for(const t of this._entries)e++;return e}has(e){return this._entries.has(this.toKey(e))}matches(e){const t=[...this._entries.keys()];return La.$.some(this,([i,s])=>s.asFile())&&t.push("files"),tC(Lf(e),t)}get(e){var t;return(t=this._entries.get(this.toKey(e)))===null||t===void 0?void 0:t[0]}append(e,t){const i=this._entries.get(e);i?i.push(t):this._entries.set(this.toKey(e),[t])}replace(e,t){this._entries.set(this.toKey(e),[t])}delete(e){this._entries.delete(this.toKey(e))}*[Symbol.iterator](){for(const[e,t]of this._entries)for(const i of t)yield[e,i]}toKey(e){return Lf(e)}}function Lf(g){return g.toLowerCase()}function eC(g,e){return tC(Lf(g),e.map(Lf))}function tC(g,e){if(g==="*/*")return e.length>0;if(e.includes(g))return!0;const t=g.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!t)return!1;const[i,s,o]=t;return o==="*"?e.some(d=>d.startsWith(s+"/")):!1}const Rf=Object.freeze({create:g=>(0,cn.EB)(g.map(e=>e.toString())).join(`\r
`),split:g=>g.split(`\r
`),parse:g=>Rf.split(g).filter(e=>!e.startsWith("#"))});var nr=c(98584),wm=c(82038);const iC={EDITORS:"CodeEditors",FILES:"CodeFiles"};class vS{}const TS={DragAndDropContribution:"workbench.contributions.dragAndDrop"};tr.B.add(TS.DragAndDropContribution,new vS);class Hu{constructor(){}static getInstance(){return Hu.INSTANCE}hasData(e){return e&&e===this.proto}getData(e){if(this.hasData(e))return this.data}}Hu.INSTANCE=new Hu;function nC(g){const e=new q_;for(const t of g.items){const i=t.type;if(t.kind==="string"){const s=new Promise(o=>t.getAsString(o));e.append(i,Dm(s))}else if(t.kind==="file"){const s=t.getAsFile();s&&e.append(i,bS(s))}}return e}function bS(g){const e=g.path?Xn.o.parse(g.path):void 0;return SS(g.name,e,()=>At(this,null,function*(){return new Uint8Array(yield g.arrayBuffer())}))}const LS=Object.freeze([iC.EDITORS,iC.FILES,wm.g.RESOURCES,wm.g.INTERNAL_URI_LIST]);function sC(g,e=!1){const t=nC(g),i=t.get(wm.g.INTERNAL_URI_LIST);if(i)t.replace(nr.v.uriList,i);else if(e||!t.has(nr.v.uriList)){const s=[];for(const o of g.items){const d=o.getAsFile();if(d){const p=d.path;try{p?s.push(Xn.o.file(p).toString()):s.push(Xn.o.parse(d.name,!0).toString())}catch(U){}}}s.length&&t.replace(nr.v.uriList,Dm(Rf.create(s)))}for(const s of LS)t.delete(s);return t}function RS(g,e,t){var i,s;return{edits:[...e.map(o=>new Is.Gl(g,typeof t.insertText=="string"?{range:o,text:t.insertText,insertAsSnippet:!1}:{range:o,text:t.insertText.snippet,insertAsSnippet:!0})),...(s=(i=t.additionalEdit)===null||i===void 0?void 0:i.edits)!==null&&s!==void 0?s:[]]}}function oC(g){var e;function t(p,U){return"providerId"in p&&p.providerId===U.providerId||"mimeType"in p&&p.mimeType===U.handledMimeType}const i=new Map;for(const p of g)for(const U of(e=p.yieldTo)!==null&&e!==void 0?e:[])for(const te of g)if(te!==p&&t(U,te)){let de=i.get(p);de||(de=[],i.set(p,de)),de.push(te)}if(!i.size)return Array.from(g);const s=new Set,o=[];function d(p){if(!p.length)return[];const U=p[0];if(o.includes(U))return console.warn(`Yield to cycle detected for ${U.providerId}`),p;if(s.has(U))return d(p.slice(1));let te=[];const de=i.get(U);return de&&(o.push(U),te=d(de),o.pop()),s.add(U),[...te,U,...d(p.slice(1))]}return d(Array.from(g))}var NS=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},IS=function(g,e){return function(t,i){e(t,i,g)}};const AS=_i.qx.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:Zi.B4,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});class Nf extends Ue.JT{constructor(e,t,i,s,o){super(),this.typeId=e,this.editor=t,this.range=i,this.delegate=o,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(s),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(e){this.domNode=De.$(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=e;const t=De.$("span.icon");this.domNode.append(t),t.classList.add(...Ds.k.asClassNameArray(di.l.loading),"codicon-modifier-spin");const i=()=>{const s=this.editor.getOption(66);this.domNode.style.height=`${s}px`,this.domNode.style.width=`${Math.ceil(.8*s)}px`};i(),this._register(this.editor.onDidChangeConfiguration(s=>{(s.hasChanged(52)||s.hasChanged(66))&&i()})),this._register(De.nm(this.domNode,De.tw.CLICK,s=>{this.delegate.cancel()}))}getId(){return Nf.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}Nf.baseId="editor.widget.inlineProgressWidget";let If=class extends Ue.JT{constructor(e,t,i){super(),this.id=e,this._editor=t,this._instantiationService=i,this._showDelay=500,this._showPromise=this._register(new Ue.XK),this._currentWidget=new Ue.XK,this._operationIdPool=0,this._currentDecorations=t.createDecorationsCollection()}showWhile(e,t,i){return At(this,null,function*(){const s=this._operationIdPool++;this._currentOperation=s,this.clear(),this._showPromise.value=(0,Ke.Vg)(()=>{const o=it.e.fromPositions(e);this._currentDecorations.set([{range:o,options:AS}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(Nf,this.id,this._editor,o,t,i))},this._showDelay);try{return yield i}finally{this._currentOperation===s&&(this.clear(),this._currentOperation=void 0)}})}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};If=NS([IS(2,Mn.TG)],If);var DS=c(84632),rC=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Uu=function(g,e){return function(t,i){e(t,i,g)}},ym;let Af=ym=class extends Ue.JT{constructor(e,t,i,s,o,d,p,U,te,de){super(),this.typeId=e,this.editor=t,this.showCommand=s,this.range=o,this.edits=d,this.onSelectNewEdit=p,this._contextMenuService=U,this._keybindingService=de,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=i.bindTo(te),this.visibleContext.set(!0),this._register((0,Ue.OF)(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register((0,Ue.OF)(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(be=>{o.containsPosition(be.position)||this.dispose()})),this._register(Ln.ju.runAndSubscribe(de.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){var e;const t=(e=this._keybindingService.lookupKeybinding(this.showCommand.id))===null||e===void 0?void 0:e.getLabel();this.button.element.title=this.showCommand.label+(t?` (${t})`:"")}create(){this.domNode=De.$(".post-edit-widget"),this.button=this._register(new DS.z(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(De.nm(this.domNode,De.tw.CLICK,()=>this.showSelector()))}getId(){return ym.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const e=De.i(this.button.element);return{x:e.left+e.width,y:e.top+e.height}},getActions:()=>this.edits.allEdits.map((e,t)=>(0,Us.xw)({id:"",label:e.label,checked:t===this.edits.activeEditIndex,run:()=>{if(t!==this.edits.activeEditIndex)return this.onSelectNewEdit(t)}}))})}};Af.baseId="editor.widget.postEditWidget",Af=ym=rC([Uu(7,fn.i),Uu(8,Ot.i6),Uu(9,Je.d)],Af);let Df=class extends Ue.JT{constructor(e,t,i,s,o,d){super(),this._id=e,this._editor=t,this._visibleContext=i,this._showCommand=s,this._instantiationService=o,this._bulkEditService=d,this._currentWidget=this._register(new Ue.XK),this._register(Ln.ju.any(t.onDidChangeModel,t.onDidChangeModelContent)(()=>this.clear()))}applyEditAndShowIfNeeded(e,t,i,s){return At(this,null,function*(){var o,d;const p=this._editor.getModel();if(!p||!e.length)return;const U=t.allEdits[t.activeEditIndex];if(!U)return;let te=[];(typeof U.insertText=="string"?U.insertText==="":U.insertText.snippet==="")?te=[]:te=e.map(Zt=>new Is.Gl(p.uri,typeof U.insertText=="string"?{range:Zt,text:U.insertText,insertAsSnippet:!1}:{range:Zt,text:U.insertText.snippet,insertAsSnippet:!0}));const be={edits:[...te,...(d=(o=U.additionalEdit)===null||o===void 0?void 0:o.edits)!==null&&d!==void 0?d:[]]},Ie=e[0],$e=p.deltaDecorations([],[{range:Ie,options:{description:"paste-line-suffix",stickiness:0}}]);let qe,ft;try{qe=yield this._bulkEditService.apply(be,{editor:this._editor,token:s}),ft=p.getDecorationRange($e[0])}finally{p.deltaDecorations($e,[])}i&&qe.isApplied&&t.allEdits.length>1&&this.show(ft!=null?ft:Ie,t,Zt=>At(this,null,function*(){const Kt=this._editor.getModel();Kt&&(yield Kt.undo(),this.applyEditAndShowIfNeeded(e,{activeEditIndex:Zt,allEdits:t.allEdits},i,s))}))})}show(e,t,i){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(Af,this._id,this._editor,this._visibleContext,this._showCommand,e,t,i))}clear(){this._currentWidget.clear()}tryShowSelector(){var e;(e=this._currentWidget.value)===null||e===void 0||e.showSelector()}};Df=rC([Uu(4,Mn.TG),Uu(5,Is.vu)],Df);var wS=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Bc=function(g,e){return function(t,i){e(t,i,g)}},Om;const aC="editor.changePasteType",lC=new Ot.uy("pasteWidgetVisible",!1,(0,le.NC)("pasteWidgetVisible","Whether the paste widget is showing")),Pm="application/vnd.code.copyMetadata";let Gd=Om=class extends Ue.JT{static get(e){return e.getContribution(Om.ID)}constructor(e,t,i,s,o,d,p){super(),this._bulkEditService=i,this._clipboardService=s,this._languageFeaturesService=o,this._quickInputService=d,this._progressService=p,this._editor=e;const U=e.getContainerDomNode();this._register((0,De.nm)(U,"copy",te=>this.handleCopy(te))),this._register((0,De.nm)(U,"cut",te=>this.handleCopy(te))),this._register((0,De.nm)(U,"paste",te=>this.handlePaste(te),!0)),this._pasteProgressManager=this._register(new If("pasteIntoEditor",e,t)),this._postPasteWidgetManager=this._register(t.createInstance(Df,"pasteIntoEditor",e,lC,{id:aC,label:(0,le.NC)("postPasteWidgetTitle","Show paste options...")}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(e){this._editor.focus();try{this._pasteAsActionContext={preferredId:e},(0,De.uP)().execCommand("paste")}finally{this._pasteAsActionContext=void 0}}isPasteAsEnabled(){return this._editor.getOption(84).enabled&&!this._editor.getOption(90)}handleCopy(e){var t,i;if(!this._editor.hasTextFocus()||(Ut.$L&&this._clipboardService.writeResources([]),!e.clipboardData||!this.isPasteAsEnabled()))return;const s=this._editor.getModel(),o=this._editor.getSelections();if(!s||!(o!=null&&o.length))return;const d=this._editor.getOption(37);let p=o;const U=o.length===1&&o[0].isEmpty();if(U){if(!d)return;p=[new it.e(p[0].startLineNumber,1,p[0].startLineNumber,1+s.getLineLength(p[0].startLineNumber))]}const te=(t=this._editor._getViewModel())===null||t===void 0?void 0:t.getPlainTextToCopy(o,d,Ut.ED),be={multicursorText:Array.isArray(te)?te:null,pasteOnNewLine:U,mode:null},Ie=this._languageFeaturesService.documentPasteEditProvider.ordered(s).filter(Kt=>!!Kt.prepareDocumentPaste);if(!Ie.length){this.setCopyMetadata(e.clipboardData,{defaultPastePayload:be});return}const $e=nC(e.clipboardData),qe=Ie.flatMap(Kt=>{var mi;return(mi=Kt.copyMimeTypes)!==null&&mi!==void 0?mi:[]}),ft=bf();this.setCopyMetadata(e.clipboardData,{id:ft,providerCopyMimeTypes:qe,defaultPastePayload:be});const Zt=(0,Ke.PG)(Kt=>At(this,null,function*(){const mi=(0,cn.kX)(yield Promise.all(Ie.map(ki=>At(this,null,function*(){try{return yield ki.prepareDocumentPaste(s,p,$e,Kt)}catch(Ui){console.error(Ui);return}}))));mi.reverse();for(const ki of mi)for(const[Ui,Hi]of ki)$e.replace(Ui,Hi);return $e}));(i=this._currentCopyOperation)===null||i===void 0||i.dataTransferPromise.cancel(),this._currentCopyOperation={handle:ft,dataTransferPromise:Zt}}handlePaste(e){return At(this,null,function*(){var t,i;if(!e.clipboardData||!this._editor.hasTextFocus())return;(t=this._currentPasteOperation)===null||t===void 0||t.cancel(),this._currentPasteOperation=void 0;const s=this._editor.getModel(),o=this._editor.getSelections();if(!(o!=null&&o.length)||!s||!this.isPasteAsEnabled())return;const d=this.fetchCopyMetadata(e),p=sC(e.clipboardData);p.delete(Pm);const U=[...e.clipboardData.types,...(i=d==null?void 0:d.providerCopyMimeTypes)!==null&&i!==void 0?i:[],nr.v.uriList],te=this._languageFeaturesService.documentPasteEditProvider.ordered(s).filter(de=>{var be;return(be=de.pasteMimeTypes)===null||be===void 0?void 0:be.some(Ie=>eC(Ie,U))});te.length&&(e.preventDefault(),e.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferredId,te,o,p,d):this.doPasteInline(te,o,p,d))})}doPasteInline(e,t,i,s){const o=(0,Ke.PG)(d=>At(this,null,function*(){const p=this._editor;if(!p.hasModel())return;const U=p.getModel(),te=new Rs.Dl(p,3,void 0,d);try{if(yield this.mergeInDataFromCopy(i,s,te.token),te.token.isCancellationRequested)return;const de=e.filter(Ie=>dC(Ie,i));if(!de.length||de.length===1&&de[0].id==="text"){yield this.applyDefaultPasteHandler(i,s,te.token);return}const be=yield this.getPasteEdits(de,i,U,t,te.token);if(te.token.isCancellationRequested)return;if(be.length===1&&be[0].providerId==="text"){yield this.applyDefaultPasteHandler(i,s,te.token);return}if(be.length){const Ie=p.getOption(84).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(t,{activeEditIndex:0,allEdits:be},Ie,te.token)}yield this.applyDefaultPasteHandler(i,s,te.token)}finally{te.dispose(),this._currentPasteOperation===o&&(this._currentPasteOperation=void 0)}}));this._pasteProgressManager.showWhile(t[0].getEndPosition(),(0,le.NC)("pasteIntoEditorProgress","Running paste handlers. Click to cancel"),o),this._currentPasteOperation=o}showPasteAsPick(e,t,i,s,o){const d=(0,Ke.PG)(p=>At(this,null,function*(){const U=this._editor;if(!U.hasModel())return;const te=U.getModel(),de=new Rs.Dl(U,3,void 0,p);try{if(yield this.mergeInDataFromCopy(s,o,de.token),de.token.isCancellationRequested)return;let be=t.filter(ft=>dC(ft,s));e&&(be=be.filter(ft=>ft.id===e));const Ie=yield this.getPasteEdits(be,s,te,i,de.token);if(de.token.isCancellationRequested||!Ie.length)return;let $e;if(e)$e=Ie.at(0);else{const ft=yield this._quickInputService.pick(Ie.map(Zt=>({label:Zt.label,description:Zt.providerId,detail:Zt.detail,edit:Zt})),{placeHolder:(0,le.NC)("pasteAsPickerPlaceholder","Select Paste Action")});$e=ft==null?void 0:ft.edit}if(!$e)return;const qe=RS(te.uri,i,$e);yield this._bulkEditService.apply(qe,{editor:this._editor})}finally{de.dispose(),this._currentPasteOperation===d&&(this._currentPasteOperation=void 0)}}));this._progressService.withProgress({location:10,title:(0,le.NC)("pasteAsProgress","Running paste handlers")},()=>d)}setCopyMetadata(e,t){e.setData(Pm,JSON.stringify(t))}fetchCopyMetadata(e){var t;if(!e.clipboardData)return;const i=e.clipboardData.getData(Pm);if(i)try{return JSON.parse(i)}catch(d){return}const[s,o]=Si.b6.getTextData(e.clipboardData);if(o)return{defaultPastePayload:{mode:o.mode,multicursorText:(t=o.multicursorText)!==null&&t!==void 0?t:null,pasteOnNewLine:!!o.isFromEmptySelection}}}mergeInDataFromCopy(e,t,i){return At(this,null,function*(){var s;if(t!=null&&t.id&&((s=this._currentCopyOperation)===null||s===void 0?void 0:s.handle)===t.id){const o=yield this._currentCopyOperation.dataTransferPromise;if(i.isCancellationRequested)return;for(const[d,p]of o)e.replace(d,p)}if(!e.has(nr.v.uriList)){const o=yield this._clipboardService.readResources();if(i.isCancellationRequested)return;o.length&&e.append(nr.v.uriList,Dm(Rf.create(o)))}})}getPasteEdits(e,t,i,s,o){return At(this,null,function*(){const d=yield(0,Ke.eP)(Promise.all(e.map(U=>At(this,null,function*(){var te;try{const de=yield(te=U.provideDocumentPasteEdits)===null||te===void 0?void 0:te.call(U,i,s,t,o);if(de)return sn(Di({},de),{providerId:U.id})}catch(de){console.error(de)}}))),o),p=(0,cn.kX)(d!=null?d:[]);return oC(p)})}applyDefaultPasteHandler(e,t,i){return At(this,null,function*(){var s,o,d;const p=(s=e.get(nr.v.text))!==null&&s!==void 0?s:e.get("text");if(!p)return;const U=yield p.asString();if(i.isCancellationRequested)return;const te={text:U,pasteOnNewLine:(o=t==null?void 0:t.defaultPastePayload.pasteOnNewLine)!==null&&o!==void 0?o:!1,multicursorText:(d=t==null?void 0:t.defaultPastePayload.multicursorText)!==null&&d!==void 0?d:null,mode:null};this._editor.trigger("keyboard","paste",te)})}};Gd.ID="editor.contrib.copyPasteActionController",Gd=Om=wS([Bc(1,Mn.TG),Bc(2,Is.vu),Bc(3,Vi.p),Bc(4,hn.p),Bc(5,oi.eJ),Bc(6,ls.R9)],Gd);function dC(g,e){var t;return!!(!((t=g.pasteMimeTypes)===null||t===void 0)&&t.some(i=>e.matches(i)))}var Mm=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Vu=function(g,e){return function(t,i){e(t,i,g)}};const xm=(0,le.NC)("builtIn","Built-in");class km{provideDocumentPasteEdits(e,t,i,s){return At(this,null,function*(){const o=yield this.getEdit(i,s);return o?{insertText:o.insertText,label:o.label,detail:o.detail,handledMimeType:o.handledMimeType,yieldTo:o.yieldTo}:void 0})}provideDocumentOnDropEdits(e,t,i,s){return At(this,null,function*(){const o=yield this.getEdit(i,s);return o?{insertText:o.insertText,label:o.label,handledMimeType:o.handledMimeType,yieldTo:o.yieldTo}:void 0})}}class cC extends km{constructor(){super(...arguments),this.id="text",this.dropMimeTypes=[nr.v.text],this.pasteMimeTypes=[nr.v.text]}getEdit(e,t){return At(this,null,function*(){const i=e.get(nr.v.text);if(!i||e.has(nr.v.uriList))return;const s=yield i.asString();return{handledMimeType:nr.v.text,label:(0,le.NC)("text.label","Insert Plain Text"),detail:xm,insertText:s}})}}class uC extends km{constructor(){super(...arguments),this.id="uri",this.dropMimeTypes=[nr.v.uriList],this.pasteMimeTypes=[nr.v.uriList]}getEdit(e,t){return At(this,null,function*(){const i=yield hC(e);if(!i.length||t.isCancellationRequested)return;let s=0;const o=i.map(({uri:p,originalText:U})=>p.scheme===br.lg.file?p.fsPath:(s++,U)).join(" ");let d;return s>0?d=i.length>1?(0,le.NC)("defaultDropProvider.uriList.uris","Insert Uris"):(0,le.NC)("defaultDropProvider.uriList.uri","Insert Uri"):d=i.length>1?(0,le.NC)("defaultDropProvider.uriList.paths","Insert Paths"):(0,le.NC)("defaultDropProvider.uriList.path","Insert Path"),{handledMimeType:nr.v.uriList,insertText:o,label:d,detail:xm}})}}let wf=class extends km{constructor(e){super(),this._workspaceContextService=e,this.id="relativePath",this.dropMimeTypes=[nr.v.uriList],this.pasteMimeTypes=[nr.v.uriList]}getEdit(e,t){return At(this,null,function*(){const i=yield hC(e);if(!i.length||t.isCancellationRequested)return;const s=(0,cn.kX)(i.map(({uri:o})=>{const d=this._workspaceContextService.getWorkspaceFolder(o);return d?(0,$s.lX)(d.uri,o):void 0}));if(s.length)return{handledMimeType:nr.v.uriList,insertText:s.join(" "),label:i.length>1?(0,le.NC)("defaultDropProvider.uriList.relativePaths","Insert Relative Paths"):(0,le.NC)("defaultDropProvider.uriList.relativePath","Insert Relative Path"),detail:xm}})}};wf=Mm([Vu(0,la.ec)],wf);function hC(g){return At(this,null,function*(){const e=g.get(nr.v.uriList);if(!e)return[];const t=yield e.asString(),i=[];for(const s of Rf.parse(t))try{i.push({uri:Xn.o.parse(s),originalText:s})}catch(o){}return i})}let Fm=class extends Ue.JT{constructor(e,t){super(),this._register(e.documentOnDropEditProvider.register("*",new cC)),this._register(e.documentOnDropEditProvider.register("*",new uC)),this._register(e.documentOnDropEditProvider.register("*",new wf(t)))}};Fm=Mm([Vu(0,hn.p),Vu(1,la.ec)],Fm);let Bm=class extends Ue.JT{constructor(e,t){super(),this._register(e.documentPasteEditProvider.register("*",new cC)),this._register(e.documentPasteEditProvider.register("*",new uC)),this._register(e.documentPasteEditProvider.register("*",new wf(t)))}};Bm=Mm([Vu(0,hn.p),Vu(1,la.ec)],Bm),(0,Ve._K)(Gd.ID,Gd,0),(0,zo.y)(Bm),(0,Ve.fK)(new class extends Ve._l{constructor(){super({id:aC,precondition:lC,kbOpts:{weight:100,primary:2137}})}runEditorCommand(g,e,t){var i;return(i=Gd.get(e))===null||i===void 0?void 0:i.changePasteType()}}),(0,Ve.Qr)(class extends Ve.R6{constructor(){super({id:"editor.action.pasteAs",label:le.NC("pasteAs","Paste As..."),alias:"Paste As...",precondition:void 0,metadata:{description:"Paste as",args:[{name:"args",schema:{type:"object",properties:{id:{type:"string",description:le.NC("pasteAs.id","The id of the paste edit to try applying. If not provided, the editor will show a picker.")}}}}]}})}run(g,e,t){var i;const s=typeof(t==null?void 0:t.id)=="string"?t.id:void 0;return(i=Gd.get(e))===null||i===void 0?void 0:i.pasteAs(s)}});class yS{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(e){if(e&&this._dragOperations.has(e)){const t=this._dragOperations.get(e);return this._dragOperations.delete(e),t}}}class fC{constructor(e){this.identifier=e}}const gC=(0,Mn.yh)("treeViewsDndService");(0,eo.z)(gC,yS,1);var OS=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},yf=function(g,e){return function(t,i){e(t,i,g)}},Wm;const mC="editor.experimental.dropIntoEditor.defaultProvider",pC="editor.changeDropType",_C=new Ot.uy("dropWidgetVisible",!1,(0,le.NC)("dropWidgetVisible","Whether the drop widget is showing"));let Wc=Wm=class extends Ue.JT{static get(e){return e.getContribution(Wm.ID)}constructor(e,t,i,s,o){super(),this._configService=i,this._languageFeaturesService=s,this._treeViewsDragAndDropService=o,this.treeItemsTransfer=Hu.getInstance(),this._dropProgressManager=this._register(t.createInstance(If,"dropIntoEditor",e)),this._postDropWidgetManager=this._register(t.createInstance(Df,"dropIntoEditor",e,_C,{id:pC,label:(0,le.NC)("postDropWidgetTitle","Show drop options...")})),this._register(e.onDropIntoEditor(d=>this.onDropIntoEditor(e,d.position,d.event)))}changeDropType(){this._postDropWidgetManager.tryShowSelector()}onDropIntoEditor(e,t,i){return At(this,null,function*(){var s;if(!i.dataTransfer||!e.hasModel())return;(s=this._currentOperation)===null||s===void 0||s.cancel(),e.focus(),e.setPosition(t);const o=(0,Ke.PG)(d=>At(this,null,function*(){const p=new Rs.Dl(e,1,void 0,d);try{const U=yield this.extractDataTransferData(i);if(U.size===0||p.token.isCancellationRequested)return;const te=e.getModel();if(!te)return;const de=this._languageFeaturesService.documentOnDropEditProvider.ordered(te).filter(Ie=>Ie.dropMimeTypes?Ie.dropMimeTypes.some($e=>U.matches($e)):!0),be=yield this.getDropEdits(de,te,t,U,p);if(p.token.isCancellationRequested)return;if(be.length){const Ie=this.getInitialActiveEditIndex(te,be),$e=e.getOption(36).showDropSelector==="afterDrop";yield this._postDropWidgetManager.applyEditAndShowIfNeeded([it.e.fromPositions(t)],{activeEditIndex:Ie,allEdits:be},$e,d)}}finally{p.dispose(),this._currentOperation===o&&(this._currentOperation=void 0)}}));this._dropProgressManager.showWhile(t,(0,le.NC)("dropIntoEditorProgress","Running drop handlers. Click to cancel"),o),this._currentOperation=o})}getDropEdits(e,t,i,s,o){return At(this,null,function*(){const d=yield(0,Ke.eP)(Promise.all(e.map(U=>At(this,null,function*(){try{const te=yield U.provideDocumentOnDropEdits(t,i,s,o.token);if(te)return sn(Di({},te),{providerId:U.id})}catch(te){console.error(te)}}))),o.token),p=(0,cn.kX)(d!=null?d:[]);return oC(p)})}getInitialActiveEditIndex(e,t){const i=this._configService.getValue(mC,{resource:e.uri});for(const[s,o]of Object.entries(i)){const d=t.findIndex(p=>o===p.providerId&&p.handledMimeType&&eC(s,[p.handledMimeType]));if(d>=0)return d}return 0}extractDataTransferData(e){return At(this,null,function*(){if(!e.dataTransfer)return new q_;const t=sC(e.dataTransfer);if(this.treeItemsTransfer.hasData(fC.prototype)){const i=this.treeItemsTransfer.getData(fC.prototype);if(Array.isArray(i))for(const s of i){const o=yield this._treeViewsDragAndDropService.removeDragOperationTransfer(s.identifier);if(o)for(const[d,p]of o)t.replace(d,p)}}return t})}};Wc.ID="editor.contrib.dropIntoEditorController",Wc=Wm=OS([yf(1,Mn.TG),yf(2,bi.Ui),yf(3,hn.p),yf(4,gC)],Wc),(0,Ve._K)(Wc.ID,Wc,2),(0,Ve.fK)(new class extends Ve._l{constructor(){super({id:pC,precondition:_C,kbOpts:{weight:100,primary:2137}})}runEditorCommand(g,e,t){var i;(i=Wc.get(e))===null||i===void 0||i.changeDropType()}}),(0,zo.y)(Fm),tr.B.as(Ea.IP.Configuration).registerConfiguration(sn(Di({},as.wk),{properties:{[mC]:{type:"object",scope:5,description:le.NC("defaultProviderDescription","Configures the default drop provider to use for content of a given mime type."),default:{},additionalProperties:{type:"string"}}}}));var CC=c(76901),Gu=c(99637),PS=c(82333);class lr{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const e=this._findScopeDecorationIds.map(t=>this._editor.getModel().getDecorationRange(t)).filter(t=>!!t);if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){const t=this._decorations.indexOf(e);return t>=0?t+1:1}getDecorationRangeAt(e){const t=e<this._decorations.length?this._decorations[e]:null;return t?this._editor.getModel().getDecorationRange(t):null}getCurrentMatchesPosition(e){const t=this._editor.getModel().getDecorationsInRange(e);for(const i of t){const s=i.options;if(s===lr._FIND_MATCH_DECORATION||s===lr._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(e){let t=null,i=0;if(e)for(let s=0,o=this._decorations.length;s<o;s++){const d=this._editor.getModel().getDecorationRange(this._decorations[s]);if(e.equalsRange(d)){t=this._decorations[s],i=s+1;break}}return(this._highlightedDecorationId!==null||t!==null)&&this._editor.changeDecorations(s=>{if(this._highlightedDecorationId!==null&&(s.changeDecorationOptions(this._highlightedDecorationId,lr._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),t!==null&&(this._highlightedDecorationId=t,s.changeDecorationOptions(this._highlightedDecorationId,lr._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(s.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),t!==null){let o=this._editor.getModel().getDecorationRange(t);if(o.startLineNumber!==o.endLineNumber&&o.endColumn===1){const d=o.endLineNumber-1,p=this._editor.getModel().getLineMaxColumn(d);o=new it.e(o.startLineNumber,o.startColumn,d,p)}this._rangeHighlightDecorationId=s.addDecoration(o,lr._RANGE_HIGHLIGHT_DECORATION)}}),i}set(e,t){this._editor.changeDecorations(i=>{let s=lr._FIND_MATCH_DECORATION;const o=[];if(e.length>1e3){s=lr._FIND_MATCH_NO_OVERVIEW_DECORATION;const p=this._editor.getModel().getLineCount(),te=this._editor.getLayoutInfo().height/p,de=Math.max(2,Math.ceil(3/te));let be=e[0].range.startLineNumber,Ie=e[0].range.endLineNumber;for(let $e=1,qe=e.length;$e<qe;$e++){const ft=e[$e].range;Ie+de>=ft.startLineNumber?ft.endLineNumber>Ie&&(Ie=ft.endLineNumber):(o.push({range:new it.e(be,1,Ie,1),options:lr._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),be=ft.startLineNumber,Ie=ft.endLineNumber)}o.push({range:new it.e(be,1,Ie,1),options:lr._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const d=new Array(e.length);for(let p=0,U=e.length;p<U;p++)d[p]={range:e[p].range,options:s};this._decorations=i.deltaDecorations(this._decorations,d),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,o),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(p=>i.removeDecoration(p)),this._findScopeDecorationIds=[]),t!=null&&t.length&&(this._findScopeDecorationIds=t.map(p=>i.addDecoration(p,lr._FIND_SCOPE_DECORATION)))})}matchBeforePosition(e){if(this._decorations.length===0)return null;for(let t=this._decorations.length-1;t>=0;t--){const i=this._decorations[t],s=this._editor.getModel().getDecorationRange(i);if(!(!s||s.endLineNumber>e.lineNumber)){if(s.endLineNumber<e.lineNumber)return s;if(!(s.endColumn>e.column))return s}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(this._decorations.length===0)return null;for(let t=0,i=this._decorations.length;t<i;t++){const s=this._decorations[t],o=this._editor.getModel().getDecorationRange(s);if(!(!o||o.startLineNumber<e.lineNumber)){if(o.startLineNumber>e.lineNumber)return o;if(!(o.startColumn<e.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}}lr._CURRENT_FIND_MATCH_DECORATION=_i.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,tt.EN)(Te.Fm_),position:fi.sh.Center},minimap:{color:(0,tt.EN)(Te.SUY),position:fi.F5.Inline}}),lr._FIND_MATCH_DECORATION=_i.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,tt.EN)(Te.Fm_),position:fi.sh.Center},minimap:{color:(0,tt.EN)(Te.SUY),position:fi.F5.Inline}}),lr._FIND_MATCH_NO_OVERVIEW_DECORATION=_i.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),lr._FIND_MATCH_ONLY_OVERVIEW_DECORATION=_i.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,tt.EN)(Te.Fm_),position:fi.sh.Center}}),lr._RANGE_HIGHLIGHT_DECORATION=_i.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),lr._FIND_SCOPE_DECORATION=_i.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class MS{constructor(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){const i=[];for(let d=0;d<this._ranges.length;d++)i.push({range:this._ranges[d],text:this._replaceStrings[d]});i.sort((d,p)=>it.e.compareRangesUsingStarts(d.range,p.range));const s=[];let o=i[0];for(let d=1;d<i.length;d++)o.range.endLineNumber===i[d].range.startLineNumber&&o.range.endColumn===i[d].range.startColumn?(o.range=o.range.plusRange(i[d].range),o.text=o.text+i[d].text):(s.push(o),o=i[d]);s.push(o);for(const d of s)t.addEditOperation(d.range,d.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}function EC(g,e){if(g&&g[0]!==""){const t=SC(g,e,"-"),i=SC(g,e,"_");return t&&!i?vC(g,e,"-"):!t&&i?vC(g,e,"_"):g[0].toUpperCase()===g[0]?e.toUpperCase():g[0].toLowerCase()===g[0]?e.toLowerCase():Zi.Kw(g[0][0])&&e.length>0?e[0].toUpperCase()+e.substr(1):g[0][0].toUpperCase()!==g[0][0]&&e.length>0?e[0].toLowerCase()+e.substr(1):e}else return e}function SC(g,e,t){return g[0].indexOf(t)!==-1&&e.indexOf(t)!==-1&&g[0].split(t).length===e.split(t).length}function vC(g,e,t){const i=e.split(t),s=g[0].split(t);let o="";return i.forEach((d,p)=>{o+=EC([s[p]],d)+t}),o.slice(0,-1)}class TC{constructor(e){this.staticValue=e,this.kind=0}}class xS{constructor(e){this.pieces=e,this.kind=1}}class Hc{static fromStaticValue(e){return new Hc([zd.staticValue(e)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(e){!e||e.length===0?this._state=new TC(""):e.length===1&&e[0].staticValue!==null?this._state=new TC(e[0].staticValue):this._state=new xS(e)}buildReplaceString(e,t){if(this._state.kind===0)return t?EC(e,this._state.staticValue):this._state.staticValue;let i="";for(let s=0,o=this._state.pieces.length;s<o;s++){const d=this._state.pieces[s];if(d.staticValue!==null){i+=d.staticValue;continue}let p=Hc._substitute(d.matchIndex,e);if(d.caseOps!==null&&d.caseOps.length>0){const U=[],te=d.caseOps.length;let de=0;for(let be=0,Ie=p.length;be<Ie;be++){if(de>=te){U.push(p.slice(be));break}switch(d.caseOps[de]){case"U":U.push(p[be].toUpperCase());break;case"u":U.push(p[be].toUpperCase()),de++;break;case"L":U.push(p[be].toLowerCase());break;case"l":U.push(p[be].toLowerCase()),de++;break;default:U.push(p[be])}}p=U.join("")}i+=p}return i}static _substitute(e,t){if(t===null)return"";if(e===0)return t[0];let i="";for(;e>0;){if(e<t.length)return(t[e]||"")+i;i=String(e%10)+i,e=Math.floor(e/10)}return"$"+i}}class zd{static staticValue(e){return new zd(e,-1,null)}static caseOps(e,t){return new zd(null,e,t)}constructor(e,t,i){this.staticValue=e,this.matchIndex=t,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}}class kS{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){e.length!==0&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,i){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=zd.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=zd.caseOps(e,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=zd.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new Hc(this._result)}}function FS(g){if(!g||g.length===0)return new Hc(null);const e=[],t=new kS(g);for(let i=0,s=g.length;i<s;i++){const o=g.charCodeAt(i);if(o===92){if(i++,i>=s)break;const d=g.charCodeAt(i);switch(d){case 92:t.emitUnchanged(i-1),t.emitStatic("\\",i+1);break;case 110:t.emitUnchanged(i-1),t.emitStatic(`
`,i+1);break;case 116:t.emitUnchanged(i-1),t.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:t.emitUnchanged(i-1),t.emitStatic("",i+1),e.push(String.fromCharCode(d));break}continue}if(o===36){if(i++,i>=s)break;const d=g.charCodeAt(i);if(d===36){t.emitUnchanged(i-1),t.emitStatic("$",i+1);continue}if(d===48||d===38){t.emitUnchanged(i-1),t.emitMatchIndex(0,i+1,e),e.length=0;continue}if(49<=d&&d<=57){let p=d-48;if(i+1<s){const U=g.charCodeAt(i+1);if(48<=U&&U<=57){i++,p=p*10+(U-48),t.emitUnchanged(i-2),t.emitMatchIndex(p,i+1,e),e.length=0;continue}}t.emitUnchanged(i-1),t.emitMatchIndex(p,i+1,e),e.length=0;continue}}}return t.finalize()}const bl=new Ot.uy("findWidgetVisible",!1),xN=bl.toNegated(),Of=new Ot.uy("findInputFocussed",!1),Hm=new Ot.uy("replaceInputFocussed",!1),Pf={primary:545,mac:{primary:2593}},Mf={primary:565,mac:{primary:2613}},xf={primary:560,mac:{primary:2608}},kf={primary:554,mac:{primary:2602}},Ff={primary:558,mac:{primary:2606}},Vs={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},Zl=19999,BS=240;class zu{constructor(e,t){this._toDispose=new Ue.SL,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new Ke._F,this._decorations=new lr(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new Ke.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(i=>{(i.reason===3||i.reason===5||i.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(i=>{this._ignoreModelContentChanged||(i.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(i=>this._onStateChanged(i))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,Ue.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){this._isDisposed||this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},BS)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let i=null;typeof t!="undefined"?t!==null&&(Array.isArray(t)?i=t:i=[t]):i=this._decorations.getFindScopes(),i!==null&&(i=i.map(p=>{if(p.startLineNumber!==p.endLineNumber){let U=p.endLineNumber;return p.endColumn===1&&(U=U-1),new it.e(p.startLineNumber,1,U,this._editor.getModel().getLineMaxColumn(U))}return p}));const s=this._findMatches(i,!1,Zl);this._decorations.set(s,i);const o=this._editor.getSelection();let d=this._decorations.getCurrentMatchesPosition(o);if(d===0&&s.length>0){const p=(0,Gu.J_)(s.map(U=>U.range),U=>it.e.compareRangesUsingStarts(U,o)>=0);d=p>0?p-1+1:d}this._state.changeMatchInfo(d,this._decorations.getCount(),void 0),e&&this._editor.getOption(41).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){const t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){const t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:i,column:s}=e;const o=this._editor.getModel();return t||s===1?(i===1?i=o.getLineCount():i--,s=o.getLineMaxColumn(i)):s--,new bt.L(i,s)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){const de=this._decorations.matchAfterPosition(e);de&&this._setCurrentFindMatch(de);return}if(this._decorations.getCount()<Zl){let de=this._decorations.matchBeforePosition(e);de&&de.isEmpty()&&de.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),de=this._decorations.matchBeforePosition(e)),de&&this._setCurrentFindMatch(de);return}if(this._cannotFind())return;const i=this._decorations.getFindScope(),s=zu._getSearchRange(this._editor.getModel(),i);s.getEndPosition().isBefore(e)&&(e=s.getEndPosition()),e.isBefore(s.getStartPosition())&&(e=s.getEndPosition());const{lineNumber:o,column:d}=e,p=this._editor.getModel();let U=new bt.L(o,d),te=p.findPreviousMatch(this._state.searchString,U,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,!1);if(te&&te.range.isEmpty()&&te.range.getStartPosition().equals(U)&&(U=this._prevSearchPosition(U),te=p.findPreviousMatch(this._state.searchString,U,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,!1)),!!te){if(!t&&!s.containsRange(te.range))return this._moveToPrevMatch(te.range.getStartPosition(),!0);this._setCurrentFindMatch(te.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){const t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:i,column:s}=e;const o=this._editor.getModel();return t||s===o.getLineMaxColumn(i)?(i===o.getLineCount()?i=1:i++,s=1):s++,new bt.L(i,s)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){const i=this._decorations.matchBeforePosition(e);i&&this._setCurrentFindMatch(i);return}if(this._decorations.getCount()<Zl){let i=this._decorations.matchAfterPosition(e);i&&i.isEmpty()&&i.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),i=this._decorations.matchAfterPosition(e)),i&&this._setCurrentFindMatch(i);return}const t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,i,s=!1){if(this._cannotFind())return null;const o=this._decorations.getFindScope(),d=zu._getSearchRange(this._editor.getModel(),o);d.getEndPosition().isBefore(e)&&(e=d.getStartPosition()),e.isBefore(d.getStartPosition())&&(e=d.getStartPosition());const{lineNumber:p,column:U}=e,te=this._editor.getModel();let de=new bt.L(p,U),be=te.findNextMatch(this._state.searchString,de,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,t);return i&&be&&be.range.isEmpty()&&be.range.getStartPosition().equals(de)&&(de=this._nextSearchPosition(de),be=te.findNextMatch(this._state.searchString,de,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,t)),be?!s&&!d.containsRange(be.range)?this._getNextMatch(be.range.getEndPosition(),t,i,!0):be:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(e){const t=this._decorations.getDecorationRangeAt(e);t&&this._setCurrentFindMatch(t)}moveToMatch(e){this._moveToMatch(e)}_getReplacePattern(){return this._state.isRegex?FS(this._state.replaceString):Hc.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const e=this._getReplacePattern(),t=this._editor.getSelection(),i=this._getNextMatch(t.getStartPosition(),!0,!1);if(i)if(t.equalsRange(i.range)){const s=e.buildReplaceString(i.matches,this._state.preserveCase),o=new ii.T4(t,s);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new bt.L(t.startLineNumber,t.startColumn+s.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}_findMatches(e,t,i){const s=(e||[null]).map(o=>zu._getSearchRange(this._editor.getModel(),o));return this._editor.getModel().findMatches(this._state.searchString,s,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,t,i)}replaceAll(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();e===null&&this._state.matchesCount>=Zl?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){const t=new PS.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null).parseSearchRequest();if(!t)return;let i=t.regex;if(!i.multiline){let be="mu";i.ignoreCase&&(be+="i"),i.global&&(be+="g"),i=new RegExp(i.source,be)}const s=this._editor.getModel(),o=s.getValue(1),d=s.getFullModelRange(),p=this._getReplacePattern();let U;const te=this._state.preserveCase;p.hasReplacementPatterns||te?U=o.replace(i,function(){return p.buildReplaceString(arguments,te)}):U=o.replace(i,p.buildReplaceString(null,te));const de=new ii.hP(d,U,this._editor.getSelection());this._executeEditorCommand("replaceAll",de)}_regularReplaceAll(e){const t=this._getReplacePattern(),i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),s=[];for(let d=0,p=i.length;d<p;d++)s[d]=t.buildReplaceString(i[d].matches,this._state.preserveCase);const o=new MS(this._editor.getSelection(),i.map(d=>d.range),s);this._executeEditorCommand("replaceAll",o)}selectAllMatches(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();let i=this._findMatches(e,!1,1073741824).map(o=>new en.Y(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn));const s=this._editor.getSelection();for(let o=0,d=i.length;o<d;o++)if(i[o].equalsRange(s)){i=[s].concat(i.slice(0,o)).concat(i.slice(o+1));break}this._editor.setSelections(i)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var Um=c(18195);class Bf extends m.${constructor(e,t,i){super(),this._hideSoon=this._register(new Ke.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const s={inputActiveOptionBorder:(0,Te.n_1)(Te.PRb),inputActiveOptionForeground:(0,Te.n_1)(Te.Pvw),inputActiveOptionBackground:(0,Te.n_1)(Te.XEs)};this.caseSensitive=this._register(new Um.rk(Di({appendTitle:this._keybindingLabelFor(Vs.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase},s))),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new Um.Qx(Di({appendTitle:this._keybindingLabelFor(Vs.ToggleWholeWordCommand),isChecked:this._state.wholeWord},s))),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new Um.eH(Di({appendTitle:this._keybindingLabelFor(Vs.ToggleRegexCommand),isChecked:this._state.isRegex},s))),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(o=>{let d=!1;o.isRegex&&(this.regex.checked=this._state.isRegex,d=!0),o.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,d=!0),o.matchCase&&(this.caseSensitive.checked=this._state.matchCase,d=!0),!this._state.isRevealed&&d&&this._revealTemporarily()})),this._register(De.nm(this._domNode,De.tw.MOUSE_LEAVE,o=>this._onMouseLeave())),this._register(De.nm(this._domNode,"mouseover",o=>this._onMouseOver()))}_keybindingLabelFor(e){const t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Bf.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}Bf.ID="editor.contrib.findOptionsWidget";function Wf(g,e){return g===1?!0:g===2?!1:e}class WS extends Ue.JT{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return Wf(this._isRegexOverride,this._isRegex)}get wholeWord(){return Wf(this._wholeWordOverride,this._wholeWord)}get matchCase(){return Wf(this._matchCaseOverride,this._matchCase)}get preserveCase(){return Wf(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new Ln.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(e,t,i){const s={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let o=!1;t===0&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,s.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,s.matchesCount=!0,o=!0),typeof i!="undefined"&&(it.e.equalsRange(this._currentMatch,i)||(this._currentMatch=i,s.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(s)}change(e,t,i=!0){var s;const o={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let d=!1;const p=this.isRegex,U=this.wholeWord,te=this.matchCase,de=this.preserveCase;typeof e.searchString!="undefined"&&this._searchString!==e.searchString&&(this._searchString=e.searchString,o.searchString=!0,d=!0),typeof e.replaceString!="undefined"&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,o.replaceString=!0,d=!0),typeof e.isRevealed!="undefined"&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,o.isRevealed=!0,d=!0),typeof e.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,o.isReplaceRevealed=!0,d=!0),typeof e.isRegex!="undefined"&&(this._isRegex=e.isRegex),typeof e.wholeWord!="undefined"&&(this._wholeWord=e.wholeWord),typeof e.matchCase!="undefined"&&(this._matchCase=e.matchCase),typeof e.preserveCase!="undefined"&&(this._preserveCase=e.preserveCase),typeof e.searchScope!="undefined"&&(!((s=e.searchScope)===null||s===void 0)&&s.every(be=>{var Ie;return(Ie=this._searchScope)===null||Ie===void 0?void 0:Ie.some($e=>!it.e.equalsRange($e,be))})||(this._searchScope=e.searchScope,o.searchScope=!0,d=!0)),typeof e.loop!="undefined"&&this._loop!==e.loop&&(this._loop=e.loop,o.loop=!0,d=!0),typeof e.isSearching!="undefined"&&this._isSearching!==e.isSearching&&(this._isSearching=e.isSearching,o.isSearching=!0,d=!0),typeof e.filters!="undefined"&&(this._filters?this._filters.update(e.filters):this._filters=e.filters,o.filters=!0,d=!0),this._isRegexOverride=typeof e.isRegexOverride!="undefined"?e.isRegexOverride:0,this._wholeWordOverride=typeof e.wholeWordOverride!="undefined"?e.wholeWordOverride:0,this._matchCaseOverride=typeof e.matchCaseOverride!="undefined"?e.matchCaseOverride:0,this._preserveCaseOverride=typeof e.preserveCaseOverride!="undefined"?e.preserveCaseOverride:0,p!==this.isRegex&&(d=!0,o.isRegex=!0),U!==this.wholeWord&&(d=!0,o.wholeWord=!0),te!==this.matchCase&&(d=!0,o.matchCase=!0),de!==this.preserveCase&&(d=!0,o.preserveCase=!0),d&&this._onFindReplaceStateChange.fire(o)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=Zl}}var bC=c(94225),HS=c(68641),US=c(3347),kN=c(81822);const VS=le.NC("defaultLabel","input"),GS=le.NC("label.preserveCaseToggle","Preserve Case");class zS extends bC.Z{constructor(e){super({icon:di.l.preserveCase,title:GS+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class KS extends m.${constructor(e,t,i,s){super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new Ln.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new Ln.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new Ln.Q5),this._onInput=this._register(new Ln.Q5),this._onKeyUp=this._register(new Ln.Q5),this._onPreserveCaseKeyDown=this._register(new Ln.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=s.placeholder||"",this.validation=s.validation,this.label=s.label||VS;const o=s.appendPreserveCaseLabel||"",d=s.history||[],p=!!s.flexibleHeight,U=!!s.flexibleWidth,te=s.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new US.pG(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:d,showHistoryHint:s.showHistoryHint,flexibleHeight:p,flexibleWidth:U,flexibleMaxHeight:te,inputBoxStyles:s.inputBoxStyles})),this.preserveCase=this._register(new zS(Di({appendTitle:o,isChecked:!1},s.toggleStyles))),this._register(this.preserveCase.onChange(Ie=>{this._onDidOptionChange.fire(Ie),!Ie&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(Ie=>{this._onPreserveCaseKeyDown.fire(Ie)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const de=[this.preserveCase.domNode];this.onkeydown(this.domNode,Ie=>{if(Ie.equals(15)||Ie.equals(17)||Ie.equals(9)){const $e=de.indexOf(this.domNode.ownerDocument.activeElement);if($e>=0){let qe=-1;Ie.equals(17)?qe=($e+1)%de.length:Ie.equals(15)&&($e===0?qe=de.length-1:qe=$e-1),Ie.equals(9)?(de[$e].blur(),this.inputBox.focus()):qe>=0&&de[qe].focus(),De.zB.stop(Ie,!0)}}});const be=document.createElement("div");be.className="controls",be.style.display=this._showOptionButtons?"block":"none",be.appendChild(this.preserveCase.domNode),this.domNode.appendChild(be),e==null||e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,Ie=>this._onKeyDown.fire(Ie)),this.onkeyup(this.inputBox.inputElement,Ie=>this._onKeyUp.fire(Ie)),this.oninput(this.inputBox.inputElement,Ie=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,Ie=>this._onMouseDown.fire(Ie))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){var e;(e=this.inputBox)===null||e===void 0||e.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}var LC=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},RC=function(g,e){return function(t,i){e(t,i,g)}};const Vm=new Ot.uy("suggestWidgetVisible",!1,(0,le.NC)("suggestWidgetVisible","Whether suggestion are visible")),Gm="historyNavigationWidgetFocus",NC="historyNavigationForwardsEnabled",IC="historyNavigationBackwardsEnabled";let Ll;const Hf=[];function AC(g,e){if(Hf.includes(e))throw new Error("Cannot register the same widget multiple times");Hf.push(e);const t=new Ue.SL,i=new Ot.uy(Gm,!1).bindTo(g),s=new Ot.uy(NC,!0).bindTo(g),o=new Ot.uy(IC,!0).bindTo(g),d=()=>{i.set(!0),Ll=e},p=()=>{i.set(!1),Ll===e&&(Ll=void 0)};return(0,De.H9)(e.element)&&d(),t.add(e.onDidFocus(()=>d())),t.add(e.onDidBlur(()=>p())),t.add((0,Ue.OF)(()=>{Hf.splice(Hf.indexOf(e),1),p()})),{historyNavigationForwardsEnablement:s,historyNavigationBackwardsEnablement:o,dispose(){t.dispose()}}}let zm=class extends HS.V{constructor(e,t,i,s){super(e,t,i);const o=this._register(s.createScoped(this.inputBox.element));this._register(AC(o,this.inputBox))}};zm=LC([RC(3,Ot.i6)],zm);let Km=class extends KS{constructor(e,t,i,s,o=!1){super(e,t,o,i);const d=this._register(s.createScoped(this.inputBox.element));this._register(AC(d,this.inputBox))}};Km=LC([RC(3,Ot.i6)],Km),ga.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:Ot.Ao.and(Ot.Ao.has(Gm),Ot.Ao.equals(IC,!0),Ot.Ao.not("isComposing"),Vm.isEqualTo(!1)),primary:16,secondary:[528],handler:g=>{Ll==null||Ll.showPreviousValue()}}),ga.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:Ot.Ao.and(Ot.Ao.has(Gm),Ot.Ao.equals(NC,!0),Ot.Ao.not("isComposing"),Vm.isEqualTo(!1)),primary:18,secondary:[530],handler:g=>{Ll==null||Ll.showNextValue()}});function DC(g){var e,t;return((e=g.lookupKeybinding("history.showPrevious"))===null||e===void 0?void 0:e.getElectronAccelerator())==="Up"&&((t=g.lookupKeybinding("history.showNext"))===null||t===void 0?void 0:t.getElectronAccelerator())==="Down"}const YS=(0,w.q5)("find-selection",di.l.selection,le.NC("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),wC=(0,w.q5)("find-collapsed",di.l.chevronRight,le.NC("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),yC=(0,w.q5)("find-expanded",di.l.chevronDown,le.NC("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),jS=(0,w.q5)("find-replace",di.l.replace,le.NC("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),$S=(0,w.q5)("find-replace-all",di.l.replaceAll,le.NC("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),XS=(0,w.q5)("find-previous-match",di.l.arrowUp,le.NC("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),QS=(0,w.q5)("find-next-match",di.l.arrowDown,le.NC("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),JS=le.NC("label.findDialog","Find / Replace"),ZS=le.NC("label.find","Find"),qS=le.NC("placeholder.find","Find"),ev=le.NC("label.previousMatchButton","Previous Match"),tv=le.NC("label.nextMatchButton","Next Match"),iv=le.NC("label.toggleSelectionFind","Find in Selection"),nv=le.NC("label.closeButton","Close"),sv=le.NC("label.replace","Replace"),ov=le.NC("placeholder.replace","Replace"),rv=le.NC("label.replaceButton","Replace"),av=le.NC("label.replaceAllButton","Replace All"),lv=le.NC("label.toggleReplaceButton","Toggle Replace"),dv=le.NC("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",Zl),cv=le.NC("label.matchesLocation","{0} of {1}"),OC=le.NC("label.noResults","No results"),Za=419,uv=275-54;let Ku=69;const hv=33,PC="ctrlEnterReplaceAll.windows.donotask",MC=Ut.dz?256:2048;class Ym{constructor(e){this.afterLineNumber=e,this.heightInPx=hv,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function xC(g,e,t){const i=!!e.match(/\n/);if(t&&i&&t.selectionStart>0){g.stopPropagation();return}}function kC(g,e,t){const i=!!e.match(/\n/);if(t&&i&&t.selectionEnd<t.value.length){g.stopPropagation();return}}class Uf extends m.${constructor(e,t,i,s,o,d,p,U,te){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=i,this._contextViewProvider=s,this._keybindingService=o,this._contextKeyService=d,this._storageService=U,this._notificationService=te,this._ctrlEnterReplaceAllWarningPrompted=!!U.getBoolean(PC,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new Ke.vp(500),this._register((0,Ue.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(de=>this._onStateChanged(de))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(de=>{if(de.hasChanged(90)&&(this._codeEditor.getOption(90)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),de.hasChanged(143)&&this._tryUpdateWidgetWidth(),de.hasChanged(2)&&this.updateAccessibilitySupport(),de.hasChanged(41)){const be=this._codeEditor.getOption(41).loop;this._state.change({loop:be},!1);const Ie=this._codeEditor.getOption(41).addExtraSpaceOnTop;Ie&&!this._viewZone&&(this._viewZone=new Ym(0),this._showViewZone()),!Ie&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>At(this,null,function*(){if(this._isVisible){const de=yield this._controller.getGlobalBufferTerm();de&&de!==this._state.searchString&&(this._state.change({searchString:de},!1),this._findInput.select())}}))),this._findInputFocused=Of.bindTo(d),this._findFocusTracker=this._register(De.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=Hm.bindTo(d),this._replaceFocusTracker=this._register(De.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(41).addExtraSpaceOnTop&&(this._viewZone=new Ym(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(de=>{if(de.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return Uf.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(90)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=De.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){const t=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",t),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,rn.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=Ku+"px",this._state.matchesCount>=Zl?this._matchesCount.title=dv:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let e;if(this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=Zl&&(t+="+");let i=String(this._state.matchesPosition);i==="0"&&(i="?"),e=Zi.WU(cv,i,t)}else e=OC;this._matchesCount.appendChild(document.createTextNode(e)),(0,gn.Z9)(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),Ku=Math.max(Ku,this._matchesCount.clientWidth)}_getAriaLabel(e,t,i){if(e===OC)return i===""?le.NC("ariaSearchNoResultEmpty","{0} found",e):le.NC("ariaSearchNoResult","{0} found for '{1}'",e,i);if(t){const s=le.NC("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,i,t.startLineNumber+":"+t.startColumn),o=this._codeEditor.getModel();return o&&t.startLineNumber<=o.getLineCount()&&t.startLineNumber>=1?`${o.getLineContent(t.startLineNumber)}, ${s}`:s}return le.NC("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,i)}_updateToggleSelectionFindButton(){const e=this._codeEditor.getSelection(),t=e?e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn:!1,i=this._toggleSelectionFind.checked;this._isVisible&&(i||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const i=!this._codeEditor.getOption(90);this._toggleReplaceBtn.setEnabled(this._isVisible&&i)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(41).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const i=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=i;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(41).seedSearchStringFromSelection&&e){const i=this._codeEditor.getDomNode();if(i){const s=De.i(i),o=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),d=s.left+(o?o.left:0),p=o?o.top:0;if(this._viewZone&&p<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);const U=De.xQ(this._domNode).left;d>U&&(t=!1);const te=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());s.left+(te?te.left:0)>U&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach(t=>{clearTimeout(t)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(41).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const i=this._viewZone;this._viewZoneId!==void 0||!i||this._codeEditor.changeViewZones(s=>{i.heightInPx=this._getHeight(),this._viewZoneId=s.addZone(i),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+i.heightInPx)})}_showViewZone(e=!0){if(!this._isVisible||!this._codeEditor.getOption(41).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new Ym(0));const i=this._viewZone;this._codeEditor.changeViewZones(s=>{if(this._viewZoneId!==void 0){const o=this._getHeight();if(o===i.heightInPx)return;const d=o-i.heightInPx;i.heightInPx=o,s.layoutZone(this._viewZoneId),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+d);return}else{let o=this._getHeight();if(o-=this._codeEditor.getOption(83).top,o<=0)return;i.heightInPx=o,this._viewZoneId=s.addZone(i),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+o)}})}_removeViewZone(){this._codeEditor.changeViewZones(e=>{this._viewZoneId!==void 0&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!this._domNode.isConnected)return;const e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const i=e.width,s=e.minimap.minimapWidth;let o=!1,d=!1,p=!1;if(this._resized&&De.w(this._domNode)>Za){this._domNode.style.maxWidth=`${i-28-s-15}px`,this._replaceInput.width=De.w(this._findInput.domNode);return}if(Za+28+s>=i&&(d=!0),Za+28+s-Ku>=i&&(p=!0),Za+28+s-Ku>=i+50&&(o=!0),this._domNode.classList.toggle("collapsed-find-widget",o),this._domNode.classList.toggle("narrow-find-widget",p),this._domNode.classList.toggle("reduced-find-widget",d),!p&&!o&&(this._domNode.style.maxWidth=`${i-28-s-15}px`),this._findInput.layout({collapsedFindWidget:o,narrowFindWidget:p,reducedFindWidget:d}),this._resized){const U=this._findInput.inputBox.element.clientWidth;U>0&&(this._replaceInput.width=U)}else this._isReplaceVisible&&(this._replaceInput.width=De.w(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){const e=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===e?!1:(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const e=this._codeEditor.getSelections();e.map(t=>{t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1)));const i=this._state.currentMatch;return t.startLineNumber!==t.endLineNumber&&!it.e.equalsRange(t,i)?t:null}).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){if(e.equals(MC|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return xC(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(e.equals(18))return kC(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(e){if(e.equals(MC|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{Ut.ED&&Ut.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(le.NC("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(PC,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(1026)){this._findInput.focus(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return xC(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(e.equals(18))return kC(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){const t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new zm(null,this._contextViewProvider,{width:uv,label:ZS,placeholder:qS,appendCaseSensitiveLabel:this._keybindingLabelFor(Vs.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(Vs.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(Vs.ToggleRegexCommand),validation:U=>{if(U.length===0||!this._findInput.getRegex())return null;try{return new RegExp(U,"gu"),null}catch(te){return{content:te.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>DC(this._keybindingService),inputBoxStyles:No.Hc,toggleStyles:No.pl},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(U=>this._onFindInputKeyDown(U))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(U=>{U.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),U.preventDefault())})),this._register(this._findInput.onRegexKeyDown(U=>{U.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),U.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(U=>{this._tryUpdateHeight()&&this._showViewZone()})),Ut.IJ&&this._register(this._findInput.onMouseDown(U=>this._onFindInputMouseDown(U))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Uc({label:ev+this._keybindingLabelFor(Vs.PreviousMatchFindAction),icon:XS,onTrigger:()=>{(0,Zn.cW)(this._codeEditor.getAction(Vs.PreviousMatchFindAction)).run().then(void 0,rn.dL)}})),this._nextBtn=this._register(new Uc({label:tv+this._keybindingLabelFor(Vs.NextMatchFindAction),icon:QS,onTrigger:()=>{(0,Zn.cW)(this._codeEditor.getAction(Vs.NextMatchFindAction)).run().then(void 0,rn.dL)}}));const i=document.createElement("div");i.className="find-part",i.appendChild(this._findInput.domNode);const s=document.createElement("div");s.className="find-actions",i.appendChild(s),s.appendChild(this._matchesCount),s.appendChild(this._prevBtn.domNode),s.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new bC.Z({icon:YS,title:iv+this._keybindingLabelFor(Vs.ToggleSearchScopeCommand),isChecked:!1,inputActiveOptionBackground:(0,Te.n_1)(Te.XEs),inputActiveOptionBorder:(0,Te.n_1)(Te.PRb),inputActiveOptionForeground:(0,Te.n_1)(Te.Pvw)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const U=this._codeEditor.getSelections();U.map(te=>(te.endColumn===1&&te.endLineNumber>te.startLineNumber&&(te=te.setEndPosition(te.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(te.endLineNumber-1))),te.isEmpty()?null:te)).filter(te=>!!te),U.length&&this._state.change({searchScope:U},!0)}}else this._state.change({searchScope:null},!0)})),s.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Uc({label:nv+this._keybindingLabelFor(Vs.CloseFindWidgetCommand),icon:w.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:U=>{U.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),U.preventDefault())}})),this._replaceInput=this._register(new Km(null,void 0,{label:sv,placeholder:ov,appendPreserveCaseLabel:this._keybindingLabelFor(Vs.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>DC(this._keybindingService),inputBoxStyles:No.Hc,toggleStyles:No.pl},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(U=>this._onReplaceInputKeyDown(U))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(U=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(U=>{U.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),U.preventDefault())})),this._replaceBtn=this._register(new Uc({label:rv+this._keybindingLabelFor(Vs.ReplaceOneAction),icon:jS,onTrigger:()=>{this._controller.replace()},onKeyDown:U=>{U.equals(1026)&&(this._closeBtn.focus(),U.preventDefault())}})),this._replaceAllBtn=this._register(new Uc({label:av+this._keybindingLabelFor(Vs.ReplaceAllAction),icon:$S,onTrigger:()=>{this._controller.replaceAll()}}));const o=document.createElement("div");o.className="replace-part",o.appendChild(this._replaceInput.domNode);const d=document.createElement("div");d.className="replace-actions",o.appendChild(d),d.appendChild(this._replaceBtn.domNode),d.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Uc({label:lv,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=De.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=JS,this._domNode.role="dialog",this._domNode.style.width=`${Za}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(i),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(o),this._resizeSash=new za.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let p=Za;this._register(this._resizeSash.onDidStart(()=>{p=De.w(this._domNode)})),this._register(this._resizeSash.onDidChange(U=>{this._resized=!0;const te=p+U.startX-U.currentX;if(te<Za)return;const de=parseFloat(De.Dx(this._domNode).maxWidth)||0;te>de||(this._domNode.style.width=`${te}px`,this._isReplaceVisible&&(this._replaceInput.width=De.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const U=De.w(this._domNode);if(U<Za)return;let te=Za;if(!this._resized||U===Za){const de=this._codeEditor.getLayoutInfo();te=de.width-28-de.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${te}px`,this._isReplaceVisible&&(this._replaceInput.width=De.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(e!==2)}}Uf.ID="editor.contrib.findWidget";class Uc extends m.${constructor(e){super(),this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+Ds.k.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,i=>{this._opts.onTrigger(),i.preventDefault()}),this.onkeydown(this._domNode,i=>{var s,o;if(i.equals(10)||i.equals(3)){this._opts.onTrigger(),i.preventDefault();return}(o=(s=this._opts).onKeyDown)===null||o===void 0||o.call(s,i)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...Ds.k.asClassNameArray(wC)),this._domNode.classList.add(...Ds.k.asClassNameArray(yC))):(this._domNode.classList.remove(...Ds.k.asClassNameArray(yC)),this._domNode.classList.add(...Ds.k.asClassNameArray(wC)))}}(0,tt.Ic)((g,e)=>{const t=(ft,Zt)=>{Zt&&e.addRule(`.monaco-editor ${ft} { background-color: ${Zt}; }`)};t(".findMatch",g.getColor(Te.MUv)),t(".currentFindMatch",g.getColor(Te.nyM)),t(".findScope",g.getColor(Te.jUe));const i=g.getColor(Te.D0T);t(".find-widget",i);const s=g.getColor(Te.rh);s&&e.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${s}; }`);const o=g.getColor(Te.A42);o&&e.addRule(`.monaco-editor .find-widget { border-left: 1px solid ${o}; border-right: 1px solid ${o}; border-bottom: 1px solid ${o}; }`);const d=g.getColor(Te.EiJ);d&&e.addRule(`.monaco-editor .findMatch { border: 1px ${(0,rr.c3)(g.type)?"dotted":"solid"} ${d}; box-sizing: border-box; }`);const p=g.getColor(Te.pnM);p&&e.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${p}; padding: 1px; box-sizing: border-box; }`);const U=g.getColor(Te.gkn);U&&e.addRule(`.monaco-editor .findScope { border: 1px ${(0,rr.c3)(g.type)?"dashed":"solid"} ${U}; }`);const te=g.getColor(Te.lRK);te&&e.addRule(`.monaco-editor .find-widget { border: 1px solid ${te}; }`);const de=g.getColor(Te.Hfx);de&&e.addRule(`.monaco-editor .find-widget { color: ${de}; }`);const be=g.getColor(Te.Ido);be&&e.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${be}; }`);const Ie=g.getColor(Te.Ng6);if(Ie)e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${Ie}; }`);else{const ft=g.getColor(Te.D1_);ft&&e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ft}; }`)}const $e=g.getColor(Te.lUq);$e&&e.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${$e} !important;
		}
	`);const qe=g.getColor(Te.R80);qe&&e.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${qe}; }`)});var FC=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Aa=function(g,e){return function(t,i){e(t,i,g)}},jm;const fv=524288;function $m(g,e="single",t=!1){if(!g.hasModel())return null;const i=g.getSelection();if(e==="single"&&i.startLineNumber===i.endLineNumber||e==="multiple"){if(i.isEmpty()){const s=g.getConfiguredWordAtPosition(i.getStartPosition());if(s&&t===!1)return s.word}else if(g.getModel().getValueLengthInRange(i)<fv)return g.getModel().getValueInRange(i)}return null}let fr=jm=class extends Ue.JT{get editor(){return this._editor}static get(e){return e.getContribution(jm.ID)}constructor(e,t,i,s,o){super(),this._editor=e,this._findWidgetVisible=bl.bindTo(t),this._contextKeyService=t,this._storageService=i,this._clipboardService=s,this._notificationService=o,this._updateHistoryDelayer=new Ke.vp(500),this._state=this._register(new WS),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(d=>this._onStateChanged(d))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const d=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),d&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(41).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!Of.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const e=this._editor.getSelections();e.map(t=>(t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._editor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()?null:t)).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=Zi.ec(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}_start(e,t){return At(this,null,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const i=sn(Di({},t),{isRevealed:!0});if(e.seedSearchStringFromSelection==="single"){const s=$m(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);s&&(this._state.isRegex?i.searchString=Zi.ec(s):i.searchString=s)}else if(e.seedSearchStringFromSelection==="multiple"&&!e.updateSearchScope){const s=$m(this._editor,e.seedSearchStringFromSelection);s&&(i.searchString=s)}if(!i.searchString&&e.seedSearchStringFromGlobalClipboard){const s=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;s&&(i.searchString=s)}if(e.forceRevealReplace||i.isReplaceRevealed?i.isReplaceRevealed=!0:this._findWidgetVisible.get()||(i.isReplaceRevealed=!1),e.updateSearchScope){const s=this._editor.getSelections();s.some(o=>!o.isEmpty())&&(i.searchScope=s)}i.loop=e.loop,this._state.change(i,!1),this._model||(this._model=new zu(this._editor,this._state))})}start(e,t){return this._start(e,t)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(e){return this._model?(this._model.moveToMatch(e),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){var e;return this._model?!((e=this._editor.getModel())===null||e===void 0)&&e.isTooLargeForHeapOperation()?(this._notificationService.warn(le.NC("too.large.for.replaceall","The file is too large to perform a replace all operation.")),!1):(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return At(this,null,function*(){return this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(e){this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};fr.ID="editor.contrib.findController",fr=jm=FC([Aa(1,Ot.i6),Aa(2,vo.Uy),Aa(3,Vi.p),Aa(4,ts.lT)],fr);let Xm=class z0 extends fr{constructor(e,t,i,s,o,d,p,U){super(e,i,p,U,d),this._contextViewService=t,this._keybindingService=s,this._themeService=o,this._widget=null,this._findOptionsWidget=null}_start(e,t){return At(this,null,function*(){this._widget||this._createFindWidget();const i=this._editor.getSelection();let s=!1;switch(this._editor.getOption(41).autoFindInSelection){case"always":s=!0;break;case"never":s=!1;break;case"multiline":{s=!!i&&i.startLineNumber!==i.endLineNumber;break}default:break}e.updateSearchScope=e.updateSearchScope||s,yield z_(z0.prototype,this,"_start").call(this,e,t),this._widget&&(e.shouldFocus===2?this._widget.focusReplaceInput():e.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new Uf(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new Bf(this._editor,this._state,this._keybindingService))}};Xm=FC([Aa(1,fn.u),Aa(2,Ot.i6),Aa(3,Je.d),Aa(4,tt.XE),Aa(5,ts.lT),Aa(6,vo.Uy),Aa(7,Vi.p)],Xm),(0,Ve.rn)(new Ve.jY({id:Vs.StartFindAction,label:le.NC("startFindAction","Find"),alias:"Find",precondition:Ot.Ao.or(Pt.u.focus,Ot.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:mt.eH.MenubarEditMenu,group:"3_find",title:le.NC({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})).addImplementation(0,(g,e,t)=>{const i=fr.get(e);return i?i.start({forceRevealReplace:!1,seedSearchStringFromSelection:e.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(41).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(41).loop}):!1});const gv={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:le.NC("actions.find.isRegexOverride",`Overrides "Use Regular Expression" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:le.NC("actions.find.wholeWordOverride",`Overrides "Match Whole Word" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:le.NC("actions.find.matchCaseOverride",`Overrides "Math Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:le.NC("actions.find.preserveCaseOverride",`Overrides "Preserve Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},findInSelection:{type:"boolean"}}}}]};class mv extends Ve.R6{constructor(){super({id:Vs.StartFindWithArgs,label:le.NC("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},metadata:gv})}run(e,t,i){return At(this,null,function*(){const s=fr.get(t);if(s){const o=i?{searchString:i.searchString,replaceString:i.replaceString,isReplaceRevealed:i.replaceString!==void 0,isRegex:i.isRegex,wholeWord:i.matchWholeWord,matchCase:i.isCaseSensitive,preserveCase:i.preserveCase}:{};yield s.start({forceRevealReplace:!1,seedSearchStringFromSelection:s.getState().searchString.length===0&&t.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(i==null?void 0:i.findInSelection)||!1,loop:t.getOption(41).loop},o),s.setGlobalBufferTerm(s.getState().searchString)}})}}class pv extends Ve.R6{constructor(){super({id:Vs.StartFindWithSelection,label:le.NC("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(e,t){return At(this,null,function*(){const i=fr.get(t);i&&(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop}),i.setGlobalBufferTerm(i.getState().searchString))})}}class BC extends Ve.R6{run(e,t){return At(this,null,function*(){const i=fr.get(t);i&&!this._run(i)&&(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:i.getState().searchString.length===0&&t.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop}),this._run(i))})}}class _v extends BC{constructor(){super({id:Vs.NextMatchFindAction,label:le.NC("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:Pt.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:Ot.Ao.and(Pt.u.focus,Of),primary:3,weight:100}]})}_run(e){return e.moveToNextMatch()?(e.editor.pushUndoStop(),!0):!1}}class Cv extends BC{constructor(){super({id:Vs.PreviousMatchFindAction,label:le.NC("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:Pt.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:Ot.Ao.and(Pt.u.focus,Of),primary:1027,weight:100}]})}_run(e){return e.moveToPrevMatch()}}class Ev extends Ve.R6{constructor(){super({id:Vs.GoToMatchFindAction,label:le.NC("findMatchAction.goToMatch","Go to Match..."),alias:"Go to Match...",precondition:bl}),this._highlightDecorations=[]}run(e,t,i){const s=fr.get(t);if(!s)return;const o=s.getState().matchesCount;if(o<1){e.get(ts.lT).notify({severity:ts.zb.Warning,message:le.NC("findMatchAction.noResults","No matches. Try searching for something else.")});return}const p=e.get(oi.eJ).createInputBox();p.placeholder=le.NC("findMatchAction.inputPlaceHolder","Type a number to go to a specific match (between 1 and {0})",o);const U=de=>{const be=parseInt(de);if(isNaN(be))return;const Ie=s.getState().matchesCount;if(be>0&&be<=Ie)return be-1;if(be<0&&be>=-Ie)return Ie+be},te=de=>{const be=U(de);if(typeof be=="number"){p.validationMessage=void 0,s.goToMatch(be);const Ie=s.getState().currentMatch;Ie&&this.addDecorations(t,Ie)}else p.validationMessage=le.NC("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",s.getState().matchesCount),this.clearDecorations(t)};p.onDidChangeValue(de=>{te(de)}),p.onDidAccept(()=>{const de=U(p.value);typeof de=="number"?(s.goToMatch(de),p.hide()):p.validationMessage=le.NC("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",s.getState().matchesCount)}),p.onDidHide(()=>{this.clearDecorations(t),p.dispose()}),p.show()}clearDecorations(e){e.changeDecorations(t=>{this._highlightDecorations=t.deltaDecorations(this._highlightDecorations,[])})}addDecorations(e,t){e.changeDecorations(i=>{this._highlightDecorations=i.deltaDecorations(this._highlightDecorations,[{range:t,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,tt.EN)(CC.m9),position:fi.sh.Full}}}])})}}class WC extends Ve.R6{run(e,t){return At(this,null,function*(){const i=fr.get(t);if(!i)return;const s=$m(t,"single",!1);s&&i.setSearchString(s),this._run(i)||(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop}),this._run(i))})}}class Sv extends WC{constructor(){super({id:Vs.NextSelectionMatchFindAction,label:le.NC("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:Pt.u.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}}class vv extends WC{constructor(){super({id:Vs.PreviousSelectionMatchFindAction,label:le.NC("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:Pt.u.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}}(0,Ve.rn)(new Ve.jY({id:Vs.StartFindReplaceAction,label:le.NC("startReplace","Replace"),alias:"Replace",precondition:Ot.Ao.or(Pt.u.focus,Ot.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:mt.eH.MenubarEditMenu,group:"3_find",title:le.NC({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})).addImplementation(0,(g,e,t)=>{if(!e.hasModel()||e.getOption(90))return!1;const i=fr.get(e);if(!i)return!1;const s=e.getSelection(),o=i.isFindInputFocused(),d=!s.isEmpty()&&s.startLineNumber===s.endLineNumber&&e.getOption(41).seedSearchStringFromSelection!=="never"&&!o,p=o||d?2:1;return i.start({forceRevealReplace:!0,seedSearchStringFromSelection:d?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(41).seedSearchStringFromSelection!=="never",shouldFocus:p,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(41).loop})}),(0,Ve._K)(fr.ID,Xm,0),(0,Ve.Qr)(mv),(0,Ve.Qr)(pv),(0,Ve.Qr)(_v),(0,Ve.Qr)(Cv),(0,Ve.Qr)(Ev),(0,Ve.Qr)(Sv),(0,Ve.Qr)(vv);const Da=Ve._l.bindToContribution(fr.get);(0,Ve.fK)(new Da({id:Vs.CloseFindWidgetCommand,precondition:bl,handler:g=>g.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:Ot.Ao.and(Pt.u.focus,Ot.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,Ve.fK)(new Da({id:Vs.ToggleCaseSensitiveCommand,precondition:void 0,handler:g=>g.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:Pt.u.focus,primary:Pf.primary,mac:Pf.mac,win:Pf.win,linux:Pf.linux}})),(0,Ve.fK)(new Da({id:Vs.ToggleWholeWordCommand,precondition:void 0,handler:g=>g.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:Pt.u.focus,primary:Mf.primary,mac:Mf.mac,win:Mf.win,linux:Mf.linux}})),(0,Ve.fK)(new Da({id:Vs.ToggleRegexCommand,precondition:void 0,handler:g=>g.toggleRegex(),kbOpts:{weight:100+5,kbExpr:Pt.u.focus,primary:xf.primary,mac:xf.mac,win:xf.win,linux:xf.linux}})),(0,Ve.fK)(new Da({id:Vs.ToggleSearchScopeCommand,precondition:void 0,handler:g=>g.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:Pt.u.focus,primary:kf.primary,mac:kf.mac,win:kf.win,linux:kf.linux}})),(0,Ve.fK)(new Da({id:Vs.TogglePreserveCaseCommand,precondition:void 0,handler:g=>g.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:Pt.u.focus,primary:Ff.primary,mac:Ff.mac,win:Ff.win,linux:Ff.linux}})),(0,Ve.fK)(new Da({id:Vs.ReplaceOneAction,precondition:bl,handler:g=>g.replace(),kbOpts:{weight:100+5,kbExpr:Pt.u.focus,primary:3094}})),(0,Ve.fK)(new Da({id:Vs.ReplaceOneAction,precondition:bl,handler:g=>g.replace(),kbOpts:{weight:100+5,kbExpr:Ot.Ao.and(Pt.u.focus,Hm),primary:3}})),(0,Ve.fK)(new Da({id:Vs.ReplaceAllAction,precondition:bl,handler:g=>g.replaceAll(),kbOpts:{weight:100+5,kbExpr:Pt.u.focus,primary:2563}})),(0,Ve.fK)(new Da({id:Vs.ReplaceAllAction,precondition:bl,handler:g=>g.replaceAll(),kbOpts:{weight:100+5,kbExpr:Ot.Ao.and(Pt.u.focus,Hm),primary:void 0,mac:{primary:2051}}})),(0,Ve.fK)(new Da({id:Vs.SelectAllMatchesAction,precondition:bl,handler:g=>g.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:Pt.u.focus,primary:515}}));const Tv={[0]:" ",[1]:"u",[2]:"r"},HC=65535,wa=16777215,UC=4278190080;class Qm{constructor(e){const t=Math.ceil(e/32);this._states=new Uint32Array(t)}get(e){const t=e/32|0,i=e%32;return(this._states[t]&1<<i)!==0}set(e,t){const i=e/32|0,s=e%32,o=this._states[i];t?this._states[i]=o|1<<s:this._states[i]=o&~(1<<s)}}class Kr{constructor(e,t,i){if(e.length!==t.length||e.length>HC)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new Qm(e.length),this._userDefinedStates=new Qm(e.length),this._recoveredStates=new Qm(e.length),this._types=i,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const e=[],t=(i,s)=>{const o=e[e.length-1];return this.getStartLineNumber(o)<=i&&this.getEndLineNumber(o)>=s};for(let i=0,s=this._startIndexes.length;i<s;i++){const o=this._startIndexes[i],d=this._endIndexes[i];if(o>wa||d>wa)throw new Error("startLineNumber or endLineNumber must not exceed "+wa);for(;e.length>0&&!t(o,d);)e.pop();const p=e.length>0?e[e.length-1]:-1;e.push(i),this._startIndexes[i]=o+((p&255)<<24),this._endIndexes[i]=d+((p&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return this._startIndexes[e]&wa}getEndLineNumber(e){return this._endIndexes[e]&wa}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){return this._collapseStates.get(e)}setCollapsed(e,t){this._collapseStates.set(e,t)}isUserDefined(e){return this._userDefinedStates.get(e)}setUserDefined(e,t){return this._userDefinedStates.set(e,t)}isRecovered(e){return this._recoveredStates.get(e)}setRecovered(e,t){return this._recoveredStates.set(e,t)}getSource(e){return this.isUserDefined(e)?1:this.isRecovered(e)?2:0}setSource(e,t){t===1?(this.setUserDefined(e,!0),this.setRecovered(e,!1)):t===2?(this.setUserDefined(e,!1),this.setRecovered(e,!0)):(this.setUserDefined(e,!1),this.setRecovered(e,!1))}setCollapsedAllOfType(e,t){let i=!1;if(this._types)for(let s=0;s<this._types.length;s++)this._types[s]===e&&(this.setCollapsed(s,t),i=!0);return i}toRegion(e){return new bv(this,e)}getParentIndex(e){this.ensureParentIndices();const t=((this._startIndexes[e]&UC)>>>24)+((this._endIndexes[e]&UC)>>>16);return t===HC?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,i=this._startIndexes.length;if(i===0)return-1;for(;t<i;){const s=Math.floor((t+i)/2);e<this.getStartLineNumber(s)?i=s:t=s+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);t!==-1;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){const e=[];for(let t=0;t<this.length;t++)e[t]=`[${Tv[this.getSource(t)]}${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}toFoldRange(e){return{startLineNumber:this._startIndexes[e]&wa,endLineNumber:this._endIndexes[e]&wa,type:this._types?this._types[e]:void 0,isCollapsed:this.isCollapsed(e),source:this.getSource(e)}}static fromFoldRanges(e){const t=e.length,i=new Uint32Array(t),s=new Uint32Array(t);let o=[],d=!1;for(let U=0;U<t;U++){const te=e[U];i[U]=te.startLineNumber,s[U]=te.endLineNumber,o.push(te.type),te.type&&(d=!0)}d||(o=void 0);const p=new Kr(i,s,o);for(let U=0;U<t;U++)e[U].isCollapsed&&p.setCollapsed(U,!0),p.setSource(U,e[U].source);return p}static sanitizeAndMerge(e,t,i){i=i!=null?i:Number.MAX_VALUE;const s=(ft,Zt)=>Array.isArray(ft)?Kt=>Kt<Zt?ft[Kt]:void 0:Kt=>Kt<Zt?ft.toFoldRange(Kt):void 0,o=s(e,e.length),d=s(t,t.length);let p=0,U=0,te=o(0),de=d(0);const be=[];let Ie,$e=0;const qe=[];for(;te||de;){let ft;if(de&&(!te||te.startLineNumber>=de.startLineNumber))te&&te.startLineNumber===de.startLineNumber?(de.source===1?ft=de:(ft=te,ft.isCollapsed=de.isCollapsed&&te.endLineNumber===de.endLineNumber,ft.source=0),te=o(++p)):(ft=de,de.isCollapsed&&de.source===0&&(ft.source=2)),de=d(++U);else{let Zt=U,Kt=de;for(;;){if(!Kt||Kt.startLineNumber>te.endLineNumber){ft=te;break}if(Kt.source===1&&Kt.endLineNumber>te.endLineNumber)break;Kt=d(++Zt)}te=o(++p)}if(ft){for(;Ie&&Ie.endLineNumber<ft.startLineNumber;)Ie=be.pop();ft.endLineNumber>ft.startLineNumber&&ft.startLineNumber>$e&&ft.endLineNumber<=i&&(!Ie||Ie.endLineNumber>=ft.endLineNumber)&&(qe.push(ft),$e=ft.startLineNumber,Ie&&be.push(Ie),Ie=ft)}}return qe}}class bv{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}var VC=c(31815);class Lv{get regions(){return this._regions}get textModel(){return this._textModel}constructor(e,t){this._updateEventEmitter=new Ln.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new Kr(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(e){if(!e.length)return;e=e.sort((i,s)=>i.regionIndex-s.regionIndex);const t={};this._decorationProvider.changeDecorations(i=>{let s=0,o=-1,d=-1;const p=U=>{for(;s<U;){const te=this._regions.getEndLineNumber(s),de=this._regions.isCollapsed(s);if(te<=o){const be=this.regions.getSource(s)!==0;i.changeDecorationOptions(this._editorDecorationIds[s],this._decorationProvider.getDecorationOption(de,te<=d,be))}de&&te>d&&(d=te),s++}};for(const U of e){const te=U.regionIndex,de=this._editorDecorationIds[te];if(de&&!t[de]){t[de]=!0,p(te);const be=!this._regions.isCollapsed(te);this._regions.setCollapsed(te,be),o=Math.max(o,this._regions.getEndLineNumber(te))}}p(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}removeManualRanges(e){const t=new Array,i=s=>{for(const o of e)if(!(o.startLineNumber>s.endLineNumber||s.startLineNumber>o.endLineNumber))return!0;return!1};for(let s=0;s<this._regions.length;s++){const o=this._regions.toFoldRange(s);(o.source===0||!i(o))&&t.push(o)}this.updatePost(Kr.fromFoldRanges(t))}update(e,t=[]){const i=this._currentFoldedOrManualRanges(t),s=Kr.sanitizeAndMerge(e,i,this._textModel.getLineCount());this.updatePost(Kr.fromFoldRanges(s))}updatePost(e){const t=[];let i=-1;for(let s=0,o=e.length;s<o;s++){const d=e.getStartLineNumber(s),p=e.getEndLineNumber(s),U=e.isCollapsed(s),te=e.getSource(s)!==0,de={startLineNumber:d,startColumn:this._textModel.getLineMaxColumn(d),endLineNumber:p,endColumn:this._textModel.getLineMaxColumn(p)+1};t.push({range:de,options:this._decorationProvider.getDecorationOption(U,p<=i,te)}),U&&p>i&&(i=p)}this._decorationProvider.changeDecorations(s=>this._editorDecorationIds=s.deltaDecorations(this._editorDecorationIds,t)),this._regions=e,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(e=[]){const t=(s,o)=>{for(const d of e)if(s<d&&d<=o)return!0;return!1},i=[];for(let s=0,o=this._regions.length;s<o;s++){let d=this.regions.isCollapsed(s);const p=this.regions.getSource(s);if(d||p!==0){const U=this._regions.toFoldRange(s),te=this._textModel.getDecorationRange(this._editorDecorationIds[s]);te&&(d&&t(te.startLineNumber,te.endLineNumber)&&(d=!1),i.push({startLineNumber:te.startLineNumber,endLineNumber:te.endLineNumber,type:U.type,isCollapsed:d,source:p}))}}return i}getMemento(){const e=this._currentFoldedOrManualRanges(),t=[],i=this._textModel.getLineCount();for(let s=0,o=e.length;s<o;s++){const d=e[s];if(d.startLineNumber>=d.endLineNumber||d.startLineNumber<1||d.endLineNumber>i)continue;const p=this._getLinesChecksum(d.startLineNumber+1,d.endLineNumber);t.push({startLineNumber:d.startLineNumber,endLineNumber:d.endLineNumber,isCollapsed:d.isCollapsed,source:d.source,checksum:p})}return t.length>0?t:void 0}applyMemento(e){var t,i;if(!Array.isArray(e))return;const s=[],o=this._textModel.getLineCount();for(const p of e){if(p.startLineNumber>=p.endLineNumber||p.startLineNumber<1||p.endLineNumber>o)continue;const U=this._getLinesChecksum(p.startLineNumber+1,p.endLineNumber);(!p.checksum||U===p.checksum)&&s.push({startLineNumber:p.startLineNumber,endLineNumber:p.endLineNumber,type:void 0,isCollapsed:(t=p.isCollapsed)!==null&&t!==void 0?t:!0,source:(i=p.source)!==null&&i!==void 0?i:0})}const d=Kr.sanitizeAndMerge(this._regions,s,o);this.updatePost(Kr.fromFoldRanges(d))}_getLinesChecksum(e,t){return(0,VC.vp)(this._textModel.getLineContent(e)+this._textModel.getLineContent(t))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(e,t){const i=[];if(this._regions){let s=this._regions.findRange(e),o=1;for(;s>=0;){const d=this._regions.toRegion(s);(!t||t(d,o))&&i.push(d),o++,s=d.parentIndex}}return i}getRegionAtLine(e){if(this._regions){const t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){const i=[],s=e?e.regionIndex+1:0,o=e?e.endLineNumber:Number.MAX_VALUE;if(t&&t.length===2){const d=[];for(let p=s,U=this._regions.length;p<U;p++){const te=this._regions.toRegion(p);if(this._regions.getStartLineNumber(p)<o){for(;d.length>0&&!te.containedBy(d[d.length-1]);)d.pop();d.push(te),t(te,d.length)&&i.push(te)}else break}}else for(let d=s,p=this._regions.length;d<p;d++){const U=this._regions.toRegion(d);if(this._regions.getStartLineNumber(d)<o)(!t||t(U))&&i.push(U);else break}return i}}function GC(g,e,t){const i=[];for(const s of t){const o=g.getRegionAtLine(s);if(o){const d=!o.isCollapsed;if(i.push(o),e>1){const p=g.getRegionsInside(o,(U,te)=>U.isCollapsed!==d&&te<e);i.push(...p)}}}g.toggleCollapseState(i)}function Vc(g,e,t=Number.MAX_VALUE,i){const s=[];if(i&&i.length>0)for(const o of i){const d=g.getRegionAtLine(o);if(d&&(d.isCollapsed!==e&&s.push(d),t>1)){const p=g.getRegionsInside(d,(U,te)=>U.isCollapsed!==e&&te<t);s.push(...p)}}else{const o=g.getRegionsInside(null,(d,p)=>d.isCollapsed!==e&&p<t);s.push(...o)}g.toggleCollapseState(s)}function zC(g,e,t,i){const s=[];for(const o of i){const d=g.getAllRegionsAtLine(o,(p,U)=>p.isCollapsed!==e&&U<=t);s.push(...d)}g.toggleCollapseState(s)}function Rv(g,e,t){const i=[];for(const s of t){const o=g.getAllRegionsAtLine(s,d=>d.isCollapsed!==e);o.length>0&&i.push(o[0])}g.toggleCollapseState(i)}function Nv(g,e,t,i){const s=(d,p)=>p===e&&d.isCollapsed!==t&&!i.some(U=>d.containsLine(U)),o=g.getRegionsInside(null,s);g.toggleCollapseState(o)}function KC(g,e,t){const i=[];for(const d of t){const p=g.getAllRegionsAtLine(d,void 0);p.length>0&&i.push(p[0])}const s=d=>i.every(p=>!p.containedBy(d)&&!d.containedBy(p))&&d.isCollapsed!==e,o=g.getRegionsInside(null,s);g.toggleCollapseState(o)}function Jm(g,e,t){const i=g.textModel,s=g.regions,o=[];for(let d=s.length-1;d>=0;d--)if(t!==s.isCollapsed(d)){const p=s.getStartLineNumber(d);e.test(i.getLineContent(p))&&o.push(s.toRegion(d))}g.toggleCollapseState(o)}function Zm(g,e,t){const i=g.regions,s=[];for(let o=i.length-1;o>=0;o--)t!==i.isCollapsed(o)&&e===i.getType(o)&&s.push(i.toRegion(o));g.toggleCollapseState(s)}function Iv(g,e){let t=null;const i=e.getRegionAtLine(g);if(i!==null&&(t=i.startLineNumber,g===t)){const s=i.parentIndex;s!==-1?t=e.regions.getStartLineNumber(s):t=null}return t}function Av(g,e){let t=e.getRegionAtLine(g);if(t!==null&&t.startLineNumber===g){if(g!==t.startLineNumber)return t.startLineNumber;{const i=t.parentIndex;let s=0;for(i!==-1&&(s=e.regions.getStartLineNumber(t.parentIndex));t!==null;)if(t.regionIndex>0){if(t=e.regions.toRegion(t.regionIndex-1),t.startLineNumber<=s)return null;if(t.parentIndex===i)return t.startLineNumber}else return null}}else if(e.regions.length>0)for(t=e.regions.toRegion(e.regions.length-1);t!==null;){if(t.startLineNumber<g)return t.startLineNumber;t.regionIndex>0?t=e.regions.toRegion(t.regionIndex-1):t=null}return null}function Dv(g,e){let t=e.getRegionAtLine(g);if(t!==null&&t.startLineNumber===g){const i=t.parentIndex;let s=0;if(i!==-1)s=e.regions.getEndLineNumber(t.parentIndex);else{if(e.regions.length===0)return null;s=e.regions.getEndLineNumber(e.regions.length-1)}for(;t!==null;)if(t.regionIndex<e.regions.length){if(t=e.regions.toRegion(t.regionIndex+1),t.startLineNumber>=s)return null;if(t.parentIndex===i)return t.startLineNumber}else return null}else if(e.regions.length>0)for(t=e.regions.toRegion(0);t!==null;){if(t.startLineNumber>g)return t.startLineNumber;t.regionIndex<e.regions.length?t=e.regions.toRegion(t.regionIndex+1):t=null}return null}var wv=c(59013);class yv{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(e){this._updateEventEmitter=new Ln.Q5,this._hasLineChanges=!1,this._foldingModel=e,this._foldingModelListener=e.onDidChange(t=>this.updateHiddenRanges()),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some(t=>t.range.endLineNumber!==t.range.startLineNumber||(0,wv.Q)(t.text)[0]!==0))}updateHiddenRanges(){let e=!1;const t=[];let i=0,s=0,o=Number.MAX_VALUE,d=-1;const p=this._foldingModel.regions;for(;i<p.length;i++){if(!p.isCollapsed(i))continue;const U=p.getStartLineNumber(i)+1,te=p.getEndLineNumber(i);o<=U&&te<=d||(!e&&s<this._hiddenRanges.length&&this._hiddenRanges[s].startLineNumber===U&&this._hiddenRanges[s].endLineNumber===te?(t.push(this._hiddenRanges[s]),s++):(e=!0,t.push(new it.e(U,1,te,1))),o=U,d=te)}(this._hasLineChanges||e||s<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyHiddenRanges(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return YC(this._hiddenRanges,e)!==null}adjustSelections(e){let t=!1;const i=this._foldingModel.textModel;let s=null;const o=d=>((!s||!Ov(d,s))&&(s=YC(this._hiddenRanges,d)),s?s.startLineNumber-1:null);for(let d=0,p=e.length;d<p;d++){let U=e[d];const te=o(U.startLineNumber);te&&(U=U.setStartPosition(te,i.getLineMaxColumn(te)),t=!0);const de=o(U.endLineNumber);de&&(U=U.setEndPosition(de,i.getLineMaxColumn(de)),t=!0),e[d]=U}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function Ov(g,e){return g>=e.startLineNumber&&g<=e.endLineNumber}function YC(g,e){const t=(0,Gu.J_)(g,i=>e<i.startLineNumber)-1;return t>=0&&g[t].endLineNumber>=e?g[t]:null}const Pv=5e3,Mv="indent";class qm{constructor(e,t,i){this.editorModel=e,this.languageConfigurationService=t,this.foldingRangesLimit=i,this.id=Mv}dispose(){}compute(e){const t=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,i=t&&!!t.offSide,s=t&&t.markers;return Promise.resolve(Fv(this.editorModel,i,s,this.foldingRangesLimit))}}class xv{constructor(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,i){if(e>wa||t>wa)return;const s=this._length;this._startIndexes[s]=e,this._endIndexes[s]=t,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(e){const t=this._foldingRangesLimit.limit;if(this._length<=t){this._foldingRangesLimit.update(this._length,!1);const i=new Uint32Array(this._length),s=new Uint32Array(this._length);for(let o=this._length-1,d=0;o>=0;o--,d++)i[d]=this._startIndexes[o],s[d]=this._endIndexes[o];return new Kr(i,s)}else{this._foldingRangesLimit.update(this._length,t);let i=0,s=this._indentOccurrences.length;for(let U=0;U<this._indentOccurrences.length;U++){const te=this._indentOccurrences[U];if(te){if(te+i>t){s=U;break}i+=te}}const o=e.getOptions().tabSize,d=new Uint32Array(t),p=new Uint32Array(t);for(let U=this._length-1,te=0;U>=0;U--){const de=this._startIndexes[U],be=e.getLineContent(de),Ie=(0,Jr.q)(be,o);(Ie<s||Ie===s&&i++<t)&&(d[te]=de,p[te]=this._endIndexes[U],te++)}return new Kr(d,p)}}}const kv={limit:Pv,update:()=>{}};function Fv(g,e,t,i=kv){const s=g.getOptions().tabSize,o=new xv(i);let d;t&&(d=new RegExp(`(${t.start.source})|(?:${t.end.source})`));const p=[],U=g.getLineCount()+1;p.push({indent:-1,endAbove:U,line:U});for(let te=g.getLineCount();te>0;te--){const de=g.getLineContent(te),be=(0,Jr.q)(de,s);let Ie=p[p.length-1];if(be===-1){e&&(Ie.endAbove=te);continue}let $e;if(d&&($e=de.match(d)))if($e[1]){let qe=p.length-1;for(;qe>0&&p[qe].indent!==-2;)qe--;if(qe>0){p.length=qe+1,Ie=p[qe],o.insertFirst(te,Ie.line,be),Ie.line=te,Ie.indent=be,Ie.endAbove=te;continue}}else{p.push({indent:-2,endAbove:te,line:te});continue}if(Ie.indent>be){do p.pop(),Ie=p[p.length-1];while(Ie.indent>be);const qe=Ie.endAbove-1;qe-te>=1&&o.insertFirst(te,qe,be)}Ie.indent===be?Ie.endAbove=te:p.push({indent:be,endAbove:te,line:te})}return o.toIndentRanges(g)}const Bv=(0,Te.P6G)("editor.foldBackground",{light:(0,Te.ZnX)(Te.hEj,.3),dark:(0,Te.ZnX)(Te.hEj,.3),hcDark:null,hcLight:null},(0,le.NC)("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);(0,Te.P6G)("editorGutter.foldingControlForeground",{dark:Te.XZx,light:Te.XZx,hcDark:Te.XZx,hcLight:Te.XZx},(0,le.NC)("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));const Vf=(0,w.q5)("folding-expanded",di.l.chevronDown,(0,le.NC)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),Gf=(0,w.q5)("folding-collapsed",di.l.chevronRight,(0,le.NC)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),jC=(0,w.q5)("folding-manual-collapsed",Gf,(0,le.NC)("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),$C=(0,w.q5)("folding-manual-expanded",Vf,(0,le.NC)("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),ep={color:(0,tt.EN)(Bv),position:fi.F5.Inline};class To{constructor(e){this.editor=e,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(e,t,i){return t?To.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?e?this.showFoldingHighlights?To.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:To.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:To.NO_CONTROLS_EXPANDED_RANGE_DECORATION:e?i?this.showFoldingHighlights?To.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:To.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?To.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:To.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?i?To.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:To.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i?To.MANUALLY_EXPANDED_VISUAL_DECORATION:To.EXPANDED_VISUAL_DECORATION}changeDecorations(e){return this.editor.changeDecorations(e)}removeDecorations(e){this.editor.removeDecorations(e)}}To.COLLAPSED_VISUAL_DECORATION=_i.qx.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:Ds.k.asClassName(Gf)}),To.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=_i.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:ep,isWholeLine:!0,firstLineDecorationClassName:Ds.k.asClassName(Gf)}),To.MANUALLY_COLLAPSED_VISUAL_DECORATION=_i.qx.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:Ds.k.asClassName(jC)}),To.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=_i.qx.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:ep,isWholeLine:!0,firstLineDecorationClassName:Ds.k.asClassName(jC)}),To.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=_i.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0}),To.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=_i.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:ep,isWholeLine:!0}),To.EXPANDED_VISUAL_DECORATION=_i.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Ds.k.asClassName(Vf)}),To.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=_i.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:Ds.k.asClassName(Vf)}),To.MANUALLY_EXPANDED_VISUAL_DECORATION=_i.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Ds.k.asClassName($C)}),To.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=_i.qx.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:Ds.k.asClassName($C)}),To.NO_CONTROLS_EXPANDED_RANGE_DECORATION=_i.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),To.HIDDEN_RANGE_DECORATION=_i.qx.register({description:"folding-hidden-range-decoration",stickiness:1});const Wv={},Hv="syntax";class tp{constructor(e,t,i,s,o){this.editorModel=e,this.providers=t,this.handleFoldingRangesChange=i,this.foldingRangesLimit=s,this.fallbackRangeProvider=o,this.id=Hv,this.disposables=new Ue.SL,o&&this.disposables.add(o);for(const d of t)typeof d.onDidChange=="function"&&this.disposables.add(d.onDidChange(i))}compute(e){return Uv(this.providers,this.editorModel,e).then(t=>{var i,s;return t?Gv(t,this.foldingRangesLimit):(s=(i=this.fallbackRangeProvider)===null||i===void 0?void 0:i.compute(e))!==null&&s!==void 0?s:null})}dispose(){this.disposables.dispose()}}function Uv(g,e,t){let i=null;const s=g.map((o,d)=>Promise.resolve(o.provideFoldingRanges(e,Wv,t)).then(p=>{if(!t.isCancellationRequested&&Array.isArray(p)){Array.isArray(i)||(i=[]);const U=e.getLineCount();for(const te of p)te.start>0&&te.end>te.start&&te.end<=U&&i.push({start:te.start,end:te.end,rank:d,kind:te.kind})}},rn.Cp));return Promise.all(s).then(o=>i)}class Vv{constructor(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,i,s){if(e>wa||t>wa)return;const o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._nestingLevels[o]=s,this._types[o]=i,this._length++,s<30&&(this._nestingLevelCounts[s]=(this._nestingLevelCounts[s]||0)+1)}toIndentRanges(){const e=this._foldingRangesLimit.limit;if(this._length<=e){this._foldingRangesLimit.update(this._length,!1);const t=new Uint32Array(this._length),i=new Uint32Array(this._length);for(let s=0;s<this._length;s++)t[s]=this._startIndexes[s],i[s]=this._endIndexes[s];return new Kr(t,i,this._types)}else{this._foldingRangesLimit.update(this._length,e);let t=0,i=this._nestingLevelCounts.length;for(let p=0;p<this._nestingLevelCounts.length;p++){const U=this._nestingLevelCounts[p];if(U){if(U+t>e){i=p;break}t+=U}}const s=new Uint32Array(e),o=new Uint32Array(e),d=[];for(let p=0,U=0;p<this._length;p++){const te=this._nestingLevels[p];(te<i||te===i&&t++<e)&&(s[U]=this._startIndexes[p],o[U]=this._endIndexes[p],d[U]=this._types[p],U++)}return new Kr(s,o,d)}}}function Gv(g,e){const t=g.sort((d,p)=>{let U=d.start-p.start;return U===0&&(U=d.rank-p.rank),U}),i=new Vv(e);let s;const o=[];for(const d of t)if(!s)s=d,i.add(d.start,d.end,d.kind&&d.kind.value,o.length);else if(d.start>s.start)if(d.end<=s.end)o.push(s),s=d,i.add(d.start,d.end,d.kind&&d.kind.value,o.length);else{if(d.start>s.end){do s=o.pop();while(s&&d.start>s.end);s&&o.push(s),s=d}i.add(d.start,d.end,d.kind&&d.kind.value,o.length)}return i.toIndentRanges()}var zv=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Yu=function(g,e){return function(t,i){e(t,i,g)}},Gc;const sr=new Ot.uy("foldingEnabled",!1);let qa=Gc=class extends Ue.JT{static get(e){return e.getContribution(Gc.ID)}static getFoldingRangeProviders(e,t){var i,s;const o=e.foldingRangeProvider.ordered(t);return(s=(i=Gc._foldingRangeSelector)===null||i===void 0?void 0:i.call(Gc,o,t))!==null&&s!==void 0?s:o}constructor(e,t,i,s,o,d){super(),this.contextKeyService=t,this.languageConfigurationService=i,this.languageFeaturesService=d,this.localToDispose=this._register(new Ue.SL),this.editor=e,this._foldingLimitReporter=new XC(e);const p=this.editor.getOptions();this._isEnabled=p.get(43),this._useFoldingProviders=p.get(44)!=="indentation",this._unfoldOnClickAfterEndOfLine=p.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=p.get(46),this.updateDebounceInfo=o.for(d.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new To(e),this.foldingDecorationProvider.showFoldingControls=p.get(109),this.foldingDecorationProvider.showFoldingHighlights=p.get(45),this.foldingEnabled=sr.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(U=>{if(U.hasChanged(43)&&(this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),U.hasChanged(47)&&this.onModelChanged(),U.hasChanged(109)||U.hasChanged(45)){const te=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=te.get(109),this.foldingDecorationProvider.showFoldingHighlights=te.get(45),this.triggerFoldingModelChanged()}U.hasChanged(44)&&(this._useFoldingProviders=this.editor.getOptions().get(44)!=="indentation",this.onFoldingStrategyChanged()),U.hasChanged(48)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48)),U.hasChanged(46)&&(this._foldingImportsByDefault=this.editor.getOptions().get(46))})),this.onModelChanged()}saveViewState(){const e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){const t=this.foldingModel.getMemento(),i=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:i,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){const t=this.editor.getModel();if(!(!t||!this._isEnabled||t.isTooLargeForTokenization()||!this.hiddenRangeModel)&&e&&(this._currentModelHasFoldedImports=!!e.foldedImports,e.collapsedRegions&&e.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(e.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const e=this.editor.getModel();!this._isEnabled||!e||e.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new Lv(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new yv(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(t=>this.onHiddenRangesChanges(t))),this.updateScheduler=new Ke.vp(this.updateDebounceInfo.get(e)),this.cursorChangedScheduler=new Ke.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(t=>this.onDidChangeModelContent(t))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(t=>this.onEditorMouseDown(t))),this.localToDispose.add(this.editor.onMouseUp(t=>this.onEditorMouseUp(t))),this.localToDispose.add({dispose:()=>{var t,i;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(t=this.updateScheduler)===null||t===void 0||t.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(i=this.rangeProvider)===null||i===void 0||i.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var e;(e=this.rangeProvider)===null||e===void 0||e.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;const t=new qm(e,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=t,this._useFoldingProviders&&this.foldingModel){const i=Gc.getFoldingRangeProviders(this.languageFeaturesService,e);i.length>0&&(this.rangeProvider=new tp(e,i,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,t))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(e){var t;(t=this.hiddenRangeModel)===null||t===void 0||t.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const e=this.foldingModel;if(!e)return null;const t=new io.G,i=this.getRangeProvider(e.textModel),s=this.foldingRegionPromise=(0,Ke.PG)(o=>i.compute(o));return s.then(o=>{if(o&&s===this.foldingRegionPromise){let d;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const de=o.setCollapsedAllOfType(Un.AD.Imports.value,!0);de&&(d=ta.Z.capture(this.editor),this._currentModelHasFoldedImports=de)}const p=this.editor.getSelections(),U=p?p.map(de=>de.startLineNumber):[];e.update(o,U),d==null||d.restore(this.editor);const te=this.updateDebounceInfo.update(e.textModel,t.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=te)}return e})}).then(void 0,e=>((0,rn.dL)(e),null)))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){const t=this.editor.getSelections();t&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t)}this.editor.setHiddenAreas(e,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const e=this.getFoldingModel();e&&e.then(t=>{if(t){const i=this.editor.getSelections();if(i&&i.length>0){const s=[];for(const o of i){const d=o.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(d)&&s.push(...t.getAllRegionsAtLine(d,p=>p.isCollapsed&&d>p.startLineNumber))}s.length&&(t.toggleCollapseState(s),this.reveal(i[0].getPosition()))}}}).then(void 0,rn.dL)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range||!e.event.leftButton&&!e.event.middleButton)return;const t=e.target.range;let i=!1;switch(e.target.type){case 4:{const s=e.target.detail,o=e.target.element.offsetLeft;if(s.offsetX-o<4)return;i=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!e.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const s=this.editor.getModel();if(s&&t.startColumn===s.getLineMaxColumn(t.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:i}}onEditorMouseUp(e){const t=this.foldingModel;if(!t||!this.mouseDownInfo||!e.target)return;const i=this.mouseDownInfo.lineNumber,s=this.mouseDownInfo.iconClicked,o=e.target.range;if(!o||o.startLineNumber!==i)return;if(s){if(e.target.type!==4)return}else{const p=this.editor.getModel();if(!p||o.startColumn!==p.getLineMaxColumn(i))return}const d=t.getRegionAtLine(i);if(d&&d.startLineNumber===i){const p=d.isCollapsed;if(s||p){const U=e.event.altKey;let te=[];if(U){const de=Ie=>!Ie.containedBy(d)&&!d.containedBy(Ie),be=t.getRegionsInside(null,de);for(const Ie of be)Ie.isCollapsed&&te.push(Ie);te.length===0&&(te=be)}else{const de=e.event.middleButton||e.event.shiftKey;if(de)for(const be of t.getRegionsInside(d))be.isCollapsed===p&&te.push(be);(p||!de||te.length===0)&&te.push(d)}t.toggleCollapseState(te),this.reveal({lineNumber:i,column:1})}}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};qa.ID="editor.contrib.folding",qa=Gc=zv([Yu(1,Ot.i6),Yu(2,Zs.c_),Yu(3,ts.lT),Yu(4,Yi.A),Yu(5,hn.p)],qa);class XC{constructor(e){this.editor=e,this._onDidChange=new Ln.Q5,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(e,t){(e!==this._computed||t!==this._limited)&&(this._computed=e,this._limited=t,this._onDidChange.fire())}}class dr extends Ve.R6{runEditorCommand(e,t,i){const s=e.get(Zs.c_),o=qa.get(t);if(!o)return;const d=o.getFoldingModel();if(d)return this.reportTelemetry(e,t),d.then(p=>{if(p){this.invoke(o,p,t,i,s);const U=t.getSelection();U&&o.reveal(U.getStartPosition())}})}getSelectedLines(e){const t=e.getSelections();return t?t.map(i=>i.startLineNumber):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map(i=>i+1):this.getSelectedLines(t)}run(e,t){}}function QC(g){if(!Zn.o8(g)){if(!Zn.Kn(g))return!1;const e=g;if(!Zn.o8(e.levels)&&!Zn.hj(e.levels)||!Zn.o8(e.direction)&&!Zn.HD(e.direction)||!Zn.o8(e.selectionLines)&&(!Array.isArray(e.selectionLines)||!e.selectionLines.every(Zn.hj)))return!1}return!0}class Kv extends dr{constructor(){super({id:"editor.unfold",label:le.NC("unfoldAction.label","Unfold"),alias:"Unfold",precondition:sr,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:QC,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,s){const o=s&&s.levels||1,d=this.getLineNumbers(s,i);s&&s.direction==="up"?zC(t,!1,o,d):Vc(t,!1,o,d)}}class Yv extends dr{constructor(){super({id:"editor.unfoldRecursively",label:le.NC("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:sr,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:(0,kn.gx)(2089,2142),weight:100}})}invoke(e,t,i,s){Vc(t,!1,Number.MAX_VALUE,this.getSelectedLines(i))}}class jv extends dr{constructor(){super({id:"editor.fold",label:le.NC("foldAction.label","Fold"),alias:"Fold",precondition:sr,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:QC,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,s){const o=this.getLineNumbers(s,i),d=s&&s.levels,p=s&&s.direction;typeof d!="number"&&typeof p!="string"?Rv(t,!0,o):p==="up"?zC(t,!0,d||1,o):Vc(t,!0,d||1,o)}}class $v extends dr{constructor(){super({id:"editor.toggleFold",label:le.NC("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:sr,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:(0,kn.gx)(2089,2090),weight:100}})}invoke(e,t,i){const s=this.getSelectedLines(i);GC(t,1,s)}}class Xv extends dr{constructor(){super({id:"editor.foldRecursively",label:le.NC("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:sr,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:(0,kn.gx)(2089,2140),weight:100}})}invoke(e,t,i){const s=this.getSelectedLines(i);Vc(t,!0,Number.MAX_VALUE,s)}}class Qv extends dr{constructor(){super({id:"editor.foldAllBlockComments",label:le.NC("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:sr,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:(0,kn.gx)(2089,2138),weight:100}})}invoke(e,t,i,s,o){if(t.regions.hasTypes())Zm(t,Un.AD.Comment.value,!0);else{const d=i.getModel();if(!d)return;const p=o.getLanguageConfiguration(d.getLanguageId()).comments;if(p&&p.blockCommentStartToken){const U=new RegExp("^\\s*"+(0,Zi.ec)(p.blockCommentStartToken));Jm(t,U,!0)}}}}class Jv extends dr{constructor(){super({id:"editor.foldAllMarkerRegions",label:le.NC("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:sr,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:(0,kn.gx)(2089,2077),weight:100}})}invoke(e,t,i,s,o){if(t.regions.hasTypes())Zm(t,Un.AD.Region.value,!0);else{const d=i.getModel();if(!d)return;const p=o.getLanguageConfiguration(d.getLanguageId()).foldingRules;if(p&&p.markers&&p.markers.start){const U=new RegExp(p.markers.start);Jm(t,U,!0)}}}}class Zv extends dr{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:le.NC("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:sr,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:(0,kn.gx)(2089,2078),weight:100}})}invoke(e,t,i,s,o){if(t.regions.hasTypes())Zm(t,Un.AD.Region.value,!1);else{const d=i.getModel();if(!d)return;const p=o.getLanguageConfiguration(d.getLanguageId()).foldingRules;if(p&&p.markers&&p.markers.start){const U=new RegExp(p.markers.start);Jm(t,U,!1)}}}}class qv extends dr{constructor(){super({id:"editor.foldAllExcept",label:le.NC("foldAllExcept.label","Fold All Except Selected"),alias:"Fold All Except Selected",precondition:sr,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:(0,kn.gx)(2089,2136),weight:100}})}invoke(e,t,i){const s=this.getSelectedLines(i);KC(t,!0,s)}}class eT extends dr{constructor(){super({id:"editor.unfoldAllExcept",label:le.NC("unfoldAllExcept.label","Unfold All Except Selected"),alias:"Unfold All Except Selected",precondition:sr,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:(0,kn.gx)(2089,2134),weight:100}})}invoke(e,t,i){const s=this.getSelectedLines(i);KC(t,!1,s)}}class tT extends dr{constructor(){super({id:"editor.foldAll",label:le.NC("foldAllAction.label","Fold All"),alias:"Fold All",precondition:sr,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:(0,kn.gx)(2089,2069),weight:100}})}invoke(e,t,i){Vc(t,!0)}}class iT extends dr{constructor(){super({id:"editor.unfoldAll",label:le.NC("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:sr,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:(0,kn.gx)(2089,2088),weight:100}})}invoke(e,t,i){Vc(t,!1)}}class Kd extends dr{getFoldingLevel(){return parseInt(this.id.substr(Kd.ID_PREFIX.length))}invoke(e,t,i){Nv(t,this.getFoldingLevel(),!0,this.getSelectedLines(i))}}Kd.ID_PREFIX="editor.foldLevel",Kd.ID=g=>Kd.ID_PREFIX+g;class nT extends dr{constructor(){super({id:"editor.gotoParentFold",label:le.NC("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:sr,kbOpts:{kbExpr:Pt.u.editorTextFocus,weight:100}})}invoke(e,t,i){const s=this.getSelectedLines(i);if(s.length>0){const o=Iv(s[0],t);o!==null&&i.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}class sT extends dr{constructor(){super({id:"editor.gotoPreviousFold",label:le.NC("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:sr,kbOpts:{kbExpr:Pt.u.editorTextFocus,weight:100}})}invoke(e,t,i){const s=this.getSelectedLines(i);if(s.length>0){const o=Av(s[0],t);o!==null&&i.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}class oT extends dr{constructor(){super({id:"editor.gotoNextFold",label:le.NC("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:sr,kbOpts:{kbExpr:Pt.u.editorTextFocus,weight:100}})}invoke(e,t,i){const s=this.getSelectedLines(i);if(s.length>0){const o=Dv(s[0],t);o!==null&&i.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}class rT extends dr{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:le.NC("createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:sr,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:(0,kn.gx)(2089,2135),weight:100}})}invoke(e,t,i){var s;const o=[],d=i.getSelections();if(d){for(const p of d){let U=p.endLineNumber;p.endColumn===1&&--U,U>p.startLineNumber&&(o.push({startLineNumber:p.startLineNumber,endLineNumber:U,type:void 0,isCollapsed:!0,source:1}),i.setSelection({startLineNumber:p.startLineNumber,startColumn:1,endLineNumber:p.startLineNumber,endColumn:1}))}if(o.length>0){o.sort((U,te)=>U.startLineNumber-te.startLineNumber);const p=Kr.sanitizeAndMerge(t.regions,o,(s=i.getModel())===null||s===void 0?void 0:s.getLineCount());t.updatePost(Kr.fromFoldRanges(p))}}}}class aT extends dr{constructor(){super({id:"editor.removeManualFoldingRanges",label:le.NC("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:sr,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:(0,kn.gx)(2089,2137),weight:100}})}invoke(e,t,i){const s=i.getSelections();if(s){const o=[];for(const d of s){const{startLineNumber:p,endLineNumber:U}=d;o.push(U>=p?{startLineNumber:p,endLineNumber:U}:{endLineNumber:U,startLineNumber:p})}t.removeManualRanges(o),e.triggerFoldingModelChanged()}}}(0,Ve._K)(qa.ID,qa,0),(0,Ve.Qr)(Kv),(0,Ve.Qr)(Yv),(0,Ve.Qr)(jv),(0,Ve.Qr)(Xv),(0,Ve.Qr)(tT),(0,Ve.Qr)(iT),(0,Ve.Qr)(Qv),(0,Ve.Qr)(Jv),(0,Ve.Qr)(Zv),(0,Ve.Qr)(qv),(0,Ve.Qr)(eT),(0,Ve.Qr)($v),(0,Ve.Qr)(nT),(0,Ve.Qr)(sT),(0,Ve.Qr)(oT),(0,Ve.Qr)(rT),(0,Ve.Qr)(aT);for(let g=1;g<=7;g++)(0,Ve.QG)(new Kd({id:Kd.ID(g),label:le.NC("foldLevelAction.label","Fold Level {0}",g),alias:`Fold Level ${g}`,precondition:sr,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:(0,kn.gx)(2089,2048|21+g),weight:100}}));jt.P.registerCommand("_executeFoldingRangeProvider",function(g,...e){return At(this,null,function*(){const[t]=e;if(!(t instanceof Xn.o))throw(0,rn.b1)();const i=g.get(hn.p),s=g.get(us.q).getModel(t);if(!s)throw(0,rn.b1)();const o=g.get(bi.Ui);if(!o.getValue("editor.folding",{resource:t}))return[];const d=g.get(Zs.c_),p=o.getValue("editor.foldingStrategy",{resource:t}),U={get limit(){return o.getValue("editor.foldingMaximumRegions",{resource:t})},update:($e,qe)=>{}},te=new qm(s,d,U);let de=te;if(p!=="indentation"){const $e=qa.getFoldingRangeProviders(i,s);$e.length&&(de=new tp(s,$e,()=>{},U,te))}const be=yield de.compute(pn.T.None),Ie=[];try{if(be)for(let $e=0;$e<be.length;$e++){const qe=be.getType($e);Ie.push({start:be.getStartLineNumber($e),end:be.getEndLineNumber($e),kind:qe?Un.AD.fromValue(qe):void 0})}return Ie}finally{de.dispose()}})});var ju=c(65072);class lT extends Ve.R6{constructor(){super({id:"editor.action.fontZoomIn",label:le.NC("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(e,t){ju.C.setZoomLevel(ju.C.getZoomLevel()+1)}}class dT extends Ve.R6{constructor(){super({id:"editor.action.fontZoomOut",label:le.NC("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(e,t){ju.C.setZoomLevel(ju.C.getZoomLevel()-1)}}class cT extends Ve.R6{constructor(){super({id:"editor.action.fontZoomReset",label:le.NC("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(e,t){ju.C.setZoomLevel(0)}}(0,Ve.Qr)(lT),(0,Ve.Qr)(dT),(0,Ve.Qr)(cT);var zf=c(72842),$u=c(22980),Kf=c(94519),uT=c(80943),JC=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Xu=function(g,e){return function(t,i){e(t,i,g)}};let Qu=class{constructor(e,t,i,s){this._editor=e,this._languageFeaturesService=t,this._workerService=i,this._accessibleNotificationService=s,this._disposables=new Ue.SL,this._sessionDisposables=new Ue.SL,this._disposables.add(t.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(o=>{o.hasChanged(56)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56)||!this._editor.hasModel())return;const e=this._editor.getModel(),[t]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;const i=new zf.q;for(const s of t.autoFormatTriggerCharacters)i.add(s.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(s=>{const o=s.charCodeAt(s.length-1);i.has(o)&&this._trigger(String.fromCharCode(o))}))}_trigger(e){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const t=this._editor.getModel(),i=this._editor.getPosition(),s=new pn.A,o=this._editor.onDidChangeModelContent(d=>{if(d.isFlush){s.cancel(),o.dispose();return}for(let p=0,U=d.changes.length;p<U;p++)if(d.changes[p].range.endLineNumber<=i.lineNumber){s.cancel(),o.dispose();return}});(0,Kf.Qs)(this._workerService,this._languageFeaturesService,t,i,e,t.getFormattingOptions(),s.token).then(d=>{s.token.isCancellationRequested||(0,cn.Of)(d)&&(this._accessibleNotificationService.notify("format",!1),uT.V.execute(this._editor,d,!0))}).finally(()=>{o.dispose()})}};Qu.ID="editor.contrib.autoFormat",Qu=JC([Xu(1,hn.p),Xu(2,$u.p),Xu(3,co.VX)],Qu);let Ju=class{constructor(e,t,i){this.editor=e,this._languageFeaturesService=t,this._instantiationService=i,this._callOnDispose=new Ue.SL,this._callOnModel=new Ue.SL,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(t.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(55)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:e})=>this._trigger(e)))}_trigger(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(Kf.x$,this.editor,e,2,ls.Ex.None,pn.T.None,!1).catch(rn.dL))}};Ju.ID="editor.contrib.formatOnPaste",Ju=JC([Xu(1,hn.p),Xu(2,Mn.TG)],Ju);class hT extends Ve.R6{constructor(){super({id:"editor.action.formatDocument",label:le.NC("formatDocument.label","Format Document"),alias:"Format Document",precondition:Ot.Ao.and(Pt.u.notInCompositeEditor,Pt.u.writable,Pt.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(e,t){return At(this,null,function*(){if(t.hasModel()){const i=e.get(Mn.TG);yield e.get(ls.ek).showWhile(i.invokeFunction(Kf.Qq,t,1,ls.Ex.None,pn.T.None,!0),250)}})}}class fT extends Ve.R6{constructor(){super({id:"editor.action.formatSelection",label:le.NC("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:Ot.Ao.and(Pt.u.writable,Pt.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:(0,kn.gx)(2089,2084),weight:100},contextMenuOpts:{when:Pt.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(e,t){return At(this,null,function*(){if(!t.hasModel())return;const i=e.get(Mn.TG),s=t.getModel(),o=t.getSelections().map(p=>p.isEmpty()?new it.e(p.startLineNumber,1,p.startLineNumber,s.getLineMaxColumn(p.startLineNumber)):p);yield e.get(ls.ek).showWhile(i.invokeFunction(Kf.x$,t,o,1,ls.Ex.None,pn.T.None,!0),250)})}}(0,Ve._K)(Qu.ID,Qu,2),(0,Ve._K)(Ju.ID,Ju,2),(0,Ve.Qr)(hT),(0,Ve.Qr)(fT),jt.P.registerCommand("editor.action.format",g=>At(this,null,function*(){const e=g.get($i.$).getFocusedCodeEditor();if(!e||!e.hasModel())return;const t=g.get(jt.H);e.getSelection().isEmpty()?yield t.executeCommand("editor.action.formatDocument"):yield t.executeCommand("editor.action.formatSelection")}));var gT=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},ip=function(g,e){return function(t,i){e(t,i,g)}};class zc{remove(){var e;(e=this.parent)===null||e===void 0||e.children.delete(this.id)}static findId(e,t){let i;typeof e=="string"?i=`${t.id}/${e}`:(i=`${t.id}/${e.name}`,t.children.get(i)!==void 0&&(i=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let s=i;for(let o=0;t.children.get(s)!==void 0;o++)s=`${i}_${o}`;return s}static empty(e){return e.children.size===0}}class np extends zc{constructor(e,t,i){super(),this.id=e,this.parent=t,this.symbol=i,this.children=new Map}}class ZC extends zc{constructor(e,t,i,s){super(),this.id=e,this.parent=t,this.label=i,this.order=s,this.children=new Map}}class Rl extends zc{static create(e,t,i){const s=new pn.A(i),o=new Rl(t.uri),d=e.ordered(t),p=d.map((te,de)=>{var be;const Ie=zc.findId(`provider_${de}`,o),$e=new ZC(Ie,o,(be=te.displayName)!==null&&be!==void 0?be:"Unknown Outline Provider",de);return Promise.resolve(te.provideDocumentSymbols(t,s.token)).then(qe=>{for(const ft of qe||[])Rl._makeOutlineElement(ft,$e);return $e},qe=>((0,rn.Cp)(qe),$e)).then(qe=>{zc.empty(qe)?qe.remove():o._groups.set(Ie,qe)})}),U=e.onDidChange(()=>{const te=e.ordered(t);(0,cn.fS)(te,d)||s.cancel()});return Promise.all(p).then(()=>s.token.isCancellationRequested&&!i.isCancellationRequested?Rl.create(e,t,i):o._compact()).finally(()=>{s.dispose(),U.dispose(),s.dispose()})}static _makeOutlineElement(e,t){const i=zc.findId(e,t),s=new np(i,t,e);if(e.children)for(const o of e.children)Rl._makeOutlineElement(o,s);t.children.set(s.id,s)}constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let e=0;for(const[t,i]of this._groups)i.children.size===0?this._groups.delete(t):e+=1;if(e!==1)this.children=this._groups;else{const t=La.$.first(this._groups.values());for(const[,i]of t.children)i.parent=this,this.children.set(i.id,i)}return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof np?e.push(t.symbol):e.push(...La.$.map(t.children.values(),i=>i.symbol));return e.sort((t,i)=>it.e.compareRangesUsingStarts(t.range,i.range))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return Rl._flattenDocumentSymbols(t,e,""),t.sort((i,s)=>bt.L.compare(it.e.getStartPosition(i.range),it.e.getStartPosition(s.range))||bt.L.compare(it.e.getEndPosition(s.range),it.e.getEndPosition(i.range)))}static _flattenDocumentSymbols(e,t,i){for(const s of t)e.push({kind:s.kind,tags:s.tags,name:s.name,detail:s.detail,containerName:s.containerName||i,range:s.range,selectionRange:s.selectionRange,children:void 0}),s.children&&Rl._flattenDocumentSymbols(e,s.children,s.name)}}const Yf=(0,Mn.yh)("IOutlineModelService");let sp=class{constructor(e,t,i){this._languageFeaturesService=e,this._disposables=new Ue.SL,this._cache=new Go.z6(10,.7),this._debounceInformation=t.for(e.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(i.onModelRemoved(s=>{this._cache.delete(s.id)}))}dispose(){this._disposables.dispose()}getOrCreate(e,t){return At(this,null,function*(){const i=this._languageFeaturesService.documentSymbolProvider,s=i.ordered(e);let o=this._cache.get(e.id);if(!o||o.versionId!==e.getVersionId()||!(0,cn.fS)(o.provider,s)){const p=new pn.A;o={versionId:e.getVersionId(),provider:s,promiseCnt:0,source:p,promise:Rl.create(i,e,p.token),model:void 0},this._cache.set(e.id,o);const U=Date.now();o.promise.then(te=>{o.model=te,this._debounceInformation.update(e,Date.now()-U)}).catch(te=>{this._cache.delete(e.id)})}if(o.model)return o.model;o.promiseCnt+=1;const d=t.onCancellationRequested(()=>{--o.promiseCnt===0&&(o.source.cancel(),this._cache.delete(e.id))});try{return yield o.promise}finally{d.dispose()}})}};sp=gT([ip(0,hn.p),ip(1,Yi.A),ip(2,us.q)],sp),(0,eo.z)(Yf,sp,1),jt.P.registerCommand("_executeDocumentSymbolProvider",function(g,...e){return At(this,null,function*(){const[t]=e;(0,Zn.p_)(Xn.o.isUri(t));const i=g.get(Yf),o=yield g.get(un.S).createModelReference(t);try{return(yield i.getOrCreate(o.object.textEditorModel,pn.T.None)).getTopLevelSymbols()}finally{o.dispose()}})});var mT=c(5411),pT=c(41498);class Wo extends Ue.JT{constructor(e,t){super(),this.contextKeyService=e,this.model=t,this.inlineCompletionVisible=Wo.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=Wo.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=Wo.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=Wo.suppressSuggestions.bindTo(this.contextKeyService),this._register((0,Vn.EH)(i=>{const s=this.model.read(i),o=s==null?void 0:s.state.read(i),d=!!(o!=null&&o.inlineCompletion)&&(o==null?void 0:o.ghostText)!==void 0&&!(o!=null&&o.ghostText.isEmpty());this.inlineCompletionVisible.set(d),o!=null&&o.ghostText&&(o!=null&&o.inlineCompletion)&&this.suppressSuggestions.set(o.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register((0,Vn.EH)(i=>{const s=this.model.read(i);let o=!1,d=!0;const p=s==null?void 0:s.ghostText.read(i);if(s!=null&&s.selectedSuggestItem&&p&&p.parts.length>0){const{column:U,lines:te}=p.parts[0],de=te[0],be=s.textModel.getLineIndentColumn(p.lineNumber);if(U<=be){let $e=(0,Zi.LC)(de);$e===-1&&($e=de.length-1),o=$e>0;const qe=s.textModel.getOptions().tabSize;d=pT.i.visibleColumnFromColumn(de,$e+1,qe)<qe}}this.inlineCompletionSuggestsIndentation.set(o),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(d)}))}}Wo.inlineSuggestionVisible=new Ot.uy("inlineSuggestionVisible",!1,(0,le.NC)("inlineSuggestionVisible","Whether an inline suggestion is visible")),Wo.inlineSuggestionHasIndentation=new Ot.uy("inlineSuggestionHasIndentation",!1,(0,le.NC)("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),Wo.inlineSuggestionHasIndentationLessThanTabSize=new Ot.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,(0,le.NC)("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),Wo.suppressSuggestions=new Ot.uy("inlineSuggestionSuppressSuggestions",void 0,(0,le.NC)("suppressSuggestions","Whether suggestions should be suppressed for the current suggestion"));var qC=c(6180),_T=c(12007),op=c(56943),jf=c(88748);function CT(g,e){const t=new ET(g),i=e.map(s=>{const o=it.e.lift(s.range);return{startOffset:t.getOffset(o.getStartPosition()),endOffset:t.getOffset(o.getEndPosition()),text:s.text}});i.sort((s,o)=>o.startOffset-s.startOffset);for(const s of i)g=g.substring(0,s.startOffset)+s.text+g.substring(s.endOffset);return g}class ET{constructor(e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)e.charAt(t)===`
`&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}}const ST=[];function vT(){return ST}class TT{constructor(e,t){if(this.startColumn=e,this.endColumnExclusive=t,e>t)throw new rn.he(`startColumn ${e} cannot be after endColumnExclusive ${t}`)}toRange(e){return new it.e(e,this.startColumn,e,this.endColumnExclusive)}equals(e){return this.startColumn===e.startColumn&&this.endColumnExclusive===e.endColumnExclusive}}function bT(g,e){const t=new Ue.SL,i=g.createDecorationsCollection();return t.add((0,Vn.UV)({debugName:()=>`Apply decorations from ${e.debugName}`},s=>{const o=e.read(s);i.set(o)})),t.add({dispose:()=>{i.clear()}}),t}function rp(g,e){return new bt.L(g.lineNumber+e.lineNumber-1,e.lineNumber===1?g.column+e.column-1:e.column)}function ap(g){let e=1,t=1;for(const i of g)i===`
`?(e++,t=1):t++;return new bt.L(e,t)}class $f{constructor(e,t){this.lineNumber=e,this.parts=t}equals(e){return this.lineNumber===e.lineNumber&&this.parts.length===e.parts.length&&this.parts.every((t,i)=>t.equals(e.parts[i]))}renderForScreenReader(e){if(this.parts.length===0)return"";const t=this.parts[this.parts.length-1],i=e.substr(0,t.column-1);return CT(i,this.parts.map(o=>({range:{startLineNumber:1,endLineNumber:1,startColumn:o.column,endColumn:o.column},text:o.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(e=>e.lines.length===0)}get lineCount(){return 1+this.parts.reduce((e,t)=>e+t.lines.length-1,0)}}class lp{constructor(e,t,i){this.column=e,this.lines=t,this.preview=i}equals(e){return this.column===e.column&&this.lines.length===e.lines.length&&this.lines.every((t,i)=>t===e.lines[i])}}class dp{constructor(e,t,i,s=0){this.lineNumber=e,this.columnRange=t,this.newLines=i,this.additionalReservedLineCount=s,this.parts=[new lp(this.columnRange.endColumnExclusive,this.newLines,!1)]}renderForScreenReader(e){return this.newLines.join(`
`)}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(e=>e.lines.length===0)}equals(e){return this.lineNumber===e.lineNumber&&this.columnRange.equals(e.columnRange)&&this.newLines.length===e.newLines.length&&this.newLines.every((t,i)=>t===e.newLines[i])&&this.additionalReservedLineCount===e.additionalReservedLineCount}}function eE(g,e){return g===e?!0:!g||!e?!1:g instanceof $f&&e instanceof $f||g instanceof dp&&e instanceof dp?g.equals(e):!1}var LT=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},RT=function(g,e){return function(t,i){e(t,i,g)}};const tE="ghost-text";let cp=class extends Ue.JT{constructor(e,t,i){super(),this.editor=e,this.model=t,this.languageService=i,this.isDisposed=(0,Vn.uh)(this,!1),this.currentTextModel=(0,Vn.rD)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,Vn.nK)(this,s=>{if(this.isDisposed.read(s))return;const o=this.currentTextModel.read(s);if(o!==this.model.targetTextModel.read(s))return;const d=this.model.ghostText.read(s);if(!d)return;const p=d instanceof dp?d.columnRange:void 0,U=[],te=[];function de(ft,Zt){if(te.length>0){const Kt=te[te.length-1];Zt&&Kt.decorations.push(new op.Kp(Kt.content.length+1,Kt.content.length+1+ft[0].length,Zt,0)),Kt.content+=ft[0],ft=ft.slice(1)}for(const Kt of ft)te.push({content:Kt,decorations:Zt?[new op.Kp(1,Kt.length+1,Zt,0)]:[]})}const be=o.getLineContent(d.lineNumber);let Ie,$e=0;for(const ft of d.parts){let Zt=ft.lines;Ie===void 0?(U.push({column:ft.column,text:Zt[0],preview:ft.preview}),Zt=Zt.slice(1)):de([be.substring($e,ft.column-1)],void 0),Zt.length>0&&(de(Zt,tE),Ie===void 0&&ft.column<=be.length&&(Ie=ft.column)),$e=ft.column-1}Ie!==void 0&&de([be.substring($e)],void 0);const qe=Ie!==void 0?new TT(Ie,be.length+1):void 0;return{replacedRange:p,inlineTexts:U,additionalLines:te,hiddenRange:qe,lineNumber:d.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(s),targetTextModel:o}}),this.decorations=(0,Vn.nK)(this,s=>{const o=this.uiState.read(s);if(!o)return[];const d=[];o.replacedRange&&d.push({range:o.replacedRange.toRange(o.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),o.hiddenRange&&d.push({range:o.hiddenRange.toRange(o.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const p of o.inlineTexts)d.push({range:it.e.fromPositions(new bt.L(o.lineNumber,p.column)),options:{description:tE,after:{content:p.text,inlineClassName:p.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:fi.RM.Left},showIfCollapsed:!0}});return d}),this.additionalLinesWidget=this._register(new NT(this.editor,this.languageService.languageIdCodec,(0,Vn.nK)(s=>{const o=this.uiState.read(s);return o?{lineNumber:o.lineNumber,additionalLines:o.additionalLines,minReservedLineCount:o.additionalReservedLineCount,targetTextModel:o.targetTextModel}:void 0}))),this._register((0,Ue.OF)(()=>{this.isDisposed.set(!0,void 0)})),this._register(bT(this.editor,this.decorations))}ownsViewZone(e){return this.additionalLinesWidget.viewZoneId===e}};cp=LT([RT(2,Ro.O)],cp);class NT extends Ue.JT{get viewZoneId(){return this._viewZoneId}constructor(e,t,i){super(),this.editor=e,this.languageIdCodec=t,this.lines=i,this._viewZoneId=void 0,this.editorOptionsChanged=(0,Vn.aq)("editorOptionChanged",Ln.ju.filter(this.editor.onDidChangeConfiguration,s=>s.hasChanged(33)||s.hasChanged(116)||s.hasChanged(98)||s.hasChanged(93)||s.hasChanged(51)||s.hasChanged(50)||s.hasChanged(66))),this._register((0,Vn.EH)(s=>{const o=this.lines.read(s);this.editorOptionsChanged.read(s),o?this.updateLines(o.lineNumber,o.additionalLines,o.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(e,t,i){const s=this.editor.getModel();if(!s)return;const{tabSize:o}=s.getOptions();this.editor.changeViewZones(d=>{this._viewZoneId&&(d.removeZone(this._viewZoneId),this._viewZoneId=void 0);const p=Math.max(t.length,i);if(p>0){const U=document.createElement("div");IT(U,o,t,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=d.addZone({afterLineNumber:e,heightInLines:p,domNode:U,afterColumnAffinity:1})}})}}function IT(g,e,t,i,s){const o=i.get(33),d=i.get(116),p="none",U=i.get(93),te=i.get(51),de=i.get(50),be=i.get(66),Ie=new qC.HT(1e4);Ie.appendString('<div class="suggest-preview-text">');for(let ft=0,Zt=t.length;ft<Zt;ft++){const Kt=t[ft],mi=Kt.content;Ie.appendString('<div class="view-line'),Ie.appendString('" style="top:'),Ie.appendString(String(ft*be)),Ie.appendString('px;width:1000000px;">');const ki=Zi.$i(mi),Ui=Zi.Ut(mi),Hi=_T.A.createEmpty(mi,s);(0,jf.d1)(new jf.IJ(de.isMonospace&&!o,de.canUseHalfwidthRightwardsArrow,mi,!1,ki,Ui,0,Hi,Kt.decorations,e,0,de.spaceWidth,de.middotWidth,de.wsmiddotWidth,d,p,U,te!==bs.n0.OFF,null),Ie),Ie.appendString("</div>")}Ie.appendString("</div>"),(0,kr.N)(g,de);const $e=Ie.build(),qe=iE?iE.createHTML($e):$e;g.innerHTML=qe}const iE=(0,Ho.Z)("editorGhostText",{createHTML:g=>g});var AT=c(32522),DT=c(47022),ql=c(94098),wT=c(56288),yT=c(46437),OT=c(61795);function PT(g,e){const t=new yT.FE,i=new DT.Z(t,te=>e.getLanguageConfiguration(te)),s=new OT.xH(new MT([g]),i),o=(0,wT.w)(s,[],void 0,!0);let d="";const p=g.getLineContent();function U(te,de){if(te.kind===2)if(U(te.openingBracket,de),de=(0,ql.Ii)(de,te.openingBracket.length),te.child&&(U(te.child,de),de=(0,ql.Ii)(de,te.child.length)),te.closingBracket)U(te.closingBracket,de),de=(0,ql.Ii)(de,te.closingBracket.length);else{const Ie=i.getSingleLanguageBracketTokens(te.openingBracket.languageId).findClosingTokenText(te.openingBracket.bracketIds);d+=Ie}else if(te.kind!==3){if(te.kind===0||te.kind===1)d+=p.substring((0,ql.F_)(de),(0,ql.F_)((0,ql.Ii)(de,te.length)));else if(te.kind===4)for(const be of te.children)U(be,de),de=(0,ql.Ii)(de,be.length)}}return U(o,ql.xl),d}class MT{constructor(e){this.lines=e,this.tokenization={getLineTokens:t=>this.lines[t-1]}}getLineCount(){return this.lines.length}getLineLength(e){return this.lines[e-1].getLineContent().length}}class ma{constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return e===95||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const e=this.pos;let t=0,i=this.value.charCodeAt(e),s;if(s=ma._table[i],typeof s=="number")return this.pos+=1,{type:s,pos:e,len:1};if(ma.isDigitCharacter(i)){s=8;do t+=1,i=this.value.charCodeAt(e+t);while(ma.isDigitCharacter(i));return this.pos+=t,{type:s,pos:e,len:t}}if(ma.isVariableCharacter(i)){s=9;do i=this.value.charCodeAt(e+ ++t);while(ma.isVariableCharacter(i)||ma.isDigitCharacter(i));return this.pos+=t,{type:s,pos:e,len:t}}s=10;do t+=1,i=this.value.charCodeAt(e+t);while(!isNaN(i)&&typeof ma._table[i]=="undefined"&&!ma.isDigitCharacter(i)&&!ma.isVariableCharacter(i));return this.pos+=t,{type:s,pos:e,len:t}}}ma._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class Kc{constructor(){this._children=[]}appendChild(e){return e instanceof gr&&this._children[this._children.length-1]instanceof gr?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){const{parent:i}=e,s=i.children.indexOf(e),o=i.children.slice(0);o.splice(s,1,...t),i._children=o,function d(p,U){for(const te of p)te.parent=U,d(te.children,te)}(t,i)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof qu)return e;e=e.parent}}toString(){return this.children.reduce((e,t)=>e+t.toString(),"")}len(){return 0}}class gr extends Kc{constructor(e){super(),this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new gr(this.value)}}class nE extends Kc{}class da extends nE{static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}constructor(e){super(),this.index=e}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof Yc?this._children[0]:void 0}clone(){const e=new da(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}class Yc extends Kc{constructor(){super(...arguments),this.options=[]}appendChild(e){return e instanceof gr&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const e=new Yc;return this.options.forEach(e.appendChild,e),e}}class up extends Kc{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(e){const t=this;let i=!1,s=e.replace(this.regexp,function(){return i=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))});return!i&&this._children.some(o=>o instanceof ya&&!!o.elseValue)&&(s=this._replace([])),s}_replace(e){let t="";for(const i of this._children)if(i instanceof ya){let s=e[i.index]||"";s=i.resolve(s),t+=s}else t+=i.toString();return t}toString(){return""}clone(){const e=new up;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map(t=>t.clone()),e}}class ya extends Kc{constructor(e,t,i,s){super(),this.index=e,this.shorthandName=t,this.ifValue=i,this.elseValue=s}resolve(e){return this.shorthandName==="upcase"?e?e.toLocaleUpperCase():"":this.shorthandName==="downcase"?e?e.toLocaleLowerCase():"":this.shorthandName==="capitalize"?e?e[0].toLocaleUpperCase()+e.substr(1):"":this.shorthandName==="pascalcase"?e?this._toPascalCase(e):"":this.shorthandName==="camelcase"?e?this._toCamelCase(e):"":e&&typeof this.ifValue=="string"?this.ifValue:!e&&typeof this.elseValue=="string"?this.elseValue:e||""}_toPascalCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map(i=>i.charAt(0).toUpperCase()+i.substr(1)).join(""):e}_toCamelCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map((i,s)=>s===0?i.charAt(0).toLowerCase()+i.substr(1):i.charAt(0).toUpperCase()+i.substr(1)).join(""):e}clone(){return new ya(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class Zu extends nE{constructor(e){super(),this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),t!==void 0?(this._children=[new gr(t)],!0):!1}clone(){const e=new Zu(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}function sE(g,e){const t=[...g];for(;t.length>0;){const i=t.shift();if(!e(i))break;t.unshift(...i.children)}}class qu extends Kc{get placeholderInfo(){if(!this._placeholders){const e=[];let t;this.walk(function(i){return i instanceof da&&(e.push(i),t=!t||t.index<i.index?i:t),!0}),this._placeholders={all:e,last:t}}return this._placeholders}get placeholders(){const{all:e}=this.placeholderInfo;return e}offset(e){let t=0,i=!1;return this.walk(s=>s===e?(i=!0,!1):(t+=s.len(),!0)),i?t:-1}fullLen(e){let t=0;return sE([e],i=>(t+=i.len(),!0)),t}enclosingPlaceholders(e){const t=[];let{parent:i}=e;for(;i;)i instanceof da&&t.push(i),i=i.parent;return t}resolveVariables(e){return this.walk(t=>(t instanceof Zu&&t.resolve(e)&&(this._placeholders=void 0),!0)),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){const e=new qu;return this._children=this.children.map(t=>t.clone()),e}walk(e){sE(this.children,e)}}class jc{constructor(){this._scanner=new ma,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,i){const s=new qu;return this.parseFragment(e,s),this.ensureFinalTabstop(s,i!=null?i:!1,t!=null?t:!1),s}parseFragment(e,t){const i=t.children.length;for(this._scanner.text(e),this._token=this._scanner.next();this._parse(t););const s=new Map,o=[];t.walk(U=>(U instanceof da&&(U.isFinalTabstop?s.set(0,void 0):!s.has(U.index)&&U.children.length>0?s.set(U.index,U.children):o.push(U)),!0));const d=(U,te)=>{const de=s.get(U.index);if(!de)return;const be=new da(U.index);be.transform=U.transform;for(const Ie of de){const $e=Ie.clone();be.appendChild($e),$e instanceof da&&s.has($e.index)&&!te.has($e.index)&&(te.add($e.index),d($e,te),te.delete($e.index))}t.replace(U,[be])},p=new Set;for(const U of o)d(U,p);return t.children.slice(i)}ensureFinalTabstop(e,t,i){(t||i&&e.placeholders.length>0)&&(e.placeholders.find(o=>o.index===0)||e.appendChild(new da(0)))}_accept(e,t){if(e===void 0||this._token.type===e){const i=t?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),i}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){const t=this._token;for(;this._token.type!==e;){if(this._token.type===14)return!1;if(this._token.type===5){const s=this._scanner.next();if(s.type!==0&&s.type!==4&&s.type!==5)return!1}this._token=this._scanner.next()}const i=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),i}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return(t=this._accept(5,!0))?(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new gr(t)),!0):!1}_parseTabstopOrVariableName(e){let t;const i=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new da(Number(t)):new Zu(t)),!0):this._backTo(i)}_parseComplexPlaceholder(e){let t;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(i);const o=new da(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new gr("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else if(o.index>0&&this._accept(7)){const d=new Yc;for(;;){if(this._parseChoiceElement(d)){if(this._accept(2))continue;if(this._accept(7)&&(o.appendChild(d),this._accept(4)))return e.appendChild(o),!0}return this._backTo(i),!1}}else return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(i)}_parseChoiceElement(e){const t=this._token,i=[];for(;!(this._token.type===2||this._token.type===7);){let s;if((s=this._accept(5,!0))?s=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||s:s=this._accept(void 0,!0),!s)return this._backTo(t),!1;i.push(s)}return i.length===0?(this._backTo(t),!1):(e.appendChild(new gr(i.join(""))),!0)}_parseComplexVariable(e){let t;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(i);const o=new Zu(t);if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new gr("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(i)}_parseTransform(e){const t=new up;let i="",s="";for(;!this._accept(6);){let o;if(o=this._accept(5,!0)){o=this._accept(6,!0)||o,i+=o;continue}if(this._token.type!==14){i+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let o;if(o=this._accept(5,!0)){o=this._accept(5,!0)||this._accept(6,!0)||o,t.appendChild(new gr(o));continue}if(!(this._parseFormatString(t)||this._parseAnything(t)))return!1}for(;!this._accept(4);){if(this._token.type!==14){s+=this._accept(void 0,!0);continue}return!1}try{t.regexp=new RegExp(i,s)}catch(o){return!1}return e.transform=t,!0}_parseFormatString(e){const t=this._token;if(!this._accept(0))return!1;let i=!1;this._accept(3)&&(i=!0);const s=this._accept(8,!0);if(s)if(i){if(this._accept(4))return e.appendChild(new ya(Number(s))),!0;if(!this._accept(1))return this._backTo(t),!1}else return e.appendChild(new ya(Number(s))),!0;else return this._backTo(t),!1;if(this._accept(6)){const o=this._accept(9,!0);return!o||!this._accept(4)?(this._backTo(t),!1):(e.appendChild(new ya(Number(s),o)),!0)}else if(this._accept(11)){const o=this._until(4);if(o)return e.appendChild(new ya(Number(s),void 0,o,void 0)),!0}else if(this._accept(12)){const o=this._until(4);if(o)return e.appendChild(new ya(Number(s),void 0,void 0,o)),!0}else if(this._accept(13)){const o=this._until(1);if(o){const d=this._until(4);if(d)return e.appendChild(new ya(Number(s),void 0,o,d)),!0}}else{const o=this._until(4);if(o)return e.appendChild(new ya(Number(s),void 0,void 0,o)),!0}return this._backTo(t),!1}_parseAnything(e){return this._token.type!==14?(e.appendChild(new gr(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}function xT(d,p,U,te){return At(this,arguments,function*(g,e,t,i,s=pn.T.None,o){const de=BT(e,t),be=g.all(t),Ie=new Go.ri;for(const Hi of be)Hi.groupId&&Ie.add(Hi.groupId,Hi);function $e(Hi){if(!Hi.yieldsToGroupIds)return[];const vn=[];for(const Pn of Hi.yieldsToGroupIds||[]){const fs=Ie.get(Pn);for(const gs of fs)vn.push(gs)}return vn}const qe=new Map,ft=new Set;function Zt(Hi,vn){if(vn=[...vn,Hi],ft.has(Hi))return vn;ft.add(Hi);try{const Pn=$e(Hi);for(const fs of Pn){const gs=Zt(fs,vn);if(gs)return gs}}finally{ft.delete(Hi)}}function Kt(Hi){const vn=qe.get(Hi);if(vn)return vn;const Pn=Zt(Hi,[]);Pn&&(0,rn.Cp)(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${Pn.map(gs=>gs.toString?gs.toString():""+gs).join(" -> ")}`));const fs=new Ke.CR;return qe.set(Hi,fs.p),(()=>At(this,null,function*(){if(!Pn){const gs=$e(Hi);for(const As of gs){const xr=yield Kt(As);if(xr&&xr.items.length>0)return}}try{return yield Hi.provideInlineCompletions(t,e,i,s)}catch(gs){(0,rn.Cp)(gs);return}}))().then(gs=>fs.complete(gs),gs=>fs.error(gs)),fs.p}const mi=yield Promise.all(be.map(Hi=>At(this,null,function*(){return{provider:Hi,completions:yield Kt(Hi)}}))),ki=new Map,Ui=[];for(const Hi of mi){const vn=Hi.completions;if(!vn)continue;const Pn=new FT(vn,Hi.provider);Ui.push(Pn);for(const fs of vn.items){const gs=Xf.from(fs,Pn,de,t,o);ki.set(gs.hash(),gs)}}return new kT(Array.from(ki.values()),new Set(ki.keys()),Ui)})}class kT{constructor(e,t,i){this.completions=e,this.hashs=t,this.providerResults=i}has(e){return this.hashs.has(e.hash())}dispose(){for(const e of this.providerResults)e.removeRef()}}class FT{constructor(e,t){this.inlineCompletions=e,this.provider=t,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}class Xf{static from(e,t,i,s,o){let d,p,U=e.range?it.e.lift(e.range):i;if(typeof e.insertText=="string"){if(d=e.insertText,o&&e.completeBracketPairs){d=oE(d,U.getStartPosition(),s,o);const te=d.length-e.insertText.length;te!==0&&(U=new it.e(U.startLineNumber,U.startColumn,U.endLineNumber,U.endColumn+te))}p=void 0}else if("snippet"in e.insertText){const te=e.insertText.snippet.length;if(o&&e.completeBracketPairs){e.insertText.snippet=oE(e.insertText.snippet,U.getStartPosition(),s,o);const be=e.insertText.snippet.length-te;be!==0&&(U=new it.e(U.startLineNumber,U.startColumn,U.endLineNumber,U.endColumn+be))}const de=new jc().parse(e.insertText.snippet);de.children.length===1&&de.children[0]instanceof gr?(d=de.children[0].value,p=void 0):(d=de.toString(),p={snippet:e.insertText.snippet,range:U})}else(0,AT.vE)(e.insertText);return new Xf(d,e.command,U,d,p,e.additionalTextEdits||vT(),e,t)}constructor(e,t,i,s,o,d,p,U){this.filterText=e,this.command=t,this.range=i,this.insertText=s,this.snippetInfo=o,this.additionalTextEdits=d,this.sourceInlineCompletion=p,this.source=U,e=e.replace(/\r\n|\r/g,`
`),s=e.replace(/\r\n|\r/g,`
`)}withRange(e){return new Xf(this.filterText,this.command,e,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}function BT(g,e){const t=e.getWordAtPosition(g),i=e.getLineMaxColumn(g.lineNumber);return t?new it.e(g.lineNumber,t.startColumn,g.lineNumber,i):it.e.fromPositions(g,g.with(void 0,i))}function oE(g,e,t,i){const o=t.getLineContent(e.lineNumber).substring(0,e.column-1)+g,d=t.tokenization.tokenizeLineWithEdit(e,o.length-(e.column-1),g),p=d==null?void 0:d.sliceAndInflate(e.column-1,o.length,0);return p?PT(p,i):g}var WT=c(72221);class $c{constructor(e,t){this.range=e,this.text=t}removeCommonPrefix(e,t){const i=t?this.range.intersectRanges(t):this.range;if(!i)return this;const s=e.getValueInRange(i,1),o=(0,Zi.Mh)(s,this.text),d=rp(this.range.getStartPosition(),ap(s.substring(0,o))),p=this.text.substring(o),U=it.e.fromPositions(d,this.range.getEndPosition());return new $c(U,p)}augments(e){return this.text.startsWith(e.text)&&HT(this.range,e.range)}computeGhostText(e,t,i,s=0){let o=this.removeCommonPrefix(e);if(o.range.endLineNumber!==o.range.startLineNumber)return;const d=e.getLineContent(o.range.startLineNumber),p=(0,Zi.V8)(d).length;if(o.range.startColumn-1<=p){const qe=(0,Zi.V8)(o.text).length,ft=d.substring(o.range.startColumn-1,p),[Zt,Kt]=[o.range.getStartPosition(),o.range.getEndPosition()],mi=Zt.column+ft.length<=Kt.column?Zt.delta(0,ft.length):Kt,ki=it.e.fromPositions(mi,Kt),Ui=o.text.startsWith(ft)?o.text.substring(ft.length):o.text.substring(qe);o=new $c(ki,Ui)}const te=e.getValueInRange(o.range),de=UT(te,o.text);if(!de)return;const be=o.range.startLineNumber,Ie=new Array;if(t==="prefix"){const qe=de.filter(ft=>ft.originalLength===0);if(qe.length>1||qe.length===1&&qe[0].originalStart!==te.length)return}const $e=o.text.length-s;for(const qe of de){const ft=o.range.startColumn+qe.originalStart+qe.originalLength;if(t==="subwordSmart"&&i&&i.lineNumber===o.range.startLineNumber&&ft<i.column||qe.originalLength>0)return;if(qe.modifiedLength===0)continue;const Zt=qe.modifiedStart+qe.modifiedLength,Kt=Math.max(qe.modifiedStart,Math.min(Zt,$e)),mi=o.text.substring(qe.modifiedStart,Kt),ki=o.text.substring(Kt,Math.max(qe.modifiedStart,Zt));if(mi.length>0){const Ui=(0,Zi.uq)(mi);Ie.push(new lp(ft,Ui,!1))}if(ki.length>0){const Ui=(0,Zi.uq)(ki);Ie.push(new lp(ft,Ui,!0))}}return new $f(be,Ie)}}function HT(g,e){return e.getStartPosition().equals(g.getStartPosition())&&e.getEndPosition().isBeforeOrEqual(g.getEndPosition())}let el;function UT(g,e){if((el==null?void 0:el.originalValue)===g&&(el==null?void 0:el.newValue)===e)return el==null?void 0:el.changes;{let t=aE(g,e,!0);if(t){const i=rE(t);if(i>0){const s=aE(g,e,!1);s&&rE(s)<i&&(t=s)}}return el={originalValue:g,newValue:e,changes:t},t}}function rE(g){let e=0;for(const t of g)e+=t.originalLength;return e}function aE(g,e,t){if(g.length>5e3||e.length>5e3)return;function i(te){let de=0;for(let be=0,Ie=te.length;be<Ie;be++){const $e=te.charCodeAt(be);$e>de&&(de=$e)}return de}const s=Math.max(i(g),i(e));function o(te){if(te<0)throw new Error("unexpected");return s+te+1}function d(te){let de=0,be=0;const Ie=new Int32Array(te.length);for(let $e=0,qe=te.length;$e<qe;$e++)if(t&&te[$e]==="("){const ft=be*100+de;Ie[$e]=o(2*ft),de++}else if(t&&te[$e]===")"){de=Math.max(de-1,0);const ft=be*100+de;Ie[$e]=o(2*ft+1),de===0&&be++}else Ie[$e]=te.charCodeAt($e);return Ie}const p=d(g),U=d(e);return new WT.Hs({getElements:()=>p},{getElements:()=>U}).ComputeDiff(!1).changes}var VT=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},lE=function(g,e){return function(t,i){e(t,i,g)}};let hp=class extends Ue.JT{constructor(e,t,i,s,o){super(),this.textModel=e,this.versionId=t,this._debounceValue=i,this.languageFeaturesService=s,this.languageConfigurationService=o,this._updateOperation=this._register(new Ue.XK),this.inlineCompletions=(0,Vn.DN)("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=(0,Vn.DN)("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(e,t,i){var s,o;const d=new zT(e,t,this.textModel.getVersionId()),p=t.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(!((s=this._updateOperation.value)===null||s===void 0)&&s.request.satisfies(d))return this._updateOperation.value.promise;if(!((o=p.get())===null||o===void 0)&&o.request.satisfies(d))return Promise.resolve(!0);const U=!!this._updateOperation.value;this._updateOperation.clear();const te=new pn.A,de=(()=>At(this,null,function*(){if((U||t.triggerKind===Un.bw.Automatic)&&(yield GT(this._debounceValue.get(this.textModel))),te.token.isCancellationRequested||this.textModel.getVersionId()!==d.versionId)return!1;const $e=new Date,qe=yield xT(this.languageFeaturesService.inlineCompletionsProvider,e,this.textModel,t,te.token,this.languageConfigurationService);if(te.token.isCancellationRequested||this.textModel.getVersionId()!==d.versionId)return!1;const ft=new Date;this._debounceValue.update(this.textModel,ft.getTime()-$e.getTime());const Zt=new jT(qe,d,this.textModel,this.versionId);if(i){const Kt=i.toInlineCompletion(void 0);i.canBeReused(this.textModel,e)&&!qe.has(Kt)&&Zt.prepend(i.inlineCompletion,Kt.range,!0)}return this._updateOperation.clear(),(0,Vn.PS)(Kt=>{p.set(Zt,Kt)}),!0}))(),be=new YT(d,te,de);return this._updateOperation.value=be,de}clear(e){this._updateOperation.clear(),this.inlineCompletions.set(void 0,e),this.suggestWidgetInlineCompletions.set(void 0,e)}clearSuggestWidgetInlineCompletions(e){var t;!((t=this._updateOperation.value)===null||t===void 0)&&t.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,e)}cancelUpdate(){this._updateOperation.clear()}};hp=VT([lE(3,hn.p),lE(4,Zs.c_)],hp);function GT(g,e){return new Promise(t=>{let i;const s=setTimeout(()=>{i&&i.dispose(),t()},g);e&&(i=e.onCancellationRequested(()=>{clearTimeout(s),i&&i.dispose(),t()}))})}class zT{constructor(e,t,i){this.position=e,this.context=t,this.versionId=i}satisfies(e){return this.position.equals(e.position)&&KT(this.context.selectedSuggestionInfo,e.context.selectedSuggestionInfo,(t,i)=>t.equals(i))&&(e.context.triggerKind===Un.bw.Automatic||this.context.triggerKind===Un.bw.Explicit)&&this.versionId===e.versionId}}function KT(g,e,t){return!g||!e?g===e:t(g,e)}class YT{constructor(e,t,i){this.request=e,this.cancellationTokenSource=t,this.promise=i}dispose(){this.cancellationTokenSource.cancel()}}class jT{get inlineCompletions(){return this._inlineCompletions}constructor(e,t,i,s){this.inlineCompletionProviderResult=e,this.request=t,this.textModel=i,this.versionId=s,this._refCount=1,this._prependedInlineCompletionItems=[],this._rangeVersionIdValue=0,this._rangeVersionId=(0,Vn.nK)(this,d=>{this.versionId.read(d);let p=!1;for(const U of this._inlineCompletions)p=p||U._updateRange(this.textModel);return p&&this._rangeVersionIdValue++,this._rangeVersionIdValue});const o=i.deltaDecorations([],e.completions.map(d=>({range:d.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=e.completions.map((d,p)=>new dE(d,o[p],this._rangeVersionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){setTimeout(()=>{this.textModel.isDisposed()||this.textModel.deltaDecorations(this._inlineCompletions.map(e=>e.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(const e of this._prependedInlineCompletionItems)e.source.removeRef()}}prepend(e,t,i){i&&e.source.addRef();const s=this.textModel.deltaDecorations([],[{range:t,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new dE(e,s,this._rangeVersionId,t)),this._prependedInlineCompletionItems.push(e)}}class dE{get forwardStable(){var e;return(e=this.inlineCompletion.source.inlineCompletions.enableForwardStability)!==null&&e!==void 0?e:!1}constructor(e,t,i,s){this.inlineCompletion=e,this.decorationId=t,this.rangeVersion=i,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._isValid=!0,this._updatedRange=s!=null?s:e.range}toInlineCompletion(e){return this.inlineCompletion.withRange(this._getUpdatedRange(e))}toSingleTextEdit(e){return new $c(this._getUpdatedRange(e),this.inlineCompletion.insertText)}isVisible(e,t,i){const s=this._toFilterTextReplacement(i).removeCommonPrefix(e);if(!this._isValid||!this.inlineCompletion.range.getStartPosition().equals(this._getUpdatedRange(i).getStartPosition())||t.lineNumber!==s.range.startLineNumber)return!1;const o=e.getValueInRange(s.range,1),d=s.text,p=Math.max(0,t.column-s.range.startColumn);let U=d.substring(0,p),te=d.substring(p),de=o.substring(0,p),be=o.substring(p);const Ie=e.getLineIndentColumn(s.range.startLineNumber);return s.range.startColumn<=Ie&&(de=de.trimStart(),de.length===0&&(be=be.trimStart()),U=U.trimStart(),U.length===0&&(te=te.trimStart())),U.startsWith(de)&&!!(0,Ks.Sy)(be,te)}canBeReused(e,t){return this._isValid&&this._getUpdatedRange(void 0).containsPosition(t)&&this.isVisible(e,t,void 0)&&!this._isSmallerThanOriginal(void 0)}_toFilterTextReplacement(e){return new $c(this._getUpdatedRange(e),this.inlineCompletion.filterText)}_isSmallerThanOriginal(e){return cE(this._getUpdatedRange(e)).isBefore(cE(this.inlineCompletion.range))}_getUpdatedRange(e){return this.rangeVersion.read(e),this._updatedRange}_updateRange(e){const t=e.getDecorationRange(this.decorationId);return t?this._updatedRange.equalsRange(t)?!1:(this._updatedRange=t,!0):(this._isValid=!1,!0)}}function cE(g){return g.startLineNumber===g.endLineNumber?new bt.L(1,1+g.endColumn-g.startColumn):new bt.L(1+g.endLineNumber-g.startLineNumber,g.endColumn)}const Qn={Visible:Vm,HasFocusedSuggestion:new Ot.uy("suggestWidgetHasFocusedSuggestion",!1,(0,le.NC)("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new Ot.uy("suggestWidgetDetailsVisible",!1,(0,le.NC)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new Ot.uy("suggestWidgetMultipleSuggestions",!1,(0,le.NC)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new Ot.uy("suggestionMakesTextEdit",!0,(0,le.NC)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new Ot.uy("acceptSuggestionOnEnter",!0,(0,le.NC)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new Ot.uy("suggestionHasInsertAndReplaceRange",!1,(0,le.NC)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new Ot.uy("suggestionInsertMode",void 0,{type:"string",description:(0,le.NC)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new Ot.uy("suggestionCanResolve",!1,(0,le.NC)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},ed=new mt.eH("suggestWidgetStatusBar");class $T{constructor(e,t,i,s){var o;this.position=e,this.completion=t,this.container=i,this.provider=s,this.isInvalid=!1,this.score=Ks.CL.Default,this.distance=0,this.textLabel=typeof t.label=="string"?t.label:(o=t.label)===null||o===void 0?void 0:o.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),this.extensionId=t.extensionId,it.e.isIRange(t.range)?(this.editStart=new bt.L(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new bt.L(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new bt.L(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||it.e.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new bt.L(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new bt.L(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new bt.L(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||it.e.spansMultipleLines(t.range.insert)||it.e.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),typeof s.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}resolve(e){return At(this,null,function*(){if(!this._resolveCache){const t=e.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),i=new io.G(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then(s=>{Object.assign(this.completion,s),this._resolveDuration=i.elapsed()},s=>{(0,rn.n2)(s)&&(this._resolveCache=void 0,this._resolveDuration=void 0)}).finally(()=>{t.dispose()})}return this._resolveCache})}}class eh{constructor(e=2,t=new Set,i=new Set,s=new Map,o=!0){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=i,this.providerItemsToReuse=s,this.showDeprecated=o}}eh.default=new eh;let Xc;function XT(){return Xc}class QT{constructor(e,t,i,s){this.items=e,this.needsClipboard=t,this.durations=i,this.disposable=s}}function fp(d,p,U){return At(this,arguments,function*(g,e,t,i=eh.default,s={triggerKind:0},o=pn.T.None){const te=new io.G;t=t.clone();const de=e.getWordAtPosition(t),be=de?new it.e(t.lineNumber,de.startColumn,t.lineNumber,de.endColumn):it.e.fromPositions(t),Ie={replace:be,insert:be.setEndPosition(t.lineNumber,t.column)},$e=[],qe=new Ue.SL,ft=[];let Zt=!1;const Kt=(ki,Ui,Hi)=>{var vn,Pn,fs;let gs=!1;if(!Ui)return gs;for(const As of Ui.suggestions)if(!i.kindFilter.has(As.kind)){if(!i.showDeprecated&&(!((vn=As==null?void 0:As.tags)===null||vn===void 0)&&vn.includes(1)))continue;As.range||(As.range=Ie),As.sortText||(As.sortText=typeof As.label=="string"?As.label:As.label.label),!Zt&&As.insertTextRules&&As.insertTextRules&4&&(Zt=jc.guessNeedsClipboard(As.insertText)),$e.push(new $T(t,As,Ui,ki)),gs=!0}return(0,Ue.Wf)(Ui)&&qe.add(Ui),ft.push({providerName:(Pn=ki._debugDisplayName)!==null&&Pn!==void 0?Pn:"unknown_provider",elapsedProvider:(fs=Ui.duration)!==null&&fs!==void 0?fs:-1,elapsedOverall:Hi.elapsed()}),gs},mi=(()=>At(this,null,function*(){if(!Xc||i.kindFilter.has(27))return;const ki=i.providerItemsToReuse.get(Xc);if(ki){ki.forEach(vn=>$e.push(vn));return}if(i.providerFilter.size>0&&!i.providerFilter.has(Xc))return;const Ui=new io.G,Hi=yield Xc.provideCompletionItems(e,t,s,o);Kt(Xc,Hi,Ui)}))();for(const ki of g.orderedGroups(e)){let Ui=!1;if(yield Promise.all(ki.map(Hi=>At(this,null,function*(){if(i.providerItemsToReuse.has(Hi)){const vn=i.providerItemsToReuse.get(Hi);vn.forEach(Pn=>$e.push(Pn)),Ui=Ui||vn.length>0;return}if(!(i.providerFilter.size>0&&!i.providerFilter.has(Hi)))try{const vn=new io.G,Pn=yield Hi.provideCompletionItems(e,t,s,o);Ui=Kt(Hi,Pn,vn)||Ui}catch(vn){(0,rn.Cp)(vn)}}))),Ui||o.isCancellationRequested)break}return yield mi,o.isCancellationRequested?(qe.dispose(),Promise.reject(new rn.FU)):new QT($e.sort(qT(i.snippetSortOrder)),Zt,{entries:ft,elapsed:te.elapsed()},qe)})}function gp(g,e){if(g.sortTextLow&&e.sortTextLow){if(g.sortTextLow<e.sortTextLow)return-1;if(g.sortTextLow>e.sortTextLow)return 1}return g.textLabel<e.textLabel?-1:g.textLabel>e.textLabel?1:g.completion.kind-e.completion.kind}function JT(g,e){if(g.completion.kind!==e.completion.kind){if(g.completion.kind===27)return-1;if(e.completion.kind===27)return 1}return gp(g,e)}function ZT(g,e){if(g.completion.kind!==e.completion.kind){if(g.completion.kind===27)return 1;if(e.completion.kind===27)return-1}return gp(g,e)}const Qf=new Map;Qf.set(0,JT),Qf.set(2,ZT),Qf.set(1,gp);function qT(g){return Qf.get(g)}jt.P.registerCommand("_executeCompletionItemProvider",(g,...e)=>At(this,null,function*(){const[t,i,s,o]=e;(0,Zn.p_)(Xn.o.isUri(t)),(0,Zn.p_)(bt.L.isIPosition(i)),(0,Zn.p_)(typeof s=="string"||!s),(0,Zn.p_)(typeof o=="number"||!o);const{completionProvider:d}=g.get(hn.p),p=yield g.get(un.S).createModelReference(t);try{const U={incomplete:!1,suggestions:[]},te=[],de=p.object.textEditorModel.validatePosition(i),be=yield fp(d,p.object.textEditorModel,de,void 0,{triggerCharacter:s!=null?s:void 0,triggerKind:s?1:0});for(const Ie of be.items)te.length<(o!=null?o:0)&&te.push(Ie.resolve(pn.T.None)),U.incomplete=U.incomplete||Ie.container.incomplete,U.suggestions.push(Ie.completion);try{return yield Promise.all(te),U}finally{setTimeout(()=>be.disposable.dispose(),100)}}finally{p.dispose()}}));function eb(g,e){var t;(t=g.getContribution("editor.contrib.suggestController"))===null||t===void 0||t.triggerSuggest(new Set().add(e),void 0,!0)}class Qc{static isAllOff(e){return e.other==="off"&&e.comments==="off"&&e.strings==="off"}static isAllOn(e){return e.other==="on"&&e.comments==="on"&&e.strings==="on"}static valueFor(e,t){switch(t){case 1:return e.comments;case 2:return e.strings;default:return e.other}}}var Jf=c(58316),tb=c(64095);function uE(g,e=Ut.ED){return(0,tb.oP)(g,e)?g.charAt(0).toUpperCase()+g.slice(1):g}let HN=Object.create(null);var Nl=c(40795),ib=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},nb=function(g,e){return function(t,i){e(t,i,g)}};const UN=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class hE{constructor(e){this._delegates=e}resolve(e){for(const t of this._delegates){const i=t.resolve(e);if(i!==void 0)return i}}}class fE{constructor(e,t,i,s){this._model=e,this._selection=t,this._selectionIdx=i,this._overtypingCapturer=s}resolve(e){const{name:t}=e;if(t==="SELECTION"||t==="TM_SELECTED_TEXT"){let i=this._model.getValueInRange(this._selection)||void 0,s=this._selection.startLineNumber!==this._selection.endLineNumber;if(!i&&this._overtypingCapturer){const o=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);o&&(i=o.value,s=o.multiline)}if(i&&s&&e.snippet){const o=this._model.getLineContent(this._selection.startLineNumber),d=(0,Zi.V8)(o,0,this._selection.startColumn-1);let p=d;e.snippet.walk(te=>te===e?!1:(te instanceof gr&&(p=(0,Zi.V8)((0,Zi.uq)(te.value).pop())),!0));const U=(0,Zi.Mh)(p,d);i=i.replace(/(\r\n|\r|\n)(.*)/g,(te,de,be)=>`${de}${p.substr(U)}${be}`)}return i}else{if(t==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(t==="TM_CURRENT_WORD"){const i=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return i&&i.word||void 0}else{if(t==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(t==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(t==="CURSOR_INDEX")return String(this._selectionIdx);if(t==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}class gE{constructor(e,t){this._labelService=e,this._model=t}resolve(e){const{name:t}=e;if(t==="TM_FILENAME")return Nl.EZ(this._model.uri.fsPath);if(t==="TM_FILENAME_BASE"){const i=Nl.EZ(this._model.uri.fsPath),s=i.lastIndexOf(".");return s<=0?i:i.slice(0,s)}else{if(t==="TM_DIRECTORY")return Nl.XX(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,$s.XX)(this._model.uri));if(t==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(t==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class mE{constructor(e,t,i,s){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=i,this._spread=s}resolve(e){if(e.name!=="CLIPBOARD")return;const t=this._readClipboardText();if(t){if(this._spread){const i=t.split(/\r\n|\n|\r/).filter(s=>!(0,Zi.m5)(s));if(i.length===this._selectionCount)return i[this._selectionIdx]}return t}}}let Zf=class{constructor(e,t,i){this._model=e,this._selection=t,this._languageConfigurationService=i}resolve(e){const{name:t}=e,i=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),s=this._languageConfigurationService.getLanguageConfiguration(i).comments;if(s){if(t==="LINE_COMMENT")return s.lineCommentToken||void 0;if(t==="BLOCK_COMMENT_START")return s.blockCommentStartToken||void 0;if(t==="BLOCK_COMMENT_END")return s.blockCommentEndToken||void 0}}};Zf=ib([nb(2,Zs.c_)],Zf);class Oa{constructor(){this._date=new Date}resolve(e){const{name:t}=e;if(t==="CURRENT_YEAR")return String(this._date.getFullYear());if(t==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(t==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(t==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(t==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(t==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(t==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(t==="CURRENT_DAY_NAME")return Oa.dayNames[this._date.getDay()];if(t==="CURRENT_DAY_NAME_SHORT")return Oa.dayNamesShort[this._date.getDay()];if(t==="CURRENT_MONTH_NAME")return Oa.monthNames[this._date.getMonth()];if(t==="CURRENT_MONTH_NAME_SHORT")return Oa.monthNamesShort[this._date.getMonth()];if(t==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(t==="CURRENT_TIMEZONE_OFFSET"){const i=this._date.getTimezoneOffset(),s=i>0?"-":"+",o=Math.trunc(Math.abs(i/60)),d=o<10?"0"+o:o,p=Math.abs(i)-o*60,U=p<10?"0"+p:p;return s+d+":"+U}}}Oa.dayNames=[le.NC("Sunday","Sunday"),le.NC("Monday","Monday"),le.NC("Tuesday","Tuesday"),le.NC("Wednesday","Wednesday"),le.NC("Thursday","Thursday"),le.NC("Friday","Friday"),le.NC("Saturday","Saturday")],Oa.dayNamesShort=[le.NC("SundayShort","Sun"),le.NC("MondayShort","Mon"),le.NC("TuesdayShort","Tue"),le.NC("WednesdayShort","Wed"),le.NC("ThursdayShort","Thu"),le.NC("FridayShort","Fri"),le.NC("SaturdayShort","Sat")],Oa.monthNames=[le.NC("January","January"),le.NC("February","February"),le.NC("March","March"),le.NC("April","April"),le.NC("May","May"),le.NC("June","June"),le.NC("July","July"),le.NC("August","August"),le.NC("September","September"),le.NC("October","October"),le.NC("November","November"),le.NC("December","December")],Oa.monthNamesShort=[le.NC("JanuaryShort","Jan"),le.NC("FebruaryShort","Feb"),le.NC("MarchShort","Mar"),le.NC("AprilShort","Apr"),le.NC("MayShort","May"),le.NC("JuneShort","Jun"),le.NC("JulyShort","Jul"),le.NC("AugustShort","Aug"),le.NC("SeptemberShort","Sep"),le.NC("OctoberShort","Oct"),le.NC("NovemberShort","Nov"),le.NC("DecemberShort","Dec")];class pE{constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;const t=(0,la.uT)(this._workspaceService.getWorkspace());if(!(0,la.c$)(t)){if(e.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(t);if(e.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(t)}}_resolveWorkspaceName(e){if((0,la.eb)(e))return Nl.EZ(e.uri.path);let t=Nl.EZ(e.configPath.path);return t.endsWith(la.A6)&&(t=t.substr(0,t.length-la.A6.length-1)),t}_resoveWorkspacePath(e){if((0,la.eb)(e))return uE(e.uri.fsPath);const t=Nl.EZ(e.configPath.path);let i=e.configPath.fsPath;return i.endsWith(t)&&(i=i.substr(0,i.length-t.length-1)),i?uE(i):"/"}}class _E{resolve(e){const{name:t}=e;if(t==="RANDOM")return Math.random().toString().slice(-6);if(t==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(t==="UUID")return bf()}}var sb=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},ob=function(g,e){return function(t,i){e(t,i,g)}},Pa;class ca{constructor(e,t,i){this._editor=e,this._snippet=t,this._snippetLineLeadingWhitespace=i,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,cn.vM)(t.placeholders,da.compareByIndex),this._placeholderGroupsIdx=-1}initialize(e){this._offset=e.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const e=this._editor.getModel();this._editor.changeDecorations(t=>{for(const i of this._snippet.placeholders){const s=this._snippet.offset(i),o=this._snippet.fullLen(i),d=it.e.fromPositions(e.getPositionAt(this._offset+s),e.getPositionAt(this._offset+s+o)),p=i.isFinalTabstop?ca._decor.inactiveFinal:ca._decor.inactive,U=t.addDecoration(d,p);this._placeholderDecorations.set(i,U)}})}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const s=[];for(const o of this._placeholderGroups[this._placeholderGroupsIdx])if(o.transform){const d=this._placeholderDecorations.get(o),p=this._editor.getModel().getDecorationRange(d),U=this._editor.getModel().getValueInRange(p),te=o.transform.resolve(U).split(/\r\n|\r|\n/);for(let de=1;de<te.length;de++)te[de]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+te[de]);s.push(uo.h.replace(p,te.join(this._editor.getModel().getEOL())))}s.length>0&&this._editor.executeEdits("snippet.placeholderTransform",s)}let t=!1;e===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):e===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);const i=this._editor.getModel().changeDecorations(s=>{const o=new Set,d=[];for(const p of this._placeholderGroups[this._placeholderGroupsIdx]){const U=this._placeholderDecorations.get(p),te=this._editor.getModel().getDecorationRange(U);d.push(new en.Y(te.startLineNumber,te.startColumn,te.endLineNumber,te.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(p),s.changeDecorationOptions(U,p.isFinalTabstop?ca._decor.activeFinal:ca._decor.active),o.add(p);for(const de of this._snippet.enclosingPlaceholders(p)){const be=this._placeholderDecorations.get(de);s.changeDecorationOptions(be,de.isFinalTabstop?ca._decor.activeFinal:ca._decor.active),o.add(de)}}for(const[p,U]of this._placeholderDecorations)o.has(p)||s.changeDecorationOptions(U,p.isFinalTabstop?ca._decor.inactiveFinal:ca._decor.inactive);return d});return t?this.move(e):i!=null?i:[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof da){const i=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(i).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[e]=this._snippet.placeholders;if(e.isFinalTabstop&&this._snippet.rightMostDescendant===e)return!0}return!1}computePossibleSelections(){const e=new Map;for(const t of this._placeholderGroups){let i;for(const s of t){if(s.isFinalTabstop)break;i||(i=[],e.set(s.index,i));const o=this._placeholderDecorations.get(s),d=this._editor.getModel().getDecorationRange(o);if(!d){e.delete(s.index);break}i.push(d)}}return e}get activeChoice(){if(!this._placeholderDecorations)return;const e=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(e!=null&&e.choice))return;const t=this._placeholderDecorations.get(e);if(!t)return;const i=this._editor.getModel().getDecorationRange(t);if(i)return{range:i,choice:e.choice}}get hasChoice(){let e=!1;return this._snippet.walk(t=>(e=t instanceof Yc,!e)),e}merge(e){const t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(i=>{for(const s of this._placeholderGroups[this._placeholderGroupsIdx]){const o=e.shift();console.assert(o._offset!==-1),console.assert(!o._placeholderDecorations);const d=o._snippet.placeholderInfo.last.index;for(const U of o._snippet.placeholderInfo.all)U.isFinalTabstop?U.index=s.index+(d+1)/this._nestingLevel:U.index=s.index+U.index/this._nestingLevel;this._snippet.replace(s,o._snippet.children);const p=this._placeholderDecorations.get(s);i.removeDecoration(p),this._placeholderDecorations.delete(s);for(const U of o._snippet.placeholders){const te=o._snippet.offset(U),de=o._snippet.fullLen(U),be=it.e.fromPositions(t.getPositionAt(o._offset+te),t.getPositionAt(o._offset+te+de)),Ie=i.addDecoration(be,ca._decor.inactive);this._placeholderDecorations.set(U,Ie)}}this._placeholderGroups=(0,cn.vM)(this._snippet.placeholders,da.compareByIndex)})}}ca._decor={active:_i.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:_i.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:_i.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:_i.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const CE={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let qf=Pa=class{static adjustWhitespace(e,t,i,s,o){const d=e.getLineContent(t.lineNumber),p=(0,Zi.V8)(d,0,t.column-1);let U;return s.walk(te=>{if(!(te instanceof gr)||te.parent instanceof Yc||o&&!o.has(te))return!0;const de=te.value.split(/\r\n|\r|\n/);if(i){const Ie=s.offset(te);if(Ie===0)de[0]=e.normalizeIndentation(de[0]);else{U=U!=null?U:s.toString();const $e=U.charCodeAt(Ie-1);($e===10||$e===13)&&(de[0]=e.normalizeIndentation(p+de[0]))}for(let $e=1;$e<de.length;$e++)de[$e]=e.normalizeIndentation(p+de[$e])}const be=de.join(e.getEOL());return be!==te.value&&(te.parent.replace(te,[new gr(be)]),U=void 0),!0}),p}static adjustSelection(e,t,i,s){if(i!==0||s!==0){const{positionLineNumber:o,positionColumn:d}=t,p=d-i,U=d+s,te=e.validateRange({startLineNumber:o,startColumn:p,endLineNumber:o,endColumn:U});t=en.Y.createWithDirection(te.startLineNumber,te.startColumn,te.endLineNumber,te.endColumn,t.getDirection())}return t}static createEditsAndSnippetsFromSelections(e,t,i,s,o,d,p,U,te){const de=[],be=[];if(!e.hasModel())return{edits:de,snippets:be};const Ie=e.getModel(),$e=e.invokeWithinContext(Ui=>Ui.get(la.ec)),qe=e.invokeWithinContext(Ui=>new gE(Ui.get(Id.e),Ie)),ft=()=>p,Zt=Ie.getValueInRange(Pa.adjustSelection(Ie,e.getSelection(),i,0)),Kt=Ie.getValueInRange(Pa.adjustSelection(Ie,e.getSelection(),0,s)),mi=Ie.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber),ki=e.getSelections().map((Ui,Hi)=>({selection:Ui,idx:Hi})).sort((Ui,Hi)=>it.e.compareRangesUsingStarts(Ui.selection,Hi.selection));for(const{selection:Ui,idx:Hi}of ki){let vn=Pa.adjustSelection(Ie,Ui,i,0),Pn=Pa.adjustSelection(Ie,Ui,0,s);Zt!==Ie.getValueInRange(vn)&&(vn=Ui),Kt!==Ie.getValueInRange(Pn)&&(Pn=Ui);const fs=Ui.setStartPosition(vn.startLineNumber,vn.startColumn).setEndPosition(Pn.endLineNumber,Pn.endColumn),gs=new jc().parse(t,!0,o),As=fs.getStartPosition(),xr=Pa.adjustWhitespace(Ie,As,d||Hi>0&&mi!==Ie.getLineFirstNonWhitespaceColumn(Ui.positionLineNumber),gs);gs.resolveVariables(new hE([qe,new mE(ft,Hi,ki.length,e.getOption(78)==="spread"),new fE(Ie,Ui,Hi,U),new Zf(Ie,Ui,te),new Oa,new pE($e),new _E])),de[Hi]=uo.h.replace(fs,gs.toString()),de[Hi].identifier={major:Hi,minor:0},de[Hi]._isTracked=!0,be[Hi]=new ca(e,gs,xr)}return{edits:de,snippets:be}}static createEditsAndSnippetsFromEdits(e,t,i,s,o,d,p){if(!e.hasModel()||t.length===0)return{edits:[],snippets:[]};const U=[],te=e.getModel(),de=new jc,be=new qu,Ie=new hE([e.invokeWithinContext(qe=>new gE(qe.get(Id.e),te)),new mE(()=>o,0,e.getSelections().length,e.getOption(78)==="spread"),new fE(te,e.getSelection(),0,d),new Zf(te,e.getSelection(),p),new Oa,new pE(e.invokeWithinContext(qe=>qe.get(la.ec))),new _E]);t=t.sort((qe,ft)=>it.e.compareRangesUsingStarts(qe.range,ft.range));let $e=0;for(let qe=0;qe<t.length;qe++){const{range:ft,template:Zt}=t[qe];if(qe>0){const Hi=t[qe-1].range,vn=it.e.fromPositions(Hi.getEndPosition(),ft.getStartPosition()),Pn=new gr(te.getValueInRange(vn));be.appendChild(Pn),$e+=Pn.value.length}const Kt=de.parseFragment(Zt,be);Pa.adjustWhitespace(te,ft.getStartPosition(),!0,be,new Set(Kt)),be.resolveVariables(Ie);const mi=be.toString(),ki=mi.slice($e);$e=mi.length;const Ui=uo.h.replace(ft,ki);Ui.identifier={major:qe,minor:0},Ui._isTracked=!0,U.push(Ui)}return de.ensureFinalTabstop(be,i,!0),{edits:U,snippets:[new ca(e,be,"")]}}constructor(e,t,i=CE,s){this._editor=e,this._template=t,this._options=i,this._languageConfigurationService=s,this._templateMerges=[],this._snippets=[]}dispose(){(0,Ue.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:e,snippets:t}=typeof this._template=="string"?Pa.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):Pa.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=t,this._editor.executeEdits("snippet",e,i=>{const s=i.filter(o=>!!o.identifier);for(let o=0;o<t.length;o++)t[o].initialize(s[o].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):s.map(o=>en.Y.fromPositions(o.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(e,t=CE){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);const{edits:i,snippets:s}=Pa.createEditsAndSnippetsFromSelections(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",i,o=>{const d=o.filter(U=>!!U.identifier);for(let U=0;U<s.length;U++)s[U].initialize(d[U].textChange);const p=s[0].isTrivialSnippet;if(!p){for(const U of this._snippets)U.merge(s);console.assert(s.length===0)}return this._snippets[0].hasPlaceholder&&!p?this._move(void 0):d.map(U=>en.Y.fromPositions(U.range.getEndPosition()))})}next(){const e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){const e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){const t=[];for(const i of this._snippets){const s=i.move(e);t.push(...s)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;const t=new Map;for(const i of this._snippets){const s=i.computePossibleSelections();if(t.size===0)for(const[o,d]of s){d.sort(it.e.compareRangesUsingStarts);for(const p of e)if(d[0].containsRange(p)){t.set(o,[]);break}}if(t.size===0)return!1;t.forEach((o,d)=>{o.push(...s.get(d))})}e.sort(it.e.compareRangesUsingStarts);for(const[i,s]of t){if(s.length!==e.length){t.delete(i);continue}s.sort(it.e.compareRangesUsingStarts);for(let o=0;o<s.length;o++)if(!s[o].containsRange(e[o])){t.delete(i);continue}}return t.size>0}};qf=Pa=sb([ob(3,Zs.c_)],qf);var rb=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},eg=function(g,e){return function(t,i){e(t,i,g)}},Jc;const EE={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let Ko=Jc=class{static get(e){return e.getContribution(Jc.ID)}constructor(e,t,i,s,o){this._editor=e,this._logService=t,this._languageFeaturesService=i,this._languageConfigurationService=o,this._snippetListener=new Ue.SL,this._modelVersionId=-1,this._inSnippet=Jc.InSnippetMode.bindTo(s),this._hasNextTabstop=Jc.HasNextTabstop.bindTo(s),this._hasPrevTabstop=Jc.HasPrevTabstop.bindTo(s)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(e=this._session)===null||e===void 0||e.dispose(),this._snippetListener.dispose()}insert(e,t){try{this._doInsert(e,typeof t=="undefined"?EE:Di(Di({},EE),t))}catch(i){this.cancel(),this._logService.error(i),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){var i;if(this._editor.hasModel()){if(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof e!="string"&&this.cancel(),this._session?((0,Zn.p_)(typeof e=="string"),this._session.merge(e,t)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new qf(this._editor,e,t,this._languageConfigurationService),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),!((i=this._session)===null||i===void 0)&&i.hasChoice){const s={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(de,be)=>{if(!this._session||de!==this._editor.getModel()||!bt.L.equals(this._editor.getPosition(),be))return;const{activeChoice:Ie}=this._session;if(!Ie||Ie.choice.options.length===0)return;const $e=de.getValueInRange(Ie.range),qe=!!Ie.choice.options.find(Zt=>Zt.value===$e),ft=[];for(let Zt=0;Zt<Ie.choice.options.length;Zt++){const Kt=Ie.choice.options[Zt];ft.push({kind:13,label:Kt.value,insertText:Kt.value,sortText:"a".repeat(Zt+1),range:Ie.range,filterText:qe?`${$e}_${Kt.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,le.NC)("next","Go to next placeholder...")}})}return{suggestions:ft}}},o=this._editor.getModel();let d,p=!1;const U=()=>{d==null||d.dispose(),p=!1},te=()=>{p||(d=this._languageFeaturesService.completionProvider.register({language:o.getLanguageId(),pattern:o.uri.fsPath,scheme:o.uri.scheme,exclusive:!0},s),this._snippetListener.add(d),p=!0)};this._choiceCompletions={provider:s,enable:te,disable:U}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(s=>s.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){var e;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:t}=this._session;if(!t||!this._choiceCompletions){(e=this._choiceCompletions)===null||e===void 0||e.disable(),this._currentChoice=void 0;return}this._currentChoice!==t.choice&&(this._currentChoice=t.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{eb(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(t=this._session)===null||t===void 0||t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){var e;(e=this._session)===null||e===void 0||e.prev(),this._updateState()}next(){var e;(e=this._session)===null||e===void 0||e.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};Ko.ID="snippetController2",Ko.InSnippetMode=new Ot.uy("inSnippetMode",!1,(0,le.NC)("inSnippetMode","Whether the editor in current in snippet mode")),Ko.HasNextTabstop=new Ot.uy("hasNextTabstop",!1,(0,le.NC)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),Ko.HasPrevTabstop=new Ot.uy("hasPrevTabstop",!1,(0,le.NC)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),Ko=Jc=rb([eg(1,Jf.VZ),eg(2,hn.p),eg(3,Ot.i6),eg(4,Zs.c_)],Ko),(0,Ve._K)(Ko.ID,Ko,4);const tg=Ve._l.bindToContribution(Ko.get);(0,Ve.fK)(new tg({id:"jumpToNextSnippetPlaceholder",precondition:Ot.Ao.and(Ko.InSnippetMode,Ko.HasNextTabstop),handler:g=>g.next(),kbOpts:{weight:100+30,kbExpr:Pt.u.editorTextFocus,primary:2}})),(0,Ve.fK)(new tg({id:"jumpToPrevSnippetPlaceholder",precondition:Ot.Ao.and(Ko.InSnippetMode,Ko.HasPrevTabstop),handler:g=>g.prev(),kbOpts:{weight:100+30,kbExpr:Pt.u.editorTextFocus,primary:1026}})),(0,Ve.fK)(new tg({id:"leaveSnippet",precondition:Ko.InSnippetMode,handler:g=>g.cancel(!0),kbOpts:{weight:100+30,kbExpr:Pt.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,Ve.fK)(new tg({id:"acceptSnippet",precondition:Ko.InSnippetMode,handler:g=>g.finish()}));var ab=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},mp=function(g,e){return function(t,i){e(t,i,g)}},Yr;(function(g){g[g.Undo=0]="Undo",g[g.Redo=1]="Redo",g[g.AcceptWord=2]="AcceptWord",g[g.Other=3]="Other"})(Yr||(Yr={}));let pp=class extends Ue.JT{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(e,t,i,s,o,d,p,U,te,de,be,Ie){super(),this.textModel=e,this.selectedSuggestItem=t,this.cursorPosition=i,this.textModelVersionId=s,this._debounceValue=o,this._suggestPreviewEnabled=d,this._suggestPreviewMode=p,this._inlineSuggestMode=U,this._enabled=te,this._instantiationService=de,this._commandService=be,this._languageConfigurationService=Ie,this._source=this._register(this._instantiationService.createInstance(hp,this.textModel,this.textModelVersionId,this._debounceValue)),this._isActive=(0,Vn.uh)(this,!1),this._forceUpdateSignal=(0,Vn.GN)("forceUpdate"),this._selectedInlineCompletionId=(0,Vn.uh)(this,void 0),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([Yr.Redo,Yr.Undo,Yr.AcceptWord]),this._fetchInlineCompletions=(0,Vn.aK)({owner:this,createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:Un.bw.Automatic}),handleChange:(qe,ft)=>(qe.didChange(this.textModelVersionId)&&this._preserveCurrentCompletionReasons.has(qe.change)?ft.preserveCurrentCompletion=!0:qe.didChange(this._forceUpdateSignal)&&(ft.inlineCompletionTriggerKind=qe.change),!0)},(qe,ft)=>{if(this._forceUpdateSignal.read(qe),!(this._enabled.read(qe)&&this.selectedSuggestItem.read(qe)||this._isActive.read(qe))){this._source.cancelUpdate();return}this.textModelVersionId.read(qe);const Kt=this.selectedInlineCompletion.get(),mi=ft.preserveCurrentCompletion||Kt!=null&&Kt.forwardStable?Kt:void 0,ki=this._source.suggestWidgetInlineCompletions.get(),Ui=this.selectedSuggestItem.read(qe);if(ki&&!Ui){const Pn=this._source.inlineCompletions.get();(0,Vn.PS)(fs=>{(!Pn||ki.request.versionId>Pn.request.versionId)&&this._source.inlineCompletions.set(ki.clone(),fs),this._source.clearSuggestWidgetInlineCompletions(fs)})}const Hi=this.cursorPosition.read(qe),vn={triggerKind:ft.inlineCompletionTriggerKind,selectedSuggestionInfo:Ui==null?void 0:Ui.toSelectedSuggestionInfo()};return this._source.fetch(Hi,vn,mi)}),this._filteredInlineCompletionItems=(0,Vn.nK)(this,qe=>{const ft=this._source.inlineCompletions.read(qe);if(!ft)return[];const Zt=this.cursorPosition.read(qe);return ft.inlineCompletions.filter(mi=>mi.isVisible(this.textModel,Zt,qe))}),this.selectedInlineCompletionIndex=(0,Vn.nK)(this,qe=>{const ft=this._selectedInlineCompletionId.read(qe),Zt=this._filteredInlineCompletionItems.read(qe),Kt=this._selectedInlineCompletionId===void 0?-1:Zt.findIndex(mi=>mi.semanticId===ft);return Kt===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):Kt}),this.selectedInlineCompletion=(0,Vn.nK)(this,qe=>{const ft=this._filteredInlineCompletionItems.read(qe),Zt=this.selectedInlineCompletionIndex.read(qe);return ft[Zt]}),this.lastTriggerKind=this._source.inlineCompletions.map(this,qe=>qe==null?void 0:qe.request.context.triggerKind),this.inlineCompletionsCount=(0,Vn.nK)(this,qe=>{if(this.lastTriggerKind.read(qe)===Un.bw.Explicit)return this._filteredInlineCompletionItems.read(qe).length}),this.state=(0,Vn.bk)({owner:this,equalityComparer:(qe,ft)=>!qe||!ft?qe===ft:eE(qe.ghostText,ft.ghostText)&&qe.inlineCompletion===ft.inlineCompletion&&qe.suggestItem===ft.suggestItem},qe=>{var ft;const Zt=this.textModel,Kt=this.selectedSuggestItem.read(qe);if(Kt){const mi=Kt.toSingleTextEdit().removeCommonPrefix(Zt),ki=this._computeAugmentedCompletion(mi,qe);if(!this._suggestPreviewEnabled.read(qe)&&!ki)return;const Hi=(ft=ki==null?void 0:ki.edit)!==null&&ft!==void 0?ft:mi,vn=ki?ki.edit.text.length-mi.text.length:0,Pn=this._suggestPreviewMode.read(qe),fs=this.cursorPosition.read(qe),gs=Hi.computeGhostText(Zt,Pn,fs,vn);return{ghostText:gs!=null?gs:new $f(Hi.range.endLineNumber,[]),inlineCompletion:ki==null?void 0:ki.completion,suggestItem:Kt}}else{if(!this._isActive.read(qe))return;const mi=this.selectedInlineCompletion.read(qe);if(!mi)return;const ki=mi.toSingleTextEdit(qe),Ui=this._inlineSuggestMode.read(qe),Hi=this.cursorPosition.read(qe),vn=ki.computeGhostText(Zt,Ui,Hi);return vn?{ghostText:vn,inlineCompletion:mi,suggestItem:void 0}:void 0}}),this.ghostText=(0,Vn.bk)({owner:this,equalityComparer:eE},qe=>{const ft=this.state.read(qe);if(ft)return ft.ghostText}),this._register((0,Vn.jx)(this._fetchInlineCompletions));let $e;this._register((0,Vn.EH)(qe=>{var ft,Zt;const Kt=this.state.read(qe),mi=Kt==null?void 0:Kt.inlineCompletion;if((mi==null?void 0:mi.semanticId)!==($e==null?void 0:$e.semanticId)&&($e=mi,mi)){const ki=mi.inlineCompletion,Ui=ki.source;(Zt=(ft=Ui.provider).handleItemDidShow)===null||Zt===void 0||Zt.call(ft,Ui.inlineCompletions,ki.sourceInlineCompletion,ki.insertText)}}))}trigger(e){return At(this,null,function*(){this._isActive.set(!0,e),yield this._fetchInlineCompletions.get()})}triggerExplicitly(e){return At(this,null,function*(){(0,Vn.c8)(e,t=>{this._isActive.set(!0,t),this._forceUpdateSignal.trigger(t,Un.bw.Explicit)}),yield this._fetchInlineCompletions.get()})}stop(e){(0,Vn.c8)(e,t=>{this._isActive.set(!1,t),this._source.clear(t)})}_computeAugmentedCompletion(e,t){const i=this.textModel,s=this._source.suggestWidgetInlineCompletions.read(t),o=s?s.inlineCompletions:[this.selectedInlineCompletion.read(t)].filter(Zn.$K);return(0,Gu.Fr)(o,p=>{let U=p.toSingleTextEdit(t);return U=U.removeCommonPrefix(i,it.e.fromPositions(U.range.getStartPosition(),e.range.getEndPosition())),U.augments(e)?{edit:U,completion:p}:void 0})}_deltaSelectedInlineCompletionIndex(e){return At(this,null,function*(){yield this.triggerExplicitly();const t=this._filteredInlineCompletionItems.get()||[];if(t.length>0){const i=(this.selectedInlineCompletionIndex.get()+e+t.length)%t.length;this._selectedInlineCompletionId.set(t[i].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)})}next(){return At(this,null,function*(){yield this._deltaSelectedInlineCompletionIndex(1)})}previous(){return At(this,null,function*(){yield this._deltaSelectedInlineCompletionIndex(-1)})}accept(e){return At(this,null,function*(){var t;if(e.getModel()!==this.textModel)throw new rn.he;const i=this.state.get();if(!i||i.ghostText.isEmpty()||!i.inlineCompletion)return;const s=i.inlineCompletion.toInlineCompletion(void 0);e.pushUndoStop(),s.snippetInfo?(e.executeEdits("inlineSuggestion.accept",[uo.h.replaceMove(s.range,""),...s.additionalTextEdits]),e.setPosition(s.snippetInfo.range.getStartPosition()),(t=Ko.get(e))===null||t===void 0||t.insert(s.snippetInfo.snippet,{undoStopBefore:!1})):e.executeEdits("inlineSuggestion.accept",[uo.h.replaceMove(s.range,s.insertText),...s.additionalTextEdits]),s.command&&s.source.addRef(),(0,Vn.PS)(o=>{this._source.clear(o),this._isActive.set(!1,o)}),s.command&&(yield this._commandService.executeCommand(s.command.id,...s.command.arguments||[]).then(void 0,rn.Cp),s.source.removeRef())})}acceptNextWord(e){return At(this,null,function*(){yield this._acceptNext(e,(t,i)=>{const s=this.textModel.getLanguageIdAtPosition(t.lineNumber,t.column),o=this._languageConfigurationService.getLanguageConfiguration(s),d=new RegExp(o.wordDefinition.source,o.wordDefinition.flags.replace("g","")),p=i.match(d);let U=0;p&&p.index!==void 0?p.index===0?U=p[0].length:U=p.index:U=i.length;const de=/\s+/g.exec(i);return de&&de.index!==void 0&&de.index+de[0].length<U&&(U=de.index+de[0].length),U})})}acceptNextLine(e){return At(this,null,function*(){yield this._acceptNext(e,(t,i)=>{const s=i.match(/\n/);return s&&s.index!==void 0?s.index+1:i.length})})}_acceptNext(e,t){return At(this,null,function*(){if(e.getModel()!==this.textModel)throw new rn.he;const i=this.state.get();if(!i||i.ghostText.isEmpty()||!i.inlineCompletion)return;const s=i.ghostText,o=i.inlineCompletion.toInlineCompletion(void 0);if(o.snippetInfo||o.filterText!==o.insertText){yield this.accept(e);return}const d=s.parts[0],p=new bt.L(s.lineNumber,d.column),U=d.lines.join(`
`),te=t(p,U);if(te===U.length&&s.parts.length===1){this.accept(e);return}const de=U.substring(0,te);o.source.addRef();try{this._isAcceptingPartially=!0;try{e.pushUndoStop(),e.executeEdits("inlineSuggestion.accept",[uo.h.replace(it.e.fromPositions(p),de)]);const be=ap(de);e.setPosition(rp(p,be))}finally{this._isAcceptingPartially=!1}if(o.source.provider.handlePartialAccept){const be=it.e.fromPositions(o.range.getStartPosition(),rp(p,ap(de))),Ie=e.getModel().getValueInRange(be,1);o.source.provider.handlePartialAccept(o.source.inlineCompletions,o.sourceInlineCompletion,Ie.length)}}finally{o.source.removeRef()}})}handleSuggestAccepted(e){var t,i;const s=e.toSingleTextEdit().removeCommonPrefix(this.textModel),o=this._computeAugmentedCompletion(s,void 0);if(!o)return;const d=o.completion.inlineCompletion;(i=(t=d.source.provider).handlePartialAccept)===null||i===void 0||i.call(t,d.source.inlineCompletions,d.sourceInlineCompletion,s.text.length)}};pp=ab([mp(9,Mn.TG),mp(10,jt.H),mp(11,Zs.c_)],pp);var SE=c(39469),lb=c(7350),db=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},vE=function(g,e){return function(t,i){e(t,i,g)}},th;class _p{constructor(e){this.name=e}select(e,t,i){if(i.length===0)return 0;const s=i[0].score[0];for(let o=0;o<i.length;o++){const{score:d,completion:p}=i[o];if(d[0]!==s)break;if(p.preselect)return o}return 0}}class TE extends _p{constructor(){super("first")}memorize(e,t,i){}toJSON(){}fromJSON(){}}class cb extends _p{constructor(){super("recentlyUsed"),this._cache=new Go.z6(300,.66),this._seq=0}memorize(e,t,i){const s=`${e.getLanguageId()}/${i.textLabel}`;this._cache.set(s,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})}select(e,t,i){if(i.length===0)return 0;const s=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(s))return super.select(e,t,i);const o=i[0].score[0];let d=-1,p=-1,U=-1;for(let te=0;te<i.length&&i[te].score[0]===o;te++){const de=`${e.getLanguageId()}/${i[te].textLabel}`,be=this._cache.peek(de);if(be&&be.touch>U&&be.type===i[te].completion.kind&&be.insertText===i[te].completion.insertText&&(U=be.touch,p=te),i[te].completion.preselect&&d===-1)return d=te}return p!==-1?p:d!==-1?d:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();const t=0;for(const[i,s]of e)s.touch=t,s.type=typeof s.type=="number"?s.type:Un.gX.fromString(s.type),this._cache.set(i,s);this._seq=this._cache.size}}class ub extends _p{constructor(){super("recentlyUsedByPrefix"),this._trie=lb.Id.forStrings(),this._seq=0}memorize(e,t,i){const{word:s}=e.getWordUntilPosition(t),o=`${e.getLanguageId()}/${s}`;this._trie.set(o,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})}select(e,t,i){const{word:s}=e.getWordUntilPosition(t);if(!s)return super.select(e,t,i);const o=`${e.getLanguageId()}/${s}`;let d=this._trie.get(o);if(d||(d=this._trie.findSubstr(o)),d)for(let p=0;p<i.length;p++){const{kind:U,insertText:te}=i[p].completion;if(U===d.type&&te===d.insertText)return p}return super.select(e,t,i)}toJSON(){const e=[];return this._trie.forEach((t,i)=>e.push([i,t])),e.sort((t,i)=>-(t[1].touch-i[1].touch)).forEach((t,i)=>t[1].touch=i),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(const[t,i]of e)i.type=typeof i.type=="number"?i.type:Un.gX.fromString(i.type),this._trie.set(t,i)}}}let ih=th=class{constructor(e,t){this._storageService=e,this._configService=t,this._disposables=new Ue.SL,this._persistSoon=new Ke.pY(()=>this._saveState(),500),this._disposables.add(e.onWillSaveState(i=>{i.reason===vo.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,i){this._withStrategy(e,t).memorize(e,t,i),this._persistSoon.schedule()}select(e,t,i){return this._withStrategy(e,t).select(e,t,i)}_withStrategy(e,t){var i;const s=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:e.getLanguageIdAtPosition(t.lineNumber,t.column),resource:e.uri});if(((i=this._strategy)===null||i===void 0?void 0:i.name)!==s){this._saveState();const o=th._strategyCtors.get(s)||TE;this._strategy=new o;try{const p=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,U=this._storageService.get(`${th._storagePrefix}/${s}`,p);U&&this._strategy.fromJSON(JSON.parse(U))}catch(d){}}return this._strategy}_saveState(){if(this._strategy){const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=JSON.stringify(this._strategy);this._storageService.store(`${th._storagePrefix}/${this._strategy.name}`,i,t,1)}}};ih._strategyCtors=new Map([["recentlyUsedByPrefix",ub],["recentlyUsed",cb],["first",TE]]),ih._storagePrefix="suggest/memories",ih=th=db([vE(0,vo.Uy),vE(1,bi.Ui)],ih);const ig=(0,Mn.yh)("ISuggestMemories");(0,eo.z)(ig,ih,1);var hb=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},fb=function(g,e){return function(t,i){e(t,i,g)}},Cp;let nh=Cp=class{constructor(e,t){this._editor=e,this._enabled=!1,this._ckAtEnd=Cp.AtEnd.bindTo(t),this._configListener=this._editor.onDidChangeConfiguration(i=>i.hasChanged(122)&&this._update()),this._update()}dispose(){var e;this._configListener.dispose(),(e=this._selectionListener)===null||e===void 0||e.dispose(),this._ckAtEnd.reset()}_update(){const e=this._editor.getOption(122)==="on";if(this._enabled!==e)if(this._enabled=e,this._enabled){const t=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const i=this._editor.getModel(),s=this._editor.getSelection(),o=i.getWordAtPosition(s.getStartPosition());if(!o){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(o.endColumn===s.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(t),t()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};nh.AtEnd=new Ot.uy("atEndOfWord",!1),nh=Cp=hb([fb(1,Ot.i6)],nh);var gb=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},mb=function(g,e){return function(t,i){e(t,i,g)}},sh;let Yd=sh=class{constructor(e,t){this._editor=e,this._index=0,this._ckOtherSuggestions=sh.OtherSuggestions.bindTo(t)}dispose(){this.reset()}reset(){var e;this._ckOtherSuggestions.reset(),(e=this._listener)===null||e===void 0||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:e,index:t},i){if(e.items.length===0){this.reset();return}if(sh._moveIndex(!0,e,t)===t){this.reset();return}this._acceptNext=i,this._model=e,this._index=t,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(e,t,i){let s=i;for(let o=t.items.length;o>0&&(s=(s+t.items.length+(e?1:-1))%t.items.length,!(s===i||!t.items[s].completion.additionalTextEdits));o--);return s}next(){this._move(!0)}prev(){this._move(!1)}_move(e){if(this._model)try{this._ignore=!0,this._index=sh._moveIndex(e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};Yd.OtherSuggestions=new Ot.uy("hasOtherSuggestions",!1),Yd=sh=gb([mb(1,Ot.i6)],Yd);class pb{constructor(e,t,i,s){this._disposables=new Ue.SL,this._disposables.add(i.onDidSuggest(o=>{o.completionModel.items.length===0&&this.reset()})),this._disposables.add(i.onDidCancel(o=>{this.reset()})),this._disposables.add(t.onDidShow(()=>this._onItem(t.getFocusedItem()))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType(o=>{if(this._active&&!t.isFrozen()&&i.state!==0){const d=o.charCodeAt(o.length-1);this._active.acceptCharacters.has(d)&&e.getOption(0)&&s(this._active.item)}}))}_onItem(e){if(!e||!(0,cn.Of)(e.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===e.item)return;const t=new zf.q;for(const i of e.item.completion.commitCharacters)i.length>0&&t.add(i.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}class jr{provideSelectionRanges(e,t){return At(this,null,function*(){const i=[];for(const s of t){const o=[];i.push(o);const d=new Map;yield new Promise(p=>jr._bracketsRightYield(p,0,e,s,d)),yield new Promise(p=>jr._bracketsLeftYield(p,0,e,s,d,o))}return i})}static _bracketsRightYield(e,t,i,s,o){const d=new Map,p=Date.now();for(;;){if(t>=jr._maxRounds){e();break}if(!s){e();break}const U=i.bracketPairs.findNextBracket(s);if(!U){e();break}if(Date.now()-p>jr._maxDuration){setTimeout(()=>jr._bracketsRightYield(e,t+1,i,s,o));break}if(U.bracketInfo.isOpeningBracket){const de=U.bracketInfo.bracketText,be=d.has(de)?d.get(de):0;d.set(de,be+1)}else{const de=U.bracketInfo.getOpeningBrackets()[0].bracketText;let be=d.has(de)?d.get(de):0;if(be-=1,d.set(de,Math.max(0,be)),be<0){let Ie=o.get(de);Ie||(Ie=new ff.S,o.set(de,Ie)),Ie.push(U.range)}}s=U.range.getEndPosition()}}static _bracketsLeftYield(e,t,i,s,o,d){const p=new Map,U=Date.now();for(;;){if(t>=jr._maxRounds&&o.size===0){e();break}if(!s){e();break}const te=i.bracketPairs.findPrevBracket(s);if(!te){e();break}if(Date.now()-U>jr._maxDuration){setTimeout(()=>jr._bracketsLeftYield(e,t+1,i,s,o,d));break}if(te.bracketInfo.isOpeningBracket){const be=te.bracketInfo.bracketText;let Ie=p.has(be)?p.get(be):0;if(Ie-=1,p.set(be,Math.max(0,Ie)),Ie<0){const $e=o.get(be);if($e){const qe=$e.shift();$e.size===0&&o.delete(be);const ft=it.e.fromPositions(te.range.getEndPosition(),qe.getStartPosition()),Zt=it.e.fromPositions(te.range.getStartPosition(),qe.getEndPosition());d.push({range:ft}),d.push({range:Zt}),jr._addBracketLeading(i,Zt,d)}}}else{const be=te.bracketInfo.getOpeningBrackets()[0].bracketText,Ie=p.has(be)?p.get(be):0;p.set(be,Ie+1)}s=te.range.getStartPosition()}}static _addBracketLeading(e,t,i){if(t.startLineNumber===t.endLineNumber)return;const s=t.startLineNumber,o=e.getLineFirstNonWhitespaceColumn(s);o!==0&&o!==t.startColumn&&(i.push({range:it.e.fromPositions(new bt.L(s,o),t.getEndPosition())}),i.push({range:it.e.fromPositions(new bt.L(s,1),t.getEndPosition())}));const d=s-1;if(d>0){const p=e.getLineFirstNonWhitespaceColumn(d);p===t.startColumn&&p!==e.getLineLastNonWhitespaceColumn(d)&&(i.push({range:it.e.fromPositions(new bt.L(d,p),t.getEndPosition())}),i.push({range:it.e.fromPositions(new bt.L(d,1),t.getEndPosition())}))}}}jr._maxDuration=30,jr._maxRounds=2;class Ma{static create(e,t){return At(this,null,function*(){if(!t.getOption(117).localityBonus||!t.hasModel())return Ma.None;const i=t.getModel(),s=t.getPosition();if(!e.canComputeWordRanges(i.uri))return Ma.None;const[o]=yield new jr().provideSelectionRanges(i,[s]);if(o.length===0)return Ma.None;const d=yield e.computeWordRanges(i.uri,o[0].range);if(!d)return Ma.None;const p=i.getWordUntilPosition(s);return delete d[p.word],new class extends Ma{distance(U,te){if(!s.equals(t.getPosition()))return 0;if(te.kind===17)return 2<<20;const de=typeof te.label=="string"?te.label:te.label.label,be=d[de];if((0,cn.XY)(be))return 2<<20;const Ie=(0,cn.ry)(be,it.e.fromPositions(U),it.e.compareRangesUsingStarts),$e=Ie>=0?be[Ie]:be[Math.max(0,~Ie-1)];let qe=o.length;for(const ft of o){if(!it.e.containsRange(ft.range,$e))break;qe-=1}return qe}}})}}Ma.None=new class extends Ma{distance(){return 0}};class bE{constructor(e,t){this.leadingLineContent=e,this.characterCountDelta=t}}class td{constructor(e,t,i,s,o,d,p=Ks.mX.default,U=void 0){this.clipboardText=U,this._snippetCompareFn=td._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=s,this._options=o,this._refilterKind=1,this._lineContext=i,this._fuzzyScoreOptions=p,d==="top"?this._snippetCompareFn=td._compareCompletionItemsSnippetsUp:d==="bottom"&&(this._snippetCompareFn=td._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){(this._lineContext.leadingLineContent!==e.leadingLineContent||this._lineContext.characterCountDelta!==e.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const e=new Set;for(const[t,i]of this.getItemsByProvider())i.length>0&&i[0].container.incomplete&&e.add(t);return e}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const e=[],{leadingLineContent:t,characterCountDelta:i}=this._lineContext;let s="",o="";const d=this._refilterKind===1?this._items:this._filteredItems,p=[],U=!this._options.filterGraceful||d.length>2e3?Ks.EW:Ks.l7;for(let te=0;te<d.length;te++){const de=d[te];if(de.isInvalid)continue;const be=this._itemsByProvider.get(de.provider);be?be.push(de):this._itemsByProvider.set(de.provider,[de]);const Ie=de.position.column-de.editStart.column,$e=Ie+i-(de.position.column-this._column);if(s.length!==$e&&(s=$e===0?"":t.slice(-$e),o=s.toLowerCase()),de.word=s,$e===0)de.score=Ks.CL.Default;else{let qe=0;for(;qe<Ie;){const ft=s.charCodeAt(qe);if(ft===32||ft===9)qe+=1;else break}if(qe>=$e)de.score=Ks.CL.Default;else if(typeof de.completion.filterText=="string"){const ft=U(s,o,qe,de.completion.filterText,de.filterTextLow,0,this._fuzzyScoreOptions);if(!ft)continue;(0,Zi.zY)(de.completion.filterText,de.textLabel)===0?de.score=ft:(de.score=(0,Ks.jB)(s,o,qe,de.textLabel,de.labelLow,0),de.score[0]=ft[0])}else{const ft=U(s,o,qe,de.textLabel,de.labelLow,0,this._fuzzyScoreOptions);if(!ft)continue;de.score=ft}}de.idx=te,de.distance=this._wordDistance.distance(de.position,de.completion),p.push(de),e.push(de.textLabel.length)}this._filteredItems=p.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?(0,cn.HW)(e.length-.85,e,(te,de)=>te-de):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return 1;if(t.completion.kind===27)return-1}return td._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return-1;if(t.completion.kind===27)return 1}return td._compareCompletionItems(e,t)}}var _b=c(67611),Cb=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},id=function(g,e){return function(t,i){e(t,i,g)}},Ep;class jd{static shouldAutoTrigger(e){if(!e.hasModel())return!1;const t=e.getModel(),i=e.getPosition();t.tokenization.tokenizeIfCheap(i.lineNumber);const s=t.getWordAtPosition(i);return!(!s||s.endColumn!==i.column&&s.startColumn+1!==i.column||!isNaN(Number(s.word)))}constructor(e,t,i){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.triggerOptions=i}}function Eb(g,e,t){if(!e.getContextKeyValue(Wo.inlineSuggestionVisible.key))return!0;const i=e.getContextKeyValue(Wo.suppressSuggestions.key);return i!==void 0?!i:!g.getOption(62).suppressSuggestions}function Sb(g,e,t){if(!e.getContextKeyValue("inlineSuggestionVisible"))return!0;const i=e.getContextKeyValue(Wo.suppressSuggestions.key);return i!==void 0?!i:!g.getOption(62).suppressSuggestions}let Sp=Ep=class{constructor(e,t,i,s,o,d,p,U,te){this._editor=e,this._editorWorkerService=t,this._clipboardService=i,this._telemetryService=s,this._logService=o,this._contextKeyService=d,this._configurationService=p,this._languageFeaturesService=U,this._envService=te,this._toDispose=new Ue.SL,this._triggerCharacterListener=new Ue.SL,this._triggerQuickSuggest=new Ke._F,this._triggerState=void 0,this._completionDisposables=new Ue.SL,this._onDidCancel=new Ln.Q5,this._onDidTrigger=new Ln.Q5,this._onDidSuggest=new Ln.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new en.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let de=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{de=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{de=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(be=>{de||this._onCursorChange(be)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!de&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,Ue.B9)(this._triggerCharacterListener),(0,Ue.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(90)||!this._editor.hasModel()||!this._editor.getOption(120))return;const e=new Map;for(const i of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const s of i.triggerCharacters||[]){let o=e.get(s);o||(o=new Set,o.add(XT()),e.set(s,o)),o.add(i)}const t=i=>{var s;if(!Sb(this._editor,this._contextKeyService,this._configurationService)||jd.shouldAutoTrigger(this._editor))return;if(!i){const p=this._editor.getPosition();i=this._editor.getModel().getLineContent(p.lineNumber).substr(0,p.column-1)}let o="";(0,Zi.YK)(i.charCodeAt(i.length-1))?(0,Zi.ZG)(i.charCodeAt(i.length-2))&&(o=i.substr(i.length-2)):o=i.charAt(i.length-1);const d=e.get(o);if(d){const p=new Map;if(this._completionModel)for(const[U,te]of this._completionModel.getItemsByProvider())d.has(U)||p.set(U,te);this.trigger({auto:!0,triggerKind:1,triggerCharacter:o,retrigger:!!this._completionModel,clipboardText:(s=this._completionModel)===null||s===void 0?void 0:s.clipboardText,completionOptions:{providerFilter:d,providerItemsToReuse:p}})}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>t()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(e=!1){var t;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(t=this._requestToken)===null||t===void 0||t.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(e){if(!this._editor.hasModel())return;const t=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||e.reason!==0&&e.reason!==3||e.source!=="keyboard"&&e.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&e.reason===0?(t.containsRange(this._currentSelection)||t.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&e.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var e;Qc.isAllOff(this._editor.getOption(88))||this._editor.getOption(117).snippetsPreventQuickSuggestions&&(!((e=Ko.get(this._editor))===null||e===void 0)&&e.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!jd.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const t=this._editor.getModel(),i=this._editor.getPosition(),s=this._editor.getOption(88);if(!Qc.isAllOff(s)){if(!Qc.isAllOn(s)){t.tokenization.tokenizeIfCheap(i.lineNumber);const o=t.tokenization.getLineTokens(i.lineNumber),d=o.getStandardTokenType(o.findTokenIndexAtOffset(Math.max(i.column-1-1,0)));if(Qc.valueFor(s,d)!=="on")return}Eb(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(t)&&this.trigger({auto:!0})}},this._editor.getOption(89)))}_refilterCompletionItems(){(0,Zn.p_)(this._editor.hasModel()),(0,Zn.p_)(this._triggerState!==void 0);const e=this._editor.getModel(),t=this._editor.getPosition(),i=new jd(e,t,sn(Di({},this._triggerState),{refilter:!0}));this._onNewContext(i)}trigger(e){var t,i,s,o,d,p;if(!this._editor.hasModel())return;const U=this._editor.getModel(),te=new jd(U,this._editor.getPosition(),e);this.cancel(e.retrigger),this._triggerState=e,this._onDidTrigger.fire({auto:e.auto,shy:(t=e.shy)!==null&&t!==void 0?t:!1,position:this._editor.getPosition()}),this._context=te;let de={triggerKind:(i=e.triggerKind)!==null&&i!==void 0?i:0};e.triggerCharacter&&(de={triggerKind:1,triggerCharacter:e.triggerCharacter}),this._requestToken=new pn.A;const be=this._editor.getOption(111);let Ie=1;switch(be){case"top":Ie=0;break;case"bottom":Ie=2;break}const{itemKind:$e,showDeprecated:qe}=Ep._createSuggestFilter(this._editor),ft=new eh(Ie,(o=(s=e.completionOptions)===null||s===void 0?void 0:s.kindFilter)!==null&&o!==void 0?o:$e,(d=e.completionOptions)===null||d===void 0?void 0:d.providerFilter,(p=e.completionOptions)===null||p===void 0?void 0:p.providerItemsToReuse,qe),Zt=Ma.create(this._editorWorkerService,this._editor),Kt=fp(this._languageFeaturesService.completionProvider,U,this._editor.getPosition(),ft,de,this._requestToken.token);Promise.all([Kt,Zt]).then(Ui=>At(this,[Ui],function*([mi,ki]){var Hi;if((Hi=this._requestToken)===null||Hi===void 0||Hi.dispose(),!this._editor.hasModel())return;let vn=e==null?void 0:e.clipboardText;if(!vn&&mi.needsClipboard&&(vn=yield this._clipboardService.readText()),this._triggerState===void 0)return;const Pn=this._editor.getModel(),fs=new jd(Pn,this._editor.getPosition(),e),gs=sn(Di({},Ks.mX.default),{firstMatchCanBeWeak:!this._editor.getOption(117).matchOnWordStartOnly});if(this._completionModel=new td(mi.items,this._context.column,{leadingLineContent:fs.leadingLineContent,characterCountDelta:fs.column-this._context.column},ki,this._editor.getOption(117),this._editor.getOption(111),gs,vn),this._completionDisposables.add(mi.disposable),this._onNewContext(fs),this._reportDurationsTelemetry(mi.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(const As of mi.items)As.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${As.provider._debugDisplayName}`,As.completion)})).catch(rn.dL)}_reportDurationsTelemetry(e){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)})}static _createSuggestFilter(e){const t=new Set;e.getOption(111)==="none"&&t.add(27);const s=e.getOption(117);return s.showMethods||t.add(0),s.showFunctions||t.add(1),s.showConstructors||t.add(2),s.showFields||t.add(3),s.showVariables||t.add(4),s.showClasses||t.add(5),s.showStructs||t.add(6),s.showInterfaces||t.add(7),s.showModules||t.add(8),s.showProperties||t.add(9),s.showEvents||t.add(10),s.showOperators||t.add(11),s.showUnits||t.add(12),s.showValues||t.add(13),s.showConstants||t.add(14),s.showEnums||t.add(15),s.showEnumMembers||t.add(16),s.showKeywords||t.add(17),s.showWords||t.add(18),s.showColors||t.add(19),s.showFiles||t.add(20),s.showReferences||t.add(21),s.showColors||t.add(22),s.showFolders||t.add(23),s.showTypeParameters||t.add(24),s.showSnippets||t.add(27),s.showUsers||t.add(25),s.showIssues||t.add(26),{itemKind:t,showDeprecated:s.showDeprecated}}_onNewContext(e){if(this._context){if(e.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,Zi.V8)(e.leadingLineContent)!==(0,Zi.V8)(this._context.leadingLineContent)){this.cancel();return}if(e.column<this._context.column){e.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(e.leadingWord.word.length!==0&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){if(jd.shouldAutoTrigger(this._editor)&&this._context){const i=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:i}})}return}if(e.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&e.leadingWord.word.length!==0){const t=new Map,i=new Set;for(const[s,o]of this._completionModel.getItemsByProvider())o.length>0&&o[0].container.incomplete?i.add(s):t.set(s,o);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:i,providerItemsToReuse:t}})}else{const t=this._completionModel.lineContext;let i=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},this._completionModel.items.length===0){const s=jd.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(s&&this._context.leadingWord.endColumn<e.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=t,i=this._completionModel.items.length>0,i&&e.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:e.triggerOptions,isFrozen:i})}}}}};Sp=Ep=Cb([id(1,$u.p),id(2,Vi.p),id(3,ms.b),id(4,Jf.VZ),id(5,Ot.i6),id(6,bi.Ui),id(7,hn.p),id(8,_b.Y)],Sp);class ng{constructor(e,t){this._disposables=new Ue.SL,this._lastOvertyped=[],this._locked=!1,this._disposables.add(e.onWillType(()=>{if(this._locked||!e.hasModel())return;const i=e.getSelections(),s=i.length;let o=!1;for(let p=0;p<s;p++)if(!i[p].isEmpty()){o=!0;break}if(!o){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];const d=e.getModel();for(let p=0;p<s;p++){const U=i[p];if(d.getValueLengthInRange(U)>ng._maxSelectionLength)return;this._lastOvertyped[p]={value:d.getValueInRange(U),multiline:U.startLineNumber!==U.endLineNumber}}})),this._disposables.add(t.onDidTrigger(i=>{this._locked=!0})),this._disposables.add(t.onDidCancel(i=>{this._locked=!1}))}getLastOvertypedInfo(e){if(e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}}ng._maxSelectionLength=51200;var vb=c(79664),Tb=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},vp=function(g,e){return function(t,i){e(t,i,g)}};class Tp extends Rd.Mm{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();this.label&&(this.label.textContent=(0,le.NC)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",this._action.label,Tp.symbolPrintEnter(e)))}static symbolPrintEnter(e){var t;return(t=e.getLabel())===null||t===void 0?void 0:t.replace(/\benter\b/gi,"\u23CE")}}let bp=class{constructor(e,t,i,s,o){this._menuId=t,this._menuService=s,this._contextKeyService=o,this._menuDisposables=new Ue.SL,this.element=De.R3(e,De.$(".suggest-status-bar"));const d=p=>p instanceof mt.U8?i.createInstance(Tp,p,void 0):void 0;this._leftActions=new qo.o(this.element,{actionViewItemProvider:d}),this._rightActions=new qo.o(this.element,{actionViewItemProvider:d}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){const e=this._menuService.createMenu(this._menuId,this._contextKeyService),t=()=>{const i=[],s=[];for(const[o,d]of e.getActions())o==="left"?i.push(...d):s.push(...d);this._leftActions.clear(),this._leftActions.push(i),this._rightActions.clear(),this._rightActions.push(s)};this._menuDisposables.add(e.onDidChange(()=>t())),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};bp=Tb([vp(2,Mn.TG),vp(3,mt.co),vp(4,Ot.i6)],bp);var bb=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Lb=function(g,e){return function(t,i){e(t,i,g)}};function Lp(g){return!!g&&!!(g.completion.documentation||g.completion.detail&&g.completion.detail!==g.completion.label)}let Rp=class{constructor(e,t){this._editor=e,this._onDidClose=new Ln.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new Ln.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new Ue.SL,this._renderDisposeable=new Ue.SL,this._borderWidth=1,this._size=new De.Ro(330,0),this.domNode=De.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(Uo,{editor:e}),this._body=De.$(".body"),this._scrollbar=new Rc.s$(this._body,{alwaysConsumeMouseWheel:!0}),De.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=De.R3(this._body,De.$(".header")),this._close=De.R3(this._header,De.$("span"+Ds.k.asCSSSelector(di.l.close))),this._close.title=le.NC("details.close","Close"),this._type=De.R3(this._header,De.$("p.type")),this._docs=De.R3(this._body,De.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(50)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const e=this._editor.getOptions(),t=e.get(50),i=t.getMassagedFontFamily(),s=e.get(118)||t.fontSize,o=e.get(119)||t.lineHeight,d=t.fontWeight,p=`${s}px`,U=`${o}px`;this.domNode.style.fontSize=p,this.domNode.style.lineHeight=`${o/s}`,this.domNode.style.fontWeight=d,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=i,this._close.style.height=U,this._close.style.width=U}getLayoutInfo(){const e=this._editor.getOption(119)||this._editor.getOption(50).lineHeight,t=this._borderWidth,i=t*2;return{lineHeight:e,borderWidth:t,borderHeight:i,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=le.NC("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(e,t){var i,s;this._renderDisposeable.clear();let{detail:o,documentation:d}=e.completion;if(t){let p="";p+=`score: ${e.score[0]}
`,p+=`prefix: ${(i=e.word)!==null&&i!==void 0?i:"(no prefix)"}
`,p+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}
`,p+=`distance: ${e.distance} (localityBonus-setting)
`,p+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}
`,p+=`commit_chars: ${(s=e.completion.commitCharacters)===null||s===void 0?void 0:s.join("")}
`,d=new Bn.W5().appendCodeblock("empty",p),o=`Provider: ${e.provider._debugDisplayName}`}if(!t&&!Lp(e)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),o){const p=o.length>1e5?`${o.substr(0,1e5)}\u2026`:o;this._type.textContent=p,this._type.title=p,De.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(p))}else De.PO(this._type),this._type.title="",De.Cp(this._type),this.domNode.classList.add("no-type");if(De.PO(this._docs),typeof d=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=d;else if(d){this._docs.classList.add("markdown-docs"),De.PO(this._docs);const p=this._markdownRenderer.render(d);this._docs.appendChild(p.element),this._renderDisposeable.add(p),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=p=>{p.preventDefault(),p.stopPropagation()},this._close.onclick=p=>{p.preventDefault(),p.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(e,t){const i=new De.Ro(e,t);De.Ro.equals(i,this._size)||(this._size=i,De.dp(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}};Rp=bb([Lb(1,Mn.TG)],Rp);class Rb{constructor(e,t){this.widget=e,this._editor=t,this._disposables=new Ue.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new Pu,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let i,s,o=0,d=0;this._disposables.add(this._resizable.onDidWillResize(()=>{i=this._topLeft,s=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(p=>{if(i&&s){this.widget.layout(p.dimension.width,p.dimension.height);let U=!1;p.west&&(d=s.width-p.dimension.width,U=!0),p.north&&(o=s.height-p.dimension.height,U=!0),U&&this._applyTopLeft({top:i.top+o,left:i.left+d})}p.done&&(i=void 0,s=void 0,o=0,d=0,this._userSize=p.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var p;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(p=this._userSize)!==null&&p!==void 0?p:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e,t){var i;const s=e.getBoundingClientRect();this._anchorBox=s,this._preferAlignAtTop=t,this._placeAtAnchor(this._anchorBox,(i=this._userSize)!==null&&i!==void 0?i:this.widget.size,t)}_placeAtAnchor(e,t,i){var s;const o=De.D6(this.getDomNode().ownerDocument.body),d=this.widget.getLayoutInfo(),p=new De.Ro(220,2*d.lineHeight),U=e.top,te=function(){const ki=o.width-(e.left+e.width+d.borderWidth+d.horizontalPadding),Ui=-d.borderWidth+e.left+e.width,Hi=new De.Ro(ki,o.height-e.top-d.borderHeight-d.verticalPadding),vn=Hi.with(void 0,e.top+e.height-d.borderHeight-d.verticalPadding);return{top:U,left:Ui,fit:ki-t.width,maxSizeTop:Hi,maxSizeBottom:vn,minSize:p.with(Math.min(ki,p.width))}}(),de=function(){const ki=e.left-d.borderWidth-d.horizontalPadding,Ui=Math.max(d.horizontalPadding,e.left-t.width-d.borderWidth),Hi=new De.Ro(ki,o.height-e.top-d.borderHeight-d.verticalPadding),vn=Hi.with(void 0,e.top+e.height-d.borderHeight-d.verticalPadding);return{top:U,left:Ui,fit:ki-t.width,maxSizeTop:Hi,maxSizeBottom:vn,minSize:p.with(Math.min(ki,p.width))}}(),be=function(){const ki=e.left,Ui=-d.borderWidth+e.top+e.height,Hi=new De.Ro(e.width-d.borderHeight,o.height-e.top-e.height-d.verticalPadding);return{top:Ui,left:ki,fit:Hi.height-t.height,maxSizeBottom:Hi,maxSizeTop:Hi,minSize:p.with(Hi.width)}}(),Ie=[te,de,be],$e=(s=Ie.find(ki=>ki.fit>=0))!==null&&s!==void 0?s:Ie.sort((ki,Ui)=>Ui.fit-ki.fit)[0],qe=e.top+e.height-d.borderHeight;let ft,Zt=t.height;const Kt=Math.max($e.maxSizeTop.height,$e.maxSizeBottom.height);Zt>Kt&&(Zt=Kt);let mi;i?Zt<=$e.maxSizeTop.height?(ft=!0,mi=$e.maxSizeTop):(ft=!1,mi=$e.maxSizeBottom):Zt<=$e.maxSizeBottom.height?(ft=!1,mi=$e.maxSizeBottom):(ft=!0,mi=$e.maxSizeTop),this._applyTopLeft({left:$e.left,top:ft?$e.top:qe-Zt}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!ft,$e===te,ft,$e!==te),this._resizable.minSize=$e.minSize,this._resizable.maxSize=mi,this._resizable.layout(Zt,Math.min(mi.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var tl;(function(g){g[g.FILE=0]="FILE",g[g.FOLDER=1]="FOLDER",g[g.ROOT_FOLDER=2]="ROOT_FOLDER"})(tl||(tl={}));const Nb=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function sg(g,e,t,i){const s=i===tl.ROOT_FOLDER?["rootfolder-icon"]:i===tl.FOLDER?["folder-icon"]:["file-icon"];if(t){let o;if(t.scheme===br.lg.data)o=$s.Vb.parseMetaData(t).get($s.Vb.META_DATA_LABEL);else{const d=t.path.match(Nb);d?(o=og(d[2].toLowerCase()),d[1]&&s.push(`${og(d[1].toLowerCase())}-name-dir-icon`)):o=og(t.authority.toLowerCase())}if(i===tl.ROOT_FOLDER)s.push(`${o}-root-name-folder-icon`);else if(i===tl.FOLDER)s.push(`${o}-name-folder-icon`);else{if(o){if(s.push(`${o}-name-file-icon`),s.push("name-file-icon"),o.length<=255){const p=o.split(".");for(let U=1;U<p.length;U++)s.push(`${p.slice(U).join(".")}-ext-file-icon`)}s.push("ext-file-icon")}const d=Ib(g,e,t);d&&s.push(`${og(d)}-lang-file-icon`)}}return s}function Ib(g,e,t){if(!t)return null;let i=null;if(t.scheme===br.lg.data){const o=$s.Vb.parseMetaData(t).get($s.Vb.META_DATA_MIME);o&&(i=e.getLanguageIdByMimeType(o))}else{const s=g.getModel(t);s&&(i=s.getLanguageId())}return i&&i!==pr.bd?i:e.guessLanguageIdByFilepathOrFirstLine(t)}function og(g){return g.replace(/[\11\12\14\15\40]/g,"/")}var Ab=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Np=function(g,e){return function(t,i){e(t,i,g)}},nd;function LE(g){return`suggest-aria-id:${g}`}const Db=(0,w.q5)("suggest-more-info",di.l.chevronRight,le.NC("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),wb=new(nd=class{extract(e,t){if(e.textLabel.match(nd._regexStrict))return t[0]=e.textLabel,!0;if(e.completion.detail&&e.completion.detail.match(nd._regexStrict))return t[0]=e.completion.detail,!0;if(typeof e.completion.documentation=="string"){const i=nd._regexRelaxed.exec(e.completion.documentation);if(i&&(i.index===0||i.index+i[0].length===e.completion.documentation.length))return t[0]=i[0],!0}return!1}},nd._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,nd._regexStrict=new RegExp(`^${nd._regexRelaxed.source}$`,"i"),nd);let Ip=class{constructor(e,t,i,s){this._editor=e,this._modelService=t,this._languageService=i,this._themeService=s,this._onDidToggleDetails=new Ln.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){const t=new Ue.SL,i=e;i.classList.add("show-file-icons");const s=(0,De.R3)(e,(0,De.$)(".icon")),o=(0,De.R3)(s,(0,De.$)("span.colorspan")),d=(0,De.R3)(e,(0,De.$)(".contents")),p=(0,De.R3)(d,(0,De.$)(".main")),U=(0,De.R3)(p,(0,De.$)(".icon-label.codicon")),te=(0,De.R3)(p,(0,De.$)("span.left")),de=(0,De.R3)(p,(0,De.$)("span.right")),be=new zh.g(te,{supportHighlights:!0,supportIcons:!0});t.add(be);const Ie=(0,De.R3)(te,(0,De.$)("span.signature-label")),$e=(0,De.R3)(te,(0,De.$)("span.qualifier-label")),qe=(0,De.R3)(de,(0,De.$)("span.details-label")),ft=(0,De.R3)(de,(0,De.$)("span.readMore"+Ds.k.asCSSSelector(Db)));ft.title=le.NC("readMore","Read More");const Zt=()=>{const Kt=this._editor.getOptions(),mi=Kt.get(50),ki=mi.getMassagedFontFamily(),Ui=mi.fontFeatureSettings,Hi=Kt.get(118)||mi.fontSize,vn=Kt.get(119)||mi.lineHeight,Pn=mi.fontWeight,fs=mi.letterSpacing,gs=`${Hi}px`,As=`${vn}px`,xr=`${fs}px`;i.style.fontSize=gs,i.style.fontWeight=Pn,i.style.letterSpacing=xr,p.style.fontFamily=ki,p.style.fontFeatureSettings=Ui,p.style.lineHeight=As,s.style.height=As,s.style.width=As,ft.style.height=As,ft.style.width=As};return Zt(),t.add(this._editor.onDidChangeConfiguration(Kt=>{(Kt.hasChanged(50)||Kt.hasChanged(118)||Kt.hasChanged(119))&&Zt()})),{root:i,left:te,right:de,icon:s,colorspan:o,iconLabel:be,iconContainer:U,parametersLabel:Ie,qualifierLabel:$e,detailsLabel:qe,readMore:ft,disposables:t}}renderElement(e,t,i){const{completion:s}=e;i.root.id=LE(t),i.colorspan.style.backgroundColor="";const o={labelEscapeNewLines:!0,matches:(0,Ks.mB)(e.score)},d=[];if(s.kind===19&&wb.extract(e,d))i.icon.className="icon customcolor",i.iconContainer.className="icon hide",i.colorspan.style.backgroundColor=d[0];else if(s.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){i.icon.className="icon hide",i.iconContainer.className="icon hide";const p=sg(this._modelService,this._languageService,Xn.o.from({scheme:"fake",path:e.textLabel}),tl.FILE),U=sg(this._modelService,this._languageService,Xn.o.from({scheme:"fake",path:s.detail}),tl.FILE);o.extraClasses=p.length>U.length?p:U}else s.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(i.icon.className="icon hide",i.iconContainer.className="icon hide",o.extraClasses=[sg(this._modelService,this._languageService,Xn.o.from({scheme:"fake",path:e.textLabel}),tl.FOLDER),sg(this._modelService,this._languageService,Xn.o.from({scheme:"fake",path:s.detail}),tl.FOLDER)].flat()):(i.icon.className="icon hide",i.iconContainer.className="",i.iconContainer.classList.add("suggest-icon",...Ds.k.asClassNameArray(Un.gX.toIcon(s.kind))));s.tags&&s.tags.indexOf(1)>=0&&(o.extraClasses=(o.extraClasses||[]).concat(["deprecated"]),o.matches=[]),i.iconLabel.setLabel(e.textLabel,void 0,o),typeof s.label=="string"?(i.parametersLabel.textContent="",i.detailsLabel.textContent=Ap(s.detail||""),i.root.classList.add("string-label")):(i.parametersLabel.textContent=Ap(s.label.detail||""),i.detailsLabel.textContent=Ap(s.label.description||""),i.root.classList.remove("string-label")),this._editor.getOption(117).showInlineDetails?(0,De.$Z)(i.detailsLabel):(0,De.Cp)(i.detailsLabel),Lp(e)?(i.right.classList.add("can-expand-details"),(0,De.$Z)(i.readMore),i.readMore.onmousedown=p=>{p.stopPropagation(),p.preventDefault()},i.readMore.onclick=p=>{p.stopPropagation(),p.preventDefault(),this._onDidToggleDetails.fire()}):(i.right.classList.remove("can-expand-details"),(0,De.Cp)(i.readMore),i.readMore.onmousedown=null,i.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};Ip=Ab([Np(1,us.q),Np(2,Ro.O),Np(3,tt.XE)],Ip);function Ap(g){return g.replace(/\r\n|\r|\n/g,"")}var yb=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},rg=function(g,e){return function(t,i){e(t,i,g)}},Zc;(0,Te.P6G)("editorSuggestWidget.background",{dark:Te.D0T,light:Te.D0T,hcDark:Te.D0T,hcLight:Te.D0T},le.NC("editorSuggestWidgetBackground","Background color of the suggest widget.")),(0,Te.P6G)("editorSuggestWidget.border",{dark:Te.D1_,light:Te.D1_,hcDark:Te.D1_,hcLight:Te.D1_},le.NC("editorSuggestWidgetBorder","Border color of the suggest widget."));const ag=(0,Te.P6G)("editorSuggestWidget.foreground",{dark:Te.NOs,light:Te.NOs,hcDark:Te.NOs,hcLight:Te.NOs},le.NC("editorSuggestWidgetForeground","Foreground color of the suggest widget."));(0,Te.P6G)("editorSuggestWidget.selectedForeground",{dark:Te.NPS,light:Te.NPS,hcDark:Te.NPS,hcLight:Te.NPS},le.NC("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),(0,Te.P6G)("editorSuggestWidget.selectedIconForeground",{dark:Te.cbQ,light:Te.cbQ,hcDark:Te.cbQ,hcLight:Te.cbQ},le.NC("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));const Ob=(0,Te.P6G)("editorSuggestWidget.selectedBackground",{dark:Te.Vqd,light:Te.Vqd,hcDark:Te.Vqd,hcLight:Te.Vqd},le.NC("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));(0,Te.P6G)("editorSuggestWidget.highlightForeground",{dark:Te.Gwp,light:Te.Gwp,hcDark:Te.Gwp,hcLight:Te.Gwp},le.NC("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),(0,Te.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:Te.PX0,light:Te.PX0,hcDark:Te.PX0,hcLight:Te.PX0},le.NC("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),(0,Te.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,Te.ZnX)(ag,.5),light:(0,Te.ZnX)(ag,.5),hcDark:(0,Te.ZnX)(ag,.5),hcLight:(0,Te.ZnX)(ag,.5)},le.NC("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class Pb{constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof wo}`}restore(){var e;const t=(e=this._service.get(this._key,0))!==null&&e!==void 0?e:"";try{const i=JSON.parse(t);if(De.Ro.is(i))return De.Ro.lift(i)}catch(i){}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}}let oh=Zc=class{constructor(e,t,i,s,o){this.editor=e,this._storageService=t,this._state=0,this._isAuto=!1,this._pendingLayout=new Ue.XK,this._pendingShowDetails=new Ue.XK,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new Ke._F,this._disposables=new Ue.SL,this._onDidSelect=new Ln.K3,this._onDidFocus=new Ln.K3,this._onDidHide=new Ln.Q5,this._onDidShow=new Ln.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new Ln.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new Pu,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new Mb(this,e),this._persistedSize=new Pb(t,e);class d{constructor($e,qe,ft=!1,Zt=!1){this.persistedSize=$e,this.currentSize=qe,this.persistHeight=ft,this.persistWidth=Zt}}let p;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),p=new d(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(Ie=>{var $e,qe,ft,Zt;if(this._resize(Ie.dimension.width,Ie.dimension.height),p&&(p.persistHeight=p.persistHeight||!!Ie.north||!!Ie.south,p.persistWidth=p.persistWidth||!!Ie.east||!!Ie.west),!!Ie.done){if(p){const{itemHeight:Kt,defaultSize:mi}=this.getLayoutInfo(),ki=Math.round(Kt/2);let{width:Ui,height:Hi}=this.element.size;(!p.persistHeight||Math.abs(p.currentSize.height-Hi)<=ki)&&(Hi=(qe=($e=p.persistedSize)===null||$e===void 0?void 0:$e.height)!==null&&qe!==void 0?qe:mi.height),(!p.persistWidth||Math.abs(p.currentSize.width-Ui)<=ki)&&(Ui=(Zt=(ft=p.persistedSize)===null||ft===void 0?void 0:ft.width)!==null&&Zt!==void 0?Zt:mi.width),this._persistedSize.store(new De.Ro(Ui,Hi))}this._contentWidget.unlockPreference(),p=void 0}})),this._messageElement=De.R3(this.element.domNode,De.$(".message")),this._listElement=De.R3(this.element.domNode,De.$(".tree"));const U=this._disposables.add(o.createInstance(Rp,this.editor));U.onDidClose(this.toggleDetails,this,this._disposables),this._details=new Rb(U,this.editor);const te=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(117).showIcons);te();const de=o.createInstance(Ip,this.editor);this._disposables.add(de),this._disposables.add(de.onDidToggleDetails(()=>this.toggleDetails())),this._list=new _o.aV("SuggestWidget",this._listElement,{getHeight:Ie=>this.getLayoutInfo().itemHeight,getTemplateId:Ie=>"suggestion"},[de],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>le.NC("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:Ie=>{let $e=Ie.textLabel;if(typeof Ie.completion.label!="string"){const{detail:Kt,description:mi}=Ie.completion.label;Kt&&mi?$e=le.NC("label.full","{0} {1}, {2}",$e,Kt,mi):Kt?$e=le.NC("label.detail","{0} {1}",$e,Kt):mi&&($e=le.NC("label.desc","{0}, {1}",$e,mi))}if(!Ie.isResolved||!this._isDetailsVisible())return $e;const{documentation:qe,detail:ft}=Ie.completion,Zt=Zi.WU("{0}{1}",ft||"",qe?typeof qe=="string"?qe:qe.value:"");return le.NC("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",$e,Zt)}}}),this._list.style((0,No.TU)({listInactiveFocusBackground:Ob,listInactiveFocusOutline:Te.xL1})),this._status=o.createInstance(bp,this.element.domNode,ed);const be=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(117).showStatusBar);be(),this._disposables.add(s.onDidColorThemeChange(Ie=>this._onThemeChange(Ie))),this._onThemeChange(s.getColorTheme()),this._disposables.add(this._list.onMouseDown(Ie=>this._onListMouseDownOrTap(Ie))),this._disposables.add(this._list.onTap(Ie=>this._onListMouseDownOrTap(Ie))),this._disposables.add(this._list.onDidChangeSelection(Ie=>this._onListSelection(Ie))),this._disposables.add(this._list.onDidChangeFocus(Ie=>this._onListFocus(Ie))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(Ie=>{Ie.hasChanged(117)&&(be(),te())})),this._ctxSuggestWidgetVisible=Qn.Visible.bindTo(i),this._ctxSuggestWidgetDetailsVisible=Qn.DetailsVisible.bindTo(i),this._ctxSuggestWidgetMultipleSuggestions=Qn.MultipleSuggestions.bindTo(i),this._ctxSuggestWidgetHasFocusedSuggestion=Qn.HasFocusedSuggestion.bindTo(i),this._disposables.add(De.mu(this._details.widget.domNode,"keydown",Ie=>{this._onDetailsKeydown.fire(Ie)})),this._disposables.add(this.editor.onMouseDown(Ie=>this._onEditorMouseDown(Ie)))}dispose(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(e){typeof e.element=="undefined"||typeof e.index=="undefined"||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){const i=this._completionModel;i&&(this._onDidSelect.fire({item:e,index:t,model:i}),this.editor.focus())}_onThemeChange(e){this._details.widget.borderWidth=(0,rr.c3)(e.type)?2:1}_onListFocus(e){var t;if(this._ignoreFocusEvents)return;if(!e.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const i=e.elements[0],s=e.indexes[0];i!==this._focusedItem&&((t=this._currentSuggestionDetails)===null||t===void 0||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=i,this._list.reveal(s),this._currentSuggestionDetails=(0,Ke.PG)(o=>At(this,null,function*(){const d=(0,Ke.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),p=o.onCancellationRequested(()=>d.dispose());try{return yield i.resolve(o)}finally{d.dispose(),p.dispose()}})),this._currentSuggestionDetails.then(()=>{s>=this._list.length||i!==this._list.element(s)||(this._ignoreFocusEvents=!0,this._list.splice(s,1,[i]),this._list.setFocus([s]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:LE(s)}))}).catch(rn.dL)),this._onDidFocus.fire({item:i,index:s,model:this._completionModel})}_setState(e){if(this._state!==e)switch(this._state=e,this.element.domNode.classList.toggle("frozen",e===4),this.element.domNode.classList.remove("message"),e){case 0:De.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=Zc.LOADING_MESSAGE,De.Cp(this._listElement,this._status.element),De.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,gn.i7)(Zc.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=Zc.NO_SUGGESTIONS_MESSAGE,De.Cp(this._listElement,this._status.element),De.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,gn.i7)(Zc.NO_SUGGESTIONS_MESSAGE);break;case 3:De.Cp(this._messageElement),De.$Z(this._listElement,this._status.element),this._show();break;case 4:De.Cp(this._messageElement),De.$Z(this._listElement,this._status.element),this._show();break;case 5:De.Cp(this._messageElement),De.$Z(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(e,t){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=(0,Ke.Vg)(()=>this._setState(1),t)))}showSuggestions(e,t,i,s,o){var d,p;if(this._contentWidget.setPosition(this.editor.getPosition()),(d=this._loadingTimeout)===null||d===void 0||d.dispose(),(p=this._currentSuggestionDetails)===null||p===void 0||p.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),i&&this._state!==2&&this._state!==0){this._setState(4);return}const U=this._completionModel.items.length,te=U===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(U>1),te){this._setState(s?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(i?4:3),this._list.reveal(t,0),this._list.setFocus(o?[]:[t])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=De.lI(De.Jj(this.element.domNode),()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(Lp(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._pendingShowDetails.value=De.lI(De.Jj(this.element.domNode),()=>{this._pendingShowDetails.clear(),this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var e;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const t=this._persistedSize.restore(),i=Math.ceil(this.getLayoutInfo().itemHeight*4.3);t&&t.height<i&&this._persistedSize.store(t.with(void 0,i))}isFrozen(){return this._state===4}_afterRender(e){if(e===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(e){var t,i,s;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const o=De.D6(this.element.domNode.ownerDocument.body),d=this.getLayoutInfo();e||(e=d.defaultSize);let p=e.height,U=e.width;if(this._status.element.style.height=`${d.itemHeight}px`,this._state===2||this._state===1)p=d.itemHeight+d.borderHeight,U=d.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new De.Ro(U,p),this._contentWidget.setPreference(2);else{const te=o.width-d.borderHeight-2*d.horizontalPadding;U>te&&(U=te);const de=this._completionModel?this._completionModel.stats.pLabelLen*d.typicalHalfwidthCharacterWidth:U,be=d.statusBarHeight+this._list.contentHeight+d.borderHeight,Ie=d.itemHeight+d.statusBarHeight,$e=De.i(this.editor.getDomNode()),qe=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),ft=$e.top+qe.top+qe.height,Zt=Math.min(o.height-ft-d.verticalPadding,be),Kt=$e.top+qe.top-d.verticalPadding,mi=Math.min(Kt,be);let ki=Math.min(Math.max(mi,Zt)+d.borderHeight,be);p===((t=this._cappedHeight)===null||t===void 0?void 0:t.capped)&&(p=this._cappedHeight.wanted),p<Ie&&(p=Ie),p>ki&&(p=ki);const Ui=150;p>Zt||this._forceRenderingAbove&&Kt>Ui?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),ki=mi):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),ki=Zt),this.element.preferredSize=new De.Ro(de,d.defaultSize.height),this.element.maxSize=new De.Ro(te,ki),this.element.minSize=new De.Ro(220,Ie),this._cappedHeight=p===be?{wanted:(s=(i=this._cappedHeight)===null||i===void 0?void 0:i.wanted)!==null&&s!==void 0?s:e.height,capped:p}:void 0}this._resize(U,p)}_resize(e,t){const{width:i,height:s}=this.element.maxSize;e=Math.min(i,e),t=Math.min(s,t);const{statusBarHeight:o}=this.getLayoutInfo();this._list.layout(t-o,e),this._listElement.style.height=`${t-o}px`,this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var e;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((e=this._contentWidget.getPosition())===null||e===void 0?void 0:e.preference[0])===2)}getLayoutInfo(){const e=this.editor.getOption(50),t=(0,vb.uZ)(this.editor.getOption(119)||e.lineHeight,8,1e3),i=!this.editor.getOption(117).showStatusBar||this._state===2||this._state===1?0:t,s=this._details.widget.borderWidth,o=2*s;return{itemHeight:t,statusBarHeight:i,borderWidth:s,borderHeight:o,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new De.Ro(430,i+12*t+o)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};oh.LOADING_MESSAGE=le.NC("suggestWidget.loading","Loading..."),oh.NO_SUGGESTIONS_MESSAGE=le.NC("suggestWidget.noSuggestions","No suggestions."),oh=Zc=yb([rg(1,vo.Uy),rg(2,Ot.i6),rg(3,tt.XE),rg(4,Mn.TG)],oh);class Mb{constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:e,width:t}=this._widget.element.size,{borderWidth:i,horizontalPadding:s}=this._widget.getLayoutInfo();return new De.Ro(t+2*i+s,e+2*i)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}}var xb=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},qc=function(g,e){return function(t,i){e(t,i,g)}},Dp;const kb=!1;class Fb{constructor(e,t){if(this._model=e,this._position=t,e.getLineMaxColumn(t.lineNumber)!==t.column){const s=e.getOffsetAt(t),o=e.getPositionAt(s+1);this._marker=e.deltaDecorations([],[{range:it.e.fromPositions(t,o),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){const t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}else return this._model.getLineMaxColumn(e.lineNumber)-e.column}}let pa=Dp=class{static get(e){return e.getContribution(Dp.ID)}constructor(e,t,i,s,o,d,p){this._memoryService=t,this._commandService=i,this._contextKeyService=s,this._instantiationService=o,this._logService=d,this._telemetryService=p,this._lineSuffix=new Ue.XK,this._toDispose=new Ue.SL,this._selectors=new Bb(be=>be.priority),this._onWillInsertSuggestItem=new Ln.Q5,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=e,this.model=o.createInstance(Sp,this.editor),this._selectors.register({priority:0,select:(be,Ie,$e)=>this._memoryService.select(be,Ie,$e)});const U=Qn.InsertMode.bindTo(s);U.set(e.getOption(117).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>U.set(e.getOption(117).insertMode))),this.widget=this._toDispose.add(new De.vx((0,De.Jj)(e.getDomNode()),()=>{const be=this._instantiationService.createInstance(oh,this.editor);this._toDispose.add(be),this._toDispose.add(be.onDidSelect(Zt=>this._insertSuggestion(Zt,0),this));const Ie=new pb(this.editor,be,this.model,Zt=>this._insertSuggestion(Zt,2));this._toDispose.add(Ie);const $e=Qn.MakesTextEdit.bindTo(this._contextKeyService),qe=Qn.HasInsertAndReplaceRange.bindTo(this._contextKeyService),ft=Qn.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,Ue.OF)(()=>{$e.reset(),qe.reset(),ft.reset()})),this._toDispose.add(be.onDidFocus(({item:Zt})=>{const Kt=this.editor.getPosition(),mi=Zt.editStart.column,ki=Kt.column;let Ui=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!Zt.completion.additionalTextEdits&&!(Zt.completion.insertTextRules&4)&&ki-mi===Zt.completion.insertText.length&&(Ui=this.editor.getModel().getValueInRange({startLineNumber:Kt.lineNumber,startColumn:mi,endLineNumber:Kt.lineNumber,endColumn:ki})!==Zt.completion.insertText),$e.set(Ui),qe.set(!bt.L.equals(Zt.editInsertEnd,Zt.editReplaceEnd)),ft.set(!!Zt.provider.resolveCompletionItem||!!Zt.completion.documentation||Zt.completion.detail!==Zt.completion.label)})),this._toDispose.add(be.onDetailsKeyDown(Zt=>{if(Zt.toKeyCodeChord().equals(new SE.$M(!0,!1,!1,!1,33))||Ut.dz&&Zt.toKeyCodeChord().equals(new SE.$M(!1,!1,!1,!0,33))){Zt.stopPropagation();return}Zt.toKeyCodeChord().isModifierKey()||this.editor.focus()})),be})),this._overtypingCapturer=this._toDispose.add(new De.vx((0,De.Jj)(e.getDomNode()),()=>this._toDispose.add(new ng(this.editor,this.model)))),this._alternatives=this._toDispose.add(new De.vx((0,De.Jj)(e.getDomNode()),()=>this._toDispose.add(new Yd(this.editor,this._contextKeyService)))),this._toDispose.add(o.createInstance(nh,e)),this._toDispose.add(this.model.onDidTrigger(be=>{this.widget.value.showTriggered(be.auto,be.shy?250:50),this._lineSuffix.value=new Fb(this.editor.getModel(),be.position)})),this._toDispose.add(this.model.onDidSuggest(be=>{if(be.triggerOptions.shy)return;let Ie=-1;for(const qe of this._selectors.itemsOrderedByPriorityDesc)if(Ie=qe.select(this.editor.getModel(),this.editor.getPosition(),be.completionModel.items),Ie!==-1)break;Ie===-1&&(Ie=0);let $e=!1;if(be.triggerOptions.auto){const qe=this.editor.getOption(117);qe.selectionMode==="never"||qe.selectionMode==="always"?$e=qe.selectionMode==="never":qe.selectionMode==="whenTriggerCharacter"?$e=be.triggerOptions.triggerKind!==1:qe.selectionMode==="whenQuickSuggestion"&&($e=be.triggerOptions.triggerKind===1&&!be.triggerOptions.refilter)}this.widget.value.showSuggestions(be.completionModel,Ie,be.isFrozen,be.triggerOptions.auto,$e)})),this._toDispose.add(this.model.onDidCancel(be=>{be.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{kb||(this.model.cancel(),this.model.clear())}));const te=Qn.AcceptSuggestionsOnEnter.bindTo(s),de=()=>{const be=this.editor.getOption(1);te.set(be==="on"||be==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>de())),de()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion(e,t){if(!e||!e.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const i=Ko.get(this.editor);if(!i)return;this._onWillInsertSuggestItem.fire({item:e.item});const s=this.editor.getModel(),o=s.getAlternativeVersionId(),{item:d}=e,p=[],U=new pn.A;t&1||this.editor.pushUndoStop();const te=this.getOverwriteInfo(d,!!(t&8));this._memoryService.memorize(s,this.editor.getPosition(),d);const de=d.isResolved;let be=-1,Ie=-1;if(Array.isArray(d.completion.additionalTextEdits)){this.model.cancel();const qe=ta.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",d.completion.additionalTextEdits.map(ft=>uo.h.replaceMove(it.e.lift(ft.range),ft.text))),qe.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!de){const qe=new io.G;let ft;const Zt=s.onDidChangeContent(Ui=>{if(Ui.isFlush){U.cancel(),Zt.dispose();return}for(const Hi of Ui.changes){const vn=it.e.getEndPosition(Hi.range);(!ft||bt.L.isBefore(vn,ft))&&(ft=vn)}}),Kt=t;t|=2;let mi=!1;const ki=this.editor.onWillType(()=>{ki.dispose(),mi=!0,Kt&2||this.editor.pushUndoStop()});p.push(d.resolve(U.token).then(()=>{if(!d.completion.additionalTextEdits||U.token.isCancellationRequested)return;if(ft&&d.completion.additionalTextEdits.some(Hi=>bt.L.isBefore(ft,it.e.getStartPosition(Hi.range))))return!1;mi&&this.editor.pushUndoStop();const Ui=ta.Z.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",d.completion.additionalTextEdits.map(Hi=>uo.h.replaceMove(it.e.lift(Hi.range),Hi.text))),Ui.restoreRelativeVerticalPositionOfCursor(this.editor),(mi||!(Kt&2))&&this.editor.pushUndoStop(),!0}).then(Ui=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",qe.elapsed(),Ui),Ie=Ui===!0?1:Ui===!1?0:-2}).finally(()=>{Zt.dispose(),ki.dispose()}))}let{insertText:$e}=d.completion;if(d.completion.insertTextRules&4||($e=jc.escape($e)),this.model.cancel(),i.insert($e,{overwriteBefore:te.overwriteBefore,overwriteAfter:te.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(d.completion.insertTextRules&1),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),t&2||this.editor.pushUndoStop(),d.completion.command)if(d.completion.command.id===rh.id)this.model.trigger({auto:!0,retrigger:!0});else{const qe=new io.G;p.push(this._commandService.executeCommand(d.completion.command.id,...d.completion.command.arguments?[...d.completion.command.arguments]:[]).catch(ft=>{d.completion.extensionId?(0,rn.Cp)(ft):(0,rn.dL)(ft)}).finally(()=>{be=qe.elapsed()}))}t&4&&this._alternatives.value.set(e,qe=>{for(U.cancel();s.canUndo();){o!==s.getAlternativeVersionId()&&s.undo(),this._insertSuggestion(qe,3|(t&8?8:0));break}}),this._alertCompletionItem(d),Promise.all(p).finally(()=>{this._reportSuggestionAcceptedTelemetry(d,s,de,be,Ie),this.model.clear(),U.dispose()})}_reportSuggestionAcceptedTelemetry(e,t,i,s,o){var d,p,U;Math.floor(Math.random()*100)!==0&&this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(p=(d=e.extensionId)===null||d===void 0?void 0:d.value)!==null&&p!==void 0?p:"unknown",providerId:(U=e.provider._debugDisplayName)!==null&&U!==void 0?U:"unknown",kind:e.completion.kind,basenameHash:(0,VC.vp)((0,$s.EZ)(t.uri)).toString(16),languageId:t.getLanguageId(),fileExtension:(0,$s.DZ)(t.uri),resolveInfo:e.provider.resolveCompletionItem?i?1:0:-1,resolveDuration:e.resolveDuration,commandDuration:s,additionalEditsAsync:o})}getOverwriteInfo(e,t){(0,Zn.p_)(this.editor.hasModel());let i=this.editor.getOption(117).insertMode==="replace";t&&(i=!i);const s=e.position.column-e.editStart.column,o=(i?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column,d=this.editor.getPosition().column-e.position.column,p=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:s+d,overwriteAfter:o+p}}_alertCompletionItem(e){if((0,cn.Of)(e.completion.additionalTextEdits)){const t=le.NC("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);(0,gn.Z9)(t)}}triggerSuggest(e,t,i){this.editor.hasModel()&&(this.model.trigger({auto:t!=null?t:!1,completionOptions:{providerFilter:e,kindFilter:i?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;const t=this.editor.getPosition(),i=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},s=o=>{if(o.completion.insertTextRules&4||o.completion.additionalTextEdits)return!0;const d=this.editor.getPosition(),p=o.editStart.column,U=d.column;return U-p!==o.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:d.lineNumber,startColumn:p,endLineNumber:d.lineNumber,endColumn:U})!==o.completion.insertText};Ln.ju.once(this.model.onDidTrigger)(o=>{const d=[];Ln.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,Ue.B9)(d),i()},void 0,d),this.model.onDidSuggest(({completionModel:p})=>{if((0,Ue.B9)(d),p.items.length===0){i();return}const U=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),p.items),te=p.items[U];if(!s(te)){i();return}this.editor.pushUndoStop(),this._insertSuggestion({index:U,item:te,model:p},7)},void 0,d)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(t,0),this.editor.focus()}acceptSelectedSuggestion(e,t){const i=this.widget.value.getFocusedItem();let s=0;e&&(s|=4),t&&(s|=8),this._insertSuggestion(i,s)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(e){return this._selectors.register(e)}};pa.ID="editor.contrib.suggestController",pa=Dp=xb([qc(1,ig),qc(2,jt.H),qc(3,Ot.i6),qc(4,Mn.TG),qc(5,Jf.VZ),qc(6,ms.b)],pa);class Bb{constructor(e){this.prioritySelector=e,this._items=new Array}register(e){if(this._items.indexOf(e)!==-1)throw new Error("Value is already registered");return this._items.push(e),this._items.sort((t,i)=>this.prioritySelector(i)-this.prioritySelector(t)),{dispose:()=>{const t=this._items.indexOf(e);t>=0&&this._items.splice(t,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class rh extends Ve.R6{constructor(){super({id:rh.id,label:le.NC("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:Ot.Ao.and(Pt.u.writable,Pt.u.hasCompletionItemProvider,Qn.Visible.toNegated()),kbOpts:{kbExpr:Pt.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,t,i){const s=pa.get(t);if(!s)return;let o;i&&typeof i=="object"&&i.auto===!0&&(o=!0),s.triggerSuggest(void 0,o,void 0)}}rh.id="editor.action.triggerSuggest",(0,Ve._K)(pa.ID,pa,2),(0,Ve.Qr)(rh);const $r=100+90,mr=Ve._l.bindToContribution(pa.get);(0,Ve.fK)(new mr({id:"acceptSelectedSuggestion",precondition:Ot.Ao.and(Qn.Visible,Qn.HasFocusedSuggestion),handler(g){g.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:Ot.Ao.and(Qn.Visible,Pt.u.textInputFocus),weight:$r},{primary:3,kbExpr:Ot.Ao.and(Qn.Visible,Pt.u.textInputFocus,Qn.AcceptSuggestionsOnEnter,Qn.MakesTextEdit),weight:$r}],menuOpts:[{menuId:ed,title:le.NC("accept.insert","Insert"),group:"left",order:1,when:Qn.HasInsertAndReplaceRange.toNegated()},{menuId:ed,title:le.NC("accept.insert","Insert"),group:"left",order:1,when:Ot.Ao.and(Qn.HasInsertAndReplaceRange,Qn.InsertMode.isEqualTo("insert"))},{menuId:ed,title:le.NC("accept.replace","Replace"),group:"left",order:1,when:Ot.Ao.and(Qn.HasInsertAndReplaceRange,Qn.InsertMode.isEqualTo("replace"))}]})),(0,Ve.fK)(new mr({id:"acceptAlternativeSelectedSuggestion",precondition:Ot.Ao.and(Qn.Visible,Pt.u.textInputFocus,Qn.HasFocusedSuggestion),kbOpts:{weight:$r,kbExpr:Pt.u.textInputFocus,primary:1027,secondary:[1026]},handler(g){g.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:ed,group:"left",order:2,when:Ot.Ao.and(Qn.HasInsertAndReplaceRange,Qn.InsertMode.isEqualTo("insert")),title:le.NC("accept.replace","Replace")},{menuId:ed,group:"left",order:2,when:Ot.Ao.and(Qn.HasInsertAndReplaceRange,Qn.InsertMode.isEqualTo("replace")),title:le.NC("accept.insert","Insert")}]})),jt.P.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,Ve.fK)(new mr({id:"hideSuggestWidget",precondition:Qn.Visible,handler:g=>g.cancelSuggestWidget(),kbOpts:{weight:$r,kbExpr:Pt.u.textInputFocus,primary:9,secondary:[1033]}})),(0,Ve.fK)(new mr({id:"selectNextSuggestion",precondition:Ot.Ao.and(Qn.Visible,Ot.Ao.or(Qn.MultipleSuggestions,Qn.HasFocusedSuggestion.negate())),handler:g=>g.selectNextSuggestion(),kbOpts:{weight:$r,kbExpr:Pt.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,Ve.fK)(new mr({id:"selectNextPageSuggestion",precondition:Ot.Ao.and(Qn.Visible,Ot.Ao.or(Qn.MultipleSuggestions,Qn.HasFocusedSuggestion.negate())),handler:g=>g.selectNextPageSuggestion(),kbOpts:{weight:$r,kbExpr:Pt.u.textInputFocus,primary:12,secondary:[2060]}})),(0,Ve.fK)(new mr({id:"selectLastSuggestion",precondition:Ot.Ao.and(Qn.Visible,Ot.Ao.or(Qn.MultipleSuggestions,Qn.HasFocusedSuggestion.negate())),handler:g=>g.selectLastSuggestion()})),(0,Ve.fK)(new mr({id:"selectPrevSuggestion",precondition:Ot.Ao.and(Qn.Visible,Ot.Ao.or(Qn.MultipleSuggestions,Qn.HasFocusedSuggestion.negate())),handler:g=>g.selectPrevSuggestion(),kbOpts:{weight:$r,kbExpr:Pt.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,Ve.fK)(new mr({id:"selectPrevPageSuggestion",precondition:Ot.Ao.and(Qn.Visible,Ot.Ao.or(Qn.MultipleSuggestions,Qn.HasFocusedSuggestion.negate())),handler:g=>g.selectPrevPageSuggestion(),kbOpts:{weight:$r,kbExpr:Pt.u.textInputFocus,primary:11,secondary:[2059]}})),(0,Ve.fK)(new mr({id:"selectFirstSuggestion",precondition:Ot.Ao.and(Qn.Visible,Ot.Ao.or(Qn.MultipleSuggestions,Qn.HasFocusedSuggestion.negate())),handler:g=>g.selectFirstSuggestion()})),(0,Ve.fK)(new mr({id:"focusSuggestion",precondition:Ot.Ao.and(Qn.Visible,Qn.HasFocusedSuggestion.negate()),handler:g=>g.focusSuggestion(),kbOpts:{weight:$r,kbExpr:Pt.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),(0,Ve.fK)(new mr({id:"focusAndAcceptSuggestion",precondition:Ot.Ao.and(Qn.Visible,Qn.HasFocusedSuggestion.negate()),handler:g=>{g.focusSuggestion(),g.acceptSelectedSuggestion(!0,!1)}})),(0,Ve.fK)(new mr({id:"toggleSuggestionDetails",precondition:Ot.Ao.and(Qn.Visible,Qn.HasFocusedSuggestion),handler:g=>g.toggleSuggestionDetails(),kbOpts:{weight:$r,kbExpr:Pt.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:ed,group:"right",order:1,when:Ot.Ao.and(Qn.DetailsVisible,Qn.CanResolve),title:le.NC("detail.more","show less")},{menuId:ed,group:"right",order:1,when:Ot.Ao.and(Qn.DetailsVisible.toNegated(),Qn.CanResolve),title:le.NC("detail.less","show more")}]})),(0,Ve.fK)(new mr({id:"toggleExplainMode",precondition:Qn.Visible,handler:g=>g.toggleExplainMode(),kbOpts:{weight:100,primary:2138}})),(0,Ve.fK)(new mr({id:"toggleSuggestionFocus",precondition:Qn.Visible,handler:g=>g.toggleSuggestionFocus(),kbOpts:{weight:$r,kbExpr:Pt.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,Ve.fK)(new mr({id:"insertBestCompletion",precondition:Ot.Ao.and(Pt.u.textInputFocus,Ot.Ao.equals("config.editor.tabCompletion","on"),nh.AtEnd,Qn.Visible.toNegated(),Yd.OtherSuggestions.toNegated(),Ko.InSnippetMode.toNegated()),handler:(g,e)=>{g.triggerSuggestAndAcceptBest((0,Zn.Kn)(e)?Di({fallback:"tab"},e):{fallback:"tab"})},kbOpts:{weight:$r,primary:2}})),(0,Ve.fK)(new mr({id:"insertNextSuggestion",precondition:Ot.Ao.and(Pt.u.textInputFocus,Ot.Ao.equals("config.editor.tabCompletion","on"),Yd.OtherSuggestions,Qn.Visible.toNegated(),Ko.InSnippetMode.toNegated()),handler:g=>g.acceptNextSuggestion(),kbOpts:{weight:$r,kbExpr:Pt.u.textInputFocus,primary:2}})),(0,Ve.fK)(new mr({id:"insertPrevSuggestion",precondition:Ot.Ao.and(Pt.u.textInputFocus,Ot.Ao.equals("config.editor.tabCompletion","on"),Yd.OtherSuggestions,Qn.Visible.toNegated(),Ko.InSnippetMode.toNegated()),handler:g=>g.acceptPrevSuggestion(),kbOpts:{weight:$r,kbExpr:Pt.u.textInputFocus,primary:1026}})),(0,Ve.Qr)(class extends Ve.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:le.NC("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(g,e){var t;(t=pa.get(e))===null||t===void 0||t.resetWidgetSize()}});class Wb extends Ue.JT{get selectedItem(){return this._selectedItem}constructor(e,t,i,s){super(),this.editor=e,this.suggestControllerPreselector=t,this.checkModelVersion=i,this.onWillAccept=s,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._selectedItem=(0,Vn.uh)(this,void 0),this._register(e.onKeyDown(d=>{d.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(e.onKeyUp(d=>{d.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const o=pa.get(this.editor);if(o){this._register(o.registerSelector({priority:100,select:(U,te,de)=>{var be;(0,Vn.PS)(Kt=>this.checkModelVersion(Kt));const Ie=this.editor.getModel();if(!Ie)return-1;const $e=(be=this.suggestControllerPreselector())===null||be===void 0?void 0:be.removeCommonPrefix(Ie);if(!$e)return-1;const qe=bt.L.lift(te),ft=de.map((Kt,mi)=>{const Ui=ah.fromSuggestion(o,Ie,qe,Kt,this.isShiftKeyPressed).toSingleTextEdit().removeCommonPrefix(Ie),Hi=$e.augments(Ui);return{index:mi,valid:Hi,prefixLength:Ui.text.length,suggestItem:Kt}}).filter(Kt=>Kt&&Kt.valid&&Kt.prefixLength>0),Zt=(0,Gu.dI)(ft,(0,cn.tT)(Kt=>Kt.prefixLength,cn.fv));return Zt?Zt.index:-1}}));let d=!1;const p=()=>{d||(d=!0,this._register(o.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(o.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(o.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(Ln.ju.once(o.model.onDidTrigger)(U=>{p()})),this._register(o.onWillInsertSuggestItem(U=>{const te=this.editor.getPosition(),de=this.editor.getModel();if(!te||!de)return;const be=ah.fromSuggestion(o,de,te,U.item,this.isShiftKeyPressed);this.onWillAccept(be)}))}this.update(this._isActive)}update(e){const t=this.getSuggestItemInfo();(this._isActive!==e||!Hb(this._currentSuggestItemInfo,t))&&(this._isActive=e,this._currentSuggestItemInfo=t,(0,Vn.PS)(i=>{this.checkModelVersion(i),this._selectedItem.set(this._isActive?this._currentSuggestItemInfo:void 0,i)}))}getSuggestItemInfo(){const e=pa.get(this.editor);if(!e||!this.isSuggestWidgetVisible)return;const t=e.widget.value.getFocusedItem(),i=this.editor.getPosition(),s=this.editor.getModel();if(!(!t||!i||!s))return ah.fromSuggestion(e,s,i,t.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const e=pa.get(this.editor);e==null||e.stopForceRenderingAbove()}forceRenderingAbove(){const e=pa.get(this.editor);e==null||e.forceRenderingAbove()}}class ah{static fromSuggestion(e,t,i,s,o){let{insertText:d}=s.completion,p=!1;if(s.completion.insertTextRules&4){const te=new jc().parse(d);te.children.length<100&&qf.adjustWhitespace(t,i,!0,te),d=te.toString(),p=!0}const U=e.getOverwriteInfo(s,o);return new ah(it.e.fromPositions(i.delta(0,-U.overwriteBefore),i.delta(0,Math.max(U.overwriteAfter,0))),d,s.completion.kind,p)}constructor(e,t,i,s){this.range=e,this.insertText=t,this.completionItemKind=i,this.isSnippetText=s}equals(e){return this.range.equalsRange(e.range)&&this.insertText===e.insertText&&this.completionItemKind===e.completionItemKind&&this.isSnippetText===e.isSnippetText}toSelectedSuggestionInfo(){return new Un.ln(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new $c(this.range,this.insertText)}}function Hb(g,e){return g===e?!0:!g||!e?!1:g.equals(e)}var RE=c(22784),Ub=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},sd=function(g,e){return function(t,i){e(t,i,g)}},wp;let Xr=wp=class extends Ue.JT{static get(e){return e.getContribution(wp.ID)}constructor(e,t,i,s,o,d,p,U,te){super(),this.editor=e,this._instantiationService=t,this._contextKeyService=i,this._configurationService=s,this._commandService=o,this._debounceService=d,this._languageFeaturesService=p,this._audioCueService=U,this._keybindingService=te,this.model=(0,Vn.DN)("inlineCompletionModel",void 0),this._textModelVersionId=(0,Vn.uh)(this,-1),this._cursorPosition=(0,Vn.uh)(this,new bt.L(1,1)),this._suggestWidgetAdaptor=this._register(new Wb(this.editor,()=>{var Ie,$e;return($e=(Ie=this.model.get())===null||Ie===void 0?void 0:Ie.selectedInlineCompletion.get())===null||$e===void 0?void 0:$e.toSingleTextEdit(void 0)},Ie=>this.updateObservables(Ie,Yr.Other),Ie=>{(0,Vn.PS)($e=>{var qe;this.updateObservables($e,Yr.Other),(qe=this.model.get())===null||qe===void 0||qe.handleSuggestAccepted(Ie)})})),this._enabled=(0,Vn.rD)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).enabled),this._ghostTextWidget=this._register(this._instantiationService.createInstance(cp,this.editor,{ghostText:this.model.map((Ie,$e)=>Ie==null?void 0:Ie.ghostText.read($e)),minReservedLineCount:(0,Vn.Dz)(0),targetTextModel:this.model.map(Ie=>Ie==null?void 0:Ie.textModel)})),this._debounceValue=this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._playAudioCueSignal=(0,Vn.GN)(this),this._isReadonly=(0,Vn.rD)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(90)),this._textModel=(0,Vn.rD)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this._textModelIfWritable=(0,Vn.nK)(Ie=>this._isReadonly.read(Ie)?void 0:this._textModel.read(Ie)),this._register(new Wo(this._contextKeyService,this.model)),this._register((0,Vn.EH)(Ie=>{const $e=this._textModelIfWritable.read(Ie);(0,Vn.PS)(qe=>{if(this.model.set(void 0,qe),this.updateObservables(qe,Yr.Other),$e){const ft=t.createInstance(pp,$e,this._suggestWidgetAdaptor.selectedItem,this._cursorPosition,this._textModelVersionId,this._debounceValue,(0,Vn.rD)(e.onDidChangeConfiguration,()=>e.getOption(117).preview),(0,Vn.rD)(e.onDidChangeConfiguration,()=>e.getOption(117).previewMode),(0,Vn.rD)(e.onDidChangeConfiguration,()=>e.getOption(62).mode),this._enabled);this.model.set(ft,qe)}})}));const de=Ie=>{var $e;return Ie.isUndoing?Yr.Undo:Ie.isRedoing?Yr.Redo:!(($e=this.model.get())===null||$e===void 0)&&$e.isAcceptingPartially?Yr.AcceptWord:Yr.Other};this._register(e.onDidChangeModelContent(Ie=>(0,Vn.PS)($e=>this.updateObservables($e,de(Ie))))),this._register(e.onDidChangeCursorPosition(Ie=>(0,Vn.PS)($e=>{var qe;this.updateObservables($e,Yr.Other),(Ie.reason===3||Ie.source==="api")&&((qe=this.model.get())===null||qe===void 0||qe.stop($e))}))),this._register(e.onDidType(()=>(0,Vn.PS)(Ie=>{var $e;this.updateObservables(Ie,Yr.Other),this._enabled.get()&&(($e=this.model.get())===null||$e===void 0||$e.trigger(Ie))}))),this._register(this._commandService.onDidExecuteCommand(Ie=>{new Set([Ne.wk.Tab.id,Ne.wk.DeleteLeft.id,Ne.wk.DeleteRight.id,xs,"acceptSelectedSuggestion"]).has(Ie.commandId)&&e.hasTextFocus()&&this._enabled.get()&&(0,Vn.PS)(qe=>{var ft;(ft=this.model.get())===null||ft===void 0||ft.trigger(qe)})})),this._register(this.editor.onDidBlurEditorWidget(()=>{this._contextKeyService.getContextKeyValue("accessibleViewIsShown")||this._configurationService.getValue("editor.inlineSuggest.keepOnBlur")||e.getOption(62).keepOnBlur||Xl.dropDownVisible||(0,Vn.PS)(Ie=>{var $e;($e=this.model.get())===null||$e===void 0||$e.stop(Ie)})})),this._register((0,Vn.EH)(Ie=>{var $e;const qe=($e=this.model.read(Ie))===null||$e===void 0?void 0:$e.state.read(Ie);qe!=null&&qe.suggestItem?qe.ghostText.lineCount>=2&&this._suggestWidgetAdaptor.forceRenderingAbove():this._suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register((0,Ue.OF)(()=>{this._suggestWidgetAdaptor.stopForceRenderingAbove()}));let be;this._register((0,Vn.nJ)({handleChange:(Ie,$e)=>(Ie.didChange(this._playAudioCueSignal)&&(be=void 0),!0)},Ie=>At(this,null,function*(){this._playAudioCueSignal.read(Ie);const $e=this.model.read(Ie),qe=$e==null?void 0:$e.state.read(Ie);if(!$e||!qe||!qe.inlineCompletion){be=void 0;return}if(qe.inlineCompletion.semanticId!==be){be=qe.inlineCompletion.semanticId;const ft=$e.textModel.getLineContent(qe.ghostText.lineNumber);this._audioCueService.playAudioCue(RE.y$.inlineSuggestion).then(()=>{this.editor.getOption(8)&&this.provideScreenReaderUpdate(qe.ghostText.renderForScreenReader(ft))})}}))),this._register(new $l(this.editor,this.model,this._instantiationService)),this._register(this._configurationService.onDidChangeConfiguration(Ie=>{Ie.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})})),this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})}playAudioCue(e){this._playAudioCueSignal.trigger(e)}provideScreenReaderUpdate(e){const t=this._contextKeyService.getContextKeyValue("accessibleViewIsShown"),i=this._keybindingService.lookupKeybinding("editor.action.accessibleView");let s;!t&&i&&this.editor.getOption(147)&&(s=(0,le.NC)("showAccessibleViewHint","Inspect this in the accessible view ({0})",i.getAriaLabel())),s?(0,gn.Z9)(e+", "+s):(0,gn.Z9)(e)}updateObservables(e,t){var i,s;const o=this.editor.getModel();this._textModelVersionId.set((i=o==null?void 0:o.getVersionId())!==null&&i!==void 0?i:-1,e,t),this._cursorPosition.set((s=this.editor.getPosition())!==null&&s!==void 0?s:new bt.L(1,1),e)}shouldShowHoverAt(e){var t;const i=(t=this.model.get())===null||t===void 0?void 0:t.ghostText.get();return i?i.parts.some(s=>e.containsPosition(new bt.L(i.lineNumber,s.column))):!1}shouldShowHoverAtViewZone(e){return this._ghostTextWidget.ownsViewZone(e)}};Xr.ID="editor.contrib.inlineCompletionsController",Xr=wp=Ub([sd(1,Mn.TG),sd(2,Ot.i6),sd(3,bi.Ui),sd(4,jt.H),sd(5,Yi.A),sd(6,hn.p),sd(7,RE.e7),sd(8,Je.d)],Xr);class lg extends Ve.R6{constructor(){super({id:lg.ID,label:le.NC("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Ot.Ao.and(Pt.u.writable,Wo.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}run(e,t){return At(this,null,function*(){var i;const s=Xr.get(t);(i=s==null?void 0:s.model.get())===null||i===void 0||i.next()})}}lg.ID=Pr;class dg extends Ve.R6{constructor(){super({id:dg.ID,label:le.NC("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Ot.Ao.and(Pt.u.writable,Wo.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}run(e,t){return At(this,null,function*(){var i;const s=Xr.get(t);(i=s==null?void 0:s.model.get())===null||i===void 0||i.previous()})}}dg.ID=Bo;class Vb extends Ve.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:le.NC("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:Pt.u.writable})}run(e,t){return At(this,null,function*(){const i=Xr.get(t);yield(0,mT.Hr)(s=>At(this,null,function*(){var o;yield(o=i==null?void 0:i.model.get())===null||o===void 0?void 0:o.triggerExplicitly(s),i==null||i.playAudioCue(s)}))})}}class Gb extends Ve.R6{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:le.NC("action.inlineSuggest.acceptNextWord","Accept Next Word Of Inline Suggestion"),alias:"Accept Next Word Of Inline Suggestion",precondition:Ot.Ao.and(Pt.u.writable,Wo.inlineSuggestionVisible),kbOpts:{weight:100+1,primary:2065,kbExpr:Ot.Ao.and(Pt.u.writable,Wo.inlineSuggestionVisible)},menuOpts:[{menuId:mt.eH.InlineSuggestionToolbar,title:le.NC("acceptWord","Accept Word"),group:"primary",order:2}]})}run(e,t){return At(this,null,function*(){var i;const s=Xr.get(t);yield(i=s==null?void 0:s.model.get())===null||i===void 0?void 0:i.acceptNextWord(s.editor)})}}class zb extends Ve.R6{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:le.NC("action.inlineSuggest.acceptNextLine","Accept Next Line Of Inline Suggestion"),alias:"Accept Next Line Of Inline Suggestion",precondition:Ot.Ao.and(Pt.u.writable,Wo.inlineSuggestionVisible),kbOpts:{weight:100+1},menuOpts:[{menuId:mt.eH.InlineSuggestionToolbar,title:le.NC("acceptLine","Accept Line"),group:"secondary",order:2}]})}run(e,t){return At(this,null,function*(){var i;const s=Xr.get(t);yield(i=s==null?void 0:s.model.get())===null||i===void 0?void 0:i.acceptNextLine(s.editor)})}}class Kb extends Ve.R6{constructor(){super({id:xs,label:le.NC("action.inlineSuggest.accept","Accept Inline Suggestion"),alias:"Accept Inline Suggestion",precondition:Wo.inlineSuggestionVisible,menuOpts:[{menuId:mt.eH.InlineSuggestionToolbar,title:le.NC("accept","Accept"),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:Ot.Ao.and(Wo.inlineSuggestionVisible,Pt.u.tabMovesFocus.toNegated(),Wo.inlineSuggestionHasIndentationLessThanTabSize,Qn.Visible.toNegated(),Pt.u.hoverFocused.toNegated())}})}run(e,t){return At(this,null,function*(){var i;const s=Xr.get(t);s&&((i=s.model.get())===null||i===void 0||i.accept(s.editor),s.editor.focus())})}}class cg extends Ve.R6{constructor(){super({id:cg.ID,label:le.NC("action.inlineSuggest.hide","Hide Inline Suggestion"),alias:"Hide Inline Suggestion",precondition:Wo.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}run(e,t){return At(this,null,function*(){const i=Xr.get(t);(0,Vn.PS)(s=>{var o;(o=i==null?void 0:i.model.get())===null||o===void 0||o.stop(s)})})}}cg.ID="editor.action.inlineSuggest.hide";class ug extends mt.Ke{constructor(){super({id:ug.ID,title:le.NC("action.inlineSuggest.alwaysShowToolbar","Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:mt.eH.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:Ot.Ao.equals("config.editor.inlineSuggest.showToolbar","always")})}run(e,t){return At(this,null,function*(){const i=e.get(bi.Ui),o=i.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";i.updateValue("editor.inlineSuggest.showToolbar",o)})}}ug.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar";var Yb=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},lh=function(g,e){return function(t,i){e(t,i,g)}};class jb{constructor(e,t,i){this.owner=e,this.range=t,this.controller=i}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let yp=class{constructor(e,t,i,s,o,d){this._editor=e,this._languageService=t,this._openerService=i,this.accessibilityService=s,this._instantiationService=o,this._telemetryService=d,this.hoverOrdinal=4}suggestHoverAnchor(e){const t=Xr.get(this._editor);if(!t)return null;const i=e.target;if(i.type===8){const s=i.detail;if(t.shouldShowHoverAtViewZone(s.viewZoneId))return new Ic(1e3,this,it.e.fromPositions(this._editor.getModel().validatePosition(s.positionBefore||s.position)),e.event.posx,e.event.posy,!1)}return i.type===7&&t.shouldShowHoverAt(i.range)?new Ic(1e3,this,i.range,e.event.posx,e.event.posy,!1):i.type===6&&i.detail.mightBeForeignElement&&t.shouldShowHoverAt(i.range)?new Ic(1e3,this,i.range,e.event.posx,e.event.posy,!1):null}computeSync(e,t){if(this._editor.getOption(62).showToolbar!=="onHover")return[];const i=Xr.get(this._editor);return i&&i.shouldShowHoverAt(e.range)?[new jb(this,e.range,i)]:[]}renderHoverParts(e,t){const i=new Ue.SL,s=t[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(8)&&this.renderScreenReaderText(e,s,i);const o=s.controller.model.get(),d=this._instantiationService.createInstance(Xl,this._editor,!1,(0,Vn.Dz)(null),o.selectedInlineCompletionIndex,o.inlineCompletionsCount,o.selectedInlineCompletion.map(p=>{var U;return(U=p==null?void 0:p.inlineCompletion.source.inlineCompletions.commands)!==null&&U!==void 0?U:[]}));return e.fragment.appendChild(d.getDomNode()),o.triggerExplicitly(),i.add(d),i}renderScreenReaderText(e,t,i){const s=De.$,o=s("div.hover-row.markdown-hover"),d=De.R3(o,s("div.hover-contents",{["aria-live"]:"assertive"})),p=i.add(new Uo({editor:this._editor},this._languageService,this._openerService)),U=te=>{i.add(p.onDidRenderAsync(()=>{d.className="hover-contents code-hover-contents",e.onContentsChanged()}));const de=le.NC("inlineSuggestionFollows","Suggestion:"),be=i.add(p.render(new Bn.W5().appendText(de).appendCodeblock("text",te)));d.replaceChildren(be.element)};i.add((0,Vn.EH)(te=>{var de;const be=(de=t.controller.model.read(te))===null||de===void 0?void 0:de.ghostText.read(te);if(be){const Ie=this._editor.getModel().getLineContent(be.lineNumber);U(be.renderForScreenReader(Ie))}else De.mc(d)})),e.fragment.appendChild(o)}};yp=Yb([lh(1,Ro.O),lh(2,xo.v),lh(3,co.F7),lh(4,Mn.TG),lh(5,ms.b)],yp),(0,Ve._K)(Xr.ID,Xr,3),(0,Ve.Qr)(Vb),(0,Ve.Qr)(lg),(0,Ve.Qr)(dg),(0,Ve.Qr)(Gb),(0,Ve.Qr)(zb),(0,Ve.Qr)(Kb),(0,Ve.Qr)(cg),(0,mt.r1)(ug),El.register(yp);var eu=c(86263);function Mr(g,e){let t=0;for(let i=0;i<g.length;i++)g.charAt(i)==="	"?t+=e:t++;return t}function dh(g,e,t){g=g<0?0:g;let i="";if(!t){const s=Math.floor(g/e);g=g%e;for(let o=0;o<s;o++)i+="	"}for(let s=0;s<g;s++)i+=" ";return i}var NE=c(88982),$d=c(73316),$b=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Xb=function(g,e){return function(t,i){e(t,i,g)}};function IE(g,e,t,i,s){if(g.getLineCount()===1&&g.getLineMaxColumn(1)===1)return[];const o=e.getLanguageConfiguration(g.getLanguageId()).indentationRules;if(!o)return[];for(i=Math.min(i,g.getLineCount());t<=i&&o.unIndentedLinePattern;){const Zt=g.getLineContent(t);if(!o.unIndentedLinePattern.test(Zt))break;t++}if(t>i-1)return[];const{tabSize:d,indentSize:p,insertSpaces:U}=g.getOptions(),te=(Zt,Kt)=>(Kt=Kt||1,eu.U.shiftIndent(Zt,Zt.length+Kt,d,p,U)),de=(Zt,Kt)=>(Kt=Kt||1,eu.U.unshiftIndent(Zt,Zt.length+Kt,d,p,U)),be=[];let Ie;const $e=g.getLineContent(t);let qe=$e;if(s!=null){Ie=s;const Zt=Zi.V8($e);qe=Ie+$e.substring(Zt.length),o.decreaseIndentPattern&&o.decreaseIndentPattern.test(qe)&&(Ie=de(Ie),qe=Ie+$e.substring(Zt.length)),$e!==qe&&be.push(uo.h.replaceMove(new en.Y(t,1,t,Zt.length+1),(0,NE.x)(Ie,p,U)))}else Ie=Zi.V8($e);let ft=Ie;o.increaseIndentPattern&&o.increaseIndentPattern.test(qe)?(ft=te(ft),Ie=te(Ie)):o.indentNextLinePattern&&o.indentNextLinePattern.test(qe)&&(ft=te(ft)),t++;for(let Zt=t;Zt<=i;Zt++){const Kt=g.getLineContent(Zt),mi=Zi.V8(Kt),ki=ft+Kt.substring(mi.length);o.decreaseIndentPattern&&o.decreaseIndentPattern.test(ki)&&(ft=de(ft),Ie=de(Ie)),mi!==ft&&be.push(uo.h.replaceMove(new en.Y(Zt,1,Zt,mi.length+1),(0,NE.x)(ft,p,U))),!(o.unIndentedLinePattern&&o.unIndentedLinePattern.test(Kt))&&(o.increaseIndentPattern&&o.increaseIndentPattern.test(ki)?(Ie=te(Ie),ft=Ie):o.indentNextLinePattern&&o.indentNextLinePattern.test(ki)?ft=te(ft):ft=Ie)}return be}class hg extends Ve.R6{constructor(){super({id:hg.ID,label:le.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:Pt.u.writable})}run(e,t){const i=t.getModel();if(!i)return;const s=i.getOptions(),o=t.getSelection();if(!o)return;const d=new qb(o,s.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[d]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}}hg.ID="editor.action.indentationToSpaces";class fg extends Ve.R6{constructor(){super({id:fg.ID,label:le.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:Pt.u.writable})}run(e,t){const i=t.getModel();if(!i)return;const s=i.getOptions(),o=t.getSelection();if(!o)return;const d=new eL(o,s.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[d]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}}fg.ID="editor.action.indentationToTabs";class Op extends Ve.R6{constructor(e,t,i){super(i),this.insertSpaces=e,this.displaySizeOnly=t}run(e,t){const i=e.get(oi.eJ),s=e.get(us.q),o=t.getModel();if(!o)return;const d=s.getCreationOptions(o.getLanguageId(),o.uri,o.isForSimpleWidget),p=o.getOptions(),U=[1,2,3,4,5,6,7,8].map(de=>({id:de.toString(),label:de.toString(),description:de===d.tabSize&&de===p.tabSize?le.NC("configuredTabSize","Configured Tab Size"):de===d.tabSize?le.NC("defaultTabSize","Default Tab Size"):de===p.tabSize?le.NC("currentTabSize","Current Tab Size"):void 0})),te=Math.min(o.getOptions().tabSize-1,7);setTimeout(()=>{i.pick(U,{placeHolder:le.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:U[te]}).then(de=>{if(de&&o&&!o.isDisposed()){const be=parseInt(de.label,10);this.displaySizeOnly?o.updateOptions({tabSize:be}):o.updateOptions({tabSize:be,indentSize:be,insertSpaces:this.insertSpaces})}})},50)}}class gg extends Op{constructor(){super(!1,!1,{id:gg.ID,label:le.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}gg.ID="editor.action.indentUsingTabs";class mg extends Op{constructor(){super(!0,!1,{id:mg.ID,label:le.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}mg.ID="editor.action.indentUsingSpaces";class pg extends Op{constructor(){super(!0,!0,{id:pg.ID,label:le.NC("changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0})}}pg.ID="editor.action.changeTabDisplaySize";class _g extends Ve.R6{constructor(){super({id:_g.ID,label:le.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){const i=e.get(us.q),s=t.getModel();if(!s)return;const o=i.getCreationOptions(s.getLanguageId(),s.uri,s.isForSimpleWidget);s.detectIndentation(o.insertSpaces,o.tabSize)}}_g.ID="editor.action.detectIndentation";class Qb extends Ve.R6{constructor(){super({id:"editor.action.reindentlines",label:le.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:Pt.u.writable})}run(e,t){const i=e.get(Zs.c_),s=t.getModel();if(!s)return;const o=IE(s,i,1,s.getLineCount());o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}}class Jb extends Ve.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:le.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:Pt.u.writable})}run(e,t){const i=e.get(Zs.c_),s=t.getModel();if(!s)return;const o=t.getSelections();if(o===null)return;const d=[];for(const p of o){let U=p.startLineNumber,te=p.endLineNumber;if(U!==te&&p.endColumn===1&&te--,U===1){if(U===te)continue}else U--;const de=IE(s,i,U,te);d.push(...de)}d.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,d),t.pushUndoStop())}}class Zb{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(const i of e)i.range&&typeof i.text=="string"&&this._edits.push(i)}getEditOperations(e,t){for(const s of this._edits)t.addEditOperation(it.e.lift(s.range),s.text);let i=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),i||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}let ch=class{constructor(e,t){this.editor=e,this._languageConfigurationService=t,this.callOnDispose=new Ue.SL,this.callOnModel=new Ue.SL,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(12)<4||this.editor.getOption(55))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)}))}trigger(e){const t=this.editor.getSelections();if(t===null||t.length>1)return;const i=this.editor.getModel();if(!i||!i.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber))return;const s=this.editor.getOption(12),{tabSize:o,indentSize:d,insertSpaces:p}=i.getOptions(),U=[],te={shiftIndent:$e=>eu.U.shiftIndent($e,$e.length+1,o,d,p),unshiftIndent:$e=>eu.U.unshiftIndent($e,$e.length+1,o,d,p)};let de=e.startLineNumber;for(;de<=e.endLineNumber;){if(this.shouldIgnoreLine(i,de)){de++;continue}break}if(de>e.endLineNumber)return;let be=i.getLineContent(de);if(!/\S/.test(be.substring(0,e.startColumn-1))){const $e=(0,$d.n8)(s,i,i.getLanguageId(),de,te,this._languageConfigurationService);if($e!==null){const qe=Zi.V8(be),ft=Mr($e,o),Zt=Mr(qe,o);if(ft!==Zt){const Kt=dh(ft,o,p);U.push({range:new it.e(de,1,de,qe.length+1),text:Kt}),be=Kt+be.substr(qe.length)}else{const Kt=(0,$d.tI)(i,de,this._languageConfigurationService);if(Kt===0||Kt===8)return}}}const Ie=de;for(;de<e.endLineNumber;){if(!/\S/.test(i.getLineContent(de+1))){de++;continue}break}if(de!==e.endLineNumber){const $e={tokenization:{getLineTokens:ft=>i.tokenization.getLineTokens(ft),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(ft,Zt)=>i.getLanguageIdAtPosition(ft,Zt)},getLineContent:ft=>ft===Ie?be:i.getLineContent(ft)},qe=(0,$d.n8)(s,$e,i.getLanguageId(),de+1,te,this._languageConfigurationService);if(qe!==null){const ft=Mr(qe,o),Zt=Mr(Zi.V8(i.getLineContent(de+1)),o);if(ft!==Zt){const Kt=ft-Zt;for(let mi=de+1;mi<=e.endLineNumber;mi++){const ki=i.getLineContent(mi),Ui=Zi.V8(ki),vn=Mr(Ui,o)+Kt,Pn=dh(vn,o,p);Pn!==Ui&&U.push({range:new it.e(mi,1,mi,Ui.length+1),text:Pn})}}}}if(U.length>0){this.editor.pushUndoStop();const $e=new Zb(U,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",$e),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.tokenization.forceTokenization(t);const i=e.getLineFirstNonWhitespaceColumn(t);if(i===0)return!0;const s=e.tokenization.getLineTokens(t);if(s.getCount()>0){const o=s.findTokenIndexAtOffset(i);if(o>=0&&s.getStandardTokenType(o)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};ch.ID="editor.contrib.autoIndentOnPaste",ch=$b([Xb(1,Zs.c_)],ch);function AE(g,e,t,i){if(g.getLineCount()===1&&g.getLineMaxColumn(1)===1)return;let s="";for(let d=0;d<t;d++)s+=" ";const o=new RegExp(s,"gi");for(let d=1,p=g.getLineCount();d<=p;d++){let U=g.getLineFirstNonWhitespaceColumn(d);if(U===0&&(U=g.getLineMaxColumn(d)),U===1)continue;const te=new it.e(d,1,d,U),de=g.getValueInRange(te),be=i?de.replace(/\t/ig,s):de.replace(o,"	");e.addEditOperation(te,be)}}class qb{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),AE(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class eL{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),AE(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}(0,Ve._K)(ch.ID,ch,2),(0,Ve.Qr)(hg),(0,Ve.Qr)(fg),(0,Ve.Qr)(gg),(0,Ve.Qr)(mg),(0,Ve.Qr)(pg),(0,Ve.Qr)(_g),(0,Ve.Qr)(Qb),(0,Ve.Qr)(Jb);class DE{constructor(e,t){this.range=e,this.direction=t}}class Pp{constructor(e,t,i){this.hint=e,this.anchor=t,this.provider=i,this._isResolved=!1}with(e){const t=new Pp(this.hint,e.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}resolve(e){return At(this,null,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,e.isCancellationRequested?void 0:this.resolve(e);this._isResolved||(this._currentResolve=this._doResolve(e).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(e){return At(this,null,function*(){var t,i;try{const s=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,e));this.hint.tooltip=(t=s==null?void 0:s.tooltip)!==null&&t!==void 0?t:this.hint.tooltip,this.hint.label=(i=s==null?void 0:s.label)!==null&&i!==void 0?i:this.hint.label,this._isResolved=!0}catch(s){(0,rn.Cp)(s),this._isResolved=!1}})}}class uh{static create(e,t,i,s){return At(this,null,function*(){const o=[],d=e.ordered(t).reverse().map(p=>i.map(U=>At(this,null,function*(){try{const te=yield p.provideInlayHints(t,U,s);te!=null&&te.hints.length&&o.push([te,p])}catch(te){(0,rn.Cp)(te)}})));if(yield Promise.all(d.flat()),s.isCancellationRequested||t.isDisposed())throw new rn.FU;return new uh(i,o,t)})}constructor(e,t,i){this._disposables=new Ue.SL,this.ranges=e,this.provider=new Set;const s=[];for(const[o,d]of t){this._disposables.add(o),this.provider.add(d);for(const p of o.hints){const U=i.validatePosition(p.position);let te="before";const de=uh._getRangeAtPosition(i,U);let be;de.getStartPosition().isBefore(U)?(be=it.e.fromPositions(de.getStartPosition(),U),te="after"):(be=it.e.fromPositions(U,de.getEndPosition()),te="before"),s.push(new Pp(p,new DE(be,te),d))}}this.items=s.sort((o,d)=>bt.L.compare(o.hint.position,d.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(e,t){const i=t.lineNumber,s=e.getWordAtPosition(t);if(s)return new it.e(i,s.startColumn,i,s.endColumn);e.tokenization.tokenizeIfCheap(i);const o=e.tokenization.getLineTokens(i),d=t.column-1,p=o.findTokenIndexAtOffset(d);let U=o.getStartOffset(p),te=o.getEndOffset(p);return te-U===1&&(U===d&&p>1?(U=o.getStartOffset(p-1),te=o.getEndOffset(p-1)):te===d&&p<o.getCount()-1&&(U=o.getStartOffset(p+1),te=o.getEndOffset(p+1))),new it.e(i,U+1,i,te+1)}}function tL(g){return Xn.o.from({scheme:br.lg.command,path:g.id,query:g.arguments&&encodeURIComponent(JSON.stringify(g.arguments))}).toString()}function iL(g,e,t,i){return At(this,null,function*(){var s;const o=g.get(un.S),d=g.get(fn.i),p=g.get(jt.H),U=g.get(Mn.TG),te=g.get(ts.lT);if(yield i.item.resolve(pn.T.None),!i.part.location)return;const de=i.part.location,be=[],Ie=new Set(mt.BH.getMenuItems(mt.eH.EditorContext).map(qe=>(0,mt.vr)(qe)?qe.command.id:bf()));for(const qe of Zo.all())Ie.has(qe.desc.id)&&be.push(new Us.aU(qe.desc.id,mt.U8.label(qe.desc,{renderShortTitle:!0}),void 0,!0,()=>At(this,null,function*(){const ft=yield o.createModelReference(de.uri);try{const Zt=new Vl(ft.object.textEditorModel,it.e.getStartPosition(de.range)),Kt=i.item.anchor.range;yield U.invokeFunction(qe.runEditorCommand.bind(qe),e,Zt,Kt)}finally{ft.dispose()}})));if(i.part.command){const{command:qe}=i.part;be.push(new Us.Z0),be.push(new Us.aU(qe.id,qe.title,void 0,!0,()=>At(this,null,function*(){var ft;try{yield p.executeCommand(qe.id,...(ft=qe.arguments)!==null&&ft!==void 0?ft:[])}catch(Zt){te.notify({severity:ts.zb.Error,source:i.item.provider.displayName,message:Zt})}})))}const $e=e.getOption(126);d.showContextMenu({domForShadowRoot:$e&&(s=e.getDomNode())!==null&&s!==void 0?s:void 0,getAnchor:()=>{const qe=De.i(t);return{x:qe.left,y:qe.top+qe.height+8}},getActions:()=>be,onHide:()=>{e.focus()},autoSelectFirstItem:!0})})}function wE(g,e,t,i){return At(this,null,function*(){const o=yield g.get(un.S).createModelReference(i.uri);yield t.invokeWithinContext(d=>At(this,null,function*(){const p=e.hasSideBySideModifier,U=d.get(Ot.i6),te=Oo.inPeekEditor.getValue(U),de=!p&&t.getOption(87)&&!te;return new Fd({openToSide:p,openInPeek:de,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(d,new Vl(o.object.textEditorModel,it.e.getStartPosition(i.range)),it.e.lift(i.range))})),o.dispose()})}var nL=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},tu=function(g,e){return function(t,i){e(t,i,g)}},Cg;class Eg{constructor(){this._entries=new Go.z6(50)}get(e){const t=Eg._key(e);return this._entries.get(t)}set(e,t){const i=Eg._key(e);this._entries.set(i,t)}static _key(e){return`${e.uri.toString()}/${e.getVersionId()}`}}const yE=(0,Mn.yh)("IInlayHintsCache");(0,eo.z)(yE,Eg,1);class Mp{constructor(e,t){this.item=e,this.index=t}get part(){const e=this.item.hint.label;return typeof e=="string"?{label:e}:e[this.index]}}class sL{constructor(e,t){this.part=e,this.hasTriggerModifier=t}}let Xd=Cg=class{static get(e){var t;return(t=e.getContribution(Cg.ID))!==null&&t!==void 0?t:void 0}constructor(e,t,i,s,o,d,p){this._editor=e,this._languageFeaturesService=t,this._inlayHintsCache=s,this._commandService=o,this._notificationService=d,this._instaService=p,this._disposables=new Ue.SL,this._sessionDisposables=new Ue.SL,this._decorationsMetadata=new Map,this._ruleFactory=new Tr.t7(this._editor),this._activeRenderMode=0,this._debounceInfo=i.for(t.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(t.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(U=>{U.hasChanged(139)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const e=this._editor.getOption(139);if(e.enabled==="off")return;const t=this._editor.getModel();if(!t||!this._languageFeaturesService.inlayHintsProvider.has(t))return;const i=this._inlayHintsCache.get(t);i&&this._updateHintsDecorators([t.getFullModelRange()],i),this._sessionDisposables.add((0,Ue.OF)(()=>{t.isDisposed()||this._cacheHintsForFastRestore(t)}));let s;const o=new Set,d=new Ke.pY(()=>At(this,null,function*(){const p=Date.now();s==null||s.dispose(!0),s=new pn.A;const U=t.onWillDispose(()=>s==null?void 0:s.cancel());try{const te=s.token,de=yield uh.create(this._languageFeaturesService.inlayHintsProvider,t,this._getHintsRanges(),te);if(d.delay=this._debounceInfo.update(t,Date.now()-p),te.isCancellationRequested){de.dispose();return}for(const be of de.provider)typeof be.onDidChangeInlayHints=="function"&&!o.has(be)&&(o.add(be),this._sessionDisposables.add(be.onDidChangeInlayHints(()=>{d.isScheduled()||d.schedule()})));this._sessionDisposables.add(de),this._updateHintsDecorators(de.ranges,de.items),this._cacheHintsForFastRestore(t)}catch(te){(0,rn.dL)(te)}finally{s.dispose(),U.dispose()}}),this._debounceInfo.get(t));if(this._sessionDisposables.add(d),this._sessionDisposables.add((0,Ue.OF)(()=>s==null?void 0:s.dispose(!0))),d.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(p=>{(p.scrollTopChanged||!d.isScheduled())&&d.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(p=>{const U=Math.max(d.delay,1250);d.schedule(U)})),e.enabled==="on")this._activeRenderMode=0;else{let p,U;e.enabled==="onUnlessPressed"?(p=0,U=1):(p=1,U=0),this._activeRenderMode=p,this._sessionDisposables.add(De._q.getInstance().event(te=>{if(!this._editor.hasModel())return;const de=te.altKey&&te.ctrlKey&&!(te.shiftKey||te.metaKey)?U:p;if(de!==this._activeRenderMode){this._activeRenderMode=de;const be=this._editor.getModel(),Ie=this._copyInlayHintsWithCurrentAnchor(be);this._updateHintsDecorators([be.getFullModelRange()],Ie),d.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>d.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const e=new Ue.SL,t=e.add(new ss(this._editor)),i=new Ue.SL;return e.add(i),e.add(t.onMouseMoveOrRelevantKeyDown(s=>{const[o]=s,d=this._getInlayHintLabelPart(o),p=this._editor.getModel();if(!d||!p){i.clear();return}const U=new pn.A;i.add((0,Ue.OF)(()=>U.dispose(!0))),d.item.resolve(U.token),this._activeInlayHintPart=d.part.command||d.part.location?new sL(d,o.hasTriggerModifier):void 0;const te=p.validatePosition(d.item.hint.position).lineNumber,de=new it.e(te,1,te,p.getLineMaxColumn(te)),be=this._getInlineHintsForRange(de);this._updateHintsDecorators([de],be),i.add((0,Ue.OF)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([de],be)}))})),e.add(t.onCancel(()=>i.clear())),e.add(t.onExecute(s=>At(this,null,function*(){const o=this._getInlayHintLabelPart(s);if(o){const d=o.part;d.location?this._instaService.invokeFunction(wE,s,this._editor,d.location):Un.mY.is(d.command)&&(yield this._invokeCommand(d.command,o.item))}}))),e}_getInlineHintsForRange(e){const t=new Set;for(const i of this._decorationsMetadata.values())e.containsRange(i.item.anchor.range)&&t.add(i.item);return Array.from(t)}_installDblClickGesture(e){return this._editor.onMouseUp(t=>At(this,null,function*(){if(t.event.detail!==2)return;const i=this._getInlayHintLabelPart(t);if(i&&(t.event.preventDefault(),yield i.item.resolve(pn.T.None),(0,cn.Of)(i.item.hint.textEdits))){const s=i.item.hint.textEdits.map(o=>uo.h.replace(it.e.lift(o.range),o.text));this._editor.executeEdits("inlayHint.default",s),e()}}))}_installContextMenu(){return this._editor.onContextMenu(e=>At(this,null,function*(){if(!(e.event.target instanceof HTMLElement))return;const t=this._getInlayHintLabelPart(e);t&&(yield this._instaService.invokeFunction(iL,this._editor,e.event.target,t))}))}_getInlayHintLabelPart(e){var t;if(e.target.type!==6)return;const i=(t=e.target.detail.injectedText)===null||t===void 0?void 0:t.options;if(i instanceof _i.HS&&(i==null?void 0:i.attachedData)instanceof Mp)return i.attachedData}_invokeCommand(e,t){return At(this,null,function*(){var i;try{yield this._commandService.executeCommand(e.id,...(i=e.arguments)!==null&&i!==void 0?i:[])}catch(s){this._notificationService.notify({severity:ts.zb.Error,source:t.provider.displayName,message:s})}})}_cacheHintsForFastRestore(e){const t=this._copyInlayHintsWithCurrentAnchor(e);this._inlayHintsCache.set(e,t)}_copyInlayHintsWithCurrentAnchor(e){const t=new Map;for(const[i,s]of this._decorationsMetadata){if(t.has(s.item))continue;const o=e.getDecorationRange(i);if(o){const d=new DE(o,s.item.anchor.direction),p=s.item.with({anchor:d});t.set(s.item,p)}}return Array.from(t.values())}_getHintsRanges(){const t=this._editor.getModel(),i=this._editor.getVisibleRangesPlusViewportAboveBelow(),s=[];for(const o of i.sort(it.e.compareRangesUsingStarts)){const d=t.validateRange(new it.e(o.startLineNumber-30,o.startColumn,o.endLineNumber+30,o.endColumn));s.length===0||!it.e.areIntersectingOrTouching(s[s.length-1],d)?s.push(d):s[s.length-1]=it.e.plusRange(s[s.length-1],d)}return s}_updateHintsDecorators(e,t){var i,s;const o=[],d=(ft,Zt,Kt,mi,ki)=>{const Ui={content:Kt,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:Zt.className,cursorStops:mi,attachedData:ki};o.push({item:ft,classNameRef:Zt,decoration:{range:ft.anchor.range,options:{description:"InlayHint",showIfCollapsed:ft.anchor.range.isEmpty(),collapseOnReplaceEdit:!ft.anchor.range.isEmpty(),stickiness:0,[ft.anchor.direction]:this._activeRenderMode===0?Ui:void 0}}})},p=(ft,Zt)=>{const Kt=this._ruleFactory.createClassNameRef({width:`${U/3|0}px`,display:"inline-block"});d(ft,Kt,"\u200A",Zt?fi.RM.Right:fi.RM.None)},{fontSize:U,fontFamily:te,padding:de,isUniform:be}=this._getLayoutInfo(),Ie="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(Ie,te);for(const ft of t){ft.hint.paddingLeft&&p(ft,!1);const Zt=typeof ft.hint.label=="string"?[{label:ft.hint.label}]:ft.hint.label;for(let Kt=0;Kt<Zt.length;Kt++){const mi=Zt[Kt],ki=Kt===0,Ui=Kt===Zt.length-1,Hi={fontSize:`${U}px`,fontFamily:`var(${Ie}), ${bs.hL.fontFamily}`,verticalAlign:be?"baseline":"middle",unicodeBidi:"isolate"};(0,cn.Of)(ft.hint.textEdits)&&(Hi.cursor="default"),this._fillInColors(Hi,ft.hint),(mi.command||mi.location)&&((i=this._activeInlayHintPart)===null||i===void 0?void 0:i.part.item)===ft&&this._activeInlayHintPart.part.index===Kt&&(Hi.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(Hi.color=(0,tt.EN)(Te._Yy),Hi.cursor="pointer")),de&&(ki&&Ui?(Hi.padding=`1px ${Math.max(1,U/4)|0}px`,Hi.borderRadius=`${U/4|0}px`):ki?(Hi.padding=`1px 0 1px ${Math.max(1,U/4)|0}px`,Hi.borderRadius=`${U/4|0}px 0 0 ${U/4|0}px`):Ui?(Hi.padding=`1px ${Math.max(1,U/4)|0}px 1px 0`,Hi.borderRadius=`0 ${U/4|0}px ${U/4|0}px 0`):Hi.padding="1px 0 1px 0"),d(ft,this._ruleFactory.createClassNameRef(Hi),oL(mi.label),Ui&&!ft.hint.paddingRight?fi.RM.Right:fi.RM.None,new Mp(ft,Kt))}if(ft.hint.paddingRight&&p(ft,!0),o.length>Cg._MAX_DECORATORS)break}const $e=[];for(const ft of e)for(const{id:Zt}of(s=this._editor.getDecorationsInRange(ft))!==null&&s!==void 0?s:[]){const Kt=this._decorationsMetadata.get(Zt);Kt&&($e.push(Zt),Kt.classNameRef.dispose(),this._decorationsMetadata.delete(Zt))}const qe=ta.Z.capture(this._editor);this._editor.changeDecorations(ft=>{const Zt=ft.deltaDecorations($e,o.map(Kt=>Kt.decoration));for(let Kt=0;Kt<Zt.length;Kt++){const mi=o[Kt];this._decorationsMetadata.set(Zt[Kt],mi)}}),qe.restore(this._editor)}_fillInColors(e,t){t.kind===Un.gl.Parameter?(e.backgroundColor=(0,tt.EN)(Te.phM),e.color=(0,tt.EN)(Te.HCL)):t.kind===Un.gl.Type?(e.backgroundColor=(0,tt.EN)(Te.bKB),e.color=(0,tt.EN)(Te.hX8)):(e.backgroundColor=(0,tt.EN)(Te.PpC),e.color=(0,tt.EN)(Te.VVv))}_getLayoutInfo(){const e=this._editor.getOption(139),t=e.padding,i=this._editor.getOption(52),s=this._editor.getOption(49);let o=e.fontSize;(!o||o<5||o>i)&&(o=i);const d=e.fontFamily||s;return{fontSize:o,fontFamily:d,padding:t,isUniform:!t&&d===s&&o===i}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const e of this._decorationsMetadata.values())e.classNameRef.dispose();this._decorationsMetadata.clear()}};Xd.ID="editor.contrib.InlayHints",Xd._MAX_DECORATORS=1500,Xd=Cg=nL([tu(1,hn.p),tu(2,Yi.A),tu(3,yE),tu(4,jt.H),tu(5,ts.lT),tu(6,Mn.TG)],Xd);function oL(g){const e="\xA0";return g.replace(/[ \t]/g,e)}jt.P.registerCommand("_executeInlayHintProvider",(g,...e)=>At(this,null,function*(){const[t,i]=e;(0,Zn.p_)(Xn.o.isUri(t)),(0,Zn.p_)(it.e.isIRange(i));const{inlayHintsProvider:s}=g.get(hn.p),o=yield g.get(un.S).createModelReference(t);try{const d=yield uh.create(s,o.object.textEditorModel,[it.e.lift(i)],pn.T.None),p=d.items.map(U=>U.hint);return setTimeout(()=>d.dispose(),0),p}finally{o.dispose()}}));var rL=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},hh=function(g,e){return function(t,i){e(t,i,g)}};class OE extends Ic{constructor(e,t,i,s){super(10,t,e.item.anchor.range,i,s,!0),this.part=e}}let xp=class extends Pc{constructor(e,t,i,s,o,d){super(e,t,i,s,d),this._resolverService=o,this.hoverOrdinal=6}suggestHoverAnchor(e){var t;if(!Xd.get(this._editor)||e.target.type!==6)return null;const s=(t=e.target.detail.injectedText)===null||t===void 0?void 0:t.options;return s instanceof _i.HS&&s.attachedData instanceof Mp?new OE(s.attachedData,this,e.event.posx,e.event.posy):null}computeSync(){return[]}computeAsync(e,t,i){return e instanceof OE?new Ke.Aq(s=>At(this,null,function*(){const{part:o}=e;if(yield o.item.resolve(i),i.isCancellationRequested)return;let d;typeof o.item.hint.tooltip=="string"?d=new Bn.W5().appendText(o.item.hint.tooltip):o.item.hint.tooltip&&(d=o.item.hint.tooltip),d&&s.emitOne(new oa(this,e.range,[d],!1,0)),(0,cn.Of)(o.item.hint.textEdits)&&s.emitOne(new oa(this,e.range,[new Bn.W5().appendText((0,le.NC)("hint.dbl","Double-click to insert"))],!1,10001));let p;if(typeof o.part.tooltip=="string"?p=new Bn.W5().appendText(o.part.tooltip):o.part.tooltip&&(p=o.part.tooltip),p&&s.emitOne(new oa(this,e.range,[p],!1,1)),o.part.location||o.part.command){let $e;const ft=this._editor.getOption(77)==="altKey"?Ut.dz?(0,le.NC)("links.navigate.kb.meta.mac","cmd + click"):(0,le.NC)("links.navigate.kb.meta","ctrl + click"):Ut.dz?(0,le.NC)("links.navigate.kb.alt.mac","option + click"):(0,le.NC)("links.navigate.kb.alt","alt + click");o.part.location&&o.part.command?$e=new Bn.W5().appendText((0,le.NC)("hint.defAndCommand","Go to Definition ({0}), right click for more",ft)):o.part.location?$e=new Bn.W5().appendText((0,le.NC)("hint.def","Go to Definition ({0})",ft)):o.part.command&&($e=new Bn.W5(`[${(0,le.NC)("hint.cmd","Execute Command")}](${tL(o.part.command)} "${o.part.command.title}") (${ft})`,{isTrusted:!0})),$e&&s.emitOne(new oa(this,e.range,[$e],!1,1e4))}const U=yield this._resolveInlayHintLabelPartHover(o,i);try{for(var te=Cd(U),de,be,Ie;de=!(be=yield te.next()).done;de=!1){const $e=be.value;s.emitOne($e)}}catch(be){Ie=[be]}finally{try{de&&(be=te.return)&&(yield be.call(te))}finally{if(Ie)throw Ie[0]}}})):Ke.Aq.EMPTY}_resolveInlayHintLabelPartHover(e,t){return At(this,null,function*(){if(!e.part.location)return Ke.Aq.EMPTY;const{uri:i,range:s}=e.part.location,o=yield this._resolverService.createModelReference(i);try{const d=o.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(d)?xu(this._languageFeaturesService.hoverProvider,d,new bt.L(s.startLineNumber,s.startColumn),t).filter(p=>!(0,Bn.CP)(p.hover.contents)).map(p=>new oa(this,e.item.anchor.range,p.hover.contents,!1,2+p.ordinal)):Ke.Aq.EMPTY}finally{o.dispose()}})}};xp=rL([hh(1,Ro.O),hh(2,xo.v),hh(3,bi.Ui),hh(4,un.S),hh(5,hn.p)],xp),(0,Ve._K)(Xd.ID,Xd,1),El.register(xp);class aL{constructor(e,t,i){this._editRange=e,this._originalSelection=t,this._text=i}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const s=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new en.Y(s.endLineNumber,Math.min(this._originalSelection.positionColumn,s.endColumn),s.endLineNumber,Math.min(this._originalSelection.positionColumn,s.endColumn)):new en.Y(s.endLineNumber,s.endColumn-this._text.length,s.endLineNumber,s.endColumn)}}var lL=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},dL=function(g,e){return function(t,i){e(t,i,g)}},Sg;let od=Sg=class{static get(e){return e.getContribution(Sg.ID)}constructor(e,t){this.editor=e,this.editorWorkerService=t,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(e,t){var i;(i=this.currentRequest)===null||i===void 0||i.cancel();const s=this.editor.getSelection(),o=this.editor.getModel();if(!o||!s)return;let d=s;if(d.startLineNumber!==d.endLineNumber)return;const p=new Rs.yy(this.editor,5),U=o.uri;return this.editorWorkerService.canNavigateValueSet(U)?(this.currentRequest=(0,Ke.PG)(te=>this.editorWorkerService.navigateValueSet(U,d,t)),this.currentRequest.then(te=>{var de;if(!te||!te.range||!te.value||!p.validate(this.editor))return;const be=it.e.lift(te.range);let Ie=te.range;const $e=te.value.length-(d.endColumn-d.startColumn);Ie={startLineNumber:Ie.startLineNumber,startColumn:Ie.startColumn,endLineNumber:Ie.endLineNumber,endColumn:Ie.startColumn+te.value.length},$e>1&&(d=new en.Y(d.startLineNumber,d.startColumn,d.endLineNumber,d.endColumn+$e-1));const qe=new aL(be,d,te.value);this.editor.pushUndoStop(),this.editor.executeCommand(e,qe),this.editor.pushUndoStop(),this.decorations.set([{range:Ie,options:Sg.DECORATION}]),(de=this.decorationRemover)===null||de===void 0||de.cancel(),this.decorationRemover=(0,Ke.Vs)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(rn.dL)}).catch(rn.dL)):Promise.resolve(void 0)}};od.ID="editor.contrib.inPlaceReplaceController",od.DECORATION=_i.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),od=Sg=lL([dL(1,$u.p)],od);class cL extends Ve.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:le.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:3159,weight:100}})}run(e,t){const i=od.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}}class uL extends Ve.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:le.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:3161,weight:100}})}run(e,t){const i=od.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}}(0,Ve._K)(od.ID,od,4),(0,Ve.Qr)(cL),(0,Ve.Qr)(uL);var kp=c(35392);class hL extends Ve.R6{constructor(){super({id:"expandLineSelection",label:le.NC("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:Pt.u.textInputFocus,primary:2090}})}run(e,t,i){if(i=i||{},!t.hasModel())return;const s=t._getViewModel();s.model.pushStackElement(),s.setCursorStates(i.source,3,kp.P.expandLineSelection(s,s.getCursorStates())),s.revealPrimaryCursor(i.source,!0)}}(0,Ve.Qr)(hL);class fL{constructor(e,t){this._selection=e,this._cursors=t,this._selectionId=null}getEditOperations(e,t){const i=gL(e,this._cursors);for(let s=0,o=i.length;s<o;s++){const d=i[s];t.addEditOperation(d.range,d.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}function gL(g,e){e.sort((d,p)=>d.lineNumber===p.lineNumber?d.column-p.column:d.lineNumber-p.lineNumber);for(let d=e.length-2;d>=0;d--)e[d].lineNumber===e[d+1].lineNumber&&e.splice(d,1);const t=[];let i=0,s=0;const o=e.length;for(let d=1,p=g.getLineCount();d<=p;d++){const U=g.getLineContent(d),te=U.length+1;let de=0;if(s<o&&e[s].lineNumber===d&&(de=e[s].column,s++,de===te)||U.length===0)continue;const be=Zi.ow(U);let Ie=0;if(be===-1)Ie=1;else if(be!==U.length-1)Ie=be+2;else continue;Ie=Math.max(de,Ie),t[i++]=uo.h.delete(new it.e(d,Ie,d,te))}return t}var Fp=c(79123);class PE{constructor(e,t,i){this._selection=e,this._isCopyingDown=t,this._noop=i||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const s=[];for(let d=i.startLineNumber;d<=i.endLineNumber;d++)s.push(e.getLineContent(d));const o=s.join(`
`);o===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new it.e(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber+1,1),i.endLineNumber===e.getLineCount()?"":`
`):this._isCopyingDown?t.addEditOperation(new it.e(i.startLineNumber,1,i.startLineNumber,1),o+`
`):t.addEditOperation(new it.e(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),`
`+o),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let s=i.startLineNumber,o=i.startColumn,d=i.endLineNumber,p=i.endColumn;this._startLineNumberDelta!==0&&(s=s+this._startLineNumberDelta,o=1),this._endLineNumberDelta!==0&&(d=d+this._endLineNumberDelta,p=1),i=en.Y.createWithDirection(s,o,d,p,this._selectionDirection)}return i}}var vg=c(88574),Bp=c(8537),mL=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},pL=function(g,e){return function(t,i){e(t,i,g)}};let Wp=class{constructor(e,t,i,s){this._languageConfigurationService=s,this._selection=e,this._isMovingDown=t,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){const i=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===i){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let s=this._selection;s.startLineNumber<s.endLineNumber&&s.endColumn===1&&(this._moveEndPositionDown=!0,s=s.setEndPosition(s.endLineNumber-1,e.getLineMaxColumn(s.endLineNumber-1)));const{tabSize:o,indentSize:d,insertSpaces:p}=e.getOptions(),U=this.buildIndentConverter(o,d,p),te={tokenization:{getLineTokens:de=>e.tokenization.getLineTokens(de),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(de,be)=>e.getLanguageIdAtPosition(de,be)},getLineContent:null};if(s.startLineNumber===s.endLineNumber&&e.getLineMaxColumn(s.startLineNumber)===1){const de=s.startLineNumber,be=this._isMovingDown?de+1:de-1;e.getLineMaxColumn(be)===1?t.addEditOperation(new it.e(1,1,1,1),null):(t.addEditOperation(new it.e(de,1,de,1),e.getLineContent(be)),t.addEditOperation(new it.e(be,1,be,e.getLineMaxColumn(be)),null)),s=new en.Y(be,1,be,1)}else{let de,be;if(this._isMovingDown){de=s.endLineNumber+1,be=e.getLineContent(de),t.addEditOperation(new it.e(de-1,e.getLineMaxColumn(de-1),de,e.getLineMaxColumn(de)),null);let Ie=be;if(this.shouldAutoIndent(e,s)){const $e=this.matchEnterRule(e,U,o,de,s.startLineNumber-1);if($e!==null){const ft=Zi.V8(e.getLineContent(de)),Zt=$e+Mr(ft,o);Ie=dh(Zt,o,p)+this.trimStart(be)}else{te.getLineContent=Zt=>Zt===s.startLineNumber?e.getLineContent(de):e.getLineContent(Zt);const ft=(0,$d.n8)(this._autoIndent,te,e.getLanguageIdAtPosition(de,1),s.startLineNumber,U,this._languageConfigurationService);if(ft!==null){const Zt=Zi.V8(e.getLineContent(de)),Kt=Mr(ft,o),mi=Mr(Zt,o);Kt!==mi&&(Ie=dh(Kt,o,p)+this.trimStart(be))}}t.addEditOperation(new it.e(s.startLineNumber,1,s.startLineNumber,1),Ie+`
`);const qe=this.matchEnterRuleMovingDown(e,U,o,s.startLineNumber,de,Ie);if(qe!==null)qe!==0&&this.getIndentEditsOfMovingBlock(e,t,s,o,p,qe);else{te.getLineContent=Zt=>Zt===s.startLineNumber?Ie:Zt>=s.startLineNumber+1&&Zt<=s.endLineNumber+1?e.getLineContent(Zt-1):e.getLineContent(Zt);const ft=(0,$d.n8)(this._autoIndent,te,e.getLanguageIdAtPosition(de,1),s.startLineNumber+1,U,this._languageConfigurationService);if(ft!==null){const Zt=Zi.V8(e.getLineContent(s.startLineNumber)),Kt=Mr(ft,o),mi=Mr(Zt,o);if(Kt!==mi){const ki=Kt-mi;this.getIndentEditsOfMovingBlock(e,t,s,o,p,ki)}}}}else t.addEditOperation(new it.e(s.startLineNumber,1,s.startLineNumber,1),Ie+`
`)}else if(de=s.startLineNumber-1,be=e.getLineContent(de),t.addEditOperation(new it.e(de,1,de+1,1),null),t.addEditOperation(new it.e(s.endLineNumber,e.getLineMaxColumn(s.endLineNumber),s.endLineNumber,e.getLineMaxColumn(s.endLineNumber)),`
`+be),this.shouldAutoIndent(e,s)){te.getLineContent=$e=>$e===de?e.getLineContent(s.startLineNumber):e.getLineContent($e);const Ie=this.matchEnterRule(e,U,o,s.startLineNumber,s.startLineNumber-2);if(Ie!==null)Ie!==0&&this.getIndentEditsOfMovingBlock(e,t,s,o,p,Ie);else{const $e=(0,$d.n8)(this._autoIndent,te,e.getLanguageIdAtPosition(s.startLineNumber,1),de,U,this._languageConfigurationService);if($e!==null){const qe=Zi.V8(e.getLineContent(s.startLineNumber)),ft=Mr($e,o),Zt=Mr(qe,o);if(ft!==Zt){const Kt=ft-Zt;this.getIndentEditsOfMovingBlock(e,t,s,o,p,Kt)}}}}}this._selectionId=t.trackSelection(s)}buildIndentConverter(e,t,i){return{shiftIndent:s=>eu.U.shiftIndent(s,s.length+1,e,t,i),unshiftIndent:s=>eu.U.unshiftIndent(s,s.length+1,e,t,i)}}parseEnterResult(e,t,i,s,o){if(o){let d=o.indentation;o.indentAction===vg.wU.None||o.indentAction===vg.wU.Indent?d=o.indentation+o.appendText:o.indentAction===vg.wU.IndentOutdent?d=o.indentation:o.indentAction===vg.wU.Outdent&&(d=t.unshiftIndent(o.indentation)+o.appendText);const p=e.getLineContent(s);if(this.trimStart(p).indexOf(this.trimStart(d))>=0){const U=Zi.V8(e.getLineContent(s));let te=Zi.V8(d);const de=(0,$d.tI)(e,s,this._languageConfigurationService);de!==null&&de&2&&(te=t.unshiftIndent(te));const be=Mr(te,i),Ie=Mr(U,i);return be-Ie}}return null}matchEnterRuleMovingDown(e,t,i,s,o,d){if(Zi.ow(d)>=0){const p=e.getLineMaxColumn(o),U=(0,Bp.A)(this._autoIndent,e,new it.e(o,p,o,p),this._languageConfigurationService);return this.parseEnterResult(e,t,i,s,U)}else{let p=s-1;for(;p>=1;){const de=e.getLineContent(p);if(Zi.ow(de)>=0)break;p--}if(p<1||s>e.getLineCount())return null;const U=e.getLineMaxColumn(p),te=(0,Bp.A)(this._autoIndent,e,new it.e(p,U,p,U),this._languageConfigurationService);return this.parseEnterResult(e,t,i,s,te)}}matchEnterRule(e,t,i,s,o,d){let p=o;for(;p>=1;){let de;if(p===o&&d!==void 0?de=d:de=e.getLineContent(p),Zi.ow(de)>=0)break;p--}if(p<1||s>e.getLineCount())return null;const U=e.getLineMaxColumn(p),te=(0,Bp.A)(this._autoIndent,e,new it.e(p,U,p,U),this._languageConfigurationService);return this.parseEnterResult(e,t,i,s,te)}trimStart(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4||!e.tokenization.isCheapToTokenize(t.startLineNumber))return!1;const i=e.getLanguageIdAtPosition(t.startLineNumber,1),s=e.getLanguageIdAtPosition(t.endLineNumber,1);return!(i!==s||this._languageConfigurationService.getLanguageConfiguration(i).indentRulesSupport===null)}getIndentEditsOfMovingBlock(e,t,i,s,o,d){for(let p=i.startLineNumber;p<=i.endLineNumber;p++){const U=e.getLineContent(p),te=Zi.V8(U),be=Mr(te,s)+d,Ie=dh(be,s,o);Ie!==te&&(t.addEditOperation(new it.e(p,1,p,te.length+1),Ie),p===i.endLineNumber&&i.endColumn<=te.length+1&&Ie===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}};Wp=mL([pL(3,Zs.c_)],Wp);class rd{static getCollator(){return rd._COLLATOR||(rd._COLLATOR=new Intl.Collator),rd._COLLATOR}constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}getEditOperations(e,t){const i=_L(e,this.selection,this.descending);i&&t.addEditOperation(i.range,i.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,i){if(e===null)return!1;const s=ME(e,t,i);if(!s)return!1;for(let o=0,d=s.before.length;o<d;o++)if(s.before[o]!==s.after[o])return!0;return!1}}rd._COLLATOR=null;function ME(g,e,t){const i=e.startLineNumber;let s=e.endLineNumber;if(e.endColumn===1&&s--,i>=s)return null;const o=[];for(let p=i;p<=s;p++)o.push(g.getLineContent(p));let d=o.slice(0);return d.sort(rd.getCollator().compare),t===!0&&(d=d.reverse()),{startLineNumber:i,endLineNumber:s,before:o,after:d}}function _L(g,e,t){const i=ME(g,e,t);return i?uo.h.replace(new it.e(i.startLineNumber,1,i.endLineNumber,g.getLineMaxColumn(i.endLineNumber)),i.after.join(`
`)):null}class xE extends Ve.R6{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const i=t.getSelections().map((d,p)=>({selection:d,index:p,ignore:!1}));i.sort((d,p)=>it.e.compareRangesUsingStarts(d.selection,p.selection));let s=i[0];for(let d=1;d<i.length;d++){const p=i[d];s.selection.endLineNumber===p.selection.startLineNumber&&(s.index<p.index?p.ignore=!0:(s.ignore=!0,s=p))}const o=[];for(const d of i)o.push(new PE(d.selection,this.down,d.ignore));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class CL extends xE{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:le.NC("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:mt.eH.MenubarSelectionMenu,group:"2_line",title:le.NC({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class EL extends xE{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:le.NC("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:mt.eH.MenubarSelectionMenu,group:"2_line",title:le.NC({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class SL extends Ve.R6{constructor(){super({id:"editor.action.duplicateSelection",label:le.NC("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:Pt.u.writable,menuOpts:{menuId:mt.eH.MenubarSelectionMenu,group:"2_line",title:le.NC({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,i){if(!t.hasModel())return;const s=[],o=t.getSelections(),d=t.getModel();for(const p of o)if(p.isEmpty())s.push(new PE(p,!0));else{const U=new en.Y(p.endLineNumber,p.endColumn,p.endLineNumber,p.endColumn);s.push(new ii.OY(U,d.getValueInRange(p)))}t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}class kE extends Ve.R6{constructor(e,t){super(t),this.down=e}run(e,t){const i=e.get(Zs.c_),s=[],o=t.getSelections()||[],d=t.getOption(12);for(const p of o)s.push(new Wp(p,this.down,d,i));t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}class vL extends kE{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:le.NC("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:mt.eH.MenubarSelectionMenu,group:"2_line",title:le.NC({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class TL extends kE{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:le.NC("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:mt.eH.MenubarSelectionMenu,group:"2_line",title:le.NC({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class FE extends Ve.R6{constructor(e,t){super(t),this.descending=e}run(e,t){const i=t.getSelections()||[];for(const o of i)if(!rd.canRun(t.getModel(),o,this.descending))return;const s=[];for(let o=0,d=i.length;o<d;o++)s[o]=new rd(i[o],this.descending);t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}class bL extends FE{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:le.NC("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:Pt.u.writable})}}class LL extends FE{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:le.NC("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:Pt.u.writable})}}class RL extends Ve.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:le.NC("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:Pt.u.writable})}run(e,t){if(!t.hasModel())return;const i=t.getModel();if(i.getLineCount()===1&&i.getLineMaxColumn(1)===1)return;const s=[],o=[];let d=0;for(const p of t.getSelections()){const U=new Set,te=[];for(let $e=p.startLineNumber;$e<=p.endLineNumber;$e++){const qe=i.getLineContent($e);U.has(qe)||(te.push(qe),U.add(qe))}const de=new en.Y(p.startLineNumber,1,p.endLineNumber,i.getLineMaxColumn(p.endLineNumber)),be=p.startLineNumber-d,Ie=new en.Y(be,1,be+te.length-1,te[te.length-1].length);s.push(uo.h.replace(de,te.join(`
`))),o.push(Ie),d+=p.endLineNumber-p.startLineNumber+1-te.length}t.pushUndoStop(),t.executeEdits(this.id,s,o),t.pushUndoStop()}}class Tg extends Ve.R6{constructor(){super({id:Tg.ID,label:le.NC("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:(0,kn.gx)(2089,2102),weight:100}})}run(e,t,i){let s=[];i.reason==="auto-save"&&(s=(t.getSelections()||[]).map(p=>new bt.L(p.positionLineNumber,p.positionColumn)));const o=t.getSelection();if(o===null)return;const d=new fL(o,s);t.pushUndoStop(),t.executeCommands(this.id,[d]),t.pushUndoStop()}}Tg.ID="editor.action.trimTrailingWhitespace";class NL extends Ve.R6{constructor(){super({id:"editor.action.deleteLines",label:le.NC("lines.delete","Delete Line"),alias:"Delete Line",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;const i=this._getLinesToRemove(t),s=t.getModel();if(s.getLineCount()===1&&s.getLineMaxColumn(1)===1)return;let o=0;const d=[],p=[];for(let U=0,te=i.length;U<te;U++){const de=i[U];let be=de.startLineNumber,Ie=de.endLineNumber,$e=1,qe=s.getLineMaxColumn(Ie);Ie<s.getLineCount()?(Ie+=1,qe=1):be>1&&(be-=1,$e=s.getLineMaxColumn(be)),d.push(uo.h.replace(new en.Y(be,$e,Ie,qe),"")),p.push(new en.Y(be-o,de.positionColumn,be-o,de.positionColumn)),o+=de.endLineNumber-de.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,d,p),t.pushUndoStop()}_getLinesToRemove(e){const t=e.getSelections().map(o=>{let d=o.endLineNumber;return o.startLineNumber<o.endLineNumber&&o.endColumn===1&&(d-=1),{startLineNumber:o.startLineNumber,selectionStartColumn:o.selectionStartColumn,endLineNumber:d,positionColumn:o.positionColumn}});t.sort((o,d)=>o.startLineNumber===d.startLineNumber?o.endLineNumber-d.endLineNumber:o.startLineNumber-d.startLineNumber);const i=[];let s=t[0];for(let o=1;o<t.length;o++)s.endLineNumber+1>=t[o].startLineNumber?s.endLineNumber=t[o].endLineNumber:(i.push(s),s=t[o]);return i.push(s),i}}class IL extends Ve.R6{constructor(){super({id:"editor.action.indentLines",label:le.NC("lines.indent","Indent Line"),alias:"Indent Line",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:2142,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,Fp.u6.indent(i.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}class AL extends Ve.R6{constructor(){super({id:"editor.action.outdentLines",label:le.NC("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:2140,weight:100}})}run(e,t){Ne.wk.Outdent.runEditorCommand(e,t,null)}}class DL extends Ve.R6{constructor(){super({id:"editor.action.insertLineBefore",label:le.NC("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:3075,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,Fp.u6.lineInsertBefore(i.cursorConfig,t.getModel(),t.getSelections())))}}class wL extends Ve.R6{constructor(){super({id:"editor.action.insertLineAfter",label:le.NC("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:2051,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,Fp.u6.lineInsertAfter(i.cursorConfig,t.getModel(),t.getSelections())))}}class BE extends Ve.R6{run(e,t){if(!t.hasModel())return;const i=t.getSelection(),s=this._getRangesToDelete(t),o=[];for(let U=0,te=s.length-1;U<te;U++){const de=s[U],be=s[U+1];it.e.intersectRanges(de,be)===null?o.push(de):s[U+1]=it.e.plusRange(de,be)}o.push(s[s.length-1]);const d=this._getEndCursorState(i,o),p=o.map(U=>uo.h.replace(U,""));t.pushUndoStop(),t.executeEdits(this.id,p,d),t.pushUndoStop()}}class yL extends BE{constructor(){super({id:"deleteAllLeft",label:le.NC("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let i=null;const s=[];let o=0;return t.forEach(d=>{let p;if(d.endColumn===1&&o>0){const U=d.startLineNumber-o;p=new en.Y(U,d.startColumn,U,d.startColumn)}else p=new en.Y(d.startLineNumber,d.startColumn,d.startLineNumber,d.startColumn);o+=d.endLineNumber-d.startLineNumber,d.intersectRanges(e)?i=p:s.push(p)}),i&&s.unshift(i),s}_getRangesToDelete(e){const t=e.getSelections();if(t===null)return[];let i=t;const s=e.getModel();return s===null?[]:(i.sort(it.e.compareRangesUsingStarts),i=i.map(o=>{if(o.isEmpty())if(o.startColumn===1){const d=Math.max(1,o.startLineNumber-1),p=o.startLineNumber===1?1:s.getLineLength(d)+1;return new it.e(d,p,o.startLineNumber,1)}else return new it.e(o.startLineNumber,1,o.startLineNumber,o.startColumn);else return new it.e(o.startLineNumber,1,o.endLineNumber,o.endColumn)}),i)}}class OL extends BE{constructor(){super({id:"deleteAllRight",label:le.NC("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let i=null;const s=[];for(let o=0,d=t.length,p=0;o<d;o++){const U=t[o],te=new en.Y(U.startLineNumber-p,U.startColumn,U.startLineNumber-p,U.startColumn);U.intersectRanges(e)?i=te:s.push(te)}return i&&s.unshift(i),s}_getRangesToDelete(e){const t=e.getModel();if(t===null)return[];const i=e.getSelections();if(i===null)return[];const s=i.map(o=>{if(o.isEmpty()){const d=t.getLineMaxColumn(o.startLineNumber);return o.startColumn===d?new it.e(o.startLineNumber,o.startColumn,o.startLineNumber+1,1):new it.e(o.startLineNumber,o.startColumn,o.startLineNumber,d)}return o});return s.sort(it.e.compareRangesUsingStarts),s}}class PL extends Ve.R6{constructor(){super({id:"editor.action.joinLines",label:le.NC("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){const i=t.getSelections();if(i===null)return;let s=t.getSelection();if(s===null)return;i.sort(it.e.compareRangesUsingStarts);const o=[],d=i.reduce((Ie,$e)=>Ie.isEmpty()?Ie.endLineNumber===$e.startLineNumber?(s.equalsSelection(Ie)&&(s=$e),$e):$e.startLineNumber>Ie.endLineNumber+1?(o.push(Ie),$e):new en.Y(Ie.startLineNumber,Ie.startColumn,$e.endLineNumber,$e.endColumn):$e.startLineNumber>Ie.endLineNumber?(o.push(Ie),$e):new en.Y(Ie.startLineNumber,Ie.startColumn,$e.endLineNumber,$e.endColumn));o.push(d);const p=t.getModel();if(p===null)return;const U=[],te=[];let de=s,be=0;for(let Ie=0,$e=o.length;Ie<$e;Ie++){const qe=o[Ie],ft=qe.startLineNumber,Zt=1;let Kt=0,mi,ki;const Ui=p.getLineLength(qe.endLineNumber)-qe.endColumn;if(qe.isEmpty()||qe.startLineNumber===qe.endLineNumber){const Pn=qe.getStartPosition();Pn.lineNumber<p.getLineCount()?(mi=ft+1,ki=p.getLineMaxColumn(mi)):(mi=Pn.lineNumber,ki=p.getLineMaxColumn(Pn.lineNumber))}else mi=qe.endLineNumber,ki=p.getLineMaxColumn(mi);let Hi=p.getLineContent(ft);for(let Pn=ft+1;Pn<=mi;Pn++){const fs=p.getLineContent(Pn),gs=p.getLineFirstNonWhitespaceColumn(Pn);if(gs>=1){let As=!0;Hi===""&&(As=!1),As&&(Hi.charAt(Hi.length-1)===" "||Hi.charAt(Hi.length-1)==="	")&&(As=!1,Hi=Hi.replace(/[\s\uFEFF\xA0]+$/g," "));const xr=fs.substr(gs-1);Hi+=(As?" ":"")+xr,As?Kt=xr.length+1:Kt=xr.length}else Kt=0}const vn=new it.e(ft,Zt,mi,ki);if(!vn.isEmpty()){let Pn;qe.isEmpty()?(U.push(uo.h.replace(vn,Hi)),Pn=new en.Y(vn.startLineNumber-be,Hi.length-Kt+1,ft-be,Hi.length-Kt+1)):qe.startLineNumber===qe.endLineNumber?(U.push(uo.h.replace(vn,Hi)),Pn=new en.Y(qe.startLineNumber-be,qe.startColumn,qe.endLineNumber-be,qe.endColumn)):(U.push(uo.h.replace(vn,Hi)),Pn=new en.Y(qe.startLineNumber-be,qe.startColumn,qe.startLineNumber-be,Hi.length-Ui)),it.e.intersectRanges(vn,s)!==null?de=Pn:te.push(Pn)}be+=vn.endLineNumber-vn.startLineNumber}te.unshift(de),t.pushUndoStop(),t.executeEdits(this.id,U,te),t.pushUndoStop()}}class ML extends Ve.R6{constructor(){super({id:"editor.action.transpose",label:le.NC("editor.transpose","Transpose Characters around the Cursor"),alias:"Transpose Characters around the Cursor",precondition:Pt.u.writable})}run(e,t){const i=t.getSelections();if(i===null)return;const s=t.getModel();if(s===null)return;const o=[];for(let d=0,p=i.length;d<p;d++){const U=i[d];if(!U.isEmpty())continue;const te=U.getStartPosition(),de=s.getLineMaxColumn(te.lineNumber);if(te.column>=de){if(te.lineNumber===s.getLineCount())continue;const be=new it.e(te.lineNumber,Math.max(1,te.column-1),te.lineNumber+1,1),Ie=s.getValueInRange(be).split("").reverse().join("");o.push(new ii.T4(new en.Y(te.lineNumber,Math.max(1,te.column-1),te.lineNumber+1,1),Ie))}else{const be=new it.e(te.lineNumber,Math.max(1,te.column-1),te.lineNumber,te.column+1),Ie=s.getValueInRange(be).split("").reverse().join("");o.push(new ii.hP(be,Ie,new en.Y(te.lineNumber,te.column+1,te.lineNumber,te.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class iu extends Ve.R6{run(e,t){const i=t.getSelections();if(i===null)return;const s=t.getModel();if(s===null)return;const o=t.getOption(129),d=[];for(const p of i)if(p.isEmpty()){const U=p.getStartPosition(),te=t.getConfiguredWordAtPosition(U);if(!te)continue;const de=new it.e(U.lineNumber,te.startColumn,U.lineNumber,te.endColumn),be=s.getValueInRange(de);d.push(uo.h.replace(de,this._modifyText(be,o)))}else{const U=s.getValueInRange(p);d.push(uo.h.replace(p,this._modifyText(U,o)))}t.pushUndoStop(),t.executeEdits(this.id,d),t.pushUndoStop()}}class xL extends iu{constructor(){super({id:"editor.action.transformToUppercase",label:le.NC("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:Pt.u.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}class kL extends iu{constructor(){super({id:"editor.action.transformToLowercase",label:le.NC("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:Pt.u.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}class Qd{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}isSupported(){return this.get()!==null}}class fh extends iu{constructor(){super({id:"editor.action.transformToTitlecase",label:le.NC("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:Pt.u.writable})}_modifyText(e,t){const i=fh.titleBoundary.get();return i?e.toLocaleLowerCase().replace(i,s=>s.toLocaleUpperCase()):e}}fh.titleBoundary=new Qd("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class ad extends iu{constructor(){super({id:"editor.action.transformToSnakecase",label:le.NC("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:Pt.u.writable})}_modifyText(e,t){const i=ad.caseBoundary.get(),s=ad.singleLetters.get();return!i||!s?e:e.replace(i,"$1_$2").replace(s,"$1_$2$3").toLocaleLowerCase()}}ad.caseBoundary=new Qd("(\\p{Ll})(\\p{Lu})","gmu"),ad.singleLetters=new Qd("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class gh extends iu{constructor(){super({id:"editor.action.transformToCamelcase",label:le.NC("editor.transformToCamelcase","Transform to Camel Case"),alias:"Transform to Camel Case",precondition:Pt.u.writable})}_modifyText(e,t){const i=gh.wordBoundary.get();if(!i)return e;const s=e.split(i);return s.shift()+s.map(d=>d.substring(0,1).toLocaleUpperCase()+d.substring(1)).join("")}}gh.wordBoundary=new Qd("[_\\s-]","gm");class Il extends iu{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(t=>t.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:le.NC("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:Pt.u.writable})}_modifyText(e,t){const i=Il.caseBoundary.get(),s=Il.singleLetters.get(),o=Il.underscoreBoundary.get();return!i||!s||!o?e:e.replace(o,"$1-$3").replace(i,"$1-$2").replace(s,"$1-$2").toLocaleLowerCase()}}Il.caseBoundary=new Qd("(\\p{Ll})(\\p{Lu})","gmu"),Il.singleLetters=new Qd("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),Il.underscoreBoundary=new Qd("(\\S)(_)(\\S)","gm"),(0,Ve.Qr)(CL),(0,Ve.Qr)(EL),(0,Ve.Qr)(SL),(0,Ve.Qr)(vL),(0,Ve.Qr)(TL),(0,Ve.Qr)(bL),(0,Ve.Qr)(LL),(0,Ve.Qr)(RL),(0,Ve.Qr)(Tg),(0,Ve.Qr)(NL),(0,Ve.Qr)(IL),(0,Ve.Qr)(AL),(0,Ve.Qr)(DL),(0,Ve.Qr)(wL),(0,Ve.Qr)(yL),(0,Ve.Qr)(OL),(0,Ve.Qr)(PL),(0,Ve.Qr)(ML),(0,Ve.Qr)(xL),(0,Ve.Qr)(kL),ad.caseBoundary.isSupported()&&ad.singleLetters.isSupported()&&(0,Ve.Qr)(ad),gh.wordBoundary.isSupported()&&(0,Ve.Qr)(gh),fh.titleBoundary.isSupported()&&(0,Ve.Qr)(fh),Il.isSupported()&&(0,Ve.Qr)(Il);var FL=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},bg=function(g,e){return function(t,i){e(t,i,g)}},Lg;const WE=new Ot.uy("LinkedEditingInputVisible",!1),BL="linked-editing-decoration";let ld=Lg=class extends Ue.JT{static get(e){return e.getContribution(Lg.ID)}constructor(e,t,i,s,o){super(),this.languageConfigurationService=s,this._syncRangesToken=0,this._localToDispose=this._register(new Ue.SL),this._editor=e,this._providers=i.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=WE.bindTo(t),this._debounceInformation=o.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new Ue.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(d=>{(d.hasChanged(69)||d.hasChanged(92))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(e){const t=this._editor.getModel(),i=t!==null&&(this._editor.getOption(69)||this._editor.getOption(92))&&this._providers.has(t);if(i===this._enabled&&!e||(this._enabled=i,this.clearRanges(),this._localToDispose.clear(),!i||t===null))return;this._localToDispose.add(Ln.ju.runAndSubscribe(t.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition()}));const s=new Ke.vp(this._debounceInformation.get(t)),o=()=>{var U;this._rangeUpdateTriggerPromise=s.trigger(()=>this.updateRanges(),(U=this._debounceDuration)!==null&&U!==void 0?U:this._debounceInformation.get(t))},d=new Ke.vp(0),p=U=>{this._rangeSyncTriggerPromise=d.trigger(()=>this._syncRanges(U))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{o()})),this._localToDispose.add(this._editor.onDidChangeModelContent(U=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const te=this._currentDecorations.getRange(0);if(te&&U.changes.every(de=>te.intersectRanges(de.range))){p(this._syncRangesToken);return}}o()})),this._localToDispose.add({dispose:()=>{s.dispose(),d.dispose()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._syncRangesToken||this._currentDecorations.length===0)return;const t=this._editor.getModel(),i=this._currentDecorations.getRange(0);if(!i||i.startLineNumber!==i.endLineNumber)return this.clearRanges();const s=t.getValueInRange(i);if(this._currentWordPattern){const d=s.match(this._currentWordPattern);if((d?d[0].length:0)!==s.length)return this.clearRanges()}const o=[];for(let d=1,p=this._currentDecorations.length;d<p;d++){const U=this._currentDecorations.getRange(d);if(U)if(U.startLineNumber!==U.endLineNumber)o.push({range:U,text:s});else{let te=t.getValueInRange(U),de=s,be=U.startColumn,Ie=U.endColumn;const $e=Zi.Mh(te,de);be+=$e,te=te.substr($e),de=de.substr($e);const qe=Zi.P1(te,de);Ie-=qe,te=te.substr(0,te.length-qe),de=de.substr(0,de.length-qe),(be!==Ie||de.length!==0)&&o.push({range:new it.e(U.startLineNumber,be,U.endLineNumber,Ie),text:de})}}if(o.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const d=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",o),this._editor._getViewModel().setPrevEditOperationType(d)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(e=!1){return At(this,null,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const t=this._editor.getPosition();if(!this._enabled&&!e||this._editor.getSelections().length>1){this.clearRanges();return}const i=this._editor.getModel(),s=i.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===s){if(t.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const d=this._currentDecorations.getRange(0);if(d&&d.containsPosition(t))return}}this.clearRanges(),this._currentRequestPosition=t,this._currentRequestModelVersion=s;const o=(0,Ke.PG)(d=>At(this,null,function*(){try{const p=new io.G(!1),U=yield HE(this._providers,i,t,d);if(this._debounceInformation.update(i,p.elapsed()),o!==this._currentRequest||(this._currentRequest=null,s!==i.getVersionId()))return;let te=[];U!=null&&U.ranges&&(te=U.ranges),this._currentWordPattern=(U==null?void 0:U.wordPattern)||this._languageWordPattern;let de=!1;for(let Ie=0,$e=te.length;Ie<$e;Ie++)if(it.e.containsPosition(te[Ie],t)){if(de=!0,Ie!==0){const qe=te[Ie];te.splice(Ie,1),te.unshift(qe)}break}if(!de){this.clearRanges();return}const be=te.map(Ie=>({range:Ie,options:Lg.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(be),this._syncRangesToken++}catch(p){(0,rn.n2)(p)||(0,rn.dL)(p),(this._currentRequest===o||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=o,o})}};ld.ID="editor.contrib.linkedEditing",ld.DECORATION=_i.qx.register({description:"linked-editing",stickiness:0,className:BL}),ld=Lg=FL([bg(1,Ot.i6),bg(2,hn.p),bg(3,Zs.c_),bg(4,Yi.A)],ld);class WL extends Ve.R6{constructor(){super({id:"editor.action.linkedEditing",label:le.NC("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:Ot.Ao.and(Pt.u.writable,Pt.u.hasRenameProvider),kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const i=e.get($i.$),[s,o]=Array.isArray(t)&&t||[void 0,void 0];return Xn.o.isUri(s)&&bt.L.isIPosition(o)?i.openCodeEditor({resource:s},i.getActiveCodeEditor()).then(d=>{d&&(d.setPosition(o),d.invokeWithinContext(p=>(this.reportTelemetry(p,d),this.run(p,d))))},rn.dL):super.runCommand(e,t)}run(e,t){const i=ld.get(t);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}}const HL=Ve._l.bindToContribution(ld.get);(0,Ve.fK)(new HL({id:"cancelLinkedEditingInput",precondition:WE,handler:g=>g.clearRanges(),kbOpts:{kbExpr:Pt.u.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function HE(g,e,t,i){const s=g.ordered(e);return(0,Ke.Ps)(s.map(o=>()=>At(this,null,function*(){try{return yield o.provideLinkedEditingRanges(e,t,i)}catch(d){(0,rn.Cp)(d);return}})),o=>!!o&&cn.Of(o==null?void 0:o.ranges))}const VN=(0,Te.P6G)("editor.linkedEditingBackground",{dark:Fn.Il.fromHex("#f00").transparent(.3),light:Fn.Il.fromHex("#f00").transparent(.3),hcDark:Fn.Il.fromHex("#f00").transparent(.3),hcLight:Fn.Il.white},le.NC("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,Ve.sb)("_executeLinkedEditingProvider",(g,e,t)=>{const{linkedEditingRangeProvider:i}=g.get(hn.p);return HE(i,e,t,pn.T.None)}),(0,Ve._K)(ld.ID,ld,1),(0,Ve.Qr)(WL);class UL{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return At(this,null,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,e)).then(t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class Rg{constructor(e){this._disposables=new Ue.SL;let t=[];for(const[i,s]of e){const o=i.links.map(d=>new UL(d,s));t=Rg._union(t,o),(0,Ue.Wf)(i)&&this._disposables.add(i)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){const i=[];let s,o,d,p;for(s=0,d=0,o=e.length,p=t.length;s<o&&d<p;){const U=e[s],te=t[d];if(it.e.areIntersectingOrTouching(U.range,te.range)){s++;continue}it.e.compareRangesUsingStarts(U.range,te.range)<0?(i.push(U),s++):(i.push(te),d++)}for(;s<o;s++)i.push(e[s]);for(;d<p;d++)i.push(t[d]);return i}}function UE(g,e,t){const i=[],s=g.ordered(e).reverse().map((o,d)=>Promise.resolve(o.provideLinks(e,t)).then(p=>{p&&(i[d]=[p,o])},rn.Cp));return Promise.all(s).then(()=>{const o=new Rg((0,cn.kX)(i));return t.isCancellationRequested?(o.dispose(),new Rg([])):o})}jt.P.registerCommand("_executeLinkProvider",(g,...e)=>At(this,null,function*(){let[t,i]=e;(0,Zn.p_)(t instanceof Xn.o),typeof i!="number"&&(i=0);const{linkProvider:s}=g.get(hn.p),o=g.get(us.q).getModel(t);if(!o)return[];const d=yield UE(s,o,pn.T.None);if(!d)return[];for(let U=0;U<Math.min(i,d.links.length);U++)yield d.links[U].resolve(pn.T.None);const p=d.links.slice(0);return d.dispose(),p}));var VL=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Ng=function(g,e){return function(t,i){e(t,i,g)}},Hp;let nu=Hp=class extends Ue.JT{static get(e){return e.getContribution(Hp.ID)}constructor(e,t,i,s,o){super(),this.editor=e,this.openerService=t,this.notificationService=i,this.languageFeaturesService=s,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=o.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new Ke.pY(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const d=this._register(new ss(e));this._register(d.onMouseMoveOrRelevantKeyDown(([p,U])=>{this._onEditorMouseMove(p,U)})),this._register(d.onExecute(p=>{this.onEditorMouseUp(p)})),this._register(d.onCancel(p=>{this.cleanUpActiveLinkDecoration()})),this._register(e.onDidChangeConfiguration(p=>{p.hasChanged(70)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(e.onDidChangeModelContent(p=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(e.onDidChangeModel(p=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(e.onDidChangeModelLanguage(p=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(p=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}computeLinksNow(){return At(this,null,function*(){if(!this.editor.hasModel()||!this.editor.getOption(70))return;const e=this.editor.getModel();if(!e.isTooLargeForSyncing()&&this.providers.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,Ke.PG)(t=>UE(this.providers,e,t));try{const t=new io.G(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(e,t.elapsed()),e.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(t){(0,rn.dL)(t)}finally{this.computePromise=null}}})}updateDecorations(e){const t=this.editor.getOption(77)==="altKey",i=[],s=Object.keys(this.currentOccurrences);for(const d of s){const p=this.currentOccurrences[d];i.push(p.decorationId)}const o=[];if(e)for(const d of e)o.push(su.decoration(d,t));this.editor.changeDecorations(d=>{const p=d.deltaDecorations(i,o);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let U=0,te=p.length;U<te;U++){const de=new su(e[U],p[U]);this.currentOccurrences[de.decorationId]=de}})}_onEditorMouseMove(e,t){const i=this.editor.getOption(77)==="altKey";if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const s=this.getLinkOccurrence(e.target.position);s&&this.editor.changeDecorations(o=>{s.activate(o,i),this.activeLinkDecorationId=s.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e=this.editor.getOption(77)==="altKey";if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(i=>{t.deactivate(i,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,i=!1){if(!this.openerService)return;const{link:s}=e;s.resolve(pn.T.None).then(o=>{if(typeof o=="string"&&this.editor.hasModel()){const d=this.editor.getModel().uri;if(d.scheme===br.lg.file&&o.startsWith(`${br.lg.file}:`)){const p=Xn.o.parse(o);if(p.scheme===br.lg.file){const U=$s.z_(p);let te=null;U.startsWith("/./")?te=`.${U.substr(1)}`:U.startsWith("//./")&&(te=`.${U.substr(2)}`),te&&(o=$s.Vo(d,te))}}}return this.openerService.open(o,{openToSide:t,fromUserGesture:i,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},o=>{const d=o instanceof Error?o.message:o;d==="invalid"?this.notificationService.warn(le.NC("invalid.url","Failed to open this link because it is not well-formed: {0}",s.url.toString())):d==="missing"?this.notificationService.warn(le.NC("missing.url","Failed to open this link because its target is missing.")):(0,rn.dL)(o)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const i of t){const s=this.currentOccurrences[i.id];if(s)return s}return null}isEnabled(e,t){return!!(e.target.type===6&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.computeLinks.cancel(),this.activeLinksList&&((e=this.activeLinksList)===null||e===void 0||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};nu.ID="editor.linkDetector",nu=Hp=VL([Ng(1,xo.v),Ng(2,ts.lT),Ng(3,hn.p),Ng(4,Yi.A)],nu);const VE={general:_i.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:_i.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class su{static decoration(e,t){return{range:e.range,options:su._getOptions(e,t,!1)}}static _getOptions(e,t,i){const s=Di({},i?VE.active:VE.general);return s.hoverMessage=GL(e,t),s}constructor(e,t){this.link=e,this.decorationId=t}activate(e,t){e.changeDecorationOptions(this.decorationId,su._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,su._getOptions(this.link,t,!1))}}function GL(g,e){const t=g.url&&/^command:/i.test(g.url.toString()),i=g.tooltip?g.tooltip:t?le.NC("links.navigate.executeCmd","Execute command"):le.NC("links.navigate.follow","Follow link"),s=e?Ut.dz?le.NC("links.navigate.kb.meta.mac","cmd + click"):le.NC("links.navigate.kb.meta","ctrl + click"):Ut.dz?le.NC("links.navigate.kb.alt.mac","option + click"):le.NC("links.navigate.kb.alt","alt + click");if(g.url){let o="";if(/^command:/i.test(g.url.toString())){const p=g.url.toString().match(/^command:([^?#]+)/);if(p){const U=p[1];o=le.NC("tooltip.explanation","Execute command {0}",U)}}return new Bn.W5("",!0).appendLink(g.url.toString(!0).replace(/ /g,"%20"),i,o).appendMarkdown(` (${s})`)}else return new Bn.W5().appendText(`${i} (${s})`)}class zL extends Ve.R6{constructor(){super({id:"editor.action.openLink",label:le.NC("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){const i=nu.get(t);if(!i||!t.hasModel())return;const s=t.getSelections();for(const o of s){const d=i.getLinkOccurrence(o.getEndPosition());d&&i.openLinkOccurrence(d,!1)}}}(0,Ve._K)(nu.ID,nu,1),(0,Ve.Qr)(zL);class Up extends Ue.JT{constructor(e){super(),this._editor=e,this._register(this._editor.onMouseDown(t=>{const i=this._editor.getOption(116);i>=0&&t.target.type===6&&t.target.position.column>=i&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}Up.ID="editor.contrib.longLinesHelper",(0,Ve._K)(Up.ID,Up,2);const Ig=(0,Te.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},le.NC("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);(0,Te.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},le.NC("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),(0,Te.P6G)("editor.wordHighlightTextBackground",{light:Ig,dark:Ig,hcDark:Ig,hcLight:Ig},le.NC("wordHighlightText","Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);const Ag=(0,Te.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:Te.xL1,hcLight:Te.xL1},le.NC("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable."));(0,Te.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:Te.xL1,hcLight:Te.xL1},le.NC("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),(0,Te.P6G)("editor.wordHighlightTextBorder",{light:Ag,dark:Ag,hcDark:Ag,hcLight:Ag},le.NC("wordHighlightTextBorder","Border color of a textual occurrence for a symbol."));const KL=(0,Te.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},le.NC("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),YL=(0,Te.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},le.NC("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),jL=(0,Te.P6G)("editorOverviewRuler.wordHighlightTextForeground",{dark:Te.SPM,light:Te.SPM,hcDark:Te.SPM,hcLight:Te.SPM},le.NC("overviewRulerWordHighlightTextForeground","Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),$L=_i.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,tt.EN)(YL),position:fi.sh.Center},minimap:{color:(0,tt.EN)(Te.IYc),position:fi.F5.Inline}}),XL=_i.qx.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:(0,tt.EN)(jL),position:fi.sh.Center},minimap:{color:(0,tt.EN)(Te.IYc),position:fi.F5.Inline}}),QL=_i.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,tt.EN)(Te.SPM),position:fi.sh.Center},minimap:{color:(0,tt.EN)(Te.IYc),position:fi.F5.Inline}}),JL=_i.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),ZL=_i.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,tt.EN)(KL),position:fi.sh.Center},minimap:{color:(0,tt.EN)(Te.IYc),position:fi.F5.Inline}});function qL(g){return g===Un.MY.Write?$L:g===Un.MY.Text?XL:ZL}function e1(g){return g?JL:QL}(0,tt.Ic)((g,e)=>{const t=g.getColor(Te.Rzx);t&&e.addRule(`.monaco-editor .selectionHighlight { background-color: ${t.transparent(.5)}; }`)});var t1=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},i1=function(g,e){return function(t,i){e(t,i,g)}},Vp;function dd(g,e){const t=e.filter(i=>!g.find(s=>s.equals(i)));if(t.length>=1){const i=t.map(o=>`line ${o.viewState.position.lineNumber} column ${o.viewState.position.column}`).join(", "),s=t.length===1?le.NC("cursorAdded","Cursor added: {0}",i):le.NC("cursorsAdded","Cursors added: {0}",i);(0,gn.i7)(s)}}class n1 extends Ve.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:le.NC("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:mt.eH.MenubarSelectionMenu,group:"3_multi",title:le.NC({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,i){if(!t.hasModel())return;let s=!0;i&&i.logicalLine===!1&&(s=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();const d=o.getCursorStates();o.setCursorStates(i.source,3,kp.P.addCursorUp(o,d,s)),o.revealTopMostCursor(i.source),dd(d,o.getCursorStates())}}class s1 extends Ve.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:le.NC("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:mt.eH.MenubarSelectionMenu,group:"3_multi",title:le.NC({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,i){if(!t.hasModel())return;let s=!0;i&&i.logicalLine===!1&&(s=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();const d=o.getCursorStates();o.setCursorStates(i.source,3,kp.P.addCursorDown(o,d,s)),o.revealBottomMostCursor(i.source),dd(d,o.getCursorStates())}}class o1 extends Ve.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:le.NC("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:mt.eH.MenubarSelectionMenu,group:"3_multi",title:le.NC({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,i){if(!e.isEmpty()){for(let s=e.startLineNumber;s<e.endLineNumber;s++){const o=t.getLineMaxColumn(s);i.push(new en.Y(s,o,s,o))}e.endColumn>1&&i.push(new en.Y(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const i=t.getModel(),s=t.getSelections(),o=t._getViewModel(),d=o.getCursorStates(),p=[];s.forEach(U=>this.getCursorsForSelection(U,i,p)),p.length>0&&t.setSelections(p),dd(d,o.getCursorStates())}}class r1 extends Ve.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:le.NC("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),s=t.getModel().getLineCount(),o=[];for(let U=i[0].startLineNumber;U<=s;U++)o.push(new en.Y(U,i[0].startColumn,U,i[0].endColumn));const d=t._getViewModel(),p=d.getCursorStates();o.length>0&&t.setSelections(o),dd(p,d.getCursorStates())}}class a1 extends Ve.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:le.NC("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),s=[];for(let p=i[0].startLineNumber;p>=1;p--)s.push(new en.Y(p,i[0].startColumn,p,i[0].endColumn));const o=t._getViewModel(),d=o.getCursorStates();s.length>0&&t.setSelections(s),dd(d,o.getCursorStates())}}class Dg{constructor(e,t,i){this.selections=e,this.revealRange=t,this.revealScrollType=i}}class mh{static create(e,t){if(!e.hasModel())return null;const i=t.getState();if(!e.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new mh(e,t,!1,i.searchString,i.wholeWord,i.matchCase,null);let s=!1,o,d;const p=e.getSelections();p.length===1&&p[0].isEmpty()?(s=!0,o=!0,d=!0):(o=i.wholeWord,d=i.matchCase);const U=e.getSelection();let te,de=null;if(U.isEmpty()){const be=e.getConfiguredWordAtPosition(U.getStartPosition());if(!be)return null;te=be.word,de=new en.Y(U.startLineNumber,be.startColumn,U.startLineNumber,be.endColumn)}else te=e.getModel().getValueInRange(U).replace(/\r\n/g,`
`);return new mh(e,t,s,te,o,d,de)}constructor(e,t,i,s,o,d,p){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=i,this.searchText=s,this.wholeWord=o,this.matchCase=d,this.currentMatch=p}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new Dg(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new Dg(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const s=this.currentMatch;return this.currentMatch=null,s}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1);return i?new en.Y(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new Dg(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new Dg(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const s=this.currentMatch;return this.currentMatch=null,s}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1);return i?new en.Y(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}selectAll(e){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const t=this._editor.getModel();return e?t.findMatches(this.searchText,e,!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1,1073741824):t.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1,1073741824)}}class Jd extends Ue.JT{static get(e){return e.getContribution(Jd.ID)}constructor(e){super(),this._sessionDispose=this._register(new Ue.SL),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const t=mh.create(this._editor,e);if(!t)return;this._session=t;const i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=1,i.matchCaseOverride=1,i.isRegexOverride=2),e.getState().change(i,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(s=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(s=>{(s.matchCase||s.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;const i=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return i?new en.Y(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):t}_applySessionResult(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){const t=this._editor.getSelections();if(t.length>1){const s=e.getState().matchCase;if(!GE(this._editor.getModel(),t,s)){const d=this._editor.getModel(),p=[];for(let U=0,te=t.length;U<te;U++)p[U]=this._expandEmptyToWord(d,t[U]);this._editor.setSelections(p);return}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null;const i=e.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex){const s=this._editor.getModel();i.searchScope?t=s.findMatches(i.searchString,i.searchScope,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(129):null,!1,1073741824):t=s.findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(129):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll(i.searchScope)}if(t.length>0){const s=this._editor.getSelection();for(let o=0,d=t.length;o<d;o++){const p=t[o];if(p.range.intersectRanges(s)){t[o]=t[0],t[0]=p;break}}this._setSelections(t.map(o=>new en.Y(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn)))}}}Jd.ID="editor.contrib.multiCursorController";class ou extends Ve.R6{run(e,t){const i=Jd.get(t);if(!i)return;const s=t._getViewModel();if(s){const o=s.getCursorStates(),d=fr.get(t);if(d)this._run(i,d);else{const p=e.get(Mn.TG).createInstance(fr,t);this._run(i,p),p.dispose()}dd(o,s.getCursorStates())}}}class l1 extends ou{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:le.NC("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:Pt.u.focus,primary:2082,weight:100},menuOpts:{menuId:mt.eH.MenubarSelectionMenu,group:"3_multi",title:le.NC({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}class d1 extends ou{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:le.NC("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:mt.eH.MenubarSelectionMenu,group:"3_multi",title:le.NC({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}class c1 extends ou{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:le.NC("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:Pt.u.focus,primary:(0,kn.gx)(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}class u1 extends ou{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:le.NC("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}class h1 extends ou{constructor(){super({id:"editor.action.selectHighlights",label:le.NC("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:Pt.u.focus,primary:3114,weight:100},menuOpts:{menuId:mt.eH.MenubarSelectionMenu,group:"3_multi",title:le.NC({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}class f1 extends ou{constructor(){super({id:"editor.action.changeAll",label:le.NC("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:Ot.Ao.and(Pt.u.writable,Pt.u.editorTextFocus),kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}class g1{constructor(e,t,i,s,o){this._model=e,this._searchText=t,this._matchCase=i,this._wordSeparators=s,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,o&&this._model===o._model&&this._searchText===o._searchText&&this._matchCase===o._matchCase&&this._wordSeparators===o._wordSeparators&&this._modelVersionId===o._modelVersionId&&(this._cachedFindMatches=o._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(e=>e.range),this._cachedFindMatches.sort(it.e.compareRangesUsingStarts)),this._cachedFindMatches}}let ph=Vp=class extends Ue.JT{constructor(e,t){super(),this._languageFeaturesService=t,this.editor=e,this._isEnabled=e.getOption(107),this._decorations=e.createDecorationsCollection(),this.updateSoon=this._register(new Ke.pY(()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(s=>{this._isEnabled=e.getOption(107)})),this._register(e.onDidChangeCursorSelection(s=>{this._isEnabled&&(s.selection.isEmpty()?s.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(s=>{this._setState(null)})),this._register(e.onDidChangeModelContent(s=>{this._isEnabled&&this.updateSoon.schedule()}));const i=fr.get(e);i&&this._register(i.getState().onFindReplaceStateChange(s=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(Vp._createState(this.state,this._isEnabled,this.editor))}static _createState(e,t,i){if(!t||!i.hasModel())return null;const s=i.getSelection();if(s.startLineNumber!==s.endLineNumber)return null;const o=Jd.get(i);if(!o)return null;const d=fr.get(i);if(!d)return null;let p=o.getSession(d);if(!p){const de=i.getSelections();if(de.length>1){const Ie=d.getState().matchCase;if(!GE(i.getModel(),de,Ie))return null}p=mh.create(i,d)}if(!p||p.currentMatch||/^[ \t]+$/.test(p.searchText)||p.searchText.length>200)return null;const U=d.getState(),te=U.matchCase;if(U.isRevealed){let de=U.searchString;te||(de=de.toLowerCase());let be=p.searchText;if(te||(be=be.toLowerCase()),de===be&&p.matchCase===U.matchCase&&p.wholeWord===U.wholeWord&&!U.isRegex)return null}return new g1(i.getModel(),p.searchText,p.matchCase,p.wholeWord?i.getOption(129):null,e)}_setState(e){if(this.state=e,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const t=this.editor.getModel();if(t.isTooLargeForTokenization())return;const i=this.state.findMatches(),s=this.editor.getSelections();s.sort(it.e.compareRangesUsingStarts);const o=[];for(let te=0,de=0,be=i.length,Ie=s.length;te<be;){const $e=i[te];if(de>=Ie)o.push($e),te++;else{const qe=it.e.compareRangesUsingStarts($e,s[de]);qe<0?((s[de].isEmpty()||!it.e.areIntersecting($e,s[de]))&&o.push($e),te++):(qe>0||te++,de++)}}const d=this.editor.getOption(80)!=="off",p=this._languageFeaturesService.documentHighlightProvider.has(t)&&d,U=o.map(te=>({range:te,options:e1(p)}));this._decorations.set(U)}dispose(){this._setState(null),super.dispose()}};ph.ID="editor.contrib.selectionHighlighter",ph=Vp=t1([i1(1,hn.p)],ph);function GE(g,e,t){const i=zE(g,e[0],!t);for(let s=1,o=e.length;s<o;s++){const d=e[s];if(d.isEmpty())return!1;const p=zE(g,d,!t);if(i!==p)return!1}return!0}function zE(g,e,t){const i=g.getValueInRange(e);return t?i.toLowerCase():i}class m1 extends Ve.R6{constructor(){super({id:"editor.action.focusNextCursor",label:le.NC("mutlicursor.focusNextCursor","Focus Next Cursor"),metadata:{description:le.NC("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(e,t,i){if(!t.hasModel())return;const s=t._getViewModel();if(s.cursorConfig.readOnly)return;s.model.pushStackElement();const o=Array.from(s.getCursorStates()),d=o.shift();d&&(o.push(d),s.setCursorStates(i.source,3,o),s.revealPrimaryCursor(i.source,!0),dd(o,s.getCursorStates()))}}class p1 extends Ve.R6{constructor(){super({id:"editor.action.focusPreviousCursor",label:le.NC("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),metadata:{description:le.NC("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(e,t,i){if(!t.hasModel())return;const s=t._getViewModel();if(s.cursorConfig.readOnly)return;s.model.pushStackElement();const o=Array.from(s.getCursorStates()),d=o.pop();d&&(o.unshift(d),s.setCursorStates(i.source,3,o),s.revealPrimaryCursor(i.source,!0),dd(o,s.getCursorStates()))}}(0,Ve._K)(Jd.ID,Jd,4),(0,Ve._K)(ph.ID,ph,1),(0,Ve.Qr)(n1),(0,Ve.Qr)(s1),(0,Ve.Qr)(o1),(0,Ve.Qr)(l1),(0,Ve.Qr)(d1),(0,Ve.Qr)(c1),(0,Ve.Qr)(u1),(0,Ve.Qr)(h1),(0,Ve.Qr)(f1),(0,Ve.Qr)(r1),(0,Ve.Qr)(a1),(0,Ve.Qr)(m1),(0,Ve.Qr)(p1);const Zd={Visible:new Ot.uy("parameterHintsVisible",!1),MultipleSignatures:new Ot.uy("parameterHintsMultipleSignatures",!1)};function KE(g,e,t,i,s){return At(this,null,function*(){const o=g.ordered(e);for(const d of o)try{const p=yield d.provideSignatureHelp(e,t,s,i);if(p)return p}catch(p){(0,rn.Cp)(p)}})}jt.P.registerCommand("_executeSignatureHelpProvider",(g,...e)=>At(this,null,function*(){const[t,i,s]=e;(0,Zn.p_)(Xn.o.isUri(t)),(0,Zn.p_)(bt.L.isIPosition(i)),(0,Zn.p_)(typeof s=="string"||!s);const o=g.get(hn.p),d=yield g.get(un.S).createModelReference(t);try{const p=yield KE(o.signatureHelpProvider,d.object.textEditorModel,bt.L.lift(i),{triggerKind:Un.WW.Invoke,isRetrigger:!1,triggerCharacter:s},pn.T.None);return p?(setTimeout(()=>p.dispose(),0),p.value):void 0}finally{d.dispose()}}));var cd;(function(g){g.Default={type:0};class e{constructor(s,o){this.request=s,this.previouslyActiveHints=o,this.type=2}}g.Pending=e;class t{constructor(s){this.hints=s,this.type=1}}g.Active=t})(cd||(cd={}));class wg extends Ue.JT{constructor(e,t,i=wg.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new Ln.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=cd.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new Ue.XK),this.triggerChars=new zf.q,this.retriggerChars=new zf.q,this.triggerId=0,this.editor=e,this.providers=t,this.throttledDelayer=new Ke.vp(i),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(s=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(s=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(s=>this.onCursorChange(s))),this._register(this.editor.onDidChangeModelContent(s=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(s=>this.onDidType(s))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){this._state.type===2&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=cd.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){const i=this.editor.getModel();if(!i||!this.providers.has(i))return;const s=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(s),t).catch(rn.dL)}next(){if(this.state.type!==1)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t%e===e-1,s=this.editor.getOption(85).cycle;if((e<2||i)&&!s){this.cancel();return}this.updateActiveSignature(i&&s?0:t+1)}previous(){if(this.state.type!==1)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t===0,s=this.editor.getOption(85).cycle;if((e<2||i)&&!s){this.cancel();return}this.updateActiveSignature(i&&s?e-1:t-1)}updateActiveSignature(e){this.state.type===1&&(this.state=new cd.Active(sn(Di({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return At(this,null,function*(){const t=this.state.type===1||this.state.type===2,i=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const s=this._pendingTriggers.reduce(_1);this._pendingTriggers=[];const o={triggerKind:s.triggerKind,triggerCharacter:s.triggerCharacter,isRetrigger:t,activeSignatureHelp:i};if(!this.editor.hasModel())return!1;const d=this.editor.getModel(),p=this.editor.getPosition();this.state=new cd.Pending((0,Ke.PG)(U=>KE(this.providers,d,p,o,U)),i);try{const U=yield this.state.request;return e!==this.triggerId?(U==null||U.dispose(),!1):!U||!U.value.signatures||U.value.signatures.length===0?(U==null||U.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new cd.Active(U.value),this._lastSignatureHelpResult.value=U,this._onChangedHints.fire(this.state.hints),!0)}catch(U){return e===this.triggerId&&(this.state=cd.Default),(0,rn.dL)(U),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const e=this.editor.getModel();if(e)for(const t of this.providers.ordered(e)){for(const i of t.signatureHelpTriggerCharacters||[])if(i.length){const s=i.charCodeAt(0);this.triggerChars.add(s),this.retriggerChars.add(s)}for(const i of t.signatureHelpRetriggerCharacters||[])i.length&&this.retriggerChars.add(i.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const t=e.length-1,i=e.charCodeAt(t);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:Un.WW.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){e.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:Un.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:Un.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(85).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}wg.DEFAULT_DELAY=120;function _1(g,e){switch(e.triggerKind){case Un.WW.Invoke:return e;case Un.WW.ContentChange:return g;case Un.WW.TriggerCharacter:default:return e}}var C1=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Gp=function(g,e){return function(t,i){e(t,i,g)}},zp;const Qr=De.$,E1=(0,w.q5)("parameter-hints-next",di.l.chevronDown,le.NC("parameterHintsNextIcon","Icon for show next parameter hint.")),S1=(0,w.q5)("parameter-hints-previous",di.l.chevronUp,le.NC("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let yg=zp=class extends Ue.JT{constructor(e,t,i,s,o){super(),this.editor=e,this.model=t,this.renderDisposeables=this._register(new Ue.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new Uo({editor:e},o,s)),this.keyVisible=Zd.Visible.bindTo(i),this.keyMultipleSignatures=Zd.MultipleSignatures.bindTo(i)}createParameterHintDOMNodes(){const e=Qr(".editor-widget.parameter-hints-widget"),t=De.R3(e,Qr(".phwrapper"));t.tabIndex=-1;const i=De.R3(t,Qr(".controls")),s=De.R3(i,Qr(".button"+Ds.k.asCSSSelector(S1))),o=De.R3(i,Qr(".overloads")),d=De.R3(i,Qr(".button"+Ds.k.asCSSSelector(E1)));this._register(De.nm(s,"click",Ie=>{De.zB.stop(Ie),this.previous()})),this._register(De.nm(d,"click",Ie=>{De.zB.stop(Ie),this.next()}));const p=Qr(".body"),U=new Rc.s$(p,{alwaysConsumeMouseWheel:!0});this._register(U),t.appendChild(U.getDomNode());const te=De.R3(p,Qr(".signature")),de=De.R3(p,Qr(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:te,overloads:o,docs:de,scrollbar:U},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(Ie=>{this.visible&&this.editor.layoutContentWidget(this)}));const be=()=>{if(!this.domNodes)return;const Ie=this.editor.getOption(50);this.domNodes.element.style.fontSize=`${Ie.fontSize}px`,this.domNodes.element.style.lineHeight=`${Ie.lineHeight/Ie.fontSize}`};be(),this._register(Ln.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor),Ie=>Ie.filter($e=>$e.hasChanged(50)))(be)),this._register(this.editor.onDidLayoutChange(Ie=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var e;(e=this.domNodes)===null||e===void 0||e.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var e;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(e=this.domNodes)===null||e===void 0||e.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;const i=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",i),this.keyMultipleSignatures.set(i),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const s=e.signatures[e.activeSignature];if(!s)return;const o=De.R3(this.domNodes.signature,Qr(".code")),d=this.editor.getOption(50);o.style.fontSize=`${d.fontSize}px`,o.style.fontFamily=d.fontFamily;const p=s.parameters.length>0,U=(t=s.activeParameter)!==null&&t!==void 0?t:e.activeParameter;if(p)this.renderParameters(o,s,U);else{const be=De.R3(o,Qr("span"));be.textContent=s.label}const te=s.parameters[U];if(te!=null&&te.documentation){const be=Qr("span.documentation");if(typeof te.documentation=="string")be.textContent=te.documentation;else{const Ie=this.renderMarkdownDocs(te.documentation);be.appendChild(Ie.element)}De.R3(this.domNodes.docs,Qr("p",{},be))}if(s.documentation!==void 0)if(typeof s.documentation=="string")De.R3(this.domNodes.docs,Qr("p",{},s.documentation));else{const be=this.renderMarkdownDocs(s.documentation);De.R3(this.domNodes.docs,be.element)}const de=this.hasDocs(s,te);if(this.domNodes.signature.classList.toggle("has-docs",de),this.domNodes.docs.classList.toggle("empty",!de),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,te){let be="";const Ie=s.parameters[U];Array.isArray(Ie.label)?be=s.label.substring(Ie.label[0],Ie.label[1]):be=Ie.label,Ie.documentation&&(be+=typeof Ie.documentation=="string"?`, ${Ie.documentation}`:`, ${Ie.documentation.value}`),s.documentation&&(be+=typeof s.documentation=="string"?`, ${s.documentation}`:`, ${s.documentation.value}`),this.announcedLabel!==be&&(gn.Z9(le.NC("hint","{0}, hint",be)),this.announcedLabel=be)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){const t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var i;(i=this.domNodes)===null||i===void 0||i.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&typeof t.documentation=="string"&&(0,Zn.cW)(t.documentation).length>0||t&&typeof t.documentation=="object"&&(0,Zn.cW)(t.documentation).value.length>0||e.documentation&&typeof e.documentation=="string"&&(0,Zn.cW)(e.documentation).length>0||e.documentation&&typeof e.documentation=="object"&&(0,Zn.cW)(e.documentation.value).length>0)}renderParameters(e,t,i){const[s,o]=this.getParameterLabelOffsets(t,i),d=document.createElement("span");d.textContent=t.label.substring(0,s);const p=document.createElement("span");p.textContent=t.label.substring(s,o),p.className="parameter active";const U=document.createElement("span");U.textContent=t.label.substring(o),De.R3(e,d,p,U)}getParameterLabelOffsets(e,t){const i=e.parameters[t];if(i){if(Array.isArray(i.label))return i.label;if(i.label.length){const s=new RegExp(`(\\W|^)${(0,Zi.ec)(i.label)}(?=\\W|$)`,"g");s.test(e.label);const o=s.lastIndex-i.label.length;return o>=0?[o,s.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return zp.ID}updateMaxHeight(){if(!this.domNodes)return;const t=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=t;const i=this.domNodes.element.getElementsByClassName("phwrapper");i.length&&(i[0].style.maxHeight=t)}};yg.ID="editor.widget.parameterHintsWidget",yg=zp=C1([Gp(2,Ot.i6),Gp(3,xo.v),Gp(4,Ro.O)],yg),(0,Te.P6G)("editorHoverWidget.highlightForeground",{dark:Te.Gwp,light:Te.Gwp,hcDark:Te.Gwp,hcLight:Te.Gwp},le.NC("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));var v1=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},YE=function(g,e){return function(t,i){e(t,i,g)}},Kp;let qd=Kp=class extends Ue.JT{static get(e){return e.getContribution(Kp.ID)}constructor(e,t,i){super(),this.editor=e,this.model=this._register(new wg(e,i.signatureHelpProvider)),this._register(this.model.onChangedHints(s=>{var o;s?(this.widget.value.show(),this.widget.value.render(s)):(o=this.widget.rawValue)===null||o===void 0||o.hide()})),this.widget=new Ii.o(()=>this._register(t.createInstance(yg,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var e;(e=this.widget.rawValue)===null||e===void 0||e.previous()}next(){var e;(e=this.widget.rawValue)===null||e===void 0||e.next()}trigger(e){this.model.trigger(e,0)}};qd.ID="editor.controller.parameterHints",qd=Kp=v1([YE(1,Mn.TG),YE(2,hn.p)],qd);class T1 extends Ve.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:le.NC("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:Pt.u.hasSignatureHelpProvider,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:3082,weight:100}})}run(e,t){const i=qd.get(t);i==null||i.trigger({triggerKind:Un.WW.Invoke})}}(0,Ve._K)(qd.ID,qd,2),(0,Ve.Qr)(T1);const Yp=100+75,jp=Ve._l.bindToContribution(qd.get);(0,Ve.fK)(new jp({id:"closeParameterHints",precondition:Zd.Visible,handler:g=>g.cancel(),kbOpts:{weight:Yp,kbExpr:Pt.u.focus,primary:9,secondary:[1033]}})),(0,Ve.fK)(new jp({id:"showPrevParameterHint",precondition:Ot.Ao.and(Zd.Visible,Zd.MultipleSignatures),handler:g=>g.previous(),kbOpts:{weight:Yp,kbExpr:Pt.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,Ve.fK)(new jp({id:"showNextParameterHint",precondition:Ot.Ao.and(Zd.Visible,Zd.MultipleSignatures),handler:g=>g.next(),kbOpts:{weight:Yp,kbExpr:Pt.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var b1=c(11519),L1=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},$p=function(g,e){return function(t,i){e(t,i,g)}};const Og=new Ot.uy("renameInputVisible",!1,(0,le.NC)("renameInputVisible","Whether the rename input widget is visible"));let Xp=class{constructor(e,t,i,s,o){this._editor=e,this._acceptKeybindings=t,this._themeService=i,this._keybindingService=s,this._disposables=new Ue.SL,this.allowEditorOverflow=!0,this._visibleContextKey=Og.bindTo(o),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(50)&&this._updateFont()})),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,le.NC)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(e){var t,i,s,o;if(!this._input||!this._domNode)return;const d=e.getColor(Te.rh),p=e.getColor(Te.A42);this._domNode.style.backgroundColor=String((t=e.getColor(Te.D0T))!==null&&t!==void 0?t:""),this._domNode.style.boxShadow=d?` 0 0 8px 2px ${d}`:"",this._domNode.style.border=p?`1px solid ${p}`:"",this._domNode.style.color=String((i=e.getColor(Te.zJb))!==null&&i!==void 0?i:""),this._input.style.backgroundColor=String((s=e.getColor(Te.sEe))!==null&&s!==void 0?s:"");const U=e.getColor(Te.dt_);this._input.style.borderWidth=U?"1px":"0px",this._input.style.borderStyle=U?"solid":"none",this._input.style.borderColor=(o=U==null?void 0:U.toString())!==null&&o!==void 0?o:"none"}_updateFont(){if(!this._input||!this._label)return;const e=this._editor.getOption(50);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=`${e.fontSize}px`,this._label.style.fontSize=`${e.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}beforeRender(){var e,t;const[i,s]=this._acceptKeybindings;return this._label.innerText=(0,le.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(e=this._keybindingService.lookupKeybinding(i))===null||e===void 0?void 0:e.getLabel(),(t=this._keybindingService.lookupKeybinding(s))===null||t===void 0?void 0:t.getLabel()),null}afterRender(e){e||this.cancelInput(!0)}acceptInput(e){var t;(t=this._currentAcceptInput)===null||t===void 0||t.call(this,e)}cancelInput(e){var t;(t=this._currentCancelInput)===null||t===void 0||t.call(this,e)}getInput(e,t,i,s,o,d){this._domNode.classList.toggle("preview",o),this._position=new bt.L(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",i.toString()),this._input.setAttribute("selectionEnd",s.toString()),this._input.size=Math.max((e.endColumn-e.startColumn)*1.1,20);const p=new Ue.SL;return new Promise(U=>{this._currentCancelInput=te=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,U(te),!0),this._currentAcceptInput=te=>{if(this._input.value.trim().length===0||this._input.value===t){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,U({newName:this._input.value,wantsPreview:o&&te})},p.add(d.onCancellationRequested(()=>this.cancelInput(!0))),p.add(this._editor.onDidBlurEditorWidget(()=>{var te;return this.cancelInput(!(!((te=this._domNode)===null||te===void 0)&&te.ownerDocument.hasFocus()))})),this._show()}).finally(()=>{p.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};Xp=L1([$p(2,tt.XE),$p(3,Je.d),$p(4,Ot.i6)],Xp);var R1=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},ec=function(g,e){return function(t,i){e(t,i,g)}},Qp;class Jp{constructor(e,t,i){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=i.ordered(e)}hasProvider(){return this._providers.length>0}resolveRenameLocation(e){return At(this,null,function*(){const t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const s=this._providers[this._providerRenameIdx];if(!s.resolveRenameLocation)break;const o=yield s.resolveRenameLocation(this.model,this.position,e);if(o){if(o.rejectReason){t.push(o.rejectReason);continue}return o}}this._providerRenameIdx=0;const i=this.model.getWordAtPosition(this.position);return i?{range:new it.e(this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word,rejectReason:t.length>0?t.join(`
`):void 0}:{range:it.e.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join(`
`):void 0}})}provideRenameEdits(e,t){return At(this,null,function*(){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)})}_provideRenameEdits(e,t,i,s){return At(this,null,function*(){const o=this._providers[t];if(!o)return{edits:[],rejectReason:i.join(`
`)};const d=yield o.provideRenameEdits(this.model,this.position,e,s);if(d){if(d.rejectReason)return this._provideRenameEdits(e,t+1,i.concat(d.rejectReason),s)}else return this._provideRenameEdits(e,t+1,i.concat(le.NC("no result","No result.")),s);return d})}}function N1(g,e,t,i){return At(this,null,function*(){const s=new Jp(e,t,g),o=yield s.resolveRenameLocation(pn.T.None);return o!=null&&o.rejectReason?{edits:[],rejectReason:o.rejectReason}:s.provideRenameEdits(i,pn.T.None)})}let tc=Qp=class{static get(e){return e.getContribution(Qp.ID)}constructor(e,t,i,s,o,d,p,U){this.editor=e,this._instaService=t,this._notificationService=i,this._bulkEditService=s,this._progressService=o,this._logService=d,this._configService=p,this._languageFeaturesService=U,this._disposableStore=new Ue.SL,this._cts=new pn.A,this._renameInputField=this._disposableStore.add(this._instaService.createInstance(Xp,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){return At(this,null,function*(){var e,t;if(this._cts.dispose(!0),this._cts=new pn.A,!this.editor.hasModel())return;const i=this.editor.getPosition(),s=new Jp(this.editor.getModel(),i,this._languageFeaturesService.renameProvider);if(!s.hasProvider())return;const o=new Rs.Dl(this.editor,5,void 0,this._cts.token);let d;try{const qe=s.resolveRenameLocation(o.token);this._progressService.showWhile(qe,250),d=yield qe}catch(qe){(e=Do.get(this.editor))===null||e===void 0||e.showMessage(qe||le.NC("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),i);return}finally{o.dispose()}if(!d)return;if(d.rejectReason){(t=Do.get(this.editor))===null||t===void 0||t.showMessage(d.rejectReason,i);return}if(o.token.isCancellationRequested)return;const p=new Rs.Dl(this.editor,5,d.range,this._cts.token),U=this.editor.getSelection();let te=0,de=d.text.length;!it.e.isEmpty(U)&&!it.e.spansMultipleLines(U)&&it.e.containsRange(d.range,U)&&(te=Math.max(0,U.startColumn-d.range.startColumn),de=Math.min(d.range.endColumn,U.endColumn)-d.range.startColumn);const be=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),Ie=yield this._renameInputField.getInput(d.range,d.text,te,de,be,p.token);if(typeof Ie=="boolean"){Ie&&this.editor.focus(),p.dispose();return}this.editor.focus();const $e=(0,Ke.eP)(s.provideRenameEdits(Ie.newName,p.token),p.token).then(qe=>At(this,null,function*(){if(!(!qe||!this.editor.hasModel())){if(qe.rejectReason){this._notificationService.info(qe.rejectReason);return}this.editor.setSelection(it.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(qe,{editor:this.editor,showPreview:Ie.wantsPreview,label:le.NC("label","Renaming '{0}' to '{1}'",d==null?void 0:d.text,Ie.newName),code:"undoredo.rename",quotableLabel:le.NC("quotableLabel","Renaming {0} to {1}",d==null?void 0:d.text,Ie.newName),respectAutoSaveConfig:!0}).then(ft=>{ft.ariaSummary&&(0,gn.Z9)(le.NC("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",d.text,Ie.newName,ft.ariaSummary))}).catch(ft=>{this._notificationService.error(le.NC("rename.failedApply","Rename failed to apply edits")),this._logService.error(ft)})}}),qe=>{this._notificationService.error(le.NC("rename.failed","Rename failed to compute edits")),this._logService.error(qe)}).finally(()=>{p.dispose()});return this._progressService.showWhile($e,250),$e})}acceptRenameInput(e){this._renameInputField.acceptInput(e)}cancelRenameInput(){this._renameInputField.cancelInput(!0)}};tc.ID="editor.contrib.renameController",tc=Qp=R1([ec(1,Mn.TG),ec(2,ts.lT),ec(3,Is.vu),ec(4,ls.ek),ec(5,Jf.VZ),ec(6,b1.V),ec(7,hn.p)],tc);class I1 extends Ve.R6{constructor(){super({id:"editor.action.rename",label:le.NC("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:Ot.Ao.and(Pt.u.writable,Pt.u.hasRenameProvider),kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){const i=e.get($i.$),[s,o]=Array.isArray(t)&&t||[void 0,void 0];return Xn.o.isUri(s)&&bt.L.isIPosition(o)?i.openCodeEditor({resource:s},i.getActiveCodeEditor()).then(d=>{d&&(d.setPosition(o),d.invokeWithinContext(p=>(this.reportTelemetry(p,d),this.run(p,d))))},rn.dL):super.runCommand(e,t)}run(e,t){const i=tc.get(t);return i?i.run():Promise.resolve()}}(0,Ve._K)(tc.ID,tc,4),(0,Ve.Qr)(I1);const Zp=Ve._l.bindToContribution(tc.get);(0,Ve.fK)(new Zp({id:"acceptRenameInput",precondition:Og,handler:g=>g.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:Ot.Ao.and(Pt.u.focus,Ot.Ao.not("isComposing")),primary:3}})),(0,Ve.fK)(new Zp({id:"acceptRenameInputWithPreview",precondition:Ot.Ao.and(Og,Ot.Ao.has("config.editor.rename.enablePreview")),handler:g=>g.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:Ot.Ao.and(Pt.u.focus,Ot.Ao.not("isComposing")),primary:1024+3}})),(0,Ve.fK)(new Zp({id:"cancelRenameInput",precondition:Og,handler:g=>g.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:Pt.u.focus,primary:9,secondary:[1033]}})),(0,Ve.sb)("_executeDocumentRenameProvider",function(g,e,t,...i){const[s]=i;(0,Zn.p_)(typeof s=="string");const{renameProvider:o}=g.get(hn.p);return N1(o,e,t,s)}),(0,Ve.sb)("_executePrepareRename",function(g,e,t){return At(this,null,function*(){const{renameProvider:i}=g.get(hn.p),o=yield new Jp(e,t,i).resolveRenameLocation(pn.T.None);if(o!=null&&o.rejectReason)throw new Error(o.rejectReason);return o})}),tr.B.as(Ea.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:le.NC("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});var jE=c(94312),A1=c(49159);function D1(g){for(let e=0,t=g.length;e<t;e+=4){const i=g[e+0],s=g[e+1],o=g[e+2],d=g[e+3];g[e+0]=d,g[e+1]=o,g[e+2]=s,g[e+3]=i}}function w1(g){const e=new Uint8Array(g.buffer,g.byteOffset,g.length*4);return Ut.r()||D1(e),A1.KN.wrap(e)}function $E(g){const e=new Uint32Array(y1(g));let t=0;if(e[t++]=g.id,g.type==="full")e[t++]=1,e[t++]=g.data.length,e.set(g.data,t),t+=g.data.length;else{e[t++]=2,e[t++]=g.deltas.length;for(const i of g.deltas)e[t++]=i.start,e[t++]=i.deleteCount,i.data?(e[t++]=i.data.length,e.set(i.data,t),t+=i.data.length):e[t++]=0}return w1(e)}function y1(g){let e=0;if(e+=1+1,g.type==="full")e+=1+g.data.length;else{e+=1,e+=(1+1+1)*g.deltas.length;for(const t of g.deltas)t.data&&(e+=t.data.length)}return e}function Pg(g){return g&&!!g.data}function XE(g){return g&&Array.isArray(g.edits)}class O1{constructor(e,t,i){this.provider=e,this.tokens=t,this.error=i}}function QE(g,e){return g.has(e)}function P1(g,e){const t=g.orderedGroups(e);return t.length>0?t[0]:[]}function JE(g,e,t,i,s){return At(this,null,function*(){const o=P1(g,e),d=yield Promise.all(o.map(p=>At(this,null,function*(){let U,te=null;try{U=yield p.provideDocumentSemanticTokens(e,p===t?i:null,s)}catch(de){te=de,U=null}return(!U||!Pg(U)&&!XE(U))&&(U=null),new O1(p,U,te)})));for(const p of d){if(p.error)throw p.error;if(p.tokens)return p}return d.length>0?d[0]:null})}function M1(g,e){const t=g.orderedGroups(e);return t.length>0?t[0]:null}class x1{constructor(e,t){this.provider=e,this.tokens=t}}function k1(g,e){return g.has(e)}function ZE(g,e){const t=g.orderedGroups(e);return t.length>0?t[0]:[]}function qp(g,e,t,i){return At(this,null,function*(){const s=ZE(g,e),o=yield Promise.all(s.map(d=>At(this,null,function*(){let p;try{p=yield d.provideDocumentRangeSemanticTokens(e,t,i)}catch(U){(0,rn.Cp)(U),p=null}return(!p||!Pg(p))&&(p=null),new x1(d,p)})));for(const d of o)if(d.tokens)return d;return o.length>0?o[0]:null})}jt.P.registerCommand("_provideDocumentSemanticTokensLegend",(g,...e)=>At(this,null,function*(){const[t]=e;(0,Zn.p_)(t instanceof Xn.o);const i=g.get(us.q).getModel(t);if(!i)return;const{documentSemanticTokensProvider:s}=g.get(hn.p),o=M1(s,i);return o?o[0].getLegend():g.get(jt.H).executeCommand("_provideDocumentRangeSemanticTokensLegend",t)})),jt.P.registerCommand("_provideDocumentSemanticTokens",(g,...e)=>At(this,null,function*(){const[t]=e;(0,Zn.p_)(t instanceof Xn.o);const i=g.get(us.q).getModel(t);if(!i)return;const{documentSemanticTokensProvider:s}=g.get(hn.p);if(!QE(s,i))return g.get(jt.H).executeCommand("_provideDocumentRangeSemanticTokens",t,i.getFullModelRange());const o=yield JE(s,i,null,null,pn.T.None);if(!o)return;const{provider:d,tokens:p}=o;if(!p||!Pg(p))return;const U=$E({id:0,type:"full",data:p.data});return p.resultId&&d.releaseDocumentSemanticTokens(p.resultId),U})),jt.P.registerCommand("_provideDocumentRangeSemanticTokensLegend",(g,...e)=>At(this,null,function*(){const[t,i]=e;(0,Zn.p_)(t instanceof Xn.o);const s=g.get(us.q).getModel(t);if(!s)return;const{documentRangeSemanticTokensProvider:o}=g.get(hn.p),d=ZE(o,s);if(d.length===0)return;if(d.length===1)return d[0].getLegend();if(!i||!it.e.isIRange(i))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),d[0].getLegend();const p=yield qp(o,s,it.e.lift(i),pn.T.None);if(p)return p.provider.getLegend()})),jt.P.registerCommand("_provideDocumentRangeSemanticTokens",(g,...e)=>At(this,null,function*(){const[t,i]=e;(0,Zn.p_)(t instanceof Xn.o),(0,Zn.p_)(it.e.isIRange(i));const s=g.get(us.q).getModel(t);if(!s)return;const{documentRangeSemanticTokensProvider:o}=g.get(hn.p),d=yield qp(o,s,it.e.lift(i),pn.T.None);if(!(!d||!d.tokens))return $E({id:0,type:"full",data:d.tokens.data})}));var e_=c(85602);const t_="editor.semanticHighlighting";function i_(g,e,t){var i;const s=(i=t.getValue(t_,{overrideIdentifier:g.getLanguageId(),resource:g.uri}))===null||i===void 0?void 0:i.enabled;return typeof s=="boolean"?s:e.getColorTheme().semanticHighlighting}var qE=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},il=function(g,e){return function(t,i){e(t,i,g)}},ud;let n_=class extends Ue.JT{constructor(e,t,i,s,o,d){super(),this._watchers=Object.create(null);const p=de=>{this._watchers[de.uri.toString()]=new _h(de,e,i,o,d)},U=(de,be)=>{be.dispose(),delete this._watchers[de.uri.toString()]},te=()=>{for(const de of t.getModels()){const be=this._watchers[de.uri.toString()];i_(de,i,s)?be||p(de):be&&U(de,be)}};this._register(t.onModelAdded(de=>{i_(de,i,s)&&p(de)})),this._register(t.onModelRemoved(de=>{const be=this._watchers[de.uri.toString()];be&&U(de,be)})),this._register(s.onDidChangeConfiguration(de=>{de.affectsConfiguration(t_)&&te()})),this._register(i.onDidColorThemeChange(te))}dispose(){for(const e of Object.values(this._watchers))e.dispose();super.dispose()}};n_=qE([il(0,e_.s),il(1,us.q),il(2,tt.XE),il(3,bi.Ui),il(4,Yi.A),il(5,hn.p)],n_);let _h=ud=class extends Ue.JT{constructor(e,t,i,s,o){super(),this._semanticTokensStylingService=t,this._isDisposed=!1,this._model=e,this._provider=o.documentSemanticTokensProvider,this._debounceInformation=s.for(this._provider,"DocumentSemanticTokens",{min:ud.REQUEST_MIN_DELAY,max:ud.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new Ke.pY(()=>this._fetchDocumentSemanticTokensNow(),ud.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const d=()=>{(0,Ue.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const p of this._provider.all(e))typeof p.onDidChange=="function"&&this._documentProvidersChangeListeners.push(p.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};d(),this._register(this._provider.onDidChange(()=>{d(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(i.onDidColorThemeChange(p=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),(0,Ue.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!QE(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;const e=new pn.A,t=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,i=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,s=JE(this._provider,this._model,t,i,e.token);this._currentDocumentRequestCancellationTokenSource=e,this._providersChangedDuringRequest=!1;const o=[],d=this._model.onDidChangeContent(U=>{o.push(U)}),p=new io.G(!1);s.then(U=>{if(this._debounceInformation.update(this._model,p.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,d.dispose(),!U)this._setDocumentSemanticTokens(null,null,null,o);else{const{provider:te,tokens:de}=U,be=this._semanticTokensStylingService.getStyling(te);this._setDocumentSemanticTokens(te,de||null,be,o)}},U=>{U&&(rn.n2(U)||typeof U.message=="string"&&U.message.indexOf("busy")!==-1)||rn.dL(U),this._currentDocumentRequestCancellationTokenSource=null,d.dispose(),(o.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(e,t,i,s,o){o=Math.min(o,i.length-s,e.length-t);for(let d=0;d<o;d++)i[s+d]=e[t+d]}_setDocumentSemanticTokens(e,t,i,s){const o=this._currentDocumentResponse,d=()=>{(s.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){e&&t&&e.releaseDocumentSemanticTokens(t.resultId);return}if(!e||!i){this._model.tokenization.setSemanticTokens(null,!1);return}if(!t){this._model.tokenization.setSemanticTokens(null,!0),d();return}if(XE(t)){if(!o){this._model.tokenization.setSemanticTokens(null,!0);return}if(t.edits.length===0)t={resultId:t.resultId,data:o.data};else{let p=0;for(const Ie of t.edits)p+=(Ie.data?Ie.data.length:0)-Ie.deleteCount;const U=o.data,te=new Uint32Array(U.length+p);let de=U.length,be=te.length;for(let Ie=t.edits.length-1;Ie>=0;Ie--){const $e=t.edits[Ie];if($e.start>U.length){i.warnInvalidEditStart(o.resultId,t.resultId,Ie,$e.start,U.length),this._model.tokenization.setSemanticTokens(null,!0);return}const qe=de-($e.start+$e.deleteCount);qe>0&&(ud._copy(U,de-qe,te,be-qe,qe),be-=qe),$e.data&&(ud._copy($e.data,0,te,be-$e.data.length,$e.data.length),be-=$e.data.length),de=$e.start}de>0&&ud._copy(U,0,te,0,de),t={resultId:t.resultId,data:te}}}if(Pg(t)){this._currentDocumentResponse=new F1(e,t.resultId,t.data);const p=(0,jE.h)(t,i,this._model.getLanguageId());if(s.length>0)for(const U of s)for(const te of p)for(const de of U.changes)te.applyEdit(de.range,de.text);this._model.tokenization.setSemanticTokens(p,!0)}else this._model.tokenization.setSemanticTokens(null,!0);d()}};_h.REQUEST_MIN_DELAY=300,_h.REQUEST_MAX_DELAY=2e3,_h=ud=qE([il(1,e_.s),il(2,tt.XE),il(3,Yi.A),il(4,hn.p)],_h);class F1{constructor(e,t,i){this.provider=e,this.resultId=t,this.data=i}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}(0,zo.y)(n_);var B1=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Ch=function(g,e){return function(t,i){e(t,i,g)}};let Eh=class extends Ue.JT{constructor(e,t,i,s,o,d){super(),this._semanticTokensStylingService=t,this._themeService=i,this._configurationService=s,this._editor=e,this._provider=d.documentRangeSemanticTokensProvider,this._debounceInformation=o.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new Ke.pY(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const p=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{p()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),p()})),this._register(this._editor.onDidChangeModelContent(U=>{this._cancelAll(),p()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),p()})),this._register(this._configurationService.onDidChangeConfiguration(U=>{U.affectsConfiguration(t_)&&(this._cancelAll(),p())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),p()})),p()}_cancelAll(){for(const e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,i=this._outstandingRequests.length;t<i;t++)if(this._outstandingRequests[t]===e){this._outstandingRequests.splice(t,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const e=this._editor.getModel();if(e.tokenization.hasCompleteSemanticTokens())return;if(!i_(e,this._themeService,this._configurationService)){e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1);return}if(!k1(this._provider,e)){e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1);return}const t=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(t.map(i=>this._requestRange(e,i)))}_requestRange(e,t){const i=e.getVersionId(),s=(0,Ke.PG)(d=>Promise.resolve(qp(this._provider,e,t,d))),o=new io.G(!1);return s.then(d=>{if(this._debounceInformation.update(e,o.elapsed()),!d||!d.tokens||e.isDisposed()||e.getVersionId()!==i)return;const{provider:p,tokens:U}=d,te=this._semanticTokensStylingService.getStyling(p);e.tokenization.setPartialSemanticTokens(t,(0,jE.h)(U,te,e.getLanguageId()))}).then(()=>this._removeOutstandingRequest(s),()=>this._removeOutstandingRequest(s)),s}};Eh.ID="editor.contrib.viewportSemanticTokens",Eh=B1([Ch(1,e_.s),Ch(2,tt.XE),Ch(3,bi.Ui),Ch(4,Yi.A),Ch(5,hn.p)],Eh),(0,Ve._K)(Eh.ID,Eh,1);class W1{constructor(e=!0){this.selectSubwords=e}provideSelectionRanges(e,t){const i=[];for(const s of t){const o=[];i.push(o),this.selectSubwords&&this._addInWordRanges(o,e,s),this._addWordRanges(o,e,s),this._addWhitespaceLine(o,e,s),o.push({range:e.getFullModelRange()})}return i}_addInWordRanges(e,t,i){const s=t.getWordAtPosition(i);if(!s)return;const{word:o,startColumn:d}=s,p=i.column-d;let U=p,te=p,de=0;for(;U>=0;U--){const be=o.charCodeAt(U);if(U!==p&&(be===95||be===45))break;if((0,Zi.mK)(be)&&(0,Zi.df)(de))break;de=be}for(U+=1;te<o.length;te++){const be=o.charCodeAt(te);if((0,Zi.df)(be)&&(0,Zi.mK)(de))break;if(be===95||be===45)break;de=be}U<te&&e.push({range:new it.e(i.lineNumber,d+U,i.lineNumber,d+te)})}_addWordRanges(e,t,i){const s=t.getWordAtPosition(i);s&&e.push({range:new it.e(i.lineNumber,s.startColumn,i.lineNumber,s.endColumn)})}_addWhitespaceLine(e,t,i){t.getLineLength(i.lineNumber)>0&&t.getLineFirstNonWhitespaceColumn(i.lineNumber)===0&&t.getLineLastNonWhitespaceColumn(i.lineNumber)===0&&e.push({range:new it.e(i.lineNumber,1,i.lineNumber,t.getLineMaxColumn(i.lineNumber))})}}var H1=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},U1=function(g,e){return function(t,i){e(t,i,g)}},s_;class o_{constructor(e,t){this.index=e,this.ranges=t}mov(e){const t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const i=new o_(t,this.ranges);return i.ranges[t].equalsRange(this.ranges[this.index])?i.mov(e):i}}let ru=s_=class{static get(e){return e.getContribution(s_.ID)}constructor(e,t){this._editor=e,this._languageFeaturesService=t,this._ignoreSelection=!1}dispose(){var e;(e=this._selectionListener)===null||e===void 0||e.dispose()}run(e){return At(this,null,function*(){if(!this._editor.hasModel())return;const t=this._editor.getSelections(),i=this._editor.getModel();if(this._state||(yield t0(this._languageFeaturesService.selectionRangeProvider,i,t.map(o=>o.getPosition()),this._editor.getOption(112),pn.T.None).then(o=>{var d;if(!(!cn.Of(o)||o.length!==t.length)&&!(!this._editor.hasModel()||!cn.fS(this._editor.getSelections(),t,(p,U)=>p.equalsSelection(U)))){for(let p=0;p<o.length;p++)o[p]=o[p].filter(U=>U.containsPosition(t[p].getStartPosition())&&U.containsPosition(t[p].getEndPosition())),o[p].unshift(t[p]);this._state=o.map(p=>new o_(0,p)),(d=this._selectionListener)===null||d===void 0||d.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var p;this._ignoreSelection||((p=this._selectionListener)===null||p===void 0||p.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(o=>o.mov(e));const s=this._state.map(o=>en.Y.fromPositions(o.ranges[o.index].getStartPosition(),o.ranges[o.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(s)}finally{this._ignoreSelection=!1}})}};ru.ID="editor.contrib.smartSelectController",ru=s_=H1([U1(1,hn.p)],ru);class e0 extends Ve.R6{constructor(e,t){super(t),this._forward=e}run(e,t){return At(this,null,function*(){const i=ru.get(t);i&&(yield i.run(this._forward))})}}class V1 extends e0{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:le.NC("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:mt.eH.MenubarSelectionMenu,group:"1_basic",title:le.NC({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}jt.P.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class G1 extends e0{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:le.NC("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:mt.eH.MenubarSelectionMenu,group:"1_basic",title:le.NC({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}(0,Ve._K)(ru.ID,ru,4),(0,Ve.Qr)(V1),(0,Ve.Qr)(G1);function t0(g,e,t,i,s){return At(this,null,function*(){const o=g.all(e).concat(new W1(i.selectSubwords));o.length===1&&o.unshift(new jr);const d=[],p=[];for(const U of o)d.push(Promise.resolve(U.provideSelectionRanges(e,t,s)).then(te=>{if(cn.Of(te)&&te.length===t.length)for(let de=0;de<t.length;de++){p[de]||(p[de]=[]);for(const be of te[de])it.e.isIRange(be.range)&&it.e.containsPosition(be.range,t[de])&&p[de].push(it.e.lift(be.range))}},rn.Cp));return yield Promise.all(d),p.map(U=>{if(U.length===0)return[];U.sort((Ie,$e)=>bt.L.isBefore(Ie.getStartPosition(),$e.getStartPosition())?1:bt.L.isBefore($e.getStartPosition(),Ie.getStartPosition())||bt.L.isBefore(Ie.getEndPosition(),$e.getEndPosition())?-1:bt.L.isBefore($e.getEndPosition(),Ie.getEndPosition())?1:0);const te=[];let de;for(const Ie of U)(!de||it.e.containsRange(Ie,de)&&!it.e.equalsRange(Ie,de))&&(te.push(Ie),de=Ie);if(!i.selectLeadingAndTrailingWhitespace)return te;const be=[te[0]];for(let Ie=1;Ie<te.length;Ie++){const $e=te[Ie-1],qe=te[Ie];if(qe.startLineNumber!==$e.startLineNumber||qe.endLineNumber!==$e.endLineNumber){const ft=new it.e($e.startLineNumber,e.getLineFirstNonWhitespaceColumn($e.startLineNumber),$e.endLineNumber,e.getLineLastNonWhitespaceColumn($e.endLineNumber));ft.containsRange($e)&&!ft.equalsRange($e)&&qe.containsRange(ft)&&!qe.equalsRange(ft)&&be.push(ft);const Zt=new it.e($e.startLineNumber,1,$e.endLineNumber,e.getLineMaxColumn($e.endLineNumber));Zt.containsRange($e)&&!Zt.equalsRange(ft)&&qe.containsRange(Zt)&&!qe.equalsRange(Zt)&&be.push(Zt)}be.push(qe)}return be})})}jt.P.registerCommand("_executeSelectionRangeProvider",function(g,...e){return At(this,null,function*(){const[t,i]=e;(0,Zn.p_)(Xn.o.isUri(t));const s=g.get(hn.p).selectionRangeProvider,o=yield g.get(un.S).createModelReference(t);try{return t0(s,o.object.textEditorModel,i,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},pn.T.None)}finally{o.dispose()}})});const z1=Object.freeze({View:{value:(0,le.NC)("view","View"),original:"View"},Help:{value:(0,le.NC)("help","Help"),original:"Help"},Test:{value:(0,le.NC)("test","Test"),original:"Test"},File:{value:(0,le.NC)("file","File"),original:"File"},Preferences:{value:(0,le.NC)("preferences","Preferences"),original:"Preferences"},Developer:{value:(0,le.NC)({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer"),original:"Developer"}});var K1=c(71588);class i0{constructor(e,t,i,s=null){this.startLineNumbers=e,this.endLineNumbers=t,this.lastLineRelativePosition=i,this.showEndForLine=s}equals(e){return!!e&&this.lastLineRelativePosition===e.lastLineRelativePosition&&this.showEndForLine===e.showEndForLine&&(0,cn.fS)(this.startLineNumbers,e.startLineNumbers)&&(0,cn.fS)(this.endLineNumbers,e.endLineNumbers)}}const n0=(0,Ho.Z)("stickyScrollViewLayer",{createHTML:g=>g}),r_="data-sticky-line-index",s0="data-sticky-is-line",Y1="data-sticky-is-line-number",o0="data-sticky-is-folding-icon";class j1 extends Ue.JT{constructor(e){super(),this._editor=e,this._foldingIconStore=new Ue.SL,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(66),this._stickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",e instanceof wo),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);const t=()=>{this._linesDomNode.style.left=this._editor.getOption(114).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(114)&&t(),i.hasChanged(66)&&(this._lineHeight=this._editor.getOption(66))})),this._register(this._editor.onDidScrollChange(i=>{i.scrollLeftChanged&&t(),i.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{t(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),t(),this._register(this._editor.onDidLayoutChange(i=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getStickyLineForLine(e){return this._stickyLines.find(t=>t.lineNumber===e)}getCurrentLines(){return this._lineNumbers}setState(e,t,i=1/0){if((!this._previousState&&!e||this._previousState&&this._previousState.equals(e))&&i===1/0)return;this._previousState=e;const s=this._stickyLines;if(this._clearStickyWidget(),!e||!this._editor._getViewModel())return;if(e.startLineNumbers.length*this._lineHeight+e.lastLineRelativePosition>0){this._lastLineRelativePosition=e.lastLineRelativePosition;const d=[...e.startLineNumbers];e.showEndForLine!==null&&(d[e.showEndForLine]=e.endLineNumbers[e.showEndForLine]),this._lineNumbers=d}else this._lastLineRelativePosition=0,this._lineNumbers=[];this._renderRootNode(s,t,i)}_updateWidgetWidth(){const e=this._editor.getLayoutInfo(),t=e.contentLeft;this._lineNumbersDomNode.style.width=`${t}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",`${this._editor.getScrollWidth()-e.verticalScrollbarWidth}px`),this._rootDomNode.style.width=`${e.width-e.verticalScrollbarWidth}px`}_clearStickyWidget(){this._stickyLines=[],this._foldingIconStore.clear(),De.PO(this._lineNumbersDomNode),De.PO(this._linesDomNode),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(e){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${e?.5:0}s`)}_setFoldingIconsVisibility(e){for(const t of this._stickyLines){const i=t.foldingIcon;i&&i.setVisible(e?!0:i.isCollapsed)}}_renderRootNode(e,t,i=1/0){return At(this,null,function*(){const s=this._editor.getLayoutInfo();for(const[d,p]of this._lineNumbers.entries()){const U=e[d],te=p>=i||(U==null?void 0:U.lineNumber)!==p?this._renderChildNode(d,p,t,s):this._updateTopAndZIndexOfStickyLine(U);te&&(this._linesDomNode.appendChild(te.lineDomNode),this._lineNumbersDomNode.appendChild(te.lineNumberDomNode),this._stickyLines.push(te))}t&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));const o=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;if(o===0){this._clearStickyWidget();return}this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height=`${o}px`,this._linesDomNodeScrollable.style.height=`${o}px`,this._rootDomNode.style.height=`${o}px`,this._rootDomNode.style.marginLeft="0px",this._updateMinContentWidth(),this._editor.layoutOverlayWidget(this)})}_setFoldingHoverListeners(){this._editor.getOption(109)==="mouseover"&&(this._foldingIconStore.add(De.nm(this._lineNumbersDomNode,De.tw.MOUSE_ENTER,t=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add(De.nm(this._lineNumbersDomNode,De.tw.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(e,t,i,s){const o=this._editor._getViewModel();if(!o)return;const d=o.coordinatesConverter.convertModelPositionToViewPosition(new bt.L(t,1)).lineNumber,p=o.getViewLineRenderingData(d),U=this._editor.getOption(67);let te;try{te=op.Kp.filter(p.inlineDecorations,d,p.minColumn,p.maxColumn)}catch(Ui){te=[]}const de=new jf.IJ(!0,!0,p.content,p.continuesWithWrappedLine,p.isBasicASCII,p.containsRTL,0,p.tokens,te,p.tabSize,p.startVisibleColumn,1,1,1,500,"none",!0,!0,null),be=new qC.HT(2e3),Ie=(0,jf.d1)(de,be);let $e;n0?$e=n0.createHTML(be.build()):$e=be.build();const qe=document.createElement("span");qe.setAttribute(r_,String(e)),qe.setAttribute(s0,""),qe.setAttribute("role","listitem"),qe.tabIndex=0,qe.className="sticky-line-content",qe.classList.add(`stickyLine${t}`),qe.style.lineHeight=`${this._lineHeight}px`,qe.innerHTML=$e;const ft=document.createElement("span");ft.setAttribute(r_,String(e)),ft.setAttribute(Y1,""),ft.className="sticky-line-number",ft.style.lineHeight=`${this._lineHeight}px`;const Zt=s.contentLeft;ft.style.width=`${Zt}px`;const Kt=document.createElement("span");U.renderType===1||U.renderType===3&&t%10===0?Kt.innerText=t.toString():U.renderType===2&&(Kt.innerText=Math.abs(t-this._editor.getPosition().lineNumber).toString()),Kt.className="sticky-line-number-inner",Kt.style.lineHeight=`${this._lineHeight}px`,Kt.style.width=`${s.lineNumbersWidth}px`,Kt.style.paddingLeft=`${s.lineNumbersLeft}px`,ft.appendChild(Kt);const mi=this._renderFoldingIconForLine(i,t);mi&&ft.appendChild(mi.domNode),this._editor.applyFontInfo(qe),this._editor.applyFontInfo(Kt),ft.style.lineHeight=`${this._lineHeight}px`,qe.style.lineHeight=`${this._lineHeight}px`,ft.style.height=`${this._lineHeight}px`,qe.style.height=`${this._lineHeight}px`;const ki=new $1(e,t,qe,ft,mi,Ie.characterMapping);return this._updateTopAndZIndexOfStickyLine(ki)}_updateTopAndZIndexOfStickyLine(e){var t;const i=e.index,s=e.lineDomNode,o=e.lineNumberDomNode,d=i===this._lineNumbers.length-1,p="0",U="1";s.style.zIndex=d?p:U,o.style.zIndex=d?p:U;const te=`${i*this._lineHeight+this._lastLineRelativePosition+(!((t=e.foldingIcon)===null||t===void 0)&&t.isCollapsed?1:0)}px`,de=`${i*this._lineHeight}px`;return s.style.top=d?te:de,o.style.top=d?te:de,e}_renderFoldingIconForLine(e,t){const i=this._editor.getOption(109);if(!e||i==="never")return;const s=e.regions,o=s.findRange(t),d=s.getStartLineNumber(o);if(!(t===d))return;const U=s.isCollapsed(o),te=new X1(U,d,s.getEndLineNumber(o),this._lineHeight);return te.setVisible(this._isOnGlyphMargin?!0:U||i==="always"),te.domNode.setAttribute(o0,""),te}_updateMinContentWidth(){this._minContentWidthInPx=0;for(const e of this._stickyLines)e.lineDomNode.scrollWidth>this._minContentWidthInPx&&(this._minContentWidthInPx=e.lineDomNode.scrollWidth);this._minContentWidthInPx+=this._editor.getLayoutInfo().verticalScrollbarWidth}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:null}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(e){0<=e&&e<this._stickyLines.length&&this._stickyLines[e].lineDomNode.focus()}getEditorPositionFromNode(e){if(!e||e.children.length>0)return null;const t=this._getRenderedStickyLineFromChildDomNode(e);if(!t)return null;const i=(0,K1.dL)(t.characterMapping,e,0);return new bt.L(t.lineNumber,i)}getLineNumberFromChildDomNode(e){var t,i;return(i=(t=this._getRenderedStickyLineFromChildDomNode(e))===null||t===void 0?void 0:t.lineNumber)!==null&&i!==void 0?i:null}_getRenderedStickyLineFromChildDomNode(e){const t=this.getLineIndexFromChildDomNode(e);return t===null||t<0||t>=this._stickyLines.length?null:this._stickyLines[t]}getLineIndexFromChildDomNode(e){const t=this._getAttributeValue(e,r_);return t?parseInt(t,10):null}isInStickyLine(e){return this._getAttributeValue(e,s0)!==void 0}isInFoldingIconDomNode(e){return this._getAttributeValue(e,o0)!==void 0}_getAttributeValue(e,t){for(;e&&e!==this._rootDomNode;){const i=e.getAttribute(t);if(i!==null)return i;e=e.parentElement}}}class $1{constructor(e,t,i,s,o,d){this.index=e,this.lineNumber=t,this.lineDomNode=i,this.lineNumberDomNode=s,this.foldingIcon=o,this.characterMapping=d}}class X1{constructor(e,t,i,s){this.isCollapsed=e,this.foldingStartLine=t,this.foldingEndLine=i,this.dimension=s,this.domNode=document.createElement("div"),this.domNode.style.width=`${s}px`,this.domNode.style.height=`${s}px`,this.domNode.className=Ds.k.asClassName(e?Gf:Vf)}setVisible(e){this.domNode.style.cursor=e?"pointer":"default",this.domNode.style.opacity=e?"1":"0"}}class Sh{constructor(e,t){this.startLineNumber=e,this.endLineNumber=t}}class Mg{constructor(e,t,i){this.range=e,this.children=t,this.parent=i}}class r0{constructor(e,t,i,s){this.uri=e,this.version=t,this.element=i,this.outlineProviderId=s}}var xg=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},vh=function(g,e){return function(t,i){e(t,i,g)}},Th;(function(g){g.OUTLINE_MODEL="outlineModel",g.FOLDING_PROVIDER_MODEL="foldingProviderModel",g.INDENTATION_MODEL="indentationModel"})(Th||(Th={}));var hd;(function(g){g[g.VALID=0]="VALID",g[g.INVALID=1]="INVALID",g[g.CANCELED=2]="CANCELED"})(hd||(hd={}));let a_=class extends Ue.JT{constructor(e,t,i,s){super(),this._editor=e,this._languageConfigurationService=t,this._languageFeaturesService=i,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new Ke.vp(300)),this._updateOperation=this._register(new Ue.SL);const o=new l_(i),d=new c_(this._editor,i),p=new d_(this._editor,t);switch(s){case Th.OUTLINE_MODEL:this._modelProviders.push(o),this._modelProviders.push(d),this._modelProviders.push(p);break;case Th.FOLDING_PROVIDER_MODEL:this._modelProviders.push(d),this._modelProviders.push(p);break;case Th.INDENTATION_MODEL:this._modelProviders.push(p);break}}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}update(e,t,i){return At(this,null,function*(){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),yield this._updateScheduler.trigger(()=>At(this,null,function*(){for(const s of this._modelProviders){const{statusPromise:o,modelPromise:d}=s.computeStickyModel(e,t,i);this._modelPromise=d;const p=yield o;if(this._modelPromise!==d)return null;switch(p){case hd.CANCELED:return this._updateOperation.clear(),null;case hd.VALID:return s.stickyModel}}return null})).catch(s=>((0,rn.dL)(s),null))})}};a_=xg([vh(1,Zs.c_),vh(2,hn.p)],a_);class a0{constructor(){this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,hd.INVALID}computeStickyModel(e,t,i){if(i.isCancellationRequested||!this.isProviderValid(e))return{statusPromise:this._invalid(),modelPromise:null};const s=(0,Ke.PG)(o=>this.createModelFromProvider(e,t,o));return{statusPromise:s.then(o=>this.isModelValid(o)?i.isCancellationRequested?hd.CANCELED:(this._stickyModel=this.createStickyModel(e,t,i,o),hd.VALID):this._invalid()).then(void 0,o=>((0,rn.dL)(o),hd.CANCELED)),modelPromise:s}}isModelValid(e){return!0}isProviderValid(e){return!0}}let l_=class extends a0{constructor(e){super(),this._languageFeaturesService=e}createModelFromProvider(e,t,i){return Rl.create(this._languageFeaturesService.documentSymbolProvider,e,i)}createStickyModel(e,t,i,s){var o;const{stickyOutlineElement:d,providerID:p}=this._stickyModelFromOutlineModel(s,(o=this._stickyModel)===null||o===void 0?void 0:o.outlineProviderId);return new r0(e.uri,t,d,p)}isModelValid(e){return e&&e.children.size>0}_stickyModelFromOutlineModel(e,t){let i;if(La.$.first(e.children.values())instanceof ZC){const p=La.$.find(e.children.values(),U=>U.id===t);if(p)i=p.children;else{let U="",te=-1,de;for(const[be,Ie]of e.children.entries()){const $e=this._findSumOfRangesOfGroup(Ie);$e>te&&(de=Ie,te=$e,U=Ie.id)}t=U,i=de.children}}else i=e.children;const s=[],o=Array.from(i.values()).sort((p,U)=>{const te=new Sh(p.symbol.range.startLineNumber,p.symbol.range.endLineNumber),de=new Sh(U.symbol.range.startLineNumber,U.symbol.range.endLineNumber);return this._comparator(te,de)});for(const p of o)s.push(this._stickyModelFromOutlineElement(p,p.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new Mg(void 0,s,void 0),providerID:t}}_stickyModelFromOutlineElement(e,t){const i=[];for(const o of e.children.values())if(o.symbol.selectionRange.startLineNumber!==o.symbol.range.endLineNumber)if(o.symbol.selectionRange.startLineNumber!==t)i.push(this._stickyModelFromOutlineElement(o,o.symbol.selectionRange.startLineNumber));else for(const d of o.children.values())i.push(this._stickyModelFromOutlineElement(d,o.symbol.selectionRange.startLineNumber));i.sort((o,d)=>this._comparator(o.range,d.range));const s=new Sh(e.symbol.selectionRange.startLineNumber,e.symbol.range.endLineNumber);return new Mg(s,i,void 0)}_comparator(e,t){return e.startLineNumber!==t.startLineNumber?e.startLineNumber-t.startLineNumber:t.endLineNumber-e.endLineNumber}_findSumOfRangesOfGroup(e){let t=0;for(const i of e.children.values())t+=this._findSumOfRangesOfGroup(i);return e instanceof np?t+e.symbol.range.endLineNumber-e.symbol.selectionRange.startLineNumber:t}};l_=xg([vh(0,hn.p)],l_);class l0 extends a0{constructor(e){super(),this._foldingLimitReporter=new XC(e)}createStickyModel(e,t,i,s){const o=this._fromFoldingRegions(s);return new r0(e.uri,t,o,void 0)}isModelValid(e){return e!==null}_fromFoldingRegions(e){const t=e.length,i=[],s=new Mg(void 0,[],void 0);for(let o=0;o<t;o++){const d=e.getParentIndex(o);let p;d!==-1?p=i[d]:p=s;const U=new Mg(new Sh(e.getStartLineNumber(o),e.getEndLineNumber(o)+1),[],p);p.children.push(U),i.push(U)}return s}}let d_=class extends l0{constructor(e,t){super(e),this._languageConfigurationService=t}createModelFromProvider(e,t,i){return new qm(e,this._languageConfigurationService,this._foldingLimitReporter).compute(i)}};d_=xg([vh(1,Zs.c_)],d_);let c_=class extends l0{constructor(e,t){super(e),this._languageFeaturesService=t}isProviderValid(e){return qa.getFoldingRangeProviders(this._languageFeaturesService,e).length>0}createModelFromProvider(e,t,i){const s=qa.getFoldingRangeProviders(this._languageFeaturesService,e);return new tp(e,s,()=>this.createModelFromProvider(e,t,i),this._foldingLimitReporter,void 0).compute(i)}};c_=xg([vh(1,hn.p)],c_);var Q1=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},d0=function(g,e){return function(t,i){e(t,i,g)}};class J1{constructor(e,t,i){this.startLineNumber=e,this.endLineNumber=t,this.nestingDepth=i}}let u_=class extends Ue.JT{constructor(e,t,i){super(),this._languageFeaturesService=t,this._languageConfigurationService=i,this._onDidChangeStickyScroll=this._register(new Ln.Q5),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._options=null,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=e,this._sessionStore=this._register(new Ue.SL),this._updateSoon=this._register(new Ke.pY(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(114)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._stickyModelProvider=null,this._sessionStore.clear(),this._options=this._editor.getOption(114),this._options.enabled&&(this._stickyModelProvider=this._sessionStore.add(new a_(this._editor,this._languageConfigurationService,this._languageFeaturesService,this._options.defaultModel)),this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this.update())}getVersionId(){var e;return(e=this._model)===null||e===void 0?void 0:e.version}update(){return At(this,null,function*(){var e;(e=this._cts)===null||e===void 0||e.dispose(!0),this._cts=new pn.A,yield this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()})}updateStickyModel(e){return At(this,null,function*(){if(!this._editor.hasModel()||!this._stickyModelProvider||this._editor.getModel().isTooLargeForTokenization()){this._model=null;return}const t=this._editor.getModel(),i=t.getVersionId(),s=yield this._stickyModelProvider.update(t,i,e);e.isCancellationRequested||(this._model=s)})}updateIndex(e){return e===-1?e=0:e<0&&(e=-e-2),e}getCandidateStickyLinesIntersectingFromStickyModel(e,t,i,s,o){if(t.children.length===0)return;let d=o;const p=[];for(let de=0;de<t.children.length;de++){const be=t.children[de];be.range&&p.push(be.range.startLineNumber)}const U=this.updateIndex((0,cn.ry)(p,e.startLineNumber,(de,be)=>de-be)),te=this.updateIndex((0,cn.ry)(p,e.startLineNumber+s,(de,be)=>de-be));for(let de=U;de<=te;de++){const be=t.children[de];if(!be)return;if(be.range){const Ie=be.range.startLineNumber,$e=be.range.endLineNumber;e.startLineNumber<=$e+1&&Ie-1<=e.endLineNumber&&Ie!==d&&(d=Ie,i.push(new J1(Ie,$e-1,s+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(e,be,i,s+1,Ie))}else this.getCandidateStickyLinesIntersectingFromStickyModel(e,be,i,s,o)}}getCandidateStickyLinesIntersecting(e){var t,i;if(!(!((t=this._model)===null||t===void 0)&&t.element))return[];let s=[];this.getCandidateStickyLinesIntersectingFromStickyModel(e,this._model.element,s,0,-1);const o=(i=this._editor._getViewModel())===null||i===void 0?void 0:i.getHiddenAreas();if(o)for(const d of o)s=s.filter(p=>!(p.startLineNumber>=d.startLineNumber&&p.endLineNumber<=d.endLineNumber+1));return s}};u_=Q1([d0(1,hn.p),d0(2,Zs.c_)],u_);var Z1=c(9470),q1=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},au=function(g,e){return function(t,i){e(t,i,g)}},h_;let nl=h_=class extends Ue.JT{constructor(e,t,i,s,o,d,p){super(),this._editor=e,this._contextMenuService=t,this._languageFeaturesService=i,this._instaService=s,this._contextKeyService=p,this._sessionStore=new Ue.SL,this._foldingModel=null,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._showEndForLine=null,this._stickyScrollWidget=new j1(this._editor),this._stickyLineCandidateProvider=new u_(this._editor,i,o),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=new i0([],[],0),this._readConfiguration();const U=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(de=>{(de.hasChanged(114)||de.hasChanged(72)||de.hasChanged(66)||de.hasChanged(109))&&this._readConfiguration()})),this._register(De.nm(U,De.tw.CONTEXT_MENU,de=>At(this,null,function*(){this._onContextMenu(De.Jj(U),de)}))),this._stickyScrollFocusedContextKey=Pt.u.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=Pt.u.stickyScrollVisible.bindTo(this._contextKeyService);const te=this._register(De.go(U));this._register(te.onDidBlur(de=>{this._positionRevealed===!1&&U.clientHeight===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(te.onDidFocus(de=>{this.focus()})),this._registerMouseListeners(),this._register(De.nm(U,De.tw.MOUSE_DOWN,de=>{this._onMouseDown=!0}))}static get(e){return e.getContribution(h_.ID)}_disposeFocusStickyScrollStore(){var e;this._stickyScrollFocusedContextKey.set(!1),(e=this._focusDisposableStore)===null||e===void 0||e.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}this._stickyScrollFocusedContextKey.get()!==!0&&(this._focused=!0,this._focusDisposableStore=new Ue.SL,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(e){this._focusedStickyElementIndex=e?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){const e=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:e[this._focusedStickyElementIndex],column:1})}_revealPosition(e){this._reveaInEditor(e,()=>this._editor.revealPosition(e))}_revealLineInCenterIfOutsideViewport(e){this._reveaInEditor(e,()=>this._editor.revealLineInCenterIfOutsideViewport(e.lineNumber,0))}_reveaInEditor(e,t){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,t(),this._editor.setSelection(it.e.fromPositions(e)),this._editor.focus()}_registerMouseListeners(){const e=this._register(new Ue.SL),t=this._register(new ss(this._editor,{extractLineNumberFromMouseEvent:o=>{const d=this._stickyScrollWidget.getEditorPositionFromNode(o.target.element);return d?d.lineNumber:0}})),i=o=>{if(!this._editor.hasModel()||o.target.type!==12||o.target.detail!==this._stickyScrollWidget.getId())return null;const d=o.target.element;if(!d||d.innerText!==d.innerHTML)return null;const p=this._stickyScrollWidget.getEditorPositionFromNode(d);return p?{range:new it.e(p.lineNumber,p.column,p.lineNumber,p.column+d.innerText.length),textElement:d}:null},s=this._stickyScrollWidget.getDomNode();this._register(De.mu(s,De.tw.CLICK,o=>{if(o.ctrlKey||o.altKey||o.metaKey||!o.leftButton)return;if(o.shiftKey){const te=this._stickyScrollWidget.getLineIndexFromChildDomNode(o.target);if(te===null)return;const de=new bt.L(this._endLineNumbers[te],1);this._revealLineInCenterIfOutsideViewport(de);return}if(this._stickyScrollWidget.isInFoldingIconDomNode(o.target)){const te=this._stickyScrollWidget.getLineNumberFromChildDomNode(o.target);this._toggleFoldingRegionForLine(te);return}if(!this._stickyScrollWidget.isInStickyLine(o.target))return;let U=this._stickyScrollWidget.getEditorPositionFromNode(o.target);if(!U){const te=this._stickyScrollWidget.getLineNumberFromChildDomNode(o.target);if(te===null)return;U=new bt.L(te,1)}this._revealPosition(U)})),this._register(De.mu(s,De.tw.MOUSE_MOVE,o=>{if(o.shiftKey){const d=this._stickyScrollWidget.getLineIndexFromChildDomNode(o.target);if(d===null||this._showEndForLine!==null&&this._showEndForLine===d)return;this._showEndForLine=d,this._renderStickyScroll();return}this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(De.nm(s,De.tw.MOUSE_LEAVE,o=>{this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(t.onMouseMoveOrRelevantKeyDown(([o,d])=>{const p=i(o);if(!p||!o.hasTriggerModifier||!this._editor.hasModel()){e.clear();return}const{range:U,textElement:te}=p;if(!U.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=U,e.clear();else if(te.style.textDecoration==="underline")return;const de=new pn.A;e.add((0,Ue.OF)(()=>de.dispose(!0)));let be;_c(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new bt.L(U.startLineNumber,U.startColumn+1),de.token).then(Ie=>{if(!de.token.isCancellationRequested)if(Ie.length!==0){this._candidateDefinitionsLength=Ie.length;const $e=te;be!==$e?(e.clear(),be=$e,be.style.textDecoration="underline",e.add((0,Ue.OF)(()=>{be.style.textDecoration="none"}))):be||(be=$e,be.style.textDecoration="underline",e.add((0,Ue.OF)(()=>{be.style.textDecoration="none"})))}else e.clear()})})),this._register(t.onCancel(()=>{e.clear()})),this._register(t.onExecute(o=>At(this,null,function*(){if(o.target.type!==12||o.target.detail!==this._stickyScrollWidget.getId())return;const d=this._stickyScrollWidget.getEditorPositionFromNode(o.target.element);d&&(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:d.lineNumber,column:1})),this._instaService.invokeFunction(wE,o,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor}))})))}_onContextMenu(e,t){const i=new Z1.n(e,t);this._contextMenuService.showContextMenu({menuId:mt.eH.StickyScrollContext,getAnchor:()=>i})}_toggleFoldingRegionForLine(e){if(!this._foldingModel||e===null)return;const t=this._stickyScrollWidget.getStickyLineForLine(e),i=t==null?void 0:t.foldingIcon;if(!i)return;GC(this._foldingModel,Number.MAX_VALUE,[e]),i.isCollapsed=!i.isCollapsed;const s=(i.isCollapsed?this._editor.getTopForLineNumber(i.foldingEndLine):this._editor.getTopForLineNumber(i.foldingStartLine))-this._editor.getOption(66)*t.index+1;this._editor.setScrollTop(s),this._renderStickyScroll(e)}_readConfiguration(){const e=this._editor.getOption(114);if(e.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else e.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(i=>{i.scrollTopChanged&&(this._showEndForLine=null,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(i=>this._onTokensChange(i))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=null,this._renderStickyScroll()})),this._enabled=!0);this._editor.getOption(67).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=null,this._renderStickyScroll(-1)}))}_needsUpdate(e){const t=this._stickyScrollWidget.getCurrentLines();for(const i of t)for(const s of e.ranges)if(i>=s.fromLineNumber&&i<=s.toLineNumber)return!0;return!1}_onTokensChange(e){this._needsUpdate(e)&&this._renderStickyScroll(-1)}_onDidResize(){const t=this._editor.getLayoutInfo().height/this._editor.getOption(66);this._maxStickyLines=Math.round(t*.25)}_renderStickyScroll(e=1/0){return At(this,null,function*(){var t,i;const s=this._editor.getModel();if(!s||s.isTooLargeForTokenization()){this._foldingModel=null,this._stickyScrollWidget.setState(void 0,null,e);return}const o=this._stickyLineCandidateProvider.getVersionId();if(o===void 0||o===s.getVersionId())if(this._foldingModel=(i=yield(t=qa.get(this._editor))===null||t===void 0?void 0:t.getFoldingModel())!==null&&i!==void 0?i:null,this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(this._widgetState.startLineNumbers.length!==0),!this._focused)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,e);else if(this._focusedStickyElementIndex===-1)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,e),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,this._focusedStickyElementIndex!==-1&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{const d=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,e),this._stickyScrollWidget.lineNumberCount===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(d)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}})}findScrollWidgetState(){const e=this._editor.getOption(66),t=Math.min(this._maxStickyLines,this._editor.getOption(114).maxLineCount),i=this._editor.getScrollTop();let s=0;const o=[],d=[],p=this._editor.getVisibleRanges();if(p.length!==0){const U=new Sh(p[0].startLineNumber,p[p.length-1].endLineNumber),te=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(U);for(const de of te){const be=de.startLineNumber,Ie=de.endLineNumber,$e=de.nestingDepth;if(Ie-be>0){const qe=($e-1)*e,ft=$e*e,Zt=this._editor.getBottomForLineNumber(be)-i,Kt=this._editor.getTopForLineNumber(Ie)-i,mi=this._editor.getBottomForLineNumber(Ie)-i;if(qe>Kt&&qe<=mi){o.push(be),d.push(Ie+1),s=mi-ft;break}else ft>Zt&&ft<=mi&&(o.push(be),d.push(Ie+1));if(o.length===t)break}}}return this._endLineNumbers=d,new i0(o,d,s,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}};nl.ID="store.contrib.stickyScrollController",nl=h_=q1([au(1,fn.i),au(2,hn.p),au(3,Mn.TG),au(4,Zs.c_),au(5,Yi.A),au(6,Ot.i6)],nl);class eR extends mt.Ke{constructor(){super({id:"editor.action.toggleStickyScroll",title:{value:(0,le.NC)("toggleStickyScroll","Toggle Sticky Scroll"),mnemonicTitle:(0,le.NC)({key:"mitoggleStickyScroll",comment:["&& denotes a mnemonic"]},"&&Toggle Sticky Scroll"),original:"Toggle Sticky Scroll"},category:z1.View,toggled:{condition:Ot.Ao.equals("config.editor.stickyScroll.enabled",!0),title:(0,le.NC)("stickyScroll","Sticky Scroll"),mnemonicTitle:(0,le.NC)({key:"miStickyScroll",comment:["&& denotes a mnemonic"]},"&&Sticky Scroll")},menu:[{id:mt.eH.CommandPalette},{id:mt.eH.MenubarAppearanceMenu,group:"4_editor",order:3},{id:mt.eH.StickyScrollContext}]})}run(e){return At(this,null,function*(){const t=e.get(bi.Ui),i=!t.getValue("editor.stickyScroll.enabled");return t.updateValue("editor.stickyScroll.enabled",i)})}}const kg=100;class tR extends Ve.x1{constructor(){super({id:"editor.action.focusStickyScroll",title:{value:(0,le.NC)("focusStickyScroll","Focus Sticky Scroll"),mnemonicTitle:(0,le.NC)({key:"mifocusStickyScroll",comment:["&& denotes a mnemonic"]},"&&Focus Sticky Scroll"),original:"Focus Sticky Scroll"},precondition:Ot.Ao.and(Ot.Ao.has("config.editor.stickyScroll.enabled"),Pt.u.stickyScrollVisible),menu:[{id:mt.eH.CommandPalette}]})}runEditorCommand(e,t){var i;(i=nl.get(t))===null||i===void 0||i.focus()}}class iR extends Ve.x1{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:{value:(0,le.NC)("selectNextStickyScrollLine.title","Select next sticky scroll line"),original:"Select next sticky scroll line"},precondition:Pt.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:kg,primary:18}})}runEditorCommand(e,t){var i;(i=nl.get(t))===null||i===void 0||i.focusNext()}}class nR extends Ve.x1{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:{value:(0,le.NC)("selectPreviousStickyScrollLine.title","Select previous sticky scroll line"),original:"Select previous sticky scroll line"},precondition:Pt.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:kg,primary:16}})}runEditorCommand(e,t){var i;(i=nl.get(t))===null||i===void 0||i.focusPrevious()}}class sR extends Ve.x1{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:{value:(0,le.NC)("goToFocusedStickyScrollLine.title","Go to focused sticky scroll line"),original:"Go to focused sticky scroll line"},precondition:Pt.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:kg,primary:3}})}runEditorCommand(e,t){var i;(i=nl.get(t))===null||i===void 0||i.goToFocused()}}class oR extends Ve.x1{constructor(){super({id:"editor.action.selectEditor",title:{value:(0,le.NC)("selectEditor.title","Select Editor"),original:"Select Editor"},precondition:Pt.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:kg,primary:9}})}runEditorCommand(e,t){var i;(i=nl.get(t))===null||i===void 0||i.selectEditor()}}(0,Ve._K)(nl.ID,nl,1),(0,mt.r1)(eR),(0,mt.r1)(tR),(0,mt.r1)(nR),(0,mt.r1)(iR),(0,mt.r1)(sR),(0,mt.r1)(oR);var f_=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},ic=function(g,e){return function(t,i){e(t,i,g)}},nc;class rR{constructor(e,t,i,s,o,d){this.range=e,this.insertText=t,this.filterText=i,this.additionalTextEdits=s,this.command=o,this.completion=d}}let g_=class extends Ue.L6{constructor(e,t,i,s,o,d){super(o.disposable),this.model=e,this.line=t,this.word=i,this.completionModel=s,this._suggestMemoryService=d}canBeReused(e,t,i){return this.model===e&&this.line===t&&this.word.word.length>0&&this.word.startColumn===i.startColumn&&this.word.endColumn<i.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){var e;const t=[],{items:i}=this.completionModel,s=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},i),o=La.$.slice(i,s),d=La.$.slice(i,0,s);let p=5;for(const U of La.$.concat(o,d)){if(U.score===Ks.CL.Default)continue;const te=new it.e(U.editStart.lineNumber,U.editStart.column,U.editInsertEnd.lineNumber,U.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),de=U.completion.insertTextRules&&U.completion.insertTextRules&4?{snippet:U.completion.insertText}:U.completion.insertText;t.push(new rR(te,de,(e=U.filterTextLow)!==null&&e!==void 0?e:U.labelLow,U.completion.additionalTextEdits,U.completion.command,U)),p-->=0&&U.resolve(pn.T.None)}return t}};g_=f_([ic(5,ig)],g_);let m_=class{constructor(e,t,i,s){this._getEditorOption=e,this._languageFeatureService=t,this._clipboardService=i,this._suggestMemoryService=s}provideInlineCompletions(e,t,i,s){return At(this,null,function*(){var o;if(i.selectedSuggestionInfo)return;const d=this._getEditorOption(88,e);if(Qc.isAllOff(d))return;e.tokenization.tokenizeIfCheap(t.lineNumber);const p=e.tokenization.getLineTokens(t.lineNumber),U=p.getStandardTokenType(p.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if(Qc.valueFor(d,U)!=="inline")return;let te=e.getWordAtPosition(t),de;if(te!=null&&te.word||(de=this._getTriggerCharacterInfo(e,t)),!(te!=null&&te.word)&&!de||(te||(te=e.getWordUntilPosition(t)),te.endColumn!==t.column))return;let be;const Ie=e.getValueInRange(new it.e(t.lineNumber,1,t.lineNumber,t.column));if(!de&&(!((o=this._lastResult)===null||o===void 0)&&o.canBeReused(e,t.lineNumber,te))){const $e=new bE(Ie,t.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=$e,this._lastResult.acquire(),be=this._lastResult}else{const $e=yield fp(this._languageFeatureService.completionProvider,e,t,new eh(void 0,void 0,de==null?void 0:de.providers),de&&{triggerKind:1,triggerCharacter:de.ch},s);let qe;$e.needsClipboard&&(qe=yield this._clipboardService.readText());const ft=new td($e.items,t.column,new bE(Ie,0),Ma.None,this._getEditorOption(117,e),this._getEditorOption(111,e),{boostFullMatch:!1,firstMatchCanBeWeak:!1},qe);be=new g_(e,t.lineNumber,te,ft,$e,this._suggestMemoryService)}return this._lastResult=be,be})}handleItemDidShow(e,t){t.completion.resolve(pn.T.None)}freeInlineCompletions(e){e.release()}_getTriggerCharacterInfo(e,t){var i;const s=e.getValueInRange(it.e.fromPositions({lineNumber:t.lineNumber,column:t.column-1},t)),o=new Set;for(const d of this._languageFeatureService.completionProvider.all(e))!((i=d.triggerCharacters)===null||i===void 0)&&i.includes(s)&&o.add(d);if(o.size!==0)return{providers:o,ch:s}}};m_=f_([ic(1,hn.p),ic(2,Vi.p),ic(3,ig)],m_);let Fg=nc=class{constructor(e,t,i,s){if(++nc._counter===1){const o=s.createInstance(m_,(d,p)=>{var U;return((U=i.listCodeEditors().find(de=>de.getModel()===p))!==null&&U!==void 0?U:e).getOption(d)});nc._disposable=t.inlineCompletionsProvider.register("*",o)}}dispose(){var e;--nc._counter===0&&((e=nc._disposable)===null||e===void 0||e.dispose(),nc._disposable=void 0)}};Fg._counter=0,Fg=nc=f_([ic(1,hn.p),ic(2,$i.$),ic(3,Mn.TG)],Fg),(0,Ve._K)("suggest.inlineCompletionsProvider",Fg,0);class aR extends Ve.R6{constructor(){super({id:"editor.action.forceRetokenize",label:le.NC("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getModel();i.tokenization.resetTokenization();const s=new io.G;i.tokenization.forceTokenization(i.getLineCount()),s.stop(),console.log(`tokenization took ${s.elapsed()}`)}}(0,Ve.Qr)(aR);var c0=c(59869);class Bg extends mt.Ke{constructor(){super({id:Bg.ID,title:{value:le.NC({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),original:"Toggle Tab Key Moves Focus"},precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},f1:!0})}run(){const t=!c0.n.getTabFocusMode();c0.n.setTabFocusMode(t),t?(0,gn.Z9)(le.NC("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):(0,gn.Z9)(le.NC("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}Bg.ID="editor.action.toggleTabFocusMode",(0,mt.r1)(Bg);var u0=c(15769),lu=c(91418),p_=c(80707),lR=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},dR=function(g,e){return function(t,i){e(t,i,g)}};let __=class extends Ue.JT{get enabled(){return this._enabled}set enabled(e){e?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=e}constructor(e,t,i={},s){var o;super(),this._link=t,this._enabled=!0,this.el=(0,De.R3)(e,(0,De.$)("a.monaco-link",{tabIndex:(o=t.tabIndex)!==null&&o!==void 0?o:0,href:t.href,title:t.title},t.label)),this.el.setAttribute("role","button");const d=this._register(new p_.Y(this.el,"click")),p=this._register(new p_.Y(this.el,"keypress")),U=Ln.ju.chain(p.event,be=>be.map(Ie=>new nf.y(Ie)).filter(Ie=>Ie.keyCode===3)),te=this._register(new p_.Y(this.el,xa.t.Tap)).event;this._register(xa.o.addTarget(this.el));const de=Ln.ju.any(d.event,U,te);this._register(de(be=>{this.enabled&&(De.zB.stop(be,!0),i!=null&&i.opener?i.opener(this._link.href):s.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}};__=lR([dR(3,xo.v)],__);var h0=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},f0=function(g,e){return function(t,i){e(t,i,g)}};const cR=26;let C_=class extends Ue.JT{constructor(e,t){super(),this._editor=e,this.instantiationService=t,this.banner=this._register(this.instantiationService.createInstance(E_))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(e){this.banner.show(sn(Di({},e),{onClose:()=>{var t;this.hide(),(t=e.onClose)===null||t===void 0||t.call(e)}})),this._editor.setBanner(this.banner.element,cR)}};C_=h0([f0(1,Mn.TG)],C_);let E_=class extends Ue.JT{constructor(e){super(),this.instantiationService=e,this.markdownRenderer=this.instantiationService.createInstance(Uo,{}),this.element=(0,De.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(e){if(e.ariaLabel)return e.ariaLabel;if(typeof e.message=="string")return e.message}getBannerMessage(e){if(typeof e=="string"){const t=(0,De.$)("span");return t.innerText=e,t}return this.markdownRenderer.render(e).element}clear(){(0,De.PO)(this.element)}show(e){(0,De.PO)(this.element);const t=this.getAriaLabel(e);t&&this.element.setAttribute("aria-label",t);const i=(0,De.R3)(this.element,(0,De.$)("div.icon-container"));i.setAttribute("aria-hidden","true"),e.icon&&i.appendChild((0,De.$)(`div${Ds.k.asCSSSelector(e.icon)}`));const s=(0,De.R3)(this.element,(0,De.$)("div.message-container"));if(s.setAttribute("aria-hidden","true"),s.appendChild(this.getBannerMessage(e.message)),this.messageActionsContainer=(0,De.R3)(this.element,(0,De.$)("div.message-actions-container")),e.actions)for(const d of e.actions)this._register(this.instantiationService.createInstance(__,this.messageActionsContainer,sn(Di({},d),{tabIndex:-1}),{}));const o=(0,De.R3)(this.element,(0,De.$)("div.action-container"));this.actionBar=this._register(new qo.o(o)),this.actionBar.push(this._register(new Us.aU("banner.close","Close Banner",Ds.k.asClassName(w.s_),!0,()=>{typeof e.onClose=="function"&&e.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};E_=h0([f0(0,Mn.TG)],E_);var uR=c(54894),S_=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},du=function(g,e){return function(t,i){e(t,i,g)}};const hR=(0,w.q5)("extensions-warning-message",di.l.warning,le.NC("warningIcon","Icon shown with a warning message in the extensions editor."));let cu=class extends Ue.JT{constructor(e,t,i,s){super(),this._editor=e,this._editorWorkerService=t,this._workspaceTrustService=i,this._highlighter=null,this._bannerClosed=!1,this._updateState=o=>{if(o&&o.hasMore){if(this._bannerClosed)return;const d=Math.max(o.ambiguousCharacterCount,o.nonBasicAsciiCharacterCount,o.invisibleCharacterCount);let p;if(o.nonBasicAsciiCharacterCount>=d)p={message:le.NC("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new hu};else if(o.ambiguousCharacterCount>=d)p={message:le.NC("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new fd};else if(o.invisibleCharacterCount>=d)p={message:le.NC("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new uu};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:p.message,icon:hR,actions:[{label:p.command.shortLabel,href:`command:${p.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(s.createInstance(C_,e)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=e.getOption(124),this._register(i.onDidChangeTrust(o=>{this._updateHighlighter()})),this._register(e.onDidChangeConfiguration(o=>{o.hasChanged(124)&&(this._options=e.getOption(124),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const e=fR(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([e.nonBasicASCII,e.ambiguousCharacters,e.invisibleCharacters].every(i=>i===!1))return;const t={nonBasicASCII:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments,includeStrings:e.includeStrings,allowedCodePoints:Object.keys(e.allowedCharacters).map(i=>i.codePointAt(0)),allowedLocales:Object.keys(e.allowedLocales).map(i=>i==="_os"?new Intl.NumberFormat().resolvedOptions().locale:i==="_vscode"?Ut.dK:i)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new v_(this._editor,t,this._updateState,this._editorWorkerService):this._highlighter=new gR(this._editor,t,this._updateState)}getDecorationInfo(e){return this._highlighter?this._highlighter.getDecorationInfo(e):null}};cu.ID="editor.contrib.unicodeHighlighter",cu=S_([du(1,$u.p),du(2,uR.Y),du(3,Mn.TG)],cu);function fR(g,e){return{nonBasicASCII:e.nonBasicASCII===bs.Av?!g:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments===bs.Av?!g:e.includeComments,includeStrings:e.includeStrings===bs.Av?!g:e.includeStrings,allowedCharacters:e.allowedCharacters,allowedLocales:e.allowedLocales}}let v_=class extends Ue.JT{constructor(e,t,i,s){super(),this._editor=e,this._options=t,this._updateState=i,this._editorWorkerService=s,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new Ke.pY(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const e=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(t=>{if(this._model.isDisposed()||this._model.getVersionId()!==e)return;this._updateState(t);const i=[];if(!t.hasMore)for(const s of t.ranges)i.push({range:s,options:Wg.instance.getDecorationFromOptions(this._options)});this._decorations.set(i)})}getDecorationInfo(e){if(!this._decorations.has(e))return null;const t=this._editor.getModel();if(!(0,lu.Fd)(t,e))return null;const i=t.getValueInRange(e.range);return{reason:g0(i,this._options),inComment:(0,lu.$t)(t,e),inString:(0,lu.zg)(t,e)}}};v_=S_([du(3,$u.p)],v_);class gR extends Ue.JT{constructor(e,t,i){super(),this._editor=e,this._options=t,this._updateState=i,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new Ke.pY(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const e=this._editor.getVisibleRanges(),t=[],i={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const s of e){const o=u0.a.computeUnicodeHighlights(this._model,this._options,s);for(const d of o.ranges)i.ranges.push(d);i.ambiguousCharacterCount+=i.ambiguousCharacterCount,i.invisibleCharacterCount+=i.invisibleCharacterCount,i.nonBasicAsciiCharacterCount+=i.nonBasicAsciiCharacterCount,i.hasMore=i.hasMore||o.hasMore}if(!i.hasMore)for(const s of i.ranges)t.push({range:s,options:Wg.instance.getDecorationFromOptions(this._options)});this._updateState(i),this._decorations.set(t)}getDecorationInfo(e){if(!this._decorations.has(e))return null;const t=this._editor.getModel(),i=t.getValueInRange(e.range);return(0,lu.Fd)(t,e)?{reason:g0(i,this._options),inComment:(0,lu.$t)(t,e),inString:(0,lu.zg)(t,e)}:null}}let T_=class{constructor(e,t,i){this._editor=e,this._languageService=t,this._openerService=i,this.hoverOrdinal=5}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const i=this._editor.getModel(),s=this._editor.getContribution(cu.ID);if(!s)return[];const o=[],d=new Set;let p=300;for(const U of t){const te=s.getDecorationInfo(U);if(!te)continue;const be=i.getValueInRange(U.range).codePointAt(0),Ie=L_(be);let $e;switch(te.reason.kind){case 0:{(0,Zi.$i)(te.reason.confusableWith)?$e=le.NC("unicodeHighlight.characterIsAmbiguousASCII","The character {0} could be confused with the ASCII character {1}, which is more common in source code.",Ie,L_(te.reason.confusableWith.codePointAt(0))):$e=le.NC("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",Ie,L_(te.reason.confusableWith.codePointAt(0)));break}case 1:$e=le.NC("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",Ie);break;case 2:$e=le.NC("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",Ie);break}if(d.has($e))continue;d.add($e);const qe={codePoint:be,reason:te.reason,inComment:te.inComment,inString:te.inString},ft=le.NC("unicodeHighlight.adjustSettings","Adjust settings"),Zt=`command:${bh.ID}?${encodeURIComponent(JSON.stringify(qe))}`,Kt=new Bn.W5("",!0).appendMarkdown($e).appendText(" ").appendLink(Zt,ft);o.push(new oa(this,U.range,[Kt],!1,p++))}return o}renderHoverParts(e,t){return hf(e,t,this._editor,this._languageService,this._openerService)}};T_=S_([du(1,Ro.O),du(2,xo.v)],T_);function b_(g){return`U+${g.toString(16).padStart(4,"0")}`}function L_(g){let e=`\`${b_(g)}\``;return Zi.vU.isInvisibleCharacter(g)||(e+=` "${`${mR(g)}`}"`),e}function mR(g){return g===96?"`` ` ``":"`"+String.fromCodePoint(g)+"`"}function g0(g,e){return u0.a.computeUnicodeHighlightReason(g,e)}class Wg{constructor(){this.map=new Map}getDecorationFromOptions(e){return this.getDecoration(!e.includeComments,!e.includeStrings)}getDecoration(e,t){const i=`${e}${t}`;let s=this.map.get(i);return s||(s=_i.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:e,hideInStringTokens:t}),this.map.set(i,s)),s}}Wg.instance=new Wg;class pR extends Ve.R6{constructor(){super({id:fd.ID,label:le.NC("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=le.NC("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(e,t,i){return At(this,null,function*(){const s=e==null?void 0:e.get(bi.Ui);s&&this.runAction(s)})}runAction(e){return At(this,null,function*(){yield e.updateValue(bs.qt.includeComments,!1,2)})}}class _R extends Ve.R6{constructor(){super({id:fd.ID,label:le.NC("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=le.NC("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(e,t,i){return At(this,null,function*(){const s=e==null?void 0:e.get(bi.Ui);s&&this.runAction(s)})}runAction(e){return At(this,null,function*(){yield e.updateValue(bs.qt.includeStrings,!1,2)})}}class fd extends Ve.R6{constructor(){super({id:fd.ID,label:le.NC("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=le.NC("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(e,t,i){return At(this,null,function*(){const s=e==null?void 0:e.get(bi.Ui);s&&this.runAction(s)})}runAction(e){return At(this,null,function*(){yield e.updateValue(bs.qt.ambiguousCharacters,!1,2)})}}fd.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class uu extends Ve.R6{constructor(){super({id:uu.ID,label:le.NC("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=le.NC("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(e,t,i){return At(this,null,function*(){const s=e==null?void 0:e.get(bi.Ui);s&&this.runAction(s)})}runAction(e){return At(this,null,function*(){yield e.updateValue(bs.qt.invisibleCharacters,!1,2)})}}uu.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class hu extends Ve.R6{constructor(){super({id:hu.ID,label:le.NC("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=le.NC("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(e,t,i){return At(this,null,function*(){const s=e==null?void 0:e.get(bi.Ui);s&&this.runAction(s)})}runAction(e){return At(this,null,function*(){yield e.updateValue(bs.qt.nonBasicASCII,!1,2)})}}hu.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class bh extends Ve.R6{constructor(){super({id:bh.ID,label:le.NC("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(e,t,i){return At(this,null,function*(){const{codePoint:s,reason:o,inString:d,inComment:p}=i,U=String.fromCodePoint(s),te=e.get(oi.eJ),de=e.get(bi.Ui);function be(qe){return Zi.vU.isInvisibleCharacter(qe)?le.NC("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",b_(qe)):le.NC("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${b_(qe)} "${U}"`)}const Ie=[];if(o.kind===0)for(const qe of o.notAmbiguousInLocales)Ie.push({label:le.NC("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',qe),run:()=>At(this,null,function*(){ER(de,[qe])})});if(Ie.push({label:be(s),run:()=>CR(de,[s])}),p){const qe=new pR;Ie.push({label:qe.label,run:()=>At(this,null,function*(){return qe.runAction(de)})})}else if(d){const qe=new _R;Ie.push({label:qe.label,run:()=>At(this,null,function*(){return qe.runAction(de)})})}if(o.kind===0){const qe=new fd;Ie.push({label:qe.label,run:()=>At(this,null,function*(){return qe.runAction(de)})})}else if(o.kind===1){const qe=new uu;Ie.push({label:qe.label,run:()=>At(this,null,function*(){return qe.runAction(de)})})}else if(o.kind===2){const qe=new hu;Ie.push({label:qe.label,run:()=>At(this,null,function*(){return qe.runAction(de)})})}else SR(o);const $e=yield te.pick(Ie,{title:le.NC("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});$e&&(yield $e.run())})}}bh.ID="editor.action.unicodeHighlight.showExcludeOptions";function CR(g,e){return At(this,null,function*(){const t=g.getValue(bs.qt.allowedCharacters);let i;typeof t=="object"&&t?i=t:i={};for(const s of e)i[String.fromCodePoint(s)]=!0;yield g.updateValue(bs.qt.allowedCharacters,i,2)})}function ER(g,e){return At(this,null,function*(){var t;const i=(t=g.inspect(bs.qt.allowedLocales).user)===null||t===void 0?void 0:t.value;let s;typeof i=="object"&&i?s=Object.assign({},i):s={};for(const o of e)s[o]=!0;yield g.updateValue(bs.qt.allowedLocales,s,2)})}function SR(g){throw new Error(`Unexpected value: ${g}`)}(0,Ve.Qr)(fd),(0,Ve.Qr)(uu),(0,Ve.Qr)(hu),(0,Ve.Qr)(bh),(0,Ve._K)(cu.ID,cu,1),El.register(T_);var R_=c(49002),vR=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},m0=function(g,e){return function(t,i){e(t,i,g)}};const p0="ignoreUnusualLineTerminators";function TR(g,e,t){g.setModelProperty(e.uri,p0,t)}function bR(g,e){return g.getModelProperty(e.uri,p0)}let Lh=class extends Ue.JT{constructor(e,t,i){super(),this._editor=e,this._dialogService=t,this._codeEditorService=i,this._isPresentingDialog=!1,this._config=this._editor.getOption(125),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(125)&&(this._config=this._editor.getOption(125),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(s=>{s.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}_checkForUnusualLineTerminators(){return At(this,null,function*(){if(this._config==="off"||!this._editor.hasModel())return;const e=this._editor.getModel();if(!e.mightContainUnusualLineTerminators()||bR(this._codeEditorService,e)===!0||this._editor.getOption(90))return;if(this._config==="auto"){e.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let i;try{this._isPresentingDialog=!0,i=yield this._dialogService.confirm({title:le.NC("unusualLineTerminators.title","Unusual Line Terminators"),message:le.NC("unusualLineTerminators.message","Detected unusual line terminators"),detail:le.NC("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,$s.EZ)(e.uri)),primaryButton:le.NC({key:"unusualLineTerminators.fix",comment:["&& denotes a mnemonic"]},"&&Remove Unusual Line Terminators"),cancelButton:le.NC("unusualLineTerminators.ignore","Ignore")})}finally{this._isPresentingDialog=!1}if(!i.confirmed){TR(this._codeEditorService,e,!0);return}e.removeUnusualLineTerminators(this._editor.getSelections())})}};Lh.ID="editor.contrib.unusualLineTerminatorsDetector",Lh=vR([m0(1,R_.S),m0(2,$i.$)],Lh),(0,Ve._K)(Lh.ID,Lh,1);var LR=c(43400),_0=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Hg=function(g,e){return function(t,i){e(t,i,g)}},Co,N_;const Ug=new Ot.uy("hasWordHighlights",!1);function C0(g,e,t,i){const s=g.ordered(e);return(0,Ke.Ps)(s.map(o=>()=>Promise.resolve(o.provideDocumentHighlights(e,t,i)).then(void 0,rn.Cp)),cn.Of).then(o=>{if(o){const d=new Go.Y9;return d.set(e.uri,o),d}return new Go.Y9})}function RR(g,e,t,i,s,o){const d=g.ordered(e);return(0,Ke.Ps)(d.map(p=>()=>{const U=o.filter(te=>(0,LR.G)(p.selector,te.uri,te.getLanguageId(),!0,void 0,void 0)>0);return Promise.resolve(p.provideMultiDocumentHighlights(e,t,U,s)).then(void 0,rn.Cp)}),p=>p instanceof Go.Y9&&p.size>0)}class I_{constructor(e,t,i){this._model=e,this._selection=t,this._wordSeparators=i,this._wordRange=this._getCurrentWordRange(e,t),this._result=null}get result(){return this._result||(this._result=(0,Ke.PG)(e=>this._compute(this._model,this._selection,this._wordSeparators,e))),this._result}_getCurrentWordRange(e,t){const i=e.getWordAtPosition(t.getPosition());return i?new it.e(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):null}isValid(e,t,i){const s=t.startLineNumber,o=t.startColumn,d=t.endColumn,p=this._getCurrentWordRange(e,t);let U=!!(this._wordRange&&this._wordRange.equalsRange(p));for(let te=0,de=i.length;!U&&te<de;te++){const be=i.getRange(te);be&&be.startLineNumber===s&&be.startColumn<=o&&be.endColumn>=d&&(U=!0)}return U}cancel(){this.result.cancel()}}class NR extends I_{constructor(e,t,i,s){super(e,t,i),this._providers=s}_compute(e,t,i,s){return C0(this._providers,e,t.getPosition(),s).then(o=>o||new Go.Y9)}}class IR extends I_{constructor(e,t,i,s,o){super(e,t,i),this._providers=s,this._otherModels=o}_compute(e,t,i,s){return RR(this._providers,e,t.getPosition(),i,s,this._otherModels).then(o=>o||new Go.Y9)}}class E0 extends I_{constructor(e,t,i,s,o){super(e,t,s),this._otherModels=o,this._selectionIsEmpty=t.isEmpty(),this._word=i}_compute(e,t,i,s){return(0,Ke.Vs)(250,s).then(()=>{const o=new Go.Y9;let d;if(this._word?d=this._word:d=e.getWordAtPosition(t.getPosition()),!d)return new Go.Y9;const p=[e,...this._otherModels];for(const U of p){if(U.isDisposed())continue;const de=U.findMatches(d.word,!0,!1,!0,i,!1).map(be=>({range:be.range,kind:Un.MY.Text}));de&&o.set(U.uri,de)}return o})}isValid(e,t,i){const s=t.isEmpty();return this._selectionIsEmpty!==s?!1:super.isValid(e,t,i)}}function AR(g,e,t,i,s){return g.has(e)?new NR(e,t,s,g):new E0(e,t,i,s,[])}function DR(g,e,t,i,s,o){return g.has(e)?new IR(e,t,s,g,o):new E0(e,t,i,s,o)}(0,Ve.sb)("_executeDocumentHighlights",(g,e,t)=>At(this,null,function*(){const i=g.get(hn.p),s=yield C0(i.documentHighlightProvider,e,t,pn.T.None);return s==null?void 0:s.get(e.uri)}));let Rh=Co=class{constructor(e,t,i,s,o){this.toUnhook=new Ue.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=new Go.Y9,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this.providers=t,this.multiDocumentProviders=i,this.codeEditorService=o,this._hasWordHighlights=Ug.bindTo(s),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(80),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition(d=>{this._ignorePositionChangeEvent||this.occurrencesHighlight!=="off"&&this._onPositionChanged(d)})),this.toUnhook.add(e.onDidChangeModelContent(d=>{this._stopAll()})),this.toUnhook.add(e.onDidChangeModel(d=>{!d.newModelUrl&&d.oldModelUrl?this._stopSingular():Co.query&&this._run()})),this.toUnhook.add(e.onDidChangeConfiguration(d=>{const p=this.editor.getOption(80);this.occurrencesHighlight!==p&&(this.occurrencesHighlight=p,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,Co.query&&this._run()}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight!=="off"&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(it.e.compareRangesUsingStarts)}moveNext(){const e=this._getSortedHighlights(),i=(e.findIndex(o=>o.containsPosition(this.editor.getPosition()))+1)%e.length,s=e[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(s.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(s);const o=this._getWord();if(o){const d=this.editor.getModel().getLineContent(s.startLineNumber);(0,gn.Z9)(`${d}, ${i+1} of ${e.length} for '${o.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const e=this._getSortedHighlights(),i=(e.findIndex(o=>o.containsPosition(this.editor.getPosition()))-1+e.length)%e.length,s=e[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(s.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(s);const o=this._getWord();if(o){const d=this.editor.getModel().getLineContent(s.startLineNumber);(0,gn.Z9)(`${d}, ${i+1} of ${e.length} for '${o.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeSingleDecorations(){if(!this.editor.hasModel())return;const e=Co.storedDecorations.get(this.editor.getModel().uri);e&&(this.editor.removeDecorations(e),Co.storedDecorations.delete(this.editor.getModel().uri),this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1)))}_removeAllDecorations(){const e=this.codeEditorService.listCodeEditors();for(const t of e){if(!t.hasModel())continue;const i=Co.storedDecorations.get(t.getModel().uri);if(!i)continue;t.removeDecorations(i),Co.storedDecorations.delete(t.getModel().uri);const s=Al.get(t);s!=null&&s.wordHighlighter&&s.wordHighlighter.decorations.length>0&&(s.wordHighlighter.decorations.clear(),s.wordHighlighter._hasWordHighlights.set(!1))}}_stopSingular(){var e,t,i,s;this._removeSingleDecorations(),this.editor.hasWidgetFocus()&&(((e=this.editor.getModel())===null||e===void 0?void 0:e.uri.scheme)!==br.lg.vscodeNotebookCell&&((i=(t=Co.query)===null||t===void 0?void 0:t.modelInfo)===null||i===void 0?void 0:i.model.uri.scheme)!==br.lg.vscodeNotebookCell?(Co.query=null,this._run()):!((s=Co.query)===null||s===void 0)&&s.modelInfo&&(Co.query.modelInfo=null)),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_stopAll(){this._removeAllDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){var t;if(this.occurrencesHighlight==="off"){this._stopAll();return}if(e.reason!==3&&((t=this.editor.getModel())===null||t===void 0?void 0:t.uri.scheme)!==br.lg.vscodeNotebookCell){this._stopAll();return}this._run()}_getWord(){const e=this.editor.getSelection(),t=e.startLineNumber,i=e.startColumn;return this.model.isDisposed()?null:this.model.getWordAtPosition({lineNumber:t,column:i})}getOtherModelsToHighlight(e){if(!e)return[];if(e.uri.scheme===br.lg.vscodeNotebookCell){const o=[],d=this.codeEditorService.listCodeEditors();for(const p of d){const U=p.getModel();U&&U!==e&&U.uri.scheme===br.lg.vscodeNotebookCell&&o.push(U)}return o}const i=[],s=this.codeEditorService.listCodeEditors();for(const o of s){if(!(0,ja.QI)(o))continue;const d=o.getModel();d&&e===d.modified&&i.push(d.modified)}if(i.length)return i;if(this.occurrencesHighlight==="singleFile")return[];for(const o of s){const d=o.getModel();d&&d!==e&&i.push(d)}return i}_run(){var e,t;let i;if(this.editor.hasWidgetFocus()){const s=this.editor.getSelection();if(!s||s.startLineNumber!==s.endLineNumber){this._stopAll();return}const o=s.startColumn,d=s.endColumn,p=this._getWord();if(!p||p.startColumn>o||p.endColumn<d){Co.query=null,this._stopAll();return}i=this.workerRequest&&this.workerRequest.isValid(this.model,s,this.decorations),Co.query={modelInfo:{model:this.model,selection:s},word:p}}else if(Co.query===null)return;if(this.lastCursorPositionChangeTime=new Date().getTime(),i)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const s=++this.workerRequestTokenId;this.workerRequestCompleted=!1;const o=this.getOtherModelsToHighlight(this.editor.getModel()),d=!!(!Co.query.modelInfo&&Co.query.word||((e=Co.query.modelInfo)===null||e===void 0?void 0:e.model.uri)!==this.model.uri);!Co.query.modelInfo||Co.query.modelInfo.model.uri!==this.model.uri?this.workerRequest=this.computeWithModel(this.model,this.editor.getSelection(),d?Co.query.word:null,o):this.workerRequest=this.computeWithModel(Co.query.modelInfo.model,Co.query.modelInfo.selection,Co.query.word,o),(t=this.workerRequest)===null||t===void 0||t.result.then(p=>{s===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=p||[],this._beginRenderDecorations())},rn.dL)}}computeWithModel(e,t,i,s){return s.length?DR(this.multiDocumentProviders,e,t,i,this.editor.getOption(129),s):AR(this.providers,e,t,i,this.editor.getOption(129))}_beginRenderDecorations(){const e=new Date().getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},t-e)}renderDecorations(){var e,t,i;this.renderDecorationsTimer=-1;const s=this.codeEditorService.listCodeEditors();for(const o of s){const d=Al.get(o);if(!d)continue;const p=[],U=(e=o.getModel())===null||e===void 0?void 0:e.uri;if(U&&this.workerRequestValue.has(U)){const te=Co.storedDecorations.get(U),de=this.workerRequestValue.get(U);if(de)for(const Ie of de)p.push({range:Ie.range,options:qL(Ie.kind)});let be=[];o.changeDecorations(Ie=>{be=Ie.deltaDecorations(te!=null?te:[],p)}),Co.storedDecorations=Co.storedDecorations.set(U,be),p.length>0&&((t=d.wordHighlighter)===null||t===void 0||t.decorations.set(p),(i=d.wordHighlighter)===null||i===void 0||i._hasWordHighlights.set(!0))}}}dispose(){this._stopSingular(),this.toUnhook.dispose()}};Rh.storedDecorations=new Go.Y9,Rh.query=null,Rh=Co=_0([Hg(4,$i.$)],Rh);let Al=N_=class extends Ue.JT{static get(e){return e.getContribution(N_.ID)}constructor(e,t,i,s){super(),this._wordHighlighter=null;const o=()=>{e.hasModel()&&!e.getModel().isTooLargeForTokenization()&&(this._wordHighlighter=new Rh(e,i.documentHighlightProvider,i.multiDocumentHighlightProvider,t,s))};this._register(e.onDidChangeModel(d=>{this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),o()})),o()}get wordHighlighter(){return this._wordHighlighter}saveViewState(){return!!(this._wordHighlighter&&this._wordHighlighter.hasDecorations())}moveNext(){var e;(e=this._wordHighlighter)===null||e===void 0||e.moveNext()}moveBack(){var e;(e=this._wordHighlighter)===null||e===void 0||e.moveBack()}restoreViewState(e){this._wordHighlighter&&e&&this._wordHighlighter.restore()}dispose(){this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),super.dispose()}};Al.ID="editor.contrib.wordHighlighter",Al=N_=_0([Hg(1,Ot.i6),Hg(2,hn.p),Hg(3,$i.$)],Al);class S0 extends Ve.R6{constructor(e,t){super(t),this._isNext=e}run(e,t){const i=Al.get(t);i&&(this._isNext?i.moveNext():i.moveBack())}}class wR extends S0{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:le.NC("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:Ug,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:65,weight:100}})}}class yR extends S0{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:le.NC("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:Ug,kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:1089,weight:100}})}}class PR extends Ve.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:le.NC("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:Ug.toNegated(),kbOpts:{kbExpr:Pt.u.editorTextFocus,primary:0,weight:100}})}run(e,t,i){const s=Al.get(t);s&&s.restoreViewState(!0)}}(0,Ve._K)(Al.ID,Al,0),(0,Ve.Qr)(wR),(0,Ve.Qr)(yR),(0,Ve.Qr)(PR);var MR=c(46656),Dl=c(95483),sc=c(68734);class Vg extends Ve._l{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(!t.hasModel())return;const s=(0,sc.u)(t.getOption(129)),o=t.getModel(),p=t.getSelections().map(U=>{const te=new bt.L(U.positionLineNumber,U.positionColumn),de=this._move(s,o,te,this._wordNavigationType);return this._moveTo(U,de,this._inSelectionMode)});if(o.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,p.map(U=>MR.Vi.fromModelSelection(U))),p.length===1){const U=new bt.L(p[0].positionLineNumber,p[0].positionColumn);t.revealPosition(U,0)}}_moveTo(e,t,i){return i?new en.Y(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new en.Y(t.lineNumber,t.column,t.lineNumber,t.column)}}class gd extends Vg{_move(e,t,i,s){return Dl.w.moveWordLeft(e,t,i,s)}}class md extends Vg{_move(e,t,i,s){return Dl.w.moveWordRight(e,t,i,s)}}class xR extends gd{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class kR extends gd{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class FR extends gd{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:Ot.Ao.and(Pt.u.textInputFocus,(e=Ot.Ao.and(co.UA,Ul.cv))===null||e===void 0?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}}class BR extends gd{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class WR extends gd{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class HR extends gd{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:Ot.Ao.and(Pt.u.textInputFocus,(e=Ot.Ao.and(co.UA,Ul.cv))===null||e===void 0?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class UR extends gd{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,i,s){return super._move((0,sc.u)(bs.BH.wordSeparators.defaultValue),t,i,s)}}class VR extends gd{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,i,s){return super._move((0,sc.u)(bs.BH.wordSeparators.defaultValue),t,i,s)}}class GR extends md{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class zR extends md{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:Ot.Ao.and(Pt.u.textInputFocus,(e=Ot.Ao.and(co.UA,Ul.cv))===null||e===void 0?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}}class KR extends md{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class YR extends md{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class jR extends md{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:Ot.Ao.and(Pt.u.textInputFocus,(e=Ot.Ao.and(co.UA,Ul.cv))===null||e===void 0?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class $R extends md{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class XR extends md{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,i,s){return super._move((0,sc.u)(bs.BH.wordSeparators.defaultValue),t,i,s)}}class QR extends md{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,i,s){return super._move((0,sc.u)(bs.BH.wordSeparators.defaultValue),t,i,s)}}class Gg extends Ve._l{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){const s=e.get(Zs.c_);if(!t.hasModel())return;const o=(0,sc.u)(t.getOption(129)),d=t.getModel(),p=t.getSelections(),U=t.getOption(6),te=t.getOption(11),de=s.getLanguageConfiguration(d.getLanguageId()).getAutoClosingPairs(),be=t._getViewModel(),Ie=p.map($e=>{const qe=this._delete({wordSeparators:o,model:d,selection:$e,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(9),autoClosingBrackets:U,autoClosingQuotes:te,autoClosingPairs:de,autoClosedCharacters:be.getCursorAutoClosedCharacters()},this._wordNavigationType);return new ii.T4(qe,"")});t.pushUndoStop(),t.executeCommands(this.id,Ie),t.pushUndoStop()}}class A_ extends Gg{_delete(e,t){const i=Dl.w.deleteWordLeft(e,t);return i||new it.e(1,1,1,1)}}class D_ extends Gg{_delete(e,t){const i=Dl.w.deleteWordRight(e,t);if(i)return i;const s=e.model.getLineCount(),o=e.model.getLineMaxColumn(s);return new it.e(s,o,s,o)}}class JR extends A_{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:Pt.u.writable})}}class ZR extends A_{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:Pt.u.writable})}}class qR extends A_{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class eN extends D_{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:Pt.u.writable})}}class tN extends D_{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:Pt.u.writable})}}class iN extends D_{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class nN extends Ve.R6{constructor(){super({id:"deleteInsideWord",precondition:Pt.u.writable,label:le.NC("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,i){if(!t.hasModel())return;const s=(0,sc.u)(t.getOption(129)),o=t.getModel(),p=t.getSelections().map(U=>{const te=Dl.w.deleteInsideWord(s,o,U);return new ii.T4(te,"")});t.pushUndoStop(),t.executeCommands(this.id,p),t.pushUndoStop()}}(0,Ve.fK)(new xR),(0,Ve.fK)(new kR),(0,Ve.fK)(new FR),(0,Ve.fK)(new BR),(0,Ve.fK)(new WR),(0,Ve.fK)(new HR),(0,Ve.fK)(new GR),(0,Ve.fK)(new zR),(0,Ve.fK)(new KR),(0,Ve.fK)(new YR),(0,Ve.fK)(new jR),(0,Ve.fK)(new $R),(0,Ve.fK)(new UR),(0,Ve.fK)(new VR),(0,Ve.fK)(new XR),(0,Ve.fK)(new QR),(0,Ve.fK)(new JR),(0,Ve.fK)(new ZR),(0,Ve.fK)(new qR),(0,Ve.fK)(new eN),(0,Ve.fK)(new tN),(0,Ve.fK)(new iN),(0,Ve.Qr)(nN);class sN extends Gg{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t){const i=Dl.L.deleteWordPartLeft(e);return i||new it.e(1,1,1,1)}}class oN extends Gg{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:Pt.u.writable,kbOpts:{kbExpr:Pt.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t){const i=Dl.L.deleteWordPartRight(e);if(i)return i;const s=e.model.getLineCount(),o=e.model.getLineMaxColumn(s);return new it.e(s,o,s,o)}}class v0 extends Vg{_move(e,t,i,s){return Dl.L.moveWordPartLeft(e,t,i)}}class rN extends v0{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:Pt.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}jt.P.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class aN extends v0{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:Pt.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}jt.P.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class T0 extends Vg{_move(e,t,i,s){return Dl.L.moveWordPartRight(e,t,i)}}class lN extends T0{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:Pt.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class dN extends T0{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:Pt.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}(0,Ve.fK)(new sN),(0,Ve.fK)(new oN),(0,Ve.fK)(new rN),(0,Ve.fK)(new aN),(0,Ve.fK)(new lN),(0,Ve.fK)(new dN);class w_ extends Ue.JT{constructor(e){super(),this.editor=e,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const e=Do.get(this.editor);if(e&&this.editor.hasModel()){let t=this.editor.getOptions().get(91);t||(this.editor.isSimpleWidget?t=new Bn.W5(le.NC("editor.simple.readonly","Cannot edit in read-only input")):t=new Bn.W5(le.NC("editor.readonly","Cannot edit in read-only editor"))),e.showMessage(t,this.editor.getPosition())}}}w_.ID="editor.contrib.readOnlyMessageController",(0,Ve._K)(w_.ID,w_,2);var sl=c(41074);class y_ extends Ue.JT{constructor(e){super(),this.editor=e,this.widget=null,Ut.gn&&(this._register(e.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const e=!this.editor.getOption(90);!this.widget&&e?this.widget=new zg(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}y_.ID="editor.contrib.iPadShowKeyboard";class zg extends Ue.JT{constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(De.nm(this._domNode,"touchstart",t=>{this.editor.focus()})),this._register(De.nm(this._domNode,"focus",t=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return zg.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}zg.ID="editor.contrib.ShowKeyboardWidget",(0,Ve._K)(y_.ID,y_,3);var Nh=c(39782),O_=c(32402),b0=c(99534),cN=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},L0=function(g,e){return function(t,i){e(t,i,g)}},P_;let fu=P_=class extends Ue.JT{static get(e){return e.getContribution(P_.ID)}constructor(e,t,i){super(),this._editor=e,this._languageService=i,this._widget=null,this._register(this._editor.onDidChangeModel(s=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(s=>this.stop())),this._register(Un.RW.onDidChange(s=>this.stop())),this._register(this._editor.onKeyUp(s=>s.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new Kg(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};fu.ID="editor.contrib.inspectTokens",fu=P_=cN([L0(1,b0.Z),L0(2,Ro.O)],fu);class uN extends Ve.R6{constructor(){super({id:"editor.action.inspectTokens",label:sl.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(e,t){const i=fu.get(t);i==null||i.launch()}}function hN(g){let e="";for(let t=0,i=g.length;t<i;t++){const s=g.charCodeAt(t);switch(s){case 9:e+="\u2192";break;case 32:e+="\xB7";break;default:e+=String.fromCharCode(s)}}return e}function fN(g,e){const t=Un.RW.get(e);if(t)return t;const i=g.encodeLanguageId(e);return{getInitialState:()=>O_.TJ,tokenize:(s,o,d)=>(0,O_.Ri)(e,d),tokenizeEncoded:(s,o,d)=>(0,O_.Dy)(i,d)}}class Kg extends Ue.JT{constructor(e,t){super(),this.allowEditorOverflow=!0,this._editor=e,this._languageService=t,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=fN(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(i=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return Kg._ID}_compute(e){const t=this._getTokensAtLine(e.lineNumber);let i=0;for(let U=t.tokens1.length-1;U>=0;U--){const te=t.tokens1[U];if(e.column-1>=te.offset){i=U;break}}let s=0;for(let U=t.tokens2.length>>>1;U>=0;U--)if(e.column-1>=t.tokens2[U<<1]){s=U;break}const o=this._model.getLineContent(e.lineNumber);let d="";if(i<t.tokens1.length){const U=t.tokens1[i].offset,te=i+1<t.tokens1.length?t.tokens1[i+1].offset:o.length;d=o.substring(U,te)}(0,De.mc)(this._domNode,(0,De.$)("h2.tm-token",void 0,hN(d),(0,De.$)("span.tm-token-length",void 0,`${d.length} ${d.length===1?"char":"chars"}`))),(0,De.R3)(this._domNode,(0,De.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const p=(s<<1)+1<t.tokens2.length?this._decodeMetadata(t.tokens2[(s<<1)+1]):null;(0,De.R3)(this._domNode,(0,De.$)("table.tm-metadata-table",void 0,(0,De.$)("tbody",void 0,(0,De.$)("tr",void 0,(0,De.$)("td.tm-metadata-key",void 0,"language"),(0,De.$)("td.tm-metadata-value",void 0,`${p?p.languageId:"-?-"}`)),(0,De.$)("tr",void 0,(0,De.$)("td.tm-metadata-key",void 0,"token type"),(0,De.$)("td.tm-metadata-value",void 0,`${p?this._tokenTypeToString(p.tokenType):"-?-"}`)),(0,De.$)("tr",void 0,(0,De.$)("td.tm-metadata-key",void 0,"font style"),(0,De.$)("td.tm-metadata-value",void 0,`${p?this._fontStyleToString(p.fontStyle):"-?-"}`)),(0,De.$)("tr",void 0,(0,De.$)("td.tm-metadata-key",void 0,"foreground"),(0,De.$)("td.tm-metadata-value",void 0,`${p?Fn.Il.Format.CSS.formatHex(p.foreground):"-?-"}`)),(0,De.$)("tr",void 0,(0,De.$)("td.tm-metadata-key",void 0,"background"),(0,De.$)("td.tm-metadata-value",void 0,`${p?Fn.Il.Format.CSS.formatHex(p.background):"-?-"}`))))),(0,De.R3)(this._domNode,(0,De.$)("hr.tokens-inspect-separator")),i<t.tokens1.length&&(0,De.R3)(this._domNode,(0,De.$)("span.tm-token-type",void 0,t.tokens1[i].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){const t=Un.RW.getColorMap(),i=Nh.N.getLanguageId(e),s=Nh.N.getTokenType(e),o=Nh.N.getFontStyle(e),d=Nh.N.getForeground(e),p=Nh.N.getBackground(e);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(i),tokenType:s,fontStyle:o,foreground:t[d],background:t[p]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(e){let t="";return e&1&&(t+="italic "),e&2&&(t+="bold "),e&4&&(t+="underline "),e&8&&(t+="strikethrough "),t.length===0&&(t="---"),t}_getTokensAtLine(e){const t=this._getStateBeforeLine(e),i=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,t),s=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(e),!0,t);return{startState:t,tokens1:i.tokens,tokens2:s.tokens,endState:i.endState}}_getStateBeforeLine(e){let t=this._tokenizationSupport.getInitialState();for(let i=1;i<e;i++)t=this._tokenizationSupport.tokenize(this._model.getLineContent(i),!0,t).endState;return t}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}Kg._ID="editor.contrib.inspectTokensWidget",(0,Ve._K)(fu.ID,fu,4),(0,Ve.Qr)(uN);var Ih=c(64361),gN=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},R0=function(g,e){return function(t,i){e(t,i,g)}},Ah;let Yg=Ah=class{constructor(e,t){this.quickInputService=e,this.keybindingService=t,this.registry=tr.B.as(Ih.IP.Quickaccess)}provide(e){const t=new Ue.SL;return t.add(e.onDidAccept(()=>{const[i]=e.selectedItems;i&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})})),t.add(e.onDidChangeValue(i=>{const s=this.registry.getQuickAccessProvider(i.substr(Ah.PREFIX.length));s&&s.prefix&&s.prefix!==Ah.PREFIX&&this.quickInputService.quickAccess.show(s.prefix,{preserveValue:!0})})),e.items=this.getQuickAccessProviders().filter(i=>i.prefix!==Ah.PREFIX),t}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((t,i)=>t.prefix.localeCompare(i.prefix)).flatMap(t=>this.createPicks(t))}createPicks(e){return e.helpEntries.map(t=>{const i=t.prefix||e.prefix,s=i||"\u2026";return{prefix:i,label:s,keybinding:t.commandId?this.keybindingService.lookupKeybinding(t.commandId):void 0,ariaLabel:(0,le.NC)("helpPickAriaLabel","{0}, {1}",s,t.description),description:t.description}})}};Yg.PREFIX="?",Yg=Ah=gN([R0(0,oi.eJ),R0(1,Je.d)],Yg),tr.B.as(Ih.IP.Quickaccess).registerQuickAccessProvider({ctor:Yg,prefix:"",helpEntries:[{description:sl.ld.helpQuickAccessActionLabel}]});var N0=c(15039);class I0{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t){var i;const s=new Ue.SL;e.canAcceptInBackground=!!(!((i=this.options)===null||i===void 0)&&i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const o=s.add(new Ue.XK);return o.value=this.doProvide(e,t),s.add(this.onDidActiveTextEditorControlChange(()=>{o.value=void 0,o.value=this.doProvide(e,t)})),s}doProvide(e,t){var i;const s=new Ue.SL,o=this.activeTextEditorControl;if(o&&this.canProvideWithTextEditor(o)){const d={editor:o},p=(0,ja.Pi)(o);if(p){let U=(i=o.saveViewState())!==null&&i!==void 0?i:void 0;s.add(p.onDidChangeCursorPosition(()=>{var te;U=(te=o.saveViewState())!==null&&te!==void 0?te:void 0})),d.restoreViewState=()=>{U&&o===this.activeTextEditorControl&&o.restoreViewState(U)},s.add((0,N0.M)(t.onCancellationRequested)(()=>{var te;return(te=d.restoreViewState)===null||te===void 0?void 0:te.call(d)}))}s.add((0,Ue.OF)(()=>this.clearDecorations(o))),s.add(this.provideWithTextEditor(d,e,t))}else s.add(this.provideWithoutTextEditor(e,t));return s}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus();const i=e.getModel();i&&"getLineContent"in i&&(0,gn.i7)(`${i.getLineContent(t.range.startLineNumber)}`)}getModel(e){var t;return(0,ja.QI)(e)?(t=e.getModel())===null||t===void 0?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations(i=>{const s=[];this.rangeHighlightDecorationId&&(s.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),s.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const o=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,tt.EN)(CC.m9),position:fi.sh.Full}}}],[d,p]=i.deltaDecorations(s,o);this.rangeHighlightDecorationId={rangeHighlightId:d,overviewRulerDecorationId:p}})}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations(i=>{i.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}class jg extends I0{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){const t=(0,le.NC)("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,Ue.JT.None}provideWithTextEditor(e,t,i){const s=e.editor,o=new Ue.SL;o.add(t.onDidAccept(U=>{const[te]=t.selectedItems;if(te){if(!this.isValidLineNumber(s,te.lineNumber))return;this.gotoLocation(e,{range:this.toRange(te.lineNumber,te.column),keyMods:t.keyMods,preserveFocus:U.inBackground}),U.inBackground||t.hide()}}));const d=()=>{const U=this.parsePosition(s,t.value.trim().substr(jg.PREFIX.length)),te=this.getPickLabel(s,U.lineNumber,U.column);if(t.items=[{lineNumber:U.lineNumber,column:U.column,label:te}],t.ariaLabel=te,!this.isValidLineNumber(s,U.lineNumber)){this.clearDecorations(s);return}const de=this.toRange(U.lineNumber,U.column);s.revealRangeInCenter(de,0),this.addDecorations(s,de)};d(),o.add(t.onDidChangeValue(()=>d()));const p=(0,ja.Pi)(s);return p&&p.getOptions().get(67).renderType===2&&(p.updateOptions({lineNumbers:"on"}),o.add((0,Ue.OF)(()=>p.updateOptions({lineNumbers:"relative"})))),o}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){const i=t.split(/,|:|#/).map(o=>parseInt(o,10)).filter(o=>!isNaN(o)),s=this.lineCount(e)+1;return{lineNumber:i[0]>0?i[0]:s+i[0],column:i[1]}}getPickLabel(e,t,i){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,i)?(0,le.NC)("gotoLineColumnLabel","Go to line {0} and character {1}.",t,i):(0,le.NC)("gotoLineLabel","Go to line {0}.",t);const s=e.getPosition()||{lineNumber:1,column:1},o=this.lineCount(e);return o>1?(0,le.NC)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",s.lineNumber,s.column,o):(0,le.NC)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",s.lineNumber,s.column)}isValidLineNumber(e,t){return!t||typeof t!="number"?!1:t>0&&t<=this.lineCount(e)}isValidColumn(e,t,i){if(!i||typeof i!="number")return!1;const s=this.getModel(e);if(!s)return!1;const o={lineNumber:t,column:i};return s.validatePosition(o).equals(o)}lineCount(e){var t,i;return(i=(t=this.getModel(e))===null||t===void 0?void 0:t.getLineCount())!==null&&i!==void 0?i:0}}jg.PREFIX=":";var mN=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},pN=function(g,e){return function(t,i){e(t,i,g)}};let Dh=class extends jg{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=Ln.ju.None}get activeTextEditorControl(){var e;return(e=this.editorService.getFocusedCodeEditor())!==null&&e!==void 0?e:void 0}};Dh=mN([pN(0,$i.$)],Dh);class wh extends Ve.R6{constructor(){super({id:wh.ID,label:sl.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:Pt.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(e){e.get(oi.eJ).quickAccess.show(Dh.PREFIX)}}wh.ID="editor.action.gotoLine",(0,Ve.Qr)(wh),tr.B.as(Ih.IP.Quickaccess).registerQuickAccessProvider({ctor:Dh,prefix:Dh.PREFIX,helpEntries:[{description:sl.qq.gotoLineActionLabel,commandId:wh.ID}]});const A0=[void 0,[]];function M_(g,e,t=0,i=0){const s=e;return s.values&&s.values.length>1?_N(g,s.values,t,i):D0(g,e,t,i)}function _N(g,e,t,i){let s=0;const o=[];for(const d of e){const[p,U]=D0(g,d,t,i);if(typeof p!="number")return A0;s+=p,o.push(...U)}return[s,CN(o)]}function D0(g,e,t,i){const s=(0,Ks.EW)(e.original,e.originalLowercase,t,g,g.toLowerCase(),i,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return s?[s[0],(0,Ks.mB)(s)]:A0}const GN=Object.freeze({score:0});function CN(g){const e=g.sort((s,o)=>s.start-o.start),t=[];let i;for(const s of e)!i||!EN(i,s)?(i=s,t.push(s)):(i.start=Math.min(i.start,s.start),i.end=Math.max(i.end,s.end));return t}function EN(g,e){return!(g.end<e.start||e.end<g.start)}function w0(g){return g.startsWith('"')&&g.endsWith('"')}const y0=" ";function x_(g){typeof g!="string"&&(g="");const e=g.toLowerCase(),{pathNormalized:t,normalized:i,normalizedLowercase:s}=O0(g),o=t.indexOf(Nl.ir)>=0,d=w0(g);let p;const U=g.split(y0);if(U.length>1)for(const te of U){const de=w0(te),{pathNormalized:be,normalized:Ie,normalizedLowercase:$e}=O0(te);Ie&&(p||(p=[]),p.push({original:te,originalLowercase:te.toLowerCase(),pathNormalized:be,normalized:Ie,normalizedLowercase:$e,expectContiguousMatch:de}))}return{original:g,originalLowercase:e,pathNormalized:t,normalized:i,normalizedLowercase:s,values:p,containsPathSeparator:o,expectContiguousMatch:d}}function O0(g){let e;Ut.ED?e=g.replace(/\//g,Nl.ir):e=g.replace(/\\/g,Nl.ir);const t=(0,Zi.R1)(e).replace(/\s|"/g,"");return{pathNormalized:e,normalized:t,normalizedLowercase:t.toLowerCase()}}function P0(g){return Array.isArray(g)?x_(g.map(e=>e.original).join(y0)):x_(g.original)}var SN=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},M0=function(g,e){return function(t,i){e(t,i,g)}},gu;let ol=gu=class extends I0{constructor(e,t,i=Object.create(null)){super(i),this._languageFeaturesService=e,this._outlineModelService=t,this.options=i,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,(0,le.NC)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),Ue.JT.None}provideWithTextEditor(e,t,i){const s=e.editor,o=this.getModel(s);return o?this._languageFeaturesService.documentSymbolProvider.has(o)?this.doProvideWithEditorSymbols(e,o,t,i):this.doProvideWithoutEditorSymbols(e,o,t,i):Ue.JT.None}doProvideWithoutEditorSymbols(e,t,i,s){const o=new Ue.SL;return this.provideLabelPick(i,(0,le.NC)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),At(this,null,function*(){!(yield this.waitForLanguageSymbolRegistry(t,o))||s.isCancellationRequested||o.add(this.doProvideWithEditorSymbols(e,t,i,s))}),o}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}waitForLanguageSymbolRegistry(e,t){return At(this,null,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(e))return!0;const i=new Ke.CR,s=t.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(e)&&(s.dispose(),i.complete(!0))}));return t.add((0,Ue.OF)(()=>i.complete(!1))),i.p})}doProvideWithEditorSymbols(e,t,i,s){var o;const d=e.editor,p=new Ue.SL;p.add(i.onDidAccept(be=>{const[Ie]=i.selectedItems;Ie&&Ie.range&&(this.gotoLocation(e,{range:Ie.range.selection,keyMods:i.keyMods,preserveFocus:be.inBackground}),be.inBackground||i.hide())})),p.add(i.onDidTriggerItemButton(({item:be})=>{be&&be.range&&(this.gotoLocation(e,{range:be.range.selection,keyMods:i.keyMods,forceSideBySide:!0}),i.hide())}));const U=this.getDocumentSymbols(t,s);let te;const de=be=>At(this,null,function*(){te==null||te.dispose(!0),i.busy=!1,te=new pn.A(s),i.busy=!0;try{const Ie=x_(i.value.substr(gu.PREFIX.length).trim()),$e=yield this.doGetSymbolPicks(U,Ie,void 0,te.token);if(s.isCancellationRequested)return;if($e.length>0){if(i.items=$e,be&&Ie.original.length===0){const qe=(0,Gu.dF)($e,ft=>!!(ft.type!=="separator"&&ft.range&&it.e.containsPosition(ft.range.decoration,be)));qe&&(i.activeItems=[qe])}}else Ie.original.length>0?this.provideLabelPick(i,(0,le.NC)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(i,(0,le.NC)("noSymbolResults","No editor symbols"))}finally{s.isCancellationRequested||(i.busy=!1)}});return p.add(i.onDidChangeValue(()=>de(void 0))),de((o=d.getSelection())===null||o===void 0?void 0:o.getPosition()),p.add(i.onDidChangeActive(()=>{const[be]=i.activeItems;be&&be.range&&(d.revealRangeInCenter(be.range.selection,0),this.addDecorations(d,be.range.decoration))})),p}doGetSymbolPicks(e,t,i,s){return At(this,null,function*(){var o,d;const p=yield e;if(s.isCancellationRequested)return[];const U=t.original.indexOf(gu.SCOPE_PREFIX)===0,te=U?1:0;let de,be;t.values&&t.values.length>1?(de=P0(t.values[0]),be=P0(t.values.slice(1))):de=t;let Ie;const $e=(d=(o=this.options)===null||o===void 0?void 0:o.openSideBySideDirection)===null||d===void 0?void 0:d.call(o);$e&&(Ie=[{iconClass:$e==="right"?Ds.k.asClassName(di.l.splitHorizontal):Ds.k.asClassName(di.l.splitVertical),tooltip:$e==="right"?(0,le.NC)("openToSide","Open to the Side"):(0,le.NC)("openToBottom","Open to the Bottom")}]);const qe=[];for(let Kt=0;Kt<p.length;Kt++){const mi=p[Kt],ki=(0,Zi.fy)(mi.name),Ui=`$(${Un.uZ.toIcon(mi.kind).id}) ${ki}`,Hi=Ui.length-ki.length;let vn=mi.containerName;i!=null&&i.extraContainerLabel&&(vn?vn=`${i.extraContainerLabel} \u2022 ${vn}`:vn=i.extraContainerLabel);let Pn,fs,gs,As;if(t.original.length>te){let Xg=!1;if(de!==t&&([Pn,fs]=M_(Ui,sn(Di({},t),{values:void 0}),te,Hi),typeof Pn=="number"&&(Xg=!0)),typeof Pn!="number"&&([Pn,fs]=M_(Ui,de,te,Hi),typeof Pn!="number"))continue;if(!Xg&&be){if(vn&&be.original.length>0&&([gs,As]=M_(vn,be)),typeof gs!="number")continue;typeof Pn=="number"&&(Pn+=gs)}}const xr=mi.tags&&mi.tags.indexOf(1)>=0;qe.push({index:Kt,kind:mi.kind,score:Pn,label:Ui,ariaLabel:(0,Un.R4)(mi.name,mi.kind),description:vn,highlights:xr?void 0:{label:fs,description:As},range:{selection:it.e.collapseToStart(mi.selectionRange),decoration:mi.range},strikethrough:xr,buttons:Ie})}const ft=qe.sort((Kt,mi)=>U?this.compareByKindAndScore(Kt,mi):this.compareByScore(Kt,mi));let Zt=[];if(U){let Ui=function(){mi&&typeof Kt=="number"&&ki>0&&(mi.label=(0,Zi.WU)(F_[Kt]||k_,ki))},Kt,mi,ki=0;for(const Hi of ft)Kt!==Hi.kind?(Ui(),Kt=Hi.kind,ki=1,mi={type:"separator"},Zt.push(mi)):ki++,Zt.push(Hi);Ui()}else ft.length>0&&(Zt=[{label:(0,le.NC)("symbols","symbols ({0})",qe.length),type:"separator"},...ft]);return Zt})}compareByScore(e,t){if(typeof e.score!="number"&&typeof t.score=="number")return 1;if(typeof e.score=="number"&&typeof t.score!="number")return-1;if(typeof e.score=="number"&&typeof t.score=="number"){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const i=F_[e.kind]||k_,s=F_[t.kind]||k_,o=i.localeCompare(s);return o===0?this.compareByScore(e,t):o}getDocumentSymbols(e,t){return At(this,null,function*(){const i=yield this._outlineModelService.getOrCreate(e,t);return t.isCancellationRequested?[]:i.asListOfDocumentSymbols()})}};ol.PREFIX="@",ol.SCOPE_PREFIX=":",ol.PREFIX_BY_CATEGORY=`${gu.PREFIX}${gu.SCOPE_PREFIX}`,ol=gu=SN([M0(0,hn.p),M0(1,Yf)],ol);const k_=(0,le.NC)("property","properties ({0})"),F_={[5]:(0,le.NC)("method","methods ({0})"),[11]:(0,le.NC)("function","functions ({0})"),[8]:(0,le.NC)("_constructor","constructors ({0})"),[12]:(0,le.NC)("variable","variables ({0})"),[4]:(0,le.NC)("class","classes ({0})"),[22]:(0,le.NC)("struct","structs ({0})"),[23]:(0,le.NC)("event","events ({0})"),[24]:(0,le.NC)("operator","operators ({0})"),[10]:(0,le.NC)("interface","interfaces ({0})"),[2]:(0,le.NC)("namespace","namespaces ({0})"),[3]:(0,le.NC)("package","packages ({0})"),[25]:(0,le.NC)("typeParameter","type parameters ({0})"),[1]:(0,le.NC)("modules","modules ({0})"),[6]:(0,le.NC)("property","properties ({0})"),[9]:(0,le.NC)("enum","enumerations ({0})"),[21]:(0,le.NC)("enumMember","enumeration members ({0})"),[14]:(0,le.NC)("string","strings ({0})"),[0]:(0,le.NC)("file","files ({0})"),[17]:(0,le.NC)("array","arrays ({0})"),[15]:(0,le.NC)("number","numbers ({0})"),[16]:(0,le.NC)("boolean","booleans ({0})"),[18]:(0,le.NC)("object","objects ({0})"),[19]:(0,le.NC)("key","keys ({0})"),[7]:(0,le.NC)("field","fields ({0})"),[13]:(0,le.NC)("constant","constants ({0})")};var vN=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},B_=function(g,e){return function(t,i){e(t,i,g)}};let W_=class extends ol{constructor(e,t,i){super(t,i),this.editorService=e,this.onDidActiveTextEditorControlChange=Ln.ju.None}get activeTextEditorControl(){var e;return(e=this.editorService.getFocusedCodeEditor())!==null&&e!==void 0?e:void 0}};W_=vN([B_(0,$i.$),B_(1,hn.p),B_(2,Yf)],W_);class yh extends Ve.R6{constructor(){super({id:yh.ID,label:sl.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:Pt.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:Pt.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get(oi.eJ).quickAccess.show(ol.PREFIX,{itemActivation:oi.jG.NONE})}}yh.ID="editor.action.quickOutline",(0,Ve.Qr)(yh),tr.B.as(Ih.IP.Quickaccess).registerQuickAccessProvider({ctor:W_,prefix:ol.PREFIX,helpEntries:[{description:sl.aq.quickOutlineActionLabel,prefix:ol.PREFIX,commandId:yh.ID},{description:sl.aq.quickOutlineByCategoryActionLabel,prefix:ol.PREFIX_BY_CATEGORY}]});var TN=c(62396);function H_(g,e){return e&&(g.stack||g.stacktrace)?le.NC("stackTrace.format","{0}: {1}",k0(g),x0(g.stack)||x0(g.stacktrace)):k0(g)}function x0(g){return Array.isArray(g)?g.join(`
`):g}function k0(g){return g.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${g.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof g.code=="string"&&typeof g.errno=="number"&&typeof g.syscall=="string"?le.NC("nodeExceptionMessage","A system error occurred ({0})",g.message):g.message||le.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function F0(g=null,e=!1){if(!g)return le.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(g)){const t=cn.kX(g),i=F0(t[0],e);return t.length>1?le.NC("error.moreErrors","{0} ({1} errors in total)",i,t.length):i}if(Zn.HD(g))return g;if(g.detail){const t=g.detail;if(t.error)return H_(t.error,e);if(t.exception)return H_(t.exception,e)}return g.stack?H_(g,e):g.message?g.message:le.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function bN(g){var e;const t=new Map;for(const i of g)t.set(i,((e=t.get(i))!==null&&e!==void 0?e:0)+1);return t}class Oh{constructor(){this.chunkCount=0,this.chunkOccurrences=new Map,this.documents=new Map}calculateScores(e,t){const i=this.computeEmbedding(e),s=new Map,o=[];for(const[d,p]of this.documents){if(t.isCancellationRequested)return[];for(const U of p.chunks){const te=this.computeSimilarityScore(U,i,s);te>0&&o.push({key:d,score:te})}}return o}static termFrequencies(e){return bN(Oh.splitTerms(e))}static*splitTerms(e){const t=i=>i.toLowerCase();for(const[i]of e.matchAll(new RegExp("\\b\\p{Letter}[\\p{Letter}\\d]{2,}\\b","gu"))){yield t(i);const s=i.replace(/([a-z])([A-Z])/g,"$1 $2").split(/\s+/g);if(s.length>1)for(const o of s)o.length>2&&new RegExp("\\p{Letter}{3,}","gu").test(o)&&(yield t(o))}}updateDocuments(e){var t;for(const{key:i}of e)this.deleteDocument(i);for(const i of e){const s=[];for(const o of i.textChunks){const d=Oh.termFrequencies(o);for(const p of d.keys())this.chunkOccurrences.set(p,((t=this.chunkOccurrences.get(p))!==null&&t!==void 0?t:0)+1);s.push({text:o,tf:d})}this.chunkCount+=s.length,this.documents.set(i.key,{chunks:s})}return this}deleteDocument(e){const t=this.documents.get(e);if(t){this.documents.delete(e),this.chunkCount-=t.chunks.length;for(const i of t.chunks)for(const s of i.tf.keys()){const o=this.chunkOccurrences.get(s);if(typeof o=="number"){const d=o-1;d<=0?this.chunkOccurrences.delete(s):this.chunkOccurrences.set(s,d)}}}}computeSimilarityScore(e,t,i){let s=0;for(const[o,d]of Object.entries(t)){const p=e.tf.get(o);if(!p)continue;let U=i.get(o);typeof U!="number"&&(U=this.computeIdf(o),i.set(o,U));const te=p*U;s+=te*d}return s}computeEmbedding(e){const t=Oh.termFrequencies(e);return this.computeTfidf(t)}computeIdf(e){var t;const i=(t=this.chunkOccurrences.get(e))!==null&&t!==void 0?t:0;return i>0?Math.log((this.chunkCount+1)/i):0}computeTfidf(e){const t=Object.create(null);for(const[i,s]of e){const o=this.computeIdf(i);o>0&&(t[i]=s*o)}return t}}function LN(g){var e,t;const i=g.slice(0);i.sort((o,d)=>d.score-o.score);const s=(t=(e=i[0])===null||e===void 0?void 0:e.score)!==null&&t!==void 0?t:0;if(s>0)for(const o of i)o.score/=s;return i}var mu;(function(g){g[g.NO_ACTION=0]="NO_ACTION",g[g.CLOSE_PICKER=1]="CLOSE_PICKER",g[g.REFRESH_PICKER=2]="REFRESH_PICKER",g[g.REMOVE_ITEM=3]="REMOVE_ITEM"})(mu||(mu={}));function U_(g){const e=g;return Array.isArray(e.items)}function B0(g){const e=g;return!!e.picks&&e.additionalPicks instanceof Promise}class RN extends Ue.JT{constructor(e,t){super(),this.prefix=e,this.options=t}provide(e,t,i){var s;const o=new Ue.SL;e.canAcceptInBackground=!!(!((s=this.options)===null||s===void 0)&&s.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;let d;const p=o.add(new Ue.XK),U=()=>At(this,null,function*(){const te=p.value=new Ue.SL;d==null||d.dispose(!0),e.busy=!1,d=new pn.A(t);const de=d.token,be=e.value.substr(this.prefix.length).trim(),Ie=this._getPicks(be,te,de,i),$e=(ft,Zt)=>{var Kt;let mi,ki;if(U_(ft)?(mi=ft.items,ki=ft.active):mi=ft,mi.length===0){if(Zt)return!1;(be.length>0||e.hideInput)&&(!((Kt=this.options)===null||Kt===void 0)&&Kt.noResultsPick)&&((0,Zn.mf)(this.options.noResultsPick)?mi=[this.options.noResultsPick(be)]:mi=[this.options.noResultsPick])}return e.items=mi,ki&&(e.activeItems=[ki]),!0},qe=ft=>At(this,null,function*(){let Zt=!1,Kt=!1;yield Promise.all([(()=>At(this,null,function*(){typeof ft.mergeDelay=="number"&&(yield(0,Ke.Vs)(ft.mergeDelay),de.isCancellationRequested)||Kt||(Zt=$e(ft.picks,!0))}))(),(()=>At(this,null,function*(){e.busy=!0;try{const mi=yield ft.additionalPicks;if(de.isCancellationRequested)return;let ki,Ui;U_(ft.picks)?(ki=ft.picks.items,Ui=ft.picks.active):ki=ft.picks;let Hi,vn;if(U_(mi)?(Hi=mi.items,vn=mi.active):Hi=mi,Hi.length>0||!Zt){let Pn;if(!Ui&&!vn){const fs=e.activeItems[0];fs&&ki.indexOf(fs)!==-1&&(Pn=fs)}$e({items:[...ki,...Hi],active:Ui||vn||Pn})}}finally{de.isCancellationRequested||(e.busy=!1),Kt=!0}}))()])});if(Ie!==null)if(B0(Ie))yield qe(Ie);else if(!(Ie instanceof Promise))$e(Ie);else{e.busy=!0;try{const ft=yield Ie;if(de.isCancellationRequested)return;B0(ft)?yield qe(ft):$e(ft)}finally{de.isCancellationRequested||(e.busy=!1)}}});return o.add(e.onDidChangeValue(()=>U())),U(),o.add(e.onDidAccept(te=>{const[de]=e.selectedItems;typeof(de==null?void 0:de.accept)=="function"&&(te.inBackground||e.hide(),de.accept(e.keyMods,te))})),o.add(e.onDidTriggerItemButton(be=>At(this,[be],function*({button:te,item:de}){var Ie,$e;if(typeof de.trigger=="function"){const qe=($e=(Ie=de.buttons)===null||Ie===void 0?void 0:Ie.indexOf(te))!==null&&$e!==void 0?$e:-1;if(qe>=0){const ft=de.trigger(qe,e.keyMods),Zt=typeof ft=="number"?ft:yield ft;if(t.isCancellationRequested)return;switch(Zt){case mu.NO_ACTION:break;case mu.CLOSE_PICKER:e.hide();break;case mu.REFRESH_PICKER:U();break;case mu.REMOVE_ITEM:{const Kt=e.items.indexOf(de);if(Kt!==-1){const mi=e.items.slice(),ki=mi.splice(Kt,1),Ui=e.activeItems.filter(vn=>vn!==ki[0]),Hi=e.keepScrollPosition;e.keepScrollPosition=!0,e.items=mi,Ui&&(e.activeItems=Ui),e.keepScrollPosition=Hi}break}}}}}))),o}}var W0=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},oc=function(g,e){return function(t,i){e(t,i,g)}},rc,Ao;let ac=rc=class extends RN{constructor(e,t,i,s,o,d){super(rc.PREFIX,e),this.instantiationService=t,this.keybindingService=i,this.commandService=s,this.telemetryService=o,this.dialogService=d,this.commandsHistory=this._register(this.instantiationService.createInstance(pd)),this.options=e}_getPicks(e,t,i,s){return At(this,null,function*(){var o,d,p,U;const te=yield this.getCommandPicks(i);if(i.isCancellationRequested)return[];const de=(0,N0.M)(()=>{const Kt=new Oh;Kt.updateDocuments(te.map(ki=>({key:ki.commandId,textChunks:[this.getTfIdfChunk(ki)]})));const mi=Kt.calculateScores(e,i);return LN(mi).filter(ki=>ki.score>rc.TFIDF_THRESHOLD).slice(0,rc.TFIDF_MAX_RESULTS)}),be=[];for(const Kt of te){const mi=(o=rc.WORD_FILTER(e,Kt.label))!==null&&o!==void 0?o:void 0,ki=Kt.commandAlias&&(d=rc.WORD_FILTER(e,Kt.commandAlias))!==null&&d!==void 0?d:void 0;if(mi||ki)Kt.highlights={label:mi,detail:this.options.showAlias?ki:void 0},be.push(Kt);else if(e===Kt.commandId)be.push(Kt);else if(e.length>=3){const Ui=de();if(i.isCancellationRequested)return[];const Hi=Ui.find(vn=>vn.key===Kt.commandId);Hi&&(Kt.tfIdfScore=Hi.score,be.push(Kt))}}const Ie=new Map;for(const Kt of be){const mi=Ie.get(Kt.label);mi?(Kt.description=Kt.commandId,mi.description=mi.commandId):Ie.set(Kt.label,Kt)}be.sort((Kt,mi)=>{if(Kt.tfIdfScore&&mi.tfIdfScore)return Kt.tfIdfScore===mi.tfIdfScore?Kt.label.localeCompare(mi.label):mi.tfIdfScore-Kt.tfIdfScore;if(Kt.tfIdfScore)return 1;if(mi.tfIdfScore)return-1;const ki=this.commandsHistory.peek(Kt.commandId),Ui=this.commandsHistory.peek(mi.commandId);if(ki&&Ui)return ki>Ui?-1:1;if(ki)return-1;if(Ui)return 1;if(this.options.suggestedCommandIds){const Hi=this.options.suggestedCommandIds.has(Kt.commandId),vn=this.options.suggestedCommandIds.has(mi.commandId);if(Hi&&vn)return 0;if(Hi)return-1;if(vn)return 1}return Kt.label.localeCompare(mi.label)});const $e=[];let qe=!1,ft=!0,Zt=!!this.options.suggestedCommandIds;for(let Kt=0;Kt<be.length;Kt++){const mi=be[Kt];Kt===0&&this.commandsHistory.peek(mi.commandId)&&($e.push({type:"separator",label:(0,le.NC)("recentlyUsed","recently used")}),qe=!0),ft&&mi.tfIdfScore!==void 0&&($e.push({type:"separator",label:(0,le.NC)("suggested","similar commands")}),ft=!1),Zt&&mi.tfIdfScore===void 0&&!this.commandsHistory.peek(mi.commandId)&&(!((p=this.options.suggestedCommandIds)===null||p===void 0)&&p.has(mi.commandId))&&($e.push({type:"separator",label:(0,le.NC)("commonlyUsed","commonly used")}),qe=!0,Zt=!1),qe&&mi.tfIdfScore===void 0&&!this.commandsHistory.peek(mi.commandId)&&!(!((U=this.options.suggestedCommandIds)===null||U===void 0)&&U.has(mi.commandId))&&($e.push({type:"separator",label:(0,le.NC)("morecCommands","other commands")}),qe=!1),$e.push(this.toCommandPick(mi,s))}return this.hasAdditionalCommandPicks(e,i)?{picks:$e,additionalPicks:(()=>At(this,null,function*(){var Kt;const mi=yield this.getAdditionalCommandPicks(te,be,e,i);if(i.isCancellationRequested)return[];const ki=mi.map(Ui=>this.toCommandPick(Ui,s));return ft&&((Kt=ki[0])===null||Kt===void 0?void 0:Kt.type)!=="separator"&&ki.unshift({type:"separator",label:(0,le.NC)("suggested","similar commands")}),ki}))()}:$e})}toCommandPick(e,t){if(e.type==="separator")return e;const i=this.keybindingService.lookupKeybinding(e.commandId),s=i?(0,le.NC)("commandPickAriaLabelWithKeybinding","{0}, {1}",e.label,i.getAriaLabel()):e.label;return sn(Di({},e),{ariaLabel:s,detail:this.options.showAlias&&e.commandAlias!==e.label?e.commandAlias:void 0,keybinding:i,accept:()=>At(this,null,function*(){var o,d;this.commandsHistory.push(e.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.commandId,from:(o=t==null?void 0:t.from)!==null&&o!==void 0?o:"quick open"});try{!((d=e.args)===null||d===void 0)&&d.length?yield this.commandService.executeCommand(e.commandId,...e.args):yield this.commandService.executeCommand(e.commandId)}catch(p){(0,rn.n2)(p)||this.dialogService.error((0,le.NC)("canNotRun","Command '{0}' resulted in an error",e.label),F0(p))}})})}getTfIdfChunk({label:e,commandAlias:t,commandDescription:i}){let s=e;return t&&t!==e&&(s+=` - ${t}`),i&&i.value!==e&&(s+=` - ${i.value===i.original?i.value:`${i.value} (${i.original})`}`),s}};ac.PREFIX=">",ac.TFIDF_THRESHOLD=.5,ac.TFIDF_MAX_RESULTS=5,ac.WORD_FILTER=(0,Ks.or)(Ks.Ji,Ks.KZ,Ks.ir),ac=rc=W0([oc(1,Mn.TG),oc(2,Je.d),oc(3,jt.H),oc(4,ms.b),oc(5,R_.S)],ac);let pd=Ao=class extends Ue.JT{constructor(e,t){super(),this.storageService=e,this.configurationService=t,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>this.updateConfiguration(e))),this._register(this.storageService.onWillSaveState(e=>{e.reason===vo.fk.SHUTDOWN&&this.saveState()}))}updateConfiguration(e){e&&!e.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=Ao.getConfiguredCommandHistoryLength(this.configurationService),Ao.cache&&Ao.cache.limit!==this.configuredCommandsHistoryLength&&(Ao.cache.limit=this.configuredCommandsHistoryLength,Ao.hasChanges=!0))}load(){const e=this.storageService.get(Ao.PREF_KEY_CACHE,0);let t;if(e)try{t=JSON.parse(e)}catch(s){}const i=Ao.cache=new Go.z6(this.configuredCommandsHistoryLength,1);if(t){let s;t.usesLRU?s=t.entries:s=t.entries.sort((o,d)=>o.value-d.value),s.forEach(o=>i.set(o.key,o.value))}Ao.counter=this.storageService.getNumber(Ao.PREF_KEY_COUNTER,0,Ao.counter)}push(e){Ao.cache&&(Ao.cache.set(e,Ao.counter++),Ao.hasChanges=!0)}peek(e){var t;return(t=Ao.cache)===null||t===void 0?void 0:t.peek(e)}saveState(){if(!Ao.cache||!Ao.hasChanges)return;const e={usesLRU:!0,entries:[]};Ao.cache.forEach((t,i)=>e.entries.push({key:i,value:t})),this.storageService.store(Ao.PREF_KEY_CACHE,JSON.stringify(e),0,0),this.storageService.store(Ao.PREF_KEY_COUNTER,Ao.counter,0,0),Ao.hasChanges=!1}static getConfiguredCommandHistoryLength(e){var t,i;const o=(i=(t=e.getValue().workbench)===null||t===void 0?void 0:t.commandPalette)===null||i===void 0?void 0:i.history;return typeof o=="number"?o:Ao.DEFAULT_COMMANDS_HISTORY_LENGTH}};pd.DEFAULT_COMMANDS_HISTORY_LENGTH=50,pd.PREF_KEY_CACHE="commandPalette.mru.cache",pd.PREF_KEY_COUNTER="commandPalette.mru.counter",pd.counter=1,pd.hasChanges=!1,pd=Ao=W0([oc(0,vo.Uy),oc(1,bi.Ui)],pd);class NN extends ac{constructor(e,t,i,s,o,d){super(e,t,i,s,o,d)}getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(const i of e.getSupportedActions())t.push({commandId:i.id,commandAlias:i.alias,label:(0,TN.x$)(i.label)||i.id});return t}}var IN=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},pu=function(g,e){return function(t,i){e(t,i,g)}};let Ph=class extends NN{get activeTextEditorControl(){var e;return(e=this.codeEditorService.getFocusedCodeEditor())!==null&&e!==void 0?e:void 0}constructor(e,t,i,s,o,d){super({showAlias:!1},e,i,s,o,d),this.codeEditorService=t}getCommandPicks(){return At(this,null,function*(){return this.getCodeEditorCommandPicks()})}hasAdditionalCommandPicks(){return!1}getAdditionalCommandPicks(){return At(this,null,function*(){return[]})}};Ph=IN([pu(0,Mn.TG),pu(1,$i.$),pu(2,Je.d),pu(3,jt.H),pu(4,ms.b),pu(5,R_.S)],Ph);class Mh extends Ve.R6{constructor(){super({id:Mh.ID,label:sl.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:Pt.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get(oi.eJ).quickAccess.show(Ph.PREFIX)}}Mh.ID="editor.action.quickCommand",(0,Ve.Qr)(Mh),tr.B.as(Ih.IP.Quickaccess).registerQuickAccessProvider({ctor:Ph,prefix:Ph.PREFIX,helpEntries:[{description:sl.UX.quickCommandHelp,commandId:Mh.ID}]});var AN=function(g,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,e,t,i);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(o=(s<3?d(o):s>3?d(e,t,o):d(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},_u=function(g,e){return function(t,i){e(t,i,g)}};let V_=class extends Qa{constructor(e,t,i,s,o,d,p){super(!0,e,t,i,s,o,d,p)}};V_=AN([_u(1,Ot.i6),_u(2,$i.$),_u(3,ts.lT),_u(4,Mn.TG),_u(5,vo.Uy),_u(6,bi.Ui)],V_),(0,Ve._K)(Qa.ID,V_,4);var $g=c(55714);class DN extends Ve.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:sl.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(e,t){const i=e.get(b0.Z),s=i.getColorTheme();(0,rr.c3)(s.type)?(i.setTheme(this._originalThemeName||((0,rr._T)(s.type)?$g.rW:$g.TG)),this._originalThemeName=null):(i.setTheme((0,rr._T)(s.type)?$g.kR:$g.MU),this._originalThemeName=s.themeName)}}(0,Ve.Qr)(DN)},55714:function(Gt,ze,c){"use strict";c.d(ze,{kR:function(){return _e},MU:function(){return Ee},nI:function(){return Ze},rW:function(){return ce},TG:function(){return ie}});var D=c(97480),X=c(51678),v=c(72225),k=c(46328),L=c(26627),T=c(39782);class M{constructor(ut,ct,He,Dt,gt){this._parsedThemeRuleBrand=void 0,this.token=ut,this.index=ct,this.fontStyle=He,this.foreground=Dt,this.background=gt}}function B(lt){if(!lt||!Array.isArray(lt))return[];const ut=[];let ct=0;for(let He=0,Dt=lt.length;He<Dt;He++){const gt=lt[He];let Re=-1;if(typeof gt.fontStyle=="string"){Re=0;const xt=gt.fontStyle.split(" ");for(let vt=0,we=xt.length;vt<we;vt++)switch(xt[vt]){case"italic":Re=Re|1;break;case"bold":Re=Re|2;break;case"underline":Re=Re|4;break;case"strikethrough":Re=Re|8;break}}let st=null;typeof gt.foreground=="string"&&(st=gt.foreground);let Tt=null;typeof gt.background=="string"&&(Tt=gt.background),ut[ct++]=new M(gt.token||"",He,Re,st,Tt)}return ut}function y(lt,ut){lt.sort((vt,we)=>{const pt=u(vt.token,we.token);return pt!==0?pt:vt.index-we.index});let ct=0,He="000000",Dt="ffffff";for(;lt.length>=1&&lt[0].token==="";){const vt=lt.shift();vt.fontStyle!==-1&&(ct=vt.fontStyle),vt.foreground!==null&&(He=vt.foreground),vt.background!==null&&(Dt=vt.background)}const gt=new C;for(const vt of ut)gt.getId(vt);const Re=gt.getId(He),st=gt.getId(Dt),Tt=new N(ct,Re,st),xt=new O(Tt);for(let vt=0,we=lt.length;vt<we;vt++){const pt=lt[vt];xt.insert(pt.token,pt.fontStyle,gt.getId(pt.foreground),gt.getId(pt.background))}return new S(gt,xt)}const b=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class C{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(ut){if(ut===null)return 0;const ct=ut.match(b);if(!ct)throw new Error("Illegal value for token color: "+ut);ut=ct[1].toUpperCase();let He=this._color2id.get(ut);return He||(He=++this._lastColorId,this._color2id.set(ut,He),this._id2color[He]=v.Il.fromHex("#"+ut),He)}getColorMap(){return this._id2color.slice(0)}}class S{static createFromRawTokenTheme(ut,ct){return this.createFromParsedTokenTheme(B(ut),ct)}static createFromParsedTokenTheme(ut,ct){return y(ut,ct)}constructor(ut,ct){this._colorMap=ut,this._root=ct,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(ut){return this._root.match(ut)}match(ut,ct){let He=this._cache.get(ct);if(typeof He=="undefined"){const Dt=this._match(ct),gt=a(ct);He=(Dt.metadata|gt<<8)>>>0,this._cache.set(ct,He)}return(He|ut<<0)>>>0}}const _=/\b(comment|string|regex|regexp)\b/;function a(lt){const ut=lt.match(_);if(!ut)return 0;switch(ut[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function u(lt,ut){return lt<ut?-1:lt>ut?1:0}class N{constructor(ut,ct,He){this._themeTrieElementRuleBrand=void 0,this._fontStyle=ut,this._foreground=ct,this._background=He,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new N(this._fontStyle,this._foreground,this._background)}acceptOverwrite(ut,ct,He){ut!==-1&&(this._fontStyle=ut),ct!==0&&(this._foreground=ct),He!==0&&(this._background=He),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class O{constructor(ut){this._themeTrieElementBrand=void 0,this._mainRule=ut,this._children=new Map}match(ut){if(ut==="")return this._mainRule;const ct=ut.indexOf(".");let He,Dt;ct===-1?(He=ut,Dt=""):(He=ut.substring(0,ct),Dt=ut.substring(ct+1));const gt=this._children.get(He);return typeof gt!="undefined"?gt.match(Dt):this._mainRule}insert(ut,ct,He,Dt){if(ut===""){this._mainRule.acceptOverwrite(ct,He,Dt);return}const gt=ut.indexOf(".");let Re,st;gt===-1?(Re=ut,st=""):(Re=ut.substring(0,gt),st=ut.substring(gt+1));let Tt=this._children.get(Re);typeof Tt=="undefined"&&(Tt=new O(this._mainRule.clone()),this._children.set(Re,Tt)),Tt.insert(st,ct,He,Dt)}}function R(lt){const ut=[];for(let ct=1,He=lt.length;ct<He;ct++){const Dt=lt[ct];ut[ct]=`.mtk${ct} { color: ${Dt}; }`}return ut.push(".mtki { font-style: italic; }"),ut.push(".mtkb { font-weight: bold; }"),ut.push(".mtku { text-decoration: underline; text-underline-position: under; }"),ut.push(".mtks { text-decoration: line-through; }"),ut.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),ut.join(`
`)}var V=c(76901),F=c(32955);const Y={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[F.cvW]:"#FFFFFE",[F.NOs]:"#000000",[F.ES4]:"#E5EBF1",[V.gS]:"#D3D3D3",[V.qe]:"#939393",[F.Rzx]:"#ADD6FF4D"}},G={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[F.cvW]:"#1E1E1E",[F.NOs]:"#D4D4D4",[F.ES4]:"#3A3D41",[V.gS]:"#404040",[V.qe]:"#707070",[F.Rzx]:"#ADD6FF26"}},Z={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[F.cvW]:"#000000",[F.NOs]:"#FFFFFF",[V.gS]:"#FFFFFF",[V.qe]:"#FFFFFF"}},ne={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[F.cvW]:"#FFFFFF",[F.NOs]:"#292929",[V.gS]:"#292929",[V.qe]:"#292929"}};var $=c(93796),J=c(27722),se=c(83845),re=c(34732),he=c(12003),H=c(6863);function P(lt){const ut=new se.SL,ct=ut.add(new k.Q5),He=(0,H.Ks)();return ut.add(He.onDidChange(()=>ct.fire())),lt&&ut.add(lt.onDidProductIconThemeChange(()=>ct.fire())),{dispose:()=>ut.dispose(),onDidChange:ct.event,getCSS(){const Dt=lt?lt.getProductIconTheme():new j,gt={},Re=Tt=>{const xt=Dt.getIcon(Tt);if(!xt)return;const vt=xt.font;return vt?(gt[vt.id]=vt.definition,`.codicon-${Tt.id}:before { content: '${xt.fontCharacter}'; font-family: ${(0,D._h)(vt.id)}; }`):`.codicon-${Tt.id}:before { content: '${xt.fontCharacter}'; }`},st=[];for(const Tt of He.getIcons()){const xt=Re(Tt);xt&&st.push(xt)}for(const Tt in gt){const xt=gt[Tt],vt=xt.weight?`font-weight: ${xt.weight};`:"",we=xt.style?`font-style: ${xt.style};`:"",pt=xt.src.map(Mt=>`${(0,D.wY)(Mt.location)} format('${Mt.format}')`).join(", ");st.push(`@font-face { src: ${pt}; font-family: ${(0,D._h)(Tt)};${vt}${we} font-display: block; }`)}return st.join(`
`)}}}class j{getIcon(ut){const ct=(0,H.Ks)();let He=ut.defaults;for(;he.k.isThemeIcon(He);){const Dt=ct.getIcon(He.id);if(!Dt)return;He=Dt.defaults}return He}}var K=c(32764);const ie="vs",ce="vs-dark",_e="hc-black",Ee="hc-light",Ce=$.B.as(F.IPX.ColorContribution),pe=$.B.as(J.IP.ThemingContribution);class xe{constructor(ut,ct){this.semanticHighlighting=!1,this.themeData=ct;const He=ct.base;ut.length>0?(x(ut)?this.id=ut:this.id=He+" "+ut,this.themeName=ut):(this.id=He,this.themeName=He),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const ut=new Map;for(const ct in this.themeData.colors)ut.set(ct,v.Il.fromHex(this.themeData.colors[ct]));if(this.themeData.inherit){const ct=rt(this.themeData.base);for(const He in ct.colors)ut.has(He)||ut.set(He,v.Il.fromHex(ct.colors[He]))}this.colors=ut}return this.colors}getColor(ut,ct){const He=this.getColors().get(ut);if(He)return He;if(ct!==!1)return this.getDefault(ut)}getDefault(ut){let ct=this.defaultColors[ut];return ct||(ct=Ce.resolveDefaultColor(ut,this),this.defaultColors[ut]=ct,ct)}defines(ut){return this.getColors().has(ut)}get type(){switch(this.base){case ie:return re.eL.LIGHT;case _e:return re.eL.HIGH_CONTRAST_DARK;case Ee:return re.eL.HIGH_CONTRAST_LIGHT;default:return re.eL.DARK}}get tokenTheme(){if(!this._tokenTheme){let ut=[],ct=[];if(this.themeData.inherit){const gt=rt(this.themeData.base);ut=gt.rules,gt.encodedTokensColors&&(ct=gt.encodedTokensColors)}const He=this.themeData.colors["editor.foreground"],Dt=this.themeData.colors["editor.background"];if(He||Dt){const gt={token:""};He&&(gt.foreground=He),Dt&&(gt.background=Dt),ut.push(gt)}ut=ut.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(ct=this.themeData.encodedTokensColors),this._tokenTheme=S.createFromRawTokenTheme(ut,ct)}return this._tokenTheme}getTokenStyleMetadata(ut,ct,He){const gt=this.tokenTheme._match([ut].concat(ct).join(".")).metadata,Re=T.N.getForeground(gt),st=T.N.getFontStyle(gt);return{foreground:Re,italic:!!(st&1),bold:!!(st&2),underline:!!(st&4),strikethrough:!!(st&8)}}}function x(lt){return lt===ie||lt===ce||lt===_e||lt===Ee}function rt(lt){switch(lt){case ie:return Y;case ce:return G;case _e:return Z;case Ee:return ne}}function Xe(lt){const ut=rt(lt);return new xe(lt,ut)}class Ze extends se.JT{constructor(){super(),this._onColorThemeChange=this._register(new k.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new k.Q5),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new j,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(ie,Xe(ie)),this._knownThemes.set(ce,Xe(ce)),this._knownThemes.set(_e,Xe(_e)),this._knownThemes.set(Ee,Xe(Ee));const ut=this._register(P(this));this._codiconCSS=ut.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(ie),this._onOSSchemeChanged(),this._register(ut.onDidChange(()=>{this._codiconCSS=ut.getCSS(),this._updateCSS()})),(0,X.uB)("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(ut){return D.OO(ut)?this._registerShadowDomContainer(ut):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=D.dS(void 0,ut=>{ut.className="monaco-colors",ut.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),se.JT.None}_registerShadowDomContainer(ut){const ct=D.dS(ut,He=>{He.className="monaco-colors",He.textContent=this._allCSS});return this._styleElements.push(ct),{dispose:()=>{for(let He=0;He<this._styleElements.length;He++)if(this._styleElements[He]===ct){this._styleElements.splice(He,1);return}}}}defineTheme(ut,ct){if(!/^[a-z0-9\-]+$/i.test(ut))throw new Error("Illegal theme name!");if(!x(ct.base)&&!x(ut))throw new Error("Illegal theme base!");this._knownThemes.set(ut,new xe(ut,ct)),x(ut)&&this._knownThemes.forEach(He=>{He.base===ut&&He.notifyBaseUpdated()}),this._theme.themeName===ut&&this.setTheme(ut)}getColorTheme(){return this._theme}setColorMapOverride(ut){this._colorMapOverride=ut,this._updateThemeOrColorMap()}setTheme(ut){let ct;this._knownThemes.has(ut)?ct=this._knownThemes.get(ut):ct=this._knownThemes.get(ie),this._updateActualTheme(ct)}_updateActualTheme(ut){!ut||this._theme===ut||(this._theme=ut,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const ut=K.Ex.matchMedia("(forced-colors: active)").matches;if(ut!==(0,re.c3)(this._theme.type)){let ct;(0,re._T)(this._theme.type)?ct=ut?_e:ce:ct=ut?Ee:ie,this._updateActualTheme(this._knownThemes.get(ct))}}}setAutoDetectHighContrast(ut){this._autoDetectHighContrast=ut,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const ut=[],ct={},He={addRule:Re=>{ct[Re]||(ut.push(Re),ct[Re]=!0)}};pe.getThemingParticipants().forEach(Re=>Re(this._theme,He,this._environment));const Dt=[];for(const Re of Ce.getColors()){const st=this._theme.getColor(Re.id,!0);st&&Dt.push(`${(0,F.QO2)(Re.id)}: ${st.toString()};`)}He.addRule(`.monaco-editor, .monaco-diff-editor, .monaco-component { ${Dt.join(`
`)} }`);const gt=this._colorMapOverride||this._theme.tokenTheme.getColorMap();He.addRule(R(gt)),this._themeCSS=ut.join(`
`),this._updateCSS(),L.RW.setColorMap(gt),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(ut=>ut.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}},99534:function(Gt,ze,c){"use strict";c.d(ze,{Z:function(){return X}});var D=c(99068);const X=(0,D.yh)("themeService")},31641:function(Gt,ze,c){"use strict";c.d(ze,{TG:function(){return R}});var D=c(51293);var X=Object.defineProperty,v=Object.getOwnPropertyDescriptor,k=Object.getOwnPropertyNames,L=Object.prototype.hasOwnProperty,T=(Z,ne,$,J)=>{if(ne&&typeof ne=="object"||typeof ne=="function")for(let se of k(ne))!L.call(Z,se)&&se!==$&&X(Z,se,{get:()=>ne[se],enumerable:!(J=v(ne,se))||J.enumerable});return Z},M=(Z,ne,$)=>(T(Z,ne,"default"),$&&T($,ne,"default")),B="5.0.2",y={};M(y,D);var b=(Z=>(Z[Z.None=0]="None",Z[Z.CommonJS=1]="CommonJS",Z[Z.AMD=2]="AMD",Z[Z.UMD=3]="UMD",Z[Z.System=4]="System",Z[Z.ES2015=5]="ES2015",Z[Z.ESNext=99]="ESNext",Z))(b||{}),C=(Z=>(Z[Z.None=0]="None",Z[Z.Preserve=1]="Preserve",Z[Z.React=2]="React",Z[Z.ReactNative=3]="ReactNative",Z[Z.ReactJSX=4]="ReactJSX",Z[Z.ReactJSXDev=5]="ReactJSXDev",Z))(C||{}),S=(Z=>(Z[Z.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",Z[Z.LineFeed=1]="LineFeed",Z))(S||{}),_=(Z=>(Z[Z.ES3=0]="ES3",Z[Z.ES5=1]="ES5",Z[Z.ES2015=2]="ES2015",Z[Z.ES2016=3]="ES2016",Z[Z.ES2017=4]="ES2017",Z[Z.ES2018=5]="ES2018",Z[Z.ES2019=6]="ES2019",Z[Z.ES2020=7]="ES2020",Z[Z.ESNext=99]="ESNext",Z[Z.JSON=100]="JSON",Z[Z.Latest=99]="Latest",Z))(_||{}),a=(Z=>(Z[Z.Classic=1]="Classic",Z[Z.NodeJs=2]="NodeJs",Z))(a||{}),u=class{constructor(Z,ne,$,J,se){ho(this,"_onDidChange",new y.Emitter);ho(this,"_onDidExtraLibsChange",new y.Emitter);ho(this,"_extraLibs");ho(this,"_removedExtraLibs");ho(this,"_eagerModelSync");ho(this,"_compilerOptions");ho(this,"_diagnosticsOptions");ho(this,"_workerOptions");ho(this,"_onDidExtraLibsChangeTimeout");ho(this,"_inlayHintsOptions");ho(this,"_modeConfiguration");this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(Z),this.setDiagnosticsOptions(ne),this.setWorkerOptions($),this.setInlayHintsOptions(J),this.setModeConfiguration(se),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(Z,ne){let $;if(typeof ne=="undefined"?$=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:$=ne,this._extraLibs[$]&&this._extraLibs[$].content===Z)return{dispose:()=>{}};let J=1;return this._removedExtraLibs[$]&&(J=this._removedExtraLibs[$]+1),this._extraLibs[$]&&(J=this._extraLibs[$].version+1),this._extraLibs[$]={content:Z,version:J},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let se=this._extraLibs[$];se&&se.version===J&&(delete this._extraLibs[$],this._removedExtraLibs[$]=J,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(Z){for(const ne in this._extraLibs)this._removedExtraLibs[ne]=this._extraLibs[ne].version;if(this._extraLibs=Object.create(null),Z&&Z.length>0)for(const ne of Z){const $=ne.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,J=ne.content;let se=1;this._removedExtraLibs[$]&&(se=this._removedExtraLibs[$]+1),this._extraLibs[$]={content:J,version:se}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(Z){this._compilerOptions=Z||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(Z){this._diagnosticsOptions=Z||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(Z){this._workerOptions=Z||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(Z){this._inlayHintsOptions=Z||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(Z){}setEagerModelSync(Z){this._eagerModelSync=Z}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(Z){this._modeConfiguration=Z||Object.create(null),this._onDidChange.fire(void 0)}},N=B,O={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},R=new u({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},O),V=new u({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},O),F=()=>G().then(Z=>Z.getTypeScriptWorker()),Y=()=>G().then(Z=>Z.getJavaScriptWorker());y.languages.typescript={ModuleKind:b,JsxEmit:C,NewLineKind:S,ScriptTarget:_,ModuleResolutionKind:a,typescriptVersion:N,typescriptDefaults:R,javascriptDefaults:V,getTypeScriptWorker:F,getJavaScriptWorker:Y};function G(){return c.e(6798).then(c.bind(c,6798))}y.languages.onLanguage("typescript",()=>G().then(Z=>Z.setupTypeScript(R))),y.languages.onLanguage("javascript",()=>G().then(Z=>Z.setupJavaScript(V)))},18493:function(Gt,ze,c){"use strict";c.d(ze,{NC:function(){return y},aj:function(){return C},vv:function(){return b}});let D=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const X="i-default";function v(u,N){let O;return N.length===0?O=u:O=u.replace(/\{(\d+)\}/g,(R,V)=>{const F=V[0],Y=N[F];let G=R;return typeof Y=="string"?G=Y:(typeof Y=="number"||typeof Y=="boolean"||Y===void 0||Y===null)&&(G=String(Y)),G}),D&&(O="\uFF3B"+O.replace(/[aouei]/g,"$&$&")+"\uFF3D"),O}function k(u,N){let O=u[N];return O||(O=u["*"],O)?O:null}function L(u){return u.charAt(u.length-1)==="/"?u:u+"/"}function T(u,N,O){return At(this,null,function*(){const R=L(u)+L(N)+"vscode/"+L(O),V=yield fetch(R);if(V.ok)return yield V.json();throw new Error(`${V.status} - ${V.statusText}`)})}function M(u){return function(N,O){const R=Array.prototype.slice.call(arguments,2);return v(u[N],R)}}function B(u){return(N,O,...R)=>({value:v(u[N],R),original:v(O,R)})}function y(u,N,...O){return v(N,O)}function b(u,N,...O){const R=v(N,O);return{value:R,original:R}}function C(u){}function S(u){D=u}function _(u,N){var O;return{localize:M(N[u]),localize2:B(N[u]),getConfiguredDefaultLocale:(O=N.getConfiguredDefaultLocale)!==null&&O!==void 0?O:R=>{}}}function a(u,N,O,R){var V;const F=(V=R["vs/nls"])!==null&&V!==void 0?V:{};if(!u||u.length===0)return O({localize:y,localize2:b,getConfiguredDefaultLocale:()=>{var $;return($=F.availableLanguages)===null||$===void 0?void 0:$["*"]}});const Y=F.availableLanguages?k(F.availableLanguages,u):null,G=Y===null||Y===X;let Z=".nls";G||(Z=Z+"."+Y);const ne=$=>{Array.isArray($)?($.localize=M($),$.localize2=B($)):($.localize=M($[u]),$.localize2=B($[u])),$.getConfiguredDefaultLocale=()=>{var J;return(J=F.availableLanguages)===null||J===void 0?void 0:J["*"]},O($)};typeof F.loadBundle=="function"?F.loadBundle(u,Y,($,J)=>{$?N([u+".nls"],ne):ne(J)}):F.translationServiceUrl&&!G?At(this,null,function*(){var $;try{const J=yield T(F.translationServiceUrl,Y,u);return ne(J)}catch(J){if(!Y.includes("-"))return console.error(J),N([u+".nls"],ne);try{const se=Y.split("-")[0],re=yield T(F.translationServiceUrl,se,u);return($=F.availableLanguages)!==null&&$!==void 0||(F.availableLanguages={}),F.availableLanguages["*"]=se,ne(re)}catch(se){return console.error(se),N([u+".nls"],ne)}}}):N([u+Z],ne,$=>{if(Z===".nls"){console.error("Failed trying to load default language strings",$);return}console.error(`Failed to load message bundle for language ${Y}. Falling back to the default language:`,$),N([u+".nls"],ne)})}},87943:function(Gt,ze,c){"use strict";c.d(ze,{F7:function(){return v},UA:function(){return k},VX:function(){return L}});var D=c(81002),X=c(99068);const v=(0,X.yh)("accessibilityService"),k=new D.uy("accessibilityModeEnabled",!1),L=(0,X.yh)("accessibleNotificationService")},34794:function(Gt,ze,c){"use strict";c.d(ze,{Mm:function(){return H},Id:function(){return ie},vr:function(){return re},LJ:function(){return se}});var D=c(97480),X=c(89056),v=c(6285),k=c(30380),L=c(66351),T=c(7461),M=c(83845),B=c(43998),y=c(18493),b=c(61008);function C(ce){return ce?ce.condition!==void 0:!1}var S=c(81002),_=c(16288),a=c(99068),u=c(30966),N=c(23829),O=c(14786),R=c(27722),V=c(12003),F=c(34732),Y=c(22968),G=c(32955),Z=c(55410),ne=c(87943),$=function(ce,_e,Ee,Ce){var pe=arguments.length,xe=pe<3?_e:Ce===null?Ce=Object.getOwnPropertyDescriptor(_e,Ee):Ce,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xe=Reflect.decorate(ce,_e,Ee,Ce);else for(var rt=ce.length-1;rt>=0;rt--)(x=ce[rt])&&(xe=(pe<3?x(xe):pe>3?x(_e,Ee,xe):x(_e,Ee))||xe);return pe>3&&xe&&Object.defineProperty(_e,Ee,xe),xe},J=function(ce,_e){return function(Ee,Ce){_e(Ee,Ce,ce)}};function se(ce,_e,Ee,Ce){const pe=ce.getActions(_e),xe=D._q.getInstance(),x=xe.keyStatus.altKey||(B.ED||B.IJ)&&xe.keyStatus.shiftKey;he(pe,Ee,x,Ce?rt=>rt===Ce:rt=>rt==="navigation")}function re(ce,_e,Ee,Ce,pe,xe){const x=ce.getActions(_e);he(x,Ee,!1,typeof Ce=="string"?Xe=>Xe===Ce:Ce,pe,xe)}function he(ce,_e,Ee,Ce=x=>x==="navigation",pe=()=>!1,xe=!1){let x,rt;Array.isArray(_e)?(x=_e,rt=_e):(x=_e.primary,rt=_e.secondary);const Xe=new Set;for(const[Ze,lt]of ce){let ut;Ce(Ze)?(ut=x,ut.length>0&&xe&&ut.push(new L.Z0)):(ut=rt,ut.length>0&&ut.push(new L.Z0));for(let ct of lt){Ee&&(ct=ct instanceof b.U8&&ct.alt?ct.alt:ct);const He=ut.push(ct);ct instanceof L.wY&&Xe.add({group:Ze,action:ct,index:He-1})}}for(const{group:Ze,action:lt,index:ut}of Xe){const ct=Ce(Ze)?x:rt,He=lt.actions;pe(lt,Ze,ct.length)&&ct.splice(ut,1,...He)}}let H=class extends v.gU{constructor(_e,Ee,Ce,pe,xe,x,rt,Xe){super(void 0,_e,{icon:!!(_e.class||_e.item.icon),label:!_e.class&&!_e.item.icon,draggable:Ee==null?void 0:Ee.draggable,keybinding:Ee==null?void 0:Ee.keybinding,hoverDelegate:Ee==null?void 0:Ee.hoverDelegate}),this._keybindingService=Ce,this._notificationService=pe,this._contextKeyService=xe,this._themeService=x,this._contextMenuService=rt,this._accessibilityService=Xe,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new M.XK),this._altKey=D._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(_e){return At(this,null,function*(){_e.preventDefault(),_e.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(Ee){this._notificationService.error(Ee)}})}render(_e){if(super.render(_e),_e.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let Ee=!1;const Ce=()=>{var pe;const xe=!!(!((pe=this._menuItemAction.alt)===null||pe===void 0)&&pe.enabled)&&(!this._accessibilityService.isMotionReduced()||Ee)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&Ee);xe!==this._wantsAltCommand&&(this._wantsAltCommand=xe,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(Ce)),this._register((0,D.nm)(_e,"mouseleave",pe=>{Ee=!1,Ce()})),this._register((0,D.nm)(_e,"mouseenter",pe=>{Ee=!0,Ce()})),Ce()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var _e;const Ee=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),Ce=Ee&&Ee.getLabel(),pe=this._commandAction.tooltip||this._commandAction.label;let xe=Ce?(0,y.NC)("titleAndKb","{0} ({1})",pe,Ce):pe;if(!this._wantsAltCommand&&(!((_e=this._menuItemAction.alt)===null||_e===void 0)&&_e.enabled)){const x=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,rt=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),Xe=rt&&rt.getLabel(),Ze=Xe?(0,y.NC)("titleAndKb","{0} ({1})",x,Xe):x;xe=(0,y.NC)("titleAndKbAndAlt",`{0}
[{1}] {2}`,xe,T.xo.modifierLabels[B.OS].altKey,Ze)}return xe}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(_e){this._itemClassDispose.value=void 0;const{element:Ee,label:Ce}=this;if(!Ee||!Ce)return;const pe=this._commandAction.checked&&C(_e.toggled)&&_e.toggled.icon?_e.toggled.icon:_e.icon;if(pe)if(V.k.isThemeIcon(pe)){const xe=V.k.asClassNameArray(pe);Ce.classList.add(...xe),this._itemClassDispose.value=(0,M.OF)(()=>{Ce.classList.remove(...xe)})}else Ce.style.backgroundImage=(0,F._T)(this._themeService.getColorTheme().type)?(0,D.wY)(pe.dark):(0,D.wY)(pe.light),Ce.classList.add("icon"),this._itemClassDispose.value=(0,M.F8)((0,M.OF)(()=>{Ce.style.backgroundImage="",Ce.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};H=$([J(2,u.d),J(3,N.lT),J(4,S.i6),J(5,R.XE),J(6,_.i),J(7,ne.F7)],H);let P=class extends k.C{constructor(_e,Ee,Ce,pe,xe){var x,rt,Xe;const Ze=sn(Di({},Ee),{menuAsChild:(x=Ee==null?void 0:Ee.menuAsChild)!==null&&x!==void 0?x:!1,classNames:(rt=Ee==null?void 0:Ee.classNames)!==null&&rt!==void 0?rt:V.k.isThemeIcon(_e.item.icon)?V.k.asClassName(_e.item.icon):void 0,keybindingProvider:(Xe=Ee==null?void 0:Ee.keybindingProvider)!==null&&Xe!==void 0?Xe:lt=>Ce.lookupKeybinding(lt.id)});super(_e,{getActions:()=>_e.actions},pe,Ze),this._keybindingService=Ce,this._contextMenuService=pe,this._themeService=xe}render(_e){super.render(_e),(0,Y.p_)(this.element),_e.classList.add("menu-entry");const Ee=this._action,{icon:Ce}=Ee.item;if(Ce&&!V.k.isThemeIcon(Ce)){this.element.classList.add("icon");const pe=()=>{this.element&&(this.element.style.backgroundImage=(0,F._T)(this._themeService.getColorTheme().type)?(0,D.wY)(Ce.dark):(0,D.wY)(Ce.light))};pe(),this._register(this._themeService.onDidColorThemeChange(()=>{pe()}))}}};P=$([J(2,u.d),J(3,_.i),J(4,R.XE)],P);let j=class extends v.YH{constructor(_e,Ee,Ce,pe,xe,x,rt,Xe){var Ze,lt,ut;super(null,_e),this._keybindingService=Ce,this._notificationService=pe,this._contextMenuService=xe,this._menuService=x,this._instaService=rt,this._storageService=Xe,this._container=null,this._options=Ee,this._storageKey=`${_e.item.submenu.id}_lastActionId`;let ct;const He=Ee!=null&&Ee.persistLastActionId?Xe.get(this._storageKey,1):void 0;He&&(ct=_e.actions.find(gt=>He===gt.id)),ct||(ct=_e.actions[0]),this._defaultAction=this._instaService.createInstance(H,ct,{keybinding:this._getDefaultActionKeybindingLabel(ct)});const Dt=sn(Di({keybindingProvider:gt=>this._keybindingService.lookupKeybinding(gt.id)},Ee),{menuAsChild:(Ze=Ee==null?void 0:Ee.menuAsChild)!==null&&Ze!==void 0?Ze:!0,classNames:(lt=Ee==null?void 0:Ee.classNames)!==null&&lt!==void 0?lt:["codicon","codicon-chevron-down"],actionRunner:(ut=Ee==null?void 0:Ee.actionRunner)!==null&&ut!==void 0?ut:new L.Wi});this._dropdown=new k.C(_e,_e.actions,this._contextMenuService,Dt),this._dropdown.actionRunner.onDidRun(gt=>{gt.action instanceof b.U8&&this.update(gt.action)})}update(_e){var Ee;!((Ee=this._options)===null||Ee===void 0)&&Ee.persistLastActionId&&this._storageService.store(this._storageKey,_e.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(H,_e,{keybinding:this._getDefaultActionKeybindingLabel(_e)}),this._defaultAction.actionRunner=new class extends L.Wi{runAction(Ce,pe){return At(this,null,function*(){yield Ce.run(void 0)})}},this._container&&this._defaultAction.render((0,D.Ce)(this._container,(0,D.$)(".action-container")))}_getDefaultActionKeybindingLabel(_e){var Ee;let Ce;if(!((Ee=this._options)===null||Ee===void 0)&&Ee.renderKeybindingWithDefaultActionLabel){const pe=this._keybindingService.lookupKeybinding(_e.id);pe&&(Ce=`(${pe.getLabel()})`)}return Ce}setActionContext(_e){super.setActionContext(_e),this._defaultAction.setActionContext(_e),this._dropdown.setActionContext(_e)}render(_e){this._container=_e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const Ee=(0,D.$)(".action-container");this._defaultAction.render((0,D.R3)(this._container,Ee)),this._register((0,D.nm)(Ee,D.tw.KEY_DOWN,pe=>{const xe=new X.y(pe);xe.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),xe.stopPropagation())}));const Ce=(0,D.$)(".dropdown-action-container");this._dropdown.render((0,D.R3)(this._container,Ce)),this._register((0,D.nm)(Ce,D.tw.KEY_DOWN,pe=>{var xe;const x=new X.y(pe);x.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(xe=this._defaultAction.element)===null||xe===void 0||xe.focus(),x.stopPropagation())}))}focus(_e){_e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(_e){_e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};j=$([J(2,u.d),J(3,N.lT),J(4,_.i),J(5,b.co),J(6,a.TG),J(7,O.Uy)],j);let K=class extends v.Lc{constructor(_e,Ee){super(null,_e,_e.actions.map(Ce=>({text:Ce.id===L.Z0.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":Ce.label,isDisabled:!Ce.enabled})),0,Ee,Z.BM,{ariaLabel:_e.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,_e.actions.findIndex(Ce=>Ce.checked)))}render(_e){super.render(_e),_e.style.borderColor=(0,G.n_1)(G.a9O)}runAction(_e,Ee){const Ce=this.action.actions[Ee];Ce&&this.actionRunner.run(Ce)}};K=$([J(1,_.u)],K);function ie(ce,_e,Ee){return _e instanceof b.U8?ce.createInstance(H,_e,Ee):_e instanceof b.NZ?_e.item.isSelection?ce.createInstance(K,_e):_e.item.rememberDefaultAction?ce.createInstance(j,_e,sn(Di({},Ee),{persistLastActionId:!0})):ce.createInstance(P,_e,Ee):void 0}},58399:function(Gt,ze,c){"use strict";c.d(ze,{r:function(){return J},T:function(){return $}});var D=c(97480),X=c(9470),v=c(18016),k=c(30380),L=c(66351),T=c(64423),M=c(12003),B=c(46328),y=c(83845),b=c(18493);class C extends y.JT{constructor(re,he,H={orientation:0}){super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new B.z5),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new y.SL),this.options=H,this.lookupKeybindings=typeof this.options.getKeyBinding=="function",this.toggleMenuAction=this._register(new S(()=>{var P;return(P=this.toggleMenuActionViewItem)===null||P===void 0?void 0:P.show()},H.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",re.appendChild(this.element),this.actionBar=this._register(new v.o(this.element,{orientation:H.orientation,ariaLabel:H.ariaLabel,actionRunner:H.actionRunner,allowContextMenu:H.allowContextMenu,highlightToggledItems:H.highlightToggledItems,actionViewItemProvider:(P,j)=>{var K;if(P.id===S.ID)return this.toggleMenuActionViewItem=new k.C(P,P.menuActions,he,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:M.k.asClassNameArray((K=H.moreIcon)!==null&&K!==void 0?K:T.l.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(H.actionViewItemProvider){const ie=H.actionViewItemProvider(P,j);if(ie)return ie}if(P instanceof L.wY){const ie=new k.C(P,P.actions,he,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:P.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry});return ie.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(ie),this.disposables.add(this._onDidChangeDropdownVisibility.add(ie.onDidChangeVisibility)),ie}}}))}set actionRunner(re){this.actionBar.actionRunner=re}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(re){return this.actionBar.getAction(re)}setActions(re,he){this.clear();const H=re?re.slice(0):[];this.hasSecondaryActions=!!(he&&he.length>0),this.hasSecondaryActions&&he&&(this.toggleMenuAction.menuActions=he.slice(0),H.push(this.toggleMenuAction)),H.forEach(P=>{this.actionBar.push(P,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(P)})})}getKeybindingLabel(re){var he,H,P;const j=this.lookupKeybindings?(H=(he=this.options).getKeyBinding)===null||H===void 0?void 0:H.call(he,re):void 0;return(P=j==null?void 0:j.getLabel())!==null&&P!==void 0?P:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}class S extends L.aU{constructor(re,he){he=he||b.NC("moreActions","More Actions..."),super(S.ID,he,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=re}run(){return At(this,null,function*(){this.toggleDropdownMenu()})}get menuActions(){return this._menuActions}set menuActions(re){this._menuActions=re}}S.ID="toolbar.toggle.more";var _=c(54888),a=c(55263),u=c(35541),N=c(54362),O=c(34794),R=c(61008),V=c(81002),F=c(16288),Y=c(30966),G=c(53174),Z=function(se,re,he,H){var P=arguments.length,j=P<3?re:H===null?H=Object.getOwnPropertyDescriptor(re,he):H,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(se,re,he,H);else for(var ie=se.length-1;ie>=0;ie--)(K=se[ie])&&(j=(P<3?K(j):P>3?K(re,he,j):K(re,he))||j);return P>3&&j&&Object.defineProperty(re,he,j),j},ne=function(se,re){return function(he,H){re(he,H,se)}};let $=class extends C{constructor(re,he,H,P,j,K,ie){super(re,j,sn(Di({getKeyBinding:_e=>{var Ee;return(Ee=K.lookupKeybinding(_e.id))!==null&&Ee!==void 0?Ee:void 0}},he),{allowContextMenu:!0,skipTelemetry:typeof(he==null?void 0:he.telemetrySource)=="string"})),this._options=he,this._menuService=H,this._contextKeyService=P,this._contextMenuService=j,this._sessionDisposables=this._store.add(new y.SL);const ce=he==null?void 0:he.telemetrySource;ce&&this._store.add(this.actionBar.onDidRun(_e=>ie.publicLog2("workbenchActionExecuted",{id:_e.action.id,from:ce})))}setActions(re,he=[],H){var P,j,K;this._sessionDisposables.clear();const ie=re.slice(),ce=he.slice(),_e=[];let Ee=0;const Ce=[];let pe=!1;if(((P=this._options)===null||P===void 0?void 0:P.hiddenItemStrategy)!==-1)for(let xe=0;xe<ie.length;xe++){const x=ie[xe];!(x instanceof R.U8)&&!(x instanceof R.NZ)||x.hideActions&&(_e.push(x.hideActions.toggle),x.hideActions.toggle.checked&&Ee++,x.hideActions.isHidden&&(pe=!0,ie[xe]=void 0,((j=this._options)===null||j===void 0?void 0:j.hiddenItemStrategy)!==0&&(Ce[xe]=x)))}if(((K=this._options)===null||K===void 0?void 0:K.overflowBehavior)!==void 0){const xe=(0,a.j)(new Set(this._options.overflowBehavior.exempted),N.$.map(ie,Xe=>Xe==null?void 0:Xe.id)),x=this._options.overflowBehavior.maxItems-xe.size;let rt=0;for(let Xe=0;Xe<ie.length;Xe++){const Ze=ie[Xe];Ze&&(rt++,!xe.has(Ze.id)&&rt>=x&&(ie[Xe]=void 0,Ce[Xe]=Ze))}}(0,_.Rs)(ie),(0,_.Rs)(Ce),super.setActions(ie,L.Z0.join(Ce,ce)),_e.length>0&&this._sessionDisposables.add((0,D.nm)(this.getElement(),"contextmenu",xe=>{var x,rt,Xe,Ze,lt;const ut=new X.n((0,D.Jj)(this.getElement()),xe),ct=this.getItemAction(ut.target);if(!ct)return;ut.preventDefault(),ut.stopPropagation();let He=!1;if(Ee===1&&((x=this._options)===null||x===void 0?void 0:x.hiddenItemStrategy)===0){He=!0;for(let Re=0;Re<_e.length;Re++)if(_e[Re].checked){_e[Re]=(0,L.xw)({id:ct.id,label:ct.label,checked:!0,enabled:!1,run(){}});break}}let Dt;if(!He&&(ct instanceof R.U8||ct instanceof R.NZ)){if(!ct.hideActions)return;Dt=ct.hideActions.hide}else Dt=(0,L.xw)({id:"label",label:(0,b.NC)("hide","Hide"),enabled:!1,run(){}});const gt=L.Z0.join([Dt],_e);!((rt=this._options)===null||rt===void 0)&&rt.resetMenu&&!H&&(H=[this._options.resetMenu]),pe&&H&&(gt.push(new L.Z0),gt.push((0,L.xw)({id:"resetThisMenu",label:(0,b.NC)("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(H)}))),this._contextMenuService.showContextMenu({getAnchor:()=>ut,getActions:()=>gt,menuId:(Xe=this._options)===null||Xe===void 0?void 0:Xe.contextMenu,menuActionOptions:Di({renderShortTitle:!0},(Ze=this._options)===null||Ze===void 0?void 0:Ze.menuOptions),skipTelemetry:typeof((lt=this._options)===null||lt===void 0?void 0:lt.telemetrySource)=="string",contextKeyService:this._contextKeyService})}))}};$=Z([ne(2,R.co),ne(3,V.i6),ne(4,F.i),ne(5,Y.d),ne(6,G.b)],$);let J=class extends ${constructor(re,he,H,P,j,K,ie,ce){super(re,Di({resetMenu:he},H),P,j,K,ie,ce),this._onDidChangeMenuItems=this._store.add(new B.Q5);const _e=this._store.add(P.createMenu(he,j,{emitEventsForSubmenuChanges:!0})),Ee=()=>{var Ce,pe,xe;const x=[],rt=[];(0,O.vr)(_e,H==null?void 0:H.menuOptions,{primary:x,secondary:rt},(Ce=H==null?void 0:H.toolbarOptions)===null||Ce===void 0?void 0:Ce.primaryGroup,(pe=H==null?void 0:H.toolbarOptions)===null||pe===void 0?void 0:pe.shouldInlineSubmenu,(xe=H==null?void 0:H.toolbarOptions)===null||xe===void 0?void 0:xe.useSeparatorsInPrimaryActions),re.classList.toggle("has-no-actions",x.length===0&&rt.length===0),super.setActions(x,rt)};this._store.add(_e.onDidChange(()=>{Ee(),this._onDidChangeMenuItems.fire(this)})),Ee()}setActions(){throw new u.he("This toolbar is populated from a menu.")}};J=Z([ne(3,R.co),ne(4,V.i6),ne(5,F.i),ne(6,Y.d),ne(7,G.b)],J)},61008:function(Gt,ze,c){"use strict";c.d(ze,{BH:function(){return R},Ke:function(){return Y},NZ:function(){return V},U8:function(){return F},co:function(){return N},eH:function(){return u},f6:function(){return a},r1:function(){return G},vr:function(){return _}});var D=c(66351),X=c(12003),v=c(46328),k=c(83845),L=c(29882),T=c(50544),M=c(81002),B=c(99068),y=c(26586),b=function(Z,ne,$,J){var se=arguments.length,re=se<3?ne:J===null?J=Object.getOwnPropertyDescriptor(ne,$):J,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(Z,ne,$,J);else for(var H=Z.length-1;H>=0;H--)(he=Z[H])&&(re=(se<3?he(re):se>3?he(ne,$,re):he(ne,$))||re);return se>3&&re&&Object.defineProperty(ne,$,re),re},C=function(Z,ne){return function($,J){ne($,J,Z)}},S;function _(Z){return Z.command!==void 0}function a(Z){return Z.submenu!==void 0}class u{constructor(ne){if(u._instances.has(ne))throw new TypeError(`MenuId with identifier '${ne}' already exists. Use MenuId.for(ident) or a unique identifier`);u._instances.set(ne,this),this.id=ne}}u._instances=new Map,u.CommandPalette=new u("CommandPalette"),u.DebugBreakpointsContext=new u("DebugBreakpointsContext"),u.DebugCallStackContext=new u("DebugCallStackContext"),u.DebugConsoleContext=new u("DebugConsoleContext"),u.DebugVariablesContext=new u("DebugVariablesContext"),u.DebugWatchContext=new u("DebugWatchContext"),u.DebugToolBar=new u("DebugToolBar"),u.DebugToolBarStop=new u("DebugToolBarStop"),u.EditorContext=new u("EditorContext"),u.SimpleEditorContext=new u("SimpleEditorContext"),u.EditorContent=new u("EditorContent"),u.EditorLineNumberContext=new u("EditorLineNumberContext"),u.EditorContextCopy=new u("EditorContextCopy"),u.EditorContextPeek=new u("EditorContextPeek"),u.EditorContextShare=new u("EditorContextShare"),u.EditorTitle=new u("EditorTitle"),u.EditorTitleRun=new u("EditorTitleRun"),u.EditorTitleContext=new u("EditorTitleContext"),u.EditorTitleContextShare=new u("EditorTitleContextShare"),u.EmptyEditorGroup=new u("EmptyEditorGroup"),u.EmptyEditorGroupContext=new u("EmptyEditorGroupContext"),u.EditorTabsBarContext=new u("EditorTabsBarContext"),u.EditorTabsBarShowTabsSubmenu=new u("EditorTabsBarShowTabsSubmenu"),u.EditorActionsPositionSubmenu=new u("EditorActionsPositionSubmenu"),u.ExplorerContext=new u("ExplorerContext"),u.ExplorerContextShare=new u("ExplorerContextShare"),u.ExtensionContext=new u("ExtensionContext"),u.GlobalActivity=new u("GlobalActivity"),u.CommandCenter=new u("CommandCenter"),u.CommandCenterCenter=new u("CommandCenterCenter"),u.LayoutControlMenuSubmenu=new u("LayoutControlMenuSubmenu"),u.LayoutControlMenu=new u("LayoutControlMenu"),u.MenubarMainMenu=new u("MenubarMainMenu"),u.MenubarAppearanceMenu=new u("MenubarAppearanceMenu"),u.MenubarDebugMenu=new u("MenubarDebugMenu"),u.MenubarEditMenu=new u("MenubarEditMenu"),u.MenubarCopy=new u("MenubarCopy"),u.MenubarFileMenu=new u("MenubarFileMenu"),u.MenubarGoMenu=new u("MenubarGoMenu"),u.MenubarHelpMenu=new u("MenubarHelpMenu"),u.MenubarLayoutMenu=new u("MenubarLayoutMenu"),u.MenubarNewBreakpointMenu=new u("MenubarNewBreakpointMenu"),u.PanelAlignmentMenu=new u("PanelAlignmentMenu"),u.PanelPositionMenu=new u("PanelPositionMenu"),u.ActivityBarPositionMenu=new u("ActivityBarPositionMenu"),u.MenubarPreferencesMenu=new u("MenubarPreferencesMenu"),u.MenubarRecentMenu=new u("MenubarRecentMenu"),u.MenubarSelectionMenu=new u("MenubarSelectionMenu"),u.MenubarShare=new u("MenubarShare"),u.MenubarSwitchEditorMenu=new u("MenubarSwitchEditorMenu"),u.MenubarSwitchGroupMenu=new u("MenubarSwitchGroupMenu"),u.MenubarTerminalMenu=new u("MenubarTerminalMenu"),u.MenubarViewMenu=new u("MenubarViewMenu"),u.MenubarHomeMenu=new u("MenubarHomeMenu"),u.OpenEditorsContext=new u("OpenEditorsContext"),u.OpenEditorsContextShare=new u("OpenEditorsContextShare"),u.ProblemsPanelContext=new u("ProblemsPanelContext"),u.SCMInputBox=new u("SCMInputBox"),u.SCMHistoryItem=new u("SCMHistoryItem"),u.SCMChangeContext=new u("SCMChangeContext"),u.SCMResourceContext=new u("SCMResourceContext"),u.SCMResourceContextShare=new u("SCMResourceContextShare"),u.SCMResourceFolderContext=new u("SCMResourceFolderContext"),u.SCMResourceGroupContext=new u("SCMResourceGroupContext"),u.SCMSourceControl=new u("SCMSourceControl"),u.SCMTitle=new u("SCMTitle"),u.SearchContext=new u("SearchContext"),u.SearchActionMenu=new u("SearchActionContext"),u.StatusBarWindowIndicatorMenu=new u("StatusBarWindowIndicatorMenu"),u.StatusBarRemoteIndicatorMenu=new u("StatusBarRemoteIndicatorMenu"),u.StickyScrollContext=new u("StickyScrollContext"),u.TestItem=new u("TestItem"),u.TestItemGutter=new u("TestItemGutter"),u.TestMessageContext=new u("TestMessageContext"),u.TestMessageContent=new u("TestMessageContent"),u.TestPeekElement=new u("TestPeekElement"),u.TestPeekTitle=new u("TestPeekTitle"),u.TouchBarContext=new u("TouchBarContext"),u.TitleBarContext=new u("TitleBarContext"),u.TitleBarTitleContext=new u("TitleBarTitleContext"),u.TunnelContext=new u("TunnelContext"),u.TunnelPrivacy=new u("TunnelPrivacy"),u.TunnelProtocol=new u("TunnelProtocol"),u.TunnelPortInline=new u("TunnelInline"),u.TunnelTitle=new u("TunnelTitle"),u.TunnelLocalAddressInline=new u("TunnelLocalAddressInline"),u.TunnelOriginInline=new u("TunnelOriginInline"),u.ViewItemContext=new u("ViewItemContext"),u.ViewContainerTitle=new u("ViewContainerTitle"),u.ViewContainerTitleContext=new u("ViewContainerTitleContext"),u.ViewTitle=new u("ViewTitle"),u.ViewTitleContext=new u("ViewTitleContext"),u.CommentEditorActions=new u("CommentEditorActions"),u.CommentThreadTitle=new u("CommentThreadTitle"),u.CommentThreadActions=new u("CommentThreadActions"),u.CommentThreadAdditionalActions=new u("CommentThreadAdditionalActions"),u.CommentThreadTitleContext=new u("CommentThreadTitleContext"),u.CommentThreadCommentContext=new u("CommentThreadCommentContext"),u.CommentTitle=new u("CommentTitle"),u.CommentActions=new u("CommentActions"),u.InteractiveToolbar=new u("InteractiveToolbar"),u.InteractiveCellTitle=new u("InteractiveCellTitle"),u.InteractiveCellDelete=new u("InteractiveCellDelete"),u.InteractiveCellExecute=new u("InteractiveCellExecute"),u.InteractiveInputExecute=new u("InteractiveInputExecute"),u.NotebookToolbar=new u("NotebookToolbar"),u.NotebookStickyScrollContext=new u("NotebookStickyScrollContext"),u.NotebookCellTitle=new u("NotebookCellTitle"),u.NotebookCellDelete=new u("NotebookCellDelete"),u.NotebookCellInsert=new u("NotebookCellInsert"),u.NotebookCellBetween=new u("NotebookCellBetween"),u.NotebookCellListTop=new u("NotebookCellTop"),u.NotebookCellExecute=new u("NotebookCellExecute"),u.NotebookCellExecutePrimary=new u("NotebookCellExecutePrimary"),u.NotebookDiffCellInputTitle=new u("NotebookDiffCellInputTitle"),u.NotebookDiffCellMetadataTitle=new u("NotebookDiffCellMetadataTitle"),u.NotebookDiffCellOutputsTitle=new u("NotebookDiffCellOutputsTitle"),u.NotebookOutputToolbar=new u("NotebookOutputToolbar"),u.NotebookEditorLayoutConfigure=new u("NotebookEditorLayoutConfigure"),u.NotebookKernelSource=new u("NotebookKernelSource"),u.BulkEditTitle=new u("BulkEditTitle"),u.BulkEditContext=new u("BulkEditContext"),u.TimelineItemContext=new u("TimelineItemContext"),u.TimelineTitle=new u("TimelineTitle"),u.TimelineTitleContext=new u("TimelineTitleContext"),u.TimelineFilterSubMenu=new u("TimelineFilterSubMenu"),u.AccountsContext=new u("AccountsContext"),u.SidebarTitle=new u("SidebarTitle"),u.PanelTitle=new u("PanelTitle"),u.AuxiliaryBarTitle=new u("AuxiliaryBarTitle"),u.TerminalInstanceContext=new u("TerminalInstanceContext"),u.TerminalEditorInstanceContext=new u("TerminalEditorInstanceContext"),u.TerminalNewDropdownContext=new u("TerminalNewDropdownContext"),u.TerminalTabContext=new u("TerminalTabContext"),u.TerminalTabEmptyAreaContext=new u("TerminalTabEmptyAreaContext"),u.TerminalStickyScrollContext=new u("TerminalStickyScrollContext"),u.WebviewContext=new u("WebviewContext"),u.InlineCompletionsActions=new u("InlineCompletionsActions"),u.NewFile=new u("NewFile"),u.MergeInput1Toolbar=new u("MergeToolbar1Toolbar"),u.MergeInput2Toolbar=new u("MergeToolbar2Toolbar"),u.MergeBaseToolbar=new u("MergeBaseToolbar"),u.MergeInputResultToolbar=new u("MergeToolbarResultToolbar"),u.InlineSuggestionToolbar=new u("InlineSuggestionToolbar"),u.ChatContext=new u("ChatContext"),u.ChatCodeBlock=new u("ChatCodeblock"),u.ChatMessageTitle=new u("ChatMessageTitle"),u.ChatExecute=new u("ChatExecute"),u.ChatInputSide=new u("ChatInputSide"),u.AccessibleView=new u("AccessibleView"),u.MultiDiffEditorFileToolbar=new u("MultiDiffEditorFileToolbar");const N=(0,B.yh)("menuService");class O{static for(ne){let $=this._all.get(ne);return $||($=new O(ne),this._all.set(ne,$)),$}static merge(ne){const $=new Set;for(const J of ne)J instanceof O&&$.add(J.id);return $}constructor(ne){this.id=ne,this.has=$=>$===ne}}O._all=new Map;const R=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new v.SZ({merge:O.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(Z){return this._commands.set(Z.id,Z),this._onDidChangeMenu.fire(O.for(u.CommandPalette)),(0,k.OF)(()=>{this._commands.delete(Z.id)&&this._onDidChangeMenu.fire(O.for(u.CommandPalette))})}getCommand(Z){return this._commands.get(Z)}getCommands(){const Z=new Map;return this._commands.forEach((ne,$)=>Z.set($,ne)),Z}appendMenuItem(Z,ne){let $=this._menuItems.get(Z);$||($=new L.S,this._menuItems.set(Z,$));const J=$.push(ne);return this._onDidChangeMenu.fire(O.for(Z)),(0,k.OF)(()=>{J(),this._onDidChangeMenu.fire(O.for(Z))})}appendMenuItems(Z){const ne=new k.SL;for(const{id:$,item:J}of Z)ne.add(this.appendMenuItem($,J));return ne}getMenuItems(Z){let ne;return this._menuItems.has(Z)?ne=[...this._menuItems.get(Z)]:ne=[],Z===u.CommandPalette&&this._appendImplicitItems(ne),ne}_appendImplicitItems(Z){const ne=new Set;for(const $ of Z)_($)&&(ne.add($.command.id),$.alt&&ne.add($.alt.id));this._commands.forEach(($,J)=>{ne.has(J)||Z.push({command:$})})}};class V extends D.wY{constructor(ne,$,J){super(`submenuitem.${ne.submenu.id}`,typeof ne.title=="string"?ne.title:ne.title.value,J,"submenu"),this.item=ne,this.hideActions=$}}let F=S=class{static label(ne,$){return $!=null&&$.renderShortTitle&&ne.shortTitle?typeof ne.shortTitle=="string"?ne.shortTitle:ne.shortTitle.value:typeof ne.title=="string"?ne.title:ne.title.value}constructor(ne,$,J,se,re,he){var H,P;this.hideActions=se,this._commandService=he,this.id=ne.id,this.label=S.label(ne,J),this.tooltip=(P=typeof ne.tooltip=="string"?ne.tooltip:(H=ne.tooltip)===null||H===void 0?void 0:H.value)!==null&&P!==void 0?P:"",this.enabled=!ne.precondition||re.contextMatchesRules(ne.precondition),this.checked=void 0;let j;if(ne.toggled){const K=ne.toggled.condition?ne.toggled:{condition:ne.toggled};this.checked=re.contextMatchesRules(K.condition),this.checked&&K.tooltip&&(this.tooltip=typeof K.tooltip=="string"?K.tooltip:K.tooltip.value),this.checked&&X.k.isThemeIcon(K.icon)&&(j=K.icon),this.checked&&K.title&&(this.label=typeof K.title=="string"?K.title:K.title.value)}j||(j=X.k.isThemeIcon(ne.icon)?ne.icon:void 0),this.item=ne,this.alt=$?new S($,void 0,J,se,re,he):void 0,this._options=J,this.class=j&&X.k.asClassName(j)}run(...ne){var $,J;let se=[];return!(($=this._options)===null||$===void 0)&&$.arg&&(se=[...se,this._options.arg]),!((J=this._options)===null||J===void 0)&&J.shouldForwardArgs&&(se=[...se,...ne]),this._commandService.executeCommand(this.id,...se)}};F=S=b([C(4,M.i6),C(5,T.H)],F);class Y{constructor(ne){this.desc=ne}}function G(Z){const ne=new k.SL,$=new Z,H=$.desc,{f1:J,menu:se,keybinding:re}=H,he=G0(H,["f1","menu","keybinding"]);if(ne.add(T.P.registerCommand({id:he.id,handler:(P,...j)=>$.run(P,...j),metadata:he.metadata})),Array.isArray(se))for(const P of se)ne.add(R.appendMenuItem(P.id,Di({command:sn(Di({},he),{precondition:P.precondition===null?void 0:he.precondition})},P)));else se&&ne.add(R.appendMenuItem(se.id,Di({command:sn(Di({},he),{precondition:se.precondition===null?void 0:he.precondition})},se)));if(J&&(ne.add(R.appendMenuItem(u.CommandPalette,{command:he,when:he.precondition})),ne.add(R.addCommand(he))),Array.isArray(re))for(const P of re)ne.add(y.W.registerKeybindingRule(sn(Di({},P),{id:he.id,when:he.precondition?M.Ao.and(he.precondition,P.when):P.when})));else re&&ne.add(y.W.registerKeybindingRule(sn(Di({},re),{id:he.id,when:he.precondition?M.Ao.and(he.precondition,re.when):re.when})));return ne}},22784:function(Gt,ze,c){"use strict";c.d(ze,{e7:function(){return v},y$:function(){return T}});var D=c(99068),X=c(18493);const v=(0,D.yh)("audioCue");class k{static register(B){return new k(B.fileName)}constructor(B){this.fileName=B}}k.error=k.register({fileName:"error.mp3"}),k.warning=k.register({fileName:"warning.mp3"}),k.foldedArea=k.register({fileName:"foldedAreas.mp3"}),k.break=k.register({fileName:"break.mp3"}),k.quickFixes=k.register({fileName:"quickFixes.mp3"}),k.taskCompleted=k.register({fileName:"taskCompleted.mp3"}),k.taskFailed=k.register({fileName:"taskFailed.mp3"}),k.terminalBell=k.register({fileName:"terminalBell.mp3"}),k.diffLineInserted=k.register({fileName:"diffLineInserted.mp3"}),k.diffLineDeleted=k.register({fileName:"diffLineDeleted.mp3"}),k.diffLineModified=k.register({fileName:"diffLineModified.mp3"}),k.chatRequestSent=k.register({fileName:"chatRequestSent.mp3"}),k.chatResponsePending=k.register({fileName:"chatResponsePending.mp3"}),k.chatResponseReceived1=k.register({fileName:"chatResponseReceived1.mp3"}),k.chatResponseReceived2=k.register({fileName:"chatResponseReceived2.mp3"}),k.chatResponseReceived3=k.register({fileName:"chatResponseReceived3.mp3"}),k.chatResponseReceived4=k.register({fileName:"chatResponseReceived4.mp3"}),k.clear=k.register({fileName:"clear.mp3"}),k.save=k.register({fileName:"save.mp3"}),k.format=k.register({fileName:"format.mp3"});class L{constructor(B){this.randomOneOf=B}}class T{static register(B){const y=new L("randomOneOf"in B.sound?B.sound.randomOneOf:[B.sound]),b=new T(y,B.name,B.settingsKey);return T._audioCues.add(b),b}constructor(B,y,b){this.sound=B,this.name=y,this.settingsKey=b}}T._audioCues=new Set,T.error=T.register({name:(0,X.NC)("audioCues.lineHasError.name","Error on Line"),sound:k.error,settingsKey:"audioCues.lineHasError"}),T.warning=T.register({name:(0,X.NC)("audioCues.lineHasWarning.name","Warning on Line"),sound:k.warning,settingsKey:"audioCues.lineHasWarning"}),T.foldedArea=T.register({name:(0,X.NC)("audioCues.lineHasFoldedArea.name","Folded Area on Line"),sound:k.foldedArea,settingsKey:"audioCues.lineHasFoldedArea"}),T.break=T.register({name:(0,X.NC)("audioCues.lineHasBreakpoint.name","Breakpoint on Line"),sound:k.break,settingsKey:"audioCues.lineHasBreakpoint"}),T.inlineSuggestion=T.register({name:(0,X.NC)("audioCues.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:k.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"}),T.terminalQuickFix=T.register({name:(0,X.NC)("audioCues.terminalQuickFix.name","Terminal Quick Fix"),sound:k.quickFixes,settingsKey:"audioCues.terminalQuickFix"}),T.onDebugBreak=T.register({name:(0,X.NC)("audioCues.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:k.break,settingsKey:"audioCues.onDebugBreak"}),T.noInlayHints=T.register({name:(0,X.NC)("audioCues.noInlayHints","No Inlay Hints on Line"),sound:k.error,settingsKey:"audioCues.noInlayHints"}),T.taskCompleted=T.register({name:(0,X.NC)("audioCues.taskCompleted","Task Completed"),sound:k.taskCompleted,settingsKey:"audioCues.taskCompleted"}),T.taskFailed=T.register({name:(0,X.NC)("audioCues.taskFailed","Task Failed"),sound:k.taskFailed,settingsKey:"audioCues.taskFailed"}),T.terminalCommandFailed=T.register({name:(0,X.NC)("audioCues.terminalCommandFailed","Terminal Command Failed"),sound:k.error,settingsKey:"audioCues.terminalCommandFailed"}),T.terminalBell=T.register({name:(0,X.NC)("audioCues.terminalBell","Terminal Bell"),sound:k.terminalBell,settingsKey:"audioCues.terminalBell"}),T.notebookCellCompleted=T.register({name:(0,X.NC)("audioCues.notebookCellCompleted","Notebook Cell Completed"),sound:k.taskCompleted,settingsKey:"audioCues.notebookCellCompleted"}),T.notebookCellFailed=T.register({name:(0,X.NC)("audioCues.notebookCellFailed","Notebook Cell Failed"),sound:k.taskFailed,settingsKey:"audioCues.notebookCellFailed"}),T.diffLineInserted=T.register({name:(0,X.NC)("audioCues.diffLineInserted","Diff Line Inserted"),sound:k.diffLineInserted,settingsKey:"audioCues.diffLineInserted"}),T.diffLineDeleted=T.register({name:(0,X.NC)("audioCues.diffLineDeleted","Diff Line Deleted"),sound:k.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"}),T.diffLineModified=T.register({name:(0,X.NC)("audioCues.diffLineModified","Diff Line Modified"),sound:k.diffLineModified,settingsKey:"audioCues.diffLineModified"}),T.chatRequestSent=T.register({name:(0,X.NC)("audioCues.chatRequestSent","Chat Request Sent"),sound:k.chatRequestSent,settingsKey:"audioCues.chatRequestSent"}),T.chatResponseReceived=T.register({name:(0,X.NC)("audioCues.chatResponseReceived","Chat Response Received"),settingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[k.chatResponseReceived1,k.chatResponseReceived2,k.chatResponseReceived3,k.chatResponseReceived4]}}),T.chatResponsePending=T.register({name:(0,X.NC)("audioCues.chatResponsePending","Chat Response Pending"),sound:k.chatResponsePending,settingsKey:"audioCues.chatResponsePending"}),T.clear=T.register({name:(0,X.NC)("audioCues.clear","Clear"),sound:k.clear,settingsKey:"audioCues.clear"}),T.save=T.register({name:(0,X.NC)("audioCues.save","Save"),sound:k.save,settingsKey:"audioCues.save"}),T.format=T.register({name:(0,X.NC)("audioCues.format","Format"),sound:k.format,settingsKey:"audioCues.format"})},22336:function(Gt,ze,c){"use strict";c.d(ze,{p:function(){return X}});var D=c(99068);const X=(0,D.yh)("clipboardService")},50544:function(Gt,ze,c){"use strict";c.d(ze,{H:function(){return M},P:function(){return B}});var D=c(46328),X=c(54362),v=c(83845),k=c(29882),L=c(22968),T=c(99068);const M=(0,T.yh)("commandService"),B=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new D.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(y,b){if(!y)throw new Error("invalid command");if(typeof y=="string"){if(!b)throw new Error("invalid command");return this.registerCommand({id:y,handler:b})}if(y.metadata&&Array.isArray(y.metadata.args)){const u=[];for(const O of y.metadata.args)u.push(O.constraint);const N=y.handler;y.handler=function(O,...R){return(0,L.D8)(R,u),N(O,...R)}}const{id:C}=y;let S=this._commands.get(C);S||(S=new k.S,this._commands.set(C,S));const _=S.unshift(y),a=(0,v.OF)(()=>{_();const u=this._commands.get(C);u!=null&&u.isEmpty()&&this._commands.delete(C)});return this._onDidRegisterCommand.fire(C),a}registerCommandAlias(y,b){return B.registerCommand(y,(C,...S)=>C.get(M).executeCommand(b,...S))}getCommand(y){const b=this._commands.get(y);if(!(!b||b.isEmpty()))return X.$.first(b)}getCommands(){const y=new Map;for(const b of this._commands.keys()){const C=this.getCommand(b);C&&y.set(b,C)}return y}};B.registerCommand("noop",()=>{})},76681:function(Gt,ze,c){"use strict";c.d(ze,{KV:function(){return k},Mt:function(){return M},Od:function(){return v},UI:function(){return B},Ui:function(){return X},xL:function(){return L}});var D=c(99068);const X=(0,D.yh)("configurationService");function v(y,b){const C=Object.create(null);for(const S in y)k(C,S,y[S],b);return C}function k(y,b,C,S){const _=b.split("."),a=_.pop();let u=y;for(let N=0;N<_.length;N++){const O=_[N];let R=u[O];switch(typeof R){case"undefined":R=u[O]=Object.create(null);break;case"object":break;default:S(`Ignoring ${b} as ${_.slice(0,N+1).join(".")} is ${JSON.stringify(R)}`);return}u=R}if(typeof u=="object"&&u!==null)try{u[a]=C}catch(N){S(`Ignoring ${b} as ${_.join(".")} is ${JSON.stringify(u)}`)}else S(`Ignoring ${b} as ${_.join(".")} is ${JSON.stringify(u)}`)}function L(y,b){const C=b.split(".");T(y,C)}function T(y,b){const C=b.shift();if(b.length===0){delete y[C];return}if(Object.keys(y).indexOf(C)!==-1){const S=y[C];typeof S=="object"&&!Array.isArray(S)&&(T(S,b),Object.keys(S).length===0&&delete y[C])}}function M(y,b,C){function S(u,N){let O=u;for(const R of N){if(typeof O!="object"||O===null)return;O=O[R]}return O}const _=b.split("."),a=S(y,_);return typeof a=="undefined"?C:a}function B(y){return y.replace(/[\[\]]/g,"")}},43211:function(Gt,ze,c){"use strict";c.d(ze,{IP:function(){return B},eU:function(){return Y},ny:function(){return G}});var D=c(54888),X=c(46328),v=c(22968),k=c(18493),L=c(76681),T=c(45449),M=c(93796);const B={Configuration:"base.contributions.configuration"},y={properties:{},patternProperties:{}},b={properties:{},patternProperties:{}},C={properties:{},patternProperties:{}},S={properties:{},patternProperties:{}},_={properties:{},patternProperties:{}},a={properties:{},patternProperties:{}},u="vscode://schemas/settings/resourceLanguage",N=M.B.as(T.I.JSONContribution);class O{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new X.Q5,this._onDidUpdateConfiguration=new X.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:k.NC("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},N.registerSchema(u,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(se,re=!0){this.registerConfigurations([se],re)}registerConfigurations(se,re=!0){const he=new Set;this.doRegisterConfigurations(se,re,he),N.registerSchema(u,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:he})}registerDefaultConfigurations(se){const re=new Set;this.doRegisterDefaultConfigurations(se,re),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:re,defaultsOverrides:!0})}doRegisterDefaultConfigurations(se,re){var he;const H=[];for(const{overrides:P,source:j}of se)for(const K in P)if(re.add(K),Y.test(K)){const ie=this.configurationDefaultsOverrides.get(K),ce=(he=ie==null?void 0:ie.valuesSources)!==null&&he!==void 0?he:new Map;if(j)for(const pe of Object.keys(P[K]))ce.set(pe,j);const _e=Di(Di({},(ie==null?void 0:ie.value)||{}),P[K]);this.configurationDefaultsOverrides.set(K,{source:j,value:_e,valuesSources:ce});const Ee=(0,L.UI)(K),Ce={type:"object",default:_e,description:k.NC("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",Ee),$ref:u,defaultDefaultValue:_e,source:v.HD(j)?void 0:j,defaultValueSource:j};H.push(...G(K)),this.configurationProperties[K]=Ce,this.defaultLanguageConfigurationOverridesNode.properties[K]=Ce}else{this.configurationDefaultsOverrides.set(K,{value:P[K],source:j});const ie=this.configurationProperties[K];ie&&(this.updatePropertyDefaultValue(K,ie),this.updateSchema(K,ie))}this.doRegisterOverrideIdentifiers(H)}registerOverrideIdentifiers(se){this.doRegisterOverrideIdentifiers(se),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(se){for(const re of se)this.overrideIdentifiers.add(re);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(se,re,he){se.forEach(H=>{this.validateAndRegisterProperties(H,re,H.extensionInfo,H.restrictedProperties,void 0,he),this.configurationContributors.push(H),this.registerJSONConfiguration(H)})}validateAndRegisterProperties(se,re=!0,he,H,P=3,j){var K;P=v.Jp(se.scope)?P:se.scope;const ie=se.properties;if(ie)for(const _e in ie){const Ee=ie[_e];if(re&&$(_e,Ee)){delete ie[_e];continue}if(Ee.source=he,Ee.defaultDefaultValue=ie[_e].default,this.updatePropertyDefaultValue(_e,Ee),Y.test(_e)?Ee.scope=void 0:(Ee.scope=v.Jp(Ee.scope)?P:Ee.scope,Ee.restricted=v.Jp(Ee.restricted)?!!(H!=null&&H.includes(_e)):Ee.restricted),ie[_e].hasOwnProperty("included")&&!ie[_e].included){this.excludedConfigurationProperties[_e]=ie[_e],delete ie[_e];continue}else this.configurationProperties[_e]=ie[_e],!((K=ie[_e].policy)===null||K===void 0)&&K.name&&this.policyConfigurations.set(ie[_e].policy.name,_e);!ie[_e].deprecationMessage&&ie[_e].markdownDeprecationMessage&&(ie[_e].deprecationMessage=ie[_e].markdownDeprecationMessage),j.add(_e)}const ce=se.allOf;if(ce)for(const _e of ce)this.validateAndRegisterProperties(_e,re,he,H,P,j)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(se){const re=he=>{const H=he.properties;if(H)for(const j in H)this.updateSchema(j,H[j]);const P=he.allOf;P==null||P.forEach(re)};re(se)}updateSchema(se,re){switch(y.properties[se]=re,re.scope){case 1:b.properties[se]=re;break;case 2:C.properties[se]=re;break;case 6:S.properties[se]=re;break;case 3:_.properties[se]=re;break;case 4:a.properties[se]=re;break;case 5:a.properties[se]=re,this.resourceLanguageSettingsSchema.properties[se]=re;break}}updateOverridePropertyPatternKey(){for(const se of this.overrideIdentifiers.values()){const re=`[${se}]`,he={type:"object",description:k.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:k.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:u};this.updatePropertyDefaultValue(re,he),y.properties[re]=he,b.properties[re]=he,C.properties[re]=he,S.properties[re]=he,_.properties[re]=he,a.properties[re]=he}}registerOverridePropertyPatternKey(){const se={type:"object",description:k.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:k.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:u};y.patternProperties[F]=se,b.patternProperties[F]=se,C.patternProperties[F]=se,S.patternProperties[F]=se,_.patternProperties[F]=se,a.patternProperties[F]=se,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(se,re){const he=this.configurationDefaultsOverrides.get(se);let H=he==null?void 0:he.value,P=he==null?void 0:he.source;v.o8(H)&&(H=re.defaultDefaultValue,P=void 0),v.o8(H)&&(H=Z(re.type)),re.default=H,re.defaultValueSource=P}}const R="\\[([^\\]]+)\\]",V=new RegExp(R,"g"),F=`^(${R})+$`,Y=new RegExp(F);function G(J){const se=[];if(Y.test(J)){let re=V.exec(J);for(;re!=null&&re.length;){const he=re[1].trim();he&&se.push(he),re=V.exec(J)}}return(0,D.EB)(se)}function Z(J){switch(Array.isArray(J)?J[0]:J){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const ne=new O;M.B.add(B.Configuration,ne);function $(J,se){var re,he,H,P;return J.trim()?Y.test(J)?k.NC("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",J):ne.getConfigurationProperties()[J]!==void 0?k.NC("config.property.duplicate","Cannot register '{0}'. This property is already registered.",J):!((re=se.policy)===null||re===void 0)&&re.name&&ne.getPolicyConfigurations().get((he=se.policy)===null||he===void 0?void 0:he.name)!==void 0?k.NC("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",J,(H=se.policy)===null||H===void 0?void 0:H.name,ne.getPolicyConfigurations().get((P=se.policy)===null||P===void 0?void 0:P.name)):null:k.NC("config.property.empty","Cannot register an empty property")}},81002:function(Gt,ze,c){"use strict";c.d(ze,{cP:function(){return re},Ao:function(){return G},i6:function(){return Ze},uy:function(){return Xe},Fb:function(){return Z},K8:function(){return ct}});var D=c(43998),X=c(80360),v=c(35541),k=c(18493);function L(...gt){switch(gt.length){case 1:return(0,k.NC)("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",gt[0]);case 2:return(0,k.NC)("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",gt[0],gt[1]);case 3:return(0,k.NC)("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",gt[0],gt[1],gt[2]);default:return}}const T=(0,k.NC)("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),M=(0,k.NC)("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");class B{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(Re){switch(Re.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return Re.isTripleEq?"===":"==";case 4:return Re.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return Re.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return Re.lexeme;case 18:return Re.lexeme;case 19:return Re.lexeme;case 20:return"EOF";default:throw(0,v.L6)(`unhandled token type: ${JSON.stringify(Re)}; have you forgotten to add a case?`)}}reset(Re){return this._input=Re,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const st=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:st})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const st=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:st})}else this._match(126)?this._addToken(9):this._error(L("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(L("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(L("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(Re){return this._isAtEnd()||this._input.charCodeAt(this._current)!==Re?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(Re){this._tokens.push({type:Re,offset:this._start})}_error(Re){const st=this._start,Tt=this._input.substring(this._start,this._current),xt={type:19,offset:this._start,lexeme:Tt};this._errors.push({offset:st,lexeme:Tt,additionalInfo:Re}),this._tokens.push(xt)}_string(){this.stringRe.lastIndex=this._start;const Re=this.stringRe.exec(this._input);if(Re){this._current=this._start+Re[0].length;const st=this._input.substring(this._start,this._current),Tt=B._keywords.get(st);Tt?this._addToken(Tt):this._tokens.push({type:17,lexeme:st,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(T);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let Re=this._current,st=!1,Tt=!1;for(;;){if(Re>=this._input.length){this._current=Re,this._error(M);return}const vt=this._input.charCodeAt(Re);if(st)st=!1;else if(vt===47&&!Tt){Re++;break}else vt===91?Tt=!0:vt===92?st=!0:vt===93&&(Tt=!1);Re++}for(;Re<this._input.length&&B._regexFlags.has(this._input.charCodeAt(Re));)Re++;this._current=Re;const xt=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:xt,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}B._regexFlags=new Set(["i","g","s","m","y","u"].map(gt=>gt.charCodeAt(0))),B._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);var y=c(99068);const b=new Map;b.set("false",!1),b.set("true",!0),b.set("isMac",D.dz),b.set("isLinux",D.IJ),b.set("isWindows",D.ED),b.set("isWeb",D.$L),b.set("isMacNative",D.dz&&!D.$L),b.set("isEdge",D.un),b.set("isFirefox",D.vU),b.set("isChrome",D.i7),b.set("isSafari",D.G6);const C=Object.prototype.hasOwnProperty,S={regexParsingWithErrorRecovery:!0},_=(0,k.NC)("contextkey.parser.error.emptyString","Empty context key expression"),a=(0,k.NC)("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),u=(0,k.NC)("contextkey.parser.error.noInAfterNot","'in' after 'not'."),N=(0,k.NC)("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),O=(0,k.NC)("contextkey.parser.error.unexpectedToken","Unexpected token"),R=(0,k.NC)("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),V=(0,k.NC)("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),F=(0,k.NC)("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");class Y{constructor(Re=S){this._config=Re,this._scanner=new B,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(Re){if(Re===""){this._parsingErrors.push({message:_,offset:0,lexeme:"",additionalInfo:a});return}this._tokens=this._scanner.reset(Re).scan(),this._current=0,this._parsingErrors=[];try{const st=this._expr();if(!this._isAtEnd()){const Tt=this._peek(),xt=Tt.type===17?R:void 0;throw this._parsingErrors.push({message:O,offset:Tt.offset,lexeme:B.getLexeme(Tt),additionalInfo:xt}),Y._parseError}return st}catch(st){if(st!==Y._parseError)throw st;return}}_expr(){return this._or()}_or(){const Re=[this._and()];for(;this._matchOne(16);){const st=this._and();Re.push(st)}return Re.length===1?Re[0]:G.or(...Re)}_and(){const Re=[this._term()];for(;this._matchOne(15);){const st=this._term();Re.push(st)}return Re.length===1?Re[0]:G.and(...Re)}_term(){if(this._matchOne(2)){const Re=this._peek();switch(Re.type){case 11:return this._advance(),$.INSTANCE;case 12:return this._advance(),J.INSTANCE;case 0:{this._advance();const st=this._expr();return this._consume(1,N),st==null?void 0:st.negate()}case 17:return this._advance(),j.create(Re.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",Re)}}return this._primary()}_primary(){const Re=this._peek();switch(Re.type){case 11:return this._advance(),G.true();case 12:return this._advance(),G.false();case 0:{this._advance();const st=this._expr();return this._consume(1,N),st}case 17:{const st=Re.lexeme;if(this._advance(),this._matchOne(9)){const xt=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),xt.type!==10)throw this._errExpectedButGot("REGEX",xt);const vt=xt.lexeme,we=vt.lastIndexOf("/"),pt=we===vt.length-1?void 0:this._removeFlagsGY(vt.substring(we+1));let Mt;try{Mt=new RegExp(vt.substring(1,we),pt)}catch(Ft){throw this._errExpectedButGot("REGEX",xt)}return Ce.create(st,Mt)}switch(xt.type){case 10:case 19:{const vt=[xt.lexeme];this._advance();let we=this._peek(),pt=0;for(let Yt=0;Yt<xt.lexeme.length;Yt++)xt.lexeme.charCodeAt(Yt)===40?pt++:xt.lexeme.charCodeAt(Yt)===41&&pt--;for(;!this._isAtEnd()&&we.type!==15&&we.type!==16;){switch(we.type){case 0:pt++;break;case 1:pt--;break;case 10:case 18:for(let Yt=0;Yt<we.lexeme.length;Yt++)we.lexeme.charCodeAt(Yt)===40?pt++:xt.lexeme.charCodeAt(Yt)===41&&pt--}if(pt<0)break;vt.push(B.getLexeme(we)),this._advance(),we=this._peek()}const Mt=vt.join(""),Ft=Mt.lastIndexOf("/"),Xt=Ft===Mt.length-1?void 0:this._removeFlagsGY(Mt.substring(Ft+1));let li;try{li=new RegExp(Mt.substring(1,Ft),Xt)}catch(Yt){throw this._errExpectedButGot("REGEX",xt)}return G.regex(st,li)}case 18:{const vt=xt.lexeme;this._advance();let we=null;if(!(0,X.m5)(vt)){const pt=vt.indexOf("/"),Mt=vt.lastIndexOf("/");if(pt!==Mt&&pt>=0){const Ft=vt.slice(pt+1,Mt),Xt=vt[Mt+1]==="i"?"i":"";try{we=new RegExp(Ft,Xt)}catch(li){throw this._errExpectedButGot("REGEX",xt)}}}if(we===null)throw this._errExpectedButGot("REGEX",xt);return Ce.create(st,we)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,u);const xt=this._value();return G.notIn(st,xt)}switch(this._peek().type){case 3:{this._advance();const xt=this._value();if(this._previous().type===18)return G.equals(st,xt);switch(xt){case"true":return G.has(st);case"false":return G.not(st);default:return G.equals(st,xt)}}case 4:{this._advance();const xt=this._value();if(this._previous().type===18)return G.notEquals(st,xt);switch(xt){case"true":return G.not(st);case"false":return G.has(st);default:return G.notEquals(st,xt)}}case 5:return this._advance(),_e.create(st,this._value());case 6:return this._advance(),Ee.create(st,this._value());case 7:return this._advance(),ie.create(st,this._value());case 8:return this._advance(),ce.create(st,this._value());case 13:return this._advance(),G.in(st,this._value());default:return G.has(st)}}case 20:throw this._parsingErrors.push({message:V,offset:Re.offset,lexeme:"",additionalInfo:F}),Y._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const Re=this._peek();switch(Re.type){case 17:case 18:return this._advance(),Re.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(Re){return Re.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(Re){return this._check(Re)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(Re,st){if(this._check(Re))return this._advance();throw this._errExpectedButGot(st,this._peek())}_errExpectedButGot(Re,st,Tt){const xt=(0,k.NC)("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,Re,B.getLexeme(st)),vt=st.offset,we=B.getLexeme(st);return this._parsingErrors.push({message:xt,offset:vt,lexeme:we,additionalInfo:Tt}),Y._parseError}_check(Re){return this._peek().type===Re}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}Y._parseError=new Error;class G{static false(){return $.INSTANCE}static true(){return J.INSTANCE}static has(Re){return se.create(Re)}static equals(Re,st){return re.create(Re,st)}static notEquals(Re,st){return P.create(Re,st)}static regex(Re,st){return Ce.create(Re,st)}static in(Re,st){return he.create(Re,st)}static notIn(Re,st){return H.create(Re,st)}static not(Re){return j.create(Re)}static and(...Re){return x.create(Re,null,!0)}static or(...Re){return rt.create(Re,null,!0)}static deserialize(Re){return Re==null?void 0:this._parser.parse(Re)}}G._parser=new Y({regexParsingWithErrorRecovery:!1});function Z(gt,Re){const st=gt?gt.substituteConstants():void 0,Tt=Re?Re.substituteConstants():void 0;return!st&&!Tt?!0:!st||!Tt?!1:st.equals(Tt)}function ne(gt,Re){return gt.cmp(Re)}class ${constructor(){this.type=0}cmp(Re){return this.type-Re.type}equals(Re){return Re.type===this.type}substituteConstants(){return this}evaluate(Re){return!1}serialize(){return"false"}keys(){return[]}negate(){return J.INSTANCE}}$.INSTANCE=new $;class J{constructor(){this.type=1}cmp(Re){return this.type-Re.type}equals(Re){return Re.type===this.type}substituteConstants(){return this}evaluate(Re){return!0}serialize(){return"true"}keys(){return[]}negate(){return $.INSTANCE}}J.INSTANCE=new J;class se{static create(Re,st=null){const Tt=b.get(Re);return typeof Tt=="boolean"?Tt?J.INSTANCE:$.INSTANCE:new se(Re,st)}constructor(Re,st){this.key=Re,this.negated=st,this.type=2}cmp(Re){return Re.type!==this.type?this.type-Re.type:lt(this.key,Re.key)}equals(Re){return Re.type===this.type?this.key===Re.key:!1}substituteConstants(){const Re=b.get(this.key);return typeof Re=="boolean"?Re?J.INSTANCE:$.INSTANCE:this}evaluate(Re){return!!Re.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=j.create(this.key,this)),this.negated}}class re{static create(Re,st,Tt=null){if(typeof st=="boolean")return st?se.create(Re,Tt):j.create(Re,Tt);const xt=b.get(Re);return typeof xt=="boolean"?st===(xt?"true":"false")?J.INSTANCE:$.INSTANCE:new re(Re,st,Tt)}constructor(Re,st,Tt){this.key=Re,this.value=st,this.negated=Tt,this.type=4}cmp(Re){return Re.type!==this.type?this.type-Re.type:ut(this.key,this.value,Re.key,Re.value)}equals(Re){return Re.type===this.type?this.key===Re.key&&this.value===Re.value:!1}substituteConstants(){const Re=b.get(this.key);if(typeof Re=="boolean"){const st=Re?"true":"false";return this.value===st?J.INSTANCE:$.INSTANCE}return this}evaluate(Re){return Re.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=P.create(this.key,this.value,this)),this.negated}}class he{static create(Re,st){return new he(Re,st)}constructor(Re,st){this.key=Re,this.valueKey=st,this.type=10,this.negated=null}cmp(Re){return Re.type!==this.type?this.type-Re.type:ut(this.key,this.valueKey,Re.key,Re.valueKey)}equals(Re){return Re.type===this.type?this.key===Re.key&&this.valueKey===Re.valueKey:!1}substituteConstants(){return this}evaluate(Re){const st=Re.getValue(this.valueKey),Tt=Re.getValue(this.key);return Array.isArray(st)?st.includes(Tt):typeof Tt=="string"&&typeof st=="object"&&st!==null?C.call(st,Tt):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=H.create(this.key,this.valueKey)),this.negated}}class H{static create(Re,st){return new H(Re,st)}constructor(Re,st){this.key=Re,this.valueKey=st,this.type=11,this._negated=he.create(Re,st)}cmp(Re){return Re.type!==this.type?this.type-Re.type:this._negated.cmp(Re._negated)}equals(Re){return Re.type===this.type?this._negated.equals(Re._negated):!1}substituteConstants(){return this}evaluate(Re){return!this._negated.evaluate(Re)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class P{static create(Re,st,Tt=null){if(typeof st=="boolean")return st?j.create(Re,Tt):se.create(Re,Tt);const xt=b.get(Re);return typeof xt=="boolean"?st===(xt?"true":"false")?$.INSTANCE:J.INSTANCE:new P(Re,st,Tt)}constructor(Re,st,Tt){this.key=Re,this.value=st,this.negated=Tt,this.type=5}cmp(Re){return Re.type!==this.type?this.type-Re.type:ut(this.key,this.value,Re.key,Re.value)}equals(Re){return Re.type===this.type?this.key===Re.key&&this.value===Re.value:!1}substituteConstants(){const Re=b.get(this.key);if(typeof Re=="boolean"){const st=Re?"true":"false";return this.value===st?$.INSTANCE:J.INSTANCE}return this}evaluate(Re){return Re.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=re.create(this.key,this.value,this)),this.negated}}class j{static create(Re,st=null){const Tt=b.get(Re);return typeof Tt=="boolean"?Tt?$.INSTANCE:J.INSTANCE:new j(Re,st)}constructor(Re,st){this.key=Re,this.negated=st,this.type=3}cmp(Re){return Re.type!==this.type?this.type-Re.type:lt(this.key,Re.key)}equals(Re){return Re.type===this.type?this.key===Re.key:!1}substituteConstants(){const Re=b.get(this.key);return typeof Re=="boolean"?Re?$.INSTANCE:J.INSTANCE:this}evaluate(Re){return!Re.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=se.create(this.key,this)),this.negated}}function K(gt,Re){if(typeof gt=="string"){const st=parseFloat(gt);isNaN(st)||(gt=st)}return typeof gt=="string"||typeof gt=="number"?Re(gt):$.INSTANCE}class ie{static create(Re,st,Tt=null){return K(st,xt=>new ie(Re,xt,Tt))}constructor(Re,st,Tt){this.key=Re,this.value=st,this.negated=Tt,this.type=12}cmp(Re){return Re.type!==this.type?this.type-Re.type:ut(this.key,this.value,Re.key,Re.value)}equals(Re){return Re.type===this.type?this.key===Re.key&&this.value===Re.value:!1}substituteConstants(){return this}evaluate(Re){return typeof this.value=="string"?!1:parseFloat(Re.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Ee.create(this.key,this.value,this)),this.negated}}class ce{static create(Re,st,Tt=null){return K(st,xt=>new ce(Re,xt,Tt))}constructor(Re,st,Tt){this.key=Re,this.value=st,this.negated=Tt,this.type=13}cmp(Re){return Re.type!==this.type?this.type-Re.type:ut(this.key,this.value,Re.key,Re.value)}equals(Re){return Re.type===this.type?this.key===Re.key&&this.value===Re.value:!1}substituteConstants(){return this}evaluate(Re){return typeof this.value=="string"?!1:parseFloat(Re.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=_e.create(this.key,this.value,this)),this.negated}}class _e{static create(Re,st,Tt=null){return K(st,xt=>new _e(Re,xt,Tt))}constructor(Re,st,Tt){this.key=Re,this.value=st,this.negated=Tt,this.type=14}cmp(Re){return Re.type!==this.type?this.type-Re.type:ut(this.key,this.value,Re.key,Re.value)}equals(Re){return Re.type===this.type?this.key===Re.key&&this.value===Re.value:!1}substituteConstants(){return this}evaluate(Re){return typeof this.value=="string"?!1:parseFloat(Re.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ce.create(this.key,this.value,this)),this.negated}}class Ee{static create(Re,st,Tt=null){return K(st,xt=>new Ee(Re,xt,Tt))}constructor(Re,st,Tt){this.key=Re,this.value=st,this.negated=Tt,this.type=15}cmp(Re){return Re.type!==this.type?this.type-Re.type:ut(this.key,this.value,Re.key,Re.value)}equals(Re){return Re.type===this.type?this.key===Re.key&&this.value===Re.value:!1}substituteConstants(){return this}evaluate(Re){return typeof this.value=="string"?!1:parseFloat(Re.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ie.create(this.key,this.value,this)),this.negated}}class Ce{static create(Re,st){return new Ce(Re,st)}constructor(Re,st){this.key=Re,this.regexp=st,this.type=7,this.negated=null}cmp(Re){if(Re.type!==this.type)return this.type-Re.type;if(this.key<Re.key)return-1;if(this.key>Re.key)return 1;const st=this.regexp?this.regexp.source:"",Tt=Re.regexp?Re.regexp.source:"";return st<Tt?-1:st>Tt?1:0}equals(Re){if(Re.type===this.type){const st=this.regexp?this.regexp.source:"",Tt=Re.regexp?Re.regexp.source:"";return this.key===Re.key&&st===Tt}return!1}substituteConstants(){return this}evaluate(Re){const st=Re.getValue(this.key);return this.regexp?this.regexp.test(st):!1}serialize(){const Re=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${Re}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=pe.create(this)),this.negated}}class pe{static create(Re){return new pe(Re)}constructor(Re){this._actual=Re,this.type=8}cmp(Re){return Re.type!==this.type?this.type-Re.type:this._actual.cmp(Re._actual)}equals(Re){return Re.type===this.type?this._actual.equals(Re._actual):!1}substituteConstants(){return this}evaluate(Re){return!this._actual.evaluate(Re)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function xe(gt){let Re=null;for(let st=0,Tt=gt.length;st<Tt;st++){const xt=gt[st].substituteConstants();if(gt[st]!==xt&&Re===null){Re=[];for(let vt=0;vt<st;vt++)Re[vt]=gt[vt]}Re!==null&&(Re[st]=xt)}return Re===null?gt:Re}class x{static create(Re,st,Tt){return x._normalizeArr(Re,st,Tt)}constructor(Re,st){this.expr=Re,this.negated=st,this.type=6}cmp(Re){if(Re.type!==this.type)return this.type-Re.type;if(this.expr.length<Re.expr.length)return-1;if(this.expr.length>Re.expr.length)return 1;for(let st=0,Tt=this.expr.length;st<Tt;st++){const xt=ne(this.expr[st],Re.expr[st]);if(xt!==0)return xt}return 0}equals(Re){if(Re.type===this.type){if(this.expr.length!==Re.expr.length)return!1;for(let st=0,Tt=this.expr.length;st<Tt;st++)if(!this.expr[st].equals(Re.expr[st]))return!1;return!0}return!1}substituteConstants(){const Re=xe(this.expr);return Re===this.expr?this:x.create(Re,this.negated,!1)}evaluate(Re){for(let st=0,Tt=this.expr.length;st<Tt;st++)if(!this.expr[st].evaluate(Re))return!1;return!0}static _normalizeArr(Re,st,Tt){const xt=[];let vt=!1;for(const we of Re)if(we){if(we.type===1){vt=!0;continue}if(we.type===0)return $.INSTANCE;if(we.type===6){xt.push(...we.expr);continue}xt.push(we)}if(xt.length===0&&vt)return J.INSTANCE;if(xt.length!==0){if(xt.length===1)return xt[0];xt.sort(ne);for(let we=1;we<xt.length;we++)xt[we-1].equals(xt[we])&&(xt.splice(we,1),we--);if(xt.length===1)return xt[0];for(;xt.length>1;){const we=xt[xt.length-1];if(we.type!==9)break;xt.pop();const pt=xt.pop(),Mt=xt.length===0,Ft=rt.create(we.expr.map(Xt=>x.create([Xt,pt],null,Tt)),null,Mt);Ft&&(xt.push(Ft),xt.sort(ne))}if(xt.length===1)return xt[0];if(Tt){for(let we=0;we<xt.length;we++)for(let pt=we+1;pt<xt.length;pt++)if(xt[we].negate().equals(xt[pt]))return $.INSTANCE;if(xt.length===1)return xt[0]}return new x(xt,st)}}serialize(){return this.expr.map(Re=>Re.serialize()).join(" && ")}keys(){const Re=[];for(const st of this.expr)Re.push(...st.keys());return Re}negate(){if(!this.negated){const Re=[];for(const st of this.expr)Re.push(st.negate());this.negated=rt.create(Re,this,!0)}return this.negated}}class rt{static create(Re,st,Tt){return rt._normalizeArr(Re,st,Tt)}constructor(Re,st){this.expr=Re,this.negated=st,this.type=9}cmp(Re){if(Re.type!==this.type)return this.type-Re.type;if(this.expr.length<Re.expr.length)return-1;if(this.expr.length>Re.expr.length)return 1;for(let st=0,Tt=this.expr.length;st<Tt;st++){const xt=ne(this.expr[st],Re.expr[st]);if(xt!==0)return xt}return 0}equals(Re){if(Re.type===this.type){if(this.expr.length!==Re.expr.length)return!1;for(let st=0,Tt=this.expr.length;st<Tt;st++)if(!this.expr[st].equals(Re.expr[st]))return!1;return!0}return!1}substituteConstants(){const Re=xe(this.expr);return Re===this.expr?this:rt.create(Re,this.negated,!1)}evaluate(Re){for(let st=0,Tt=this.expr.length;st<Tt;st++)if(this.expr[st].evaluate(Re))return!0;return!1}static _normalizeArr(Re,st,Tt){let xt=[],vt=!1;if(Re){for(let we=0,pt=Re.length;we<pt;we++){const Mt=Re[we];if(Mt){if(Mt.type===0){vt=!0;continue}if(Mt.type===1)return J.INSTANCE;if(Mt.type===9){xt=xt.concat(Mt.expr);continue}xt.push(Mt)}}if(xt.length===0&&vt)return $.INSTANCE;xt.sort(ne)}if(xt.length!==0){if(xt.length===1)return xt[0];for(let we=1;we<xt.length;we++)xt[we-1].equals(xt[we])&&(xt.splice(we,1),we--);if(xt.length===1)return xt[0];if(Tt){for(let we=0;we<xt.length;we++)for(let pt=we+1;pt<xt.length;pt++)if(xt[we].negate().equals(xt[pt]))return J.INSTANCE;if(xt.length===1)return xt[0]}return new rt(xt,st)}}serialize(){return this.expr.map(Re=>Re.serialize()).join(" || ")}keys(){const Re=[];for(const st of this.expr)Re.push(...st.keys());return Re}negate(){if(!this.negated){const Re=[];for(const st of this.expr)Re.push(st.negate());for(;Re.length>1;){const st=Re.shift(),Tt=Re.shift(),xt=[];for(const vt of Dt(st))for(const we of Dt(Tt))xt.push(x.create([vt,we],null,!1));Re.unshift(rt.create(xt,null,!1))}this.negated=rt.create(Re,this,!0)}return this.negated}}class Xe extends se{static all(){return Xe._info.values()}constructor(Re,st,Tt){super(Re,null),this._defaultValue=st,typeof Tt=="object"?Xe._info.push(sn(Di({},Tt),{key:Re})):Tt!==!0&&Xe._info.push({key:Re,description:Tt,type:st!=null?typeof st:void 0})}bindTo(Re){return Re.createKey(this.key,this._defaultValue)}getValue(Re){return Re.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(Re){return re.create(this.key,Re)}}Xe._info=[];const Ze=(0,y.yh)("contextKeyService");function lt(gt,Re){return gt<Re?-1:gt>Re?1:0}function ut(gt,Re,st,Tt){return gt<st?-1:gt>st?1:Re<Tt?-1:Re>Tt?1:0}function ct(gt,Re){if(gt.type===0||Re.type===1)return!0;if(gt.type===9)return Re.type===9?He(gt.expr,Re.expr):!1;if(Re.type===9){for(const st of Re.expr)if(ct(gt,st))return!0;return!1}if(gt.type===6){if(Re.type===6)return He(Re.expr,gt.expr);for(const st of gt.expr)if(ct(st,Re))return!0;return!1}return gt.equals(Re)}function He(gt,Re){let st=0,Tt=0;for(;st<gt.length&&Tt<Re.length;){const xt=gt[st].cmp(Re[Tt]);if(xt<0)return!1;xt===0&&st++,Tt++}return st===gt.length}function Dt(gt){return gt.type===9?gt.expr:[gt]}},13581:function(Gt,ze,c){"use strict";c.d(ze,{Pf:function(){return M},cv:function(){return T},d0:function(){return _}});var D=c(43998),X=c(18493),v=c(81002);const k=new v.uy("isMac",D.dz,(0,X.NC)("isMac","Whether the operating system is macOS")),L=new v.uy("isLinux",D.IJ,(0,X.NC)("isLinux","Whether the operating system is Linux")),T=new v.uy("isWindows",D.ED,(0,X.NC)("isWindows","Whether the operating system is Windows")),M=new v.uy("isWeb",D.$L,(0,X.NC)("isWeb","Whether the platform is a web browser")),B=new v.uy("isMacNative",D.dz&&!D.$L,(0,X.NC)("isMacNative","Whether the operating system is macOS on a non-browser platform")),y=new v.uy("isIOS",D.gn,(0,X.NC)("isIOS","Whether the operating system is iOS")),b=new v.uy("isMobile",D.tq,(0,X.NC)("isMobile","Whether the platform is a mobile web browser")),C=new v.uy("isDevelopment",!1,!0),S=new v.uy("productQualityType","",(0,X.NC)("productQualityType","Quality type of VS Code")),_="inputFocus",a=new v.uy(_,!1,(0,X.NC)("inputFocus","Whether keyboard focus is inside an input box"))},16288:function(Gt,ze,c){"use strict";c.d(ze,{i:function(){return v},u:function(){return X}});var D=c(99068);const X=(0,D.yh)("contextViewService"),v=(0,D.yh)("contextMenuService")},49002:function(Gt,ze,c){"use strict";c.d(ze,{S:function(){return X}});var D=c(99068);const X=(0,D.yh)("dialogService")},67611:function(Gt,ze,c){"use strict";c.d(ze,{Y:function(){return X}});var D=c(99068);const X=(0,D.yh)("environmentService")},3544:function(Gt,ze,c){"use strict";c.d(ze,{M:function(){return D}});class D{constructor(v,k=[],L=!1){this.ctor=v,this.staticArguments=k,this.supportsDelayedInstantiation=L}}},89320:function(Gt,ze,c){"use strict";c.d(ze,{d:function(){return k},z:function(){return v}});var D=c(3544);const X=[];function v(L,T,M){T instanceof D.M||(T=new D.M(T,[],!!M)),X.push([L,T])}function k(){return X}},99068:function(Gt,ze,c){"use strict";c.d(ze,{I8:function(){return D},TG:function(){return X},yh:function(){return k}});var D;(function(L){L.serviceIds=new Map,L.DI_TARGET="$di$target",L.DI_DEPENDENCIES="$di$dependencies";function T(M){return M[L.DI_DEPENDENCIES]||[]}L.getServiceDependencies=T})(D||(D={}));const X=k("instantiationService");function v(L,T,M){T[D.DI_TARGET]===T?T[D.DI_DEPENDENCIES].push({id:L,index:M}):(T[D.DI_DEPENDENCIES]=[{id:L,index:M}],T[D.DI_TARGET]=T)}function k(L){if(D.serviceIds.has(L))return D.serviceIds.get(L);const T=function(M,B,y){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");v(T,M,y)};return T.toString=()=>L,D.serviceIds.set(L,T),T}},30533:function(Gt,ze,c){"use strict";c.d(ze,{y:function(){return D}});class D{constructor(...v){this._entries=new Map;for(const[k,L]of v)this.set(k,L)}set(v,k){const L=this._entries.get(v);return this._entries.set(v,k),L}get(v){return this._entries.get(v)}}},45449:function(Gt,ze,c){"use strict";c.d(ze,{I:function(){return v}});var D=c(46328),X=c(93796);const v={JSONContribution:"base.contributions.json"};function k(M){return M.length>0&&M.charAt(M.length-1)==="#"?M.substring(0,M.length-1):M}class L{constructor(){this._onDidChangeSchema=new D.Q5,this.schemasById={}}registerSchema(B,y){this.schemasById[k(B)]=y,this._onDidChangeSchema.fire(B)}notifySchemaChanged(B){this._onDidChangeSchema.fire(B)}}const T=new L;X.B.add(v.JSONContribution,T)},30966:function(Gt,ze,c){"use strict";c.d(ze,{d:function(){return X}});var D=c(99068);const X=(0,D.yh)("keybindingService")},26586:function(Gt,ze,c){"use strict";c.d(ze,{W:function(){return B}});var D=c(39469),X=c(43998),v=c(50544),k=c(93796),L=c(83845),T=c(29882);class M{constructor(){this._coreKeybindings=new T.S,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(S){if(X.OS===1){if(S&&S.win)return S.win}else if(X.OS===2){if(S&&S.mac)return S.mac}else if(S&&S.linux)return S.linux;return S}registerKeybindingRule(S){const _=M.bindToCurrentPlatform(S),a=new L.SL;if(_&&_.primary){const u=(0,D.Z9)(_.primary,X.OS);u&&a.add(this._registerDefaultKeybinding(u,S.id,S.args,S.weight,0,S.when))}if(_&&Array.isArray(_.secondary))for(let u=0,N=_.secondary.length;u<N;u++){const O=_.secondary[u],R=(0,D.Z9)(O,X.OS);R&&a.add(this._registerDefaultKeybinding(R,S.id,S.args,S.weight,-u-1,S.when))}return a}registerCommandAndKeybindingRule(S){return(0,L.F8)(this.registerKeybindingRule(S),v.P.registerCommand(S))}_registerDefaultKeybinding(S,_,a,u,N,O){const R=this._coreKeybindings.push({keybinding:S,command:_,commandArgs:a,when:O,weight1:u,weight2:N,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,L.OF)(()=>{R(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(b)),this._cachedMergedKeybindings.slice(0)}}const B=new M,y={EditorModes:"platform.keybindingsRegistry"};k.B.add(y.EditorModes,B);function b(C,S){if(C.weight1!==S.weight1)return C.weight1-S.weight1;if(C.command&&S.command){if(C.command<S.command)return-1;if(C.command>S.command)return 1}return C.weight2-S.weight2}},57369:function(Gt,ze,c){"use strict";c.d(ze,{e:function(){return X}});var D=c(99068);const X=(0,D.yh)("labelService")},49192:function(Gt,ze,c){"use strict";c.d(ze,{Lw:function(){return Ut},XN:function(){return Si},ls:function(){return W},ev:function(){return Ht},CQ:function(){return Wn},PS:function(){return as},uJ:function(){return cn}});var D=c(97480),X=c(54888),v=c(60902),k=c(46328),L=c(83845),T=c(22594),M=c(50825);class B{get templateId(){return this.renderer.templateId}constructor(A,q){this.renderer=A,this.modelProvider=q}renderTemplate(A){return{data:this.renderer.renderTemplate(A),disposable:L.JT.None}}renderElement(A,q,fe,Pe){var Ye;if((Ye=fe.disposable)===null||Ye===void 0||Ye.dispose(),!fe.data)return;const dt=this.modelProvider();if(dt.isResolved(A))return this.renderer.renderElement(dt.get(A),A,fe.data,Pe);const St=new v.A,Bt=dt.resolve(A,St.token);fe.disposable={dispose:()=>St.cancel()},this.renderer.renderPlaceholder(A,fe.data),Bt.then(Ci=>this.renderer.renderElement(Ci,A,fe.data,Pe))}disposeTemplate(A){A.disposable&&(A.disposable.dispose(),A.disposable=void 0),A.data&&(this.renderer.disposeTemplate(A.data),A.data=void 0)}}class y{constructor(A,q){this.modelProvider=A,this.accessibilityProvider=q}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(A){const q=this.modelProvider();return q.isResolved(A)?this.accessibilityProvider.getAriaLabel(q.get(A)):null}}function b(Fe,A){return sn(Di({},A),{accessibilityProvider:A.accessibilityProvider&&new y(Fe,A.accessibilityProvider)})}class C{constructor(A,q,fe,Pe,Ye={}){const dt=()=>this.model,St=Pe.map(Bt=>new B(Bt,dt));this.list=new M.aV(A,q,fe,St,b(dt,Ye))}updateOptions(A){this.list.updateOptions(A)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return k.ju.map(this.list.onMouseDblClick,({element:A,index:q,browserEvent:fe})=>({element:A===void 0?void 0:this._model.get(A),index:q,browserEvent:fe}))}get onPointer(){return k.ju.map(this.list.onPointer,({element:A,index:q,browserEvent:fe})=>({element:A===void 0?void 0:this._model.get(A),index:q,browserEvent:fe}))}get onDidChangeSelection(){return k.ju.map(this.list.onDidChangeSelection,({elements:A,indexes:q,browserEvent:fe})=>({elements:A.map(Pe=>this._model.get(Pe)),indexes:q,browserEvent:fe}))}get model(){return this._model}set model(A){this._model=A,this.list.splice(0,this.list.length,(0,X.w6)(A.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(A=>this.model.get(A))}style(A){this.list.style(A)}dispose(){this.list.dispose()}}var S=c(57996);class _{constructor(A,q,fe){this.columns=A,this.getColumnSize=fe,this.templateId=_.TemplateId,this.renderedTemplates=new Set;const Pe=new Map(q.map(Ye=>[Ye.templateId,Ye]));this.renderers=[];for(const Ye of A){const dt=Pe.get(Ye.templateId);if(!dt)throw new Error(`Table cell renderer for template id ${Ye.templateId} not found.`);this.renderers.push(dt)}}renderTemplate(A){const q=(0,D.R3)(A,(0,D.$)(".monaco-table-tr")),fe=[],Pe=[];for(let dt=0;dt<this.columns.length;dt++){const St=this.renderers[dt],Bt=(0,D.R3)(q,(0,D.$)(".monaco-table-td",{"data-col-index":dt}));Bt.style.width=`${this.getColumnSize(dt)}px`,fe.push(Bt),Pe.push(St.renderTemplate(Bt))}const Ye={container:A,cellContainers:fe,cellTemplateData:Pe};return this.renderedTemplates.add(Ye),Ye}renderElement(A,q,fe,Pe){for(let Ye=0;Ye<this.columns.length;Ye++){const St=this.columns[Ye].project(A);this.renderers[Ye].renderElement(St,q,fe.cellTemplateData[Ye],Pe)}}disposeElement(A,q,fe,Pe){for(let Ye=0;Ye<this.columns.length;Ye++){const dt=this.renderers[Ye];if(dt.disposeElement){const Bt=this.columns[Ye].project(A);dt.disposeElement(Bt,q,fe.cellTemplateData[Ye],Pe)}}}disposeTemplate(A){for(let q=0;q<this.columns.length;q++)this.renderers[q].disposeTemplate(A.cellTemplateData[q]);(0,D.PO)(A.container),this.renderedTemplates.delete(A)}layoutColumn(A,q){for(const{cellContainers:fe}of this.renderedTemplates)fe[A].style.width=`${q}px`}}_.TemplateId="row";function a(Fe){return{getHeight(A){return Fe.getHeight(A)},getTemplateId(){return _.TemplateId}}}class u{get minimumSize(){var A;return(A=this.column.minimumWidth)!==null&&A!==void 0?A:120}get maximumSize(){var A;return(A=this.column.maximumWidth)!==null&&A!==void 0?A:Number.POSITIVE_INFINITY}get onDidChange(){var A;return(A=this.column.onDidChangeWidthConstraints)!==null&&A!==void 0?A:k.ju.None}constructor(A,q){this.column=A,this.index=q,this._onDidLayout=new k.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,D.$)(".monaco-table-th",{"data-col-index":q,title:A.tooltip},A.label)}layout(A){this._onDidLayout.fire([this.index,A])}}class N{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(A){this.list.scrollTop=A}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(A,q,fe,Pe,Ye,dt){this.virtualDelegate=fe,this.domId=`table_id_${++N.InstanceCount}`,this.disposables=new L.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,D.R3)(q,(0,D.$)(`.monaco-table.${this.domId}`));const St=Pe.map((vi,zi)=>new u(vi,zi)),Bt={size:St.reduce((vi,zi)=>vi+zi.column.weight,0),views:St.map(vi=>({size:vi.column.weight,view:vi}))};this.splitview=this.disposables.add(new S.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:Bt})),this.splitview.el.style.height=`${fe.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${fe.headerRowHeight}px`;const Ci=new _(Pe,Ye,vi=>this.splitview.getViewSize(vi));this.list=this.disposables.add(new M.aV(A,this.domNode,a(fe),[Ci],dt)),k.ju.any(...St.map(vi=>vi.onDidLayout))(([vi,zi])=>Ci.layoutColumn(vi,zi),null,this.disposables),this.splitview.onDidSashReset(vi=>{const zi=Pe.reduce((Wi,Mi)=>Wi+Mi.weight,0),Gi=Pe[vi].weight/zi*this.cachedWidth;this.splitview.resizeView(vi,Gi)},null,this.disposables),this.styleElement=(0,D.dS)(this.domNode),this.style(M.uZ)}updateOptions(A){this.list.updateOptions(A)}splice(A,q,fe=[]){this.list.splice(A,q,fe)}getHTMLElement(){return this.domNode}style(A){const q=[];q.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=q.join(`
`),this.list.style(A)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}N.InstanceCount=0;var O=c(80707),R=c(89056),V=c(18016),F=c(68641),Y=c(3347),G=c(17187),Z=c(94225),ne;(function(Fe){Fe[Fe.Expanded=0]="Expanded",Fe[Fe.Collapsed=1]="Collapsed",Fe[Fe.PreserveOrExpanded=2]="PreserveOrExpanded",Fe[Fe.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(ne||(ne={}));var $;(function(Fe){Fe[Fe.Unknown=0]="Unknown",Fe[Fe.Twistie=1]="Twistie",Fe[Fe.Element=2]="Element",Fe[Fe.Filter=3]="Filter"})($||($={}));class J extends Error{constructor(A,q){super(`TreeError [${A}] ${q}`)}}class se{constructor(A){this.fn=A,this._map=new WeakMap}map(A){let q=this._map.get(A);return q||(q=this.fn(A),this._map.set(A,q)),q}}var re=c(96925),he=c(9505),H=c(72221),P=c(54362);function j(Fe){return typeof Fe=="object"&&"visibility"in Fe&&"data"in Fe}function K(Fe){switch(Fe){case!0:return 1;case!1:return 0;default:return Fe}}function ie(Fe){return typeof Fe.collapsible=="boolean"}class ce{constructor(A,q,fe,Pe={}){this.user=A,this.list=q,this.rootRef=[],this.eventBufferer=new k.E7,this._onDidChangeCollapseState=new k.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new k.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new k.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new re.vp(he.n),this.collapseByDefault=typeof Pe.collapseByDefault=="undefined"?!1:Pe.collapseByDefault,this.filter=Pe.filter,this.autoExpandSingleChildren=typeof Pe.autoExpandSingleChildren=="undefined"?!1:Pe.autoExpandSingleChildren,this.root={parent:void 0,element:fe,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(A,q,fe=P.$.empty(),Pe={}){if(A.length===0)throw new J(this.user,"Invalid tree location");Pe.diffIdentityProvider?this.spliceSmart(Pe.diffIdentityProvider,A,q,fe,Pe):this.spliceSimple(A,q,fe,Pe)}spliceSmart(A,q,fe,Pe,Ye,dt){var St;Pe===void 0&&(Pe=P.$.empty()),dt===void 0&&(dt=(St=Ye.diffDepth)!==null&&St!==void 0?St:0);const{parentNode:Bt}=this.getParentNodeWithListIndex(q);if(!Bt.lastDiffIds)return this.spliceSimple(q,fe,Pe,Ye);const Ci=[...Pe],vi=q[q.length-1],zi=new H.Hs({getElements:()=>Bt.lastDiffIds},{getElements:()=>[...Bt.children.slice(0,vi),...Ci,...Bt.children.slice(vi+fe)].map(Xi=>A.getId(Xi.element).toString())}).ComputeDiff(!1);if(zi.quitEarly)return Bt.lastDiffIds=void 0,this.spliceSimple(q,fe,Ci,Ye);const Gi=q.slice(0,-1),Wi=(Xi,Hn,js)=>{if(dt>0)for(let go=0;go<js;go++)Xi--,Hn--,this.spliceSmart(A,[...Gi,Xi,0],Number.MAX_SAFE_INTEGER,Ci[Hn].children,Ye,dt-1)};let Mi=Math.min(Bt.children.length,vi+fe),Oi=Ci.length;for(const Xi of zi.changes.sort((Hn,js)=>js.originalStart-Hn.originalStart))Wi(Mi,Oi,Mi-(Xi.originalStart+Xi.originalLength)),Mi=Xi.originalStart,Oi=Xi.modifiedStart-vi,this.spliceSimple([...Gi,Mi],Xi.originalLength,P.$.slice(Ci,Oi,Oi+Xi.modifiedLength),Ye);Wi(Mi,Oi,Mi)}spliceSimple(A,q,fe=P.$.empty(),{onDidCreateNode:Pe,onDidDeleteNode:Ye,diffIdentityProvider:dt}){const{parentNode:St,listIndex:Bt,revealed:Ci,visible:vi}=this.getParentNodeWithListIndex(A),zi=[],Gi=P.$.map(fe,rs=>this.createTreeNode(rs,St,St.visible?1:0,Ci,zi,Pe)),Wi=A[A.length-1],Mi=St.children.length>0;let Oi=0;for(let rs=Wi;rs>=0&&rs<St.children.length;rs--){const $n=St.children[rs];if($n.visible){Oi=$n.visibleChildIndex;break}}const Xi=[];let Hn=0,js=0;for(const rs of Gi)Xi.push(rs),js+=rs.renderNodeCount,rs.visible&&(rs.visibleChildIndex=Oi+Hn++);const go=(0,X.db)(St.children,Wi,q,Xi);dt?St.lastDiffIds?(0,X.db)(St.lastDiffIds,Wi,q,Xi.map(rs=>dt.getId(rs.element).toString())):St.lastDiffIds=St.children.map(rs=>dt.getId(rs.element).toString()):St.lastDiffIds=void 0;let So=0;for(const rs of go)rs.visible&&So++;if(So!==0)for(let rs=Wi+Xi.length;rs<St.children.length;rs++){const $n=St.children[rs];$n.visible&&($n.visibleChildIndex-=So)}if(St.visibleChildrenCount+=Hn-So,Ci&&vi){const rs=go.reduce(($n,Bs)=>$n+(Bs.visible?Bs.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(St,js-rs),this.list.splice(Bt,rs,zi)}if(go.length>0&&Ye){const rs=$n=>{Ye($n),$n.children.forEach(rs)};go.forEach(rs)}this._onDidSplice.fire({insertedNodes:Xi,deletedNodes:go});const An=St.children.length>0;Mi!==An&&this.setCollapsible(A.slice(0,-1),An);let Ts=St;for(;Ts;){if(Ts.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}Ts=Ts.parent}}rerender(A){if(A.length===0)throw new J(this.user,"Invalid tree location");const{node:q,listIndex:fe,revealed:Pe}=this.getTreeNodeWithListIndex(A);q.visible&&Pe&&this.list.splice(fe,1,[q])}has(A){return this.hasTreeNode(A)}getListIndex(A){const{listIndex:q,visible:fe,revealed:Pe}=this.getTreeNodeWithListIndex(A);return fe&&Pe?q:-1}getListRenderCount(A){return this.getTreeNode(A).renderNodeCount}isCollapsible(A){return this.getTreeNode(A).collapsible}setCollapsible(A,q){const fe=this.getTreeNode(A);typeof q=="undefined"&&(q=!fe.collapsible);const Pe={collapsible:q};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(A,Pe))}isCollapsed(A){return this.getTreeNode(A).collapsed}setCollapsed(A,q,fe){const Pe=this.getTreeNode(A);typeof q=="undefined"&&(q=!Pe.collapsed);const Ye={collapsed:q,recursive:fe||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(A,Ye))}_setCollapseState(A,q){const{node:fe,listIndex:Pe,revealed:Ye}=this.getTreeNodeWithListIndex(A),dt=this._setListNodeCollapseState(fe,Pe,Ye,q);if(fe!==this.root&&this.autoExpandSingleChildren&&dt&&!ie(q)&&fe.collapsible&&!fe.collapsed&&!q.recursive){let St=-1;for(let Bt=0;Bt<fe.children.length;Bt++)if(fe.children[Bt].visible)if(St>-1){St=-1;break}else St=Bt;St>-1&&this._setCollapseState([...A,St],q)}return dt}_setListNodeCollapseState(A,q,fe,Pe){const Ye=this._setNodeCollapseState(A,Pe,!1);if(!fe||!A.visible||!Ye)return Ye;const dt=A.renderNodeCount,St=this.updateNodeAfterCollapseChange(A),Bt=dt-(q===-1?0:1);return this.list.splice(q+1,Bt,St.slice(1)),Ye}_setNodeCollapseState(A,q,fe){let Pe;if(A===this.root?Pe=!1:(ie(q)?(Pe=A.collapsible!==q.collapsible,A.collapsible=q.collapsible):A.collapsible?(Pe=A.collapsed!==q.collapsed,A.collapsed=q.collapsed):Pe=!1,Pe&&this._onDidChangeCollapseState.fire({node:A,deep:fe})),!ie(q)&&q.recursive)for(const Ye of A.children)Pe=this._setNodeCollapseState(Ye,q,!0)||Pe;return Pe}expandTo(A){this.eventBufferer.bufferEvents(()=>{let q=this.getTreeNode(A);for(;q.parent;)q=q.parent,A=A.slice(0,A.length-1),q.collapsed&&this._setCollapseState(A,{collapsed:!1,recursive:!1})})}refilter(){const A=this.root.renderNodeCount,q=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,A,q),this.refilterDelayer.cancel()}createTreeNode(A,q,fe,Pe,Ye,dt){const St={parent:q,element:A.element,children:[],depth:q.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof A.collapsible=="boolean"?A.collapsible:typeof A.collapsed!="undefined",collapsed:typeof A.collapsed=="undefined"?this.collapseByDefault:A.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},Bt=this._filterNode(St,fe);St.visibility=Bt,Pe&&Ye.push(St);const Ci=A.children||P.$.empty(),vi=Pe&&Bt!==0&&!St.collapsed;let zi=0,Gi=1;for(const Wi of Ci){const Mi=this.createTreeNode(Wi,St,Bt,vi,Ye,dt);St.children.push(Mi),Gi+=Mi.renderNodeCount,Mi.visible&&(Mi.visibleChildIndex=zi++)}return St.collapsible=St.collapsible||St.children.length>0,St.visibleChildrenCount=zi,St.visible=Bt===2?zi>0:Bt===1,St.visible?St.collapsed||(St.renderNodeCount=Gi):(St.renderNodeCount=0,Pe&&Ye.pop()),dt==null||dt(St),St}updateNodeAfterCollapseChange(A){const q=A.renderNodeCount,fe=[];return this._updateNodeAfterCollapseChange(A,fe),this._updateAncestorsRenderNodeCount(A.parent,fe.length-q),fe}_updateNodeAfterCollapseChange(A,q){if(A.visible===!1)return 0;if(q.push(A),A.renderNodeCount=1,!A.collapsed)for(const fe of A.children)A.renderNodeCount+=this._updateNodeAfterCollapseChange(fe,q);return this._onDidChangeRenderNodeCount.fire(A),A.renderNodeCount}updateNodeAfterFilterChange(A){const q=A.renderNodeCount,fe=[];return this._updateNodeAfterFilterChange(A,A.visible?1:0,fe),this._updateAncestorsRenderNodeCount(A.parent,fe.length-q),fe}_updateNodeAfterFilterChange(A,q,fe,Pe=!0){let Ye;if(A!==this.root){if(Ye=this._filterNode(A,q),Ye===0)return A.visible=!1,A.renderNodeCount=0,!1;Pe&&fe.push(A)}const dt=fe.length;A.renderNodeCount=A===this.root?0:1;let St=!1;if(!A.collapsed||Ye!==0){let Bt=0;for(const Ci of A.children)St=this._updateNodeAfterFilterChange(Ci,Ye,fe,Pe&&!A.collapsed)||St,Ci.visible&&(Ci.visibleChildIndex=Bt++);A.visibleChildrenCount=Bt}else A.visibleChildrenCount=0;return A!==this.root&&(A.visible=Ye===2?St:Ye===1,A.visibility=Ye),A.visible?A.collapsed||(A.renderNodeCount+=fe.length-dt):(A.renderNodeCount=0,Pe&&fe.pop()),this._onDidChangeRenderNodeCount.fire(A),A.visible}_updateAncestorsRenderNodeCount(A,q){if(q!==0)for(;A;)A.renderNodeCount+=q,this._onDidChangeRenderNodeCount.fire(A),A=A.parent}_filterNode(A,q){const fe=this.filter?this.filter.filter(A.element,q):1;return typeof fe=="boolean"?(A.filterData=void 0,fe?1:0):j(fe)?(A.filterData=fe.data,K(fe.visibility)):(A.filterData=void 0,K(fe))}hasTreeNode(A,q=this.root){if(!A||A.length===0)return!0;const[fe,...Pe]=A;return fe<0||fe>q.children.length?!1:this.hasTreeNode(Pe,q.children[fe])}getTreeNode(A,q=this.root){if(!A||A.length===0)return q;const[fe,...Pe]=A;if(fe<0||fe>q.children.length)throw new J(this.user,"Invalid tree location");return this.getTreeNode(Pe,q.children[fe])}getTreeNodeWithListIndex(A){if(A.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:q,listIndex:fe,revealed:Pe,visible:Ye}=this.getParentNodeWithListIndex(A),dt=A[A.length-1];if(dt<0||dt>q.children.length)throw new J(this.user,"Invalid tree location");const St=q.children[dt];return{node:St,listIndex:fe,revealed:Pe,visible:Ye&&St.visible}}getParentNodeWithListIndex(A,q=this.root,fe=0,Pe=!0,Ye=!0){const[dt,...St]=A;if(dt<0||dt>q.children.length)throw new J(this.user,"Invalid tree location");for(let Bt=0;Bt<dt;Bt++)fe+=q.children[Bt].renderNodeCount;return Pe=Pe&&!q.collapsed,Ye=Ye&&q.visible,St.length===0?{parentNode:q,listIndex:fe,revealed:Pe,visible:Ye}:this.getParentNodeWithListIndex(St,q.children[dt],fe+1,Pe,Ye)}getNode(A=[]){return this.getTreeNode(A)}getNodeLocation(A){const q=[];let fe=A;for(;fe.parent;)q.push(fe.parent.children.indexOf(fe)),fe=fe.parent;return q.reverse()}getParentNodeLocation(A){if(A.length!==0)return A.length===1?[]:(0,X.JH)(A)[0]}getFirstElementChild(A){const q=this.getTreeNode(A);if(q.children.length!==0)return q.children[0].element}}var _e=c(66351),Ee=c(64423),Ce=c(12003),pe=c(83987),xe=c(27469),x=c(79664),rt=c(22968),Xe=c(18493);class Ze extends G.kX{constructor(A){super(A.elements.map(q=>q.element)),this.data=A}}function lt(Fe){return Fe instanceof G.kX?new Ze(Fe):Fe}class ut{constructor(A,q){this.modelProvider=A,this.dnd=q,this.autoExpandDisposable=L.JT.None,this.disposables=new L.SL}getDragURI(A){return this.dnd.getDragURI(A.element)}getDragLabel(A,q){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(A.map(fe=>fe.element),q)}onDragStart(A,q){var fe,Pe;(Pe=(fe=this.dnd).onDragStart)===null||Pe===void 0||Pe.call(fe,lt(A),q)}onDragOver(A,q,fe,Pe,Ye=!0){const dt=this.dnd.onDragOver(lt(A),q&&q.element,fe,Pe),St=this.autoExpandNode!==q;if(St&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=q),typeof q=="undefined")return dt;if(St&&typeof dt!="boolean"&&dt.autoExpand&&(this.autoExpandDisposable=(0,re.Vg)(()=>{const Gi=this.modelProvider(),Wi=Gi.getNodeLocation(q);Gi.isCollapsed(Wi)&&Gi.setCollapsed(Wi,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof dt=="boolean"||!dt.accept||typeof dt.bubble=="undefined"||dt.feedback){if(!Ye){const Gi=typeof dt=="boolean"?dt:dt.accept,Wi=typeof dt=="boolean"?void 0:dt.effect;return{accept:Gi,effect:Wi,feedback:[fe]}}return dt}if(dt.bubble===1){const Gi=this.modelProvider(),Wi=Gi.getNodeLocation(q),Mi=Gi.getParentNodeLocation(Wi),Oi=Gi.getNode(Mi),Xi=Mi&&Gi.getListIndex(Mi);return this.onDragOver(A,Oi,Xi,Pe,!1)}const Bt=this.modelProvider(),Ci=Bt.getNodeLocation(q),vi=Bt.getListIndex(Ci),zi=Bt.getListRenderCount(Ci);return sn(Di({},dt),{feedback:(0,X.w6)(vi,vi+zi)})}drop(A,q,fe,Pe){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(lt(A),q&&q.element,fe,Pe)}onDragEnd(A){var q,fe;(fe=(q=this.dnd).onDragEnd)===null||fe===void 0||fe.call(q,A)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function ct(Fe,A){return A&&sn(Di({},A),{identityProvider:A.identityProvider&&{getId(q){return A.identityProvider.getId(q.element)}},dnd:A.dnd&&new ut(Fe,A.dnd),multipleSelectionController:A.multipleSelectionController&&{isSelectionSingleChangeEvent(q){return A.multipleSelectionController.isSelectionSingleChangeEvent(sn(Di({},q),{element:q.element}))},isSelectionRangeChangeEvent(q){return A.multipleSelectionController.isSelectionRangeChangeEvent(sn(Di({},q),{element:q.element}))}},accessibilityProvider:A.accessibilityProvider&&sn(Di({},A.accessibilityProvider),{getSetSize(q){const fe=Fe(),Pe=fe.getNodeLocation(q),Ye=fe.getParentNodeLocation(Pe);return fe.getNode(Ye).visibleChildrenCount},getPosInSet(q){return q.visibleChildIndex+1},isChecked:A.accessibilityProvider&&A.accessibilityProvider.isChecked?q=>A.accessibilityProvider.isChecked(q.element):void 0,getRole:A.accessibilityProvider&&A.accessibilityProvider.getRole?q=>A.accessibilityProvider.getRole(q.element):()=>"treeitem",getAriaLabel(q){return A.accessibilityProvider.getAriaLabel(q.element)},getWidgetAriaLabel(){return A.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:A.accessibilityProvider&&A.accessibilityProvider.getWidgetRole?()=>A.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:A.accessibilityProvider&&A.accessibilityProvider.getAriaLevel?q=>A.accessibilityProvider.getAriaLevel(q.element):q=>q.depth,getActiveDescendantId:A.accessibilityProvider.getActiveDescendantId&&(q=>A.accessibilityProvider.getActiveDescendantId(q.element))}),keyboardNavigationLabelProvider:A.keyboardNavigationLabelProvider&&sn(Di({},A.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(q){return A.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(q.element)}})})}class He{constructor(A){this.delegate=A}getHeight(A){return this.delegate.getHeight(A.element)}getTemplateId(A){return this.delegate.getTemplateId(A.element)}hasDynamicHeight(A){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(A.element)}setDynamicHeight(A,q){var fe,Pe;(Pe=(fe=this.delegate).setDynamicHeight)===null||Pe===void 0||Pe.call(fe,A.element,q)}}var Dt;(function(Fe){Fe.None="none",Fe.OnHover="onHover",Fe.Always="always"})(Dt||(Dt={}));class gt{get elements(){return this._elements}constructor(A,q=[]){this._elements=q,this.disposables=new L.SL,this.onDidChange=k.ju.forEach(A,fe=>this._elements=fe,this.disposables)}dispose(){this.disposables.dispose()}}class Re{constructor(A,q,fe,Pe,Ye,dt={}){var St;this.renderer=A,this.modelProvider=q,this.activeNodes=Pe,this.renderedIndentGuides=Ye,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=Re.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=L.JT.None,this.disposables=new L.SL,this.templateId=A.templateId,this.updateOptions(dt),k.ju.map(fe,Bt=>Bt.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(St=A.onDidChangeTwistieState)===null||St===void 0||St.call(A,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(A={}){if(typeof A.indent!="undefined"){const q=(0,x.uZ)(A.indent,0,40);if(q!==this.indent){this.indent=q;for(const[fe,Pe]of this.renderedNodes)this.renderTreeElement(fe,Pe)}}if(typeof A.renderIndentGuides!="undefined"){const q=A.renderIndentGuides!==Dt.None;if(q!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=q;for(const[fe,Pe]of this.renderedNodes)this._renderIndentGuides(fe,Pe);if(this.indentGuidesDisposable.dispose(),q){const fe=new L.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,fe),this.indentGuidesDisposable=fe,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof A.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=A.hideTwistiesOfChildlessElements)}renderTemplate(A){const q=(0,D.R3)(A,(0,D.$)(".monaco-tl-row")),fe=(0,D.R3)(q,(0,D.$)(".monaco-tl-indent")),Pe=(0,D.R3)(q,(0,D.$)(".monaco-tl-twistie")),Ye=(0,D.R3)(q,(0,D.$)(".monaco-tl-contents")),dt=this.renderer.renderTemplate(Ye);return{container:A,indent:fe,twistie:Pe,indentGuidesDisposable:L.JT.None,templateData:dt}}renderElement(A,q,fe,Pe){this.renderedNodes.set(A,fe),this.renderedElements.set(A.element,A),this.renderTreeElement(A,fe),this.renderer.renderElement(A,q,fe.templateData,Pe)}disposeElement(A,q,fe,Pe){var Ye,dt;fe.indentGuidesDisposable.dispose(),(dt=(Ye=this.renderer).disposeElement)===null||dt===void 0||dt.call(Ye,A,q,fe.templateData,Pe),typeof Pe=="number"&&(this.renderedNodes.delete(A),this.renderedElements.delete(A.element))}disposeTemplate(A){this.renderer.disposeTemplate(A.templateData)}onDidChangeTwistieState(A){const q=this.renderedElements.get(A);q&&this.onDidChangeNodeTwistieState(q)}onDidChangeNodeTwistieState(A){const q=this.renderedNodes.get(A);q&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(A,q))}renderTreeElement(A,q){const fe=Re.DefaultIndent+(A.depth-1)*this.indent;q.twistie.style.paddingLeft=`${fe}px`,q.indent.style.width=`${fe+this.indent-16}px`,A.collapsible?q.container.setAttribute("aria-expanded",String(!A.collapsed)):q.container.removeAttribute("aria-expanded"),q.twistie.classList.remove(...Ce.k.asClassNameArray(Ee.l.treeItemExpanded));let Pe=!1;this.renderer.renderTwistie&&(Pe=this.renderer.renderTwistie(A.element,q.twistie)),A.collapsible&&(!this.hideTwistiesOfChildlessElements||A.visibleChildrenCount>0)?(Pe||q.twistie.classList.add(...Ce.k.asClassNameArray(Ee.l.treeItemExpanded)),q.twistie.classList.add("collapsible"),q.twistie.classList.toggle("collapsed",A.collapsed)):q.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(A,q)}_renderIndentGuides(A,q){if((0,D.PO)(q.indent),q.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const fe=new L.SL,Pe=this.modelProvider();for(;;){const Ye=Pe.getNodeLocation(A),dt=Pe.getParentNodeLocation(Ye);if(!dt)break;const St=Pe.getNode(dt),Bt=(0,D.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(St)&&Bt.classList.add("active"),q.indent.childElementCount===0?q.indent.appendChild(Bt):q.indent.insertBefore(Bt,q.indent.firstElementChild),this.renderedIndentGuides.add(St,Bt),fe.add((0,L.OF)(()=>this.renderedIndentGuides.delete(St,Bt))),A=St}q.indentGuidesDisposable=fe}_onDidChangeActiveNodes(A){if(!this.shouldRenderIndentGuides)return;const q=new Set,fe=this.modelProvider();A.forEach(Pe=>{const Ye=fe.getNodeLocation(Pe);try{const dt=fe.getParentNodeLocation(Ye);Pe.collapsible&&Pe.children.length>0&&!Pe.collapsed?q.add(Pe):dt&&q.add(fe.getNode(dt))}catch(dt){}}),this.activeIndentNodes.forEach(Pe=>{q.has(Pe)||this.renderedIndentGuides.forEach(Pe,Ye=>Ye.classList.remove("active"))}),q.forEach(Pe=>{this.activeIndentNodes.has(Pe)||this.renderedIndentGuides.forEach(Pe,Ye=>Ye.classList.add("active"))}),this.activeIndentNodes=q}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,L.B9)(this.disposables)}}Re.DefaultIndent=8;class st{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(A,q,fe){this.tree=A,this.keyboardNavigationLabelProvider=q,this._filter=fe,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new L.SL,A.onWillRefilter(this.reset,this,this.disposables)}filter(A,q){let fe=1;if(this._filter){const dt=this._filter.filter(A,q);if(typeof dt=="boolean"?fe=dt?1:0:j(dt)?fe=K(dt.visibility):fe=dt,fe===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:xe.CL.Default,visibility:fe};const Pe=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(A),Ye=Array.isArray(Pe)?Pe:[Pe];for(const dt of Ye){const St=dt&&dt.toString();if(typeof St=="undefined")return{data:xe.CL.Default,visibility:fe};let Bt;if(this.tree.findMatchType===pt.Contiguous){const Ci=St.toLowerCase().indexOf(this._lowercasePattern);if(Ci>-1){Bt=[Number.MAX_SAFE_INTEGER,0];for(let vi=this._lowercasePattern.length;vi>0;vi--)Bt.push(Ci+vi-1)}}else Bt=(0,xe.EW)(this._pattern,this._lowercasePattern,0,St,St.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(Bt)return this._matchCount++,Ye.length===1?{data:Bt,visibility:fe}:{data:{label:St,score:Bt},visibility:fe}}return this.tree.findMode===we.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(A):2:{data:xe.CL.Default,visibility:fe}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,L.B9)(this.disposables)}}class Tt extends null{constructor(A){var q;super({icon:Codicon.listFilter,title:localize("filter","Filter"),isChecked:(q=A.isChecked)!==null&&q!==void 0?q:!1,inputActiveOptionBorder:A.inputActiveOptionBorder,inputActiveOptionForeground:A.inputActiveOptionForeground,inputActiveOptionBackground:A.inputActiveOptionBackground})}}class xt extends null{constructor(A){var q;super({icon:Codicon.searchFuzzy,title:localize("fuzzySearch","Fuzzy Match"),isChecked:(q=A.isChecked)!==null&&q!==void 0?q:!1,inputActiveOptionBorder:A.inputActiveOptionBorder,inputActiveOptionForeground:A.inputActiveOptionForeground,inputActiveOptionBackground:A.inputActiveOptionBackground})}}const vt={inputBoxStyles:Y.g4,toggleStyles:Z.D,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var we;(function(Fe){Fe[Fe.Highlight=0]="Highlight",Fe[Fe.Filter=1]="Filter"})(we||(we={}));var pt;(function(Fe){Fe[Fe.Fuzzy=0]="Fuzzy",Fe[Fe.Contiguous=1]="Contiguous"})(pt||(pt={}));class Mt extends null{set mode(A){this.modeToggle.checked=A===we.Filter,this.findInput.inputBox.setPlaceHolder(A===we.Filter?localize("type to filter","Type to filter"):localize("type to search","Type to search"))}set matchType(A){this.matchTypeToggle.checked=A===pt.Fuzzy}constructor(A,q,fe,Pe,Ye,dt){var St;super(),this.tree=q,this.elements=h(".monaco-tree-type-filter",[h(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),h(".monaco-tree-type-filter-input@findInput"),h(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this.top=0,this._onDidDisable=new Emitter,A.appendChild(this.elements.root),this._register(toDisposable(()=>A.removeChild(this.elements.root)));const Bt=(St=dt==null?void 0:dt.styles)!==null&&St!==void 0?St:vt;Bt.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=Bt.listFilterWidgetBackground),Bt.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${Bt.listFilterWidgetShadow}`),this.modeToggle=this._register(new Tt(sn(Di({},Bt.toggleStyles),{isChecked:Pe===we.Filter}))),this.matchTypeToggle=this._register(new xt(sn(Di({},Bt.toggleStyles),{isChecked:Ye===pt.Fuzzy}))),this.onDidChangeMode=Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?we.Filter:we.Highlight,this._store),this.onDidChangeMatchType=Event.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?pt.Fuzzy:pt.Contiguous,this._store),this.findInput=this._register(new FindInput(this.elements.findInput,fe,{label:localize("type to search","Type to search"),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:Bt.inputBoxStyles,toggleStyles:Bt.toggleStyles,history:dt==null?void 0:dt.history})),this.actionbar=this._register(new ActionBar(this.elements.actionbar)),this.mode=Pe;const Ci=this._register(new DomEmitter(this.findInput.inputBox.inputElement,"keydown")),vi=Event.chain(Ci.event,Mi=>Mi.map(Oi=>new StandardKeyboardEvent(Oi)));this._register(vi(Mi=>{if(Mi.equals(3)){Mi.preventDefault(),Mi.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if(Mi.equals(18)){Mi.preventDefault(),Mi.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if(Mi.equals(16)){Mi.preventDefault(),Mi.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));const zi=this._register(new Action("close",localize("close","Close"),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(zi,{icon:!0,label:!1});const Gi=this._register(new DomEmitter(this.elements.grab,"mousedown"));this._register(Gi.event(Mi=>{const Oi=new DisposableStore,Xi=Oi.add(new DomEmitter(getWindow(Mi),"mousemove")),Hn=Oi.add(new DomEmitter(getWindow(Mi),"mouseup")),js=this.right,go=Mi.pageX,So=this.top,An=Mi.pageY;this.elements.grab.classList.add("grabbing");const Ts=this.elements.root.style.transition;this.elements.root.style.transition="unset";const rs=$n=>{const Bs=$n.pageX-go;this.right=js-Bs;const so=$n.pageY-An;this.top=So+so,this.layout()};Oi.add(Xi.event(rs)),Oi.add(Hn.event($n=>{rs($n),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=Ts,Oi.dispose()}))}));const Wi=Event.chain(this._register(new DomEmitter(this.elements.grab,"keydown")).event,Mi=>Mi.map(Oi=>new StandardKeyboardEvent(Oi)));this._register(Wi(Mi=>{let Oi,Xi;if(Mi.keyCode===15?Oi=Number.POSITIVE_INFINITY:Mi.keyCode===17?Oi=0:Mi.keyCode===10&&(Oi=this.right===0?Number.POSITIVE_INFINITY:0),Mi.keyCode===16?Xi=0:Mi.keyCode===18&&(Xi=Number.POSITIVE_INFINITY),Oi!==void 0&&(Mi.preventDefault(),Mi.stopPropagation(),this.right=Oi,this.layout()),Xi!==void 0){Mi.preventDefault(),Mi.stopPropagation(),this.top=Xi;const Hn=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=Hn},0)}})),this.onDidChangeValue=this.findInput.onDidChange}layout(A=this.width){this.width=A,this.right=clamp(this.right,0,Math.max(0,A-212)),this.elements.root.style.right=`${this.right}px`,this.top=clamp(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(A){this.findInput.showMessage(A)}clearMessage(){this.findInput.clearMessage()}dispose(){return At(this,null,function*(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),yield timeout(300),z_(Mt.prototype,this,"dispose").call(this)})}}class Ft{get pattern(){return this._pattern}get mode(){return this._mode}set mode(A){A!==this._mode&&(this._mode=A,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(A))}get matchType(){return this._matchType}set matchType(A){A!==this._matchType&&(this._matchType=A,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(A))}constructor(A,q,fe,Pe,Ye,dt={}){var St,Bt;this.tree=A,this.view=fe,this.filter=Pe,this.contextViewProvider=Ye,this.options=dt,this._pattern="",this.width=0,this._onDidChangeMode=new k.Q5,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new k.Q5,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new k.Q5,this._onDidChangeOpenState=new k.Q5,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new L.SL,this.disposables=new L.SL,this._mode=(St=A.options.defaultFindMode)!==null&&St!==void 0?St:we.Highlight,this._matchType=(Bt=A.options.defaultFindMatchType)!==null&&Bt!==void 0?Bt:pt.Fuzzy,q.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(A={}){A.defaultFindMode!==void 0&&(this.mode=A.defaultFindMode),A.defaultFindMatchType!==void 0&&(this.matchType=A.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var A,q,fe,Pe;const Ye=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&Ye?!((A=this.tree.options.showNotFoundMessage)!==null&&A!==void 0)||A?(q=this.widget)===null||q===void 0||q.showMessage({type:2,content:(0,Xe.NC)("not found","No elements found.")}):(fe=this.widget)===null||fe===void 0||fe.showMessage({type:2}):(Pe=this.widget)===null||Pe===void 0||Pe.clearMessage()}shouldAllowFocus(A){return!this.widget||!this.pattern||this._mode===we.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!xe.CL.isDefault(A.filterData)}layout(A){var q;this.width=A,(q=this.widget)===null||q===void 0||q.layout(A)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function Xt(Fe,A){return Fe.position===A.position&&Fe.node.element===A.node.element&&Fe.startIndex===A.startIndex&&Fe.height===A.height&&Fe.endIndex===A.endIndex}class li extends L.JT{constructor(A=[]){super(),this.stickyNodes=A}get count(){return this.stickyNodes.length}equal(A){return(0,X.fS)(this.stickyNodes,A.stickyNodes,Xt)}addDisposable(A){this._register(A)}}class Yt extends L.JT{get firstVisibleNode(){const A=this.view.firstVisibleIndex;if(!(A<0||A>=this.view.length))return this.view.element(A)}constructor(A,q,fe,Pe,Ye,dt={}){super(),this.tree=A,this.model=q,this.view=fe,this.treeDelegate=Ye,this.maxWidgetViewRatio=.4;const St=this.validateStickySettings(dt);this.stickyScrollMaxItemCount=St.stickyScrollMaxItemCount,this._widget=this._register(new Ne(fe.getScrollableElement(),fe,q,Pe,Ye)),this._register(fe.onDidScroll(()=>this.update())),this._register(fe.onDidChangeContentHeight(()=>this.update())),this._register(A.onDidChangeCollapseState(()=>this.update())),this.update()}update(){const A=this.firstVisibleNode;if(!A||this.tree.scrollTop===0){this._widget.setState(void 0);return}const q=this.findStickyState(A);this._widget.setState(q)}findStickyState(A){const q=[],fe=this.view.renderHeight*this.maxWidgetViewRatio;let Pe=A,Ye=0,dt=this.getNextStickyNode(Pe,void 0,Ye);for(;dt&&Ye+dt.height<fe&&(q.push(dt),Ye+=dt.height,!(q.length>=this.stickyScrollMaxItemCount||(Pe=this.getNextVisibleNode(Pe),!Pe)));)dt=this.getNextStickyNode(Pe,dt.node,Ye);return q.length?new li(q):void 0}getNextVisibleNode(A){const q=this.getNodeIndex(A);return q===-1||q===this.view.length-1?void 0:this.view.element(q+1)}getNextStickyNode(A,q,fe){const Pe=this.getAncestorUnderPrevious(A,q);if(Pe&&!(Pe===A&&(!this.nodeIsUncollapsedParent(A)||this.nodeTopAlignsWithStickyNodesBottom(A,fe))))return this.createStickyScrollNode(Pe,fe)}nodeTopAlignsWithStickyNodesBottom(A,q){const fe=this.getNodeIndex(A),Pe=this.view.getElementTop(fe),Ye=q;return this.view.scrollTop===Pe-Ye}createStickyScrollNode(A,q){const fe=this.treeDelegate.getHeight(A),{startIndex:Pe,endIndex:Ye}=this.getNodeRange(A),dt=this.calculateStickyNodePosition(Ye,q);return{node:A,position:dt,height:fe,startIndex:Pe,endIndex:Ye}}getAncestorUnderPrevious(A,q=void 0){let fe=A,Pe=this.getParentNode(fe);for(;Pe;){if(Pe===q)return fe;fe=Pe,Pe=this.getParentNode(fe)}if(q===void 0)return fe}calculateStickyNodePosition(A,q){let fe=this.view.getRelativeTop(A);if(fe===null&&this.view.firstVisibleIndex===A&&A+1<this.view.length){const Bt=this.treeDelegate.getHeight(this.view.element(A)),Ci=this.view.getRelativeTop(A+1);fe=Ci?Ci-Bt/this.view.renderHeight:null}if(fe===null)return q;const Pe=this.view.element(A),Ye=this.treeDelegate.getHeight(Pe),dt=fe*this.view.renderHeight,St=dt+Ye;return q>dt&&q<=St?dt:q}getParentNode(A){const q=this.model.getNodeLocation(A),fe=this.model.getParentNodeLocation(q);return fe?this.model.getNode(fe):void 0}nodeIsUncollapsedParent(A){const q=this.model.getNodeLocation(A);return this.model.getListRenderCount(q)>1}getNodeIndex(A,q){return q===void 0&&(q=this.model.getNodeLocation(A)),this.model.getListIndex(q)}getNodeRange(A){const q=this.model.getNodeLocation(A),fe=this.model.getListIndex(q);if(fe<0)throw new Error("Node not found in tree");const Pe=this.model.getListRenderCount(q),Ye=fe+Pe-1;return{startIndex:fe,endIndex:Ye}}nodePositionTopBelowWidget(A){const q=[];let fe=this.getParentNode(A);for(;fe;)q.push(fe),fe=this.getParentNode(fe);let Pe=0;for(let Ye=0;Ye<q.length&&Ye<this.stickyScrollMaxItemCount;Ye++)Pe+=this.treeDelegate.getHeight(q[Ye]);return Pe}updateOptions(A={}){const q=this.validateStickySettings(A);this.stickyScrollMaxItemCount!==q.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=q.stickyScrollMaxItemCount,this.update())}validateStickySettings(A){let q=5;return typeof A.stickyScrollMaxItemCount=="number"&&(q=Math.max(A.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:q}}}class Ne{constructor(A,q,fe,Pe,Ye){this.view=q,this.model=fe,this.treeRenderers=Pe,this.treeDelegate=Ye,this._rootDomNode=document.createElement("div"),this._rootDomNode.classList.add("monaco-tree-sticky-container"),A.appendChild(this._rootDomNode)}setState(A){var q;const fe=!!this._previousState&&this._previousState.count>0,Pe=!!A&&A.count>0;if(!fe&&!Pe||fe&&Pe&&this._previousState.equal(A)||(fe!==Pe&&this.setVisible(Pe),(q=this._previousState)===null||q===void 0||q.dispose(),this._previousState=A,!Pe))return;for(let St=A.count-1;St>=0;St--){const Bt=A.stickyNodes[St],Ci=St?A.stickyNodes[St-1]:void 0,vi=Ci?Ci.position+Ci.height:0,{element:zi,disposable:Gi}=this.createElement(Bt,vi);this._rootDomNode.appendChild(zi),A.addDisposable(Gi)}const Ye=(0,D.$)(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(Ye),A.addDisposable((0,L.OF)(()=>Ye.remove()));const dt=A.stickyNodes[A.count-1];this._rootDomNode.style.height=`${dt.position+dt.height}px`}createElement(A,q){const fe=this.model.getNodeLocation(A.node),Pe=this.model.getListIndex(fe),Ye=document.createElement("div");Ye.style.top=`${A.position}px`,Ye.style.height=`${A.height}px`,Ye.style.lineHeight=`${A.height}px`,Ye.classList.add("monaco-tree-sticky-row"),Ye.classList.add("monaco-list-row"),Ye.setAttribute("data-index",`${Pe}`),Ye.setAttribute("data-parity",Pe%2===0?"even":"odd"),Ye.setAttribute("id",this.view.getElementID(Pe));const dt=this.treeDelegate.getTemplateId(A.node),St=this.treeRenderers.find(zi=>zi.templateId===dt);if(!St)throw new Error(`No renderer found for template id ${dt}`);const Bt=new Proxy(A.node,{}),Ci=St.renderTemplate(Ye);St.renderElement(Bt,A.startIndex,Ci,A.height);const vi=(0,L.OF)(()=>{St.disposeElement(Bt,A.startIndex,Ci,A.height),St.disposeTemplate(Ci),Ye.remove()});return{element:Ye,disposable:vi}}setVisible(A){this._rootDomNode.style.display=A?"block":"none"}dispose(){var A;(A=this._previousState)===null||A===void 0||A.dispose(),this._rootDomNode.remove()}}function yt(Fe){let A=$.Unknown;return(0,D.uU)(Fe.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?A=$.Twistie:(0,D.uU)(Fe.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?A=$.Element:(0,D.uU)(Fe.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(A=$.Filter),{browserEvent:Fe.browserEvent,element:Fe.element?Fe.element.element:null,target:A}}function De(Fe,A){A(Fe),Fe.children.forEach(q=>De(q,A))}class di{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(A,q){this.getFirstViewElementWithTrait=A,this.identityProvider=q,this.nodes=[],this._onDidChange=new k.Q5,this.onDidChange=this._onDidChange.event}set(A,q){!(q!=null&&q.__forceEvent)&&(0,X.fS)(this.nodes,A)||this._set(A,!1,q)}_set(A,q,fe){if(this.nodes=[...A],this.elements=void 0,this._nodeSet=void 0,!q){const Pe=this;this._onDidChange.fire({get elements(){return Pe.get()},browserEvent:fe})}}get(){return this.elements||(this.elements=this.nodes.map(A=>A.element)),[...this.elements]}getNodes(){return this.nodes}has(A){return this.nodeSet.has(A)}onDidModelSplice({insertedNodes:A,deletedNodes:q}){if(!this.identityProvider){const Bt=this.createNodeSet(),Ci=vi=>Bt.delete(vi);q.forEach(vi=>De(vi,Ci)),this.set([...Bt.values()]);return}const fe=new Set,Pe=Bt=>fe.add(this.identityProvider.getId(Bt.element).toString());q.forEach(Bt=>De(Bt,Pe));const Ye=new Map,dt=Bt=>Ye.set(this.identityProvider.getId(Bt.element).toString(),Bt);A.forEach(Bt=>De(Bt,dt));const St=[];for(const Bt of this.nodes){const Ci=this.identityProvider.getId(Bt.element).toString();if(!fe.has(Ci))St.push(Bt);else{const zi=Ye.get(Ci);zi&&zi.visible&&St.push(zi)}}if(this.nodes.length>0&&St.length===0){const Bt=this.getFirstViewElementWithTrait();Bt&&St.push(Bt)}this._set(St,!0)}createNodeSet(){const A=new Set;for(const q of this.nodes)A.add(q);return A}}class Ve extends M.sx{constructor(A,q,fe){super(A),this.tree=q,this.stickyScrollProvider=fe}onViewPointer(A){if((0,M.iK)(A.browserEvent.target)||(0,M.cK)(A.browserEvent.target)||(0,M.hD)(A.browserEvent.target)||A.browserEvent.isHandledByList)return;const q=A.element;if(!q)return super.onViewPointer(A);if(this.isSelectionRangeChangeEvent(A)||this.isSelectionSingleChangeEvent(A))return super.onViewPointer(A);const fe=A.browserEvent.target,Pe=fe.classList.contains("monaco-tl-twistie")||fe.classList.contains("monaco-icon-label")&&fe.classList.contains("folder-icon")&&A.browserEvent.offsetX<16,Ye=(0,M.Et)(A.browserEvent.target);let dt=!1;if(Ye?dt=!0:typeof this.tree.expandOnlyOnTwistieClick=="function"?dt=this.tree.expandOnlyOnTwistieClick(q.element):dt=!!this.tree.expandOnlyOnTwistieClick,Ye)this.handleStickyScrollMouseEvent(A,q);else{if(dt&&!Pe&&A.browserEvent.detail!==2)return super.onViewPointer(A);if(!this.tree.expandOnDoubleClick&&A.browserEvent.detail===2)return super.onViewPointer(A)}if(q.collapsible&&(!Ye||Pe)){const St=this.tree.getNodeLocation(q),Bt=A.browserEvent.altKey;if(this.tree.setFocus([St]),this.tree.toggleCollapsed(St,Bt),dt&&Pe){A.browserEvent.isHandledByList=!0;return}}Ye||super.onViewPointer(A)}handleStickyScrollMouseEvent(A,q){if((0,M.$B)(A.browserEvent.target)||(0,M.dk)(A.browserEvent.target))return;const fe=this.stickyScrollProvider();if(!fe)throw new Error("Sticky scroll controller not found");const Pe=this.list.indexOf(q),Ye=this.list.getElementTop(Pe),dt=fe.nodePositionTopBelowWidget(q);this.tree.scrollTop=Ye-dt,this.list.setFocus([Pe]),this.list.setSelection([Pe])}onDoubleClick(A){A.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||A.browserEvent.isHandledByList||super.onDoubleClick(A)}}class $i extends M.aV{constructor(A,q,fe,Pe,Ye,dt,St,Bt){super(A,q,fe,Pe,Bt),this.focusTrait=Ye,this.selectionTrait=dt,this.anchorTrait=St}createMouseController(A){return new Ve(this,A.tree,A.stickyScrollProvider)}splice(A,q,fe=[]){if(super.splice(A,q,fe),fe.length===0)return;const Pe=[],Ye=[];let dt;fe.forEach((St,Bt)=>{this.focusTrait.has(St)&&Pe.push(A+Bt),this.selectionTrait.has(St)&&Ye.push(A+Bt),this.anchorTrait.has(St)&&(dt=A+Bt)}),Pe.length>0&&super.setFocus((0,X.EB)([...super.getFocus(),...Pe])),Ye.length>0&&super.setSelection((0,X.EB)([...super.getSelection(),...Ye])),typeof dt=="number"&&super.setAnchor(dt)}setFocus(A,q,fe=!1){super.setFocus(A,q),fe||this.focusTrait.set(A.map(Pe=>this.element(Pe)),q)}setSelection(A,q,fe=!1){super.setSelection(A,q),fe||this.selectionTrait.set(A.map(Pe=>this.element(Pe)),q)}setAnchor(A,q=!1){super.setAnchor(A),q||(typeof A=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(A)]))}}class wn{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return k.ju.filter(k.ju.map(this.view.onMouseDblClick,yt),A=>A.target!==$.Filter)}get onPointer(){return k.ju.map(this.view.onPointer,yt)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return k.ju.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var A,q;return(q=(A=this.findController)===null||A===void 0?void 0:A.mode)!==null&&q!==void 0?q:we.Highlight}set findMode(A){this.findController&&(this.findController.mode=A)}get findMatchType(){var A,q;return(q=(A=this.findController)===null||A===void 0?void 0:A.matchType)!==null&&q!==void 0?q:pt.Fuzzy}set findMatchType(A){this.findController&&(this.findController.matchType=A)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(A,q,fe,Pe,Ye={}){var dt;this._user=A,this._options=Ye,this.eventBufferer=new k.E7,this.onDidChangeFindOpenState=k.ju.None,this.disposables=new L.SL,this._onWillRefilter=new k.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new k.Q5,this.treeDelegate=new He(fe);const St=new k.ZD,Bt=new k.ZD,Ci=this.disposables.add(new gt(Bt.event)),vi=new pe.ri;this.renderers=Pe.map(Oi=>new Re(Oi,()=>this.model,St.event,Ci,vi,Ye));for(const Oi of this.renderers)this.disposables.add(Oi);let zi;Ye.keyboardNavigationLabelProvider&&(zi=new st(this,Ye.keyboardNavigationLabelProvider,Ye.filter),Ye=sn(Di({},Ye),{filter:zi}),this.disposables.add(zi)),this.focus=new di(()=>this.view.getFocusedElements()[0],Ye.identityProvider),this.selection=new di(()=>this.view.getSelectedElements()[0],Ye.identityProvider),this.anchor=new di(()=>this.view.getAnchorElement(),Ye.identityProvider),this.view=new $i(A,q,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,sn(Di({},ct(()=>this.model,Ye)),{tree:this,stickyScrollProvider:()=>this.stickyScrollController})),this.model=this.createModel(A,this.view,Ye),St.input=this.model.onDidChangeCollapseState;const Gi=k.ju.forEach(this.model.onDidSplice,Oi=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(Oi),this.selection.onDidModelSplice(Oi)})},this.disposables);Gi(()=>null,null,this.disposables);const Wi=this.disposables.add(new k.Q5),Mi=this.disposables.add(new re.vp(0));if(this.disposables.add(k.ju.any(Gi,this.focus.onDidChange,this.selection.onDidChange)(()=>{Mi.trigger(()=>{const Oi=new Set;for(const Xi of this.focus.getNodes())Oi.add(Xi);for(const Xi of this.selection.getNodes())Oi.add(Xi);Wi.fire([...Oi.values()])})})),Bt.input=Wi.event,Ye.keyboardSupport!==!1){const Oi=k.ju.chain(this.view.onKeyDown,Xi=>Xi.filter(Hn=>!(0,M.cK)(Hn.target)).map(Hn=>new R.y(Hn)));k.ju.chain(Oi,Xi=>Xi.filter(Hn=>Hn.keyCode===15))(this.onLeftArrow,this,this.disposables),k.ju.chain(Oi,Xi=>Xi.filter(Hn=>Hn.keyCode===17))(this.onRightArrow,this,this.disposables),k.ju.chain(Oi,Xi=>Xi.filter(Hn=>Hn.keyCode===10))(this.onSpace,this,this.disposables)}if((!((dt=Ye.findWidgetEnabled)!==null&&dt!==void 0)||dt)&&Ye.keyboardNavigationLabelProvider&&Ye.contextViewProvider){const Oi=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new Ft(this,this.model,this.view,zi,Ye.contextViewProvider,Oi),this.focusNavigationFilter=Xi=>this.findController.shouldAllowFocus(Xi),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=k.ju.None,this.onDidChangeFindMatchType=k.ju.None;Ye.enableStickyScroll&&(this.stickyScrollController=new Yt(this,this.model,this.view,this.renderers,this.treeDelegate,Ye)),this.styleElement=(0,D.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Dt.Always)}updateOptions(A={}){var q;this._options=Di(Di({},this._options),A);for(const fe of this.renderers)fe.updateOptions(A);this.view.updateOptions(this._options),(q=this.findController)===null||q===void 0||q.updateOptions(A),this.updateStickyScroll(A),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Dt.Always)}get options(){return this._options}updateStickyScroll(A){var q;!this.stickyScrollController&&this._options.enableStickyScroll?this.stickyScrollController=new Yt(this,this.model,this.view,this.renderers,this.treeDelegate,this._options):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.stickyScrollController.dispose(),this.stickyScrollController=void 0),(q=this.stickyScrollController)===null||q===void 0||q.updateOptions(A)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(A){this.view.scrollTop=A}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}domFocus(){this.view.domFocus()}layout(A,q){var fe;this.view.layout(A,q),(0,rt.hj)(q)&&((fe=this.findController)===null||fe===void 0||fe.layout(q))}style(A){const q=`.${this.view.domId}`,fe=[];A.treeIndentGuidesStroke&&(fe.push(`.monaco-list${q}:hover .monaco-tl-indent > .indent-guide, .monaco-list${q}.always .monaco-tl-indent > .indent-guide  { border-color: ${A.treeInactiveIndentGuidesStroke}; }`),fe.push(`.monaco-list${q} .monaco-tl-indent > .indent-guide.active { border-color: ${A.treeIndentGuidesStroke}; }`)),A.listBackground&&(fe.push(`.monaco-list${q} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${A.listBackground}; }`),fe.push(`.monaco-list${q} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${A.listBackground}; }`)),this.styleElement.textContent=fe.join(`
`),this.view.style(A)}getParentElement(A){const q=this.model.getParentNodeLocation(A);return this.model.getNode(q).element}getFirstElementChild(A){return this.model.getFirstElementChild(A)}getNode(A){return this.model.getNode(A)}getNodeLocation(A){return this.model.getNodeLocation(A)}collapse(A,q=!1){return this.model.setCollapsed(A,!0,q)}expand(A,q=!1){return this.model.setCollapsed(A,!1,q)}toggleCollapsed(A,q=!1){return this.model.setCollapsed(A,void 0,q)}isCollapsible(A){return this.model.isCollapsible(A)}setCollapsible(A,q){return this.model.setCollapsible(A,q)}isCollapsed(A){return this.model.isCollapsed(A)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(A,q){const fe=A.map(Ye=>this.model.getNode(Ye));this.selection.set(fe,q);const Pe=A.map(Ye=>this.model.getListIndex(Ye)).filter(Ye=>Ye>-1);this.view.setSelection(Pe,q,!0)}getSelection(){return this.selection.get()}setFocus(A,q){const fe=A.map(Ye=>this.model.getNode(Ye));this.focus.set(fe,q);const Pe=A.map(Ye=>this.model.getListIndex(Ye)).filter(Ye=>Ye>-1);this.view.setFocus(Pe,q,!0)}getFocus(){return this.focus.get()}reveal(A,q){this.model.expandTo(A);const fe=this.model.getListIndex(A);if(fe!==-1)if(!this.stickyScrollController)this.view.reveal(fe,q);else{const Pe=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(A));this.view.reveal(fe,q,Pe)}}onLeftArrow(A){A.preventDefault(),A.stopPropagation();const q=this.view.getFocusedElements();if(q.length===0)return;const fe=q[0],Pe=this.model.getNodeLocation(fe);if(!this.model.setCollapsed(Pe,!0)){const dt=this.model.getParentNodeLocation(Pe);if(!dt)return;const St=this.model.getListIndex(dt);this.view.reveal(St),this.view.setFocus([St])}}onRightArrow(A){A.preventDefault(),A.stopPropagation();const q=this.view.getFocusedElements();if(q.length===0)return;const fe=q[0],Pe=this.model.getNodeLocation(fe);if(!this.model.setCollapsed(Pe,!1)){if(!fe.children.some(Bt=>Bt.visible))return;const[dt]=this.view.getFocus(),St=dt+1;this.view.reveal(St),this.view.setFocus([St])}}onSpace(A){A.preventDefault(),A.stopPropagation();const q=this.view.getFocusedElements();if(q.length===0)return;const fe=q[0],Pe=this.model.getNodeLocation(fe),Ye=A.browserEvent.altKey;this.model.setCollapsed(Pe,void 0,Ye)}dispose(){var A;(0,L.B9)(this.disposables),(A=this.stickyScrollController)===null||A===void 0||A.dispose(),this.view.dispose()}}class Pt{constructor(A,q,fe={}){this.user=A,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new ce(A,q,null,fe),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,fe.sorter&&(this.sorter={compare(Pe,Ye){return fe.sorter.compare(Pe.element,Ye.element)}}),this.identityProvider=fe.identityProvider}setChildren(A,q=P.$.empty(),fe={}){const Pe=this.getElementLocation(A);this._setChildren(Pe,this.preserveCollapseState(q),fe)}_setChildren(A,q=P.$.empty(),fe){const Pe=new Set,Ye=new Set,dt=Bt=>{var Ci;if(Bt.element===null)return;const vi=Bt;if(Pe.add(vi.element),this.nodes.set(vi.element,vi),this.identityProvider){const zi=this.identityProvider.getId(vi.element).toString();Ye.add(zi),this.nodesByIdentity.set(zi,vi)}(Ci=fe.onDidCreateNode)===null||Ci===void 0||Ci.call(fe,vi)},St=Bt=>{var Ci;if(Bt.element===null)return;const vi=Bt;if(Pe.has(vi.element)||this.nodes.delete(vi.element),this.identityProvider){const zi=this.identityProvider.getId(vi.element).toString();Ye.has(zi)||this.nodesByIdentity.delete(zi)}(Ci=fe.onDidDeleteNode)===null||Ci===void 0||Ci.call(fe,vi)};this.model.splice([...A,0],Number.MAX_VALUE,q,sn(Di({},fe),{onDidCreateNode:dt,onDidDeleteNode:St}))}preserveCollapseState(A=P.$.empty()){return this.sorter&&(A=[...A].sort(this.sorter.compare.bind(this.sorter))),P.$.map(A,q=>{let fe=this.nodes.get(q.element);if(!fe&&this.identityProvider){const dt=this.identityProvider.getId(q.element).toString();fe=this.nodesByIdentity.get(dt)}if(!fe){let dt;return typeof q.collapsed=="undefined"?dt=void 0:q.collapsed===ne.Collapsed||q.collapsed===ne.PreserveOrCollapsed?dt=!0:q.collapsed===ne.Expanded||q.collapsed===ne.PreserveOrExpanded?dt=!1:dt=!!q.collapsed,sn(Di({},q),{children:this.preserveCollapseState(q.children),collapsed:dt})}const Pe=typeof q.collapsible=="boolean"?q.collapsible:fe.collapsible;let Ye;return typeof q.collapsed=="undefined"||q.collapsed===ne.PreserveOrCollapsed||q.collapsed===ne.PreserveOrExpanded?Ye=fe.collapsed:q.collapsed===ne.Collapsed?Ye=!0:q.collapsed===ne.Expanded?Ye=!1:Ye=!!q.collapsed,sn(Di({},q),{collapsible:Pe,collapsed:Ye,children:this.preserveCollapseState(q.children)})})}rerender(A){const q=this.getElementLocation(A);this.model.rerender(q)}getFirstElementChild(A=null){const q=this.getElementLocation(A);return this.model.getFirstElementChild(q)}has(A){return this.nodes.has(A)}getListIndex(A){const q=this.getElementLocation(A);return this.model.getListIndex(q)}getListRenderCount(A){const q=this.getElementLocation(A);return this.model.getListRenderCount(q)}isCollapsible(A){const q=this.getElementLocation(A);return this.model.isCollapsible(q)}setCollapsible(A,q){const fe=this.getElementLocation(A);return this.model.setCollapsible(fe,q)}isCollapsed(A){const q=this.getElementLocation(A);return this.model.isCollapsed(q)}setCollapsed(A,q,fe){const Pe=this.getElementLocation(A);return this.model.setCollapsed(Pe,q,fe)}expandTo(A){const q=this.getElementLocation(A);this.model.expandTo(q)}refilter(){this.model.refilter()}getNode(A=null){if(A===null)return this.model.getNode(this.model.rootRef);const q=this.nodes.get(A);if(!q)throw new J(this.user,`Tree element not found: ${A}`);return q}getNodeLocation(A){return A.element}getParentNodeLocation(A){if(A===null)throw new J(this.user,"Invalid getParentNodeLocation call");const q=this.nodes.get(A);if(!q)throw new J(this.user,`Tree element not found: ${A}`);const fe=this.model.getNodeLocation(q),Pe=this.model.getParentNodeLocation(fe);return this.model.getNode(Pe).element}getElementLocation(A){if(A===null)return[];const q=this.nodes.get(A);if(!q)throw new J(this.user,`Tree element not found: ${A}`);return this.model.getNodeLocation(q)}}function le(Fe){const A=[Fe.element],q=Fe.incompressible||!1;return{element:{elements:A,incompressible:q},children:P.$.map(P.$.from(Fe.children),le),collapsible:Fe.collapsible,collapsed:Fe.collapsed}}function mt(Fe){const A=[Fe.element],q=Fe.incompressible||!1;let fe,Pe;for(;[Pe,fe]=P.$.consume(P.$.from(Fe.children),2),!(Pe.length!==1||Pe[0].incompressible);)Fe=Pe[0],A.push(Fe.element);return{element:{elements:A,incompressible:q},children:P.$.map(P.$.concat(Pe,fe),mt),collapsible:Fe.collapsible,collapsed:Fe.collapsed}}function jt(Fe,A=0){let q;return A<Fe.element.elements.length-1?q=[jt(Fe,A+1)]:q=P.$.map(P.$.from(Fe.children),fe=>jt(fe,0)),A===0&&Fe.element.incompressible?{element:Fe.element.elements[A],children:q,incompressible:!0,collapsible:Fe.collapsible,collapsed:Fe.collapsed}:{element:Fe.element.elements[A],children:q,collapsible:Fe.collapsible,collapsed:Fe.collapsed}}function bi(Fe){return jt(Fe,0)}function Ot(Fe,A,q){return Fe.element===A?sn(Di({},Fe),{children:q}):sn(Di({},Fe),{children:P.$.map(P.$.from(Fe.children),fe=>Ot(fe,A,q))})}const Ki=Fe=>({getId(A){return A.elements.map(q=>Fe.getId(q).toString()).join("\0")}});class xi{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(A,q,fe={}){this.user=A,this.rootRef=null,this.nodes=new Map,this.model=new Pt(A,q,fe),this.enabled=typeof fe.compressionEnabled=="undefined"?!0:fe.compressionEnabled,this.identityProvider=fe.identityProvider}setChildren(A,q=P.$.empty(),fe){const Pe=fe.diffIdentityProvider&&Ki(fe.diffIdentityProvider);if(A===null){const Mi=P.$.map(q,this.enabled?mt:le);this._setChildren(null,Mi,{diffIdentityProvider:Pe,diffDepth:1/0});return}const Ye=this.nodes.get(A);if(!Ye)throw new J(this.user,"Unknown compressed tree node");const dt=this.model.getNode(Ye),St=this.model.getParentNodeLocation(Ye),Bt=this.model.getNode(St),Ci=bi(dt),vi=Ot(Ci,A,q),zi=(this.enabled?mt:le)(vi),Gi=fe.diffIdentityProvider?(Mi,Oi)=>fe.diffIdentityProvider.getId(Mi)===fe.diffIdentityProvider.getId(Oi):void 0;if((0,X.fS)(zi.element.elements,dt.element.elements,Gi)){this._setChildren(Ye,zi.children||P.$.empty(),{diffIdentityProvider:Pe,diffDepth:1});return}const Wi=Bt.children.map(Mi=>Mi===dt?zi:Mi);this._setChildren(Bt.element,Wi,{diffIdentityProvider:Pe,diffDepth:dt.depth-Bt.depth})}setCompressionEnabled(A){if(A===this.enabled)return;this.enabled=A;const fe=this.model.getNode().children,Pe=P.$.map(fe,bi),Ye=P.$.map(Pe,A?mt:le);this._setChildren(null,Ye,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(A,q,fe){const Pe=new Set,Ye=St=>{for(const Bt of St.element.elements)Pe.add(Bt),this.nodes.set(Bt,St.element)},dt=St=>{for(const Bt of St.element.elements)Pe.has(Bt)||this.nodes.delete(Bt)};this.model.setChildren(A,q,sn(Di({},fe),{onDidCreateNode:Ye,onDidDeleteNode:dt}))}has(A){return this.nodes.has(A)}getListIndex(A){const q=this.getCompressedNode(A);return this.model.getListIndex(q)}getListRenderCount(A){const q=this.getCompressedNode(A);return this.model.getListRenderCount(q)}getNode(A){if(typeof A=="undefined")return this.model.getNode();const q=this.getCompressedNode(A);return this.model.getNode(q)}getNodeLocation(A){const q=this.model.getNodeLocation(A);return q===null?null:q.elements[q.elements.length-1]}getParentNodeLocation(A){const q=this.getCompressedNode(A),fe=this.model.getParentNodeLocation(q);return fe===null?null:fe.elements[fe.elements.length-1]}getFirstElementChild(A){const q=this.getCompressedNode(A);return this.model.getFirstElementChild(q)}isCollapsible(A){const q=this.getCompressedNode(A);return this.model.isCollapsible(q)}setCollapsible(A,q){const fe=this.getCompressedNode(A);return this.model.setCollapsible(fe,q)}isCollapsed(A){const q=this.getCompressedNode(A);return this.model.isCollapsed(q)}setCollapsed(A,q,fe){const Pe=this.getCompressedNode(A);return this.model.setCollapsed(Pe,q,fe)}expandTo(A){const q=this.getCompressedNode(A);this.model.expandTo(q)}rerender(A){const q=this.getCompressedNode(A);this.model.rerender(q)}refilter(){this.model.refilter()}getCompressedNode(A){if(A===null)return null;const q=this.nodes.get(A);if(!q)throw new J(this.user,`Tree element not found: ${A}`);return q}}const dn=Fe=>Fe[Fe.length-1];class zt{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(A=>new zt(this.unwrapper,A))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(A,q){this.unwrapper=A,this.node=q}}function Qi(Fe,A){return{splice(q,fe,Pe){A.splice(q,fe,Pe.map(Ye=>Fe.map(Ye)))},updateElementHeight(q,fe){A.updateElementHeight(q,fe)}}}function ei(Fe,A){return sn(Di({},A),{identityProvider:A.identityProvider&&{getId(q){return A.identityProvider.getId(Fe(q))}},sorter:A.sorter&&{compare(q,fe){return A.sorter.compare(q.elements[0],fe.elements[0])}},filter:A.filter&&{filter(q,fe){return A.filter.filter(Fe(q),fe)}}})}class Be{get onDidSplice(){return k.ju.map(this.model.onDidSplice,({insertedNodes:A,deletedNodes:q})=>({insertedNodes:A.map(fe=>this.nodeMapper.map(fe)),deletedNodes:q.map(fe=>this.nodeMapper.map(fe))}))}get onDidChangeCollapseState(){return k.ju.map(this.model.onDidChangeCollapseState,({node:A,deep:q})=>({node:this.nodeMapper.map(A),deep:q}))}get onDidChangeRenderNodeCount(){return k.ju.map(this.model.onDidChangeRenderNodeCount,A=>this.nodeMapper.map(A))}constructor(A,q,fe={}){this.rootRef=null,this.elementMapper=fe.elementMapper||dn;const Pe=Ye=>this.elementMapper(Ye.elements);this.nodeMapper=new se(Ye=>new zt(Pe,Ye)),this.model=new xi(A,Qi(this.nodeMapper,q),ei(Pe,fe))}setChildren(A,q=P.$.empty(),fe={}){this.model.setChildren(A,q,fe)}setCompressionEnabled(A){this.model.setCompressionEnabled(A)}has(A){return this.model.has(A)}getListIndex(A){return this.model.getListIndex(A)}getListRenderCount(A){return this.model.getListRenderCount(A)}getNode(A){return this.nodeMapper.map(this.model.getNode(A))}getNodeLocation(A){return A.element}getParentNodeLocation(A){return this.model.getParentNodeLocation(A)}getFirstElementChild(A){const q=this.model.getFirstElementChild(A);return q===null||typeof q=="undefined"?q:this.elementMapper(q.elements)}isCollapsible(A){return this.model.isCollapsible(A)}setCollapsible(A,q){return this.model.setCollapsible(A,q)}isCollapsed(A){return this.model.isCollapsed(A)}setCollapsed(A,q,fe){return this.model.setCollapsed(A,q,fe)}expandTo(A){return this.model.expandTo(A)}rerender(A){return this.model.rerender(A)}refilter(){return this.model.refilter()}getCompressedTreeNode(A=null){return this.model.getNode(A)}}var Nt=c(62735),Ri=function(Fe,A,q,fe){var Pe=arguments.length,Ye=Pe<3?A:fe===null?fe=Object.getOwnPropertyDescriptor(A,q):fe,dt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ye=Reflect.decorate(Fe,A,q,fe);else for(var St=Fe.length-1;St>=0;St--)(dt=Fe[St])&&(Ye=(Pe<3?dt(Ye):Pe>3?dt(A,q,Ye):dt(A,q))||Ye);return Pe>3&&Ye&&Object.defineProperty(A,q,Ye),Ye};class Fi extends wn{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(A,q,fe,Pe,Ye={}){super(A,q,fe,Pe,Ye),this.user=A}setChildren(A,q=P.$.empty(),fe){this.model.setChildren(A,q,fe)}rerender(A){if(A===void 0){this.view.rerender();return}this.model.rerender(A)}hasElement(A){return this.model.has(A)}createModel(A,q,fe){return new Pt(A,q,fe)}}class hi{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(A,q){this._compressedTreeNodeProvider=A,this.renderer=q,this.templateId=q.templateId,q.onDidChangeTwistieState&&(this.onDidChangeTwistieState=q.onDidChangeTwistieState)}renderTemplate(A){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(A)}}renderElement(A,q,fe,Pe){const Ye=this.compressedTreeNodeProvider.getCompressedTreeNode(A.element);Ye.element.elements.length===1?(fe.compressedTreeNode=void 0,this.renderer.renderElement(A,q,fe.data,Pe)):(fe.compressedTreeNode=Ye,this.renderer.renderCompressedElements(Ye,q,fe.data,Pe))}disposeElement(A,q,fe,Pe){var Ye,dt,St,Bt;fe.compressedTreeNode?(dt=(Ye=this.renderer).disposeCompressedElements)===null||dt===void 0||dt.call(Ye,fe.compressedTreeNode,q,fe.data,Pe):(Bt=(St=this.renderer).disposeElement)===null||Bt===void 0||Bt.call(St,A,q,fe.data,Pe)}disposeTemplate(A){this.renderer.disposeTemplate(A.data)}renderTwistie(A,q){return this.renderer.renderTwistie?this.renderer.renderTwistie(A,q):!1}}Ri([Nt.H],hi.prototype,"compressedTreeNodeProvider",null);function En(Fe,A){return A&&sn(Di({},A),{keyboardNavigationLabelProvider:A.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(q){let fe;try{fe=Fe().getCompressedTreeNode(q)}catch(Pe){return A.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(q)}return fe.element.elements.length===1?A.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(q):A.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(fe.element.elements)}}})}class bn extends Fi{constructor(A,q,fe,Pe,Ye={}){const dt=()=>this,St=Pe.map(Bt=>new hi(dt,Bt));super(A,q,fe,St,En(dt,Ye))}setChildren(A,q=P.$.empty(),fe){this.model.setChildren(A,q,fe)}createModel(A,q,fe){return new Be(A,q,fe)}updateOptions(A={}){super.updateOptions(A),typeof A.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(A.compressionEnabled)}getCompressedTreeNode(A=null){return this.model.getCompressedTreeNode(A)}}var gn=c(35541);function Bn(Fe){return sn(Di({},Fe),{children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1})}function kn(Fe,A){return A.parent?A.parent===Fe?!0:kn(Fe,A.parent):!1}function en(Fe,A){return Fe===A||kn(Fe,A)||kn(A,Fe)}class Jn{get element(){return this.node.element.element}get children(){return this.node.children.map(A=>new Jn(A))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(A){this.node=A}}class ys{constructor(A,q,fe){this.renderer=A,this.nodeMapper=q,this.onDidChangeTwistieState=fe,this.renderedNodes=new Map,this.templateId=A.templateId}renderTemplate(A){return{templateData:this.renderer.renderTemplate(A)}}renderElement(A,q,fe,Pe){this.renderer.renderElement(this.nodeMapper.map(A),q,fe.templateData,Pe)}renderTwistie(A,q){return A.slow?(q.classList.add(...Ce.k.asClassNameArray(Ee.l.treeItemLoading)),!0):(q.classList.remove(...Ce.k.asClassNameArray(Ee.l.treeItemLoading)),!1)}disposeElement(A,q,fe,Pe){var Ye,dt;(dt=(Ye=this.renderer).disposeElement)===null||dt===void 0||dt.call(Ye,this.nodeMapper.map(A),q,fe.templateData,Pe)}disposeTemplate(A){this.renderer.disposeTemplate(A.templateData)}dispose(){this.renderedNodes.clear()}}function ds(Fe){return{browserEvent:Fe.browserEvent,elements:Fe.elements.map(A=>A.element)}}function cs(Fe){return{browserEvent:Fe.browserEvent,element:Fe.element&&Fe.element.element,target:Fe.target}}class ps extends G.kX{constructor(A){super(A.elements.map(q=>q.element)),this.data=A}}function In(Fe){return Fe instanceof G.kX?new ps(Fe):Fe}class os{constructor(A){this.dnd=A}getDragURI(A){return this.dnd.getDragURI(A.element)}getDragLabel(A,q){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(A.map(fe=>fe.element),q)}onDragStart(A,q){var fe,Pe;(Pe=(fe=this.dnd).onDragStart)===null||Pe===void 0||Pe.call(fe,In(A),q)}onDragOver(A,q,fe,Pe,Ye=!0){return this.dnd.onDragOver(In(A),q&&q.element,fe,Pe)}drop(A,q,fe,Pe){this.dnd.drop(In(A),q&&q.element,fe,Pe)}onDragEnd(A){var q,fe;(fe=(q=this.dnd).onDragEnd)===null||fe===void 0||fe.call(q,A)}dispose(){this.dnd.dispose()}}function ui(Fe){return Fe&&sn(Di({},Fe),{collapseByDefault:!0,identityProvider:Fe.identityProvider&&{getId(A){return Fe.identityProvider.getId(A.element)}},dnd:Fe.dnd&&new os(Fe.dnd),multipleSelectionController:Fe.multipleSelectionController&&{isSelectionSingleChangeEvent(A){return Fe.multipleSelectionController.isSelectionSingleChangeEvent(sn(Di({},A),{element:A.element}))},isSelectionRangeChangeEvent(A){return Fe.multipleSelectionController.isSelectionRangeChangeEvent(sn(Di({},A),{element:A.element}))}},accessibilityProvider:Fe.accessibilityProvider&&sn(Di({},Fe.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:Fe.accessibilityProvider.getRole?A=>Fe.accessibilityProvider.getRole(A.element):()=>"treeitem",isChecked:Fe.accessibilityProvider.isChecked?A=>{var q;return!!(!((q=Fe.accessibilityProvider)===null||q===void 0)&&q.isChecked(A.element))}:void 0,getAriaLabel(A){return Fe.accessibilityProvider.getAriaLabel(A.element)},getWidgetAriaLabel(){return Fe.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:Fe.accessibilityProvider.getWidgetRole?()=>Fe.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:Fe.accessibilityProvider.getAriaLevel&&(A=>Fe.accessibilityProvider.getAriaLevel(A.element)),getActiveDescendantId:Fe.accessibilityProvider.getActiveDescendantId&&(A=>Fe.accessibilityProvider.getActiveDescendantId(A.element))}),filter:Fe.filter&&{filter(A,q){return Fe.filter.filter(A.element,q)}},keyboardNavigationLabelProvider:Fe.keyboardNavigationLabelProvider&&sn(Di({},Fe.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(A){return Fe.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(A.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof Fe.expandOnlyOnTwistieClick=="undefined"?void 0:typeof Fe.expandOnlyOnTwistieClick!="function"?Fe.expandOnlyOnTwistieClick:A=>Fe.expandOnlyOnTwistieClick(A.element),defaultFindVisibility:A=>A.hasChildren&&A.stale?1:typeof Fe.defaultFindVisibility=="number"?Fe.defaultFindVisibility:typeof Fe.defaultFindVisibility=="undefined"?2:Fe.defaultFindVisibility(A.element)})}function ke(Fe,A){A(Fe),Fe.children.forEach(q=>ke(q,A))}class Ke{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return k.ju.map(this.tree.onDidChangeFocus,ds)}get onDidChangeSelection(){return k.ju.map(this.tree.onDidChangeSelection,ds)}get onMouseDblClick(){return k.ju.map(this.tree.onMouseDblClick,cs)}get onPointer(){return k.ju.map(this.tree.onPointer,cs)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}constructor(A,q,fe,Pe,Ye,dt={}){this.user=A,this.dataSource=Ye,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new k.Q5,this._onDidChangeNodeSlowState=new k.Q5,this.nodeMapper=new se(St=>new Jn(St)),this.disposables=new L.SL,this.identityProvider=dt.identityProvider,this.autoExpandSingleChildren=typeof dt.autoExpandSingleChildren=="undefined"?!1:dt.autoExpandSingleChildren,this.sorter=dt.sorter,this.getDefaultCollapseState=St=>dt.collapseByDefault?dt.collapseByDefault(St)?ne.PreserveOrCollapsed:ne.PreserveOrExpanded:void 0,this.tree=this.createTree(A,q,fe,Pe,dt),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=Bn({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root=sn(Di({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(A,q,fe,Pe,Ye){const dt=new He(fe),St=Pe.map(Ci=>new ys(Ci,this.nodeMapper,this._onDidChangeNodeSlowState.event)),Bt=ui(Ye)||{};return new Fi(A,q,dt,St,Bt)}updateOptions(A={}){this.tree.updateOptions(A)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(A){this.tree.scrollTop=A}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(A,q){this.tree.layout(A,q)}style(A){this.tree.style(A)}getInput(){return this.root.element}setInput(A,q){return At(this,null,function*(){this.refreshPromises.forEach(Pe=>Pe.cancel()),this.refreshPromises.clear(),this.root.element=A;const fe=q&&{viewState:q,focus:[],selection:[]};yield this._updateChildren(A,!0,!1,fe),fe&&(this.tree.setFocus(fe.focus),this.tree.setSelection(fe.selection)),q&&typeof q.scrollTop=="number"&&(this.scrollTop=q.scrollTop)})}_updateChildren(){return At(this,arguments,function*(A=this.root.element,q=!0,fe=!1,Pe,Ye){if(typeof this.root.element=="undefined")throw new J(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield k.ju.toPromise(this._onDidRender.event));const dt=this.getDataNode(A);if(yield this.refreshAndRenderNode(dt,q,Pe,Ye),fe)try{this.tree.rerender(dt)}catch(St){}})}rerender(A){if(A===void 0||A===this.root.element){this.tree.rerender();return}const q=this.getDataNode(A);this.tree.rerender(q)}getNode(A=this.root.element){const q=this.getDataNode(A),fe=this.tree.getNode(q===this.root?null:q);return this.nodeMapper.map(fe)}collapse(A,q=!1){const fe=this.getDataNode(A);return this.tree.collapse(fe===this.root?null:fe,q)}expand(A,q=!1){return At(this,null,function*(){if(typeof this.root.element=="undefined")throw new J(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield k.ju.toPromise(this._onDidRender.event));const fe=this.getDataNode(A);if(this.tree.hasElement(fe)&&!this.tree.isCollapsible(fe)||(fe.refreshPromise&&(yield this.root.refreshPromise,yield k.ju.toPromise(this._onDidRender.event)),fe!==this.root&&!fe.refreshPromise&&!this.tree.isCollapsed(fe)))return!1;const Pe=this.tree.expand(fe===this.root?null:fe,q);return fe.refreshPromise&&(yield this.root.refreshPromise,yield k.ju.toPromise(this._onDidRender.event)),Pe})}setSelection(A,q){const fe=A.map(Pe=>this.getDataNode(Pe));this.tree.setSelection(fe,q)}getSelection(){return this.tree.getSelection().map(q=>q.element)}setFocus(A,q){const fe=A.map(Pe=>this.getDataNode(Pe));this.tree.setFocus(fe,q)}getFocus(){return this.tree.getFocus().map(q=>q.element)}reveal(A,q){this.tree.reveal(this.getDataNode(A),q)}getParentElement(A){const q=this.tree.getParentElement(this.getDataNode(A));return q&&q.element}getFirstElementChild(A=this.root.element){const q=this.getDataNode(A),fe=this.tree.getFirstElementChild(q===this.root?null:q);return fe&&fe.element}getDataNode(A){const q=this.nodes.get(A===this.root.element?null:A);if(!q)throw new J(this.user,`Data tree node not found: ${A}`);return q}refreshAndRenderNode(A,q,fe,Pe){return At(this,null,function*(){yield this.refreshNode(A,q,fe),this.render(A,fe,Pe)})}refreshNode(A,q,fe){return At(this,null,function*(){let Pe;if(this.subTreeRefreshPromises.forEach((Ye,dt)=>{!Pe&&en(dt,A)&&(Pe=Ye.then(()=>this.refreshNode(A,q,fe)))}),Pe)return Pe;if(A!==this.root&&this.tree.getNode(A).collapsed){A.hasChildren=!!this.dataSource.hasChildren(A.element),A.stale=!0;return}return this.doRefreshSubTree(A,q,fe)})}doRefreshSubTree(A,q,fe){return At(this,null,function*(){let Pe;A.refreshPromise=new Promise(Ye=>Pe=Ye),this.subTreeRefreshPromises.set(A,A.refreshPromise),A.refreshPromise.finally(()=>{A.refreshPromise=void 0,this.subTreeRefreshPromises.delete(A)});try{const Ye=yield this.doRefreshNode(A,q,fe);A.stale=!1,yield re.jT.settled(Ye.map(dt=>this.doRefreshSubTree(dt,q,fe)))}finally{Pe()}})}doRefreshNode(A,q,fe){return At(this,null,function*(){A.hasChildren=!!this.dataSource.hasChildren(A.element);let Pe;if(!A.hasChildren)Pe=Promise.resolve(P.$.empty());else{const Ye=this.doGetChildren(A);if((0,rt.TW)(Ye))Pe=Promise.resolve(Ye);else{const dt=(0,re.Vs)(800);dt.then(()=>{A.slow=!0,this._onDidChangeNodeSlowState.fire(A)},St=>null),Pe=Ye.finally(()=>dt.cancel())}}try{const Ye=yield Pe;return this.setChildren(A,Ye,q,fe)}catch(Ye){if(A!==this.root&&this.tree.hasElement(A)&&this.tree.collapse(A),(0,gn.n2)(Ye))return[];throw Ye}finally{A.slow&&(A.slow=!1,this._onDidChangeNodeSlowState.fire(A))}})}doGetChildren(A){let q=this.refreshPromises.get(A);if(q)return q;const fe=this.dataSource.getChildren(A.element);return(0,rt.TW)(fe)?this.processChildren(fe):(q=(0,re.PG)(()=>At(this,null,function*(){return this.processChildren(yield fe)})),this.refreshPromises.set(A,q),q.finally(()=>{this.refreshPromises.delete(A)}))}_onDidChangeCollapseState({node:A,deep:q}){A.element!==null&&!A.collapsed&&A.element.stale&&(q?this.collapse(A.element.element):this.refreshAndRenderNode(A.element,!1).catch(gn.dL))}setChildren(A,q,fe,Pe){const Ye=[...q];if(A.children.length===0&&Ye.length===0)return[];const dt=new Map,St=new Map;for(const vi of A.children)dt.set(vi.element,vi),this.identityProvider&&St.set(vi.id,{node:vi,collapsed:this.tree.hasElement(vi)&&this.tree.isCollapsed(vi)});const Bt=[],Ci=Ye.map(vi=>{const zi=!!this.dataSource.hasChildren(vi);if(!this.identityProvider){const Oi=Bn({element:vi,parent:A,hasChildren:zi,defaultCollapseState:this.getDefaultCollapseState(vi)});return zi&&Oi.defaultCollapseState===ne.PreserveOrExpanded&&Bt.push(Oi),Oi}const Gi=this.identityProvider.getId(vi).toString(),Wi=St.get(Gi);if(Wi){const Oi=Wi.node;return dt.delete(Oi.element),this.nodes.delete(Oi.element),this.nodes.set(vi,Oi),Oi.element=vi,Oi.hasChildren=zi,fe?Wi.collapsed?(Oi.children.forEach(Xi=>ke(Xi,Hn=>this.nodes.delete(Hn.element))),Oi.children.splice(0,Oi.children.length),Oi.stale=!0):Bt.push(Oi):zi&&!Wi.collapsed&&Bt.push(Oi),Oi}const Mi=Bn({element:vi,parent:A,id:Gi,hasChildren:zi,defaultCollapseState:this.getDefaultCollapseState(vi)});return Pe&&Pe.viewState.focus&&Pe.viewState.focus.indexOf(Gi)>-1&&Pe.focus.push(Mi),Pe&&Pe.viewState.selection&&Pe.viewState.selection.indexOf(Gi)>-1&&Pe.selection.push(Mi),(Pe&&Pe.viewState.expanded&&Pe.viewState.expanded.indexOf(Gi)>-1||zi&&Mi.defaultCollapseState===ne.PreserveOrExpanded)&&Bt.push(Mi),Mi});for(const vi of dt.values())ke(vi,zi=>this.nodes.delete(zi.element));for(const vi of Ci)this.nodes.set(vi.element,vi);return A.children.splice(0,A.children.length,...Ci),A!==this.root&&this.autoExpandSingleChildren&&Ci.length===1&&Bt.length===0&&(Ci[0].forceExpanded=!0,Bt.push(Ci[0])),Bt}render(A,q,fe){const Pe=A.children.map(dt=>this.asTreeElement(dt,q)),Ye=fe&&sn(Di({},fe),{diffIdentityProvider:fe.diffIdentityProvider&&{getId(dt){return fe.diffIdentityProvider.getId(dt.element)}}});this.tree.setChildren(A===this.root?null:A,Pe,Ye),A!==this.root&&this.tree.setCollapsible(A,A.hasChildren),this._onDidRender.fire()}asTreeElement(A,q){if(A.stale)return{element:A,collapsible:A.hasChildren,collapsed:!0};let fe;return q&&q.viewState.expanded&&A.id&&q.viewState.expanded.indexOf(A.id)>-1?fe=!1:A.forceExpanded?(fe=!1,A.forceExpanded=!1):fe=A.defaultCollapseState,{element:A,children:A.hasChildren?P.$.map(A.children,Pe=>this.asTreeElement(Pe,q)):[],collapsible:A.hasChildren,collapsed:fe}}processChildren(A){return this.sorter&&(A=[...A].sort(this.sorter.compare.bind(this.sorter))),A}dispose(){this.disposables.dispose(),this.tree.dispose()}}class Ue{get element(){return{elements:this.node.element.elements.map(A=>A.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(A=>new Ue(A))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(A){this.node=A}}class bt{constructor(A,q,fe,Pe){this.renderer=A,this.nodeMapper=q,this.compressibleNodeMapperProvider=fe,this.onDidChangeTwistieState=Pe,this.renderedNodes=new Map,this.disposables=[],this.templateId=A.templateId}renderTemplate(A){return{templateData:this.renderer.renderTemplate(A)}}renderElement(A,q,fe,Pe){this.renderer.renderElement(this.nodeMapper.map(A),q,fe.templateData,Pe)}renderCompressedElements(A,q,fe,Pe){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(A),q,fe.templateData,Pe)}renderTwistie(A,q){return A.slow?(q.classList.add(...Ce.k.asClassNameArray(Ee.l.treeItemLoading)),!0):(q.classList.remove(...Ce.k.asClassNameArray(Ee.l.treeItemLoading)),!1)}disposeElement(A,q,fe,Pe){var Ye,dt;(dt=(Ye=this.renderer).disposeElement)===null||dt===void 0||dt.call(Ye,this.nodeMapper.map(A),q,fe.templateData,Pe)}disposeCompressedElements(A,q,fe,Pe){var Ye,dt;(dt=(Ye=this.renderer).disposeCompressedElements)===null||dt===void 0||dt.call(Ye,this.compressibleNodeMapperProvider().map(A),q,fe.templateData,Pe)}disposeTemplate(A){this.renderer.disposeTemplate(A.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,L.B9)(this.disposables)}}function it(Fe){const A=Fe&&ui(Fe);return A&&sn(Di({},A),{keyboardNavigationLabelProvider:A.keyboardNavigationLabelProvider&&sn(Di({},A.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(q){return Fe.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(q.map(fe=>fe.element))}})})}class fi extends Ke{constructor(A,q,fe,Pe,Ye,dt,St={}){super(A,q,fe,Ye,dt,St),this.compressionDelegate=Pe,this.compressibleNodeMapper=new se(Bt=>new Ue(Bt)),this.filter=St.filter}createTree(A,q,fe,Pe,Ye){const dt=new He(fe),St=Pe.map(Ci=>new bt(Ci,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),Bt=it(Ye)||{};return new bn(A,q,dt,St,Bt)}asTreeElement(A,q){return Di({incompressible:this.compressionDelegate.isIncompressible(A.element)},super.asTreeElement(A,q))}updateOptions(A={}){this.tree.updateOptions(A)}render(A,q){if(!this.identityProvider)return super.render(A,q);const fe=Gi=>this.identityProvider.getId(Gi).toString(),Pe=Gi=>{const Wi=new Set;for(const Mi of Gi){const Oi=this.tree.getCompressedTreeNode(Mi===this.root?null:Mi);if(Oi.element)for(const Xi of Oi.element.elements)Wi.add(fe(Xi.element))}return Wi},Ye=Pe(this.tree.getSelection()),dt=Pe(this.tree.getFocus());super.render(A,q);const St=this.getSelection();let Bt=!1;const Ci=this.getFocus();let vi=!1;const zi=Gi=>{const Wi=Gi.element;if(Wi)for(let Mi=0;Mi<Wi.elements.length;Mi++){const Oi=fe(Wi.elements[Mi].element),Xi=Wi.elements[Wi.elements.length-1].element;Ye.has(Oi)&&St.indexOf(Xi)===-1&&(St.push(Xi),Bt=!0),dt.has(Oi)&&Ci.indexOf(Xi)===-1&&(Ci.push(Xi),vi=!0)}Gi.children.forEach(zi)};zi(this.tree.getCompressedTreeNode(A===this.root?null:A)),Bt&&this.setSelection(St),vi&&this.setFocus(Ci)}processChildren(A){return this.filter&&(A=P.$.filter(A,q=>{const fe=this.filter.filter(q,1),Pe=_i(fe);if(Pe===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return Pe===1})),super.processChildren(A)}}function _i(Fe){return typeof Fe=="boolean"?Fe?1:0:j(Fe)?K(Fe.visibility):K(Fe)}class Te extends wn{constructor(A,q,fe,Pe,Ye,dt={}){super(A,q,fe,Pe,dt),this.user=A,this.dataSource=Ye,this.identityProvider=dt.identityProvider}createModel(A,q,fe){return new Pt(A,q,fe)}}var tt=c(76681),Wt=c(43211),Vt=c(81002),Ni=c(13581),ji=c(16288),Ai=c(99068),on=c(30966),mn=c(7781);let Rn;const pi=globalThis.vscode;if(typeof pi!="undefined"&&typeof pi.context!="undefined"){const Fe=pi.context.configuration();if(Fe)Rn=Fe.product;else throw new Error("Sandbox: unable to resolve product configuration from preload script.")}else if(globalThis._VSCODE_PRODUCT_JSON&&globalThis._VSCODE_PACKAGE_JSON){if(Rn=globalThis._VSCODE_PRODUCT_JSON,mn.OB.VSCODE_DEV&&Object.assign(Rn,{nameShort:`${Rn.nameShort} Dev`,nameLong:`${Rn.nameLong} Dev`,dataFolderName:`${Rn.dataFolderName}-dev`,serverDataFolderName:Rn.serverDataFolderName?`${Rn.serverDataFolderName}-dev`:void 0}),!Rn.version){const Fe=globalThis._VSCODE_PACKAGE_JSON;Object.assign(Rn,{version:Fe.version})}}else Rn={},Object.keys(Rn).length===0&&Object.assign(Rn,{version:"1.82.0-dev",nameShort:"Code - OSS Dev",nameLong:"Code - OSS Dev",applicationName:"code-oss",dataFolderName:".vscode-oss",urlProtocol:"code-oss",reportIssueUrl:"https://github.com/microsoft/vscode/issues/new",licenseName:"MIT",licenseUrl:"https://github.com/microsoft/vscode/blob/main/LICENSE.txt",serverLicenseUrl:"https://github.com/microsoft/vscode/blob/main/LICENSE.txt"});var ti=Rn,ii=c(93796),Ct=c(55410),It=function(Fe,A,q,fe){var Pe=arguments.length,Ye=Pe<3?A:fe===null?fe=Object.getOwnPropertyDescriptor(A,q):fe,dt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ye=Reflect.decorate(Fe,A,q,fe);else for(var St=Fe.length-1;St>=0;St--)(dt=Fe[St])&&(Ye=(Pe<3?dt(Ye):Pe>3?dt(A,q,Ye):dt(A,q))||Ye);return Pe>3&&Ye&&Object.defineProperty(A,q,Ye),Ye},Qt=function(Fe,A){return function(q,fe){A(q,fe,Fe)}};const Ut=(0,Ai.yh)("listService");class Si{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new L.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(A){var q,fe;A!==this._lastFocusedWidget&&((q=this._lastFocusedWidget)===null||q===void 0||q.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=A,(fe=this._lastFocusedWidget)===null||fe===void 0||fe.getHTMLElement().classList.add("last-focused"))}register(A,q){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new M.wD((0,D.dS)(),"").style(Ct.O2)),this.lists.some(Pe=>Pe.widget===A))throw new Error("Cannot register the same widget multiple times");const fe={widget:A,extraContextKeys:q};return this.lists.push(fe),(0,D.H9)(A.getHTMLElement())&&this.setLastFocusedList(A),(0,L.F8)(A.onDidFocus(()=>this.setLastFocusedList(A)),(0,L.OF)(()=>this.lists.splice(this.lists.indexOf(fe),1)),A.onDidDispose(()=>{this.lists=this.lists.filter(Pe=>Pe!==fe),this._lastFocusedWidget===A&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}const Vi=new Vt.uy("listScrollAtBoundary","none"),tn=Vt.Ao.or(Vi.isEqualTo("top"),Vi.isEqualTo("both")),Ji=Vt.Ao.or(Vi.isEqualTo("bottom"),Vi.isEqualTo("both")),Cn=new Vt.uy("listFocus",!0),Tn=new Vt.uy("listSupportsMultiselect",!0),Wn=Vt.Ao.and(Cn,Vt.Ao.not(Ni.d0)),qn=new Vt.uy("listHasSelectionOrFocus",!1),ln=new Vt.uy("listDoubleSelection",!1),Gn=new Vt.uy("listMultiSelection",!1),Kn=new Vt.uy("listSelectionNavigation",!1),ro=new Vt.uy("listSupportsFind",!0),as=new Vt.uy("treeElementCanCollapse",!1),Zi=new Vt.uy("treeElementHasParent",!1),cn=new Vt.uy("treeElementCanExpand",!1),pn=new Vt.uy("treeElementHasChild",!1),rn=new Vt.uy("treeFindOpen",!1),Xn="listTypeNavigationMode",Is="listAutomaticKeyboardNavigation";function hn(Fe,A){const q=Fe.createScoped(A.getHTMLElement());return Cn.bindTo(q),q}function us(Fe,A){const q=Vi.bindTo(Fe),fe=()=>{const Pe=A.scrollTop===0,Ye=A.scrollHeight-A.renderHeight-A.scrollTop<1;Pe&&Ye?q.set("both"):Pe?q.set("top"):Ye?q.set("bottom"):q.set("none")};return fe(),A.onDidScroll(fe)}const Rs="workbench.list.multiSelectModifier",ts="workbench.list.openMode",ls="workbench.list.horizontalScrolling",ms="workbench.list.defaultFindMode",qi="workbench.list.typeNavigationMode",Ss="workbench.list.keyboardNavigation",Gs="workbench.list.scrollByPage",Eo="workbench.list.defaultFindMatchType",Ys="workbench.tree.indent",vs="workbench.tree.renderIndentGuides",Fs="workbench.list.smoothScrolling",Ws="workbench.list.mouseWheelScrollSensitivity",Ns="workbench.list.fastScrollSensitivity",fo="workbench.tree.expandMode",ao="workbench.tree.enableStickyScroll",ri="workbench.tree.stickyScrollMaxItemCount";function Se(Fe){return Fe.getValue(Rs)==="alt"}class je extends L.JT{constructor(A){super(),this.configurationService=A,this.useAltAsMultipleSelectionModifier=Se(A),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(A=>{A.affectsConfiguration(Rs)&&(this.useAltAsMultipleSelectionModifier=Se(this.configurationService))}))}isSelectionSingleChangeEvent(A){return this.useAltAsMultipleSelectionModifier?A.browserEvent.altKey:(0,M.Zo)(A)}isSelectionRangeChangeEvent(A){return(0,M.wn)(A)}}function Qe(Fe,A){var q;const fe=Fe.get(tt.Ui),Pe=Fe.get(on.d),Ye=new L.SL;return[sn(Di({},A),{keyboardNavigationDelegate:{mightProducePrintableCharacter(St){return Pe.mightProducePrintableCharacter(St)}},smoothScrolling:!!fe.getValue(Fs),mouseWheelScrollSensitivity:fe.getValue(Ws),fastScrollSensitivity:fe.getValue(Ns),multipleSelectionController:(q=A.multipleSelectionController)!==null&&q!==void 0?q:Ye.add(new je(fe)),keyboardNavigationEventFilter:Li(Pe),scrollByPage:!!fe.getValue(Gs)}),Ye]}let Ht=class extends M.aV{constructor(A,q,fe,Pe,Ye,dt,St,Bt,Ci){const vi=typeof Ye.horizontalScrolling!="undefined"?Ye.horizontalScrolling:!!Bt.getValue(ls),[zi,Gi]=Ci.invokeFunction(Qe,Ye);super(A,q,fe,Pe,sn(Di({keyboardSupport:!1},zi),{horizontalScrolling:vi})),this.disposables.add(Gi),this.contextKeyService=hn(dt,this),this.disposables.add(us(this.contextKeyService,this)),this.listSupportsMultiSelect=Tn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Ye.multipleSelectionSupport!==!1),Kn.bindTo(this.contextKeyService).set(!!Ye.selectionNavigation),this.listHasSelectionOrFocus=qn.bindTo(this.contextKeyService),this.listDoubleSelection=ln.bindTo(this.contextKeyService),this.listMultiSelection=Gn.bindTo(this.contextKeyService),this.horizontalScrolling=Ye.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Se(Bt),this.disposables.add(this.contextKeyService),this.disposables.add(St.register(this)),this.updateStyles(Ye.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Mi=this.getSelection(),Oi=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Mi.length>0||Oi.length>0),this.listMultiSelection.set(Mi.length>1),this.listDoubleSelection.set(Mi.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Mi=this.getSelection(),Oi=this.getFocus();this.listHasSelectionOrFocus.set(Mi.length>0||Oi.length>0)})),this.disposables.add(Bt.onDidChangeConfiguration(Mi=>{Mi.affectsConfiguration(Rs)&&(this._useAltAsMultipleSelectionModifier=Se(Bt));let Oi={};if(Mi.affectsConfiguration(ls)&&this.horizontalScrolling===void 0){const Xi=!!Bt.getValue(ls);Oi=sn(Di({},Oi),{horizontalScrolling:Xi})}if(Mi.affectsConfiguration(Gs)){const Xi=!!Bt.getValue(Gs);Oi=sn(Di({},Oi),{scrollByPage:Xi})}if(Mi.affectsConfiguration(Fs)){const Xi=!!Bt.getValue(Fs);Oi=sn(Di({},Oi),{smoothScrolling:Xi})}if(Mi.affectsConfiguration(Ws)){const Xi=Bt.getValue(Ws);Oi=sn(Di({},Oi),{mouseWheelScrollSensitivity:Xi})}if(Mi.affectsConfiguration(Ns)){const Xi=Bt.getValue(Ns);Oi=sn(Di({},Oi),{fastScrollSensitivity:Xi})}Object.keys(Oi).length>0&&this.updateOptions(Oi)})),this.navigator=new si(this,Di({configurationService:Bt},Ye)),this.disposables.add(this.navigator)}updateOptions(A){super.updateOptions(A),A.overrideStyles!==void 0&&this.updateStyles(A.overrideStyles),A.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!A.multipleSelectionSupport)}updateStyles(A){this.style(A?(0,Ct.TU)(A):Ct.O2)}};Ht=It([Qt(5,Vt.i6),Qt(6,Ut),Qt(7,tt.Ui),Qt(8,Ai.TG)],Ht);let kt=class extends C{constructor(A,q,fe,Pe,Ye,dt,St,Bt,Ci){const vi=typeof Ye.horizontalScrolling!="undefined"?Ye.horizontalScrolling:!!Bt.getValue(ls),[zi,Gi]=Ci.invokeFunction(Qe,Ye);super(A,q,fe,Pe,sn(Di({keyboardSupport:!1},zi),{horizontalScrolling:vi})),this.disposables=new L.SL,this.disposables.add(Gi),this.contextKeyService=hn(dt,this),this.disposables.add(us(this.contextKeyService,this.widget)),this.horizontalScrolling=Ye.horizontalScrolling,this.listSupportsMultiSelect=Tn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Ye.multipleSelectionSupport!==!1),Kn.bindTo(this.contextKeyService).set(!!Ye.selectionNavigation),this._useAltAsMultipleSelectionModifier=Se(Bt),this.disposables.add(this.contextKeyService),this.disposables.add(St.register(this)),this.updateStyles(Ye.overrideStyles),this.disposables.add(Bt.onDidChangeConfiguration(Mi=>{Mi.affectsConfiguration(Rs)&&(this._useAltAsMultipleSelectionModifier=Se(Bt));let Oi={};if(Mi.affectsConfiguration(ls)&&this.horizontalScrolling===void 0){const Xi=!!Bt.getValue(ls);Oi=sn(Di({},Oi),{horizontalScrolling:Xi})}if(Mi.affectsConfiguration(Gs)){const Xi=!!Bt.getValue(Gs);Oi=sn(Di({},Oi),{scrollByPage:Xi})}if(Mi.affectsConfiguration(Fs)){const Xi=!!Bt.getValue(Fs);Oi=sn(Di({},Oi),{smoothScrolling:Xi})}if(Mi.affectsConfiguration(Ws)){const Xi=Bt.getValue(Ws);Oi=sn(Di({},Oi),{mouseWheelScrollSensitivity:Xi})}if(Mi.affectsConfiguration(Ns)){const Xi=Bt.getValue(Ns);Oi=sn(Di({},Oi),{fastScrollSensitivity:Xi})}Object.keys(Oi).length>0&&this.updateOptions(Oi)})),this.navigator=new si(this,Di({configurationService:Bt},Ye)),this.disposables.add(this.navigator)}updateOptions(A){super.updateOptions(A),A.overrideStyles!==void 0&&this.updateStyles(A.overrideStyles),A.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!A.multipleSelectionSupport)}updateStyles(A){this.style(A?(0,Ct.TU)(A):Ct.O2)}dispose(){this.disposables.dispose(),super.dispose()}};kt=It([Qt(5,Vt.i6),Qt(6,Ut),Qt(7,tt.Ui),Qt(8,Ai.TG)],kt);let ni=class extends N{constructor(A,q,fe,Pe,Ye,dt,St,Bt,Ci,vi){const zi=typeof dt.horizontalScrolling!="undefined"?dt.horizontalScrolling:!!Ci.getValue(ls),[Gi,Wi]=vi.invokeFunction(Qe,dt);super(A,q,fe,Pe,Ye,sn(Di({keyboardSupport:!1},Gi),{horizontalScrolling:zi})),this.disposables.add(Wi),this.contextKeyService=hn(St,this),this.disposables.add(us(this.contextKeyService,this)),this.listSupportsMultiSelect=Tn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(dt.multipleSelectionSupport!==!1),Kn.bindTo(this.contextKeyService).set(!!dt.selectionNavigation),this.listHasSelectionOrFocus=qn.bindTo(this.contextKeyService),this.listDoubleSelection=ln.bindTo(this.contextKeyService),this.listMultiSelection=Gn.bindTo(this.contextKeyService),this.horizontalScrolling=dt.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Se(Ci),this.disposables.add(this.contextKeyService),this.disposables.add(Bt.register(this)),this.updateStyles(dt.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Oi=this.getSelection(),Xi=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Oi.length>0||Xi.length>0),this.listMultiSelection.set(Oi.length>1),this.listDoubleSelection.set(Oi.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Oi=this.getSelection(),Xi=this.getFocus();this.listHasSelectionOrFocus.set(Oi.length>0||Xi.length>0)})),this.disposables.add(Ci.onDidChangeConfiguration(Oi=>{Oi.affectsConfiguration(Rs)&&(this._useAltAsMultipleSelectionModifier=Se(Ci));let Xi={};if(Oi.affectsConfiguration(ls)&&this.horizontalScrolling===void 0){const Hn=!!Ci.getValue(ls);Xi=sn(Di({},Xi),{horizontalScrolling:Hn})}if(Oi.affectsConfiguration(Gs)){const Hn=!!Ci.getValue(Gs);Xi=sn(Di({},Xi),{scrollByPage:Hn})}if(Oi.affectsConfiguration(Fs)){const Hn=!!Ci.getValue(Fs);Xi=sn(Di({},Xi),{smoothScrolling:Hn})}if(Oi.affectsConfiguration(Ws)){const Hn=Ci.getValue(Ws);Xi=sn(Di({},Xi),{mouseWheelScrollSensitivity:Hn})}if(Oi.affectsConfiguration(Ns)){const Hn=Ci.getValue(Ns);Xi=sn(Di({},Xi),{fastScrollSensitivity:Hn})}Object.keys(Xi).length>0&&this.updateOptions(Xi)})),this.navigator=new Ei(this,Di({configurationService:Ci},dt)),this.disposables.add(this.navigator)}updateOptions(A){super.updateOptions(A),A.overrideStyles!==void 0&&this.updateStyles(A.overrideStyles),A.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!A.multipleSelectionSupport)}updateStyles(A){this.style(A?(0,Ct.TU)(A):Ct.O2)}dispose(){this.disposables.dispose(),super.dispose()}};ni=It([Qt(6,Vt.i6),Qt(7,Ut),Qt(8,tt.Ui),Qt(9,Ai.TG)],ni);class ai extends L.JT{constructor(A,q){var fe;super(),this.widget=A,this._onDidOpen=this._register(new k.Q5),this.onDidOpen=this._onDidOpen.event,this._register(k.ju.filter(this.widget.onDidChangeSelection,Pe=>(0,D.vd)(Pe.browserEvent))(Pe=>this.onSelectionFromKeyboard(Pe))),this._register(this.widget.onPointer(Pe=>this.onPointer(Pe.element,Pe.browserEvent))),this._register(this.widget.onMouseDblClick(Pe=>this.onMouseDblClick(Pe.element,Pe.browserEvent))),typeof(q==null?void 0:q.openOnSingleClick)!="boolean"&&(q!=null&&q.configurationService)?(this.openOnSingleClick=(q==null?void 0:q.configurationService.getValue(ts))!=="doubleClick",this._register(q==null?void 0:q.configurationService.onDidChangeConfiguration(Pe=>{Pe.affectsConfiguration(ts)&&(this.openOnSingleClick=(q==null?void 0:q.configurationService.getValue(ts))!=="doubleClick")}))):this.openOnSingleClick=(fe=q==null?void 0:q.openOnSingleClick)!==null&&fe!==void 0?fe:!0}onSelectionFromKeyboard(A){if(A.elements.length!==1)return;const q=A.browserEvent,fe=typeof q.preserveFocus=="boolean"?q.preserveFocus:!0,Pe=typeof q.pinned=="boolean"?q.pinned:!fe,Ye=!1;this._open(this.getSelectedElement(),fe,Pe,Ye,A.browserEvent)}onPointer(A,q){if(!this.openOnSingleClick||q.detail===2)return;const Pe=q.button===1,Ye=!0,dt=Pe,St=q.ctrlKey||q.metaKey||q.altKey;this._open(A,Ye,dt,St,q)}onMouseDblClick(A,q){if(!q)return;const fe=q.target;if(fe.classList.contains("monaco-tl-twistie")||fe.classList.contains("monaco-icon-label")&&fe.classList.contains("folder-icon")&&q.offsetX<16)return;const Ye=!1,dt=!0,St=q.ctrlKey||q.metaKey||q.altKey;this._open(A,Ye,dt,St,q)}_open(A,q,fe,Pe,Ye){A&&this._onDidOpen.fire({editorOptions:{preserveFocus:q,pinned:fe,revealIfVisible:!0},sideBySide:Pe,element:A,browserEvent:Ye})}}class si extends ai{constructor(A,q){super(A,q),this.widget=A}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Ei extends ai{constructor(A,q){super(A,q)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Pi extends ai{constructor(A,q){super(A,q)}getSelectedElement(){var A;return(A=this.widget.getSelection()[0])!==null&&A!==void 0?A:void 0}}function Li(Fe){let A=!1;return q=>{if(q.toKeyCodeChord().isModifierKey())return!1;if(A)return A=!1,!1;const fe=Fe.softDispatch(q,q.target);return fe.kind===1?(A=!0,!1):(A=!1,fe.kind===0)}}let Ii=class extends Fi{constructor(A,q,fe,Pe,Ye,dt,St,Bt,Ci){const{options:vi,getTypeNavigationMode:zi,disposable:Gi}=dt.invokeFunction(Oe,Ye);super(A,q,fe,Pe,vi),this.disposables.add(Gi),this.internals=new We(this,Ye,zi,Ye.overrideStyles,St,Bt,Ci),this.disposables.add(this.internals)}updateOptions(A){super.updateOptions(A),this.internals.updateOptions(A)}};Ii=It([Qt(5,Ai.TG),Qt(6,Vt.i6),Qt(7,Ut),Qt(8,tt.Ui)],Ii);let Je=class extends bn{constructor(A,q,fe,Pe,Ye,dt,St,Bt,Ci){const{options:vi,getTypeNavigationMode:zi,disposable:Gi}=dt.invokeFunction(Oe,Ye);super(A,q,fe,Pe,vi),this.disposables.add(Gi),this.internals=new We(this,Ye,zi,Ye.overrideStyles,St,Bt,Ci),this.disposables.add(this.internals)}updateOptions(A={}){super.updateOptions(A),A.overrideStyles&&this.internals.updateStyleOverrides(A.overrideStyles),this.internals.updateOptions(A)}};Je=It([Qt(5,Ai.TG),Qt(6,Vt.i6),Qt(7,Ut),Qt(8,tt.Ui)],Je);let E=class extends Te{constructor(A,q,fe,Pe,Ye,dt,St,Bt,Ci,vi){const{options:zi,getTypeNavigationMode:Gi,disposable:Wi}=St.invokeFunction(Oe,dt);super(A,q,fe,Pe,Ye,zi),this.disposables.add(Wi),this.internals=new We(this,dt,Gi,dt.overrideStyles,Bt,Ci,vi),this.disposables.add(this.internals)}updateOptions(A={}){super.updateOptions(A),A.overrideStyles!==void 0&&this.internals.updateStyleOverrides(A.overrideStyles),this.internals.updateOptions(A)}};E=It([Qt(6,Ai.TG),Qt(7,Vt.i6),Qt(8,Ut),Qt(9,tt.Ui)],E);let W=class extends Ke{get onDidOpen(){return this.internals.onDidOpen}constructor(A,q,fe,Pe,Ye,dt,St,Bt,Ci,vi){const{options:zi,getTypeNavigationMode:Gi,disposable:Wi}=St.invokeFunction(Oe,dt);super(A,q,fe,Pe,Ye,zi),this.disposables.add(Wi),this.internals=new We(this,dt,Gi,dt.overrideStyles,Bt,Ci,vi),this.disposables.add(this.internals)}updateOptions(A={}){super.updateOptions(A),A.overrideStyles&&this.internals.updateStyleOverrides(A.overrideStyles),this.internals.updateOptions(A)}};W=It([Qt(6,Ai.TG),Qt(7,Vt.i6),Qt(8,Ut),Qt(9,tt.Ui)],W);let Q=class extends fi{constructor(A,q,fe,Pe,Ye,dt,St,Bt,Ci,vi,zi){const{options:Gi,getTypeNavigationMode:Wi,disposable:Mi}=Bt.invokeFunction(Oe,St);super(A,q,fe,Pe,Ye,dt,Gi),this.disposables.add(Mi),this.internals=new We(this,St,Wi,St.overrideStyles,Ci,vi,zi),this.disposables.add(this.internals)}updateOptions(A){super.updateOptions(A),this.internals.updateOptions(A)}};Q=It([Qt(7,Ai.TG),Qt(8,Vt.i6),Qt(9,Ut),Qt(10,tt.Ui)],Q);function ue(Fe){const A=Fe.getValue(ms);if(A==="highlight")return we.Highlight;if(A==="filter")return we.Filter;const q=Fe.getValue(Ss);if(q==="simple"||q==="highlight")return we.Highlight;if(q==="filter")return we.Filter}function ve(Fe){const A=Fe.getValue(Eo);if(A==="fuzzy")return pt.Fuzzy;if(A==="contiguous")return pt.Contiguous}function Oe(Fe,A){var q;const fe=Fe.get(tt.Ui),Pe=Fe.get(ji.u),Ye=Fe.get(Vt.i6),dt=Fe.get(Ai.TG),St=()=>{const Wi=Ye.getContextKeyValue(Xn);if(Wi==="automatic")return M.AA.Automatic;if(Wi==="trigger"||Ye.getContextKeyValue(Is)===!1)return M.AA.Trigger;const Oi=fe.getValue(qi);if(Oi==="automatic")return M.AA.Automatic;if(Oi==="trigger")return M.AA.Trigger},Bt=A.horizontalScrolling!==void 0?A.horizontalScrolling:!!fe.getValue(ls),[Ci,vi]=dt.invokeFunction(Qe,A),zi=A.paddingBottom,Gi=A.renderIndentGuides!==void 0?A.renderIndentGuides:fe.getValue(vs);return{getTypeNavigationMode:St,disposable:vi,options:sn(Di({keyboardSupport:!1},Ci),{indent:typeof fe.getValue(Ys)=="number"?fe.getValue(Ys):void 0,renderIndentGuides:Gi,smoothScrolling:!!fe.getValue(Fs),defaultFindMode:ue(fe),defaultFindMatchType:ve(fe),horizontalScrolling:Bt,scrollByPage:!!fe.getValue(Gs),paddingBottom:zi,hideTwistiesOfChildlessElements:A.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(q=A.expandOnlyOnTwistieClick)!==null&&q!==void 0?q:fe.getValue(fo)==="doubleClick",contextViewProvider:Pe,findWidgetStyles:Ct.uX,enableStickyScroll:!!fe.getValue(ao),stickyScrollMaxItemCount:Number(fe.getValue(ri))})}}let We=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(A,q,fe,Pe,Ye,dt,St){var Bt;this.tree=A,this.disposables=[],this.contextKeyService=hn(Ye,A),this.disposables.push(us(this.contextKeyService,A)),this.listSupportsMultiSelect=Tn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(q.multipleSelectionSupport!==!1),Kn.bindTo(this.contextKeyService).set(!!q.selectionNavigation),this.listSupportFindWidget=ro.bindTo(this.contextKeyService),this.listSupportFindWidget.set((Bt=q.findWidgetEnabled)!==null&&Bt!==void 0?Bt:!0),this.hasSelectionOrFocus=qn.bindTo(this.contextKeyService),this.hasDoubleSelection=ln.bindTo(this.contextKeyService),this.hasMultiSelection=Gn.bindTo(this.contextKeyService),this.treeElementCanCollapse=as.bindTo(this.contextKeyService),this.treeElementHasParent=Zi.bindTo(this.contextKeyService),this.treeElementCanExpand=cn.bindTo(this.contextKeyService),this.treeElementHasChild=pn.bindTo(this.contextKeyService),this.treeFindOpen=rn.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=Se(St),this.updateStyleOverrides(Pe);const vi=()=>{const Gi=A.getFocus()[0];if(!Gi)return;const Wi=A.getNode(Gi);this.treeElementCanCollapse.set(Wi.collapsible&&!Wi.collapsed),this.treeElementHasParent.set(!!A.getParentElement(Gi)),this.treeElementCanExpand.set(Wi.collapsible&&Wi.collapsed),this.treeElementHasChild.set(!!A.getFirstElementChild(Gi))},zi=new Set;zi.add(Xn),zi.add(Is),this.disposables.push(this.contextKeyService,dt.register(A),A.onDidChangeSelection(()=>{const Gi=A.getSelection(),Wi=A.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(Gi.length>0||Wi.length>0),this.hasMultiSelection.set(Gi.length>1),this.hasDoubleSelection.set(Gi.length===2)})}),A.onDidChangeFocus(()=>{const Gi=A.getSelection(),Wi=A.getFocus();this.hasSelectionOrFocus.set(Gi.length>0||Wi.length>0),vi()}),A.onDidChangeCollapseState(vi),A.onDidChangeModel(vi),A.onDidChangeFindOpenState(Gi=>this.treeFindOpen.set(Gi)),St.onDidChangeConfiguration(Gi=>{let Wi={};if(Gi.affectsConfiguration(Rs)&&(this._useAltAsMultipleSelectionModifier=Se(St)),Gi.affectsConfiguration(Ys)){const Mi=St.getValue(Ys);Wi=sn(Di({},Wi),{indent:Mi})}if(Gi.affectsConfiguration(vs)&&q.renderIndentGuides===void 0){const Mi=St.getValue(vs);Wi=sn(Di({},Wi),{renderIndentGuides:Mi})}if(Gi.affectsConfiguration(Fs)){const Mi=!!St.getValue(Fs);Wi=sn(Di({},Wi),{smoothScrolling:Mi})}if(Gi.affectsConfiguration(ms)||Gi.affectsConfiguration(Ss)){const Mi=ue(St);Wi=sn(Di({},Wi),{defaultFindMode:Mi})}if(Gi.affectsConfiguration(qi)||Gi.affectsConfiguration(Ss)){const Mi=fe();Wi=sn(Di({},Wi),{typeNavigationMode:Mi})}if(Gi.affectsConfiguration(Eo)){const Mi=ve(St);Wi=sn(Di({},Wi),{defaultFindMatchType:Mi})}if(Gi.affectsConfiguration(ls)&&q.horizontalScrolling===void 0){const Mi=!!St.getValue(ls);Wi=sn(Di({},Wi),{horizontalScrolling:Mi})}if(Gi.affectsConfiguration(Gs)){const Mi=!!St.getValue(Gs);Wi=sn(Di({},Wi),{scrollByPage:Mi})}if(Gi.affectsConfiguration(fo)&&q.expandOnlyOnTwistieClick===void 0&&(Wi=sn(Di({},Wi),{expandOnlyOnTwistieClick:St.getValue(fo)==="doubleClick"})),Gi.affectsConfiguration(ao)){const Mi=St.getValue(ao);Wi=sn(Di({},Wi),{enableStickyScroll:Mi})}if(Gi.affectsConfiguration(ri)){const Mi=Math.max(1,St.getValue(ri));Wi=sn(Di({},Wi),{stickyScrollMaxItemCount:Mi})}if(Gi.affectsConfiguration(Ws)){const Mi=St.getValue(Ws);Wi=sn(Di({},Wi),{mouseWheelScrollSensitivity:Mi})}if(Gi.affectsConfiguration(Ns)){const Mi=St.getValue(Ns);Wi=sn(Di({},Wi),{fastScrollSensitivity:Mi})}Object.keys(Wi).length>0&&A.updateOptions(Wi)}),this.contextKeyService.onDidChangeContext(Gi=>{Gi.affectsSome(zi)&&A.updateOptions({typeNavigationMode:fe()})})),this.navigator=new Pi(A,Di({configurationService:St},q)),this.disposables.push(this.navigator)}updateOptions(A){A.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!A.multipleSelectionSupport)}updateStyleOverrides(A){this.tree.style(A?(0,Ct.TU)(A):Ct.O2)}dispose(){this.disposables=(0,L.B9)(this.disposables)}};We=It([Qt(4,Vt.i6),Qt(5,Ut),Qt(6,tt.Ui)],We),ii.B.as(Wt.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,Xe.NC)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[Rs]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,Xe.NC)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,Xe.NC)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,Xe.NC)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[ts]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,Xe.NC)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[ls]:{type:"boolean",default:!1,description:(0,Xe.NC)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[Gs]:{type:"boolean",default:!1,description:(0,Xe.NC)("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[Ys]:{type:"number",default:8,minimum:4,maximum:40,description:(0,Xe.NC)("tree indent setting","Controls tree indentation in pixels.")},[vs]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,Xe.NC)("render tree indent guides","Controls whether the tree should render indent guides.")},[Fs]:{type:"boolean",default:!1,description:(0,Xe.NC)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[Ws]:{type:"number",default:1,markdownDescription:(0,Xe.NC)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[Ns]:{type:"number",default:5,markdownDescription:(0,Xe.NC)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[ms]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,Xe.NC)("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),(0,Xe.NC)("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:(0,Xe.NC)("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[Ss]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,Xe.NC)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,Xe.NC)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,Xe.NC)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,Xe.NC)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:(0,Xe.NC)("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")},[Eo]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[(0,Xe.NC)("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),(0,Xe.NC)("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:(0,Xe.NC)("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[fo]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,Xe.NC)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[ao]:{type:"boolean",default:typeof ti.quality=="string"&&ti.quality!=="stable",description:(0,Xe.NC)("sticky scroll","Controls whether sticky scrolling is enabled in trees.")},[ri]:{type:"number",minimum:1,default:7,markdownDescription:(0,Xe.NC)("sticky scroll maximum items","Controls the number of sticky elements displayed in the tree when `#workbench.tree.enableStickyScroll#` is enabled.")},[qi]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:(0,Xe.NC)("typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}})},58316:function(Gt,ze,c){"use strict";c.d(ze,{VZ:function(){return L},in:function(){return T},kw:function(){return y},qA:function(){return b}});var D=c(46328),X=c(83845),v=c(81002),k=c(99068);const L=(0,k.yh)("logService");var T;(function(_){_[_.Off=0]="Off",_[_.Trace=1]="Trace",_[_.Debug=2]="Debug",_[_.Info=3]="Info",_[_.Warning=4]="Warning",_[_.Error=5]="Error"})(T||(T={}));const M=T.Info;class B extends X.JT{constructor(){super(...arguments),this.level=M,this._onDidChangeLogLevel=this._register(new D.Q5),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(a){this.level!==a&&(this.level=a,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(a){return this.level!==T.Off&&this.level<=a}}class y extends B{constructor(a=M,u=!0){super(),this.useColors=u,this.setLevel(a)}trace(a,...u){this.checkLogLevel(T.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",a,...u):console.log(a,...u))}debug(a,...u){this.checkLogLevel(T.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",a,...u):console.log(a,...u))}info(a,...u){this.checkLogLevel(T.Info)&&(this.useColors?console.log("%c INFO","color: #33f",a,...u):console.log(a,...u))}warn(a,...u){this.checkLogLevel(T.Warning)&&(this.useColors?console.log("%c WARN","color: #993",a,...u):console.log(a,...u))}error(a,...u){this.checkLogLevel(T.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",a,...u):console.error(a,...u))}dispose(){}}class b extends B{constructor(a){super(),this.loggers=a,a.length&&this.setLevel(a[0].getLevel())}setLevel(a){for(const u of this.loggers)u.setLevel(a);super.setLevel(a)}trace(a,...u){for(const N of this.loggers)N.trace(a,...u)}debug(a,...u){for(const N of this.loggers)N.debug(a,...u)}info(a,...u){for(const N of this.loggers)N.info(a,...u)}warn(a,...u){for(const N of this.loggers)N.warn(a,...u)}error(a,...u){for(const N of this.loggers)N.error(a,...u)}dispose(){for(const a of this.loggers)a.dispose()}}function C(_){switch(_){case T.Trace:return"trace";case T.Debug:return"debug";case T.Info:return"info";case T.Warning:return"warn";case T.Error:return"error";case T.Off:return"off"}}const S=new v.uy("logLevel",C(T.Info))},59265:function(Gt,ze,c){"use strict";c.d(ze,{H0:function(){return L},ZL:function(){return k},lT:function(){return T}});var D=c(40539),X=c(18493),v=c(99068),k;(function(M){M[M.Hint=1]="Hint",M[M.Info=2]="Info",M[M.Warning=4]="Warning",M[M.Error=8]="Error"})(k||(k={})),function(M){function B(_,a){return a-_}M.compare=B;const y=Object.create(null);y[M.Error]=(0,X.NC)("sev.error","Error"),y[M.Warning]=(0,X.NC)("sev.warning","Warning"),y[M.Info]=(0,X.NC)("sev.info","Info");function b(_){return y[_]||""}M.toString=b;function C(_){switch(_){case D.Z.Error:return M.Error;case D.Z.Warning:return M.Warning;case D.Z.Info:return M.Info;case D.Z.Ignore:return M.Hint}}M.fromSeverity=C;function S(_){switch(_){case M.Error:return D.Z.Error;case M.Warning:return D.Z.Warning;case M.Info:return D.Z.Info;case M.Hint:return D.Z.Ignore}}M.toSeverity=S}(k||(k={}));var L;(function(M){const B="";function y(C){return b(C,!0)}M.makeKey=y;function b(C,S){const _=[B];return C.source?_.push(C.source.replace("\xA6","\\\xA6")):_.push(B),C.code?typeof C.code=="string"?_.push(C.code.replace("\xA6","\\\xA6")):_.push(C.code.value.replace("\xA6","\\\xA6")):_.push(B),C.severity!==void 0&&C.severity!==null?_.push(k.toString(C.severity)):_.push(B),C.message&&S?_.push(C.message.replace("\xA6","\\\xA6")):_.push(B),C.startLineNumber!==void 0&&C.startLineNumber!==null?_.push(C.startLineNumber.toString()):_.push(B),C.startColumn!==void 0&&C.startColumn!==null?_.push(C.startColumn.toString()):_.push(B),C.endLineNumber!==void 0&&C.endLineNumber!==null?_.push(C.endLineNumber.toString()):_.push(B),C.endColumn!==void 0&&C.endColumn!==null?_.push(C.endColumn.toString()):_.push(B),_.push(B),_.join("\xA6")}M.makeKeyOptionalMessage=b})(L||(L={}));const T=(0,v.yh)("markerService")},23829:function(Gt,ze,c){"use strict";c.d(ze,{EO:function(){return L},lT:function(){return k},zb:function(){return v}});var D=c(40539),X=c(99068),v=D.Z;const k=(0,X.yh)("notificationService");class L{}},51270:function(Gt,ze,c){"use strict";c.d(ze,{v:function(){return X},x:function(){return v}});var D=c(99068);const X=(0,D.yh)("openerService");function v(k){let L;const T=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(k.fragment);return T&&(L={startLineNumber:parseInt(T[1]),startColumn:T[2]?parseInt(T[2]):1,endLineNumber:T[4]?parseInt(T[4]):void 0,endColumn:T[4]?T[5]?parseInt(T[5]):1:void 0},k=k.with({fragment:""})),{selection:L,uri:k}}},79979:function(Gt,ze,c){"use strict";c.d(ze,{Ex:function(){return k},R9:function(){return X},ek:function(){return L}});var D=c(99068);const X=(0,D.yh)("progressService"),v=Object.freeze({total(){},worked(){},done(){}});class k{constructor(M){this.callback=M}report(M){this._value=M,this.callback(this._value)}}k.None=Object.freeze({report(){}});const L=(0,D.yh)("editorProgressService")},64361:function(Gt,ze,c){"use strict";c.d(ze,{IP:function(){return L},Ry:function(){return k}});var D=c(54888),X=c(83845),v=c(93796),k;(function(M){M[M.PRESERVE=0]="PRESERVE",M[M.LAST=1]="LAST"})(k||(k={}));const L={Quickaccess:"workbench.contributions.quickaccess"};class T{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(B){return B.prefix.length===0?this.defaultProvider=B:this.providers.push(B),this.providers.sort((y,b)=>b.prefix.length-y.prefix.length),(0,X.OF)(()=>{this.providers.splice(this.providers.indexOf(B),1),this.defaultProvider===B&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,D.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(B){return B&&this.providers.find(b=>B.startsWith(b.prefix))||void 0||this.defaultProvider}}v.B.add(L.Quickaccess,new T)},63346:function(Gt,ze,c){"use strict";c.d(ze,{Jq:function(){return v},X5:function(){return X},eJ:function(){return M},jG:function(){return k}});var D=c(99068);const X={ctrlCmd:!1,alt:!1};var v;(function(B){B[B.Blur=1]="Blur",B[B.Gesture=2]="Gesture",B[B.Other=3]="Other"})(v||(v={}));var k;(function(B){B[B.NONE=0]="NONE",B[B.FIRST=1]="FIRST",B[B.SECOND=2]="SECOND",B[B.LAST=3]="LAST"})(k||(k={}));class L{constructor(y){this.options=y}}const T=new L,M=(0,D.yh)("quickInputService")},93796:function(Gt,ze,c){"use strict";c.d(ze,{B:function(){return k}});var D=c(32522),X=c(22968);class v{constructor(){this.data=new Map}add(T,M){D.ok(X.HD(T)),D.ok(X.Kn(M)),D.ok(!this.data.has(T),"There is already an extension with this id"),this.data.set(T,M)}as(T){return this.data.get(T)||null}}const k=new v},14786:function(Gt,ze,c){"use strict";c.d(ze,{Uy:function(){return S},vm:function(){return N},fk:function(){return _}});var D=c(46328),X=c(83845),v=c(22968),k=c(96925),L=c(29961),T;(function(O){O[O.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",O[O.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(T||(T={}));var M;(function(O){O[O.None=0]="None",O[O.Initialized=1]="Initialized",O[O.Closed=2]="Closed"})(M||(M={}));class B extends X.JT{constructor(R,V=Object.create(null)){super(),this.database=R,this.options=V,this._onDidChangeStorage=this._register(new D.K3),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=M.None,this.cache=new Map,this.flushDelayer=this._register(new k.rH(B.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(R=>this.onDidChangeItemsExternal(R)))}onDidChangeItemsExternal(R){var V,F;this._onDidChangeStorage.pause();try{(V=R.changed)===null||V===void 0||V.forEach((Y,G)=>this.acceptExternal(G,Y)),(F=R.deleted)===null||F===void 0||F.forEach(Y=>this.acceptExternal(Y,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(R,V){if(this.state===M.Closed)return;let F=!1;(0,v.Jp)(V)?F=this.cache.delete(R):this.cache.get(R)!==V&&(this.cache.set(R,V),F=!0),F&&this._onDidChangeStorage.fire({key:R,external:!0})}get(R,V){const F=this.cache.get(R);return(0,v.Jp)(F)?V:F}getBoolean(R,V){const F=this.get(R);return(0,v.Jp)(F)?V:F==="true"}getNumber(R,V){const F=this.get(R);return(0,v.Jp)(F)?V:parseInt(F,10)}set(R,V,F=!1){return At(this,null,function*(){if(this.state===M.Closed)return;if((0,v.Jp)(V))return this.delete(R,F);const Y=(0,v.Kn)(V)||Array.isArray(V)?(0,L.Pz)(V):String(V);if(this.cache.get(R)!==Y)return this.cache.set(R,Y),this.pendingInserts.set(R,Y),this.pendingDeletes.delete(R),this._onDidChangeStorage.fire({key:R,external:F}),this.doFlush()})}delete(R,V=!1){return At(this,null,function*(){if(!(this.state===M.Closed||!this.cache.delete(R)))return this.pendingDeletes.has(R)||this.pendingDeletes.add(R),this.pendingInserts.delete(R),this._onDidChangeStorage.fire({key:R,external:V}),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return At(this,null,function*(){if(!this.hasPending)return;const R={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(R).finally(()=>{var V;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(V=this.whenFlushedCallbacks.pop())===null||V===void 0||V()})})}doFlush(R){return At(this,null,function*(){return this.options.hint===T.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger(()=>this.flushPending(),R)})}}B.DEFAULT_FLUSH_DELAY=100;class y{constructor(){this.onDidChangeItemsExternal=D.ju.None,this.items=new Map}updateItems(R){return At(this,null,function*(){var V,F;(V=R.insert)===null||V===void 0||V.forEach((Y,G)=>this.items.set(G,Y)),(F=R.delete)===null||F===void 0||F.forEach(Y=>this.items.delete(Y))})}}var b=c(99068);const C="__$__targetStorageMarker",S=(0,b.yh)("storageService");var _;(function(O){O[O.NONE=0]="NONE",O[O.SHUTDOWN=1]="SHUTDOWN"})(_||(_={}));function a(O){const R=O.get(C);if(R)try{return JSON.parse(R)}catch(V){}return Object.create(null)}class u extends X.JT{constructor(R={flushInterval:u.DEFAULT_FLUSH_INTERVAL}){super(),this.options=R,this._onDidChangeValue=this._register(new D.K3),this._onDidChangeTarget=this._register(new D.K3),this._onWillSaveState=this._register(new D.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(R,V,F){return D.ju.filter(this._onDidChangeValue.event,Y=>Y.scope===R&&(V===void 0||Y.key===V),F)}emitDidChangeValue(R,V){const{key:F,external:Y}=V;if(F===C){switch(R){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:R})}else this._onDidChangeValue.fire({scope:R,key:F,target:this.getKeyTargets(R)[F],external:Y})}get(R,V,F){var Y;return(Y=this.getStorage(V))===null||Y===void 0?void 0:Y.get(R,F)}getBoolean(R,V,F){var Y;return(Y=this.getStorage(V))===null||Y===void 0?void 0:Y.getBoolean(R,F)}getNumber(R,V,F){var Y;return(Y=this.getStorage(V))===null||Y===void 0?void 0:Y.getNumber(R,F)}store(R,V,F,Y,G=!1){if((0,v.Jp)(V)){this.remove(R,F,G);return}this.withPausedEmitters(()=>{var Z;this.updateKeyTarget(R,F,Y),(Z=this.getStorage(F))===null||Z===void 0||Z.set(R,V,G)})}remove(R,V,F=!1){this.withPausedEmitters(()=>{var Y;this.updateKeyTarget(R,V,void 0),(Y=this.getStorage(V))===null||Y===void 0||Y.delete(R,F)})}withPausedEmitters(R){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{R()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(R,V,F,Y=!1){var G,Z;const ne=this.getKeyTargets(V);typeof F=="number"?ne[R]!==F&&(ne[R]=F,(G=this.getStorage(V))===null||G===void 0||G.set(C,JSON.stringify(ne),Y)):typeof ne[R]=="number"&&(delete ne[R],(Z=this.getStorage(V))===null||Z===void 0||Z.set(C,JSON.stringify(ne),Y))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(R){switch(R){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(R){const V=this.getStorage(R);return V?a(V):Object.create(null)}}u.DEFAULT_FLUSH_INTERVAL=60*1e3;class N extends u{constructor(){super(),this.applicationStorage=this._register(new B(new y,{hint:T.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new B(new y,{hint:T.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new B(new y,{hint:T.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(R=>this.emitDidChangeValue(1,R))),this._register(this.profileStorage.onDidChangeStorage(R=>this.emitDidChangeValue(0,R))),this._register(this.applicationStorage.onDidChangeStorage(R=>this.emitDidChangeValue(-1,R)))}getStorage(R){switch(R){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}},53174:function(Gt,ze,c){"use strict";c.d(ze,{b:function(){return X}});var D=c(99068);const X=(0,D.yh)("telemetryService")},55410:function(Gt,ze,c){"use strict";c.d(ze,{BM:function(){return N},Hc:function(){return b},O2:function(){return a},TU:function(){return u},ZR:function(){return O},b5:function(){return T},eO:function(){return k},ku:function(){return S},pl:function(){return M},uX:function(){return C},wG:function(){return L}});var D=c(32955),X=c(72225);function v(R,V){const F=Di({},V);for(const Y in R){const G=R[Y];F[Y]=G!==void 0?(0,D.n_1)(G):void 0}return F}const k={keybindingLabelBackground:(0,D.n_1)(D.oQ$),keybindingLabelForeground:(0,D.n_1)(D.lWp),keybindingLabelBorder:(0,D.n_1)(D.AWI),keybindingLabelBottomBorder:(0,D.n_1)(D.K19),keybindingLabelShadow:(0,D.n_1)(D.rh)},L={buttonForeground:(0,D.n_1)(D.j5u),buttonSeparator:(0,D.n_1)(D.iFQ),buttonBackground:(0,D.n_1)(D.b7$),buttonHoverBackground:(0,D.n_1)(D.GO4),buttonSecondaryForeground:(0,D.n_1)(D.qBU),buttonSecondaryBackground:(0,D.n_1)(D.ESD),buttonSecondaryHoverBackground:(0,D.n_1)(D.xEn),buttonBorder:(0,D.n_1)(D.GYc)},T={progressBarBackground:(0,D.n_1)(D.zRJ)},M={inputActiveOptionBorder:(0,D.n_1)(D.PRb),inputActiveOptionForeground:(0,D.n_1)(D.Pvw),inputActiveOptionBackground:(0,D.n_1)(D.XEs)},B={checkboxBackground:(0,D.n_1)(D.SUp),checkboxBorder:(0,D.n_1)(D.nd),checkboxForeground:(0,D.n_1)(D.BQ0)},y={dialogBackground:(0,D.n_1)(D.D0T),dialogForeground:(0,D.n_1)(D.Hfx),dialogShadow:(0,D.n_1)(D.rh),dialogBorder:(0,D.n_1)(D.lRK),errorIconForeground:(0,D.n_1)(D.JpG),warningIconForeground:(0,D.n_1)(D.BOY),infoIconForeground:(0,D.n_1)(D.OLZ),textLinkForeground:(0,D.n_1)(D.url)},b={inputBackground:(0,D.n_1)(D.sEe),inputForeground:(0,D.n_1)(D.zJb),inputBorder:(0,D.n_1)(D.dt_),inputValidationInfoBorder:(0,D.n_1)(D.EPQ),inputValidationInfoBackground:(0,D.n_1)(D._lC),inputValidationInfoForeground:(0,D.n_1)(D.YI3),inputValidationWarningBorder:(0,D.n_1)(D.C3g),inputValidationWarningBackground:(0,D.n_1)(D.RV_),inputValidationWarningForeground:(0,D.n_1)(D.SUG),inputValidationErrorBorder:(0,D.n_1)(D.OZR),inputValidationErrorBackground:(0,D.n_1)(D.paE),inputValidationErrorForeground:(0,D.n_1)(D._t9)},C={listFilterWidgetBackground:(0,D.n_1)(D.vGG),listFilterWidgetOutline:(0,D.n_1)(D.oSI),listFilterWidgetNoMatchesOutline:(0,D.n_1)(D.Saq),listFilterWidgetShadow:(0,D.n_1)(D.y65),inputBoxStyles:b,toggleStyles:M},S={badgeBackground:(0,D.n_1)(D.g8u),badgeForeground:(0,D.n_1)(D.qeD),badgeBorder:(0,D.n_1)(D.lRK)},_={breadcrumbsBackground:(0,D.n_1)(D.ixd),breadcrumbsForeground:(0,D.n_1)(D.l80),breadcrumbsHoverForeground:(0,D.n_1)(D.H6q),breadcrumbsFocusForeground:(0,D.n_1)(D.H6q),breadcrumbsFocusAndSelectionForeground:(0,D.n_1)(D.fSI)},a={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:(0,D.n_1)(D._bK),listFocusForeground:(0,D.n_1)(D._2n),listFocusOutline:(0,D.n_1)(D.Oop),listActiveSelectionBackground:(0,D.n_1)(D.dCr),listActiveSelectionForeground:(0,D.n_1)(D.M6C),listActiveSelectionIconForeground:(0,D.n_1)(D.Tnx),listFocusAndSelectionOutline:(0,D.n_1)(D.Bqu),listFocusAndSelectionBackground:(0,D.n_1)(D.dCr),listFocusAndSelectionForeground:(0,D.n_1)(D.M6C),listInactiveSelectionBackground:(0,D.n_1)(D.rg2),listInactiveSelectionIconForeground:(0,D.n_1)(D.kvU),listInactiveSelectionForeground:(0,D.n_1)(D.ytC),listInactiveFocusBackground:(0,D.n_1)(D.s$),listInactiveFocusOutline:(0,D.n_1)(D.F3d),listHoverBackground:(0,D.n_1)(D.mV1),listHoverForeground:(0,D.n_1)(D.$d5),listDropBackground:(0,D.n_1)(D.AS1),listSelectionOutline:(0,D.n_1)(D.xL1),listHoverOutline:(0,D.n_1)(D.xL1),treeIndentGuidesStroke:(0,D.n_1)(D.UnT),treeInactiveIndentGuidesStroke:(0,D.n_1)(D.KjV),tableColumnsBorder:(0,D.n_1)(D.uxu),tableOddRowsBackgroundColor:(0,D.n_1)(D.EQn)};function u(R){return v(R,a)}const N={selectBackground:(0,D.n_1)(D.XV0),selectListBackground:(0,D.n_1)(D.Fgs),selectForeground:(0,D.n_1)(D._g0),decoratorRightForeground:(0,D.n_1)(D.kJk),selectBorder:(0,D.n_1)(D.a9O),focusBorder:(0,D.n_1)(D.R80),listFocusBackground:(0,D.n_1)(D.Vqd),listInactiveSelectionIconForeground:(0,D.n_1)(D.cbQ),listFocusForeground:(0,D.n_1)(D.NPS),listFocusOutline:(0,D.BtC)(D.xL1,X.Il.transparent.toString()),listHoverBackground:(0,D.n_1)(D.mV1),listHoverForeground:(0,D.n_1)(D.$d5),listHoverOutline:(0,D.n_1)(D.xL1),selectListBorder:(0,D.n_1)(D.D1_),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},O={shadowColor:(0,D.n_1)(D.rh),borderColor:(0,D.n_1)(D.Cdg),foregroundColor:(0,D.n_1)(D.DEr),backgroundColor:(0,D.n_1)(D.Hz8),selectionForegroundColor:(0,D.n_1)(D.jbW),selectionBackgroundColor:(0,D.n_1)(D.$DX),selectionBorderColor:(0,D.n_1)(D.E3h),separatorColor:(0,D.n_1)(D.ZGJ),scrollbarShadow:(0,D.n_1)(D._wn),scrollbarSliderBackground:(0,D.n_1)(D.etL),scrollbarSliderHoverBackground:(0,D.n_1)(D.ABB),scrollbarSliderActiveBackground:(0,D.n_1)(D.ynu)}},32955:function(Gt,ze,c){"use strict";c.d(ze,{$DX:function(){return dt},$d5:function(){return Ns},A42:function(){return K},ABB:function(){return Ve},AS1:function(){return fo},AWI:function(){return ps},BOY:function(){return po},BQ0:function(){return ue},Bqu:function(){return ls},BtC:function(){return b},C3g:function(){return ct},CNo:function(){return mn},Cdg:function(){return q},CzK:function(){return Ji},D0T:function(){return hi},D1_:function(){return bn},DEr:function(){return fe},Dut:function(){return zt},E3h:function(){return St},EPQ:function(){return Ze},EQn:function(){return Je},ES4:function(){return ke},ESD:function(){return li},EiJ:function(){return Te},F3d:function(){return Fs},F9q:function(){return as},Fgs:function(){return st},Fm_:function(){return ka},GO4:function(){return Mt},GYc:function(){return Ft},Gj_:function(){return kr},Gvr:function(){return Zr},Gwp:function(){return ao},H6q:function(){return js},HCL:function(){return Qt},Hfx:function(){return En},Hz8:function(){return Pe},IPX:function(){return C},IYc:function(){return ur},Ido:function(){return O},Itd:function(){return pr},Ivo:function(){return Ho},JpG:function(){return Fa},K19:function(){return In},KjV:function(){return Li},M6C:function(){return qi},MUv:function(){return it},NOs:function(){return Nt},NPS:function(){return et},Ng6:function(){return gn},OLZ:function(){return Uo},OZR:function(){return gt},Oop:function(){return ts},P4M:function(){return Wn},P6G:function(){return a},P6Y:function(){return ro},PRb:function(){return Ee},PX0:function(){return ri},PpC:function(){return ii},Pvw:function(){return xe},QO2:function(){return B},R80:function(){return F},RV_:function(){return lt},Rzx:function(){return Ke},SPM:function(){return cr},SUG:function(){return ut},SUY:function(){return Yo},SUp:function(){return W},Saq:function(){return ni},T83:function(){return dn},Tnx:function(){return Ss},UnT:function(){return Pi},VVv:function(){return ti},Vqd:function(){return A},XEs:function(){return pe},XV0:function(){return Re},XZx:function(){return V},YI3:function(){return Xe},ZGJ:function(){return Bt},ZnX:function(){return fn},_2n:function(){return Rs},_Yy:function(){return pi},_bK:function(){return us},_g0:function(){return Tt},_lC:function(){return rt},_t9:function(){return Dt},_wn:function(){return De},a9O:function(){return xt},b6y:function(){return mt},b7$:function(){return pt},bKB:function(){return It},c63:function(){return xi},cbQ:function(){return Fe},cvW:function(){return Be},dCr:function(){return ms},dRz:function(){return u},dt_:function(){return _e},etL:function(){return di},fSI:function(){return go},g8u:function(){return Ne},gkn:function(){return tt},hEj:function(){return os},hX8:function(){return Ct},iFQ:function(){return we},ixd:function(){return Hn},j5u:function(){return vt},jUe:function(){return fi},jbW:function(){return Ye},kJk:function(){return Jn},kVY:function(){return Ro},keg:function(){return Cn},kvU:function(){return Ys},kwl:function(){return No},l80:function(){return Xi},lRK:function(){return Y},lUq:function(){return Ci},lWp:function(){return cs},lXJ:function(){return le},loF:function(){return en},mV1:function(){return Ws},n_1:function(){return y},nd:function(){return ve},nyM:function(){return bt},oQ$:function(){return ds},oSI:function(){return kt},opG:function(){return ys},ov3:function(){return Mo},pW3:function(){return Ot},paE:function(){return He},phM:function(){return Ut},pnM:function(){return _i},qBU:function(){return Xt},qeD:function(){return yt},rg2:function(){return Gs},rh:function(){return j},s$:function(){return vs},sEe:function(){return ie},tZ6:function(){return kn},uoC:function(){return bi},url:function(){return $},uxu:function(){return Ii},vGG:function(){return Ht},xEn:function(){return Yt},xL1:function(){return G},y65:function(){return ai},yJx:function(){return Ai},yb5:function(){return ui},ynu:function(){return $i},ypS:function(){return Tn},ytC:function(){return Eo},zJb:function(){return ce},zKr:function(){return Bn},zRJ:function(){return wn}});var D=c(96925),X=c(72225),v=c(46328),k=c(32522),L=c(18493),T=c(45449),M=c(93796);function B(jn){return`--vscode-${jn.replace(/\./g,"-")}`}function y(jn){return`var(${B(jn)})`}function b(jn,hs){return`var(${B(jn)}, ${hs})`}const C={ColorContribution:"base.contributions.colors"};class S{constructor(){this._onDidChangeSchema=new v.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(hs,Cs,Es,Vo=!1,eo){const Mn={id:hs,description:Es,defaults:Cs,needsTransparency:Vo,deprecationMessage:eo};this.colorsById[hs]=Mn;const Qo={type:"string",description:Es,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return eo&&(Qo.deprecationMessage=eo),this.colorSchema.properties[hs]=Qo,this.colorReferenceSchema.enum.push(hs),this.colorReferenceSchema.enumDescriptions.push(Es),this._onDidChangeSchema.fire(),hs}getColors(){return Object.keys(this.colorsById).map(hs=>this.colorsById[hs])}resolveDefaultColor(hs,Cs){const Es=this.colorsById[hs];if(Es&&Es.defaults){const Vo=Es.defaults[Cs.type];return Xo(Vo,Cs)}}getColorSchema(){return this.colorSchema}toString(){const hs=(Cs,Es)=>{const Vo=Cs.indexOf(".")===-1?0:1,eo=Es.indexOf(".")===-1?0:1;return Vo!==eo?Vo-eo:Cs.localeCompare(Es)};return Object.keys(this.colorsById).sort(hs).map(Cs=>`- \`${Cs}\`: ${this.colorsById[Cs].description}`).join(`
`)}}const _=new S;M.B.add(C.ColorContribution,_);function a(jn,hs,Cs,Es,Vo){return _.registerColor(jn,hs,Cs,Es,Vo)}const u=a("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},L.NC("foreground","Overall foreground color. This color is only used if not overridden by a component.")),N=a("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},L.NC("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),O=a("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},L.NC("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),R=a("descriptionForeground",{light:"#717171",dark:fn(u,.7),hcDark:fn(u,.7),hcLight:fn(u,.7)},L.NC("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),V=a("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},L.NC("iconForeground","The default color for icons in the workbench.")),F=a("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},L.NC("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),Y=a("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},L.NC("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),G=a("contrastActiveBorder",{light:null,dark:null,hcDark:F,hcLight:F},L.NC("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),Z=a("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},L.NC("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),ne=a("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:X.Il.black,hcLight:"#292929"},L.NC("textSeparatorForeground","Color for text separators.")),$=a("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},L.NC("textLinkForeground","Foreground color for links in text.")),J=a("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},L.NC("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),se=a("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},L.NC("textPreformatForeground","Foreground color for preformatted text segments.")),re=a("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},L.NC("textPreformatBackground","Background color for preformatted text segments.")),he=a("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},L.NC("textBlockQuoteBackground","Background color for block quotes in text.")),H=a("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:X.Il.white,hcLight:"#292929"},L.NC("textBlockQuoteBorder","Border color for block quotes in text.")),P=a("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:X.Il.black,hcLight:"#F2F2F2"},L.NC("textCodeBlockBackground","Background color for code blocks in text.")),j=a("widget.shadow",{dark:fn(X.Il.black,.36),light:fn(X.Il.black,.16),hcDark:null,hcLight:null},L.NC("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),K=a("widget.border",{dark:null,light:null,hcDark:Y,hcLight:Y},L.NC("widgetBorder","Border color of widgets such as find/replace inside the editor.")),ie=a("input.background",{dark:"#3C3C3C",light:X.Il.white,hcDark:X.Il.black,hcLight:X.Il.white},L.NC("inputBoxBackground","Input box background.")),ce=a("input.foreground",{dark:u,light:u,hcDark:u,hcLight:u},L.NC("inputBoxForeground","Input box foreground.")),_e=a("input.border",{dark:null,light:null,hcDark:Y,hcLight:Y},L.NC("inputBoxBorder","Input box border.")),Ee=a("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:Y,hcLight:Y},L.NC("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),Ce=a("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},L.NC("inputOption.hoverBackground","Background color of activated options in input fields.")),pe=a("inputOption.activeBackground",{dark:fn(F,.4),light:fn(F,.2),hcDark:X.Il.transparent,hcLight:X.Il.transparent},L.NC("inputOption.activeBackground","Background hover color of options in input fields.")),xe=a("inputOption.activeForeground",{dark:X.Il.white,light:X.Il.black,hcDark:u,hcLight:u},L.NC("inputOption.activeForeground","Foreground color of activated options in input fields.")),x=a("input.placeholderForeground",{light:fn(u,.5),dark:fn(u,.5),hcDark:fn(u,.7),hcLight:fn(u,.7)},L.NC("inputPlaceholderForeground","Input box foreground color for placeholder text.")),rt=a("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:X.Il.black,hcLight:X.Il.white},L.NC("inputValidationInfoBackground","Input validation background color for information severity.")),Xe=a("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:u},L.NC("inputValidationInfoForeground","Input validation foreground color for information severity.")),Ze=a("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:Y,hcLight:Y},L.NC("inputValidationInfoBorder","Input validation border color for information severity.")),lt=a("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:X.Il.black,hcLight:X.Il.white},L.NC("inputValidationWarningBackground","Input validation background color for warning severity.")),ut=a("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:u},L.NC("inputValidationWarningForeground","Input validation foreground color for warning severity.")),ct=a("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:Y,hcLight:Y},L.NC("inputValidationWarningBorder","Input validation border color for warning severity.")),He=a("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:X.Il.black,hcLight:X.Il.white},L.NC("inputValidationErrorBackground","Input validation background color for error severity.")),Dt=a("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:u},L.NC("inputValidationErrorForeground","Input validation foreground color for error severity.")),gt=a("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:Y,hcLight:Y},L.NC("inputValidationErrorBorder","Input validation border color for error severity.")),Re=a("dropdown.background",{dark:"#3C3C3C",light:X.Il.white,hcDark:X.Il.black,hcLight:X.Il.white},L.NC("dropdownBackground","Dropdown background.")),st=a("dropdown.listBackground",{dark:null,light:null,hcDark:X.Il.black,hcLight:X.Il.white},L.NC("dropdownListBackground","Dropdown list background.")),Tt=a("dropdown.foreground",{dark:"#F0F0F0",light:u,hcDark:X.Il.white,hcLight:u},L.NC("dropdownForeground","Dropdown foreground.")),xt=a("dropdown.border",{dark:Re,light:"#CECECE",hcDark:Y,hcLight:Y},L.NC("dropdownBorder","Dropdown border.")),vt=a("button.foreground",{dark:X.Il.white,light:X.Il.white,hcDark:X.Il.white,hcLight:X.Il.white},L.NC("buttonForeground","Button foreground color.")),we=a("button.separator",{dark:fn(vt,.4),light:fn(vt,.4),hcDark:fn(vt,.4),hcLight:fn(vt,.4)},L.NC("buttonSeparator","Button separator color.")),pt=a("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},L.NC("buttonBackground","Button background color.")),Mt=a("button.hoverBackground",{dark:_o(pt,.2),light:or(pt,.2),hcDark:pt,hcLight:pt},L.NC("buttonHoverBackground","Button background color when hovering.")),Ft=a("button.border",{dark:Y,light:Y,hcDark:Y,hcLight:Y},L.NC("buttonBorder","Button border color.")),Xt=a("button.secondaryForeground",{dark:X.Il.white,light:X.Il.white,hcDark:X.Il.white,hcLight:u},L.NC("buttonSecondaryForeground","Secondary button foreground color.")),li=a("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:X.Il.white},L.NC("buttonSecondaryBackground","Secondary button background color.")),Yt=a("button.secondaryHoverBackground",{dark:_o(li,.2),light:or(li,.2),hcDark:null,hcLight:null},L.NC("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),Ne=a("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:X.Il.black,hcLight:"#0F4A85"},L.NC("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),yt=a("badge.foreground",{dark:X.Il.white,light:"#333",hcDark:X.Il.white,hcLight:X.Il.white},L.NC("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),De=a("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},L.NC("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),di=a("scrollbarSlider.background",{dark:X.Il.fromHex("#797979").transparent(.4),light:X.Il.fromHex("#646464").transparent(.4),hcDark:fn(Y,.6),hcLight:fn(Y,.4)},L.NC("scrollbarSliderBackground","Scrollbar slider background color.")),Ve=a("scrollbarSlider.hoverBackground",{dark:X.Il.fromHex("#646464").transparent(.7),light:X.Il.fromHex("#646464").transparent(.7),hcDark:fn(Y,.8),hcLight:fn(Y,.8)},L.NC("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),$i=a("scrollbarSlider.activeBackground",{dark:X.Il.fromHex("#BFBFBF").transparent(.4),light:X.Il.fromHex("#000000").transparent(.6),hcDark:Y,hcLight:Y},L.NC("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),wn=a("progressBar.background",{dark:X.Il.fromHex("#0E70C0"),light:X.Il.fromHex("#0E70C0"),hcDark:Y,hcLight:Y},L.NC("progressBarBackground","Background color of the progress bar that can show for long running operations.")),Pt=a("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),le=a("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},L.NC("editorError.foreground","Foreground color of error squigglies in the editor.")),mt=a("editorError.border",{dark:null,light:null,hcDark:X.Il.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},L.NC("errorBorder","If set, color of double underlines for errors in the editor.")),jt=a("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),bi=a("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},L.NC("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),Ot=a("editorWarning.border",{dark:null,light:null,hcDark:X.Il.fromHex("#FFCC00").transparent(.8),hcLight:X.Il.fromHex("#FFCC00").transparent(.8)},L.NC("warningBorder","If set, color of double underlines for warnings in the editor.")),Ki=a("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),xi=a("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},L.NC("editorInfo.foreground","Foreground color of info squigglies in the editor.")),dn=a("editorInfo.border",{dark:null,light:null,hcDark:X.Il.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},L.NC("infoBorder","If set, color of double underlines for infos in the editor.")),zt=a("editorHint.foreground",{dark:X.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},L.NC("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Qi=a("editorHint.border",{dark:null,light:null,hcDark:X.Il.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},L.NC("hintBorder","If set, color of double underlines for hints in the editor.")),ei=a("sash.hoverBorder",{dark:F,light:F,hcDark:F,hcLight:F},L.NC("sashActiveBorder","Border color of active sashes.")),Be=a("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:X.Il.black,hcLight:X.Il.white},L.NC("editorBackground","Editor background color.")),Nt=a("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:X.Il.white,hcLight:u},L.NC("editorForeground","Editor default foreground color.")),Ri=a("editorStickyScroll.background",{light:Be,dark:Be,hcDark:Be,hcLight:Be},L.NC("editorStickyScrollBackground","Sticky scroll background color for the editor")),Fi=a("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:X.Il.fromHex("#0F4A85").transparent(.1)},L.NC("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor")),hi=a("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:X.Il.white},L.NC("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),En=a("editorWidget.foreground",{dark:u,light:u,hcDark:u,hcLight:u},L.NC("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),bn=a("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:Y,hcLight:Y},L.NC("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),gn=a("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},L.NC("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),Bn=a("quickInput.background",{dark:hi,light:hi,hcDark:hi,hcLight:hi},L.NC("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),kn=a("quickInput.foreground",{dark:En,light:En,hcDark:En,hcLight:En},L.NC("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),en=a("quickInputTitle.background",{dark:new X.Il(new X.VS(255,255,255,.105)),light:new X.Il(new X.VS(0,0,0,.06)),hcDark:"#000000",hcLight:X.Il.white},L.NC("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Jn=a("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:X.Il.white,hcLight:"#0F4A85"},L.NC("pickerGroupForeground","Quick picker color for grouping labels.")),ys=a("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:X.Il.white,hcLight:"#0F4A85"},L.NC("pickerGroupBorder","Quick picker color for grouping borders.")),ds=a("keybindingLabel.background",{dark:new X.Il(new X.VS(128,128,128,.17)),light:new X.Il(new X.VS(221,221,221,.4)),hcDark:X.Il.transparent,hcLight:X.Il.transparent},L.NC("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),cs=a("keybindingLabel.foreground",{dark:X.Il.fromHex("#CCCCCC"),light:X.Il.fromHex("#555555"),hcDark:X.Il.white,hcLight:u},L.NC("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),ps=a("keybindingLabel.border",{dark:new X.Il(new X.VS(51,51,51,.6)),light:new X.Il(new X.VS(204,204,204,.4)),hcDark:new X.Il(new X.VS(111,195,223)),hcLight:Y},L.NC("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),In=a("keybindingLabel.bottomBorder",{dark:new X.Il(new X.VS(68,68,68,.6)),light:new X.Il(new X.VS(187,187,187,.4)),hcDark:new X.Il(new X.VS(111,195,223)),hcLight:u},L.NC("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),os=a("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},L.NC("editorSelectionBackground","Color of the editor selection.")),ui=a("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:X.Il.white},L.NC("editorSelectionForeground","Color of the selected text for high contrast.")),ke=a("editor.inactiveSelectionBackground",{light:fn(os,.5),dark:fn(os,.5),hcDark:fn(os,.7),hcLight:fn(os,.5)},L.NC("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),Ke=a("editor.selectionHighlightBackground",{light:er(os,Be,.3,.6),dark:er(os,Be,.3,.6),hcDark:null,hcLight:null},L.NC("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),Ue=a("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:G,hcLight:G},L.NC("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),bt=a("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},L.NC("editorFindMatch","Color of the current search match.")),it=a("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},L.NC("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),fi=a("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},L.NC("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),_i=a("editor.findMatchBorder",{light:null,dark:null,hcDark:G,hcLight:G},L.NC("editorFindMatchBorder","Border color of the current search match.")),Te=a("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:G,hcLight:G},L.NC("findMatchHighlightBorder","Border color of the other search matches.")),tt=a("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:fn(G,.4),hcLight:fn(G,.4)},L.NC("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Wt=a("searchEditor.findMatchBackground",{light:fn(it,.66),dark:fn(it,.66),hcDark:it,hcLight:it},L.NC("searchEditor.queryMatch","Color of the Search Editor query matches.")),Vt=a("searchEditor.findMatchBorder",{light:fn(Te,.66),dark:fn(Te,.66),hcDark:Te,hcLight:Te},L.NC("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),Ni=a("search.resultsInfoForeground",{light:u,dark:fn(u,.65),hcDark:u,hcLight:u},L.NC("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),ji=a("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},L.NC("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Ai=a("editorHoverWidget.background",{light:hi,dark:hi,hcDark:hi,hcLight:hi},L.NC("hoverBackground","Background color of the editor hover.")),on=a("editorHoverWidget.foreground",{light:En,dark:En,hcDark:En,hcLight:En},L.NC("hoverForeground","Foreground color of the editor hover.")),mn=a("editorHoverWidget.border",{light:bn,dark:bn,hcDark:bn,hcLight:bn},L.NC("hoverBorder","Border color of the editor hover.")),Rn=a("editorHoverWidget.statusBarBackground",{dark:_o(Ai,.2),light:or(Ai,.05),hcDark:hi,hcLight:hi},L.NC("statusBarBackground","Background color of the editor hover status bar.")),pi=a("editorLink.activeForeground",{dark:"#4E94CE",light:X.Il.blue,hcDark:X.Il.cyan,hcLight:"#292929"},L.NC("activeLinkForeground","Color of active links.")),ti=a("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:X.Il.white,hcLight:X.Il.black},L.NC("editorInlayHintForeground","Foreground color of inline hints")),ii=a("editorInlayHint.background",{dark:fn(Ne,.1),light:fn(Ne,.1),hcDark:fn(X.Il.white,.1),hcLight:fn(Ne,.1)},L.NC("editorInlayHintBackground","Background color of inline hints")),Ct=a("editorInlayHint.typeForeground",{dark:ti,light:ti,hcDark:ti,hcLight:ti},L.NC("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),It=a("editorInlayHint.typeBackground",{dark:ii,light:ii,hcDark:ii,hcLight:ii},L.NC("editorInlayHintBackgroundTypes","Background color of inline hints for types")),Qt=a("editorInlayHint.parameterForeground",{dark:ti,light:ti,hcDark:ti,hcLight:ti},L.NC("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),Ut=a("editorInlayHint.parameterBackground",{dark:ii,light:ii,hcDark:ii,hcLight:ii},L.NC("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),Si=a("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},L.NC("editorLightBulbForeground","The color used for the lightbulb actions icon.")),Vi=a("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},L.NC("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),tn=a("editorLightBulbAi.foreground",{dark:or(V,.4),light:_o(V,1.7),hcDark:V,hcLight:V},L.NC("editorLightBulbAiForeground","The color used for the lightbulb AI icon.")),Ji=new X.Il(new X.VS(155,185,85,.2)),Cn=new X.Il(new X.VS(255,0,0,.2)),Tn=a("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},L.NC("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Wn=a("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},L.NC("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),qn=a("diffEditor.insertedLineBackground",{dark:Ji,light:Ji,hcDark:null,hcLight:null},L.NC("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),ln=a("diffEditor.removedLineBackground",{dark:Cn,light:Cn,hcDark:null,hcLight:null},L.NC("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Gn=a("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),Kn=a("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),ro=a("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),as=a("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),Zi=a("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},L.NC("diffEditorInsertedOutline","Outline color for the text that got inserted.")),cn=a("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},L.NC("diffEditorRemovedOutline","Outline color for text that got removed.")),pn=a("diffEditor.border",{dark:null,light:null,hcDark:Y,hcLight:Y},L.NC("diffEditorBorder","Border color between the two text editors.")),rn=a("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},L.NC("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),Xn=a("diffEditor.unchangedRegionBackground",{dark:"sideBar.background",light:"sideBar.background",hcDark:"sideBar.background",hcLight:"sideBar.background"},L.NC("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),Is=a("diffEditor.unchangedRegionForeground",{dark:"foreground",light:"foreground",hcDark:"foreground",hcLight:"foreground"},L.NC("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),hn=a("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},L.NC("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),us=a("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Rs=a("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ts=a("list.focusOutline",{dark:F,light:F,hcDark:G,hcLight:G},L.NC("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ls=a("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),ms=a("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:X.Il.fromHex("#0F4A85").transparent(.1)},L.NC("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),qi=a("list.activeSelectionForeground",{dark:X.Il.white,light:X.Il.white,hcDark:null,hcLight:null},L.NC("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ss=a("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Gs=a("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:X.Il.fromHex("#0F4A85").transparent(.1)},L.NC("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Eo=a("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ys=a("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),vs=a("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Fs=a("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ws=a("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:X.Il.white.transparent(.1),hcLight:X.Il.fromHex("#0F4A85").transparent(.1)},L.NC("listHoverBackground","List/Tree background when hovering over items using the mouse.")),Ns=a("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),fo=a("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},L.NC("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),ao=a("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:F,hcLight:F},L.NC("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),ri=a("list.focusHighlightForeground",{dark:ao,light:hr(ms,ao,"#BBE7FF"),hcDark:ao,hcLight:ao},L.NC("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),Se=a("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},L.NC("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),je=a("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},L.NC("listErrorForeground","Foreground color of list items containing errors.")),Qe=a("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},L.NC("listWarningForeground","Foreground color of list items containing warnings.")),Ht=a("listFilterWidget.background",{light:or(hi,0),dark:_o(hi,0),hcDark:hi,hcLight:hi},L.NC("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),kt=a("listFilterWidget.outline",{dark:X.Il.transparent,light:X.Il.transparent,hcDark:"#f38518",hcLight:"#007ACC"},L.NC("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),ni=a("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:Y,hcLight:Y},L.NC("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),ai=a("listFilterWidget.shadow",{dark:j,light:j,hcDark:j,hcLight:j},L.NC("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),si=a("list.filterMatchBackground",{dark:it,light:it,hcDark:null,hcLight:null},L.NC("listFilterMatchHighlight","Background color of the filtered match.")),Ei=a("list.filterMatchBorder",{dark:Te,light:Te,hcDark:Y,hcLight:G},L.NC("listFilterMatchHighlightBorder","Border color of the filtered match.")),Pi=a("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},L.NC("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),Li=a("tree.inactiveIndentGuidesStroke",{dark:fn(Pi,.4),light:fn(Pi,.4),hcDark:fn(Pi,.4),hcLight:fn(Pi,.4)},L.NC("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),Ii=a("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},L.NC("tableColumnsBorder","Table border color between columns.")),Je=a("tree.tableOddRowsBackground",{dark:fn(u,.04),light:fn(u,.04),hcDark:null,hcLight:null},L.NC("tableOddRowsBackgroundColor","Background color for odd table rows.")),E=a("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},L.NC("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),W=a("checkbox.background",{dark:Re,light:Re,hcDark:Re,hcLight:Re},L.NC("checkbox.background","Background color of checkbox widget.")),Q=a("checkbox.selectBackground",{dark:hi,light:hi,hcDark:hi,hcLight:hi},L.NC("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),ue=a("checkbox.foreground",{dark:Tt,light:Tt,hcDark:Tt,hcLight:Tt},L.NC("checkbox.foreground","Foreground color of checkbox widget.")),ve=a("checkbox.border",{dark:xt,light:xt,hcDark:xt,hcLight:xt},L.NC("checkbox.border","Border color of checkbox widget.")),Oe=a("checkbox.selectBorder",{dark:V,light:V,hcDark:V,hcLight:V},L.NC("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),We=a("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,L.NC("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),et=a("quickInputList.focusForeground",{dark:qi,light:qi,hcDark:qi,hcLight:qi},L.NC("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),Fe=a("quickInputList.focusIconForeground",{dark:Ss,light:Ss,hcDark:Ss,hcLight:Ss},L.NC("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),A=a("quickInputList.focusBackground",{dark:No(We,ms),light:No(We,ms),hcDark:null,hcLight:null},L.NC("quickInput.listFocusBackground","Quick picker background color for the focused item.")),q=a("menu.border",{dark:null,light:null,hcDark:Y,hcLight:Y},L.NC("menuBorder","Border color of menus.")),fe=a("menu.foreground",{dark:Tt,light:Tt,hcDark:Tt,hcLight:Tt},L.NC("menuForeground","Foreground color of menu items.")),Pe=a("menu.background",{dark:Re,light:Re,hcDark:Re,hcLight:Re},L.NC("menuBackground","Background color of menu items.")),Ye=a("menu.selectionForeground",{dark:qi,light:qi,hcDark:qi,hcLight:qi},L.NC("menuSelectionForeground","Foreground color of the selected menu item in menus.")),dt=a("menu.selectionBackground",{dark:ms,light:ms,hcDark:ms,hcLight:ms},L.NC("menuSelectionBackground","Background color of the selected menu item in menus.")),St=a("menu.selectionBorder",{dark:null,light:null,hcDark:G,hcLight:G},L.NC("menuSelectionBorder","Border color of the selected menu item in menus.")),Bt=a("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:Y,hcLight:Y},L.NC("menuSeparatorBackground","Color of a separator menu item in menus.")),Ci=a("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},L.NC("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),vi=a("toolbar.hoverOutline",{dark:null,light:null,hcDark:G,hcLight:G},L.NC("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),zi=a("toolbar.activeBackground",{dark:_o(Ci,.1),light:or(Ci,.1),hcDark:null,hcLight:null},L.NC("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),Gi=a("editor.snippetTabstopHighlightBackground",{dark:new X.Il(new X.VS(124,124,124,.3)),light:new X.Il(new X.VS(10,50,100,.2)),hcDark:new X.Il(new X.VS(124,124,124,.3)),hcLight:new X.Il(new X.VS(10,50,100,.2))},L.NC("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),Wi=a("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),Mi=a("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),Oi=a("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new X.Il(new X.VS(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},L.NC("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),Xi=a("breadcrumb.foreground",{light:fn(u,.8),dark:fn(u,.8),hcDark:fn(u,.8),hcLight:fn(u,.8)},L.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Hn=a("breadcrumb.background",{light:Be,dark:Be,hcDark:Be,hcLight:Be},L.NC("breadcrumbsBackground","Background color of breadcrumb items.")),js=a("breadcrumb.focusForeground",{light:or(u,.2),dark:_o(u,.1),hcDark:_o(u,.1),hcLight:_o(u,.1)},L.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),go=a("breadcrumb.activeSelectionForeground",{light:or(u,.2),dark:_o(u,.1),hcDark:_o(u,.1),hcLight:_o(u,.1)},L.NC("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),So=a("breadcrumbPicker.background",{light:hi,dark:hi,hcDark:hi,hcLight:hi},L.NC("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),An=.5,Ts=X.Il.fromHex("#40C8AE").transparent(An),rs=X.Il.fromHex("#40A6FF").transparent(An),$n=X.Il.fromHex("#606060").transparent(.4),Bs=.4,so=1,bo=a("merge.currentHeaderBackground",{dark:Ts,light:Ts,hcDark:null,hcLight:null},L.NC("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Nr=a("merge.currentContentBackground",{dark:fn(bo,Bs),light:fn(bo,Bs),hcDark:fn(bo,Bs),hcLight:fn(bo,Bs)},L.NC("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),ks=a("merge.incomingHeaderBackground",{dark:rs,light:rs,hcDark:null,hcLight:null},L.NC("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Lo=a("merge.incomingContentBackground",{dark:fn(ks,Bs),light:fn(ks,Bs),hcDark:fn(ks,Bs),hcLight:fn(ks,Bs)},L.NC("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Ir=a("merge.commonHeaderBackground",{dark:$n,light:$n,hcDark:null,hcLight:null},L.NC("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),xa=a("merge.commonContentBackground",{dark:fn(Ir,Bs),light:fn(Ir,Bs),hcDark:fn(Ir,Bs),hcLight:fn(Ir,Bs)},L.NC("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Ln=a("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},L.NC("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),Ds=a("editorOverviewRuler.currentContentForeground",{dark:fn(bo,so),light:fn(bo,so),hcDark:Ln,hcLight:Ln},L.NC("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),bs=a("editorOverviewRuler.incomingContentForeground",{dark:fn(ks,so),light:fn(ks,so),hcDark:Ln,hcLight:Ln},L.NC("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),Jr=a("editorOverviewRuler.commonContentForeground",{dark:fn(Ir,so),light:fn(Ir,so),hcDark:Ln,hcLight:Ln},L.NC("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),ka=a("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},L.NC("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),cr=a("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},L.NC("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Yo=a("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},L.NC("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),ur=a("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},L.NC("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),Mo=a("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},L.NC("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Zr=a("minimap.infoHighlight",{dark:xi,light:xi,hcDark:dn,hcLight:dn},L.NC("minimapInfo","Minimap marker color for infos.")),Ho=a("minimap.warningHighlight",{dark:bi,light:bi,hcDark:Ot,hcLight:Ot},L.NC("overviewRuleWarning","Minimap marker color for warnings.")),kr=a("minimap.errorHighlight",{dark:new X.Il(new X.VS(255,18,18,.7)),light:new X.Il(new X.VS(255,18,18,.7)),hcDark:new X.Il(new X.VS(255,50,50,1)),hcLight:"#B5200D"},L.NC("minimapError","Minimap marker color for errors.")),Ro=a("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("minimapBackground","Minimap background color.")),pr=a("minimap.foregroundOpacity",{dark:X.Il.fromHex("#000f"),light:X.Il.fromHex("#000f"),hcDark:X.Il.fromHex("#000f"),hcLight:X.Il.fromHex("#000f")},L.NC("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),jo=a("minimapSlider.background",{light:fn(di,.5),dark:fn(di,.5),hcDark:fn(di,.5),hcLight:fn(di,.5)},L.NC("minimapSliderBackground","Minimap slider background color.")),xo=a("minimapSlider.hoverBackground",{light:fn(Ve,.5),dark:fn(Ve,.5),hcDark:fn(Ve,.5),hcLight:fn(Ve,.5)},L.NC("minimapSliderHoverBackground","Minimap slider background color when hovering.")),_r=a("minimapSlider.activeBackground",{light:fn($i,.5),dark:fn($i,.5),hcDark:fn($i,.5),hcLight:fn($i,.5)},L.NC("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),Fa=a("problemsErrorIcon.foreground",{dark:le,light:le,hcDark:le,hcLight:le},L.NC("problemsErrorIconForeground","The color used for the problems error icon.")),po=a("problemsWarningIcon.foreground",{dark:bi,light:bi,hcDark:bi,hcLight:bi},L.NC("problemsWarningIconForeground","The color used for the problems warning icon.")),Uo=a("problemsInfoIcon.foreground",{dark:xi,light:xi,hcDark:xi,hcLight:xi},L.NC("problemsInfoIconForeground","The color used for the problems info icon.")),Hs=a("charts.foreground",{dark:u,light:u,hcDark:u,hcLight:u},L.NC("chartsForeground","The foreground color used in charts.")),rl=a("charts.lines",{dark:fn(u,.5),light:fn(u,.5),hcDark:fn(u,.5),hcLight:fn(u,.5)},L.NC("chartsLines","The color used for horizontal lines in charts.")),al=a("charts.red",{dark:le,light:le,hcDark:le,hcLight:le},L.NC("chartsRed","The red color used in chart visualizations.")),qr=a("charts.blue",{dark:xi,light:xi,hcDark:xi,hcLight:xi},L.NC("chartsBlue","The blue color used in chart visualizations.")),$o=a("charts.yellow",{dark:bi,light:bi,hcDark:bi,hcLight:bi},L.NC("chartsYellow","The yellow color used in chart visualizations.")),Do=a("charts.orange",{dark:Yo,light:Yo,hcDark:Yo,hcLight:Yo},L.NC("chartsOrange","The orange color used in chart visualizations.")),wl=a("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},L.NC("chartsGreen","The green color used in chart visualizations.")),Ba=a("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},L.NC("chartsPurple","The purple color used in chart visualizations."));function qo(jn,hs){var Cs,Es,Vo,eo;switch(jn.op){case 0:return(Cs=Xo(jn.value,hs))===null||Cs===void 0?void 0:Cs.darken(jn.factor);case 1:return(Es=Xo(jn.value,hs))===null||Es===void 0?void 0:Es.lighten(jn.factor);case 2:return(Vo=Xo(jn.value,hs))===null||Vo===void 0?void 0:Vo.transparent(jn.factor);case 3:{const Mn=Xo(jn.background,hs);return Mn?(eo=Xo(jn.value,hs))===null||eo===void 0?void 0:eo.makeOpaque(Mn):Xo(jn.value,hs)}case 4:for(const Mn of jn.values){const Qo=Xo(Mn,hs);if(Qo)return Qo}return;case 6:return Xo(hs.defines(jn.if)?jn.then:jn.else,hs);case 5:{const Mn=Xo(jn.value,hs);if(!Mn)return;const Qo=Xo(jn.background,hs);return Qo?Mn.isDarkerThan(Qo)?X.Il.getLighterColor(Mn,Qo,jn.factor).transparent(jn.transparency):X.Il.getDarkerColor(Mn,Qo,jn.factor).transparent(jn.transparency):Mn.transparent(jn.factor*jn.transparency)}default:throw(0,k.vE)(jn)}}function or(jn,hs){return{op:0,value:jn,factor:hs}}function _o(jn,hs){return{op:1,value:jn,factor:hs}}function fn(jn,hs){return{op:2,value:jn,factor:hs}}function No(...jn){return{op:4,values:jn}}function hr(jn,hs,Cs){return{op:6,if:jn,then:hs,else:Cs}}function er(jn,hs,Cs,Es){return{op:5,value:jn,background:hs,factor:Cs,transparency:Es}}function Xo(jn,hs){if(jn!==null){if(typeof jn=="string")return jn[0]==="#"?X.Il.fromHex(jn):hs.getColor(jn);if(jn instanceof X.Il)return jn;if(typeof jn=="object")return qo(jn,hs)}}const Cr="vscode://schemas/workbench-colors",Wa=M.B.as(T.I.JSONContribution);Wa.registerSchema(Cr,_.getColorSchema());const Ar=new D.pY(()=>Wa.notifySchemaChanged(Cr),200);_.onDidChangeSchema(()=>{Ar.isScheduled()||Ar.schedule()})},6863:function(Gt,ze,c){"use strict";c.d(ze,{Ks:function(){return N},q5:function(){return u},s_:function(){return Y}});var D=c(96925),X=c(64423),v=c(12003),k=c(46328),L=c(22968),T=c(6685),M=c(18493),B=c(45449),y=c(93796);const b={IconContribution:"base.contributions.icons"};var C;(function(J){function se(re,he){let H=re.defaults;for(;v.k.isThemeIcon(H);){const P=a.getIcon(H.id);if(!P)return;H=P.defaults}return H}J.getDefinition=se})(C||(C={}));var S;(function(J){function se(he){return{weight:he.weight,style:he.style,src:he.src.map(H=>({format:H.format,location:H.location.toString()}))}}J.toJSONObject=se;function re(he){const H=P=>(0,L.HD)(P)?P:void 0;if(he&&Array.isArray(he.src)&&he.src.every(P=>(0,L.HD)(P.format)&&(0,L.HD)(P.location)))return{weight:H(he.weight),style:H(he.style),src:he.src.map(P=>({format:P.format,location:T.o.parse(P.location)}))}}J.fromJSONObject=re})(S||(S={}));class _{constructor(){this._onDidChange=new k.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,M.NC)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,M.NC)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${v.k.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(se,re,he,H){const P=this.iconsById[se];if(P){if(he&&!P.description){P.description=he,this.iconSchema.properties[se].markdownDescription=`${he} $(${se})`;const ie=this.iconReferenceSchema.enum.indexOf(se);ie!==-1&&(this.iconReferenceSchema.enumDescriptions[ie]=he),this._onDidChange.fire()}return P}const j={id:se,description:he,defaults:re,deprecationMessage:H};this.iconsById[se]=j;const K={$ref:"#/definitions/icons"};return H&&(K.deprecationMessage=H),he&&(K.markdownDescription=`${he}: $(${se})`),this.iconSchema.properties[se]=K,this.iconReferenceSchema.enum.push(se),this.iconReferenceSchema.enumDescriptions.push(he||""),this._onDidChange.fire(),{id:se}}getIcons(){return Object.keys(this.iconsById).map(se=>this.iconsById[se])}getIcon(se){return this.iconsById[se]}getIconSchema(){return this.iconSchema}toString(){const se=(P,j)=>P.id.localeCompare(j.id),re=P=>{for(;v.k.isThemeIcon(P.defaults);)P=this.iconsById[P.defaults.id];return`codicon codicon-${P?P.id:""}`},he=[];he.push("| preview     | identifier                        | default codicon ID                | description"),he.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const H=Object.keys(this.iconsById).map(P=>this.iconsById[P]);for(const P of H.filter(j=>!!j.description).sort(se))he.push(`|<i class="${re(P)}"></i>|${P.id}|${v.k.isThemeIcon(P.defaults)?P.defaults.id:P.id}|${P.description||""}|`);he.push("| preview     | identifier                        "),he.push("| ----------- | --------------------------------- |");for(const P of H.filter(j=>!v.k.isThemeIcon(j.defaults)).sort(se))he.push(`|<i class="${re(P)}"></i>|${P.id}|`);return he.join(`
`)}}const a=new _;y.B.add(b.IconContribution,a);function u(J,se,re,he){return a.registerIcon(J,se,re,he)}function N(){return a}function O(){const J=(0,X.u)();for(const se in J){const re="\\"+J[se].toString(16);a.registerIcon(se,{fontCharacter:re})}}O();const R="vscode://schemas/icons",V=y.B.as(B.I.JSONContribution);V.registerSchema(R,a.getIconSchema());const F=new D.pY(()=>V.notifySchemaChanged(R),200);a.onDidChange(()=>{F.isScheduled()||F.schedule()});const Y=u("widget-close",X.l.close,(0,M.NC)("widgetClose","Icon for the close action in widgets.")),G=u("goto-previous-location",X.l.arrowUp,(0,M.NC)("previousChangeIcon","Icon for goto previous editor location.")),Z=u("goto-next-location",X.l.arrowDown,(0,M.NC)("nextChangeIcon","Icon for goto next editor location.")),ne=v.k.modify(X.l.sync,"spin"),$=v.k.modify(X.l.loading,"spin")},34732:function(Gt,ze,c){"use strict";c.d(ze,{_T:function(){return v},c3:function(){return X},eL:function(){return D}});var D;(function(k){k.DARK="dark",k.LIGHT="light",k.HIGH_CONTRAST_DARK="hcDark",k.HIGH_CONTRAST_LIGHT="hcLight"})(D||(D={}));function X(k){return k===D.HIGH_CONTRAST_DARK||k===D.HIGH_CONTRAST_LIGHT}function v(k){return k===D.DARK||k===D.HIGH_CONTRAST_DARK}},27722:function(Gt,ze,c){"use strict";c.d(ze,{EN:function(){return M},IP:function(){return y},Ic:function(){return S},XE:function(){return T},bB:function(){return _},m6:function(){return B}});var D=c(46328),X=c(83845),v=c(99068),k=c(93796),L=c(34732);const T=(0,v.yh)("themeService");function M(a){return{id:a}}function B(a){switch(a){case L.eL.DARK:return"vs-dark";case L.eL.HIGH_CONTRAST_DARK:return"hc-black";case L.eL.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const y={ThemingContribution:"base.contributions.theming"};class b{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new D.Q5}onColorThemeChange(u){return this.themingParticipants.push(u),this.onThemingParticipantAddedEmitter.fire(u),(0,X.OF)(()=>{const N=this.themingParticipants.indexOf(u);this.themingParticipants.splice(N,1)})}getThemingParticipants(){return this.themingParticipants}}const C=new b;k.B.add(y.ThemingContribution,C);function S(a){return C.onColorThemeChange(a)}class _ extends X.JT{constructor(u){super(),this.themeService=u,this.theme=u.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(N=>this.onThemeChange(N)))}onThemeChange(u){this.theme=u,this.updateStyles()}updateStyles(){}}},62216:function(Gt,ze,c){"use strict";c.d(ze,{Xt:function(){return k},YO:function(){return v},gJ:function(){return L},tJ:function(){return X}});var D=c(99068);const X=(0,D.yh)("undoRedoService");class v{constructor(M,B){this.resource=M,this.elements=B}}class k{constructor(){this.id=k._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}k._ID=0,k.None=new k;class L{constructor(){this.id=L._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}L._ID=0,L.None=new L},94486:function(Gt,ze,c){"use strict";c.d(ze,{A6:function(){return u},c$:function(){return B},eb:function(){return M},ec:function(){return T},md:function(){return a},p$:function(){return O},uT:function(){return C},x:function(){return R}});var D=c(18493),X=c(40795),v=c(7350),k=c(6685),L=c(99068);const T=(0,L.yh)("contextService");function M(V){const F=V;return typeof(F==null?void 0:F.id)=="string"&&k.o.isUri(F.uri)}function B(V){const F=V;return typeof(F==null?void 0:F.id)=="string"&&!M(V)&&!S(V)}const y={id:"ext-dev"},b={id:"empty-window"};function C(V,F){if(typeof V=="string"||typeof V=="undefined")return typeof V=="string"?{id:(0,X.EZ)(V)}:F?y:b;const Y=V;return Y.configuration?{id:Y.id,configPath:Y.configuration}:Y.folders.length===1?{id:Y.id,uri:Y.folders[0].uri}:{id:Y.id}}function S(V){const F=V;return typeof(F==null?void 0:F.id)=="string"&&k.o.isUri(F.configPath)}class _{constructor(F,Y,G,Z,ne){this._id=F,this._transient=G,this._configuration=Z,this._ignorePathCasing=ne,this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=Y}get folders(){return this._folders}set folders(F){this._folders=F,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(F){this._configuration=F}getFolder(F){return F&&this._foldersMap.findSubstr(F)||null}updateFoldersMap(){this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const F of this.folders)this._foldersMap.set(F.uri,F)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}class a{constructor(F,Y){this.raw=Y,this.uri=F.uri,this.index=F.index,this.name=F.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const u="code-workspace",N=[{name:(0,D.NC)("codeWorkspace","Code Workspace"),extensions:[u]}],O="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function R(V){return V.id===O}},54894:function(Gt,ze,c){"use strict";c.d(ze,{Y:function(){return X}});var D=c(99068);const X=(0,D.yh)("workspaceTrustManagementService")},91867:function(Gt){(function(ze,c){Gt.exports?Gt.exports=c():ze.nearley=c()})(this,function(){function ze(M,B,y){return this.id=++ze.highestId,this.name=M,this.symbols=B,this.postprocess=y,this}ze.highestId=0,ze.prototype.toString=function(M){var B=typeof M=="undefined"?this.symbols.map(T).join(" "):this.symbols.slice(0,M).map(T).join(" ")+" \u25CF "+this.symbols.slice(M).map(T).join(" ");return this.name+" \u2192 "+B};function c(M,B,y,b){this.rule=M,this.dot=B,this.reference=y,this.data=[],this.wantedBy=b,this.isComplete=this.dot===M.symbols.length}c.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},c.prototype.nextState=function(M){var B=new c(this.rule,this.dot+1,this.reference,this.wantedBy);return B.left=this,B.right=M,B.isComplete&&(B.data=B.build(),B.right=void 0),B},c.prototype.build=function(){var M=[],B=this;do M.push(B.right.data),B=B.left;while(B.left);return M.reverse(),M},c.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,k.fail))};function D(M,B){this.grammar=M,this.index=B,this.states=[],this.wants={},this.scannable=[],this.completed={}}D.prototype.process=function(M){for(var B=this.states,y=this.wants,b=this.completed,C=0;C<B.length;C++){var S=B[C];if(S.isComplete){if(S.finish(),S.data!==k.fail){for(var _=S.wantedBy,a=_.length;a--;){var u=_[a];this.complete(u,S)}if(S.reference===this.index){var N=S.rule.name;(this.completed[N]=this.completed[N]||[]).push(S)}}}else{var N=S.rule.symbols[S.dot];if(typeof N!="string"){this.scannable.push(S);continue}if(y[N]){if(y[N].push(S),b.hasOwnProperty(N))for(var O=b[N],a=0;a<O.length;a++){var R=O[a];this.complete(S,R)}}else y[N]=[S],this.predict(N)}}},D.prototype.predict=function(M){for(var B=this.grammar.byName[M]||[],y=0;y<B.length;y++){var b=B[y],C=this.wants[M],S=new c(b,0,this.index,C);this.states.push(S)}},D.prototype.complete=function(M,B){var y=M.nextState(B);this.states.push(y)};function X(M,B){this.rules=M,this.start=B||this.rules[0].name;var y=this.byName={};this.rules.forEach(function(b){y.hasOwnProperty(b.name)||(y[b.name]=[]),y[b.name].push(b)})}X.fromCompiled=function(b,B){var y=b.Lexer;b.ParserStart&&(B=b.ParserStart,b=b.ParserRules);var b=b.map(function(S){return new ze(S.name,S.symbols,S.postprocess)}),C=new X(b,B);return C.lexer=y,C};function v(){this.reset("")}v.prototype.reset=function(M,B){this.buffer=M,this.index=0,this.line=B?B.line:1,this.lastLineBreak=B?-B.col:0},v.prototype.next=function(){if(this.index<this.buffer.length){var M=this.buffer[this.index++];return M===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:M}}},v.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},v.prototype.formatError=function(M,B){var y=this.buffer;if(typeof y=="string"){var b=y.split(`
`).slice(Math.max(0,this.line-5),this.line),C=y.indexOf(`
`,this.index);C===-1&&(C=y.length);var S=this.index-this.lastLineBreak,_=String(this.line).length;return B+=" at line "+this.line+" col "+S+`:

`,B+=b.map(function(u,N){return a(this.line-b.length+N+1,_)+" "+u},this).join(`
`),B+=`
`+a("",_+S)+`^
`,B}else return B+" at index "+(this.index-1);function a(u,N){var O=String(u);return Array(N-O.length+1).join(" ")+O}};function k(M,B,y){if(M instanceof X)var b=M,y=B;else var b=X.fromCompiled(M,B);this.grammar=b,this.options={keepHistory:!1,lexer:b.lexer||new v};for(var C in y||{})this.options[C]=y[C];this.lexer=this.options.lexer,this.lexerState=void 0;var S=new D(b,0),_=this.table=[S];S.wants[b.start]=[],S.predict(b.start),S.process(),this.current=0}k.fail={},k.prototype.feed=function(M){var B=this.lexer;B.reset(M,this.lexerState);for(var y;;){try{if(y=B.next(),!y)break}catch(Y){var _=new D(this.grammar,this.current+1);this.table.push(_);var b=new Error(this.reportLexerError(Y));throw b.offset=this.current,b.token=Y.token,b}var C=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var S=this.current+1,_=new D(this.grammar,S);this.table.push(_);for(var a=y.text!==void 0?y.text:y.value,u=B.constructor===v?y.value:y,N=C.scannable,O=N.length;O--;){var R=N[O],V=R.rule.symbols[R.dot];if(V.test?V.test(u):V.type?V.type===y.type:V.literal===a){var F=R.nextState({data:u,token:y,isToken:!0,reference:S-1});_.states.push(F)}}if(_.process(),_.states.length===0){var b=new Error(this.reportError(y));throw b.offset=this.current,b.token=y,b}this.options.keepHistory&&(C.lexerState=B.save()),this.current++}return C&&(this.lexerState=B.save()),this.results=this.finish(),this},k.prototype.reportLexerError=function(M){var B,y,b=M.token;return b?(B="input "+JSON.stringify(b.text[0])+" (lexer error)",y=this.lexer.formatError(b,"Syntax error")):(B="input (lexer error)",y=M.message),this.reportErrorCommon(y,B)},k.prototype.reportError=function(M){var B=(M.type?M.type+" token: ":"")+JSON.stringify(M.value!==void 0?M.value:M),y=this.lexer.formatError(M,"Syntax error");return this.reportErrorCommon(y,B)},k.prototype.reportErrorCommon=function(M,B){var y=[];y.push(M);var b=this.table.length-2,C=this.table[b],S=C.states.filter(function(a){var u=a.rule.symbols[a.dot];return u&&typeof u!="string"});if(S.length===0)y.push("Unexpected "+B+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(C.states,y);else{y.push("Unexpected "+B+`. Instead, I was expecting to see one of the following:
`);var _=S.map(function(a){return this.buildFirstStateStack(a,[])||[a]},this);_.forEach(function(a){var u=a[0],N=u.rule.symbols[u.dot],O=this.getSymbolDisplay(N);y.push("A "+O+" based on:"),this.displayStateStack(a,y)},this)}return y.push(""),y.join(`
`)},k.prototype.displayStateStack=function(M,B){for(var y,b=0,C=0;C<M.length;C++){var S=M[C],_=S.rule.toString(S.dot);_===y?b++:(b>0&&B.push("    ^ "+b+" more lines identical to this"),b=0,B.push("    "+_)),y=_}},k.prototype.getSymbolDisplay=function(M){return L(M)},k.prototype.buildFirstStateStack=function(M,B){if(B.indexOf(M)!==-1)return null;if(M.wantedBy.length===0)return[M];var y=M.wantedBy[0],b=[M].concat(B),C=this.buildFirstStateStack(y,b);return C===null?null:[M].concat(C)},k.prototype.save=function(){var M=this.table[this.current];return M.lexerState=this.lexerState,M},k.prototype.restore=function(M){var B=M.index;this.current=B,this.table[B]=M,this.table.splice(B+1),this.lexerState=M.lexerState,this.results=this.finish()},k.prototype.rewind=function(M){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[M])},k.prototype.finish=function(){var M=[],B=this.grammar.start,y=this.table[this.table.length-1];return y.states.forEach(function(b){b.rule.name===B&&b.dot===b.rule.symbols.length&&b.reference===0&&b.data!==k.fail&&M.push(b)}),M.map(function(b){return b.data})};function L(M){var B=typeof M;if(B==="string")return M;if(B==="object"){if(M.literal)return JSON.stringify(M.literal);if(M instanceof RegExp)return"character matching "+M;if(M.type)return M.type+" token";if(M.test)return"token matching "+String(M.test);throw new Error("Unknown symbol type: "+M)}}function T(M){var B=typeof M;if(B==="string")return M;if(B==="object"){if(M.literal)return JSON.stringify(M.literal);if(M instanceof RegExp)return M.toString();if(M.type)return"%"+M.type;if(M.test)return"<"+String(M.test)+">";throw new Error("Unknown symbol type: "+M)}}return{Parser:k,Grammar:X,Rule:ze}})},47602:function(Gt,ze,c){"use strict";c.d(ze,{WU:function(){return Br}});var D=c(91867),X=Object.defineProperty,v=Object.defineProperties,k=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,B=(Me,nt,oi)=>nt in Me?X(Me,nt,{enumerable:!0,configurable:!0,writable:!0,value:oi}):Me[nt]=oi,y=(Me,nt)=>{for(var oi in nt||(nt={}))T.call(nt,oi)&&B(Me,oi,nt[oi]);if(L)for(var oi of L(nt))M.call(nt,oi)&&B(Me,oi,nt[oi]);return Me},b=(Me,nt)=>v(Me,k(nt)),C=(Me,nt)=>{var oi={};for(var Yi in Me)T.call(Me,Yi)&&nt.indexOf(Yi)<0&&(oi[Yi]=Me[Yi]);if(Me!=null&&L)for(var Yi of L(Me))nt.indexOf(Yi)<0&&M.call(Me,Yi)&&(oi[Yi]=Me[Yi]);return oi},S=(Me,nt)=>{for(var oi in nt)X(Me,oi,{get:nt[oi],enumerable:!0})},_={};S(_,{bigquery:()=>rt,db2:()=>Mt,db2i:()=>wn,hive:()=>Qi,mariadb:()=>en,mysql:()=>Ue,n1ql:()=>ji,plsql:()=>Ut,postgresql:()=>ro,redshift:()=>ts,singlestoredb:()=>Ir,snowflake:()=>Zr,spark:()=>Ns,sql:()=>We,sqlite:()=>Ei,transactsql:()=>So,trino:()=>Ci});var a=Me=>Me.flatMap(u),u=Me=>Z(O(Me)).map(N),N=Me=>Me.replace(/ +/g," ").trim(),O=Me=>({type:"mandatory_block",items:R(Me,0)[0]}),R=(Me,nt,oi)=>{const Yi=[];for(;Me[nt];){const[is,Os]=V(Me,nt);if(Yi.push(is),nt=Os,Me[nt]==="|")nt++;else if(Me[nt]==="}"||Me[nt]==="]"){if(oi!==Me[nt])throw new Error(`Unbalanced parenthesis in: ${Me}`);return nt++,[Yi,nt]}else if(nt===Me.length){if(oi)throw new Error(`Unbalanced parenthesis in: ${Me}`);return[Yi,nt]}else throw new Error(`Unexpected "${Me[nt]}"`)}return[Yi,nt]},V=(Me,nt)=>{const oi=[];for(;;){const[Yi,is]=F(Me,nt);if(Yi)oi.push(Yi),nt=is;else break}return oi.length===1?[oi[0],nt]:[{type:"concatenation",items:oi},nt]},F=(Me,nt)=>{if(Me[nt]==="{")return Y(Me,nt+1);if(Me[nt]==="[")return G(Me,nt+1);{let oi="";for(;Me[nt]&&/[A-Za-z0-9_ ]/.test(Me[nt]);)oi+=Me[nt],nt++;return[oi,nt]}},Y=(Me,nt)=>{const[oi,Yi]=R(Me,nt,"}");return[{type:"mandatory_block",items:oi},Yi]},G=(Me,nt)=>{const[oi,Yi]=R(Me,nt,"]");return[{type:"optional_block",items:oi},Yi]},Z=Me=>{if(typeof Me=="string")return[Me];if(Me.type==="concatenation")return Me.items.map(Z).reduce(ne,[""]);if(Me.type==="mandatory_block")return Me.items.flatMap(Z);if(Me.type==="optional_block")return["",...Me.items.flatMap(Z)];throw new Error(`Unknown node type: ${Me}`)},ne=(Me,nt)=>{const oi=[];for(const Yi of Me)for(const is of nt)oi.push(Yi+is);return oi},$=(Me=>(Me.QUOTED_IDENTIFIER="QUOTED_IDENTIFIER",Me.IDENTIFIER="IDENTIFIER",Me.STRING="STRING",Me.VARIABLE="VARIABLE",Me.RESERVED_DATA_TYPE="RESERVED_DATA_TYPE",Me.RESERVED_PARAMETERIZED_DATA_TYPE="RESERVED_PARAMETERIZED_DATA_TYPE",Me.RESERVED_KEYWORD="RESERVED_KEYWORD",Me.RESERVED_FUNCTION_NAME="RESERVED_FUNCTION_NAME",Me.RESERVED_PHRASE="RESERVED_PHRASE",Me.RESERVED_SET_OPERATION="RESERVED_SET_OPERATION",Me.RESERVED_CLAUSE="RESERVED_CLAUSE",Me.RESERVED_SELECT="RESERVED_SELECT",Me.RESERVED_JOIN="RESERVED_JOIN",Me.ARRAY_IDENTIFIER="ARRAY_IDENTIFIER",Me.ARRAY_KEYWORD="ARRAY_KEYWORD",Me.CASE="CASE",Me.END="END",Me.WHEN="WHEN",Me.ELSE="ELSE",Me.THEN="THEN",Me.LIMIT="LIMIT",Me.BETWEEN="BETWEEN",Me.AND="AND",Me.OR="OR",Me.XOR="XOR",Me.OPERATOR="OPERATOR",Me.COMMA="COMMA",Me.ASTERISK="ASTERISK",Me.PROPERTY_ACCESS_OPERATOR="PROPERTY_ACCESS_OPERATOR",Me.OPEN_PAREN="OPEN_PAREN",Me.CLOSE_PAREN="CLOSE_PAREN",Me.LINE_COMMENT="LINE_COMMENT",Me.BLOCK_COMMENT="BLOCK_COMMENT",Me.DISABLE_COMMENT="DISABLE_COMMENT",Me.NUMBER="NUMBER",Me.NAMED_PARAMETER="NAMED_PARAMETER",Me.QUOTED_PARAMETER="QUOTED_PARAMETER",Me.NUMBERED_PARAMETER="NUMBERED_PARAMETER",Me.POSITIONAL_PARAMETER="POSITIONAL_PARAMETER",Me.CUSTOM_PARAMETER="CUSTOM_PARAMETER",Me.DELIMITER="DELIMITER",Me.EOF="EOF",Me))($||{}),J=Me=>({type:"EOF",raw:"\xABEOF\xBB",text:"\xABEOF\xBB",start:Me}),se=J(1/0),re=Me=>nt=>nt.type===Me.type&&nt.text===Me.text,he={ARRAY:re({text:"ARRAY",type:"RESERVED_DATA_TYPE"}),BY:re({text:"BY",type:"RESERVED_KEYWORD"}),SET:re({text:"SET",type:"RESERVED_CLAUSE"}),STRUCT:re({text:"STRUCT",type:"RESERVED_DATA_TYPE"}),WINDOW:re({text:"WINDOW",type:"RESERVED_CLAUSE"}),VALUES:re({text:"VALUES",type:"RESERVED_CLAUSE"})},H=Me=>Me==="RESERVED_DATA_TYPE"||Me==="RESERVED_KEYWORD"||Me==="RESERVED_FUNCTION_NAME"||Me==="RESERVED_PHRASE"||Me==="RESERVED_CLAUSE"||Me==="RESERVED_SELECT"||Me==="RESERVED_SET_OPERATION"||Me==="RESERVED_JOIN"||Me==="ARRAY_KEYWORD"||Me==="CASE"||Me==="END"||Me==="WHEN"||Me==="ELSE"||Me==="THEN"||Me==="LIMIT"||Me==="BETWEEN"||Me==="AND"||Me==="OR"||Me==="XOR",P=Me=>Me==="AND"||Me==="OR"||Me==="XOR",j=["KEYS.NEW_KEYSET","KEYS.ADD_KEY_FROM_RAW_BYTES","AEAD.DECRYPT_BYTES","AEAD.DECRYPT_STRING","AEAD.ENCRYPT","KEYS.KEYSET_CHAIN","KEYS.KEYSET_FROM_JSON","KEYS.KEYSET_TO_JSON","KEYS.ROTATE_KEYSET","KEYS.KEYSET_LENGTH","ANY_VALUE","ARRAY_AGG","AVG","CORR","COUNT","COUNTIF","COVAR_POP","COVAR_SAMP","MAX","MIN","ST_CLUSTERDBSCAN","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","VAR_POP","VAR_SAMP","ANY_VALUE","ARRAY_AGG","ARRAY_CONCAT_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","COUNT","COUNTIF","LOGICAL_AND","LOGICAL_OR","MAX","MIN","STRING_AGG","SUM","APPROX_COUNT_DISTINCT","APPROX_QUANTILES","APPROX_TOP_COUNT","APPROX_TOP_SUM","ARRAY_CONCAT","ARRAY_LENGTH","ARRAY_TO_STRING","GENERATE_ARRAY","GENERATE_DATE_ARRAY","GENERATE_TIMESTAMP_ARRAY","ARRAY_REVERSE","OFFSET","SAFE_OFFSET","ORDINAL","SAFE_ORDINAL","BIT_COUNT","PARSE_BIGNUMERIC","PARSE_NUMERIC","SAFE_CAST","CURRENT_DATE","EXTRACT","DATE","DATE_ADD","DATE_SUB","DATE_DIFF","DATE_TRUNC","DATE_FROM_UNIX_DATE","FORMAT_DATE","LAST_DAY","PARSE_DATE","UNIX_DATE","CURRENT_DATETIME","DATETIME","EXTRACT","DATETIME_ADD","DATETIME_SUB","DATETIME_DIFF","DATETIME_TRUNC","FORMAT_DATETIME","LAST_DAY","PARSE_DATETIME","ERROR","EXTERNAL_QUERY","S2_CELLIDFROMPOINT","S2_COVERINGCELLIDS","ST_ANGLE","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_AZIMUTH","ST_BOUNDARY","ST_BOUNDINGBOX","ST_BUFFER","ST_BUFFERWITHTOLERANCE","ST_CENTROID","ST_CENTROID_AGG","ST_CLOSESTPOINT","ST_CLUSTERDBSCAN","ST_CONTAINS","ST_CONVEXHULL","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DUMP","ST_DWITHIN","ST_ENDPOINT","ST_EQUALS","ST_EXTENT","ST_EXTERIORRING","ST_GEOGFROM","ST_GEOGFROMGEOJSON","ST_GEOGFROMTEXT","ST_GEOGFROMWKB","ST_GEOGPOINT","ST_GEOGPOINTFROMGEOHASH","ST_GEOHASH","ST_GEOMETRYTYPE","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_INTERSECTSBOX","ST_ISCOLLECTION","ST_ISEMPTY","ST_LENGTH","ST_MAKELINE","ST_MAKEPOLYGON","ST_MAKEPOLYGONORIENTED","ST_MAXDISTANCE","ST_NPOINTS","ST_NUMGEOMETRIES","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SIMPLIFY","ST_SNAPTOGRID","ST_STARTPOINT","ST_TOUCHES","ST_UNION","ST_UNION_AGG","ST_WITHIN","ST_X","ST_Y","FARM_FINGERPRINT","MD5","SHA1","SHA256","SHA512","HLL_COUNT.INIT","HLL_COUNT.MERGE","HLL_COUNT.MERGE_PARTIAL","HLL_COUNT.EXTRACT","MAKE_INTERVAL","EXTRACT","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","JSON_EXTRACT","JSON_QUERY","JSON_EXTRACT_SCALAR","JSON_VALUE","JSON_EXTRACT_ARRAY","JSON_QUERY_ARRAY","JSON_EXTRACT_STRING_ARRAY","JSON_VALUE_ARRAY","TO_JSON_STRING","ABS","SIGN","IS_INF","IS_NAN","IEEE_DIVIDE","RAND","SQRT","POW","POWER","EXP","LN","LOG","LOG10","GREATEST","LEAST","DIV","SAFE_DIVIDE","SAFE_MULTIPLY","SAFE_NEGATE","SAFE_ADD","SAFE_SUBTRACT","MOD","ROUND","TRUNC","CEIL","CEILING","FLOOR","COS","COSH","ACOS","ACOSH","SIN","SINH","ASIN","ASINH","TAN","TANH","ATAN","ATANH","ATAN2","RANGE_BUCKET","FIRST_VALUE","LAST_VALUE","NTH_VALUE","LEAD","LAG","PERCENTILE_CONT","PERCENTILE_DISC","NET.IP_FROM_STRING","NET.SAFE_IP_FROM_STRING","NET.IP_TO_STRING","NET.IP_NET_MASK","NET.IP_TRUNC","NET.IPV4_FROM_INT64","NET.IPV4_TO_INT64","NET.HOST","NET.PUBLIC_SUFFIX","NET.REG_DOMAIN","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","NTILE","ROW_NUMBER","SESSION_USER","CORR","COVAR_POP","COVAR_SAMP","STDDEV_POP","STDDEV_SAMP","STDDEV","VAR_POP","VAR_SAMP","VARIANCE","ASCII","BYTE_LENGTH","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CODE_POINTS_TO_BYTES","CODE_POINTS_TO_STRING","CONCAT","CONTAINS_SUBSTR","ENDS_WITH","FORMAT","FROM_BASE32","FROM_BASE64","FROM_HEX","INITCAP","INSTR","LEFT","LENGTH","LPAD","LOWER","LTRIM","NORMALIZE","NORMALIZE_AND_CASEFOLD","OCTET_LENGTH","REGEXP_CONTAINS","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","REPEAT","REVERSE","RIGHT","RPAD","RTRIM","SAFE_CONVERT_BYTES_TO_STRING","SOUNDEX","SPLIT","STARTS_WITH","STRPOS","SUBSTR","SUBSTRING","TO_BASE32","TO_BASE64","TO_CODE_POINTS","TO_HEX","TRANSLATE","TRIM","UNICODE","UPPER","CURRENT_TIME","TIME","EXTRACT","TIME_ADD","TIME_SUB","TIME_DIFF","TIME_TRUNC","FORMAT_TIME","PARSE_TIME","CURRENT_TIMESTAMP","EXTRACT","STRING","TIMESTAMP","TIMESTAMP_ADD","TIMESTAMP_SUB","TIMESTAMP_DIFF","TIMESTAMP_TRUNC","FORMAT_TIMESTAMP","PARSE_TIMESTAMP","TIMESTAMP_SECONDS","TIMESTAMP_MILLIS","TIMESTAMP_MICROS","UNIX_SECONDS","UNIX_MILLIS","UNIX_MICROS","GENERATE_UUID","COALESCE","IF","IFNULL","NULLIF","AVG","BIT_AND","BIT_OR","BIT_XOR","CORR","COUNT","COVAR_POP","COVAR_SAMP","EXACT_COUNT_DISTINCT","FIRST","GROUP_CONCAT","GROUP_CONCAT_UNQUOTED","LAST","MAX","MIN","NEST","NTH","QUANTILES","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","TOP","UNIQUE","VARIANCE","VAR_POP","VAR_SAMP","BIT_COUNT","BOOLEAN","BYTES","CAST","FLOAT","HEX_STRING","INTEGER","STRING","COALESCE","GREATEST","IFNULL","IS_INF","IS_NAN","IS_EXPLICITLY_DEFINED","LEAST","NVL","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE","DATE_ADD","DATEDIFF","DAY","DAYOFWEEK","DAYOFYEAR","FORMAT_UTC_USEC","HOUR","MINUTE","MONTH","MSEC_TO_TIMESTAMP","NOW","PARSE_UTC_USEC","QUARTER","SEC_TO_TIMESTAMP","SECOND","STRFTIME_UTC_USEC","TIME","TIMESTAMP","TIMESTAMP_TO_MSEC","TIMESTAMP_TO_SEC","TIMESTAMP_TO_USEC","USEC_TO_TIMESTAMP","UTC_USEC_TO_DAY","UTC_USEC_TO_HOUR","UTC_USEC_TO_MONTH","UTC_USEC_TO_WEEK","UTC_USEC_TO_YEAR","WEEK","YEAR","FORMAT_IP","PARSE_IP","FORMAT_PACKED_IP","PARSE_PACKED_IP","JSON_EXTRACT","JSON_EXTRACT_SCALAR","ABS","ACOS","ACOSH","ASIN","ASINH","ATAN","ATANH","ATAN2","CEIL","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG2","LOG10","PI","POW","RADIANS","RAND","ROUND","SIN","SINH","SQRT","TAN","TANH","REGEXP_MATCH","REGEXP_EXTRACT","REGEXP_REPLACE","CONCAT","INSTR","LEFT","LENGTH","LOWER","LPAD","LTRIM","REPLACE","RIGHT","RPAD","RTRIM","SPLIT","SUBSTR","UPPER","TABLE_DATE_RANGE","TABLE_DATE_RANGE_STRICT","TABLE_QUERY","HOST","DOMAIN","TLD","AVG","COUNT","MAX","MIN","STDDEV","SUM","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","CURRENT_USER","EVERY","FROM_BASE64","HASH","FARM_FINGERPRINT","IF","POSITION","SHA1","SOME","TO_BASE64","BQ.JOBS.CANCEL","BQ.REFRESH_MATERIALIZED_VIEW","OPTIONS","PIVOT","UNPIVOT"],K=["ALL","AND","ANY","AS","ASC","ASSERT_ROWS_MODIFIED","AT","BETWEEN","BY","CASE","CAST","COLLATE","CONTAINS","CREATE","CROSS","CUBE","CURRENT","DEFAULT","DEFINE","DESC","DISTINCT","ELSE","END","ENUM","ESCAPE","EXCEPT","EXCLUDE","EXISTS","EXTRACT","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","GROUP","GROUPING","GROUPS","HASH","HAVING","IF","IGNORE","IN","INNER","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LIMIT","LOOKUP","MERGE","NATURAL","NEW","NO","NOT","NULL","NULLS","OF","ON","OR","ORDER","OUTER","OVER","PARTITION","PRECEDING","PROTO","RANGE","RECURSIVE","RESPECT","RIGHT","ROLLUP","ROWS","SELECT","SET","SOME","TABLE","TABLESAMPLE","THEN","TO","TREAT","TRUE","UNBOUNDED","UNION","UNNEST","USING","WHEN","WHERE","WINDOW","WITH","WITHIN","SAFE","LIKE","COPY","CLONE","IN","OUT","INOUT","RETURNS","LANGUAGE","CASCADE","RESTRICT","DETERMINISTIC"],ie=["ARRAY","BOOL","BYTES","DATE","DATETIME","GEOGRAPHY","INTERVAL","INT64","INT","SMALLINT","INTEGER","BIGINT","TINYINT","BYTEINT","NUMERIC","DECIMAL","BIGNUMERIC","BIGDECIMAL","FLOAT64","STRING","STRUCT","TIME","TIMEZONE"],ce=a(["SELECT [ALL | DISTINCT] [AS STRUCT | AS VALUE]"]),_e=a(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","OMIT RECORD IF","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY SOURCE | BY TARGET] [THEN]","UPDATE SET","CLUSTER BY","FOR SYSTEM_TIME AS OF","WITH CONNECTION","WITH PARTITION COLUMNS","REMOTE WITH CONNECTION"]),Ee=a(["CREATE [OR REPLACE] [TEMP|TEMPORARY|SNAPSHOT|EXTERNAL] TABLE [IF NOT EXISTS]"]),Ce=a(["CREATE [OR REPLACE] [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE [FROM]","DROP [SNAPSHOT | EXTERNAL] TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME TO","ALTER COLUMN [IF EXISTS]","SET DEFAULT COLLATE","SET OPTIONS","DROP NOT NULL","SET DATA TYPE","ALTER SCHEMA [IF EXISTS]","ALTER [MATERIALIZED] VIEW [IF EXISTS]","ALTER BI_CAPACITY","TRUNCATE TABLE","CREATE SCHEMA [IF NOT EXISTS]","DEFAULT COLLATE","CREATE [OR REPLACE] [TEMP|TEMPORARY|TABLE] FUNCTION [IF NOT EXISTS]","CREATE [OR REPLACE] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] ROW ACCESS POLICY [IF NOT EXISTS]","GRANT TO","FILTER USING","CREATE CAPACITY","AS JSON","CREATE RESERVATION","CREATE ASSIGNMENT","CREATE SEARCH INDEX [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","DROP [MATERIALIZED] VIEW [IF EXISTS]","DROP [TABLE] FUNCTION [IF EXISTS]","DROP PROCEDURE [IF EXISTS]","DROP ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","DROP CAPACITY [IF EXISTS]","DROP RESERVATION [IF EXISTS]","DROP ASSIGNMENT [IF EXISTS]","DROP SEARCH INDEX [IF EXISTS]","DROP [IF EXISTS]","GRANT","REVOKE","DECLARE","EXECUTE IMMEDIATE","LOOP","END LOOP","REPEAT","END REPEAT","WHILE","END WHILE","BREAK","LEAVE","CONTINUE","ITERATE","FOR","END FOR","BEGIN","BEGIN TRANSACTION","COMMIT TRANSACTION","ROLLBACK TRANSACTION","RAISE","RETURN","CALL","ASSERT","EXPORT DATA"]),pe=a(["UNION {ALL | DISTINCT}","EXCEPT DISTINCT","INTERSECT DISTINCT"]),xe=a(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),x=a(["TABLESAMPLE SYSTEM","ANY TYPE","ALL COLUMNS","NOT DETERMINISTIC","{ROWS | RANGE} BETWEEN","IS [NOT] DISTINCT FROM"]),rt={name:"bigquery",tokenizerOptions:{reservedSelect:ce,reservedClauses:[..._e,...Ce,...Ee],reservedSetOperations:pe,reservedJoins:xe,reservedPhrases:x,reservedKeywords:K,reservedDataTypes:ie,reservedFunctionNames:j,extraParens:["[]"],stringTypes:[{quote:'""".."""',prefixes:["R","B","RB","BR"]},{quote:"'''..'''",prefixes:["R","B","RB","BR"]},'""-bs',"''-bs",{quote:'""-raw',prefixes:["R","B","RB","BR"],requirePrefix:!0},{quote:"''-raw",prefixes:["R","B","RB","BR"],requirePrefix:!0}],identTypes:["``"],identChars:{dashes:!0},paramTypes:{positional:!0,named:["@"],quoted:["@"]},variableTypes:[{regex:String.raw`@@\w+`}],lineCommentTypes:["--","#"],operators:["&","|","^","~",">>","<<","||","=>"],postProcess:Xe},formatOptions:{onelineClauses:[...Ee,...Ce],tabularOnelineClauses:Ce}};function Xe(Me){return Ze(lt(Me))}function Ze(Me){let nt=se;return Me.map(oi=>oi.text==="OFFSET"&&nt.text==="["?(nt=oi,b(y({},oi),{type:"RESERVED_FUNCTION_NAME"})):(nt=oi,oi))}function lt(Me){var nt;const oi=[];for(let Yi=0;Yi<Me.length;Yi++){const is=Me[Yi];if((he.ARRAY(is)||he.STRUCT(is))&&((nt=Me[Yi+1])==null?void 0:nt.text)==="<"){const Os=ct(Me,Yi+1),Js=Me.slice(Yi,Os+1);oi.push({type:"IDENTIFIER",raw:Js.map(ut("raw")).join(""),text:Js.map(ut("text")).join(""),start:is.start}),Yi=Os}else oi.push(is)}return oi}var ut=Me=>nt=>nt.type==="IDENTIFIER"||nt.type==="COMMA"?nt[Me]+" ":nt[Me];function ct(Me,nt){let oi=0;for(let Yi=nt;Yi<Me.length;Yi++){const is=Me[Yi];if(is.text==="<"?oi++:is.text===">"?oi--:is.text===">>"&&(oi-=2),oi===0)return Yi}return Me.length-1}var He=["ARRAY_AGG","AVG","CORRELATION","COUNT","COUNT_BIG","COVARIANCE","COVARIANCE_SAMP","CUME_DIST","GROUPING","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_ICPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_SAMP","SUM","VARIANCE","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","AGE","ARRAY_DELETE","ARRAY_FIRST","ARRAY_LAST","ARRAY_NEXT","ARRAY_PRIOR","ASCII","ASCII_STR","ASIN","ATAN","ATAN2","ATANH","BITAND","BITANDNOT","BITOR","BITXOR","BITNOT","BPCHAR","BSON_TO_JSON","BTRIM","CARDINALITY","CEILING","CEIL","CHARACTER_LENGTH","CHR","COALESCE","COLLATION_KEY","COLLATION_KEY_BIT","COMPARE_DECFLOAT","CONCAT","COS","COSH","COT","CURSOR_ROWCOUNT","DATAPARTITIONNUM","DATE_PART","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFWEEK_ISO","DAYOFYEAR","DAYS","DAYS_BETWEEN","DAYS_TO_END_OF_MONTH","DBPARTITIONNUM","DECFLOAT","DECFLOAT_FORMAT","DECODE","DECRYPT_BIN","DECRYPT_CHAR","DEGREES","DEREF","DIFFERENCE","DIGITS","DOUBLE_PRECISION","EMPTY_BLOB","EMPTY_CLOB","EMPTY_DBCLOB","EMPTY_NCLOB","ENCRYPT","EVENT_MON_STATE","EXP","EXTRACT","FIRST_DAY","FLOOR","FROM_UTC_TIMESTAMP","GENERATE_UNIQUE","GETHINT","GREATEST","HASH","HASH4","HASH8","HASHEDVALUE","HEX","HEXTORAW","HOUR","HOURS_BETWEEN","IDENTITY_VAL_LOCAL","IFNULL","INITCAP","INSERT","INSTR","INSTR2","INSTR4","INSTRB","INTNAND","INTNOR","INTNXOR","INTNNOT","ISNULL","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_VALUE","JULIAN_DAY","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LENGTH2","LENGTH4","LENGTHB","LN","LOCATE","LOCATE_IN_STRING","LOG10","LONG_VARCHAR","LONG_VARGRAPHIC","LOWER","LPAD","LTRIM","MAX","MAX_CARDINALITY","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MINUTES_BETWEEN","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MULTIPLY_ALT","NEXT_DAY","NEXT_MONTH","NEXT_QUARTER","NEXT_WEEK","NEXT_YEAR","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARAMETER","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","QUOTE_IDENT","QUOTE_LITERAL","RADIANS","RAISE_ERROR","RAND","RANDOM","RAWTOHEX","REC2XML","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_MATCH_COUNT","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RID_BIT","RIGHT","ROUND","ROUND_TIMESTAMP","RPAD","RTRIM","SECLABEL","SECLABEL_BY_NAME","SECLABEL_TO_CHAR","SECOND","SECONDS_BETWEEN","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTR2","SUBSTR4","SUBSTRB","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","THIS_MONTH","THIS_QUARTER","THIS_WEEK","THIS_YEAR","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF","TIMEZONE","TO_CHAR","TO_CLOB","TO_DATE","TO_HEX","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_UTC_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM","TRIM_ARRAY","TRUNC_TIMESTAMP","TRUNCATE","TRUNC","TYPE_ID","TYPE_NAME","TYPE_SCHEMA","UCASE","UNICODE_STR","UPPER","VALUE","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT","VARCHAR_FORMAT_BIT","VERIFY_GROUP_FOR_USER","VERIFY_ROLE_FOR_USER","VERIFY_TRUSTED_CONTEXT_ROLE_FOR_USER","WEEK","WEEK_ISO","WEEKS_BETWEEN","WIDTH_BUCKET","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLQUERY","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XMLXSROBJECTID","XSLTRANSFORM","YEAR","YEARS_BETWEEN","YMD_BETWEEN","BASE_TABLE","JSON_TABLE","UNNEST","XMLTABLE","RANK","DENSE_RANK","NTILE","LAG","LEAD","ROW_NUMBER","FIRST_VALUE","LAST_VALUE","NTH_VALUE","RATIO_TO_REPORT","CAST"],Dt=["ACTIVATE","ADD","AFTER","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","AS","ASENSITIVE","ASSOCIATE","ASUTIME","AT","ATTRIBUTES","AUDIT","AUTHORIZATION","AUX","AUXILIARY","BEFORE","BEGIN","BETWEEN","BINARY","BUFFERPOOL","BY","CACHE","CALL","CALLED","CAPTURE","CARDINALITY","CASCADED","CASE","CAST","CHECK","CLONE","CLOSE","CLUSTER","COLLECTION","COLLID","COLUMN","COMMENT","COMMIT","CONCAT","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONTAINS","CONTINUE","COUNT","COUNT_BIG","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFINITION","DELETE","DENSERANK","DENSE_RANK","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DSSIZE","DYNAMIC","EACH","EDITPROC","ELSE","ELSEIF","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ERASE","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXPLAIN","EXTENDED","EXTERNAL","EXTRACT","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST1","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GRAPHIC","GROUP","HANDLER","HASH","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IMMEDIATE","IMPORT","IN","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDICATOR","INDICATORS","INF","INFINITY","INHERIT","INNER","INOUT","INSENSITIVE","INSERT","INTEGRITY","INTERSECT","INTO","IS","ISNULL","ISOBID","ISOLATION","ITERATE","JAR","JAVA","JOIN","KEEP","KEY","LABEL","LANGUAGE","LAST3","LATERAL","LC_CTYPE","LEAVE","LEFT","LIKE","LIMIT","LINKTYPE","LOCAL","LOCALDATE","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LOOP","MAINTAINED","MATERIALIZED","MAXVALUE","MICROSECOND","MICROSECONDS","MINUTE","MINUTES","MINVALUE","MODE","MODIFIES","MONTH","MONTHS","NAN","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT2","NOTNULL","NULL","NULLS","NUMPARTS","OBID","OF","OFF","OFFSET","OLD","OLD_TABLE","ON","OPEN","OPTIMIZATION","OPTIMIZE","OPTION","OR","ORDER","OUT","OUTER","OVER","OVERRIDING","PACKAGE","PADDED","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSWORD","PATH","PERCENT","PIECESIZE","PLAN","POSITION","PRECISION","PREPARE","PREVVAL","PRIMARY","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","RANGE","RANK","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWNUMBER","ROWS","ROWSET","ROW_NUMBER","RRN","RUN","SAVEPOINT","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURITY","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","STACKED","STANDARD","START","STARTING","STATEMENT","STATIC","STATMENT","STAY","STOGROUP","STORES","STYLE","SUBSTRING","SUMMARY","SYNONYM","SYSFUN","SYSIBM","SYSPROC","SYSTEM","SYSTEM_USER","TABLE","TABLESPACE","THEN","TO","TRANSACTION","TRIGGER","TRIM","TRUNCATE","TYPE","UNDO","UNION","UNIQUE","UNTIL","UPDATE","USAGE","USER","USING","VALIDPROC","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VIEW","VOLATILE","VOLUMES","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHOUT","WLM","WRITE","XMLELEMENT","XMLEXISTS","XMLNAMESPACES","YEAR","YEARS"],gt=["ARRAY","BIGINT","BINARY","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATE","DATETIME","DBCLOB","DEC","DECIMAL","DOUBLE","DOUBLE PRECISION","FLOAT","FLOAT4","FLOAT8","GRAPHIC","INT","INT2","INT4","INT8","INTEGER","INTERVAL","LONG VARCHAR","LONG VARGRAPHIC","NCHAR","NCHR","NCLOB","NVARCHAR","NUMERIC","SMALLINT","REAL","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC"],Re=a(["SELECT [ALL | DISTINCT]"]),st=a(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH NEXT","FOR UPDATE [OF]","FOR {READ | FETCH} ONLY","FOR {RR | CS | UR | RS} [USE AND KEEP {SHARE | UPDATE | EXCLUSIVE} LOCKS]","WAIT FOR OUTCOME","SKIP LOCKED DATA","INTO","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT"]),Tt=a(["CREATE [GLOBAL TEMPORARY | EXTERNAL] TABLE [IF NOT EXISTS]"]),xt=a(["CREATE [OR REPLACE] VIEW","UPDATE","WHERE CURRENT OF","WITH {RR | RS | CS | UR}","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME COLUMN","ALTER [COLUMN]","SET DATA TYPE","SET NOT NULL","DROP {DEFAULT | GENERATED | NOT NULL}","TRUNCATE [TABLE]","ALLOCATE","ALTER AUDIT POLICY","ALTER BUFFERPOOL","ALTER DATABASE PARTITION GROUP","ALTER DATABASE","ALTER EVENT MONITOR","ALTER FUNCTION","ALTER HISTOGRAM TEMPLATE","ALTER INDEX","ALTER MASK","ALTER METHOD","ALTER MODULE","ALTER NICKNAME","ALTER PACKAGE","ALTER PERMISSION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SECURITY LABEL COMPONENT","ALTER SECURITY POLICY","ALTER SEQUENCE","ALTER SERVER","ALTER SERVICE CLASS","ALTER STOGROUP","ALTER TABLESPACE","ALTER THRESHOLD","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER TYPE","ALTER USAGE LIST","ALTER USER MAPPING","ALTER VIEW","ALTER WORK ACTION SET","ALTER WORK CLASS SET","ALTER WORKLOAD","ALTER WRAPPER","ALTER XSROBJECT","ALTER STOGROUP","ALTER TABLESPACE","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER VIEW","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","AUDIT","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON","COMMIT [WORK]","CONNECT","CREATE [OR REPLACE] [PUBLIC] ALIAS","CREATE AUDIT POLICY","CREATE BUFFERPOOL","CREATE DATABASE PARTITION GROUP","CREATE EVENT MONITOR","CREATE [OR REPLACE] FUNCTION","CREATE FUNCTION MAPPING","CREATE HISTOGRAM TEMPLATE","CREATE [UNIQUE] INDEX","CREATE INDEX EXTENSION","CREATE [OR REPLACE] MASK","CREATE [SPECIFIC] METHOD","CREATE [OR REPLACE] MODULE","CREATE [OR REPLACE] NICKNAME","CREATE [OR REPLACE] PERMISSION","CREATE [OR REPLACE] PROCEDURE","CREATE ROLE","CREATE SCHEMA","CREATE SECURITY LABEL [COMPONENT]","CREATE SECURITY POLICY","CREATE [OR REPLACE] SEQUENCE","CREATE SERVICE CLASS","CREATE SERVER","CREATE STOGROUP","CREATE SYNONYM","CREATE [LARGE | REGULAR | {SYSTEM | USER} TEMPORARY] TABLESPACE","CREATE THRESHOLD","CREATE {TRANSFORM | TRANSFORMS} FOR","CREATE [OR REPLACE] TRIGGER","CREATE TRUSTED CONTEXT","CREATE [OR REPLACE] TYPE","CREATE TYPE MAPPING","CREATE USAGE LIST","CREATE USER MAPPING FOR","CREATE [OR REPLACE] VARIABLE","CREATE WORK ACTION SET","CREATE WORK CLASS SET","CREATE WORKLOAD","CREATE WRAPPER","DECLARE","DECLARE GLOBAL TEMPORARY TABLE","DESCRIBE [INPUT | OUTPUT]","DISCONNECT","DROP [PUBLIC] ALIAS","DROP AUDIT POLICY","DROP BUFFERPOOL","DROP DATABASE PARTITION GROUP","DROP EVENT MONITOR","DROP [SPECIFIC] FUNCTION","DROP FUNCTION MAPPING","DROP HISTOGRAM TEMPLATE","DROP INDEX [EXTENSION]","DROP MASK","DROP [SPECIFIC] METHOD","DROP MODULE","DROP NICKNAME","DROP PACKAGE","DROP PERMISSION","DROP [SPECIFIC] PROCEDURE","DROP ROLE","DROP SCHEMA","DROP SECURITY LABEL [COMPONENT]","DROP SECURITY POLICY","DROP SEQUENCE","DROP SERVER","DROP SERVICE CLASS","DROP STOGROUP","DROP TABLE HIERARCHY","DROP {TABLESPACE | TABLESPACES}","DROP {TRANSFORM | TRANSFORMS}","DROP THRESHOLD","DROP TRIGGER","DROP TRUSTED CONTEXT","DROP TYPE [MAPPING]","DROP USAGE LIST","DROP USER MAPPING FOR","DROP VARIABLE","DROP VIEW [HIERARCHY]","DROP WORK {ACTION | CLASS} SET","DROP WORKLOAD","DROP WRAPPER","DROP XSROBJECT","END DECLARE SECTION","EXECUTE [IMMEDIATE]","EXPLAIN {PLAN [SECTION] | ALL}","FETCH [FROM]","FLUSH {BUFFERPOOL | BUFFERPOOLS} ALL","FLUSH EVENT MONITOR","FLUSH FEDERATED CACHE","FLUSH OPTIMIZATION PROFILE CACHE","FLUSH PACKAGE CACHE [DYNAMIC]","FLUSH AUTHENTICATION CACHE [FOR ALL]","FREE LOCATOR","GET DIAGNOSTICS","GOTO","GRANT","INCLUDE","ITERATE","LEAVE","LOCK TABLE","LOOP","OPEN","PIPE","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX | STOGROUP | TABLESPACE]","REPEAT","RESIGNAL","RETURN","REVOKE","ROLLBACK [WORK] [TO SAVEPOINT]","SAVEPOINT","SET COMPILATION ENVIRONMENT","SET CONNECTION","SET CURRENT","SET ENCRYPTION PASSWORD","SET EVENT MONITOR STATE","SET INTEGRITY","SET PASSTHRU","SET PATH","SET ROLE","SET SCHEMA","SET SERVER OPTION","SET {SESSION AUTHORIZATION | SESSION_USER}","SET USAGE LIST","SIGNAL","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}","WHILE"]),vt=a(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),we=a(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),pt=a(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),Mt={name:"db2",tokenizerOptions:{reservedSelect:Re,reservedClauses:[...st,...Tt,...xt],reservedSetOperations:vt,reservedJoins:we,reservedPhrases:pt,reservedKeywords:Dt,reservedDataTypes:gt,reservedFunctionNames:He,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N","U&"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","%","|","&","^","~","\xAC=","\xAC>","\xAC<","!>","!<","^=","^>","^<","||","->","=>"]},formatOptions:{onelineClauses:[...Tt,...xt],tabularOnelineClauses:xt}},Ft=["ARRAY_AGG","AVG","CORR","CORRELATION","COUNT","COUNT_BIG","COVAR_POP","COVARIANCE","COVAR","COVAR_SAMP","COVARIANCE_SAMP","EVERY","GROUPING","JSON_ARRAYAGG","JSON_OBJECTAGG","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","SOME","STDDEV_POP","STDDEV","STDDEV_SAMP","SUM","VAR_POP","VARIANCE","VAR","VAR_SAMP","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","ANTILOG","ARRAY_MAX_CARDINALITY","ARRAY_TRIM","ASCII","ASIN","ATAN","ATAN2","ATANH","BASE64_DECODE","BASE64_ENCODE","BIT_LENGTH","BITAND","BITANDNOT","BITNOT","BITOR","BITXOR","BSON_TO_JSON","CARDINALITY","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","COALESCE","COMPARE_DECFLOAT","CONCAT","CONTAINS","COS","COSH","COT","CURDATE","CURTIME","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK_ISO","DAYOFWEEK","DAYOFYEAR","DAYS","DBPARTITIONNAME","DBPARTITIONNUM","DECFLOAT_FORMAT","DECFLOAT_SORTKEY","DECRYPT_BINARY","DECRYPT_BIT","DECRYPT_CHAR","DECRYPT_DB","DEGREES","DIFFERENCE","DIGITS","DLCOMMENT","DLLINKTYPE","DLURLCOMPLETE","DLURLPATH","DLURLPATHONLY","DLURLSCHEME","DLURLSERVER","DLVALUE","DOUBLE_PRECISION","DOUBLE","ENCRPYT","ENCRYPT_AES","ENCRYPT_AES256","ENCRYPT_RC2","ENCRYPT_TDES","EXP","EXTRACT","FIRST_DAY","FLOOR","GENERATE_UNIQUE","GET_BLOB_FROM_FILE","GET_CLOB_FROM_FILE","GET_DBCLOB_FROM_FILE","GET_XML_FILE","GETHINT","GREATEST","HASH_MD5","HASH_ROW","HASH_SHA1","HASH_SHA256","HASH_SHA512","HASH_VALUES","HASHED_VALUE","HEX","HEXTORAW","HOUR","HTML_ENTITY_DECODE","HTML_ENTITY_ENCODE","HTTP_DELETE_BLOB","HTTP_DELETE","HTTP_GET_BLOB","HTTP_GET","HTTP_PATCH_BLOB","HTTP_PATCH","HTTP_POST_BLOB","HTTP_POST","HTTP_PUT_BLOB","HTTP_PUT","IDENTITY_VAL_LOCAL","IFNULL","INSERT","INSTR","INTERPRET","ISFALSE","ISNOTFALSE","ISNOTTRUE","ISTRUE","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_UPDATE","JSON_VALUE","JULIAN_DAY","LAND","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LN","LNOT","LOCATE_IN_STRING","LOCATE","LOG10","LOR","LOWER","LPAD","LTRIM","MAX_CARDINALITY","MAX","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MQREAD","MQREADCLOB","MQRECEIVE","MQRECEIVECLOB","MQSEND","MULTIPLY_ALT","NEXT_DAY","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","OCTET_LENGTH","OVERLAY","PI","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","RADIANS","RAISE_ERROR","RANDOM","RAND","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RIGHT","ROUND_TIMESTAMP","ROUND","RPAD","RRN","RTRIM","SCORE","SECOND","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF_BIG","TIMESTAMPDIFF","TO_CHAR","TO_CLOB","TO_DATE","TO_NUMBER","TO_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM_ARRAY","TRIM","TRUNC_TIMESTAMP","TRUNC","TRUNCATE","UCASE","UPPER","URL_DECODE","URL_ENCODE","VALUE","VARBINARY_FORMAT","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT_BINARY","VARCHAR_FORMAT","VERIFY_GROUP_FOR_USER","WEEK_ISO","WEEK","WRAP","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XOR","XSLTRANSFORM","YEAR","ZONED","BASE_TABLE","HTTP_DELETE_BLOB_VERBOSE","HTTP_DELETE_VERBOSE","HTTP_GET_BLOB_VERBOSE","HTTP_GET_VERBOSE","HTTP_PATCH_BLOB_VERBOSE","HTTP_PATCH_VERBOSE","HTTP_POST_BLOB_VERBOSE","HTTP_POST_VERBOSE","HTTP_PUT_BLOB_VERBOSE","HTTP_PUT_VERBOSE","JSON_TABLE","MQREADALL","MQREADALLCLOB","MQRECEIVEALL","MQRECEIVEALLCLOB","XMLTABLE","UNPACK","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","RATIO_TO_REPORT","ROW_NUMBER","CAST"],Xt=["ABSENT","ACCORDING","ACCTNG","ACTION","ACTIVATE","ADD","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","APPEND","APPLNAME","ARRAY","ARRAY_AGG","ARRAY_TRIM","AS","ASC","ASENSITIVE","ASSOCIATE","ATOMIC","ATTACH","ATTRIBUTES","AUTHORIZATION","AUTONOMOUS","BEFORE","BEGIN","BETWEEN","BIND","BSON","BUFFERPOOL","BY","CACHE","CALL","CALLED","CARDINALITY","CASE","CAST","CHECK","CL","CLOSE","CLUSTER","COLLECT","COLLECTION","COLUMN","COMMENT","COMMIT","COMPACT","COMPARISONS","COMPRESS","CONCAT","CONCURRENT","CONDITION","CONNECT","CONNECT_BY_ROOT","CONNECTION","CONSTANT","CONSTRAINT","CONTAINS","CONTENT","CONTINUE","COPY","COUNT","COUNT_BIG","CREATE","CREATEIN","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEACTIVATE","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFER","DEFINE","DEFINITION","DELETE","DELETING","DENSE_RANK","DENSERANK","DESC","DESCRIBE","DESCRIPTOR","DETACH","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DYNAMIC","EACH","ELSE","ELSEIF","EMPTY","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ENFORCED","ERROR","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTEND","EXTERNAL","EXTRACT","FALSE","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST_VALUE","FOR","FOREIGN","FORMAT","FREE","FREEPAGE","FROM","FULL","FUNCTION","GBPCACHE","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GROUP","HANDLER","HASH","HASH_ROW","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IGNORE","IMMEDIATE","IMPLICITLY","IN","INCLUDE","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDEXBP","INDICATOR","INF","INFINITY","INHERIT","INLINE","INNER","INOUT","INSENSITIVE","INSERT","INSERTING","INTEGRITY","INTERPRET","INTERSECT","INTO","IS","ISNULL","ISOLATION","ITERATE","JAVA","JOIN","JSON","JSON_ARRAY","JSON_ARRAYAGG","JSON_EXISTS","JSON_OBJECT","JSON_OBJECTAGG","JSON_QUERY","JSON_TABLE","JSON_VALUE","KEEP","KEY","KEYS","LABEL","LAG","LANGUAGE","LAST_VALUE","LATERAL","LEAD","LEAVE","LEFT","LEVEL2","LIKE","LIMIT","LINKTYPE","LISTAGG","LOCAL","LOCALDATE","LOCALTIME","LOCALTIMESTAMP","LOCATION","LOCATOR","LOCK","LOCKSIZE","LOG","LOGGED","LOOP","MAINTAINED","MASK","MATCHED","MATERIALIZED","MAXVALUE","MERGE","MICROSECOND","MICROSECONDS","MINPCTUSED","MINUTE","MINUTES","MINVALUE","MIRROR","MIXED","MODE","MODIFIES","MONTH","MONTHS","NAMESPACE","NAN","NATIONAL","NCHAR","NCLOB","NESTED","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT","NOTNULL","NTH_VALUE","NTILE","NULL","NULLS","NVARCHAR","OBID","OBJECT","OF","OFF","OFFSET","OLD","OLD_TABLE","OMIT","ON","ONLY","OPEN","OPTIMIZE","OPTION","OR","ORDER","ORDINALITY","ORGANIZE","OUT","OUTER","OVER","OVERLAY","OVERRIDING","PACKAGE","PADDED","PAGE","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSING","PASSWORD","PATH","PCTFREE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PERIOD","PERMISSION","PIECESIZE","PIPE","PLAN","POSITION","PREPARE","PREVVAL","PRIMARY","PRIOR","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PROGRAMID","QUERY","RANGE","RANK","RATIO_TO_REPORT","RCDFMT","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","REGEXP_LIKE","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNING","RETURNS","REVOKE","RID","RIGHT","ROLLBACK","ROLLUP","ROUTINE","ROW","ROW_NUMBER","ROWNUMBER","ROWS","RRN","RUN","SAVEPOINT","SBCS","SCALAR","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURED","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SKIP","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","SQLIND_DEFAULT","SQLIND_UNASSIGNED","STACKED","START","STARTING","STATEMENT","STATIC","STOGROUP","SUBSTRING","SUMMARY","SYNONYM","SYSTEM_TIME","SYSTEM_USER","TABLE","TABLESPACE","TABLESPACES","TAG","THEN","THREADSAFE","TO","TRANSACTION","TRANSFER","TRIGGER","TRIM","TRIM_ARRAY","TRUE","TRUNCATE","TRY_CAST","TYPE","UNDO","UNION","UNIQUE","UNIT","UNKNOWN","UNNEST","UNTIL","UPDATE","UPDATING","URI","USAGE","USE","USER","USERID","USING","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VERSIONING","VIEW","VOLATILE","WAIT","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHIN","WITHOUT","WRAPPED","WRAPPER","WRITE","WRKSTNNAME","XMLAGG","XMLATTRIBUTES","XMLCAST","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLGROUP","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTABLE","XMLTEXT","XMLVALIDATE","XSLTRANSFORM","XSROBJECT","YEAR","YEARS","YES","ZONE"],li=["ARRAY","BIGINT","BINARY","BIT","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATA","DATALINK","DATE","DBCLOB","DECFLOAT","DECIMAL","DEC","DOUBLE","DOUBLE PRECISION","FLOAT","GRAPHIC","INT","INTEGER","LONG","NUMERIC","REAL","ROWID","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC","XML"],Yt=a(["SELECT [ALL | DISTINCT]"]),Ne=a(["WITH [RECURSIVE]","INTO","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","FOR READ ONLY","OPTIMIZE FOR","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","DELETE","INSERT","FOR SYSTEM NAME"]),yt=a(["CREATE [OR REPLACE] TABLE"]),De=a(["CREATE [OR REPLACE] [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","WITH {NC | RR | RS | CS | UR}","DELETE FROM","DROP TABLE","ALTER TABLE","ADD [COLUMN]","ALTER [COLUMN]","DROP [COLUMN]","SET DATA TYPE","SET {GENERATED ALWAYS | GENERATED BY DEFAULT}","SET NOT NULL","SET {NOT HIDDEN | IMPLICITLY HIDDEN}","SET FIELDPROC","DROP {DEFAULT | NOT NULL | GENERATED | IDENTITY | ROW CHANGE TIMESTAMP | FIELDPROC}","TRUNCATE [TABLE]","SET [CURRENT] SCHEMA","SET CURRENT_SCHEMA","ALLOCATE CURSOR","ALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL] SQL","ALTER [SPECIFIC] {FUNCTION | PROCEDURE}","ALTER {MASK | PERMISSION | SEQUENCE | TRIGGER}","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PARAMETER | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","COMMENT ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON PARAMETER SPECIFIC {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON [TABLE FUNCTION] RETURN COLUMN","COMMENT ON [TABLE FUNCTION] RETURN COLUMN SPECIFIC [PROCEDURE | ROUTINE]","COMMIT [WORK] [HOLD]","CONNECT [TO | RESET] USER","CREATE [OR REPLACE] {ALIAS | FUNCTION | MASK | PERMISSION | PROCEDURE | SEQUENCE | TRIGGER | VARIABLE}","CREATE [ENCODED VECTOR] INDEX","CREATE UNIQUE [WHERE NOT NULL] INDEX","CREATE SCHEMA","CREATE TYPE","DEALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL]","DECLARE CURSOR","DECLARE GLOBAL TEMPORARY TABLE","DECLARE","DESCRIBE CURSOR","DESCRIBE INPUT","DESCRIBE [OUTPUT]","DESCRIBE {PROCEDURE | ROUTINE}","DESCRIBE TABLE","DISCONNECT ALL [SQL]","DISCONNECT [CURRENT]","DROP {ALIAS | INDEX | MASK | PACKAGE | PERMISSION | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT} [IF EXISTS]","DROP [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE} [IF EXISTS]","END DECLARE SECTION","EXECUTE [IMMEDIATE]","FREE LOCATOR","GET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","GET [CURRENT | STACKED] DIAGNOSTICS","GRANT {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","HOLD LOCATOR","INCLUDE","LABEL ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","LABEL ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","LOCK TABLE","OPEN","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX] TO","REVOKE {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","ROLLBACK [WORK] [HOLD | TO SAVEPOINT]","SAVEPOINT","SET CONNECTION","SET CURRENT {DEBUG MODE | DECFLOAT ROUNDING MODE | DEGREE | IMPLICIT XMLPARSE OPTION | TEMPORAL SYSTEM_TIME}","SET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","SET ENCRYPTION PASSWORD","SET OPTION","SET {[CURRENT [FUNCTION]] PATH | CURRENT_PATH}","SET RESULT SETS [WITH RETURN [TO CALLER | TO CLIENT]]","SET SESSION AUTHORIZATION","SET SESSION_USER","SET TRANSACTION","SIGNAL SQLSTATE [VALUE]","TAG","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}"]),di=a(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),Ve=a(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT | RIGHT] EXCEPTION JOIN","{INNER | CROSS} JOIN"]),$i=a(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),wn={name:"db2i",tokenizerOptions:{reservedSelect:Yt,reservedClauses:[...Ne,...yt,...De],reservedSetOperations:di,reservedJoins:Ve,reservedPhrases:$i,reservedKeywords:Xt,reservedDataTypes:li,reservedFunctionNames:Ft,nestedBlockComments:!0,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","\xAC=","\xAC>","\xAC<","!>","!<","||","=>"]},formatOptions:{onelineClauses:[...yt,...De],tabularOnelineClauses:De}},Pt=["ABS","ACOS","ASIN","ATAN","BIN","BROUND","CBRT","CEIL","CEILING","CONV","COS","DEGREES","EXP","FACTORIAL","FLOOR","GREATEST","HEX","LEAST","LN","LOG","LOG10","LOG2","NEGATIVE","PI","PMOD","POSITIVE","POW","POWER","RADIANS","RAND","ROUND","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIN","SQRT","TAN","UNHEX","WIDTH_BUCKET","ARRAY_CONTAINS","MAP_KEYS","MAP_VALUES","SIZE","SORT_ARRAY","BINARY","CAST","ADD_MONTHS","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","QUARTER","SECOND","TIMESTAMP","TO_DATE","TO_UTC_TIMESTAMP","TRUNC","UNIX_TIMESTAMP","WEEKOFYEAR","YEAR","ASSERT_TRUE","COALESCE","IF","ISNOTNULL","ISNULL","NULLIF","NVL","ASCII","BASE64","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONTEXT_NGRAMS","DECODE","ELT","ENCODE","FIELD","FIND_IN_SET","FORMAT_NUMBER","GET_JSON_OBJECT","IN_FILE","INITCAP","INSTR","LCASE","LENGTH","LEVENSHTEIN","LOCATE","LOWER","LPAD","LTRIM","NGRAMS","OCTET_LENGTH","PARSE_URL","PRINTF","QUOTE","REGEXP_EXTRACT","REGEXP_REPLACE","REPEAT","REVERSE","RPAD","RTRIM","SENTENCES","SOUNDEX","SPACE","SPLIT","STR_TO_MAP","SUBSTR","SUBSTRING","TRANSLATE","TRIM","UCASE","UNBASE64","UPPER","MASK","MASK_FIRST_N","MASK_HASH","MASK_LAST_N","MASK_SHOW_FIRST_N","MASK_SHOW_LAST_N","AES_DECRYPT","AES_ENCRYPT","CRC32","CURRENT_DATABASE","CURRENT_USER","HASH","JAVA_METHOD","LOGGED_IN_USER","MD5","REFLECT","SHA","SHA1","SHA2","SURROGATE_KEY","VERSION","AVG","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COVAR_POP","COVAR_SAMP","HISTOGRAM_NUMERIC","MAX","MIN","NTILE","PERCENTILE","PERCENTILE_APPROX","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","EXPLODE","INLINE","JSON_TUPLE","PARSE_URL_TUPLE","POSEXPLODE","STACK","LEAD","LAG","FIRST_VALUE","LAST_VALUE","RANK","ROW_NUMBER","DENSE_RANK","CUME_DIST","PERCENT_RANK","NTILE"],le=["ADD","ADMIN","AFTER","ANALYZE","ARCHIVE","ASC","BEFORE","BUCKET","BUCKETS","CASCADE","CHANGE","CLUSTER","CLUSTERED","CLUSTERSTATUS","COLLECTION","COLUMNS","COMMENT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONTINUE","DATA","DATABASES","DATETIME","DAY","DBPROPERTIES","DEFERRED","DEFINED","DELIMITED","DEPENDENCY","DESC","DIRECTORIES","DIRECTORY","DISABLE","DISTRIBUTE","ELEM_TYPE","ENABLE","ESCAPED","EXCLUSIVE","EXPLAIN","EXPORT","FIELDS","FILE","FILEFORMAT","FIRST","FORMAT","FORMATTED","FUNCTIONS","HOLD_DDLTIME","HOUR","IDXPROPERTIES","IGNORE","INDEX","INDEXES","INPATH","INPUTDRIVER","INPUTFORMAT","ITEMS","JAR","KEYS","KEY_TYPE","LIMIT","LINES","LOAD","LOCATION","LOCK","LOCKS","LOGICAL","LONG","MAPJOIN","MATERIALIZED","METADATA","MINUS","MINUTE","MONTH","MSCK","NOSCAN","NO_DROP","OFFLINE","OPTION","OUTPUTDRIVER","OUTPUTFORMAT","OVERWRITE","OWNER","PARTITIONED","PARTITIONS","PLUS","PRETTY","PRINCIPALS","PROTECTION","PURGE","READ","READONLY","REBUILD","RECORDREADER","RECORDWRITER","RELOAD","RENAME","REPAIR","REPLACE","REPLICATION","RESTRICT","REWRITE","ROLE","ROLES","SCHEMA","SCHEMAS","SECOND","SEMI","SERDE","SERDEPROPERTIES","SERVER","SETS","SHARED","SHOW","SHOW_DATABASE","SKEWED","SORT","SORTED","SSL","STATISTICS","STORED","STREAMTABLE","STRING","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","TINYINT","TOUCH","TRANSACTIONS","UNARCHIVE","UNDO","UNIONTYPE","UNLOCK","UNSET","UNSIGNED","URI","USE","UTC","UTCTIMESTAMP","VALUE_TYPE","VIEW","WHILE","YEAR","AUTOCOMMIT","ISOLATION","LEVEL","OFFSET","SNAPSHOT","TRANSACTION","WORK","WRITE","ABORT","KEY","LAST","NORELY","NOVALIDATE","NULLS","RELY","VALIDATE","DETAIL","DOW","EXPRESSION","OPERATOR","QUARTER","SUMMARY","VECTORIZATION","WEEK","YEARS","MONTHS","WEEKS","DAYS","HOURS","MINUTES","SECONDS","TIMESTAMPTZ","ZONE","ALL","ALTER","AND","AS","AUTHORIZATION","BETWEEN","BOTH","BY","CASE","CAST","COLUMN","CONF","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIMESTAMP","CURSOR","DATABASE","DELETE","DESCRIBE","DISTINCT","DROP","ELSE","END","EXCHANGE","EXISTS","EXTENDED","EXTERNAL","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","FUNCTION","GRANT","GROUP","GROUPING","HAVING","IF","IMPORT","IN","INNER","INSERT","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LESS","LIKE","LOCAL","MACRO","MORE","NONE","NOT","NULL","OF","ON","OR","ORDER","OUT","OUTER","OVER","PARTIALSCAN","PARTITION","PERCENT","PRECEDING","PRESERVE","PROCEDURE","RANGE","READS","REDUCE","REVOKE","RIGHT","ROLLUP","ROW","ROWS","SELECT","SET","TABLE","TABLESAMPLE","THEN","TO","TRANSFORM","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNION","UNIQUEJOIN","UPDATE","USER","USING","UTC_TMESTAMP","VALUES","WHEN","WHERE","WINDOW","WITH","COMMIT","ONLY","REGEXP","RLIKE","ROLLBACK","START","CACHE","CONSTRAINT","FOREIGN","PRIMARY","REFERENCES","DAYOFWEEK","EXTRACT","FLOOR","VIEWS","TIME","SYNC","TEXTFILE","SEQUENCEFILE","ORC","CSV","TSV","PARQUET","AVRO","RCFILE","JSONFILE","INPUTFORMAT","OUTPUTFORMAT"],mt=["ARRAY","BIGINT","BINARY","BOOLEAN","CHAR","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MAP","NUMERIC","PRECISION","SMALLINT","STRUCT","TIMESTAMP","VARCHAR"],jt=a(["SELECT [ALL | DISTINCT]"]),bi=a(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT INTO [TABLE]","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT [VALUES]","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),Ot=a(["CREATE [TEMPORARY] [EXTERNAL] TABLE [IF NOT EXISTS]"]),Ki=a(["CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","RENAME TO","TRUNCATE [TABLE]","ALTER","CREATE","USE","DESCRIBE","DROP","FETCH","SHOW","STORED AS","STORED BY","ROW FORMAT"]),xi=a(["UNION [ALL | DISTINCT]"]),dn=a(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","LEFT SEMI JOIN"]),zt=a(["{ROWS | RANGE} BETWEEN"]),Qi={name:"hive",tokenizerOptions:{reservedSelect:jt,reservedClauses:[...bi,...Ot,...Ki],reservedSetOperations:xi,reservedJoins:dn,reservedPhrases:zt,reservedKeywords:le,reservedDataTypes:mt,reservedFunctionNames:Pt,extraParens:["[]"],stringTypes:['""-bs',"''-bs"],identTypes:["``"],variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||"]},formatOptions:{onelineClauses:[...Ot,...Ki],tabularOnelineClauses:Ki}};function ei(Me){return Me.map((nt,oi)=>{const Yi=Me[oi+1]||se;if(he.SET(nt)&&Yi.text==="(")return b(y({},nt),{type:"RESERVED_FUNCTION_NAME"});const is=Me[oi-1]||se;return he.VALUES(nt)&&is.text==="="?b(y({},nt),{type:"RESERVED_FUNCTION_NAME"}):nt})}var Be=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DELETE_DOMAIN_ID","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DO_DOMAIN_IDS","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERAL","GRANT","GROUP","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IGNORE_DOMAIN_IDS","IGNORE_SERVER_IDS","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MASTER_HEARTBEAT_PERIOD","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OFFSET","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PAGE_CHECKSUM","PARSE_VCOL_EXPR","PARTITION","POSITION","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","READ_WRITE","RECURSIVE","REF_SYSTEM_ID","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","RETURNING","REVOKE","RIGHT","RLIKE","ROW_NUMBER","ROWS","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SLOW","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_AUTO_RECALC","STATS_PERSISTENT","STATS_SAMPLE_PAGES","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],Nt=["BIGINT","BINARY","BIT","BLOB","CHAR BYTE","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"],Ri=["ADDDATE","ADD_MONTHS","BIT_AND","BIT_OR","BIT_XOR","CAST","COUNT","CUME_DIST","CURDATE","CURTIME","DATE_ADD","DATE_SUB","DATE_FORMAT","DECODE","DENSE_RANK","EXTRACT","FIRST_VALUE","GROUP_CONCAT","JSON_ARRAYAGG","JSON_OBJECTAGG","LAG","LEAD","MAX","MEDIAN","MID","MIN","NOW","NTH_VALUE","NTILE","POSITION","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","ROW_NUMBER","SESSION_USER","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUBDATE","SUBSTR","SUBSTRING","SUM","SYSTEM_USER","TRIM","TRIM_ORACLE","VARIANCE","VAR_POP","VAR_SAMP","ABS","ACOS","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ASIN","ATAN","ATAN2","BENCHMARK","BIN","BINLOG_GTID_POS","BIT_COUNT","BIT_LENGTH","CEIL","CEILING","CHARACTER_LENGTH","CHAR_LENGTH","CHR","COERCIBILITY","COLUMN_CHECK","COLUMN_EXISTS","COLUMN_LIST","COLUMN_JSON","COMPRESS","CONCAT","CONCAT_OPERATOR_ORACLE","CONCAT_WS","CONNECTION_ID","CONV","CONVERT_TZ","COS","COT","CRC32","DATEDIFF","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEGREES","DECODE_HISTOGRAM","DECODE_ORACLE","DES_DECRYPT","DES_ENCRYPT","ELT","ENCODE","ENCRYPT","EXP","EXPORT_SET","EXTRACTVALUE","FIELD","FIND_IN_SET","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GET_LOCK","GREATEST","HEX","IFNULL","INSTR","ISNULL","IS_FREE_LOCK","IS_USED_LOCK","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_COMPACT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_DETAILED","JSON_EXISTS","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_LOOSE","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_QUERY","JSON_QUOTE","JSON_OBJECT","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_SEARCH","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAST_DAY","LAST_INSERT_ID","LCASE","LEAST","LENGTH","LENGTHB","LN","LOAD_FILE","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LPAD_ORACLE","LTRIM","LTRIM_ORACLE","MAKEDATE","MAKETIME","MAKE_SET","MASTER_GTID_WAIT","MASTER_POS_WAIT","MD5","MONTHNAME","NAME_CONST","NVL","NVL2","OCT","OCTET_LENGTH","ORD","PERIOD_ADD","PERIOD_DIFF","PI","POW","POWER","QUOTE","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","RADIANS","RAND","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPLACE_ORACLE","REVERSE","ROUND","RPAD","RPAD_ORACLE","RTRIM","RTRIM_ORACLE","SEC_TO_TIME","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SPACE","SQRT","STRCMP","STR_TO_DATE","SUBSTR_ORACLE","SUBSTRING_INDEX","SUBTIME","SYS_GUID","TAN","TIMEDIFF","TIME_FORMAT","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_SECONDS","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UUID","UUID_SHORT","VERSION","WEEKDAY","WEEKOFYEAR","WSREP_LAST_WRITTEN_GTID","WSREP_LAST_SEEN_GTID","WSREP_SYNC_WAIT_UPTO_GTID","YEARWEEK","COALESCE","NULLIF"],Fi=a(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),hi=a(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET","RETURNING"]),En=a(["CREATE [OR REPLACE] [TEMPORARY] TABLE [IF NOT EXISTS]"]),bn=a(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] [IGNORE] TABLE [IF EXISTS]","ADD [COLUMN] [IF NOT EXISTS]","{CHANGE | MODIFY} [COLUMN] [IF EXISTS]","DROP [COLUMN] [IF EXISTS]","RENAME [TO]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","SET {VISIBLE | INVISIBLE}","TRUNCATE [TABLE]","ALTER DATABASE","ALTER DATABASE COMMENT","ALTER EVENT","ALTER FUNCTION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SCHEMA COMMENT","ALTER SEQUENCE","ALTER SERVER","ALTER USER","ALTER VIEW","ANALYZE","ANALYZE TABLE","BACKUP LOCK","BACKUP STAGE","BACKUP UNLOCK","BEGIN","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHECK TABLE","CHECK VIEW","CHECKSUM TABLE","COMMIT","CREATE AGGREGATE FUNCTION","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE INDEX","CREATE PROCEDURE","CREATE ROLE","CREATE SEQUENCE","CREATE SERVER","CREATE SPATIAL INDEX","CREATE TRIGGER","CREATE UNIQUE INDEX","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP INDEX","DROP PREPARE","DROP PROCEDURE","DROP ROLE","DROP SEQUENCE","DROP SERVER","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GET DIAGNOSTICS","GET DIAGNOSTICS CONDITION","GRANT","HANDLER","HELP","INSTALL PLUGIN","INSTALL SONAME","KILL","LOAD DATA INFILE","LOAD INDEX INTO CACHE","LOAD XML INFILE","LOCK TABLE","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","PURGE MASTER LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","REPAIR VIEW","RESET MASTER","RESET QUERY CACHE","RESET REPLICA","RESET SLAVE","RESIGNAL","REVOKE","ROLLBACK","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET GLOBAL TRANSACTION","SET NAMES","SET PASSWORD","SET ROLE","SET STATEMENT","SET TRANSACTION","SHOW","SHOW ALL REPLICAS STATUS","SHOW ALL SLAVES STATUS","SHOW AUTHORS","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW BINLOG STATUS","SHOW CHARACTER SET","SHOW CLIENT_STATISTICS","SHOW COLLATION","SHOW COLUMNS","SHOW CONTRIBUTORS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PACKAGE","SHOW CREATE PACKAGE BODY","SHOW CREATE PROCEDURE","SHOW CREATE SEQUENCE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINE INNODB STATUS","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW EXPLAIN","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW INDEXES","SHOW INDEX_STATISTICS","SHOW KEYS","SHOW LOCALES","SHOW MASTER LOGS","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PACKAGE BODY CODE","SHOW PACKAGE BODY STATUS","SHOW PACKAGE STATUS","SHOW PLUGINS","SHOW PLUGINS SONAME","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW QUERY_RESPONSE_TIME","SHOW RELAYLOG EVENTS","SHOW REPLICA","SHOW REPLICA HOSTS","SHOW REPLICA STATUS","SHOW SCHEMAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW SLAVE STATUS","SHOW STATUS","SHOW STORAGE ENGINES","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW USER_STATISTICS","SHOW VARIABLES","SHOW WARNINGS","SHOW WSREP_MEMBERSHIP","SHOW WSREP_STATUS","SHUTDOWN","SIGNAL","START ALL REPLICAS","START ALL SLAVES","START REPLICA","START SLAVE","START TRANSACTION","STOP ALL REPLICAS","STOP ALL SLAVES","STOP REPLICA","STOP SLAVE","UNINSTALL PLUGIN","UNINSTALL SONAME","UNLOCK TABLE","USE","XA BEGIN","XA COMMIT","XA END","XA PREPARE","XA RECOVER","XA ROLLBACK","XA START"]),gn=a(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]","MINUS [ALL | DISTINCT]"]),Bn=a(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),kn=a(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),en={name:"mariadb",tokenizerOptions:{reservedSelect:Fi,reservedClauses:[...hi,...En,...bn],reservedSetOperations:gn,reservedJoins:Bn,reservedPhrases:kn,supportsXor:!0,reservedKeywords:Be,reservedDataTypes:Nt,reservedFunctionNames:Ri,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","&&","||","!","*.*"],postProcess:ei},formatOptions:{onelineClauses:[...En,...bn],tabularOnelineClauses:bn}},Jn=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CUBE","CUME_DIST","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DENSE_RANK","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","EMPTY","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FIRST_VALUE","FOR","FORCE","FOREIGN","FROM","FULLTEXT","FUNCTION","GENERATED","GET","GRANT","GROUP","GROUPING","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","INTERSECT","INTERVAL","INTO","IO_AFTER_GTIDS","IO_BEFORE_GTIDS","IS","ITERATE","JOIN","JSON_TABLE","KEY","KEYS","KILL","LAG","LAST_VALUE","LATERAL","LEAD","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOOP","LOW_PRIORITY","MASTER_BIND","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NTH_VALUE","NTILE","NULL","OF","ON","OPTIMIZE","OPTIMIZER_COSTS","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PERCENT_RANK","PRIMARY","PROCEDURE","PURGE","RANGE","RANK","READ","READS","READ_WRITE","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","REVOKE","RIGHT","RLIKE","ROW","ROWS","ROW_NUMBER","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STORED","STRAIGHT_JOIN","SYSTEM","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],ys=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"],ds=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BINARY","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","CAN_ACCESS_COLUMN","CAN_ACCESS_DATABASE","CAN_ACCESS_TABLE","CAN_ACCESS_USER","CAN_ACCESS_VIEW","CAST","CEIL","CEILING","CHAR","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEFAULT","DEGREES","DENSE_RANK","DIV","ELT","EXP","EXPORT_SET","EXTRACT","EXTRACTVALUE","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_PICO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOMCOLLECTION","GEOMETRYCOLLECTION","GET_DD_COLUMN_PRIVILEGES","GET_DD_CREATE_OPTIONS","GET_DD_INDEX_SUB_PART_LENGTH","GET_FORMAT","GET_LOCK","GREATEST","GROUP_CONCAT","GROUPING","GTID_SUBSET","GTID_SUBTRACT","HEX","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INSERT","INSTR","INTERNAL_AUTO_INCREMENT","INTERNAL_AVG_ROW_LENGTH","INTERNAL_CHECK_TIME","INTERNAL_CHECKSUM","INTERNAL_DATA_FREE","INTERNAL_DATA_LENGTH","INTERNAL_DD_CHAR_LENGTH","INTERNAL_GET_COMMENT_OR_ERROR","INTERNAL_GET_ENABLED_ROLE_JSON","INTERNAL_GET_HOSTNAME","INTERNAL_GET_USERNAME","INTERNAL_GET_VIEW_WARNING_OR_ERROR","INTERNAL_INDEX_COLUMN_CARDINALITY","INTERNAL_INDEX_LENGTH","INTERNAL_IS_ENABLED_ROLE","INTERNAL_IS_MANDATORY_ROLE","INTERNAL_KEYS_DISABLED","INTERNAL_MAX_DATA_LENGTH","INTERNAL_TABLE_ROWS","INTERNAL_UPDATE_TIME","INTERVAL","IS","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS NOT","IS NOT NULL","IS NULL","IS_USED_LOCK","IS_UUID","ISNULL","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_ARRAYAGG","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SCHEMA_VALID","JSON_SCHEMA_VALIDATION_REPORT","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TABLE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LINESTRING","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MATCH","MAX","MBRCONTAINS","MBRCOVEREDBY","MBRCOVERS","MBRDISJOINT","MBREQUALS","MBRINTERSECTS","MBROVERLAPS","MBRTOUCHES","MBRWITHIN","MD5","MEMBER OF","MICROSECOND","MID","MIN","MINUTE","MOD","MONTH","MONTHNAME","MULTILINESTRING","MULTIPOINT","MULTIPOLYGON","NAME_CONST","NOT","NOT IN","NOT LIKE","NOT REGEXP","NOW","NTH_VALUE","NTILE","NULLIF","OCT","OCTET_LENGTH","ORD","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","POINT","POLYGON","POSITION","POW","POWER","PS_CURRENT_THREAD_ID","PS_THREAD_ID","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROLES_GRAPHML","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_BUFFER","ST_BUFFER_STRATEGY","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_CONVEXHULL","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DISTANCE_SPHERE","ST_ENDPOINT","ST_ENVELOPE","ST_EQUALS","ST_EXTERIORRING","ST_FRECHETDISTANCE","ST_GEOHASH","ST_GEOMCOLLFROMTEXT","ST_GEOMCOLLFROMWKB","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMGEOJSON","ST_GEOMFROMTEXT","ST_GEOMFROMWKB","ST_HAUSDORFFDISTANCE","ST_INTERIORRINGN","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISSIMPLE","ST_ISVALID","ST_LATFROMGEOHASH","ST_LATITUDE","ST_LENGTH","ST_LINEFROMTEXT","ST_LINEFROMWKB","ST_LINEINTERPOLATEPOINT","ST_LINEINTERPOLATEPOINTS","ST_LONGFROMGEOHASH","ST_LONGITUDE","ST_MAKEENVELOPE","ST_MLINEFROMTEXT","ST_MLINEFROMWKB","ST_MPOINTFROMTEXT","ST_MPOINTFROMWKB","ST_MPOLYFROMTEXT","ST_MPOLYFROMWKB","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINTATDISTANCE","ST_POINTFROMGEOHASH","ST_POINTFROMTEXT","ST_POINTFROMWKB","ST_POINTN","ST_POLYFROMTEXT","ST_POLYFROMWKB","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SWAPXY","ST_SYMDIFFERENCE","ST_TOUCHES","ST_TRANSFORM","ST_UNION","ST_VALIDATE","ST_WITHIN","ST_X","ST_Y","STATEMENT_DIGEST","STATEMENT_DIGEST_TEXT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRIM","TRUNCATE","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VALUES","VAR_POP","VAR_SAMP","VARIANCE","VERSION","WAIT_FOR_EXECUTED_GTID_SET","WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"],cs=a(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),ps=a(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),In=a(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),os=a(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER EVENT","ALTER FUNCTION","ALTER INSTANCE","ALTER LOGFILE GROUP","ALTER PROCEDURE","ALTER RESOURCE GROUP","ALTER SERVER","ALTER TABLESPACE","ALTER USER","ALTER VIEW","ANALYZE TABLE","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK TABLE","CHECKSUM TABLE","CLONE","COMMIT","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE FUNCTION","CREATE INDEX","CREATE LOGFILE GROUP","CREATE PROCEDURE","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SERVER","CREATE SPATIAL REFERENCE SYSTEM","CREATE TABLESPACE","CREATE TRIGGER","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP FUNCTION","DROP INDEX","DROP LOGFILE GROUP","DROP PROCEDURE","DROP RESOURCE GROUP","DROP ROLE","DROP SERVER","DROP SPATIAL REFERENCE SYSTEM","DROP TABLESPACE","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GRANT","HANDLER","HELP","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SOURCE_POS_WAIT","START GROUP_REPLICATION","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP REPLICA","STOP SLAVE","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),ui=a(["UNION [ALL | DISTINCT]"]),ke=a(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),Ke=a(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),Ue={name:"mysql",tokenizerOptions:{reservedSelect:cs,reservedClauses:[...ps,...In,...os],reservedSetOperations:ui,reservedJoins:ke,reservedPhrases:Ke,supportsXor:!0,reservedKeywords:Jn,reservedDataTypes:ys,reservedFunctionNames:ds,stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:ei},formatOptions:{onelineClauses:[...In,...os],tabularOnelineClauses:os}},bt=["ABORT","ABS","ACOS","ADVISOR","ARRAY_AGG","ARRAY_AGG","ARRAY_APPEND","ARRAY_AVG","ARRAY_BINARY_SEARCH","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COUNT","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_FLATTEN","ARRAY_IFNULL","ARRAY_INSERT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_MAX","ARRAY_MIN","ARRAY_MOVE","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUT","ARRAY_RANGE","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_REPLACE","ARRAY_REVERSE","ARRAY_SORT","ARRAY_STAR","ARRAY_SUM","ARRAY_SYMDIFF","ARRAY_SYMDIFF1","ARRAY_SYMDIFFN","ARRAY_UNION","ASIN","ATAN","ATAN2","AVG","BASE64","BASE64_DECODE","BASE64_ENCODE","BITAND ","BITCLEAR ","BITNOT ","BITOR ","BITSET ","BITSHIFT ","BITTEST ","BITXOR ","CEIL","CLOCK_LOCAL","CLOCK_MILLIS","CLOCK_STR","CLOCK_TZ","CLOCK_UTC","COALESCE","CONCAT","CONCAT2","CONTAINS","CONTAINS_TOKEN","CONTAINS_TOKEN_LIKE","CONTAINS_TOKEN_REGEXP","COS","COUNT","COUNT","COUNTN","CUME_DIST","CURL","DATE_ADD_MILLIS","DATE_ADD_STR","DATE_DIFF_MILLIS","DATE_DIFF_STR","DATE_FORMAT_STR","DATE_PART_MILLIS","DATE_PART_STR","DATE_RANGE_MILLIS","DATE_RANGE_STR","DATE_TRUNC_MILLIS","DATE_TRUNC_STR","DECODE","DECODE_JSON","DEGREES","DENSE_RANK","DURATION_TO_STR","ENCODED_SIZE","ENCODE_JSON","EXP","FIRST_VALUE","FLOOR","GREATEST","HAS_TOKEN","IFINF","IFMISSING","IFMISSINGORNULL","IFNAN","IFNANORINF","IFNULL","INITCAP","ISARRAY","ISATOM","ISBITSET","ISBOOLEAN","ISNUMBER","ISOBJECT","ISSTRING","LAG","LAST_VALUE","LEAD","LEAST","LENGTH","LN","LOG","LOWER","LTRIM","MAX","MEAN","MEDIAN","META","MILLIS","MILLIS_TO_LOCAL","MILLIS_TO_STR","MILLIS_TO_TZ","MILLIS_TO_UTC","MILLIS_TO_ZONE_NAME","MIN","MISSINGIF","NANIF","NEGINFIF","NOW_LOCAL","NOW_MILLIS","NOW_STR","NOW_TZ","NOW_UTC","NTH_VALUE","NTILE","NULLIF","NVL","NVL2","OBJECT_ADD","OBJECT_CONCAT","OBJECT_INNER_PAIRS","OBJECT_INNER_VALUES","OBJECT_LENGTH","OBJECT_NAMES","OBJECT_PAIRS","OBJECT_PUT","OBJECT_REMOVE","OBJECT_RENAME","OBJECT_REPLACE","OBJECT_UNWRAP","OBJECT_VALUES","PAIRS","PERCENT_RANK","PI","POLY_LENGTH","POSINFIF","POSITION","POWER","RADIANS","RANDOM","RANK","RATIO_TO_REPORT","REGEXP_CONTAINS","REGEXP_LIKE","REGEXP_MATCHES","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGEX_CONTAINS","REGEX_LIKE","REGEX_MATCHES","REGEX_POSITION","REGEX_REPLACE","REGEX_SPLIT","REPEAT","REPLACE","REVERSE","ROUND","ROW_NUMBER","RTRIM","SEARCH","SEARCH_META","SEARCH_SCORE","SIGN","SIN","SPLIT","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DURATION","STR_TO_MILLIS","STR_TO_TZ","STR_TO_UTC","STR_TO_ZONE_NAME","SUBSTR","SUFFIXES","SUM","TAN","TITLE","TOARRAY","TOATOM","TOBOOLEAN","TOKENS","TOKENS","TONUMBER","TOOBJECT","TOSTRING","TRIM","TRUNC","UPPER","UUID","VARIANCE","VARIANCE_POP","VARIANCE_SAMP","VAR_POP","VAR_SAMP","WEEKDAY_MILLIS","WEEKDAY_STR","CAST"],it=["ADVISE","ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","AT","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","COMMITTED","CONNECT","CONTINUE","CORRELATED","COVER","CREATE","CURRENT","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FILTER","FIRST","FLATTEN","FLUSH","FOLLOWING","FOR","FORCE","FROM","FTS","FUNCTION","GOLANG","GRANT","GROUP","GROUPS","GSI","HASH","HAVING","IF","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","ISOLATION","JAVASCRIPT","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LANGUAGE","LAST","LEFT","LET","LETTING","LEVEL","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MINUS","MISSING","NAMESPACE","NEST","NL","NO","NOT","NTH_VALUE","NULL","NULLS","NUMBER","OBJECT","OFFSET","ON","OPTION","OPTIONS","OR","ORDER","OTHERS","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PRECEDING","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROBE","PROCEDURE","PUBLIC","RANGE","RAW","REALM","REDUCE","RENAME","RESPECT","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","ROW","ROWS","SATISFIES","SAVEPOINT","SCHEMA","SCOPE","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TIES","TO","TRAN","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WORK","XOR"],fi=[],_i=a(["SELECT [ALL | DISTINCT]"]),Te=a(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED THEN","UPDATE SET","INSERT","NEST","UNNEST","RETURNING"]),tt=a(["UPDATE","DELETE FROM","SET SCHEMA","ADVISE","ALTER INDEX","BEGIN TRANSACTION","BUILD INDEX","COMMIT TRANSACTION","CREATE COLLECTION","CREATE FUNCTION","CREATE INDEX","CREATE PRIMARY INDEX","CREATE SCOPE","DROP COLLECTION","DROP FUNCTION","DROP INDEX","DROP PRIMARY INDEX","DROP SCOPE","EXECUTE","EXECUTE FUNCTION","EXPLAIN","GRANT","INFER","PREPARE","REVOKE","ROLLBACK TRANSACTION","SAVEPOINT","SET TRANSACTION","UPDATE STATISTICS","UPSERT","LET","SET CURRENT SCHEMA","SHOW","USE [PRIMARY] KEYS"]),Wt=a(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),Vt=a(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","INNER JOIN"]),Ni=a(["{ROWS | RANGE | GROUPS} BETWEEN"]),ji={name:"n1ql",tokenizerOptions:{reservedSelect:_i,reservedClauses:[...Te,...tt],reservedSetOperations:Wt,reservedJoins:Vt,reservedPhrases:Ni,supportsXor:!0,reservedKeywords:it,reservedDataTypes:fi,reservedFunctionNames:bt,stringTypes:['""-bs',"''-bs"],identTypes:["``"],extraParens:["[]","{}"],paramTypes:{positional:!0,numbered:["$"],named:["$"]},lineCommentTypes:["#","--"],operators:["%","==",":","||"]},formatOptions:{onelineClauses:tt}},Ai=["ADD","AGENT","AGGREGATE","ALL","ALTER","AND","ANY","ARROW","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BEGIN","BETWEEN","BLOCK","BODY","BOTH","BOUND","BULK","BY","BYTE","CALL","CALLING","CASCADE","CASE","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOSE","CLUSTER","CLUSTERS","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONVERT","COUNT","CRASH","CREATE","CURRENT","CURSOR","CUSTOMDATUM","DANGLING","DATA","DAY","DECLARE","DEFAULT","DEFINE","DELETE","DESC","DETERMINISTIC","DISTINCT","DROP","DURATION","ELEMENT","ELSE","ELSIF","EMPTY","END","ESCAPE","EXCEPT","EXCEPTION","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FINAL","FIXED","FOR","FORALL","FORCE","FORM","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HAVING","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSERT","INSTANTIABLE","INTERFACE","INTERSECT","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMIT","LIMITED","LOCAL","LOCK","LOOP","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUS","MINUTE","MOD","MODE","MODIFY","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NEW","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","OR","ORACLE","ORADATA","ORDER","OVERLAPS","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARTITION","PASCAL","PIPE","PIPELINED","PRAGMA","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","READ","RECORD","REF","REFERENCE","REM","REMAINDER","RENAME","RESOURCE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SECOND","SEGMENT","SELECT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SET","SHARE","SHORT","SIZE","SIZE_T","SOME","SPARSE","SQL","SQLCODE","SQLDATA","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUM","SYNONYM","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSAC","TRANSACTIONAL","TRUSTED","TYPE","UB1","UB2","UB4","UNDER","UNION","UNIQUE","UNSIGNED","UNTRUSTED","UPDATE","USE","USING","VALIST","VALUE","VALUES","VARIABLE","VARIANCE","VARRAY","VIEW","VIEWS","VOID","WHEN","WHERE","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"],on=["ARRAY","BFILE_BASE","BINARY","BLOB_BASE","CHAR VARYING","CHAR_BASE","CHAR","CHARACTER VARYING","CHARACTER","CLOB_BASE","DATE_BASE","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTERVAL DAY","INTERVAL YEAR","LONG","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR VARYING","NCHAR","NCHAR","NUMBER_BASE","NUMBER","NUMBERIC","NVARCHAR","PRECISION","RAW","TIMESTAMP","UROWID","VARCHAR","VARCHAR2"],mn=["ABS","ACOS","ASIN","ATAN","ATAN2","BITAND","CEIL","COS","COSH","EXP","FLOOR","LN","LOG","MOD","NANVL","POWER","REMAINDER","ROUND","SIGN","SIN","SINH","SQRT","TAN","TANH","TRUNC","WIDTH_BUCKET","CHR","CONCAT","INITCAP","LOWER","LPAD","LTRIM","NLS_INITCAP","NLS_LOWER","NLSSORT","NLS_UPPER","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","RPAD","RTRIM","SOUNDEX","SUBSTR","TRANSLATE","TREAT","TRIM","UPPER","NLS_CHARSET_DECL_LEN","NLS_CHARSET_ID","NLS_CHARSET_NAME","ASCII","INSTR","LENGTH","REGEXP_INSTR","ADD_MONTHS","CURRENT_DATE","CURRENT_TIMESTAMP","DBTIMEZONE","EXTRACT","FROM_TZ","LAST_DAY","LOCALTIMESTAMP","MONTHS_BETWEEN","NEW_TIME","NEXT_DAY","NUMTODSINTERVAL","NUMTOYMINTERVAL","ROUND","SESSIONTIMEZONE","SYS_EXTRACT_UTC","SYSDATE","SYSTIMESTAMP","TO_CHAR","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_DSINTERVAL","TO_YMINTERVAL","TRUNC","TZ_OFFSET","GREATEST","LEAST","ASCIISTR","BIN_TO_NUM","CAST","CHARTOROWID","COMPOSE","CONVERT","DECOMPOSE","HEXTORAW","NUMTODSINTERVAL","NUMTOYMINTERVAL","RAWTOHEX","RAWTONHEX","ROWIDTOCHAR","ROWIDTONCHAR","SCN_TO_TIMESTAMP","TIMESTAMP_TO_SCN","TO_BINARY_DOUBLE","TO_BINARY_FLOAT","TO_CHAR","TO_CLOB","TO_DATE","TO_DSINTERVAL","TO_LOB","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_DSINTERVAL","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_YMINTERVAL","TO_YMINTERVAL","TRANSLATE","UNISTR","BFILENAME","EMPTY_BLOB,","EMPTY_CLOB","CARDINALITY","COLLECT","POWERMULTISET","POWERMULTISET_BY_CARDINALITY","SET","SYS_CONNECT_BY_PATH","CLUSTER_ID","CLUSTER_PROBABILITY","CLUSTER_SET","FEATURE_ID","FEATURE_SET","FEATURE_VALUE","PREDICTION","PREDICTION_COST","PREDICTION_DETAILS","PREDICTION_PROBABILITY","PREDICTION_SET","APPENDCHILDXML","DELETEXML","DEPTH","EXTRACT","EXISTSNODE","EXTRACTVALUE","INSERTCHILDXML","INSERTXMLBEFORE","PATH","SYS_DBURIGEN","SYS_XMLAGG","SYS_XMLGEN","UPDATEXML","XMLAGG","XMLCDATA","XMLCOLATTVAL","XMLCOMMENT","XMLCONCAT","XMLFOREST","XMLPARSE","XMLPI","XMLQUERY","XMLROOT","XMLSEQUENCE","XMLSERIALIZE","XMLTABLE","XMLTRANSFORM","DECODE","DUMP","ORA_HASH","VSIZE","COALESCE","LNNVL","NULLIF","NVL","NVL2","SYS_CONTEXT","SYS_GUID","SYS_TYPEID","UID","USER","USERENV","AVG","COLLECT","CORR","CORR_S","CORR_K","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","FIRST","GROUP_ID","GROUPING","GROUPING_ID","LAST","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANK","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","STATS_BINOMIAL_TEST","STATS_CROSSTAB","STATS_F_TEST","STATS_KS_TEST","STATS_MODE","STATS_MW_TEST","STATS_ONE_WAY_ANOVA","STATS_T_TEST_ONE","STATS_T_TEST_PAIRED","STATS_T_TEST_INDEP","STATS_T_TEST_INDEPU","STATS_WSR_TEST","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTILE","RATIO_TO_REPORT","ROW_NUMBER","DEREF","MAKE_REF","REF","REFTOHEX","VALUE","CV","ITERATION_NUMBER","PRESENTNNV","PRESENTV","PREVIOUS"],Rn=a(["SELECT [ALL | DISTINCT | UNIQUE]"]),pi=a(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","INSERT [INTO | ALL INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [THEN]","UPDATE SET","RETURNING"]),ti=a(["CREATE [GLOBAL TEMPORARY | PRIVATE TEMPORARY | SHARDED | DUPLICATED | IMMUTABLE BLOCKCHAIN | BLOCKCHAIN | IMMUTABLE] TABLE"]),ii=a(["CREATE [OR REPLACE] [NO FORCE | FORCE] [EDITIONING | EDITIONABLE | EDITIONABLE EDITIONING | NONEDITIONABLE] VIEW","CREATE MATERIALIZED VIEW","UPDATE [ONLY]","DELETE FROM [ONLY]","DROP TABLE","ALTER TABLE","ADD","DROP {COLUMN | UNUSED COLUMNS | COLUMNS CONTINUE}","MODIFY","RENAME TO","RENAME COLUMN","TRUNCATE TABLE","SET SCHEMA","BEGIN","CONNECT BY","DECLARE","EXCEPT","EXCEPTION","LOOP","START WITH"]),Ct=a(["UNION [ALL]","EXCEPT","INTERSECT"]),It=a(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | OUTER} APPLY"]),Qt=a(["ON {UPDATE | DELETE} [SET NULL]","ON COMMIT","{ROWS | RANGE} BETWEEN"]),Ut={name:"plsql",tokenizerOptions:{reservedSelect:Rn,reservedClauses:[...pi,...ti,...ii],reservedSetOperations:Ct,reservedJoins:It,reservedPhrases:Qt,supportsXor:!0,reservedKeywords:Ai,reservedDataTypes:on,reservedFunctionNames:mn,stringTypes:[{quote:"''-qq",prefixes:["N"]},{quote:"q''",prefixes:["N"]}],identTypes:['""-qq'],identChars:{rest:"$#"},variableTypes:[{regex:"&{1,2}[A-Za-z][A-Za-z0-9_$#]*"}],paramTypes:{numbered:[":"],named:[":"]},paramChars:{},operators:["**",":=","%","~=","^=",">>","<<","=>","@","||"],postProcess:Si},formatOptions:{alwaysDenseOperators:["@"],onelineClauses:[...ti,...ii],tabularOnelineClauses:ii}};function Si(Me){let nt=se;return Me.map(oi=>he.SET(oi)&&he.BY(nt)?b(y({},oi),{type:"RESERVED_KEYWORD"}):(H(oi.type)&&(nt=oi),oi))}var Vi=["ABS","ACOS","ACOSD","ACOSH","ASIN","ASIND","ASINH","ATAN","ATAN2","ATAN2D","ATAND","ATANH","CBRT","CEIL","CEILING","COS","COSD","COSH","COT","COTD","DEGREES","DIV","EXP","FACTORIAL","FLOOR","GCD","LCM","LN","LOG","LOG10","MIN_SCALE","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SCALE","SETSEED","SIGN","SIN","SIND","SINH","SQRT","TAN","TAND","TANH","TRIM_SCALE","TRUNC","WIDTH_BUCKET","ABS","ASCII","BIT_LENGTH","BTRIM","CHARACTER_LENGTH","CHAR_LENGTH","CHR","CONCAT","CONCAT_WS","FORMAT","INITCAP","LEFT","LENGTH","LOWER","LPAD","LTRIM","MD5","NORMALIZE","OCTET_LENGTH","OVERLAY","PARSE_IDENT","PG_CLIENT_ENCODING","POSITION","QUOTE_IDENT","QUOTE_LITERAL","QUOTE_NULLABLE","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REPEAT","REPLACE","REVERSE","RIGHT","RPAD","RTRIM","SPLIT_PART","SPRINTF","STARTS_WITH","STRING_AGG","STRING_TO_ARRAY","STRING_TO_TABLE","STRPOS","SUBSTR","SUBSTRING","TO_ASCII","TO_HEX","TRANSLATE","TRIM","UNISTR","UPPER","BIT_COUNT","BIT_LENGTH","BTRIM","CONVERT","CONVERT_FROM","CONVERT_TO","DECODE","ENCODE","GET_BIT","GET_BYTE","LENGTH","LTRIM","MD5","OCTET_LENGTH","OVERLAY","POSITION","RTRIM","SET_BIT","SET_BYTE","SHA224","SHA256","SHA384","SHA512","STRING_AGG","SUBSTR","SUBSTRING","TRIM","BIT_COUNT","BIT_LENGTH","GET_BIT","LENGTH","OCTET_LENGTH","OVERLAY","POSITION","SET_BIT","SUBSTRING","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","TO_CHAR","TO_DATE","TO_NUMBER","TO_TIMESTAMP","CLOCK_TIMESTAMP","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_BIN","DATE_PART","DATE_TRUNC","EXTRACT","ISFINITE","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","LOCALTIME","LOCALTIMESTAMP","MAKE_DATE","MAKE_INTERVAL","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","NOW","PG_SLEEP","PG_SLEEP_FOR","PG_SLEEP_UNTIL","STATEMENT_TIMESTAMP","TIMEOFDAY","TO_TIMESTAMP","TRANSACTION_TIMESTAMP","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","AREA","BOUND_BOX","BOX","CENTER","CIRCLE","DIAGONAL","DIAMETER","HEIGHT","ISCLOSED","ISOPEN","LENGTH","LINE","LSEG","NPOINTS","PATH","PCLOSE","POINT","POLYGON","POPEN","RADIUS","SLOPE","WIDTH","ABBREV","BROADCAST","FAMILY","HOST","HOSTMASK","INET_MERGE","INET_SAME_FAMILY","MACADDR8_SET7BIT","MASKLEN","NETMASK","NETWORK","SET_MASKLEN","TEXT","TRUNC","ARRAY_TO_TSVECTOR","GET_CURRENT_TS_CONFIG","JSONB_TO_TSVECTOR","JSON_TO_TSVECTOR","LENGTH","NUMNODE","PHRASETO_TSQUERY","PLAINTO_TSQUERY","QUERYTREE","SETWEIGHT","STRIP","TO_TSQUERY","TO_TSVECTOR","TSQUERY_PHRASE","TSVECTOR_TO_ARRAY","TS_DEBUG","TS_DELETE","TS_FILTER","TS_HEADLINE","TS_LEXIZE","TS_PARSE","TS_RANK","TS_RANK_CD","TS_REWRITE","TS_STAT","TS_TOKEN_TYPE","WEBSEARCH_TO_TSQUERY","UUID","CURSOR_TO_XML","CURSOR_TO_XMLSCHEMA","DATABASE_TO_XML","DATABASE_TO_XMLSCHEMA","DATABASE_TO_XML_AND_XMLSCHEMA","NEXTVAL","QUERY_TO_XML","QUERY_TO_XMLSCHEMA","QUERY_TO_XML_AND_XMLSCHEMA","SCHEMA_TO_XML","SCHEMA_TO_XMLSCHEMA","SCHEMA_TO_XML_AND_XMLSCHEMA","STRING","TABLE_TO_XML","TABLE_TO_XMLSCHEMA","TABLE_TO_XML_AND_XMLSCHEMA","XMLAGG","XMLCOMMENT","XMLCONCAT","XMLELEMENT","XMLEXISTS","XMLFOREST","XMLPARSE","XMLPI","XMLROOT","XMLSERIALIZE","XMLTABLE","XML_IS_WELL_FORMED","XML_IS_WELL_FORMED_CONTENT","XML_IS_WELL_FORMED_DOCUMENT","XPATH","XPATH_EXISTS","ARRAY_TO_JSON","JSONB_AGG","JSONB_ARRAY_ELEMENTS","JSONB_ARRAY_ELEMENTS_TEXT","JSONB_ARRAY_LENGTH","JSONB_BUILD_ARRAY","JSONB_BUILD_OBJECT","JSONB_EACH","JSONB_EACH_TEXT","JSONB_EXTRACT_PATH","JSONB_EXTRACT_PATH_TEXT","JSONB_INSERT","JSONB_OBJECT","JSONB_OBJECT_AGG","JSONB_OBJECT_KEYS","JSONB_PATH_EXISTS","JSONB_PATH_EXISTS_TZ","JSONB_PATH_MATCH","JSONB_PATH_MATCH_TZ","JSONB_PATH_QUERY","JSONB_PATH_QUERY_ARRAY","JSONB_PATH_QUERY_ARRAY_TZ","JSONB_PATH_QUERY_FIRST","JSONB_PATH_QUERY_FIRST_TZ","JSONB_PATH_QUERY_TZ","JSONB_POPULATE_RECORD","JSONB_POPULATE_RECORDSET","JSONB_PRETTY","JSONB_SET","JSONB_SET_LAX","JSONB_STRIP_NULLS","JSONB_TO_RECORD","JSONB_TO_RECORDSET","JSONB_TYPEOF","JSON_AGG","JSON_ARRAY_ELEMENTS","JSON_ARRAY_ELEMENTS_TEXT","JSON_ARRAY_LENGTH","JSON_BUILD_ARRAY","JSON_BUILD_OBJECT","JSON_EACH","JSON_EACH_TEXT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_OBJECT","JSON_OBJECT_AGG","JSON_OBJECT_KEYS","JSON_POPULATE_RECORD","JSON_POPULATE_RECORDSET","JSON_STRIP_NULLS","JSON_TO_RECORD","JSON_TO_RECORDSET","JSON_TYPEOF","ROW_TO_JSON","TO_JSON","TO_JSONB","TO_TIMESTAMP","CURRVAL","LASTVAL","NEXTVAL","SETVAL","COALESCE","GREATEST","LEAST","NULLIF","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_DIMS","ARRAY_FILL","ARRAY_LENGTH","ARRAY_LOWER","ARRAY_NDIMS","ARRAY_POSITION","ARRAY_POSITIONS","ARRAY_PREPEND","ARRAY_REMOVE","ARRAY_REPLACE","ARRAY_TO_STRING","ARRAY_UPPER","CARDINALITY","STRING_TO_ARRAY","TRIM_ARRAY","UNNEST","ISEMPTY","LOWER","LOWER_INC","LOWER_INF","MULTIRANGE","RANGE_MERGE","UPPER","UPPER_INC","UPPER_INF","ARRAY_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COALESCE","CORR","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","EVERY","GROUPING","JSONB_AGG","JSONB_OBJECT_AGG","JSON_AGG","JSON_OBJECT_AGG","MAX","MIN","MODE","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANGE_AGG","RANGE_INTERSECT_AGG","RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","TO_JSON","TO_JSONB","VARIANCE","VAR_POP","VAR_SAMP","XMLAGG","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","GENERATE_SERIES","GENERATE_SUBSCRIPTS","ACLDEFAULT","ACLEXPLODE","COL_DESCRIPTION","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","FORMAT_TYPE","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HAS_TYPE_PRIVILEGE","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","MAKEACLITEM","OBJ_DESCRIPTION","PG_BACKEND_PID","PG_BLOCKING_PIDS","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONTROL_CHECKPOINT","PG_CONTROL_INIT","PG_CONTROL_SYSTEM","PG_CONVERSION_IS_VISIBLE","PG_CURRENT_LOGFILE","PG_CURRENT_SNAPSHOT","PG_CURRENT_XACT_ID","PG_CURRENT_XACT_ID_IF_ASSIGNED","PG_DESCRIBE_OBJECT","PG_FUNCTION_IS_VISIBLE","PG_GET_CATALOG_FOREIGN_KEYS","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_FUNCTIONDEF","PG_GET_FUNCTION_ARGUMENTS","PG_GET_FUNCTION_IDENTITY_ARGUMENTS","PG_GET_FUNCTION_RESULT","PG_GET_INDEXDEF","PG_GET_KEYWORDS","PG_GET_OBJECT_ADDRESS","PG_GET_OWNED_SEQUENCE","PG_GET_RULEDEF","PG_GET_SERIAL_SEQUENCE","PG_GET_STATISTICSOBJDEF","PG_GET_TRIGGERDEF","PG_GET_USERBYID","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IDENTIFY_OBJECT","PG_IDENTIFY_OBJECT_AS_ADDRESS","PG_INDEXAM_HAS_PROPERTY","PG_INDEX_COLUMN_HAS_PROPERTY","PG_INDEX_HAS_PROPERTY","PG_IS_OTHER_TEMP_SCHEMA","PG_JIT_AVAILABLE","PG_LAST_COMMITTED_XACT","PG_LISTENING_CHANNELS","PG_MY_TEMP_SCHEMA","PG_NOTIFICATION_QUEUE_USAGE","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_OPTIONS_TO_TABLE","PG_POSTMASTER_START_TIME","PG_SAFE_SNAPSHOT_BLOCKING_PIDS","PG_SNAPSHOT_XIP","PG_SNAPSHOT_XMAX","PG_SNAPSHOT_XMIN","PG_STATISTICS_OBJ_IS_VISIBLE","PG_TABLESPACE_DATABASES","PG_TABLESPACE_LOCATION","PG_TABLE_IS_VISIBLE","PG_TRIGGER_DEPTH","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PG_VISIBLE_IN_SNAPSHOT","PG_XACT_COMMIT_TIMESTAMP","PG_XACT_COMMIT_TIMESTAMP_ORIGIN","PG_XACT_STATUS","PQSERVERVERSION","ROW_SECURITY_ACTIVE","SESSION_USER","SHOBJ_DESCRIPTION","TO_REGCLASS","TO_REGCOLLATION","TO_REGNAMESPACE","TO_REGOPER","TO_REGOPERATOR","TO_REGPROC","TO_REGPROCEDURE","TO_REGROLE","TO_REGTYPE","TXID_CURRENT","TXID_CURRENT_IF_ASSIGNED","TXID_CURRENT_SNAPSHOT","TXID_SNAPSHOT_XIP","TXID_SNAPSHOT_XMAX","TXID_SNAPSHOT_XMIN","TXID_STATUS","TXID_VISIBLE_IN_SNAPSHOT","USER","VERSION","BRIN_DESUMMARIZE_RANGE","BRIN_SUMMARIZE_NEW_VALUES","BRIN_SUMMARIZE_RANGE","CONVERT_FROM","CURRENT_SETTING","GIN_CLEAN_PENDING_LIST","PG_ADVISORY_LOCK","PG_ADVISORY_LOCK_SHARED","PG_ADVISORY_UNLOCK","PG_ADVISORY_UNLOCK_ALL","PG_ADVISORY_UNLOCK_SHARED","PG_ADVISORY_XACT_LOCK","PG_ADVISORY_XACT_LOCK_SHARED","PG_BACKUP_START_TIME","PG_CANCEL_BACKEND","PG_COLLATION_ACTUAL_VERSION","PG_COLUMN_COMPRESSION","PG_COLUMN_SIZE","PG_COPY_LOGICAL_REPLICATION_SLOT","PG_COPY_PHYSICAL_REPLICATION_SLOT","PG_CREATE_LOGICAL_REPLICATION_SLOT","PG_CREATE_PHYSICAL_REPLICATION_SLOT","PG_CREATE_RESTORE_POINT","PG_CURRENT_WAL_FLUSH_LSN","PG_CURRENT_WAL_INSERT_LSN","PG_CURRENT_WAL_LSN","PG_DATABASE_SIZE","PG_DROP_REPLICATION_SLOT","PG_EXPORT_SNAPSHOT","PG_FILENODE_RELATION","PG_GET_WAL_REPLAY_PAUSE_STATE","PG_IMPORT_SYSTEM_COLLATIONS","PG_INDEXES_SIZE","PG_IS_IN_BACKUP","PG_IS_IN_RECOVERY","PG_IS_WAL_REPLAY_PAUSED","PG_LAST_WAL_RECEIVE_LSN","PG_LAST_WAL_REPLAY_LSN","PG_LAST_XACT_REPLAY_TIMESTAMP","PG_LOGICAL_EMIT_MESSAGE","PG_LOGICAL_SLOT_GET_BINARY_CHANGES","PG_LOGICAL_SLOT_GET_CHANGES","PG_LOGICAL_SLOT_PEEK_BINARY_CHANGES","PG_LOGICAL_SLOT_PEEK_CHANGES","PG_LOG_BACKEND_MEMORY_CONTEXTS","PG_LS_ARCHIVE_STATUSDIR","PG_LS_DIR","PG_LS_LOGDIR","PG_LS_TMPDIR","PG_LS_WALDIR","PG_PARTITION_ANCESTORS","PG_PARTITION_ROOT","PG_PARTITION_TREE","PG_PROMOTE","PG_READ_BINARY_FILE","PG_READ_FILE","PG_RELATION_FILENODE","PG_RELATION_FILEPATH","PG_RELATION_SIZE","PG_RELOAD_CONF","PG_REPLICATION_ORIGIN_ADVANCE","PG_REPLICATION_ORIGIN_CREATE","PG_REPLICATION_ORIGIN_DROP","PG_REPLICATION_ORIGIN_OID","PG_REPLICATION_ORIGIN_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_IS_SETUP","PG_REPLICATION_ORIGIN_SESSION_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_RESET","PG_REPLICATION_ORIGIN_SESSION_SETUP","PG_REPLICATION_ORIGIN_XACT_RESET","PG_REPLICATION_ORIGIN_XACT_SETUP","PG_REPLICATION_SLOT_ADVANCE","PG_ROTATE_LOGFILE","PG_SIZE_BYTES","PG_SIZE_PRETTY","PG_START_BACKUP","PG_STAT_FILE","PG_STOP_BACKUP","PG_SWITCH_WAL","PG_TABLESPACE_SIZE","PG_TABLE_SIZE","PG_TERMINATE_BACKEND","PG_TOTAL_RELATION_SIZE","PG_TRY_ADVISORY_LOCK","PG_TRY_ADVISORY_LOCK_SHARED","PG_TRY_ADVISORY_XACT_LOCK","PG_TRY_ADVISORY_XACT_LOCK_SHARED","PG_WALFILE_NAME","PG_WALFILE_NAME_OFFSET","PG_WAL_LSN_DIFF","PG_WAL_REPLAY_PAUSE","PG_WAL_REPLAY_RESUME","SET_CONFIG","SUPPRESS_REDUNDANT_UPDATES_TRIGGER","TSVECTOR_UPDATE_TRIGGER","TSVECTOR_UPDATE_TRIGGER_COLUMN","PG_EVENT_TRIGGER_DDL_COMMANDS","PG_EVENT_TRIGGER_DROPPED_OBJECTS","PG_EVENT_TRIGGER_TABLE_REWRITE_OID","PG_EVENT_TRIGGER_TABLE_REWRITE_REASON","PG_GET_OBJECT_ADDRESS","PG_MCV_LIST_ITEMS","CAST"],tn=["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ASYMMETRIC","AUTHORIZATION","BETWEEN","BINARY","BOTH","CASE","CAST","CHECK","COLLATE","COLLATION","COLUMN","CONCURRENTLY","CONSTRAINT","CREATE","CROSS","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DAY","DEFAULT","DEFERRABLE","DESC","DISTINCT","DO","ELSE","END","EXCEPT","EXISTS","FALSE","FETCH","FILTER","FOR","FOREIGN","FREEZE","FROM","FULL","GRANT","GROUP","HAVING","HOUR","ILIKE","IN","INITIALLY","INNER","INOUT","INTERSECT","INTO","IS","ISNULL","JOIN","LATERAL","LEADING","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","MINUTE","MONTH","NATURAL","NOT","NOTNULL","NULL","NULLIF","OFFSET","ON","ONLY","OR","ORDER","OUT","OUTER","OVER","OVERLAPS","PLACING","PRIMARY","REFERENCES","RETURNING","RIGHT","ROW","SECOND","SELECT","SESSION_USER","SIMILAR","SOME","SYMMETRIC","TABLE","TABLESAMPLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","USER","USING","VALUES","VARIADIC","VERBOSE","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","YEAR"],Ji=["ARRAY","BIGINT","BIT","BIT VARYING","BOOL","BOOLEAN","CHAR","CHARACTER","CHARACTER VARYING","DECIMAL","DEC","DOUBLE","ENUM","FLOAT","INT","INTEGER","INTERVAL","NCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TIMESTAMPTZ","VARCHAR","XML","ZONE"],Cn=a(["SELECT [ALL | DISTINCT]"]),Tn=a(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR {UPDATE | NO KEY UPDATE | SHARE | KEY SHARE} [OF]","INSERT INTO","VALUES","SET","RETURNING"]),Wn=a(["CREATE [GLOBAL | LOCAL] [TEMPORARY | TEMP | UNLOGGED] TABLE [IF NOT EXISTS]"]),qn=a(["CREATE [OR REPLACE] [TEMP | TEMPORARY] [RECURSIVE] VIEW","CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE [ONLY]","WHERE CURRENT OF","ON CONFLICT","DELETE FROM [ONLY]","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS] [ONLY]","ALTER TABLE ALL IN TABLESPACE","RENAME [COLUMN]","RENAME TO","ADD [COLUMN] [IF NOT EXISTS]","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","SET DATA TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","TRUNCATE [TABLE] [ONLY]","SET SCHEMA","AFTER","ABORT","ALTER AGGREGATE","ALTER COLLATION","ALTER CONVERSION","ALTER DATABASE","ALTER DEFAULT PRIVILEGES","ALTER DOMAIN","ALTER EVENT TRIGGER","ALTER EXTENSION","ALTER FOREIGN DATA WRAPPER","ALTER FOREIGN TABLE","ALTER FUNCTION","ALTER GROUP","ALTER INDEX","ALTER LANGUAGE","ALTER LARGE OBJECT","ALTER MATERIALIZED VIEW","ALTER OPERATOR","ALTER OPERATOR CLASS","ALTER OPERATOR FAMILY","ALTER POLICY","ALTER PROCEDURE","ALTER PUBLICATION","ALTER ROLE","ALTER ROUTINE","ALTER RULE","ALTER SCHEMA","ALTER SEQUENCE","ALTER SERVER","ALTER STATISTICS","ALTER SUBSCRIPTION","ALTER SYSTEM","ALTER TABLESPACE","ALTER TEXT SEARCH CONFIGURATION","ALTER TEXT SEARCH DICTIONARY","ALTER TEXT SEARCH PARSER","ALTER TEXT SEARCH TEMPLATE","ALTER TRIGGER","ALTER TYPE","ALTER USER","ALTER USER MAPPING","ALTER VIEW","ANALYZE","BEGIN","CALL","CHECKPOINT","CLOSE","CLUSTER","COMMIT","COMMIT PREPARED","COPY","CREATE ACCESS METHOD","CREATE AGGREGATE","CREATE CAST","CREATE COLLATION","CREATE CONVERSION","CREATE DATABASE","CREATE DOMAIN","CREATE EVENT TRIGGER","CREATE EXTENSION","CREATE FOREIGN DATA WRAPPER","CREATE FOREIGN TABLE","CREATE FUNCTION","CREATE GROUP","CREATE INDEX","CREATE LANGUAGE","CREATE OPERATOR","CREATE OPERATOR CLASS","CREATE OPERATOR FAMILY","CREATE POLICY","CREATE PROCEDURE","CREATE PUBLICATION","CREATE ROLE","CREATE RULE","CREATE SCHEMA","CREATE SEQUENCE","CREATE SERVER","CREATE STATISTICS","CREATE SUBSCRIPTION","CREATE TABLESPACE","CREATE TEXT SEARCH CONFIGURATION","CREATE TEXT SEARCH DICTIONARY","CREATE TEXT SEARCH PARSER","CREATE TEXT SEARCH TEMPLATE","CREATE TRANSFORM","CREATE TRIGGER","CREATE TYPE","CREATE USER","CREATE USER MAPPING","DEALLOCATE","DECLARE","DISCARD","DROP ACCESS METHOD","DROP AGGREGATE","DROP CAST","DROP COLLATION","DROP CONVERSION","DROP DATABASE","DROP DOMAIN","DROP EVENT TRIGGER","DROP EXTENSION","DROP FOREIGN DATA WRAPPER","DROP FOREIGN TABLE","DROP FUNCTION","DROP GROUP","DROP INDEX","DROP LANGUAGE","DROP MATERIALIZED VIEW","DROP OPERATOR","DROP OPERATOR CLASS","DROP OPERATOR FAMILY","DROP OWNED","DROP POLICY","DROP PROCEDURE","DROP PUBLICATION","DROP ROLE","DROP ROUTINE","DROP RULE","DROP SCHEMA","DROP SEQUENCE","DROP SERVER","DROP STATISTICS","DROP SUBSCRIPTION","DROP TABLESPACE","DROP TEXT SEARCH CONFIGURATION","DROP TEXT SEARCH DICTIONARY","DROP TEXT SEARCH PARSER","DROP TEXT SEARCH TEMPLATE","DROP TRANSFORM","DROP TRIGGER","DROP TYPE","DROP USER","DROP USER MAPPING","DROP VIEW","EXECUTE","EXPLAIN","FETCH","GRANT","IMPORT FOREIGN SCHEMA","LISTEN","LOAD","LOCK","MOVE","NOTIFY","PREPARE","PREPARE TRANSACTION","REASSIGN OWNED","REFRESH MATERIALIZED VIEW","REINDEX","RELEASE SAVEPOINT","RESET","REVOKE","ROLLBACK","ROLLBACK PREPARED","ROLLBACK TO SAVEPOINT","SAVEPOINT","SECURITY LABEL","SELECT INTO","SET CONSTRAINTS","SET ROLE","SET SESSION AUTHORIZATION","SET TRANSACTION","SHOW","START TRANSACTION","UNLISTEN","VACUUM"]),ln=a(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),Gn=a(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),Kn=a(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE | GROUPS} BETWEEN","[TIMESTAMP | TIME] {WITH | WITHOUT} TIME ZONE","IS [NOT] DISTINCT FROM"]),ro={name:"postgresql",tokenizerOptions:{reservedSelect:Cn,reservedClauses:[...Tn,...Wn,...qn],reservedSetOperations:ln,reservedJoins:Gn,reservedPhrases:Kn,reservedKeywords:tn,reservedDataTypes:Ji,reservedFunctionNames:Vi,nestedBlockComments:!0,extraParens:["[]"],stringTypes:["$$",{quote:"''-qq",prefixes:["U&"]},{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:[{quote:'""-qq',prefixes:["U&"]}],identChars:{rest:"$"},paramTypes:{numbered:["$"]},operators:["%","^","|/","||/","@",":=","&","|","#","~","<<",">>","~>~","~<~","~>=~","~<=~","@-@","@@","##","<->","&&","&<","&>","<<|","&<|","|>>","|&>","<^","^>","?#","?-","?|","?-|","?||","@>","<@","~=","?","@?","?&","->","->>","#>","#>>","#-","=>",">>=","<<=","~~","~~*","!~~","!~~*","~","~*","!~","!~*","-|-","||","@@@","!!","<%","%>","<<%","%>>","<<->","<->>","<<<->","<->>>","::",":"]},formatOptions:{alwaysDenseOperators:["::",":"],onelineClauses:[...Wn,...qn],tabularOnelineClauses:qn}},as=["ANY_VALUE","APPROXIMATE PERCENTILE_DISC","AVG","COUNT","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","array","array_concat","array_flatten","get_array_length","split_to_array","subarray","BIT_AND","BIT_OR","BOOL_AND","BOOL_OR","COALESCE","DECODE","GREATEST","LEAST","NVL","NVL2","NULLIF","ADD_MONTHS","AT TIME ZONE","CONVERT_TIMEZONE","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_CMP","DATE_CMP_TIMESTAMP","DATE_CMP_TIMESTAMPTZ","DATE_PART_YEAR","DATEADD","DATEDIFF","DATE_PART","DATE_TRUNC","EXTRACT","GETDATE","INTERVAL_CMP","LAST_DAY","MONTHS_BETWEEN","NEXT_DAY","SYSDATE","TIMEOFDAY","TIMESTAMP_CMP","TIMESTAMP_CMP_DATE","TIMESTAMP_CMP_TIMESTAMPTZ","TIMESTAMPTZ_CMP","TIMESTAMPTZ_CMP_DATE","TIMESTAMPTZ_CMP_TIMESTAMP","TIMEZONE","TO_TIMESTAMP","TRUNC","AddBBox","DropBBox","GeometryType","ST_AddPoint","ST_Angle","ST_Area","ST_AsBinary","ST_AsEWKB","ST_AsEWKT","ST_AsGeoJSON","ST_AsText","ST_Azimuth","ST_Boundary","ST_Collect","ST_Contains","ST_ContainsProperly","ST_ConvexHull","ST_CoveredBy","ST_Covers","ST_Crosses","ST_Dimension","ST_Disjoint","ST_Distance","ST_DistanceSphere","ST_DWithin","ST_EndPoint","ST_Envelope","ST_Equals","ST_ExteriorRing","ST_Force2D","ST_Force3D","ST_Force3DM","ST_Force3DZ","ST_Force4D","ST_GeometryN","ST_GeometryType","ST_GeomFromEWKB","ST_GeomFromEWKT","ST_GeomFromText","ST_GeomFromWKB","ST_InteriorRingN","ST_Intersects","ST_IsPolygonCCW","ST_IsPolygonCW","ST_IsClosed","ST_IsCollection","ST_IsEmpty","ST_IsSimple","ST_IsValid","ST_Length","ST_LengthSphere","ST_Length2D","ST_LineFromMultiPoint","ST_LineInterpolatePoint","ST_M","ST_MakeEnvelope","ST_MakeLine","ST_MakePoint","ST_MakePolygon","ST_MemSize","ST_MMax","ST_MMin","ST_Multi","ST_NDims","ST_NPoints","ST_NRings","ST_NumGeometries","ST_NumInteriorRings","ST_NumPoints","ST_Perimeter","ST_Perimeter2D","ST_Point","ST_PointN","ST_Points","ST_Polygon","ST_RemovePoint","ST_Reverse","ST_SetPoint","ST_SetSRID","ST_Simplify","ST_SRID","ST_StartPoint","ST_Touches","ST_Within","ST_X","ST_XMax","ST_XMin","ST_Y","ST_YMax","ST_YMin","ST_Z","ST_ZMax","ST_ZMin","SupportsBBox","CHECKSUM","FUNC_SHA1","FNV_HASH","MD5","SHA","SHA1","SHA2","HLL","HLL_CREATE_SKETCH","HLL_CARDINALITY","HLL_COMBINE","IS_VALID_JSON","IS_VALID_JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_EXTRACT_ARRAY_ELEMENT_TEXT","JSON_EXTRACT_PATH_TEXT","JSON_PARSE","JSON_SERIALIZE","ABS","ACOS","ASIN","ATAN","ATAN2","CBRT","CEILING","CEIL","COS","COT","DEGREES","DEXP","DLOG1","DLOG10","EXP","FLOOR","LN","LOG","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SIN","SIGN","SQRT","TAN","TO_HEX","TRUNC","EXPLAIN_MODEL","ASCII","BPCHARCMP","BTRIM","BTTEXT_PATTERN_CMP","CHAR_LENGTH","CHARACTER_LENGTH","CHARINDEX","CHR","COLLATE","CONCAT","CRC32","DIFFERENCE","INITCAP","LEFT","RIGHT","LEN","LENGTH","LOWER","LPAD","RPAD","LTRIM","OCTETINDEX","OCTET_LENGTH","POSITION","QUOTE_IDENT","QUOTE_LITERAL","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","REPLICATE","REVERSE","RTRIM","SOUNDEX","SPLIT_PART","STRPOS","STRTOL","SUBSTRING","TEXTLEN","TRANSLATE","TRIM","UPPER","decimal_precision","decimal_scale","is_array","is_bigint","is_boolean","is_char","is_decimal","is_float","is_integer","is_object","is_scalar","is_smallint","is_varchar","json_typeof","AVG","COUNT","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAST_VALUE","LAG","LEAD","LISTAGG","MAX","MEDIAN","MIN","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","CAST","CONVERT","TO_CHAR","TO_DATE","TO_NUMBER","TEXT_TO_INT_ALT","TEXT_TO_NUMERIC_ALT","CHANGE_QUERY_PRIORITY","CHANGE_SESSION_PRIORITY","CHANGE_USER_PRIORITY","CURRENT_SETTING","PG_CANCEL_BACKEND","PG_TERMINATE_BACKEND","REBOOT_CLUSTER","SET_CONFIG","CURRENT_AWS_ACCOUNT","CURRENT_DATABASE","CURRENT_NAMESPACE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","CURRENT_USER_ID","HAS_ASSUMEROLE_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_TABLE_PRIVILEGE","PG_BACKEND_PID","PG_GET_COLS","PG_GET_GRANTEE_BY_IAM_ROLE","PG_GET_IAM_ROLE_BY_USER","PG_GET_LATE_BINDING_VIEW_COLS","PG_LAST_COPY_COUNT","PG_LAST_COPY_ID","PG_LAST_UNLOAD_ID","PG_LAST_QUERY_ID","PG_LAST_UNLOAD_COUNT","SESSION_USER","SLICE_NUM","USER","VERSION"],Zi=["AES128","AES256","ALL","ALLOWOVERWRITE","ANY","AS","ASC","AUTHORIZATION","BACKUP","BETWEEN","BINARY","BOTH","CHECK","COLUMN","CONSTRAINT","CREATE","CROSS","DEFAULT","DEFERRABLE","DEFLATE","DEFRAG","DESC","DISABLE","DISTINCT","DO","ENABLE","ENCODE","ENCRYPT","ENCRYPTION","EXPLICIT","FALSE","FOR","FOREIGN","FREEZE","FROM","FULL","GLOBALDICT256","GLOBALDICT64K","GROUP","IDENTITY","IGNORE","ILIKE","IN","INITIALLY","INNER","INTO","IS","ISNULL","LANGUAGE","LEADING","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","LUN","LUNS","MINUS","NATURAL","NEW","NOT","NOTNULL","NULL","NULLS","OFF","OFFLINE","OFFSET","OID","OLD","ON","ONLY","OPEN","ORDER","OUTER","OVERLAPS","PARALLEL","PARTITION","PERCENT","PERMISSIONS","PLACING","PRIMARY","RECOVER","REFERENCES","REJECTLOG","RESORT","RESPECT","RESTORE","SIMILAR","SNAPSHOT","SOME","SYSTEM","TABLE","TAG","TDES","THEN","TIMESTAMP","TO","TOP","TRAILING","TRUE","UNIQUE","USING","VERBOSE","WALLET","WITHOUT","ACCEPTANYDATE","ACCEPTINVCHARS","BLANKSASNULL","DATEFORMAT","EMPTYASNULL","ENCODING","ESCAPE","EXPLICIT_IDS","FILLRECORD","IGNOREBLANKLINES","IGNOREHEADER","REMOVEQUOTES","ROUNDEC","TIMEFORMAT","TRIMBLANKS","TRUNCATECOLUMNS","COMPROWS","COMPUPDATE","MAXERROR","NOLOAD","STATUPDATE","FORMAT","CSV","DELIMITER","FIXEDWIDTH","SHAPEFILE","AVRO","JSON","PARQUET","ORC","ACCESS_KEY_ID","CREDENTIALS","ENCRYPTED","IAM_ROLE","MASTER_SYMMETRIC_KEY","SECRET_ACCESS_KEY","SESSION_TOKEN","BZIP2","GZIP","LZOP","ZSTD","MANIFEST","READRATIO","REGION","SSH","RAW","AZ64","BYTEDICT","DELTA","DELTA32K","LZO","MOSTLY8","MOSTLY16","MOSTLY32","RUNLENGTH","TEXT255","TEXT32K","CATALOG_ROLE","SECRET_ARN","EXTERNAL","AUTO","EVEN","KEY","PREDICATE","COMPRESSION"],cn=["ARRAY","BIGINT","BPCHAR","CHAR","CHARACTER VARYING","CHARACTER","DECIMAL","INT","INT2","INT4","INT8","INTEGER","NCHAR","NUMERIC","NVARCHAR","SMALLINT","TEXT","VARBYTE","VARCHAR"],pn=a(["SELECT [ALL | DISTINCT]"]),rn=a(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET"]),Xn=a(["CREATE [TEMPORARY | TEMP | LOCAL TEMPORARY | LOCAL TEMP] TABLE [IF NOT EXISTS]"]),Is=a(["CREATE [OR REPLACE | MATERIALIZED] VIEW","UPDATE","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ALTER TABLE APPEND","ADD [COLUMN]","DROP [COLUMN]","RENAME TO","RENAME COLUMN","ALTER COLUMN","TYPE","ENCODE","TRUNCATE [TABLE]","ABORT","ALTER DATABASE","ALTER DATASHARE","ALTER DEFAULT PRIVILEGES","ALTER GROUP","ALTER MATERIALIZED VIEW","ALTER PROCEDURE","ALTER SCHEMA","ALTER USER","ANALYSE","ANALYZE","ANALYSE COMPRESSION","ANALYZE COMPRESSION","BEGIN","CALL","CANCEL","CLOSE","COMMIT","COPY","CREATE DATABASE","CREATE DATASHARE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL SCHEMA","CREATE EXTERNAL TABLE","CREATE FUNCTION","CREATE GROUP","CREATE LIBRARY","CREATE MODEL","CREATE PROCEDURE","CREATE SCHEMA","CREATE USER","DEALLOCATE","DECLARE","DESC DATASHARE","DROP DATABASE","DROP DATASHARE","DROP FUNCTION","DROP GROUP","DROP LIBRARY","DROP MODEL","DROP MATERIALIZED VIEW","DROP PROCEDURE","DROP SCHEMA","DROP USER","DROP VIEW","DROP","EXECUTE","EXPLAIN","FETCH","GRANT","LOCK","PREPARE","REFRESH MATERIALIZED VIEW","RESET","REVOKE","ROLLBACK","SELECT INTO","SET SESSION AUTHORIZATION","SET SESSION CHARACTERISTICS","SHOW","SHOW EXTERNAL TABLE","SHOW MODEL","SHOW DATASHARES","SHOW PROCEDURE","SHOW TABLE","SHOW VIEW","START TRANSACTION","UNLOAD","VACUUM"]),hn=a(["UNION [ALL]","EXCEPT","INTERSECT","MINUS"]),us=a(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),Rs=a(["NULL AS","DATA CATALOG","HIVE METASTORE","{ROWS | RANGE} BETWEEN"]),ts={name:"redshift",tokenizerOptions:{reservedSelect:pn,reservedClauses:[...rn,...Xn,...Is],reservedSetOperations:hn,reservedJoins:us,reservedPhrases:Rs,reservedKeywords:Zi,reservedDataTypes:cn,reservedFunctionNames:as,stringTypes:["''-qq"],identTypes:['""-qq'],identChars:{first:"#"},paramTypes:{numbered:["$"]},operators:["^","%","@","|/","||/","&","|","~","<<",">>","||","::"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...Xn,...Is],tabularOnelineClauses:Is}},ls=["ADD","AFTER","ALL","ALTER","ANALYZE","AND","ANTI","ANY","ARCHIVE","AS","ASC","AT","AUTHORIZATION","BETWEEN","BOTH","BUCKET","BUCKETS","BY","CACHE","CASCADE","CAST","CHANGE","CHECK","CLEAR","CLUSTER","CLUSTERED","CODEGEN","COLLATE","COLLECTION","COLUMN","COLUMNS","COMMENT","COMMIT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONSTRAINT","COST","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATA","DATABASE","DATABASES","DAY","DBPROPERTIES","DEFINED","DELETE","DELIMITED","DESC","DESCRIBE","DFS","DIRECTORIES","DIRECTORY","DISTINCT","DISTRIBUTE","DIV","DROP","ESCAPE","ESCAPED","EXCEPT","EXCHANGE","EXISTS","EXPORT","EXTENDED","EXTERNAL","EXTRACT","FALSE","FETCH","FIELDS","FILTER","FILEFORMAT","FIRST","FIRST_VALUE","FOLLOWING","FOR","FOREIGN","FORMAT","FORMATTED","FULL","FUNCTION","FUNCTIONS","GLOBAL","GRANT","GROUP","GROUPING","HOUR","IF","IGNORE","IMPORT","IN","INDEX","INDEXES","INNER","INPATH","INPUTFORMAT","INTERSECT","INTO","IS","ITEMS","KEYS","LAST","LAST_VALUE","LATERAL","LAZY","LEADING","LEFT","LIKE","LINES","LIST","LOCAL","LOCATION","LOCK","LOCKS","LOGICAL","MACRO","MATCHED","MERGE","MINUTE","MONTH","MSCK","NAMESPACE","NAMESPACES","NATURAL","NO","NOT","NULL","NULLS","OF","ONLY","OPTION","OPTIONS","OR","ORDER","OUT","OUTER","OUTPUTFORMAT","OVER","OVERLAPS","OVERLAY","OVERWRITE","OWNER","PARTITION","PARTITIONED","PARTITIONS","PERCENT","PLACING","POSITION","PRECEDING","PRIMARY","PRINCIPALS","PROPERTIES","PURGE","QUERY","RANGE","RECORDREADER","RECORDWRITER","RECOVER","REDUCE","REFERENCES","RENAME","REPAIR","REPLACE","RESPECT","RESTRICT","REVOKE","RIGHT","RLIKE","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","SCHEMA","SECOND","SELECT","SEMI","SEPARATED","SERDE","SERDEPROPERTIES","SESSION_USER","SETS","SHOW","SKEWED","SOME","SORT","SORTED","START","STATISTICS","STORED","STRATIFY","SUBSTR","SUBSTRING","TABLE","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","THEN","TO","TOUCH","TRAILING","TRANSACTION","TRANSACTIONS","TRIM","TRUE","TRUNCATE","UNARCHIVE","UNBOUNDED","UNCACHE","UNIQUE","UNKNOWN","UNLOCK","UNSET","USE","USER","USING","VIEW","WINDOW","YEAR","ANALYSE","ARRAY_ZIP","COALESCE","CONTAINS","CONVERT","DAYS","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DECODE","DEFAULT","DISTINCTROW","ENCODE","EXPLODE","EXPLODE_OUTER","FIXED","GREATEST","GROUP_CONCAT","HOURS","HOUR_MINUTE","HOUR_SECOND","IFNULL","LEAST","LEVEL","MINUTE_SECOND","NULLIF","OFFSET","ON","OPTIMIZE","REGEXP","SEPARATOR","SIZE","TYPE","TYPES","UNSIGNED","VARIABLES","YEAR_MONTH"],ms=["ARRAY","BIGINT","BINARY","BOOLEAN","BYTE","CHAR","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","LONG","MAP","NUMERIC","REAL","SHORT","SMALLINT","STRING","STRUCT","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TINYINT","VARCHAR"],qi=["APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COUNT","COUNT","COUNT_IF","COUNT_MIN_SKETCH","COVAR_POP","COVAR_SAMP","EVERY","FIRST","FIRST_VALUE","GROUPING","GROUPING_ID","KURTOSIS","LAST","LAST_VALUE","MAX","MAX_BY","MEAN","MIN","MIN_BY","PERCENTILE","PERCENTILE","PERCENTILE_APPROX","SKEWNESS","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","CUME_DIST","DENSE_RANK","LAG","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","ARRAY","ARRAY_CONTAINS","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_UNION","ARRAYS_OVERLAP","ARRAYS_ZIP","FLATTEN","SEQUENCE","SHUFFLE","SLICE","SORT_ARRAY","ELEMENT_AT","ELEMENT_AT","MAP_CONCAT","MAP_ENTRIES","MAP_FROM_ARRAYS","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","STR_TO_MAP","ADD_MONTHS","CURRENT_DATE","CURRENT_DATE","CURRENT_TIMESTAMP","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","DATE_ADD","DATE_FORMAT","DATE_FROM_UNIX_DATE","DATE_PART","DATE_SUB","DATE_TRUNC","DATEDIFF","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MAKE_DATE","MAKE_DT_INTERVAL","MAKE_INTERVAL","MAKE_TIMESTAMP","MAKE_YM_INTERVAL","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","NOW","QUARTER","SECOND","SESSION_WINDOW","TIMESTAMP_MICROS","TIMESTAMP_MILLIS","TIMESTAMP_SECONDS","TO_DATE","TO_TIMESTAMP","TO_UNIX_TIMESTAMP","TO_UTC_TIMESTAMP","TRUNC","UNIX_DATE","UNIX_MICROS","UNIX_MILLIS","UNIX_SECONDS","UNIX_TIMESTAMP","WEEKDAY","WEEKOFYEAR","WINDOW","YEAR","FROM_JSON","GET_JSON_OBJECT","JSON_ARRAY_LENGTH","JSON_OBJECT_KEYS","JSON_TUPLE","SCHEMA_OF_JSON","TO_JSON","ABS","ACOS","ACOSH","AGGREGATE","ARRAY_SORT","ASCII","ASIN","ASINH","ASSERT_TRUE","ATAN","ATAN2","ATANH","BASE64","BIN","BIT_COUNT","BIT_GET","BIT_LENGTH","BROUND","BTRIM","CARDINALITY","CBRT","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONV","COS","COSH","COT","CRC32","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_USER","DEGREES","ELT","EXP","EXPM1","FACTORIAL","FIND_IN_SET","FLOOR","FORALL","FORMAT_NUMBER","FORMAT_STRING","FROM_CSV","GETBIT","HASH","HEX","HYPOT","INITCAP","INLINE","INLINE_OUTER","INPUT_FILE_BLOCK_LENGTH","INPUT_FILE_BLOCK_START","INPUT_FILE_NAME","INSTR","ISNAN","ISNOTNULL","ISNULL","JAVA_METHOD","LCASE","LEFT","LENGTH","LEVENSHTEIN","LN","LOCATE","LOG","LOG10","LOG1P","LOG2","LOWER","LPAD","LTRIM","MAP_FILTER","MAP_ZIP_WITH","MD5","MOD","MONOTONICALLY_INCREASING_ID","NAMED_STRUCT","NANVL","NEGATIVE","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARSE_URL","PI","PMOD","POSEXPLODE","POSEXPLODE_OUTER","POSITION","POSITIVE","POW","POWER","PRINTF","RADIANS","RAISE_ERROR","RAND","RANDN","RANDOM","REFLECT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_REPLACE","REPEAT","REPLACE","REVERSE","RIGHT","RINT","ROUND","RPAD","RTRIM","SCHEMA_OF_CSV","SENTENCES","SHA","SHA1","SHA2","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIGNUM","SIN","SINH","SOUNDEX","SPACE","SPARK_PARTITION_ID","SPLIT","SQRT","STACK","SUBSTR","SUBSTRING","SUBSTRING_INDEX","TAN","TANH","TO_CSV","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRY_ADD","TRY_DIVIDE","TYPEOF","UCASE","UNBASE64","UNHEX","UPPER","UUID","VERSION","WIDTH_BUCKET","XPATH","XPATH_BOOLEAN","XPATH_DOUBLE","XPATH_FLOAT","XPATH_INT","XPATH_LONG","XPATH_NUMBER","XPATH_SHORT","XPATH_STRING","XXHASH64","ZIP_WITH","CAST","COALESCE","NULLIF"],Ss=a(["SELECT [ALL | DISTINCT]"]),Gs=a(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT [INTO | OVERWRITE] [TABLE]","VALUES","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),Eo=a(["CREATE [EXTERNAL] TABLE [IF NOT EXISTS]"]),Ys=a(["CREATE [OR REPLACE] [GLOBAL TEMPORARY | TEMPORARY] VIEW [IF NOT EXISTS]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD COLUMNS","DROP {COLUMN | COLUMNS}","RENAME TO","RENAME COLUMN","ALTER COLUMN","TRUNCATE TABLE","LATERAL VIEW","ALTER DATABASE","ALTER VIEW","CREATE DATABASE","CREATE FUNCTION","DROP DATABASE","DROP FUNCTION","DROP VIEW","REPAIR TABLE","USE DATABASE","TABLESAMPLE","PIVOT","TRANSFORM","EXPLAIN","ADD FILE","ADD JAR","ANALYZE TABLE","CACHE TABLE","CLEAR CACHE","DESCRIBE DATABASE","DESCRIBE FUNCTION","DESCRIBE QUERY","DESCRIBE TABLE","LIST FILE","LIST JAR","REFRESH","REFRESH TABLE","REFRESH FUNCTION","RESET","SHOW COLUMNS","SHOW CREATE TABLE","SHOW DATABASES","SHOW FUNCTIONS","SHOW PARTITIONS","SHOW TABLE EXTENDED","SHOW TABLES","SHOW TBLPROPERTIES","SHOW VIEWS","UNCACHE TABLE"]),vs=a(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),Fs=a(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT] {ANTI | SEMI} JOIN","NATURAL [LEFT] {ANTI | SEMI} JOIN"]),Ws=a(["ON DELETE","ON UPDATE","CURRENT ROW","{ROWS | RANGE} BETWEEN"]),Ns={name:"spark",tokenizerOptions:{reservedSelect:Ss,reservedClauses:[...Gs,...Eo,...Ys],reservedSetOperations:vs,reservedJoins:Fs,reservedPhrases:Ws,supportsXor:!0,reservedKeywords:ls,reservedDataTypes:ms,reservedFunctionNames:qi,extraParens:["[]"],stringTypes:["''-bs",'""-bs',{quote:"''-raw",prefixes:["R","X"],requirePrefix:!0},{quote:'""-raw',prefixes:["R","X"],requirePrefix:!0}],identTypes:["``"],variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||","->"],postProcess:fo},formatOptions:{onelineClauses:[...Eo,...Ys],tabularOnelineClauses:Ys}};function fo(Me){return Me.map((nt,oi)=>{const Yi=Me[oi-1]||se,is=Me[oi+1]||se;return he.WINDOW(nt)&&is.type==="OPEN_PAREN"?b(y({},nt),{type:"RESERVED_FUNCTION_NAME"}):nt.text==="ITEMS"&&nt.type==="RESERVED_KEYWORD"&&!(Yi.text==="COLLECTION"&&is.text==="TERMINATED")?b(y({},nt),{type:"IDENTIFIER",text:nt.raw}):nt})}var ao=["ABS","CHANGES","CHAR","COALESCE","FORMAT","GLOB","HEX","IFNULL","IIF","INSTR","LAST_INSERT_ROWID","LENGTH","LIKE","LIKELIHOOD","LIKELY","LOAD_EXTENSION","LOWER","LTRIM","NULLIF","PRINTF","QUOTE","RANDOM","RANDOMBLOB","REPLACE","ROUND","RTRIM","SIGN","SOUNDEX","SQLITE_COMPILEOPTION_GET","SQLITE_COMPILEOPTION_USED","SQLITE_OFFSET","SQLITE_SOURCE_ID","SQLITE_VERSION","SUBSTR","SUBSTRING","TOTAL_CHANGES","TRIM","TYPEOF","UNICODE","UNLIKELY","UPPER","ZEROBLOB","AVG","COUNT","GROUP_CONCAT","MAX","MIN","SUM","TOTAL","DATE","TIME","DATETIME","JULIANDAY","UNIXEPOCH","STRFTIME","row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","ACOS","ACOSH","ASIN","ASINH","ATAN","ATAN2","ATANH","CEIL","CEILING","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG","LOG10","LOG2","MOD","PI","POW","POWER","RADIANS","SIN","SINH","SQRT","TAN","TANH","TRUNC","JSON","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_ARRAY_LENGTH","JSON_EXTRACT","JSON_INSERT","JSON_OBJECT","JSON_PATCH","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_TYPE","JSON_TYPE","JSON_VALID","JSON_QUOTE","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_EACH","JSON_TREE","CAST"],ri=["ABORT","ACTION","ADD","AFTER","ALL","ALTER","AND","ARE","ALWAYS","ANALYZE","AS","ASC","ATTACH","AUTOINCREMENT","BEFORE","BEGIN","BETWEEN","BY","CASCADE","CASE","CAST","CHECK","COLLATE","COLUMN","COMMIT","CONFLICT","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATABASE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DESC","DETACH","DISTINCT","DO","DROP","EACH","ELSE","END","ESCAPE","EXCEPT","EXCLUDE","EXCLUSIVE","EXISTS","EXPLAIN","FAIL","FILTER","FIRST","FOLLOWING","FOR","FOREIGN","FROM","FULL","GENERATED","GLOB","GROUP","GROUPS","HAVING","IF","IGNORE","IMMEDIATE","IN","INDEX","INDEXED","INITIALLY","INNER","INSERT","INSTEAD","INTERSECT","INTO","IS","ISNULL","JOIN","KEY","LAST","LEFT","LIKE","LIMIT","MATCH","MATERIALIZED","NATURAL","NO","NOT","NOTHING","NOTNULL","NULL","NULLS","OF","OFFSET","ON","ONLY","OPEN","OR","ORDER","OTHERS","OUTER","OVER","PARTITION","PLAN","PRAGMA","PRECEDING","PRIMARY","QUERY","RAISE","RANGE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELEASE","RENAME","REPLACE","RESTRICT","RETURNING","RIGHT","ROLLBACK","ROW","ROWS","SAVEPOINT","SELECT","SET","TABLE","TEMP","TEMPORARY","THEN","TIES","TO","TRANSACTION","TRIGGER","UNBOUNDED","UNION","UNIQUE","UPDATE","USING","VACUUM","VALUES","VIEW","VIRTUAL","WHEN","WHERE","WINDOW","WITH","WITHOUT"],Se=["ANY","ARRAY","BLOB","CHARACTER","DECIMAL","INT","INTEGER","NATIVE CHARACTER","NCHAR","NUMERIC","NVARCHAR","REAL","TEXT","VARCHAR","VARYING CHARACTER"],je=a(["SELECT [ALL | DISTINCT]"]),Qe=a(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK] INTO","REPLACE INTO","VALUES","SET"]),Ht=a(["CREATE [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),kt=a(["CREATE [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","UPDATE [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK]","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME [COLUMN]","RENAME TO","SET SCHEMA"]),ni=a(["UNION [ALL]","EXCEPT","INTERSECT"]),ai=a(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),si=a(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE | GROUPS} BETWEEN"]),Ei={name:"sqlite",tokenizerOptions:{reservedSelect:je,reservedClauses:[...Qe,...Ht,...kt],reservedSetOperations:ni,reservedJoins:ai,reservedPhrases:si,reservedKeywords:ri,reservedDataTypes:Se,reservedFunctionNames:ao,stringTypes:["''-qq",{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``","[]"],paramTypes:{positional:!0,numbered:["?"],named:[":","@","$"]},operators:["%","~","&","|","<<",">>","==","->","->>","||"]},formatOptions:{onelineClauses:[...Ht,...kt],tabularOnelineClauses:kt}},Pi=["GROUPING","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","ROW_NUMBER","POSITION","OCCURRENCES_REGEX","POSITION_REGEX","EXTRACT","CHAR_LENGTH","CHARACTER_LENGTH","OCTET_LENGTH","CARDINALITY","ABS","MOD","LN","EXP","POWER","SQRT","FLOOR","CEIL","CEILING","WIDTH_BUCKET","SUBSTRING","SUBSTRING_REGEX","UPPER","LOWER","CONVERT","TRANSLATE","TRANSLATE_REGEX","TRIM","OVERLAY","NORMALIZE","SPECIFICTYPE","CURRENT_DATE","CURRENT_TIME","LOCALTIME","CURRENT_TIMESTAMP","LOCALTIMESTAMP","COUNT","AVG","MAX","MIN","SUM","STDDEV_POP","STDDEV_SAMP","VAR_SAMP","VAR_POP","COLLECT","FUSION","INTERSECTION","COVAR_POP","COVAR_SAMP","CORR","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","PERCENTILE_CONT","PERCENTILE_DISC","CAST","COALESCE","NULLIF","ROUND","SIN","COS","TAN","ASIN","ACOS","ATAN"],Li=["ALL","ALLOCATE","ALTER","ANY","ARE","AS","ASC","ASENSITIVE","ASYMMETRIC","AT","ATOMIC","AUTHORIZATION","BEGIN","BETWEEN","BOTH","BY","CALL","CALLED","CASCADED","CAST","CHECK","CLOSE","COALESCE","COLLATE","COLUMN","COMMIT","CONDITION","CONNECT","CONSTRAINT","CORRESPONDING","CREATE","CROSS","CUBE","CURRENT","CURRENT_CATALOG","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DEALLOCATE","DAY","DECLARE","DEFAULT","DELETE","DEREF","DESC","DESCRIBE","DETERMINISTIC","DISCONNECT","DISTINCT","DROP","DYNAMIC","EACH","ELEMENT","END-EXEC","ESCAPE","EVERY","EXCEPT","EXEC","EXECUTE","EXISTS","EXTERNAL","FALSE","FETCH","FILTER","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GET","GLOBAL","GRANT","GROUP","HAVING","HOLD","HOUR","IDENTITY","IN","INDICATOR","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTO","IS","LANGUAGE","LARGE","LATERAL","LEADING","LEFT","LIKE","LIKE_REGEX","LOCAL","MATCH","MEMBER","MERGE","METHOD","MINUTE","MODIFIES","MODULE","MONTH","NATURAL","NEW","NO","NONE","NOT","NULL","NULLIF","OF","OLD","ON","ONLY","OPEN","ORDER","OUT","OUTER","OVER","OVERLAPS","PARAMETER","PARTITION","PRECISION","PREPARE","PRIMARY","PROCEDURE","RANGE","READS","REAL","RECURSIVE","REF","REFERENCES","REFERENCING","RELEASE","RESULT","RETURN","RETURNS","REVOKE","RIGHT","ROLLBACK","ROLLUP","ROW","ROWS","SAVEPOINT","SCOPE","SCROLL","SEARCH","SECOND","SELECT","SENSITIVE","SESSION_USER","SET","SIMILAR","SOME","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","START","STATIC","SUBMULTISET","SYMMETRIC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","THEN","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSLATION","TREAT","TRIGGER","TRUE","UESCAPE","UNION","UNIQUE","UNKNOWN","UNNEST","UPDATE","USER","USING","VALUE","VALUES","WHENEVER","WINDOW","WITHIN","WITHOUT","YEAR"],Ii=["ARRAY","BIGINT","BINARY LARGE OBJECT","BINARY VARYING","BINARY","BLOB","BOOLEAN","CHAR LARGE OBJECT","CHAR VARYING","CHAR","CHARACTER LARGE OBJECT","CHARACTER VARYING","CHARACTER","CLOB","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MULTISET","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER LARGE OBJECT","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR LARGE OBJECT","NCHAR VARYING","NCHAR","NCLOB","NUMERIC","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"],Je=a(["SELECT [ALL | DISTINCT]"]),E=a(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET"]),W=a(["CREATE [GLOBAL TEMPORARY | LOCAL TEMPORARY] TABLE"]),Q=a(["CREATE [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","DELETE FROM","DROP TABLE","ALTER TABLE","ADD COLUMN","DROP [COLUMN]","RENAME COLUMN","RENAME TO","ALTER [COLUMN]","{SET | DROP} DEFAULT","ADD SCOPE","DROP SCOPE {CASCADE | RESTRICT}","RESTART WITH","TRUNCATE TABLE","SET SCHEMA"]),ue=a(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),ve=a(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),Oe=a(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),We={name:"sql",tokenizerOptions:{reservedSelect:Je,reservedClauses:[...E,...W,...Q],reservedSetOperations:ue,reservedJoins:ve,reservedPhrases:Oe,reservedKeywords:Li,reservedDataTypes:Ii,reservedFunctionNames:Pi,stringTypes:[{quote:"''-qq-bs",prefixes:["N","U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``"],paramTypes:{positional:!0},operators:["||"]},formatOptions:{onelineClauses:[...W,...Q],tabularOnelineClauses:Q}},et=["ABS","ACOS","ALL_MATCH","ANY_MATCH","APPROX_DISTINCT","APPROX_MOST_FREQUENT","APPROX_PERCENTILE","APPROX_SET","ARBITRARY","ARRAYS_OVERLAP","ARRAY_AGG","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_SORT","ARRAY_UNION","ASIN","ATAN","ATAN2","AT_TIMEZONE","AVG","BAR","BETA_CDF","BING_TILE","BING_TILES_AROUND","BING_TILE_AT","BING_TILE_COORDINATES","BING_TILE_POLYGON","BING_TILE_QUADKEY","BING_TILE_ZOOM_LEVEL","BITWISE_AND","BITWISE_AND_AGG","BITWISE_LEFT_SHIFT","BITWISE_NOT","BITWISE_OR","BITWISE_OR_AGG","BITWISE_RIGHT_SHIFT","BITWISE_RIGHT_SHIFT_ARITHMETIC","BITWISE_XOR","BIT_COUNT","BOOL_AND","BOOL_OR","CARDINALITY","CAST","CBRT","CEIL","CEILING","CHAR2HEXINT","CHECKSUM","CHR","CLASSIFY","COALESCE","CODEPOINT","COLOR","COMBINATIONS","CONCAT","CONCAT_WS","CONTAINS","CONTAINS_SEQUENCE","CONVEX_HULL_AGG","CORR","COS","COSH","COSINE_SIMILARITY","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CRC32","CUME_DIST","CURRENT_CATALOG","CURRENT_DATE","CURRENT_GROUPS","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","DATE","DATE_ADD","DATE_DIFF","DATE_FORMAT","DATE_PARSE","DATE_TRUNC","DAY","DAY_OF_MONTH","DAY_OF_WEEK","DAY_OF_YEAR","DEGREES","DENSE_RANK","DOW","DOY","E","ELEMENT_AT","EMPTY_APPROX_SET","EVALUATE_CLASSIFIER_PREDICTIONS","EVERY","EXP","EXTRACT","FEATURES","FILTER","FIRST_VALUE","FLATTEN","FLOOR","FORMAT","FORMAT_DATETIME","FORMAT_NUMBER","FROM_BASE","FROM_BASE32","FROM_BASE64","FROM_BASE64URL","FROM_BIG_ENDIAN_32","FROM_BIG_ENDIAN_64","FROM_ENCODED_POLYLINE","FROM_GEOJSON_GEOMETRY","FROM_HEX","FROM_IEEE754_32","FROM_IEEE754_64","FROM_ISO8601_DATE","FROM_ISO8601_TIMESTAMP","FROM_ISO8601_TIMESTAMP_NANOS","FROM_UNIXTIME","FROM_UNIXTIME_NANOS","FROM_UTF8","GEOMETRIC_MEAN","GEOMETRY_FROM_HADOOP_SHAPE","GEOMETRY_INVALID_REASON","GEOMETRY_NEAREST_POINTS","GEOMETRY_TO_BING_TILES","GEOMETRY_UNION","GEOMETRY_UNION_AGG","GREATEST","GREAT_CIRCLE_DISTANCE","HAMMING_DISTANCE","HASH_COUNTS","HISTOGRAM","HMAC_MD5","HMAC_SHA1","HMAC_SHA256","HMAC_SHA512","HOUR","HUMAN_READABLE_SECONDS","IF","INDEX","INFINITY","INTERSECTION_CARDINALITY","INVERSE_BETA_CDF","INVERSE_NORMAL_CDF","IS_FINITE","IS_INFINITE","IS_JSON_SCALAR","IS_NAN","JACCARD_INDEX","JSON_ARRAY_CONTAINS","JSON_ARRAY_GET","JSON_ARRAY_LENGTH","JSON_EXISTS","JSON_EXTRACT","JSON_EXTRACT_SCALAR","JSON_FORMAT","JSON_PARSE","JSON_QUERY","JSON_SIZE","JSON_VALUE","KURTOSIS","LAG","LAST_DAY_OF_MONTH","LAST_VALUE","LEAD","LEARN_CLASSIFIER","LEARN_LIBSVM_CLASSIFIER","LEARN_LIBSVM_REGRESSOR","LEARN_REGRESSOR","LEAST","LENGTH","LEVENSHTEIN_DISTANCE","LINE_INTERPOLATE_POINT","LINE_INTERPOLATE_POINTS","LINE_LOCATE_POINT","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","LUHN_CHECK","MAKE_SET_DIGEST","MAP","MAP_AGG","MAP_CONCAT","MAP_ENTRIES","MAP_FILTER","MAP_FROM_ENTRIES","MAP_KEYS","MAP_UNION","MAP_VALUES","MAP_ZIP_WITH","MAX","MAX_BY","MD5","MERGE","MERGE_SET_DIGEST","MILLISECOND","MIN","MINUTE","MIN_BY","MOD","MONTH","MULTIMAP_AGG","MULTIMAP_FROM_ENTRIES","MURMUR3","NAN","NGRAMS","NONE_MATCH","NORMALIZE","NORMAL_CDF","NOW","NTH_VALUE","NTILE","NULLIF","NUMERIC_HISTOGRAM","OBJECTID","OBJECTID_TIMESTAMP","PARSE_DATA_SIZE","PARSE_DATETIME","PARSE_DURATION","PERCENT_RANK","PI","POSITION","POW","POWER","QDIGEST_AGG","QUARTER","RADIANS","RAND","RANDOM","RANK","REDUCE","REDUCE_AGG","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGRESS","REGR_INTERCEPT","REGR_SLOPE","RENDER","REPEAT","REPLACE","REVERSE","RGB","ROUND","ROW_NUMBER","RPAD","RTRIM","SECOND","SEQUENCE","SHA1","SHA256","SHA512","SHUFFLE","SIGN","SIMPLIFY_GEOMETRY","SIN","SKEWNESS","SLICE","SOUNDEX","SPATIAL_PARTITIONING","SPATIAL_PARTITIONS","SPLIT","SPLIT_PART","SPLIT_TO_MAP","SPLIT_TO_MULTIMAP","SPOOKY_HASH_V2_32","SPOOKY_HASH_V2_64","SQRT","STARTS_WITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRPOS","ST_AREA","ST_ASBINARY","ST_ASTEXT","ST_BOUNDARY","ST_BUFFER","ST_CENTROID","ST_CONTAINS","ST_CONVEXHULL","ST_COORDDIM","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_ENDPOINT","ST_ENVELOPE","ST_ENVELOPEASPTS","ST_EQUALS","ST_EXTERIORRING","ST_GEOMETRIES","ST_GEOMETRYFROMTEXT","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMBINARY","ST_INTERIORRINGN","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISRING","ST_ISSIMPLE","ST_ISVALID","ST_LENGTH","ST_LINEFROMTEXT","ST_LINESTRING","ST_MULTIPOINT","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINT","ST_POINTN","ST_POINTS","ST_POLYGON","ST_RELATE","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_TOUCHES","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","SUBSTR","SUBSTRING","SUM","TAN","TANH","TDIGEST_AGG","TIMESTAMP_OBJECTID","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO_BASE","TO_BASE32","TO_BASE64","TO_BASE64URL","TO_BIG_ENDIAN_32","TO_BIG_ENDIAN_64","TO_CHAR","TO_DATE","TO_ENCODED_POLYLINE","TO_GEOJSON_GEOMETRY","TO_GEOMETRY","TO_HEX","TO_IEEE754_32","TO_IEEE754_64","TO_ISO8601","TO_MILLISECONDS","TO_SPHERICAL_GEOGRAPHY","TO_TIMESTAMP","TO_UNIXTIME","TO_UTF8","TRANSFORM","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRIM_ARRAY","TRUNCATE","TRY","TRY_CAST","TYPEOF","UPPER","URL_DECODE","URL_ENCODE","URL_EXTRACT_FRAGMENT","URL_EXTRACT_HOST","URL_EXTRACT_PARAMETER","URL_EXTRACT_PATH","URL_EXTRACT_PORT","URL_EXTRACT_PROTOCOL","URL_EXTRACT_QUERY","UUID","VALUES_AT_QUANTILES","VALUE_AT_QUANTILE","VARIANCE","VAR_POP","VAR_SAMP","VERSION","WEEK","WEEK_OF_YEAR","WIDTH_BUCKET","WILSON_INTERVAL_LOWER","WILSON_INTERVAL_UPPER","WITH_TIMEZONE","WORD_STEM","XXHASH64","YEAR","YEAR_OF_WEEK","YOW","ZIP","ZIP_WITH","CLASSIFIER","FIRST","LAST","MATCH_NUMBER","NEXT","PERMUTE","PREV"],Fe=["ABSENT","ADD","ADMIN","AFTER","ALL","ALTER","ANALYZE","AND","ANY","AS","ASC","AT","AUTHORIZATION","BERNOULLI","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CATALOGS","COLUMN","COLUMNS","COMMENT","COMMIT","COMMITTED","CONDITIONAL","CONSTRAINT","COPARTITION","CREATE","CROSS","CUBE","CURRENT","CURRENT_PATH","CURRENT_ROLE","DATA","DEALLOCATE","DEFAULT","DEFINE","DEFINER","DELETE","DENY","DESC","DESCRIBE","DESCRIPTOR","DISTINCT","DISTRIBUTED","DOUBLE","DROP","ELSE","EMPTY","ENCODING","END","ERROR","ESCAPE","EXCEPT","EXCLUDING","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FINAL","FIRST","FOLLOWING","FOR","FROM","FULL","FUNCTIONS","GRANT","GRANTED","GRANTS","GRAPHVIZ","GROUP","GROUPING","GROUPS","HAVING","IGNORE","IN","INCLUDING","INITIAL","INNER","INPUT","INSERT","INTERSECT","INTERVAL","INTO","INVOKER","IO","IS","ISOLATION","JOIN","JSON","JSON_ARRAY","JSON_OBJECT","KEEP","KEY","KEYS","LAST","LATERAL","LEADING","LEFT","LEVEL","LIKE","LIMIT","LOCAL","LOGICAL","MATCH","MATCHED","MATCHES","MATCH_RECOGNIZE","MATERIALIZED","MEASURES","NATURAL","NEXT","NFC","NFD","NFKC","NFKD","NO","NONE","NOT","NULL","NULLS","OBJECT","OF","OFFSET","OMIT","ON","ONE","ONLY","OPTION","OR","ORDER","ORDINALITY","OUTER","OUTPUT","OVER","OVERFLOW","PARTITION","PARTITIONS","PASSING","PAST","PATH","PATTERN","PER","PERMUTE","PRECEDING","PRECISION","PREPARE","PRIVILEGES","PROPERTIES","PRUNE","QUOTES","RANGE","READ","RECURSIVE","REFRESH","RENAME","REPEATABLE","RESET","RESPECT","RESTRICT","RETURNING","REVOKE","RIGHT","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","RUNNING","SCALAR","SCHEMA","SCHEMAS","SECURITY","SEEK","SELECT","SERIALIZABLE","SESSION","SET","SETS","SHOW","SKIP","SOME","START","STATS","STRING","SUBSET","SYSTEM","TABLE","TABLES","TABLESAMPLE","TEXT","THEN","TIES","TIME","TIMESTAMP","TO","TRAILING","TRANSACTION","TRUE","TYPE","UESCAPE","UNBOUNDED","UNCOMMITTED","UNCONDITIONAL","UNION","UNIQUE","UNKNOWN","UNMATCHED","UNNEST","UPDATE","USE","USER","USING","UTF16","UTF32","UTF8","VALIDATE","VALUE","VALUES","VERBOSE","VIEW","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","WORK","WRAPPER","WRITE","ZONE"],A=["BIGINT","INT","INTEGER","SMALLINT","TINYINT","BOOLEAN","DATE","DECIMAL","REAL","DOUBLE","HYPERLOGLOG","QDIGEST","TDIGEST","P4HYPERLOGLOG","INTERVAL","TIMESTAMP","TIME","VARBINARY","VARCHAR","CHAR","ROW","ARRAY","MAP","JSON","JSON2016","IPADDRESS","GEOMETRY","UUID","SETDIGEST","JONIREGEXP","RE2JREGEXP","LIKEPATTERN","COLOR","CODEPOINTS","FUNCTION","JSONPATH"],q=a(["SELECT [ALL | DISTINCT]"]),fe=a(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET","MATCH_RECOGNIZE","MEASURES","ONE ROW PER MATCH","ALL ROWS PER MATCH","AFTER MATCH","PATTERN","SUBSET","DEFINE"]),Pe=a(["CREATE TABLE [IF NOT EXISTS]"]),Ye=a(["CREATE [OR REPLACE] [MATERIALIZED] VIEW","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME COLUMN [IF EXISTS]","RENAME TO","SET AUTHORIZATION [USER | ROLE]","SET PROPERTIES","EXECUTE","TRUNCATE TABLE","ALTER SCHEMA","ALTER MATERIALIZED VIEW","ALTER VIEW","CREATE SCHEMA","CREATE ROLE","DROP SCHEMA","DROP MATERIALIZED VIEW","DROP VIEW","DROP ROLE","EXPLAIN","ANALYZE","EXPLAIN ANALYZE","EXPLAIN ANALYZE VERBOSE","USE","DESCRIBE INPUT","DESCRIBE OUTPUT","REFRESH MATERIALIZED VIEW","RESET SESSION","SET SESSION","SET PATH","SET TIME ZONE","SHOW GRANTS","SHOW CREATE TABLE","SHOW CREATE SCHEMA","SHOW CREATE VIEW","SHOW CREATE MATERIALIZED VIEW","SHOW TABLES","SHOW SCHEMAS","SHOW CATALOGS","SHOW COLUMNS","SHOW STATS FOR","SHOW ROLES","SHOW CURRENT ROLES","SHOW ROLE GRANTS","SHOW FUNCTIONS","SHOW SESSION"]),dt=a(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),St=a(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),Bt=a(["{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM"]),Ci={name:"trino",tokenizerOptions:{reservedSelect:q,reservedClauses:[...fe,...Pe,...Ye],reservedSetOperations:dt,reservedJoins:St,reservedPhrases:Bt,reservedKeywords:Fe,reservedDataTypes:A,reservedFunctionNames:et,extraParens:["[]","{}"],stringTypes:[{quote:"''-qq",prefixes:["U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq'],paramTypes:{positional:!0},operators:["%","->","=>",":","||","|","^","$"]},formatOptions:{onelineClauses:[...Pe,...Ye],tabularOnelineClauses:Ye}},vi=["APPROX_COUNT_DISTINCT","AVG","CHECKSUM_AGG","COUNT","COUNT_BIG","GROUPING","GROUPING_ID","MAX","MIN","STDEV","STDEVP","SUM","VAR","VARP","CUME_DIST","FIRST_VALUE","LAG","LAST_VALUE","LEAD","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","Collation - COLLATIONPROPERTY","Collation - TERTIARY_WEIGHTS","@@DBTS","@@LANGID","@@LANGUAGE","@@LOCK_TIMEOUT","@@MAX_CONNECTIONS","@@MAX_PRECISION","@@NESTLEVEL","@@OPTIONS","@@REMSERVER","@@SERVERNAME","@@SERVICENAME","@@SPID","@@TEXTSIZE","@@VERSION","CAST","CONVERT","PARSE","TRY_CAST","TRY_CONVERT","TRY_PARSE","ASYMKEY_ID","ASYMKEYPROPERTY","CERTPROPERTY","CERT_ID","CRYPT_GEN_RANDOM","DECRYPTBYASYMKEY","DECRYPTBYCERT","DECRYPTBYKEY","DECRYPTBYKEYAUTOASYMKEY","DECRYPTBYKEYAUTOCERT","DECRYPTBYPASSPHRASE","ENCRYPTBYASYMKEY","ENCRYPTBYCERT","ENCRYPTBYKEY","ENCRYPTBYPASSPHRASE","HASHBYTES","IS_OBJECTSIGNED","KEY_GUID","KEY_ID","KEY_NAME","SIGNBYASYMKEY","SIGNBYCERT","SYMKEYPROPERTY","VERIFYSIGNEDBYCERT","VERIFYSIGNEDBYASYMKEY","@@CURSOR_ROWS","@@FETCH_STATUS","CURSOR_STATUS","DATALENGTH","IDENT_CURRENT","IDENT_INCR","IDENT_SEED","IDENTITY","SQL_VARIANT_PROPERTY","@@DATEFIRST","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TIMEZONE_ID","DATEADD","DATEDIFF","DATEDIFF_BIG","DATEFROMPARTS","DATENAME","DATEPART","DATETIME2FROMPARTS","DATETIMEFROMPARTS","DATETIMEOFFSETFROMPARTS","DAY","EOMONTH","GETDATE","GETUTCDATE","ISDATE","MONTH","SMALLDATETIMEFROMPARTS","SWITCHOFFSET","SYSDATETIME","SYSDATETIMEOFFSET","SYSUTCDATETIME","TIMEFROMPARTS","TODATETIMEOFFSET","YEAR","JSON","ISJSON","JSON_VALUE","JSON_QUERY","JSON_MODIFY","ABS","ACOS","ASIN","ATAN","ATN2","CEILING","COS","COT","DEGREES","EXP","FLOOR","LOG","LOG10","PI","POWER","RADIANS","RAND","ROUND","SIGN","SIN","SQRT","SQUARE","TAN","CHOOSE","GREATEST","IIF","LEAST","@@PROCID","APP_NAME","APPLOCK_MODE","APPLOCK_TEST","ASSEMBLYPROPERTY","COL_LENGTH","COL_NAME","COLUMNPROPERTY","DATABASEPROPERTYEX","DB_ID","DB_NAME","FILE_ID","FILE_IDEX","FILE_NAME","FILEGROUP_ID","FILEGROUP_NAME","FILEGROUPPROPERTY","FILEPROPERTY","FILEPROPERTYEX","FULLTEXTCATALOGPROPERTY","FULLTEXTSERVICEPROPERTY","INDEX_COL","INDEXKEY_PROPERTY","INDEXPROPERTY","NEXT VALUE FOR","OBJECT_DEFINITION","OBJECT_ID","OBJECT_NAME","OBJECT_SCHEMA_NAME","OBJECTPROPERTY","OBJECTPROPERTYEX","ORIGINAL_DB_NAME","PARSENAME","SCHEMA_ID","SCHEMA_NAME","SCOPE_IDENTITY","SERVERPROPERTY","STATS_DATE","TYPE_ID","TYPE_NAME","TYPEPROPERTY","DENSE_RANK","NTILE","RANK","ROW_NUMBER","PUBLISHINGSERVERNAME","CERTENCODED","CERTPRIVATEKEY","CURRENT_USER","DATABASE_PRINCIPAL_ID","HAS_DBACCESS","HAS_PERMS_BY_NAME","IS_MEMBER","IS_ROLEMEMBER","IS_SRVROLEMEMBER","LOGINPROPERTY","ORIGINAL_LOGIN","PERMISSIONS","PWDENCRYPT","PWDCOMPARE","SESSION_USER","SESSIONPROPERTY","SUSER_ID","SUSER_NAME","SUSER_SID","SUSER_SNAME","SYSTEM_USER","USER","USER_ID","USER_NAME","ASCII","CHAR","CHARINDEX","CONCAT","CONCAT_WS","DIFFERENCE","FORMAT","LEFT","LEN","LOWER","LTRIM","NCHAR","PATINDEX","QUOTENAME","REPLACE","REPLICATE","REVERSE","RIGHT","RTRIM","SOUNDEX","SPACE","STR","STRING_AGG","STRING_ESCAPE","STUFF","SUBSTRING","TRANSLATE","TRIM","UNICODE","UPPER","$PARTITION","@@ERROR","@@IDENTITY","@@PACK_RECEIVED","@@ROWCOUNT","@@TRANCOUNT","BINARY_CHECKSUM","CHECKSUM","COMPRESS","CONNECTIONPROPERTY","CONTEXT_INFO","CURRENT_REQUEST_ID","CURRENT_TRANSACTION_ID","DECOMPRESS","ERROR_LINE","ERROR_MESSAGE","ERROR_NUMBER","ERROR_PROCEDURE","ERROR_SEVERITY","ERROR_STATE","FORMATMESSAGE","GET_FILESTREAM_TRANSACTION_CONTEXT","GETANSINULL","HOST_ID","HOST_NAME","ISNULL","ISNUMERIC","MIN_ACTIVE_ROWVERSION","NEWID","NEWSEQUENTIALID","ROWCOUNT_BIG","SESSION_CONTEXT","XACT_STATE","@@CONNECTIONS","@@CPU_BUSY","@@IDLE","@@IO_BUSY","@@PACK_SENT","@@PACKET_ERRORS","@@TIMETICKS","@@TOTAL_ERRORS","@@TOTAL_READ","@@TOTAL_WRITE","TEXTPTR","TEXTVALID","COLUMNS_UPDATED","EVENTDATA","TRIGGER_NESTLEVEL","UPDATE","COALESCE","NULLIF"],zi=["ADD","ALL","ALTER","AND","ANY","AS","ASC","AUTHORIZATION","BACKUP","BEGIN","BETWEEN","BREAK","BROWSE","BULK","BY","CASCADE","CHECK","CHECKPOINT","CLOSE","CLUSTERED","COALESCE","COLLATE","COLUMN","COMMIT","COMPUTE","CONSTRAINT","CONTAINS","CONTAINSTABLE","CONTINUE","CONVERT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DBCC","DEALLOCATE","DECLARE","DEFAULT","DELETE","DENY","DESC","DISK","DISTINCT","DISTRIBUTED","DROP","DUMP","ERRLVL","ESCAPE","EXEC","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FILE","FILLFACTOR","FOR","FOREIGN","FREETEXT","FREETEXTTABLE","FROM","FULL","FUNCTION","GOTO","GRANT","GROUP","HAVING","HOLDLOCK","IDENTITY","IDENTITYCOL","IDENTITY_INSERT","IF","IN","INDEX","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KILL","LEFT","LIKE","LINENO","LOAD","MERGE","NOCHECK","NONCLUSTERED","NOT","NULL","NULLIF","OF","OFF","OFFSETS","ON","OPEN","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","OPTION","OR","ORDER","OUTER","OVER","PERCENT","PIVOT","PLAN","PRIMARY","PRINT","PROC","PROCEDURE","PUBLIC","RAISERROR","READ","READTEXT","RECONFIGURE","REFERENCES","REPLICATION","RESTORE","RESTRICT","RETURN","REVERT","REVOKE","RIGHT","ROLLBACK","ROWCOUNT","ROWGUIDCOL","RULE","SAVE","SCHEMA","SECURITYAUDIT","SELECT","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","SESSION_USER","SET","SETUSER","SHUTDOWN","SOME","STATISTICS","SYSTEM_USER","TABLE","TABLESAMPLE","TEXTSIZE","THEN","TO","TOP","TRAN","TRANSACTION","TRIGGER","TRUNCATE","TRY_CONVERT","TSEQUAL","UNION","UNIQUE","UNPIVOT","UPDATE","UPDATETEXT","USE","USER","VALUES","VIEW","WAITFOR","WHERE","WHILE","WITH","WITHIN GROUP","WRITETEXT","ABSOLUTE","ACTION","ADA","ALLOCATE","ARE","ASSERTION","AT","AVG","BIT_LENGTH","BOTH","CASCADED","CAST","CATALOG","CHARACTER_LENGTH","CHAR_LENGTH","COLLATION","CONNECT","CONNECTION","CONSTRAINTS","CORRESPONDING","COUNT","DAY","DEFERRABLE","DEFERRED","DESCRIBE","DESCRIPTOR","DIAGNOSTICS","DISCONNECT","DOMAIN","END-EXEC","EXCEPTION","EXTRACT","FALSE","FIRST","FORTRAN","FOUND","GET","GLOBAL","GO","HOUR","IMMEDIATE","INCLUDE","INDICATOR","INITIALLY","INPUT","INSENSITIVE","INTERVAL","ISOLATION","LANGUAGE","LAST","LEADING","LEVEL","LOCAL","LOWER","MATCH","MAX","MIN","MINUTE","MODULE","MONTH","NAMES","NATURAL","NEXT","NO","NONE","OCTET_LENGTH","ONLY","OUTPUT","OVERLAPS","PAD","PARTIAL","PASCAL","POSITION","PREPARE","PRESERVE","PRIOR","PRIVILEGES","RELATIVE","ROWS","SCROLL","SECOND","SECTION","SESSION","SIZE","SPACE","SQL","SQLCA","SQLCODE","SQLERROR","SQLSTATE","SQLWARNING","SUBSTRING","SUM","TEMPORARY","TIMEZONE_HOUR","TIMEZONE_MINUTE","TRAILING","TRANSLATE","TRANSLATION","TRIM","TRUE","UNKNOWN","UPPER","USAGE","VALUE","WHENEVER","WORK","WRITE","YEAR","ZONE"],Gi=["BINARY","BIT","CHAR","CHAR","CHARACTER","DATE","DATETIME2","DATETIMEOFFSET","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","NATIONAL","NCHAR","NUMERIC","NVARCHAR","PRECISION","REAL","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"],Wi=a(["SELECT [ALL | DISTINCT]"]),Mi=a(["WITH","INTO","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","OFFSET","FETCH {FIRST | NEXT}","FOR {BROWSE | XML | JSON}","OPTION","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY TARGET | BY SOURCE] [THEN]","UPDATE SET","CREATE [OR ALTER] {PROC | PROCEDURE}"]),Oi=a(["CREATE TABLE"]),Xi=a(["CREATE [OR ALTER] [MATERIALIZED] VIEW","UPDATE","WHERE CURRENT OF","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD","DROP COLUMN [IF EXISTS]","ALTER COLUMN","TRUNCATE TABLE","ADD SENSITIVITY CLASSIFICATION","ADD SIGNATURE","AGGREGATE","ANSI_DEFAULTS","ANSI_NULLS","ANSI_NULL_DFLT_OFF","ANSI_NULL_DFLT_ON","ANSI_PADDING","ANSI_WARNINGS","APPLICATION ROLE","ARITHABORT","ARITHIGNORE","ASSEMBLY","ASYMMETRIC KEY","AUTHORIZATION","AVAILABILITY GROUP","BACKUP","BACKUP CERTIFICATE","BACKUP MASTER KEY","BACKUP SERVICE MASTER KEY","BEGIN CONVERSATION TIMER","BEGIN DIALOG CONVERSATION","BROKER PRIORITY","BULK INSERT","CERTIFICATE","CLOSE MASTER KEY","CLOSE SYMMETRIC KEY","COLLATE","COLUMN ENCRYPTION KEY","COLUMN MASTER KEY","COLUMNSTORE INDEX","CONCAT_NULL_YIELDS_NULL","CONTEXT_INFO","CONTRACT","CREDENTIAL","CRYPTOGRAPHIC PROVIDER","CURSOR_CLOSE_ON_COMMIT","DATABASE","DATABASE AUDIT SPECIFICATION","DATABASE ENCRYPTION KEY","DATABASE HADR","DATABASE SCOPED CONFIGURATION","DATABASE SCOPED CREDENTIAL","DATABASE SET","DATEFIRST","DATEFORMAT","DEADLOCK_PRIORITY","DENY","DENY XML","DISABLE TRIGGER","ENABLE TRIGGER","END CONVERSATION","ENDPOINT","EVENT NOTIFICATION","EVENT SESSION","EXECUTE AS","EXTERNAL DATA SOURCE","EXTERNAL FILE FORMAT","EXTERNAL LANGUAGE","EXTERNAL LIBRARY","EXTERNAL RESOURCE POOL","EXTERNAL TABLE","FIPS_FLAGGER","FMTONLY","FORCEPLAN","FULLTEXT CATALOG","FULLTEXT INDEX","FULLTEXT STOPLIST","FUNCTION","GET CONVERSATION GROUP","GET_TRANSMISSION_STATUS","GRANT","GRANT XML","IDENTITY_INSERT","IMPLICIT_TRANSACTIONS","INDEX","LANGUAGE","LOCK_TIMEOUT","LOGIN","MASTER KEY","MESSAGE TYPE","MOVE CONVERSATION","NOCOUNT","NOEXEC","NUMERIC_ROUNDABORT","OFFSETS","OPEN MASTER KEY","OPEN SYMMETRIC KEY","PARSEONLY","PARTITION FUNCTION","PARTITION SCHEME","PROCEDURE","QUERY_GOVERNOR_COST_LIMIT","QUEUE","QUOTED_IDENTIFIER","RECEIVE","REMOTE SERVICE BINDING","REMOTE_PROC_TRANSACTIONS","RESOURCE GOVERNOR","RESOURCE POOL","RESTORE","RESTORE FILELISTONLY","RESTORE HEADERONLY","RESTORE LABELONLY","RESTORE MASTER KEY","RESTORE REWINDONLY","RESTORE SERVICE MASTER KEY","RESTORE VERIFYONLY","REVERT","REVOKE","REVOKE XML","ROLE","ROUTE","ROWCOUNT","RULE","SCHEMA","SEARCH PROPERTY LIST","SECURITY POLICY","SELECTIVE XML INDEX","SEND","SENSITIVITY CLASSIFICATION","SEQUENCE","SERVER AUDIT","SERVER AUDIT SPECIFICATION","SERVER CONFIGURATION","SERVER ROLE","SERVICE","SERVICE MASTER KEY","SETUSER","SHOWPLAN_ALL","SHOWPLAN_TEXT","SHOWPLAN_XML","SIGNATURE","SPATIAL INDEX","STATISTICS","STATISTICS IO","STATISTICS PROFILE","STATISTICS TIME","STATISTICS XML","SYMMETRIC KEY","SYNONYM","TABLE","TABLE IDENTITY","TEXTSIZE","TRANSACTION ISOLATION LEVEL","TRIGGER","TYPE","UPDATE STATISTICS","USER","WORKLOAD GROUP","XACT_ABORT","XML INDEX","XML SCHEMA COLLECTION"]),Hn=a(["UNION [ALL]","EXCEPT","INTERSECT"]),js=a(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{CROSS | OUTER} APPLY"]),go=a(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),So={name:"transactsql",tokenizerOptions:{reservedSelect:Wi,reservedClauses:[...Mi,...Oi,...Xi],reservedSetOperations:Hn,reservedJoins:js,reservedPhrases:go,reservedKeywords:zi,reservedDataTypes:Gi,reservedFunctionNames:vi,nestedBlockComments:!0,stringTypes:[{quote:"''-qq",prefixes:["N"]}],identTypes:['""-qq',"[]"],identChars:{first:"#@",rest:"#@$"},paramTypes:{named:["@"],quoted:["@"]},operators:["%","&","|","^","~","!<","!>","+=","-=","*=","/=","%=","|=","&=","^=","::",":"],propertyAccessOperators:[".."]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...Oi,...Xi],tabularOnelineClauses:Xi}},An=["ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","_BINARY","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","EXTRA_JOIN","FALSE","FETCH","FOR","FORCE","FORCE_COMPILED_MODE","FORCE_INTERPRETER_MODE","FOREIGN","FROM","FULL","FULLTEXT","GRANT","GROUP","HAVING","HEARTBEAT_NO_LOGGING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","_INTERNAL_DYNAMIC_TYPECAST","INTERSECT","INTERVAL","INTO","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MATCH","MAXVALUE","MINUS","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NO_QUERY_REWRITE","NOT","NO_WRITE_TO_BINLOG","NO_QUERY_REWRITE","NULL","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","RETURN","REVOKE","RIGHT","RIGHT_ANTI_JOIN","RIGHT_SEMI_JOIN","RIGHT_STRAIGHT_JOIN","RLIKE","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SEMI_JOIN","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQL_BIG_RESULT","SQL_BUFFER_RESULT","SQL_CACHE","SQL_CALC_FOUND_ROWS","SQLEXCEPTION","SQL_NO_CACHE","SQL_NO_LOGGING","SQL_SMALL_RESULT","SQLSTATE","SQLWARNING","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNBOUNDED","UNDO","UNION","UNIQUE","UNLOCK","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","_UTF8","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WRITE","XOR","YEAR_MONTH","ZEROFILL"],Ts=["BIGINT","BINARY","BIT","BLOB","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","UNSIGNED","VARBINARY","VARCHAR","VARCHARACTER","YEAR"],rs=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_COUNT_DISTINCT_ACCUMULATE","APPROX_COUNT_DISTINCT_COMBINE","APPROX_COUNT_DISTINCT_ESTIMATE","APPROX_GEOGRAPHY_INTERSECTS","APPROX_PERCENTILE","ASCII","ASIN","ATAN","ATAN2","AVG","BIN","BINARY","BIT_AND","BIT_COUNT","BIT_OR","BIT_XOR","CAST","CEIL","CEILING","CHAR","CHARACTER_LENGTH","CHAR_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COLLECT","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATEDIFF","DATE_FORMAT","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT","DEGREES","DENSE_RANK","DIV","DOT_PRODUCT","ELT","EUCLIDEAN_DISTANCE","EXP","EXTRACT","FIELD","FIRST","FIRST_VALUE","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOGRAPHY_AREA","GEOGRAPHY_CONTAINS","GEOGRAPHY_DISTANCE","GEOGRAPHY_INTERSECTS","GEOGRAPHY_LATITUDE","GEOGRAPHY_LENGTH","GEOGRAPHY_LONGITUDE","GEOGRAPHY_POINT","GEOGRAPHY_WITHIN_DISTANCE","GEOMETRY_AREA","GEOMETRY_CONTAINS","GEOMETRY_DISTANCE","GEOMETRY_FILTER","GEOMETRY_INTERSECTS","GEOMETRY_LENGTH","GEOMETRY_POINT","GEOMETRY_WITHIN_DISTANCE","GEOMETRY_X","GEOMETRY_Y","GREATEST","GROUPING","GROUP_CONCAT","HEX","HIGHLIGHT","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INITCAP","INSERT","INSTR","INTERVAL","IS","IS NULL","JSON_AGG","JSON_ARRAY_CONTAINS_DOUBLE","JSON_ARRAY_CONTAINS_JSON","JSON_ARRAY_CONTAINS_STRING","JSON_ARRAY_PUSH_DOUBLE","JSON_ARRAY_PUSH_JSON","JSON_ARRAY_PUSH_STRING","JSON_DELETE_KEY","JSON_EXTRACT_DOUBLE","JSON_EXTRACT_JSON","JSON_EXTRACT_STRING","JSON_EXTRACT_BIGINT","JSON_GET_TYPE","JSON_LENGTH","JSON_SET_DOUBLE","JSON_SET_JSON","JSON_SET_STRING","JSON_SPLICE_DOUBLE","JSON_SPLICE_JSON","JSON_SPLICE_STRING","LAG","LAST_DAY","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LN","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LPAD","LTRIM","MATCH","MAX","MD5","MEDIAN","MICROSECOND","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","NOT","NOW","NTH_VALUE","NTILE","NULLIF","OCTET_LENGTH","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIVOT","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANK","REGEXP","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCALAR","SCHEMA","SEC_TO_TIME","SHA1","SHA2","SIGMOID","SIGN","SIN","SLEEP","SPLIT","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUM","SYS_GUID","TAN","TIME","TIMEDIFF","TIME_BUCKET","TIME_FORMAT","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_JSON","TO_NUMBER","TO_SECONDS","TO_TIMESTAMP","TRIM","TRUNC","TRUNCATE","UCASE","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","VALUES","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_SUB","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","YEAR"],$n=a(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),Bs=a(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [IGNORE] [INTO]","VALUES","REPLACE [INTO]","ON DUPLICATE KEY UPDATE","SET","CREATE [OR REPLACE] [TEMPORARY] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] [EXTERNAL] FUNCTION"]),so=a(["CREATE [ROWSTORE] [REFERENCE | TEMPORARY | GLOBAL TEMPORARY] TABLE [IF NOT EXISTS]"]),bo=a(["CREATE VIEW","UPDATE","DELETE [FROM]","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] TABLE","ADD [COLUMN]","ADD [UNIQUE] {INDEX | KEY}","DROP [COLUMN]","MODIFY [COLUMN]","CHANGE","RENAME [TO | AS]","TRUNCATE [TABLE]","ADD AGGREGATOR","ADD LEAF","AGGREGATOR SET AS MASTER","ALTER DATABASE","ALTER PIPELINE","ALTER RESOURCE POOL","ALTER USER","ALTER VIEW","ANALYZE TABLE","ATTACH DATABASE","ATTACH LEAF","ATTACH LEAF ALL","BACKUP DATABASE","BINLOG","BOOTSTRAP AGGREGATOR","CACHE INDEX","CALL","CHANGE","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK BLOB CHECKSUM","CHECK TABLE","CHECKSUM TABLE","CLEAR ORPHAN DATABASES","CLONE","COMMIT","CREATE DATABASE","CREATE GROUP","CREATE INDEX","CREATE LINK","CREATE MILESTONE","CREATE PIPELINE","CREATE RESOURCE POOL","CREATE ROLE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DETACH DATABASE","DETACH PIPELINE","DROP DATABASE","DROP FUNCTION","DROP INDEX","DROP LINK","DROP PIPELINE","DROP PROCEDURE","DROP RESOURCE POOL","DROP ROLE","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","FORCE","GRANT","HANDLER","HELP","KILL CONNECTION","KILLALL QUERIES","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","REBALANCE PARTITIONS","RELEASE SAVEPOINT","REMOVE AGGREGATOR","REMOVE LEAF","REPAIR TABLE","REPLACE","REPLICATE DATABASE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","RESTORE DATABASE","RESTORE REDUNDANCY","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE FUNCTION","SHOW CREATE PIPELINE","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SNAPSHOT DATABASE","SOURCE_POS_WAIT","START GROUP_REPLICATION","START PIPELINE","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP PIPELINE","STOP REPLICA","STOP REPLICATING","STOP SLAVE","TEST PIPELINE","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),Nr=a(["UNION [ALL | DISTINCT]","EXCEPT","INTERSECT","MINUS"]),ks=a(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),Lo=a(["ON DELETE","ON UPDATE","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),Ir={name:"singlestoredb",tokenizerOptions:{reservedSelect:$n,reservedClauses:[...Bs,...so,...bo],reservedSetOperations:Nr,reservedJoins:ks,reservedPhrases:Lo,reservedKeywords:An,reservedDataTypes:Ts,reservedFunctionNames:rs,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_$]+"},{quote:"``",prefixes:["@"],requirePrefix:!0}],lineCommentTypes:["--","#"],operators:[":=","&","|","^","~","<<",">>","<=>","&&","||","::","::$","::%",":>","!:>","*.*"],postProcess:ei},formatOptions:{alwaysDenseOperators:["::","::$","::%"],onelineClauses:[...so,...bo],tabularOnelineClauses:bo}},xa=["ABS","ACOS","ACOSH","ADD_MONTHS","ALL_USER_NAMES","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","APPROX_PERCENTILE_ACCUMULATE","APPROX_PERCENTILE_COMBINE","APPROX_PERCENTILE_ESTIMATE","APPROX_TOP_K","APPROX_TOP_K_ACCUMULATE","APPROX_TOP_K_COMBINE","APPROX_TOP_K_ESTIMATE","APPROXIMATE_JACCARD_INDEX","APPROXIMATE_SIMILARITY","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_COMPACT","ARRAY_CONSTRUCT","ARRAY_CONSTRUCT_COMPACT","ARRAY_CONTAINS","ARRAY_INSERT","ARRAY_INTERSECTION","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_SIZE","ARRAY_SLICE","ARRAY_TO_STRING","ARRAY_UNION_AGG","ARRAY_UNIQUE_AGG","ARRAYS_OVERLAP","AS_ARRAY","AS_BINARY","AS_BOOLEAN","AS_CHAR","AS_VARCHAR","AS_DATE","AS_DECIMAL","AS_NUMBER","AS_DOUBLE","AS_REAL","AS_INTEGER","AS_OBJECT","AS_TIME","AS_TIMESTAMP_LTZ","AS_TIMESTAMP_NTZ","AS_TIMESTAMP_TZ","ASCII","ASIN","ASINH","ATAN","ATAN2","ATANH","AUTO_REFRESH_REGISTRATION_HISTORY","AUTOMATIC_CLUSTERING_HISTORY","AVG","BASE64_DECODE_BINARY","BASE64_DECODE_STRING","BASE64_ENCODE","BIT_LENGTH","BITAND","BITAND_AGG","BITMAP_BIT_POSITION","BITMAP_BUCKET_NUMBER","BITMAP_CONSTRUCT_AGG","BITMAP_COUNT","BITMAP_OR_AGG","BITNOT","BITOR","BITOR_AGG","BITSHIFTLEFT","BITSHIFTRIGHT","BITXOR","BITXOR_AGG","BOOLAND","BOOLAND_AGG","BOOLNOT","BOOLOR","BOOLOR_AGG","BOOLXOR","BOOLXOR_AGG","BUILD_SCOPED_FILE_URL","BUILD_STAGE_FILE_URL","CASE","CAST","CBRT","CEIL","CHARINDEX","CHECK_JSON","CHECK_XML","CHR","CHAR","COALESCE","COLLATE","COLLATION","COMPLETE_TASK_GRAPHS","COMPRESS","CONCAT","CONCAT_WS","CONDITIONAL_CHANGE_EVENT","CONDITIONAL_TRUE_EVENT","CONTAINS","CONVERT_TIMEZONE","COPY_HISTORY","CORR","COS","COSH","COT","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CUME_DIST","CURRENT_ACCOUNT","CURRENT_AVAILABLE_ROLES","CURRENT_CLIENT","CURRENT_DATABASE","CURRENT_DATE","CURRENT_IP_ADDRESS","CURRENT_REGION","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SECONDARY_ROLES","CURRENT_SESSION","CURRENT_STATEMENT","CURRENT_TASK_GRAPHS","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TRANSACTION","CURRENT_USER","CURRENT_VERSION","CURRENT_WAREHOUSE","DATA_TRANSFER_HISTORY","DATABASE_REFRESH_HISTORY","DATABASE_REFRESH_PROGRESS","DATABASE_REFRESH_PROGRESS_BY_JOB","DATABASE_STORAGE_USAGE_HISTORY","DATE_FROM_PARTS","DATE_PART","DATE_TRUNC","DATEADD","DATEDIFF","DAYNAME","DECODE","DECOMPRESS_BINARY","DECOMPRESS_STRING","DECRYPT","DECRYPT_RAW","DEGREES","DENSE_RANK","DIV0","EDITDISTANCE","ENCRYPT","ENCRYPT_RAW","ENDSWITH","EQUAL_NULL","EXP","EXPLAIN_JSON","EXTERNAL_FUNCTIONS_HISTORY","EXTERNAL_TABLE_FILES","EXTERNAL_TABLE_FILE_REGISTRATION_HISTORY","EXTRACT","EXTRACT_SEMANTIC_CATEGORIES","FACTORIAL","FIRST_VALUE","FLATTEN","FLOOR","GENERATE_COLUMN_DESCRIPTION","GENERATOR","GET","GET_ABSOLUTE_PATH","GET_DDL","GET_IGNORE_CASE","GET_OBJECT_REFERENCES","GET_PATH","GET_PRESIGNED_URL","GET_RELATIVE_PATH","GET_STAGE_LOCATION","GETBIT","GREATEST","GROUPING","GROUPING_ID","HASH","HASH_AGG","HAVERSINE","HEX_DECODE_BINARY","HEX_DECODE_STRING","HEX_ENCODE","HLL","HLL_ACCUMULATE","HLL_COMBINE","HLL_ESTIMATE","HLL_EXPORT","HLL_IMPORT","HOUR","MINUTE","SECOND","IFF","IFNULL","ILIKE","ILIKE ANY","INFER_SCHEMA","INITCAP","INSERT","INVOKER_ROLE","INVOKER_SHARE","IS_ARRAY","IS_BINARY","IS_BOOLEAN","IS_CHAR","IS_VARCHAR","IS_DATE","IS_DATE_VALUE","IS_DECIMAL","IS_DOUBLE","IS_REAL","IS_GRANTED_TO_INVOKER_ROLE","IS_INTEGER","IS_NULL_VALUE","IS_OBJECT","IS_ROLE_IN_SESSION","IS_TIME","IS_TIMESTAMP_LTZ","IS_TIMESTAMP_NTZ","IS_TIMESTAMP_TZ","JAROWINKLER_SIMILARITY","JSON_EXTRACT_PATH_TEXT","KURTOSIS","LAG","LAST_DAY","LAST_QUERY_ID","LAST_TRANSACTION","LAST_VALUE","LEAD","LEAST","LEFT","LENGTH","LEN","LIKE","LIKE ALL","LIKE ANY","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOGIN_HISTORY","LOGIN_HISTORY_BY_USER","LOWER","LPAD","LTRIM","MATERIALIZED_VIEW_REFRESH_HISTORY","MD5","MD5_HEX","MD5_BINARY","MD5_NUMBER \u2014 Obsoleted","MD5_NUMBER_LOWER64","MD5_NUMBER_UPPER64","MEDIAN","MIN","MAX","MINHASH","MINHASH_COMBINE","MOD","MODE","MONTHNAME","MONTHS_BETWEEN","NEXT_DAY","NORMAL","NTH_VALUE","NTILE","NULLIF","NULLIFZERO","NVL","NVL2","OBJECT_AGG","OBJECT_CONSTRUCT","OBJECT_CONSTRUCT_KEEP_NULL","OBJECT_DELETE","OBJECT_INSERT","OBJECT_KEYS","OBJECT_PICK","OCTET_LENGTH","PARSE_IP","PARSE_JSON","PARSE_URL","PARSE_XML","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIPE_USAGE_HISTORY","POLICY_CONTEXT","POLICY_REFERENCES","POSITION","POW","POWER","PREVIOUS_DAY","QUERY_ACCELERATION_HISTORY","QUERY_HISTORY","QUERY_HISTORY_BY_SESSION","QUERY_HISTORY_BY_USER","QUERY_HISTORY_BY_WAREHOUSE","RADIANS","RANDOM","RANDSTR","RANK","RATIO_TO_REPORT","REGEXP","REGEXP_COUNT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","REGEXP_SUBSTR_ALL","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REGR_VALX","REGR_VALY","REPEAT","REPLACE","REPLICATION_GROUP_REFRESH_HISTORY","REPLICATION_GROUP_REFRESH_PROGRESS","REPLICATION_GROUP_REFRESH_PROGRESS_BY_JOB","REPLICATION_GROUP_USAGE_HISTORY","REPLICATION_USAGE_HISTORY","REST_EVENT_HISTORY","RESULT_SCAN","REVERSE","RIGHT","RLIKE","ROUND","ROW_NUMBER","RPAD","RTRIM","RTRIMMED_LENGTH","SEARCH_OPTIMIZATION_HISTORY","SEQ1","SEQ2","SEQ4","SEQ8","SERVERLESS_TASK_HISTORY","SHA1","SHA1_HEX","SHA1_BINARY","SHA2","SHA2_HEX","SHA2_BINARY","SIGN","SIN","SINH","SKEW","SOUNDEX","SPACE","SPLIT","SPLIT_PART","SPLIT_TO_TABLE","SQRT","SQUARE","ST_AREA","ST_ASEWKB","ST_ASEWKT","ST_ASGEOJSON","ST_ASWKB","ST_ASBINARY","ST_ASWKT","ST_ASTEXT","ST_AZIMUTH","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DWITHIN","ST_ENDPOINT","ST_ENVELOPE","ST_GEOGFROMGEOHASH","ST_GEOGPOINTFROMGEOHASH","ST_GEOGRAPHYFROMWKB","ST_GEOGRAPHYFROMWKT","ST_GEOHASH","ST_GEOMETRYFROMWKB","ST_GEOMETRYFROMWKT","ST_HAUSDORFFDISTANCE","ST_INTERSECTION","ST_INTERSECTS","ST_LENGTH","ST_MAKEGEOMPOINT","ST_GEOM_POINT","ST_MAKELINE","ST_MAKEPOINT","ST_POINT","ST_MAKEPOLYGON","ST_POLYGON","ST_NPOINTS","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SETSRID","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","STAGE_DIRECTORY_FILE_REGISTRATION_HISTORY","STAGE_STORAGE_USAGE_HISTORY","STARTSWITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRIP_NULL_VALUE","STRTOK","STRTOK_SPLIT_TO_TABLE","STRTOK_TO_ARRAY","SUBSTR","SUBSTRING","SUM","SYSDATE","SYSTEM$ABORT_SESSION","SYSTEM$ABORT_TRANSACTION","SYSTEM$AUTHORIZE_PRIVATELINK","SYSTEM$AUTHORIZE_STAGE_PRIVATELINK_ACCESS","SYSTEM$BEHAVIOR_CHANGE_BUNDLE_STATUS","SYSTEM$CANCEL_ALL_QUERIES","SYSTEM$CANCEL_QUERY","SYSTEM$CLUSTERING_DEPTH","SYSTEM$CLUSTERING_INFORMATION","SYSTEM$CLUSTERING_RATIO ","SYSTEM$CURRENT_USER_TASK_NAME","SYSTEM$DATABASE_REFRESH_HISTORY ","SYSTEM$DATABASE_REFRESH_PROGRESS","SYSTEM$DATABASE_REFRESH_PROGRESS_BY_JOB ","SYSTEM$DISABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$DISABLE_DATABASE_REPLICATION","SYSTEM$ENABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$ESTIMATE_QUERY_ACCELERATION","SYSTEM$ESTIMATE_SEARCH_OPTIMIZATION_COSTS","SYSTEM$EXPLAIN_JSON_TO_TEXT","SYSTEM$EXPLAIN_PLAN_JSON","SYSTEM$EXTERNAL_TABLE_PIPE_STATUS","SYSTEM$GENERATE_SAML_CSR","SYSTEM$GENERATE_SCIM_ACCESS_TOKEN","SYSTEM$GET_AWS_SNS_IAM_POLICY","SYSTEM$GET_PREDECESSOR_RETURN_VALUE","SYSTEM$GET_PRIVATELINK","SYSTEM$GET_PRIVATELINK_AUTHORIZED_ENDPOINTS","SYSTEM$GET_PRIVATELINK_CONFIG","SYSTEM$GET_SNOWFLAKE_PLATFORM_INFO","SYSTEM$GET_TAG","SYSTEM$GET_TAG_ALLOWED_VALUES","SYSTEM$GET_TAG_ON_CURRENT_COLUMN","SYSTEM$GET_TAG_ON_CURRENT_TABLE","SYSTEM$GLOBAL_ACCOUNT_SET_PARAMETER","SYSTEM$LAST_CHANGE_COMMIT_TIME","SYSTEM$LINK_ACCOUNT_OBJECTS_BY_NAME","SYSTEM$MIGRATE_SAML_IDP_REGISTRATION","SYSTEM$PIPE_FORCE_RESUME","SYSTEM$PIPE_STATUS","SYSTEM$REVOKE_PRIVATELINK","SYSTEM$REVOKE_STAGE_PRIVATELINK_ACCESS","SYSTEM$SET_RETURN_VALUE","SYSTEM$SHOW_OAUTH_CLIENT_SECRETS","SYSTEM$STREAM_GET_TABLE_TIMESTAMP","SYSTEM$STREAM_HAS_DATA","SYSTEM$TASK_DEPENDENTS_ENABLE","SYSTEM$TYPEOF","SYSTEM$USER_TASK_CANCEL_ONGOING_EXECUTIONS","SYSTEM$VERIFY_EXTERNAL_OAUTH_TOKEN","SYSTEM$WAIT","SYSTEM$WHITELIST","SYSTEM$WHITELIST_PRIVATELINK","TAG_REFERENCES","TAG_REFERENCES_ALL_COLUMNS","TAG_REFERENCES_WITH_LINEAGE","TAN","TANH","TASK_DEPENDENTS","TASK_HISTORY","TIME_FROM_PARTS","TIME_SLICE","TIMEADD","TIMEDIFF","TIMESTAMP_FROM_PARTS","TIMESTAMPADD","TIMESTAMPDIFF","TO_ARRAY","TO_BINARY","TO_BOOLEAN","TO_CHAR","TO_VARCHAR","TO_DATE","DATE","TO_DECIMAL","TO_NUMBER","TO_NUMERIC","TO_DOUBLE","TO_GEOGRAPHY","TO_GEOMETRY","TO_JSON","TO_OBJECT","TO_TIME","TIME","TO_TIMESTAMP","TO_TIMESTAMP_LTZ","TO_TIMESTAMP_NTZ","TO_TIMESTAMP_TZ","TO_VARIANT","TO_XML","TRANSLATE","TRIM","TRUNCATE","TRUNC","TRUNC","TRY_BASE64_DECODE_BINARY","TRY_BASE64_DECODE_STRING","TRY_CAST","TRY_HEX_DECODE_BINARY","TRY_HEX_DECODE_STRING","TRY_PARSE_JSON","TRY_TO_BINARY","TRY_TO_BOOLEAN","TRY_TO_DATE","TRY_TO_DECIMAL","TRY_TO_NUMBER","TRY_TO_NUMERIC","TRY_TO_DOUBLE","TRY_TO_GEOGRAPHY","TRY_TO_GEOMETRY","TRY_TO_TIME","TRY_TO_TIMESTAMP","TRY_TO_TIMESTAMP_LTZ","TRY_TO_TIMESTAMP_NTZ","TRY_TO_TIMESTAMP_TZ","TYPEOF","UNICODE","UNIFORM","UPPER","UUID_STRING","VALIDATE","VALIDATE_PIPE_LOAD","VAR_POP","VAR_SAMP","VARIANCE","VARIANCE_SAMP","VARIANCE_POP","WAREHOUSE_LOAD_HISTORY","WAREHOUSE_METERING_HISTORY","WIDTH_BUCKET","XMLGET","YEAR","YEAROFWEEK","YEAROFWEEKISO","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFWEEKISO","DAYOFYEAR","WEEK","WEEK","WEEKOFYEAR","WEEKISO","MONTH","QUARTER","ZEROIFNULL","ZIPF"],Ln=["ACCOUNT","ALL","ALTER","AND","ANY","AS","BETWEEN","BY","CASE","CAST","CHECK","COLUMN","CONNECT","CONNECTION","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATABASE","DELETE","DISTINCT","DROP","ELSE","EXISTS","FALSE","FOLLOWING","FOR","FROM","FULL","GRANT","GROUP","GSCLUSTER","HAVING","ILIKE","IN","INCREMENT","INNER","INSERT","INTERSECT","INTO","IS","ISSUE","JOIN","LATERAL","LEFT","LIKE","LOCALTIME","LOCALTIMESTAMP","MINUS","NATURAL","NOT","NULL","OF","ON","OR","ORDER","ORGANIZATION","QUALIFY","REGEXP","REVOKE","RIGHT","RLIKE","ROW","ROWS","SAMPLE","SCHEMA","SELECT","SET","SOME","START","TABLE","TABLESAMPLE","THEN","TO","TRIGGER","TRUE","TRY_CAST","UNION","UNIQUE","UPDATE","USING","VALUES","VIEW","WHEN","WHENEVER","WHERE","WITH","COMMENT"],Ds=["NUMBER","DECIMAL","NUMERIC","INT","INTEGER","BIGINT","SMALLINT","TINYINT","BYTEINT","FLOAT","FLOAT4","FLOAT8","DOUBLE","DOUBLE PRECISION","REAL","VARCHAR","CHAR","CHARACTER","STRING","TEXT","BINARY","VARBINARY","BOOLEAN","DATE","DATETIME","TIME","TIMESTAMP","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TIMESTAMP_TZ","VARIANT","OBJECT","ARRAY","GEOGRAPHY","GEOMETRY"],bs=a(["SELECT [ALL | DISTINCT]"]),Jr=a(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","QUALIFY","LIMIT","OFFSET","FETCH [FIRST | NEXT]","INSERT [OVERWRITE] [ALL INTO | INTO | ALL | FIRST]","{THEN | ELSE} INTO","VALUES","SET","CLUSTER BY","[WITH] {MASKING POLICY | TAG | ROW ACCESS POLICY}","COPY GRANTS","USING TEMPLATE","MERGE INTO","WHEN MATCHED [AND]","THEN {UPDATE SET | DELETE}","WHEN NOT MATCHED THEN INSERT"]),ka=a(["CREATE [OR REPLACE] [VOLATILE] TABLE [IF NOT EXISTS]","CREATE [OR REPLACE] [LOCAL | GLOBAL] {TEMP|TEMPORARY} TABLE [IF NOT EXISTS]"]),cr=a(["CREATE [OR REPLACE] [SECURE] [RECURSIVE] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","RENAME TO","SWAP WITH","[SUSPEND | RESUME] RECLUSTER","DROP CLUSTERING KEY","ADD [COLUMN]","RENAME COLUMN","{ALTER | MODIFY} [COLUMN]","DROP [COLUMN]","{ADD | ALTER | MODIFY | DROP} [CONSTRAINT]","RENAME CONSTRAINT","{ADD | DROP} SEARCH OPTIMIZATION","{SET | UNSET} TAG","{ADD | DROP} ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","[SET DATA] TYPE","UNSET COMMENT","{SET | UNSET} MASKING POLICY","TRUNCATE [TABLE] [IF EXISTS]","ALTER ACCOUNT","ALTER API INTEGRATION","ALTER CONNECTION","ALTER DATABASE","ALTER EXTERNAL TABLE","ALTER FAILOVER GROUP","ALTER FILE FORMAT","ALTER FUNCTION","ALTER INTEGRATION","ALTER MASKING POLICY","ALTER MATERIALIZED VIEW","ALTER NETWORK POLICY","ALTER NOTIFICATION INTEGRATION","ALTER PIPE","ALTER PROCEDURE","ALTER REPLICATION GROUP","ALTER RESOURCE MONITOR","ALTER ROLE","ALTER ROW ACCESS POLICY","ALTER SCHEMA","ALTER SECURITY INTEGRATION","ALTER SEQUENCE","ALTER SESSION","ALTER SESSION POLICY","ALTER SHARE","ALTER STAGE","ALTER STORAGE INTEGRATION","ALTER STREAM","ALTER TAG","ALTER TASK","ALTER USER","ALTER VIEW","ALTER WAREHOUSE","BEGIN","CALL","COMMIT","COPY INTO","CREATE ACCOUNT","CREATE API INTEGRATION","CREATE CONNECTION","CREATE DATABASE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL TABLE","CREATE FAILOVER GROUP","CREATE FILE FORMAT","CREATE FUNCTION","CREATE INTEGRATION","CREATE MANAGED ACCOUNT","CREATE MASKING POLICY","CREATE MATERIALIZED VIEW","CREATE NETWORK POLICY","CREATE NOTIFICATION INTEGRATION","CREATE PIPE","CREATE PROCEDURE","CREATE REPLICATION GROUP","CREATE RESOURCE MONITOR","CREATE ROLE","CREATE ROW ACCESS POLICY","CREATE SCHEMA","CREATE SECURITY INTEGRATION","CREATE SEQUENCE","CREATE SESSION POLICY","CREATE SHARE","CREATE STAGE","CREATE STORAGE INTEGRATION","CREATE STREAM","CREATE TAG","CREATE TASK","CREATE USER","CREATE WAREHOUSE","DELETE","DESCRIBE DATABASE","DESCRIBE EXTERNAL TABLE","DESCRIBE FILE FORMAT","DESCRIBE FUNCTION","DESCRIBE INTEGRATION","DESCRIBE MASKING POLICY","DESCRIBE MATERIALIZED VIEW","DESCRIBE NETWORK POLICY","DESCRIBE PIPE","DESCRIBE PROCEDURE","DESCRIBE RESULT","DESCRIBE ROW ACCESS POLICY","DESCRIBE SCHEMA","DESCRIBE SEQUENCE","DESCRIBE SESSION POLICY","DESCRIBE SHARE","DESCRIBE STAGE","DESCRIBE STREAM","DESCRIBE TABLE","DESCRIBE TASK","DESCRIBE TRANSACTION","DESCRIBE USER","DESCRIBE VIEW","DESCRIBE WAREHOUSE","DROP CONNECTION","DROP DATABASE","DROP EXTERNAL TABLE","DROP FAILOVER GROUP","DROP FILE FORMAT","DROP FUNCTION","DROP INTEGRATION","DROP MANAGED ACCOUNT","DROP MASKING POLICY","DROP MATERIALIZED VIEW","DROP NETWORK POLICY","DROP PIPE","DROP PROCEDURE","DROP REPLICATION GROUP","DROP RESOURCE MONITOR","DROP ROLE","DROP ROW ACCESS POLICY","DROP SCHEMA","DROP SEQUENCE","DROP SESSION POLICY","DROP SHARE","DROP STAGE","DROP STREAM","DROP TAG","DROP TASK","DROP USER","DROP VIEW","DROP WAREHOUSE","EXECUTE IMMEDIATE","EXECUTE TASK","EXPLAIN","GET","GRANT OWNERSHIP","GRANT ROLE","INSERT","LIST","MERGE","PUT","REMOVE","REVOKE ROLE","ROLLBACK","SHOW COLUMNS","SHOW CONNECTIONS","SHOW DATABASES","SHOW DATABASES IN FAILOVER GROUP","SHOW DATABASES IN REPLICATION GROUP","SHOW DELEGATED AUTHORIZATIONS","SHOW EXTERNAL FUNCTIONS","SHOW EXTERNAL TABLES","SHOW FAILOVER GROUPS","SHOW FILE FORMATS","SHOW FUNCTIONS","SHOW GLOBAL ACCOUNTS","SHOW GRANTS","SHOW INTEGRATIONS","SHOW LOCKS","SHOW MANAGED ACCOUNTS","SHOW MASKING POLICIES","SHOW MATERIALIZED VIEWS","SHOW NETWORK POLICIES","SHOW OBJECTS","SHOW ORGANIZATION ACCOUNTS","SHOW PARAMETERS","SHOW PIPES","SHOW PRIMARY KEYS","SHOW PROCEDURES","SHOW REGIONS","SHOW REPLICATION ACCOUNTS","SHOW REPLICATION DATABASES","SHOW REPLICATION GROUPS","SHOW RESOURCE MONITORS","SHOW ROLES","SHOW ROW ACCESS POLICIES","SHOW SCHEMAS","SHOW SEQUENCES","SHOW SESSION POLICIES","SHOW SHARES","SHOW SHARES IN FAILOVER GROUP","SHOW SHARES IN REPLICATION GROUP","SHOW STAGES","SHOW STREAMS","SHOW TABLES","SHOW TAGS","SHOW TASKS","SHOW TRANSACTIONS","SHOW USER FUNCTIONS","SHOW USERS","SHOW VARIABLES","SHOW VIEWS","SHOW WAREHOUSES","TRUNCATE MATERIALIZED VIEW","UNDROP DATABASE","UNDROP SCHEMA","UNDROP TABLE","UNDROP TAG","UNSET","USE DATABASE","USE ROLE","USE SCHEMA","USE SECONDARY ROLES","USE WAREHOUSE"]),Yo=a(["UNION [ALL]","MINUS","EXCEPT","INTERSECT"]),ur=a(["[INNER] JOIN","[NATURAL] {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | NATURAL} JOIN"]),Mo=a(["{ROWS | RANGE} BETWEEN","ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]"]),Zr={name:"snowflake",tokenizerOptions:{reservedSelect:bs,reservedClauses:[...Jr,...ka,...cr],reservedSetOperations:Yo,reservedJoins:ur,reservedPhrases:Mo,reservedKeywords:Ln,reservedDataTypes:Ds,reservedFunctionNames:xa,stringTypes:["$$","''-qq-bs"],identTypes:['""-qq'],variableTypes:[{regex:"[$][1-9]\\d*"},{regex:"[$][_a-zA-Z][_a-zA-Z0-9$]*"}],extraParens:["[]"],identChars:{rest:"$"},lineCommentTypes:["--","//"],operators:["%","::","||","=>"],propertyAccessOperators:[":"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...ka,...cr],tabularOnelineClauses:cr}},Ho=Me=>Me[Me.length-1],kr=Me=>Me.sort((nt,oi)=>oi.length-nt.length||nt.localeCompare(oi)),Ro=Me=>Me.replace(/\s+/gu," "),pr=Me=>/\n/.test(Me),jo=Me=>Me.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&"),xo=/\s+/uy,_r=Me=>new RegExp(`(?:${Me})`,"uy"),Fa=Me=>Me.split("").map(nt=>/ /gu.test(nt)?"\\s+":`[${nt.toUpperCase()}${nt.toLowerCase()}]`).join(""),po=Me=>Me+"(?:-"+Me+")*",Uo=({prefixes:Me,requirePrefix:nt})=>`(?:${Me.map(Fa).join("|")}${nt?"":"|"})`,Hs=Me=>new RegExp(`(?:${Me.map(jo).join("|")}).*?(?=\r
|\r|
|$)`,"uy"),rl=(Me,nt=[])=>{const oi=Me==="open"?0:1,Yi=["()",...nt].map(is=>is[oi]);return _r(Yi.map(jo).join("|"))},al=Me=>_r(`${kr(Me).map(jo).join("|")}`),qr=({rest:Me,dashes:nt})=>Me||nt?`(?![${Me||""}${nt?"-":""}])`:"",$o=(Me,nt={})=>{if(Me.length===0)return/^\b$/u;const oi=qr(nt),Yi=kr(Me).map(jo).join("|").replace(/ /gu,"\\s+");return new RegExp(`(?:${Yi})${oi}\\b`,"iuy")},Do=(Me,nt)=>{if(!Me.length)return;const oi=Me.map(jo).join("|");return _r(`(?:${oi})(?:${nt})`)},wl=()=>{const Me={"<":">","[":"]","(":")","{":"}"},nt="{left}(?:(?!{right}').)*?{right}",oi=Object.entries(Me).map(([Js,Fn])=>nt.replace(/{left}/g,jo(Js)).replace(/{right}/g,jo(Fn))),Yi=jo(Object.keys(Me).join(""));return`[Qq]'(?:${String.raw`(?<tag>[^\s${Yi}])(?:(?!\k<tag>').)*?\k<tag>`}|${oi.join("|")})'`},Ba={"``":"(?:`[^`]*`)+","[]":String.raw`(?:\[[^\]]*\])(?:\][^\]]*\])*`,'""-qq':String.raw`(?:"[^"]*")+`,'""-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")`,'""-qq-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")+`,'""-raw':String.raw`(?:"[^"]*")`,"''-qq":String.raw`(?:'[^']*')+`,"''-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')`,"''-qq-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')+`,"''-raw":String.raw`(?:'[^']*')`,$$:String.raw`(?<tag>\$\w*\$)[\s\S]*?\k<tag>`,"'''..'''":String.raw`'''[^\\]*?(?:\\.[^\\]*?)*?'''`,'""".."""':String.raw`"""[^\\]*?(?:\\.[^\\]*?)*?"""`,"{}":String.raw`(?:\{[^\}]*\})`,"q''":wl()},qo=Me=>typeof Me=="string"?Ba[Me]:"regex"in Me?Me.regex:Uo(Me)+Ba[Me.quote],or=Me=>_r(Me.map(nt=>"regex"in nt?nt.regex:qo(nt)).join("|")),_o=Me=>Me.map(qo).join("|"),fn=Me=>_r(_o(Me)),No=(Me={})=>_r(hr(Me)),hr=({first:Me,rest:nt,dashes:oi,allowFirstCharNumber:Yi}={})=>{const is="\\p{Alphabetic}\\p{Mark}_",Os="\\p{Decimal_Number}",Js=jo(Me!=null?Me:""),Fn=jo(nt!=null?nt:""),io=Yi?`[${is}${Os}${Js}][${is}${Os}${Fn}]*`:`[${is}${Js}][${is}${Os}${Fn}]*`;return oi?po(io):io};function er(Me,nt){const oi=Me.slice(0,nt).split(/\n/);return{line:oi.length,col:oi[oi.length-1].length+1}}var Xo=class{constructor(Me,nt){this.rules=Me,this.dialectName=nt,this.input="",this.index=0}tokenize(Me){this.input=Me,this.index=0;const nt=[];let oi;for(;this.index<this.input.length;){const Yi=this.getWhitespace();if(this.index<this.input.length){if(oi=this.getNextToken(),!oi)throw this.createParseError();nt.push(b(y({},oi),{precedingWhitespace:Yi}))}}return nt}createParseError(){const Me=this.input.slice(this.index,this.index+10),{line:nt,col:oi}=er(this.input,this.index);return new Error(`Parse error: Unexpected "${Me}" at line ${nt} column ${oi}.
${this.dialectInfo()}`)}dialectInfo(){return this.dialectName==="sql"?`This likely happens because you're using the default "sql" dialect.
If possible, please select a more specific dialect (like sqlite, postgresql, etc).`:`SQL dialect used: "${this.dialectName}".`}getWhitespace(){xo.lastIndex=this.index;const Me=xo.exec(this.input);if(Me)return this.index+=Me[0].length,Me[0]}getNextToken(){for(const Me of this.rules){const nt=this.match(Me);if(nt)return nt}}match(Me){Me.regex.lastIndex=this.index;const nt=Me.regex.exec(this.input);if(nt){const oi=nt[0],Yi={type:Me.type,raw:oi,text:Me.text?Me.text(oi):oi,start:this.index};return Me.key&&(Yi.key=Me.key(oi)),this.index+=oi.length,Yi}}},Cr=/\/\*/uy,Wa=/([^/*]|\*[^/]|\/[^*])+/uy,Ar=/\*\//uy,jn=class{constructor(){this.lastIndex=0}exec(Me){let nt="",oi,Yi=0;if(oi=this.matchSection(Cr,Me))nt+=oi,Yi++;else return null;for(;Yi>0;)if(oi=this.matchSection(Cr,Me))nt+=oi,Yi++;else if(oi=this.matchSection(Ar,Me))nt+=oi,Yi--;else if(oi=this.matchSection(Wa,Me))nt+=oi;else return null;return[nt]}matchSection(Me,nt){Me.lastIndex=this.lastIndex;const oi=Me.exec(nt);return oi&&(this.lastIndex+=oi[0].length),oi?oi[0]:null}},hs=class{constructor(Me,nt){this.cfg=Me,this.dialectName=nt,this.rulesBeforeParams=this.buildRulesBeforeParams(Me),this.rulesAfterParams=this.buildRulesAfterParams(Me)}tokenize(Me,nt){const oi=[...this.rulesBeforeParams,...this.buildParamRules(this.cfg,nt),...this.rulesAfterParams],Yi=new Xo(oi,this.dialectName).tokenize(Me);return this.cfg.postProcess?this.cfg.postProcess(Yi):Yi}buildRulesBeforeParams(Me){var nt,oi;return this.validRules([{type:"BLOCK_COMMENT",regex:/(\/\* *sql-formatter-disable *\*\/[\s\S]*?(?:\/\* *sql-formatter-enable *\*\/|$))/uy},{type:"BLOCK_COMMENT",regex:Me.nestedBlockComments?new jn:/(\/\*[^]*?\*\/)/uy},{type:"LINE_COMMENT",regex:Hs((nt=Me.lineCommentTypes)!=null?nt:["--"])},{type:"QUOTED_IDENTIFIER",regex:fn(Me.identTypes)},{type:"NUMBER",regex:/(?:0x[0-9a-fA-F]+|0b[01]+|(?:-\s*)?[0-9]+(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+(?:\.[0-9]+)?)?)(?![\w\p{Alphabetic}])/uy},{type:"RESERVED_PHRASE",regex:$o((oi=Me.reservedPhrases)!=null?oi:[],Me.identChars),text:Cs},{type:"CASE",regex:/CASE\b/iuy,text:Cs},{type:"END",regex:/END\b/iuy,text:Cs},{type:"BETWEEN",regex:/BETWEEN\b/iuy,text:Cs},{type:"LIMIT",regex:Me.reservedClauses.includes("LIMIT")?/LIMIT\b/iuy:void 0,text:Cs},{type:"RESERVED_CLAUSE",regex:$o(Me.reservedClauses,Me.identChars),text:Cs},{type:"RESERVED_SELECT",regex:$o(Me.reservedSelect,Me.identChars),text:Cs},{type:"RESERVED_SET_OPERATION",regex:$o(Me.reservedSetOperations,Me.identChars),text:Cs},{type:"WHEN",regex:/WHEN\b/iuy,text:Cs},{type:"ELSE",regex:/ELSE\b/iuy,text:Cs},{type:"THEN",regex:/THEN\b/iuy,text:Cs},{type:"RESERVED_JOIN",regex:$o(Me.reservedJoins,Me.identChars),text:Cs},{type:"AND",regex:/AND\b/iuy,text:Cs},{type:"OR",regex:/OR\b/iuy,text:Cs},{type:"XOR",regex:Me.supportsXor?/XOR\b/iuy:void 0,text:Cs},{type:"RESERVED_FUNCTION_NAME",regex:$o(Me.reservedFunctionNames,Me.identChars),text:Cs},{type:"RESERVED_DATA_TYPE",regex:$o(Me.reservedDataTypes,Me.identChars),text:Cs},{type:"RESERVED_KEYWORD",regex:$o(Me.reservedKeywords,Me.identChars),text:Cs}])}buildRulesAfterParams(Me){var nt,oi;return this.validRules([{type:"VARIABLE",regex:Me.variableTypes?or(Me.variableTypes):void 0},{type:"STRING",regex:fn(Me.stringTypes)},{type:"IDENTIFIER",regex:No(Me.identChars)},{type:"DELIMITER",regex:/[;]/uy},{type:"COMMA",regex:/[,]/y},{type:"OPEN_PAREN",regex:rl("open",Me.extraParens)},{type:"CLOSE_PAREN",regex:rl("close",Me.extraParens)},{type:"OPERATOR",regex:al(["+","-","/",">","<","=","<>","<=",">=","!=",...(nt=Me.operators)!=null?nt:[]])},{type:"ASTERISK",regex:/[*]/uy},{type:"PROPERTY_ACCESS_OPERATOR",regex:al([".",...(oi=Me.propertyAccessOperators)!=null?oi:[]])}])}buildParamRules(Me,nt){var oi,Yi,is,Os,Js;const Fn={named:(nt==null?void 0:nt.named)||((oi=Me.paramTypes)==null?void 0:oi.named)||[],quoted:(nt==null?void 0:nt.quoted)||((Yi=Me.paramTypes)==null?void 0:Yi.quoted)||[],numbered:(nt==null?void 0:nt.numbered)||((is=Me.paramTypes)==null?void 0:is.numbered)||[],positional:typeof(nt==null?void 0:nt.positional)=="boolean"?nt.positional:(Os=Me.paramTypes)==null?void 0:Os.positional,custom:(nt==null?void 0:nt.custom)||((Js=Me.paramTypes)==null?void 0:Js.custom)||[]};return this.validRules([{type:"NAMED_PARAMETER",regex:Do(Fn.named,hr(Me.paramChars||Me.identChars)),key:io=>io.slice(1)},{type:"QUOTED_PARAMETER",regex:Do(Fn.quoted,_o(Me.identTypes)),key:io=>(({tokenKey:Tr,quoteChar:ha})=>Tr.replace(new RegExp(jo("\\"+ha),"gu"),ha))({tokenKey:io.slice(2,-1),quoteChar:io.slice(-1)})},{type:"NUMBERED_PARAMETER",regex:Do(Fn.numbered,"[0-9]+"),key:io=>io.slice(1)},{type:"POSITIONAL_PARAMETER",regex:Fn.positional?/[?]/y:void 0},...Fn.custom.map(io=>{var Tr;return{type:"CUSTOM_PARAMETER",regex:_r(io.regex),key:(Tr=io.key)!=null?Tr:ha=>ha}})])}validRules(Me){return Me.filter(nt=>!!nt.regex)}},Cs=Me=>Ro(Me.toUpperCase()),Es=new Map,Vo=Me=>{let nt=Es.get(Me);return nt||(nt=eo(Me),Es.set(Me,nt)),nt},eo=Me=>({tokenizer:new hs(Me.tokenizerOptions,Me.name),formatOptions:Mn(Me.formatOptions)}),Mn=Me=>{var nt;return{alwaysDenseOperators:Me.alwaysDenseOperators||[],onelineClauses:Object.fromEntries(Me.onelineClauses.map(oi=>[oi,!0])),tabularOnelineClauses:Object.fromEntries(((nt=Me.tabularOnelineClauses)!=null?nt:Me.onelineClauses).map(oi=>[oi,!0]))}};function Qo(Me){return Me.indentStyle==="tabularLeft"||Me.indentStyle==="tabularRight"?" ".repeat(10):Me.useTabs?"	":" ".repeat(Me.tabWidth)}function Dr(Me){return Me.indentStyle==="tabularLeft"||Me.indentStyle==="tabularRight"}var Fr=class{constructor(Me){this.params=Me,this.index=0}get({key:Me,text:nt}){return this.params?Me?this.params[Me]:this.params[this.index++]:nt}getPositionalParameterIndex(){return this.index}setPositionalParameterIndex(Me){this.index=Me}};function Er(Me){return Me.map(wr).map(Sr).map(Qs).map(rr).map($s)}var wr=(Me,nt,oi)=>{if(H(Me.type)){const Yi=yl(oi,nt);if(Yi&&Yi.type==="PROPERTY_ACCESS_OPERATOR")return b(y({},Me),{type:"IDENTIFIER",text:Me.raw})}return Me},Sr=(Me,nt,oi)=>{if(Me.type==="RESERVED_FUNCTION_NAME"){const Yi=_a(oi,nt);if(!Yi||!yr(Yi))return b(y({},Me),{type:"RESERVED_KEYWORD"})}return Me},Qs=(Me,nt,oi)=>{if(Me.type==="RESERVED_DATA_TYPE"){const Yi=_a(oi,nt);if(Yi&&yr(Yi))return b(y({},Me),{type:"RESERVED_PARAMETERIZED_DATA_TYPE"})}return Me},rr=(Me,nt,oi)=>{if(Me.type==="IDENTIFIER"){const Yi=_a(oi,nt);if(Yi&&ll(Yi))return b(y({},Me),{type:"ARRAY_IDENTIFIER"})}return Me},$s=(Me,nt,oi)=>{if(Me.type==="RESERVED_DATA_TYPE"){const Yi=_a(oi,nt);if(Yi&&ll(Yi))return b(y({},Me),{type:"ARRAY_KEYWORD"})}return Me},yl=(Me,nt)=>_a(Me,nt,-1),_a=(Me,nt,oi=1)=>{let Yi=1;for(;Me[nt+Yi*oi]&&Ca(Me[nt+Yi*oi]);)Yi++;return Me[nt+Yi*oi]},yr=Me=>Me.type==="OPEN_PAREN"&&Me.text==="(",ll=Me=>Me.type==="OPEN_PAREN"&&Me.text==="[",Ca=Me=>Me.type==="BLOCK_COMMENT"||Me.type==="LINE_COMMENT",Ha=class{constructor(Me){this.tokenize=Me,this.index=0,this.tokens=[],this.input=""}reset(Me,nt){this.input=Me,this.index=0,this.tokens=this.tokenize(Me)}next(){return this.tokens[this.index++]}save(){}formatError(Me){const{line:nt,col:oi}=er(this.input,Me.start);return`Parse error at token: ${Me.text} at line ${nt} column ${oi}`}has(Me){return Me in $}};function vr(Me){return Me[0]}var ns=new Ha(Me=>[]),ea=([[Me]])=>Me,to=Me=>({type:"keyword",tokenType:Me.type,text:Me.text,raw:Me.raw}),ua=Me=>({type:"data_type",text:Me.text,raw:Me.raw}),oo=(Me,{leading:nt,trailing:oi})=>(nt!=null&&nt.length&&(Me=b(y({},Me),{leadingComments:nt})),oi!=null&&oi.length&&(Me=b(y({},Me),{trailingComments:oi})),Me),Or=(Me,{leading:nt,trailing:oi})=>{if(nt!=null&&nt.length){const[Yi,...is]=Me;Me=[oo(Yi,{leading:nt}),...is]}if(oi!=null&&oi.length){const Yi=Me.slice(0,-1),is=Me[Me.length-1];Me=[...Yi,oo(is,{trailing:oi})]}return Me},Ed={Lexer:ns,ParserRules:[{name:"main$ebnf$1",symbols:[]},{name:"main$ebnf$1",symbols:["main$ebnf$1","statement"],postprocess:Me=>Me[0].concat([Me[1]])},{name:"main",symbols:["main$ebnf$1"],postprocess:([Me])=>{const nt=Me[Me.length-1];return nt&&!nt.hasSemicolon?nt.children.length>0?Me:Me.slice(0,-1):Me}},{name:"statement$subexpression$1",symbols:[ns.has("DELIMITER")?{type:"DELIMITER"}:DELIMITER]},{name:"statement$subexpression$1",symbols:[ns.has("EOF")?{type:"EOF"}:EOF]},{name:"statement",symbols:["expressions_or_clauses","statement$subexpression$1"],postprocess:([Me,[nt]])=>({type:"statement",children:Me,hasSemicolon:nt.type==="DELIMITER"})},{name:"expressions_or_clauses$ebnf$1",symbols:[]},{name:"expressions_or_clauses$ebnf$1",symbols:["expressions_or_clauses$ebnf$1","free_form_sql"],postprocess:Me=>Me[0].concat([Me[1]])},{name:"expressions_or_clauses$ebnf$2",symbols:[]},{name:"expressions_or_clauses$ebnf$2",symbols:["expressions_or_clauses$ebnf$2","clause"],postprocess:Me=>Me[0].concat([Me[1]])},{name:"expressions_or_clauses",symbols:["expressions_or_clauses$ebnf$1","expressions_or_clauses$ebnf$2"],postprocess:([Me,nt])=>[...Me,...nt]},{name:"clause$subexpression$1",symbols:["limit_clause"]},{name:"clause$subexpression$1",symbols:["select_clause"]},{name:"clause$subexpression$1",symbols:["other_clause"]},{name:"clause$subexpression$1",symbols:["set_operation"]},{name:"clause",symbols:["clause$subexpression$1"],postprocess:ea},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["free_form_sql"]},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1$ebnf$1","free_form_sql"],postprocess:Me=>Me[0].concat([Me[1]])},{name:"limit_clause$ebnf$1$subexpression$1",symbols:[ns.has("COMMA")?{type:"COMMA"}:COMMA,"limit_clause$ebnf$1$subexpression$1$ebnf$1"]},{name:"limit_clause$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1"],postprocess:vr},{name:"limit_clause$ebnf$1",symbols:[],postprocess:()=>null},{name:"limit_clause",symbols:[ns.has("LIMIT")?{type:"LIMIT"}:LIMIT,"_","expression_chain_","limit_clause$ebnf$1"],postprocess:([Me,nt,oi,Yi])=>{if(Yi){const[is,Os]=Yi;return{type:"limit_clause",limitKw:oo(to(Me),{trailing:nt}),offset:oi,count:Os}}else return{type:"limit_clause",limitKw:oo(to(Me),{trailing:nt}),count:oi}}},{name:"select_clause$subexpression$1$ebnf$1",symbols:[]},{name:"select_clause$subexpression$1$ebnf$1",symbols:["select_clause$subexpression$1$ebnf$1","free_form_sql"],postprocess:Me=>Me[0].concat([Me[1]])},{name:"select_clause$subexpression$1",symbols:["all_columns_asterisk","select_clause$subexpression$1$ebnf$1"]},{name:"select_clause$subexpression$1$ebnf$2",symbols:[]},{name:"select_clause$subexpression$1$ebnf$2",symbols:["select_clause$subexpression$1$ebnf$2","free_form_sql"],postprocess:Me=>Me[0].concat([Me[1]])},{name:"select_clause$subexpression$1",symbols:["asteriskless_free_form_sql","select_clause$subexpression$1$ebnf$2"]},{name:"select_clause",symbols:[ns.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT,"select_clause$subexpression$1"],postprocess:([Me,[nt,oi]])=>({type:"clause",nameKw:to(Me),children:[nt,...oi]})},{name:"select_clause",symbols:[ns.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT],postprocess:([Me])=>({type:"clause",nameKw:to(Me),children:[]})},{name:"all_columns_asterisk",symbols:[ns.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK],postprocess:()=>({type:"all_columns_asterisk"})},{name:"other_clause$ebnf$1",symbols:[]},{name:"other_clause$ebnf$1",symbols:["other_clause$ebnf$1","free_form_sql"],postprocess:Me=>Me[0].concat([Me[1]])},{name:"other_clause",symbols:[ns.has("RESERVED_CLAUSE")?{type:"RESERVED_CLAUSE"}:RESERVED_CLAUSE,"other_clause$ebnf$1"],postprocess:([Me,nt])=>({type:"clause",nameKw:to(Me),children:nt})},{name:"set_operation$ebnf$1",symbols:[]},{name:"set_operation$ebnf$1",symbols:["set_operation$ebnf$1","free_form_sql"],postprocess:Me=>Me[0].concat([Me[1]])},{name:"set_operation",symbols:[ns.has("RESERVED_SET_OPERATION")?{type:"RESERVED_SET_OPERATION"}:RESERVED_SET_OPERATION,"set_operation$ebnf$1"],postprocess:([Me,nt])=>({type:"set_operation",nameKw:to(Me),children:nt})},{name:"expression_chain_$ebnf$1",symbols:["expression_with_comments_"]},{name:"expression_chain_$ebnf$1",symbols:["expression_chain_$ebnf$1","expression_with_comments_"],postprocess:Me=>Me[0].concat([Me[1]])},{name:"expression_chain_",symbols:["expression_chain_$ebnf$1"],postprocess:vr},{name:"expression_chain$ebnf$1",symbols:[]},{name:"expression_chain$ebnf$1",symbols:["expression_chain$ebnf$1","_expression_with_comments"],postprocess:Me=>Me[0].concat([Me[1]])},{name:"expression_chain",symbols:["expression","expression_chain$ebnf$1"],postprocess:([Me,nt])=>[Me,...nt]},{name:"andless_expression_chain$ebnf$1",symbols:[]},{name:"andless_expression_chain$ebnf$1",symbols:["andless_expression_chain$ebnf$1","_andless_expression_with_comments"],postprocess:Me=>Me[0].concat([Me[1]])},{name:"andless_expression_chain",symbols:["andless_expression","andless_expression_chain$ebnf$1"],postprocess:([Me,nt])=>[Me,...nt]},{name:"expression_with_comments_",symbols:["expression","_"],postprocess:([Me,nt])=>oo(Me,{trailing:nt})},{name:"_expression_with_comments",symbols:["_","expression"],postprocess:([Me,nt])=>oo(nt,{leading:Me})},{name:"_andless_expression_with_comments",symbols:["_","andless_expression"],postprocess:([Me,nt])=>oo(nt,{leading:Me})},{name:"free_form_sql$subexpression$1",symbols:["asteriskless_free_form_sql"]},{name:"free_form_sql$subexpression$1",symbols:["asterisk"]},{name:"free_form_sql",symbols:["free_form_sql$subexpression$1"],postprocess:ea},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["logic_operator"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comma"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comment"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["other_keyword"]},{name:"asteriskless_free_form_sql",symbols:["asteriskless_free_form_sql$subexpression$1"],postprocess:ea},{name:"expression$subexpression$1",symbols:["andless_expression"]},{name:"expression$subexpression$1",symbols:["logic_operator"]},{name:"expression",symbols:["expression$subexpression$1"],postprocess:ea},{name:"andless_expression$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"andless_expression$subexpression$1",symbols:["asterisk"]},{name:"andless_expression",symbols:["andless_expression$subexpression$1"],postprocess:ea},{name:"asteriskless_andless_expression$subexpression$1",symbols:["atomic_expression"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["between_predicate"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["case_expression"]},{name:"asteriskless_andless_expression",symbols:["asteriskless_andless_expression$subexpression$1"],postprocess:ea},{name:"atomic_expression$subexpression$1",symbols:["array_subscript"]},{name:"atomic_expression$subexpression$1",symbols:["function_call"]},{name:"atomic_expression$subexpression$1",symbols:["property_access"]},{name:"atomic_expression$subexpression$1",symbols:["parenthesis"]},{name:"atomic_expression$subexpression$1",symbols:["curly_braces"]},{name:"atomic_expression$subexpression$1",symbols:["square_brackets"]},{name:"atomic_expression$subexpression$1",symbols:["operator"]},{name:"atomic_expression$subexpression$1",symbols:["identifier"]},{name:"atomic_expression$subexpression$1",symbols:["parameter"]},{name:"atomic_expression$subexpression$1",symbols:["literal"]},{name:"atomic_expression$subexpression$1",symbols:["data_type"]},{name:"atomic_expression$subexpression$1",symbols:["keyword"]},{name:"atomic_expression",symbols:["atomic_expression$subexpression$1"],postprocess:ea},{name:"array_subscript",symbols:[ns.has("ARRAY_IDENTIFIER")?{type:"ARRAY_IDENTIFIER"}:ARRAY_IDENTIFIER,"_","square_brackets"],postprocess:([Me,nt,oi])=>({type:"array_subscript",array:oo({type:"identifier",quoted:!1,text:Me.text},{trailing:nt}),parenthesis:oi})},{name:"array_subscript",symbols:[ns.has("ARRAY_KEYWORD")?{type:"ARRAY_KEYWORD"}:ARRAY_KEYWORD,"_","square_brackets"],postprocess:([Me,nt,oi])=>({type:"array_subscript",array:oo(to(Me),{trailing:nt}),parenthesis:oi})},{name:"function_call",symbols:[ns.has("RESERVED_FUNCTION_NAME")?{type:"RESERVED_FUNCTION_NAME"}:RESERVED_FUNCTION_NAME,"_","parenthesis"],postprocess:([Me,nt,oi])=>({type:"function_call",nameKw:oo(to(Me),{trailing:nt}),parenthesis:oi})},{name:"parenthesis",symbols:[{literal:"("},"expressions_or_clauses",{literal:")"}],postprocess:([Me,nt,oi])=>({type:"parenthesis",children:nt,openParen:"(",closeParen:")"})},{name:"curly_braces$ebnf$1",symbols:[]},{name:"curly_braces$ebnf$1",symbols:["curly_braces$ebnf$1","free_form_sql"],postprocess:Me=>Me[0].concat([Me[1]])},{name:"curly_braces",symbols:[{literal:"{"},"curly_braces$ebnf$1",{literal:"}"}],postprocess:([Me,nt,oi])=>({type:"parenthesis",children:nt,openParen:"{",closeParen:"}"})},{name:"square_brackets$ebnf$1",symbols:[]},{name:"square_brackets$ebnf$1",symbols:["square_brackets$ebnf$1","free_form_sql"],postprocess:Me=>Me[0].concat([Me[1]])},{name:"square_brackets",symbols:[{literal:"["},"square_brackets$ebnf$1",{literal:"]"}],postprocess:([Me,nt,oi])=>({type:"parenthesis",children:nt,openParen:"[",closeParen:"]"})},{name:"property_access$subexpression$1",symbols:["identifier"]},{name:"property_access$subexpression$1",symbols:["array_subscript"]},{name:"property_access$subexpression$1",symbols:["all_columns_asterisk"]},{name:"property_access$subexpression$1",symbols:["parameter"]},{name:"property_access",symbols:["atomic_expression","_",ns.has("PROPERTY_ACCESS_OPERATOR")?{type:"PROPERTY_ACCESS_OPERATOR"}:PROPERTY_ACCESS_OPERATOR,"_","property_access$subexpression$1"],postprocess:([Me,nt,oi,Yi,[is]])=>({type:"property_access",object:oo(Me,{trailing:nt}),operator:oi.text,property:oo(is,{leading:Yi})})},{name:"between_predicate",symbols:[ns.has("BETWEEN")?{type:"BETWEEN"}:BETWEEN,"_","andless_expression_chain","_",ns.has("AND")?{type:"AND"}:AND,"_","andless_expression"],postprocess:([Me,nt,oi,Yi,is,Os,Js])=>({type:"between_predicate",betweenKw:to(Me),expr1:Or(oi,{leading:nt,trailing:Yi}),andKw:to(is),expr2:[oo(Js,{leading:Os})]})},{name:"case_expression$ebnf$1",symbols:["expression_chain_"],postprocess:vr},{name:"case_expression$ebnf$1",symbols:[],postprocess:()=>null},{name:"case_expression$ebnf$2",symbols:[]},{name:"case_expression$ebnf$2",symbols:["case_expression$ebnf$2","case_clause"],postprocess:Me=>Me[0].concat([Me[1]])},{name:"case_expression",symbols:[ns.has("CASE")?{type:"CASE"}:CASE,"_","case_expression$ebnf$1","case_expression$ebnf$2",ns.has("END")?{type:"END"}:END],postprocess:([Me,nt,oi,Yi,is])=>({type:"case_expression",caseKw:oo(to(Me),{trailing:nt}),endKw:to(is),expr:oi||[],clauses:Yi})},{name:"case_clause",symbols:[ns.has("WHEN")?{type:"WHEN"}:WHEN,"_","expression_chain_",ns.has("THEN")?{type:"THEN"}:THEN,"_","expression_chain_"],postprocess:([Me,nt,oi,Yi,is,Os])=>({type:"case_when",whenKw:oo(to(Me),{trailing:nt}),thenKw:oo(to(Yi),{trailing:is}),condition:oi,result:Os})},{name:"case_clause",symbols:[ns.has("ELSE")?{type:"ELSE"}:ELSE,"_","expression_chain_"],postprocess:([Me,nt,oi])=>({type:"case_else",elseKw:oo(to(Me),{trailing:nt}),result:oi})},{name:"comma$subexpression$1",symbols:[ns.has("COMMA")?{type:"COMMA"}:COMMA]},{name:"comma",symbols:["comma$subexpression$1"],postprocess:([[Me]])=>({type:"comma"})},{name:"asterisk$subexpression$1",symbols:[ns.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK]},{name:"asterisk",symbols:["asterisk$subexpression$1"],postprocess:([[Me]])=>({type:"operator",text:Me.text})},{name:"operator$subexpression$1",symbols:[ns.has("OPERATOR")?{type:"OPERATOR"}:OPERATOR]},{name:"operator",symbols:["operator$subexpression$1"],postprocess:([[Me]])=>({type:"operator",text:Me.text})},{name:"identifier$subexpression$1",symbols:[ns.has("IDENTIFIER")?{type:"IDENTIFIER"}:IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[ns.has("QUOTED_IDENTIFIER")?{type:"QUOTED_IDENTIFIER"}:QUOTED_IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[ns.has("VARIABLE")?{type:"VARIABLE"}:VARIABLE]},{name:"identifier",symbols:["identifier$subexpression$1"],postprocess:([[Me]])=>({type:"identifier",quoted:Me.type!=="IDENTIFIER",text:Me.text})},{name:"parameter$subexpression$1",symbols:[ns.has("NAMED_PARAMETER")?{type:"NAMED_PARAMETER"}:NAMED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[ns.has("QUOTED_PARAMETER")?{type:"QUOTED_PARAMETER"}:QUOTED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[ns.has("NUMBERED_PARAMETER")?{type:"NUMBERED_PARAMETER"}:NUMBERED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[ns.has("POSITIONAL_PARAMETER")?{type:"POSITIONAL_PARAMETER"}:POSITIONAL_PARAMETER]},{name:"parameter$subexpression$1",symbols:[ns.has("CUSTOM_PARAMETER")?{type:"CUSTOM_PARAMETER"}:CUSTOM_PARAMETER]},{name:"parameter",symbols:["parameter$subexpression$1"],postprocess:([[Me]])=>({type:"parameter",key:Me.key,text:Me.text})},{name:"literal$subexpression$1",symbols:[ns.has("NUMBER")?{type:"NUMBER"}:NUMBER]},{name:"literal$subexpression$1",symbols:[ns.has("STRING")?{type:"STRING"}:STRING]},{name:"literal",symbols:["literal$subexpression$1"],postprocess:([[Me]])=>({type:"literal",text:Me.text})},{name:"keyword$subexpression$1",symbols:[ns.has("RESERVED_KEYWORD")?{type:"RESERVED_KEYWORD"}:RESERVED_KEYWORD]},{name:"keyword$subexpression$1",symbols:[ns.has("RESERVED_PHRASE")?{type:"RESERVED_PHRASE"}:RESERVED_PHRASE]},{name:"keyword$subexpression$1",symbols:[ns.has("RESERVED_JOIN")?{type:"RESERVED_JOIN"}:RESERVED_JOIN]},{name:"keyword",symbols:["keyword$subexpression$1"],postprocess:([[Me]])=>to(Me)},{name:"data_type$subexpression$1",symbols:[ns.has("RESERVED_DATA_TYPE")?{type:"RESERVED_DATA_TYPE"}:RESERVED_DATA_TYPE]},{name:"data_type",symbols:["data_type$subexpression$1"],postprocess:([[Me]])=>ua(Me)},{name:"data_type",symbols:[ns.has("RESERVED_PARAMETERIZED_DATA_TYPE")?{type:"RESERVED_PARAMETERIZED_DATA_TYPE"}:RESERVED_PARAMETERIZED_DATA_TYPE,"_","parenthesis"],postprocess:([Me,nt,oi])=>({type:"parameterized_data_type",dataType:oo(ua(Me),{trailing:nt}),parenthesis:oi})},{name:"logic_operator$subexpression$1",symbols:[ns.has("AND")?{type:"AND"}:AND]},{name:"logic_operator$subexpression$1",symbols:[ns.has("OR")?{type:"OR"}:OR]},{name:"logic_operator$subexpression$1",symbols:[ns.has("XOR")?{type:"XOR"}:XOR]},{name:"logic_operator",symbols:["logic_operator$subexpression$1"],postprocess:([[Me]])=>to(Me)},{name:"other_keyword$subexpression$1",symbols:[ns.has("WHEN")?{type:"WHEN"}:WHEN]},{name:"other_keyword$subexpression$1",symbols:[ns.has("THEN")?{type:"THEN"}:THEN]},{name:"other_keyword$subexpression$1",symbols:[ns.has("ELSE")?{type:"ELSE"}:ELSE]},{name:"other_keyword$subexpression$1",symbols:[ns.has("END")?{type:"END"}:END]},{name:"other_keyword",symbols:["other_keyword$subexpression$1"],postprocess:([[Me]])=>to(Me)},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1","comment"],postprocess:Me=>Me[0].concat([Me[1]])},{name:"_",symbols:["_$ebnf$1"],postprocess:([Me])=>Me},{name:"comment",symbols:[ns.has("LINE_COMMENT")?{type:"LINE_COMMENT"}:LINE_COMMENT],postprocess:([Me])=>({type:"line_comment",text:Me.text,precedingWhitespace:Me.precedingWhitespace})},{name:"comment",symbols:[ns.has("BLOCK_COMMENT")?{type:"BLOCK_COMMENT"}:BLOCK_COMMENT],postprocess:([Me])=>({type:"block_comment",text:Me.text,precedingWhitespace:Me.precedingWhitespace})},{name:"comment",symbols:[ns.has("DISABLE_COMMENT")?{type:"DISABLE_COMMENT"}:DISABLE_COMMENT],postprocess:([Me])=>({type:"disable_comment",text:Me.text,precedingWhitespace:Me.precedingWhitespace})}],ParserStart:"main"},Sd=Ed,{Parser:Ol,Grammar:dl}=D;function vd(Me){let nt={};const oi=new Ha(is=>[...Er(Me.tokenize(is,nt)),J(is.length)]),Yi=new Ol(dl.fromCompiled(Sd),{lexer:oi});return{parse:(is,Os)=>{nt=Os;const{results:Js}=Yi.feed(is);if(Js.length===1)return Js[0];throw Js.length===0?new Error("Parse error: Invalid SQL"):new Error(`Parse error: Ambiguous grammar
${JSON.stringify(Js,void 0,2)}`)}}}var cl=class{constructor(Me){this.indentation=Me,this.items=[]}add(...Me){for(const nt of Me)switch(nt){case 0:this.items.push(0);break;case 1:this.trimHorizontalWhitespace();break;case 2:this.trimWhitespace();break;case 3:this.trimHorizontalWhitespace(),this.addNewline(3);break;case 4:this.trimHorizontalWhitespace(),this.addNewline(4);break;case 5:this.addIndentation();break;case 6:this.items.push(6);break;default:this.items.push(nt)}}trimHorizontalWhitespace(){for(;ul(Ho(this.items));)this.items.pop()}trimWhitespace(){for(;Ea(Ho(this.items));)this.items.pop()}addNewline(Me){if(this.items.length>0)switch(Ho(this.items)){case 3:this.items.pop(),this.items.push(Me);break;case 4:break;default:this.items.push(Me);break}}addIndentation(){for(let Me=0;Me<this.indentation.getLevel();Me++)this.items.push(6)}toString(){return this.items.map(Me=>this.itemToString(Me)).join("")}getLayoutItems(){return this.items}itemToString(Me){switch(Me){case 0:return" ";case 3:case 4:return`
`;case 6:return this.indentation.getSingleIndent();default:return Me}}},ul=Me=>Me===0||Me===6,Ea=Me=>Me===0||Me===6||Me===3;function tr(Me,nt){if(nt==="standard")return Me;let oi=[];return Me.length>=10&&Me.includes(" ")&&([Me,...oi]=Me.split(" ")),nt==="tabularLeft"?Me=Me.padEnd(9," "):Me=Me.padStart(9," "),Me+["",...oi].join(" ")}function ta(Me){return P(Me)||Me==="RESERVED_CLAUSE"||Me==="RESERVED_SELECT"||Me==="RESERVED_SET_OPERATION"||Me==="RESERVED_JOIN"||Me==="LIMIT"}var Zn="top-level",Sa="block-level",Jo=class{constructor(Me){this.indent=Me,this.indentTypes=[]}getSingleIndent(){return this.indent}getLevel(){return this.indentTypes.length}increaseTopLevel(){this.indentTypes.push(Zn)}increaseBlockLevel(){this.indentTypes.push(Sa)}decreaseTopLevel(){this.indentTypes.length>0&&Ho(this.indentTypes)===Zn&&this.indentTypes.pop()}decreaseBlockLevel(){for(;this.indentTypes.length>0&&this.indentTypes.pop()===Zn;);}},Go=class extends cl{constructor(Me){super(new Jo("")),this.expressionWidth=Me,this.length=0,this.trailingSpace=!1}add(...Me){if(Me.forEach(nt=>this.addToLength(nt)),this.length>this.expressionWidth)throw new vo;super.add(...Me)}addToLength(Me){if(typeof Me=="string")this.length+=Me.length,this.trailingSpace=!1;else{if(Me===4||Me===3)throw new vo;Me===5||Me===6||Me===0?this.trailingSpace||(this.length++,this.trailingSpace=!0):(Me===2||Me===1)&&this.trailingSpace&&(this.trailingSpace=!1,this.length--)}}},vo=class extends Error{},hl=class K_{constructor({cfg:nt,dialectCfg:oi,params:Yi,layout:is,inline:Os=!1}){this.inline=!1,this.nodes=[],this.index=-1,this.cfg=nt,this.dialectCfg=oi,this.inline=Os,this.params=Yi,this.layout=is}format(nt){for(this.nodes=nt,this.index=0;this.index<this.nodes.length;this.index++)this.formatNode(this.nodes[this.index]);return this.layout}formatNode(nt){this.formatComments(nt.leadingComments),this.formatNodeWithoutComments(nt),this.formatComments(nt.trailingComments)}formatNodeWithoutComments(nt){switch(nt.type){case"function_call":return this.formatFunctionCall(nt);case"parameterized_data_type":return this.formatParameterizedDataType(nt);case"array_subscript":return this.formatArraySubscript(nt);case"property_access":return this.formatPropertyAccess(nt);case"parenthesis":return this.formatParenthesis(nt);case"between_predicate":return this.formatBetweenPredicate(nt);case"case_expression":return this.formatCaseExpression(nt);case"case_when":return this.formatCaseWhen(nt);case"case_else":return this.formatCaseElse(nt);case"clause":return this.formatClause(nt);case"set_operation":return this.formatSetOperation(nt);case"limit_clause":return this.formatLimitClause(nt);case"all_columns_asterisk":return this.formatAllColumnsAsterisk(nt);case"literal":return this.formatLiteral(nt);case"identifier":return this.formatIdentifier(nt);case"parameter":return this.formatParameter(nt);case"operator":return this.formatOperator(nt);case"comma":return this.formatComma(nt);case"line_comment":return this.formatLineComment(nt);case"block_comment":return this.formatBlockComment(nt);case"disable_comment":return this.formatBlockComment(nt);case"data_type":return this.formatDataType(nt);case"keyword":return this.formatKeywordNode(nt)}}formatFunctionCall(nt){this.withComments(nt.nameKw,()=>{this.layout.add(this.showFunctionKw(nt.nameKw))}),this.formatNode(nt.parenthesis)}formatParameterizedDataType(nt){this.withComments(nt.dataType,()=>{this.layout.add(this.showDataType(nt.dataType))}),this.formatNode(nt.parenthesis)}formatArraySubscript(nt){let oi;switch(nt.array.type){case"data_type":oi=this.showDataType(nt.array);break;case"keyword":oi=this.showKw(nt.array);break;default:oi=this.showIdentifier(nt.array);break}this.withComments(nt.array,()=>{this.layout.add(oi)}),this.formatNode(nt.parenthesis)}formatPropertyAccess(nt){this.formatNode(nt.object),this.layout.add(1,nt.operator),this.formatNode(nt.property)}formatParenthesis(nt){const oi=this.formatInlineExpression(nt.children);oi?(this.layout.add(nt.openParen),this.layout.add(...oi.getLayoutItems()),this.layout.add(1,nt.closeParen,0)):(this.layout.add(nt.openParen,3),Dr(this.cfg)?(this.layout.add(5),this.layout=this.formatSubExpression(nt.children)):(this.layout.indentation.increaseBlockLevel(),this.layout.add(5),this.layout=this.formatSubExpression(nt.children),this.layout.indentation.decreaseBlockLevel()),this.layout.add(3,5,nt.closeParen,0))}formatBetweenPredicate(nt){this.layout.add(this.showKw(nt.betweenKw),0),this.layout=this.formatSubExpression(nt.expr1),this.layout.add(1,0,this.showNonTabularKw(nt.andKw),0),this.layout=this.formatSubExpression(nt.expr2),this.layout.add(0)}formatCaseExpression(nt){this.formatNode(nt.caseKw),this.layout.indentation.increaseBlockLevel(),this.layout=this.formatSubExpression(nt.expr),this.layout=this.formatSubExpression(nt.clauses),this.layout.indentation.decreaseBlockLevel(),this.layout.add(3,5),this.formatNode(nt.endKw)}formatCaseWhen(nt){this.layout.add(3,5),this.formatNode(nt.whenKw),this.layout=this.formatSubExpression(nt.condition),this.formatNode(nt.thenKw),this.layout=this.formatSubExpression(nt.result)}formatCaseElse(nt){this.layout.add(3,5),this.formatNode(nt.elseKw),this.layout=this.formatSubExpression(nt.result)}formatClause(nt){this.isOnelineClause(nt)?this.formatClauseInOnelineStyle(nt):Dr(this.cfg)?this.formatClauseInTabularStyle(nt):this.formatClauseInIndentedStyle(nt)}isOnelineClause(nt){return Dr(this.cfg)?this.dialectCfg.tabularOnelineClauses[nt.nameKw.text]:this.dialectCfg.onelineClauses[nt.nameKw.text]}formatClauseInIndentedStyle(nt){this.layout.add(3,5,this.showKw(nt.nameKw),3),this.layout.indentation.increaseTopLevel(),this.layout.add(5),this.layout=this.formatSubExpression(nt.children),this.layout.indentation.decreaseTopLevel()}formatClauseInOnelineStyle(nt){this.layout.add(3,5,this.showKw(nt.nameKw),0),this.layout=this.formatSubExpression(nt.children)}formatClauseInTabularStyle(nt){this.layout.add(3,5,this.showKw(nt.nameKw),0),this.layout.indentation.increaseTopLevel(),this.layout=this.formatSubExpression(nt.children),this.layout.indentation.decreaseTopLevel()}formatSetOperation(nt){this.layout.add(3,5,this.showKw(nt.nameKw),3),this.layout.add(5),this.layout=this.formatSubExpression(nt.children)}formatLimitClause(nt){this.withComments(nt.limitKw,()=>{this.layout.add(3,5,this.showKw(nt.limitKw))}),this.layout.indentation.increaseTopLevel(),Dr(this.cfg)?this.layout.add(0):this.layout.add(3,5),nt.offset?(this.layout=this.formatSubExpression(nt.offset),this.layout.add(1,",",0),this.layout=this.formatSubExpression(nt.count)):this.layout=this.formatSubExpression(nt.count),this.layout.indentation.decreaseTopLevel()}formatAllColumnsAsterisk(nt){this.layout.add("*",0)}formatLiteral(nt){this.layout.add(nt.text,0)}formatIdentifier(nt){this.layout.add(this.showIdentifier(nt),0)}formatParameter(nt){this.layout.add(this.params.get(nt),0)}formatOperator({text:nt}){this.cfg.denseOperators||this.dialectCfg.alwaysDenseOperators.includes(nt)?this.layout.add(1,nt):nt===":"?this.layout.add(1,nt,0):this.layout.add(nt,0)}formatComma(nt){this.inline?this.layout.add(1,",",0):this.layout.add(1,",",3,5)}withComments(nt,oi){this.formatComments(nt.leadingComments),oi(),this.formatComments(nt.trailingComments)}formatComments(nt){nt&&nt.forEach(oi=>{oi.type==="line_comment"?this.formatLineComment(oi):this.formatBlockComment(oi)})}formatLineComment(nt){pr(nt.precedingWhitespace||"")?this.layout.add(3,5,nt.text,4,5):this.layout.getLayoutItems().length>0?this.layout.add(2,0,nt.text,4,5):this.layout.add(nt.text,4,5)}formatBlockComment(nt){nt.type==="block_comment"&&this.isMultilineBlockComment(nt)?(this.splitBlockComment(nt.text).forEach(oi=>{this.layout.add(3,5,oi)}),this.layout.add(3,5)):this.layout.add(nt.text,0)}isMultilineBlockComment(nt){return pr(nt.text)||pr(nt.precedingWhitespace||"")}isDocComment(nt){const oi=nt.split(/\n/);return/^\/\*\*?$/.test(oi[0])&&oi.slice(1,oi.length-1).every(Yi=>/^\s*\*/.test(Yi))&&/^\s*\*\/$/.test(Ho(oi))}splitBlockComment(nt){return this.isDocComment(nt)?nt.split(/\n/).map(oi=>/^\s*\*/.test(oi)?" "+oi.replace(/^\s*/,""):oi):nt.split(/\n/).map(oi=>oi.replace(/^\s*/,""))}formatSubExpression(nt){return new K_({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:this.layout,inline:this.inline}).format(nt)}formatInlineExpression(nt){const oi=this.params.getPositionalParameterIndex();try{return new K_({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:new Go(this.cfg.expressionWidth),inline:!0}).format(nt)}catch(Yi){if(Yi instanceof vo){this.params.setPositionalParameterIndex(oi);return}else throw Yi}}formatKeywordNode(nt){switch(nt.tokenType){case"RESERVED_JOIN":return this.formatJoin(nt);case"AND":case"OR":case"XOR":return this.formatLogicalOperator(nt);default:return this.formatKeyword(nt)}}formatJoin(nt){Dr(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(3,5,this.showKw(nt),0),this.layout.indentation.increaseTopLevel()):this.layout.add(3,5,this.showKw(nt),0)}formatKeyword(nt){this.layout.add(this.showKw(nt),0)}formatLogicalOperator(nt){this.cfg.logicalOperatorNewline==="before"?Dr(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(3,5,this.showKw(nt),0),this.layout.indentation.increaseTopLevel()):this.layout.add(3,5,this.showKw(nt),0):this.layout.add(this.showKw(nt),3,5)}formatDataType(nt){this.layout.add(this.showDataType(nt),0)}showKw(nt){return ta(nt.tokenType)?tr(this.showNonTabularKw(nt),this.cfg.indentStyle):this.showNonTabularKw(nt)}showNonTabularKw(nt){switch(this.cfg.keywordCase){case"preserve":return Ro(nt.raw);case"upper":return nt.text;case"lower":return nt.text.toLowerCase()}}showFunctionKw(nt){return ta(nt.tokenType)?tr(this.showNonTabularFunctionKw(nt),this.cfg.indentStyle):this.showNonTabularFunctionKw(nt)}showNonTabularFunctionKw(nt){switch(this.cfg.functionCase){case"preserve":return Ro(nt.raw);case"upper":return nt.text;case"lower":return nt.text.toLowerCase()}}showIdentifier(nt){if(nt.quoted)return nt.text;switch(this.cfg.identifierCase){case"preserve":return nt.text;case"upper":return nt.text.toUpperCase();case"lower":return nt.text.toLowerCase()}}showDataType(nt){switch(this.cfg.dataTypeCase){case"preserve":return Ro(nt.raw);case"upper":return nt.text;case"lower":return nt.text.toLowerCase()}}},mo=class{constructor(Me,nt){this.dialect=Me,this.cfg=nt,this.params=new Fr(this.cfg.params)}format(Me){const nt=this.parse(Me);return this.formatAst(nt).trimEnd()}parse(Me){return vd(this.dialect.tokenizer).parse(Me,this.cfg.paramTypes||{})}formatAst(Me){return Me.map(nt=>this.formatStatement(nt)).join(`
`.repeat(this.cfg.linesBetweenQueries+1))}formatStatement(Me){const nt=new hl({cfg:this.cfg,dialectCfg:this.dialect.formatOptions,params:this.params,layout:new cl(new Jo(Qo(this.cfg)))}).format(Me.children);return Me.hasSemicolon&&(this.cfg.newlineBeforeSemicolon?nt.add(3,";"):nt.add(2,";")),nt.toString()}},ia=class extends Error{};function Ua(Me){const nt=["multilineLists","newlineBeforeOpenParen","newlineBeforeCloseParen","aliasAs","commaPosition","tabulateAlias"];for(const oi of nt)if(oi in Me)throw new ia(`${oi} config is no more supported.`);if(Me.expressionWidth<=0)throw new ia(`expressionWidth config must be positive number. Received ${Me.expressionWidth} instead.`);return Me.params&&!fl(Me.params)&&console.warn('WARNING: All "params" option values should be strings.'),Me}function fl(Me){return(Me instanceof Array?Me:Object.values(Me)).every(oi=>typeof oi=="string")}var Va={bigquery:"bigquery",db2:"db2",db2i:"db2i",hive:"hive",mariadb:"mariadb",mysql:"mysql",n1ql:"n1ql",plsql:"plsql",postgresql:"postgresql",redshift:"redshift",spark:"spark",sqlite:"sqlite",sql:"sql",trino:"trino",transactsql:"transactsql",tsql:"transactsql",singlestoredb:"singlestoredb",snowflake:"snowflake"},va=Object.keys(Va),Pl={tabWidth:2,useTabs:!1,keywordCase:"preserve",identifierCase:"preserve",dataTypeCase:"preserve",functionCase:"preserve",indentStyle:"standard",logicalOperatorNewline:"before",expressionWidth:50,linesBetweenQueries:1,denseOperators:!1,newlineBeforeSemicolon:!1},Br=(Me,nt={})=>{if(typeof nt.language=="string"&&!va.includes(nt.language))throw new ia(`Unsupported SQL dialect: ${nt.language}`);const oi=Va[nt.language||"sql"];return Wr(Me,b(y({},nt),{dialect:_[oi]}))},Wr=(Me,nt)=>{var oi=nt,{dialect:Yi}=oi,is=C(oi,["dialect"]);if(typeof Me!="string")throw new Error("Invalid query argument. Expected string, instead got "+typeof Me);const Os=Ua(y(y({},Pl),is));return new mo(Vo(Yi),Os).format(Me)}}}]);
}());