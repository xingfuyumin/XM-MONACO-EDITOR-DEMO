(self.webpackChunk=self.webpackChunk||[]).push([[5858],{61237:function(s,N,e){"use strict";e.r(N);var S=e(157),D=e.n(S),E=e(19058),U=e.n(E),O=e(68136),r=e(24798),m=e(69609),v=e.n(m),P={tab:0,row:1,col:1,total:0,selectionNum:0,value:'SELECT "$part_event","$part_date","#user_id","#event_name","#event_time","#account_id","#distinct_id","#server_time","platform","logintime","channel","#zone_offset","#lib","#lib_version","level","firstlogintime","systemversion","shoptype","consumegoldcoins","entertime","firstbuyitemtime","iswin","firstentertime","combattime","rehcargecount","logouttime","firstrechargetime","rechagelibao","#data_source","#os","#ip","#ram","#screen_height","#system_language","#device_model","#network_type","#city","#disk","#carrier","test01","#country_code","#device_id","#province","#bundle_id","#screen_width","#install_time","#simulator","#country","#fps","#manufacturer","#app_version","#os_version","click","istest","properties","isfirstbuy","product_num","product_name","#element_type","#screen_name","#resume_from_background","#background_duration","pay_currency_type","activity_reward","reward_amount","object_list","interest","temperature","micro_decimal","device_id","luky_day","attend_progress","is_fine","inteset_arrray_string","serial_no","object","cost","card_list","diamond_amount","draw_type","cost_type","item_list","battle_id","enter_time","url","cost_amount","special_char","long_english","mix_list","json_string","duration","is_max_battle","is_first_pay","pay_amount","currency_type","payment_name","long_mixed","lib","app_version","device_type","manufacturer","network","screen_height","browser","model","browser_version","brand","carrier_name","screen_width","os","os_version","ip","serverid","vip_level","city","listtest","metric_events","#ops_receipt_properties","bool","mark","dict","row","card_id","b","batchno","id","version","subversion","request","request_method","request_url","result_detail","result","repect_result","header","updatetime","last_time","stamp","level_before","reason","gold_get_amount","gold_change_after","gold_change_before","hero_type","hero_id","hero_quality","diamond_get_amount","online_time","te_ads_object","gxy001","gxy_a_1","currency",split("buyitems",chr(0009)) AS "buyitems" FROM  ta.v_event_11 WHERE ${PartDate:date1} and ${Variable2} and ${PartDate:date3} and ${Number:number4} and ${Selector:selector5} ',language:"sql",showMinMap:!0,showFormat:!0,theme:"vs",code:!0,insert:"\u6211\u662F\u8981\u63D2\u5165\u7684\u5185\u5BB9",selection:"",locale:"zh-CN",widget:!0};N.default=function(){var X=(0,r.Z)((0,m.cloneDeepWith)(P)),B=U()(X,2),$=B[0],K=B[1],f=(0,O.useRef)(null),W=(0,O.useRef)({}),z=function(){var b,M=W.current.monaco;if(M){var Y=W.current.editor;if(Y){var F=(b=f.current)===null||b===void 0?void 0:b.formApi.getValue("insert"),G=Y.getPosition()||{lineNumber:1,column:1},j=(G==null?void 0:G.lineNumber)||1,J=(G==null?void 0:G.column)||1;Y.executeEdits("",[{range:new M.Range(j,J,j,J),text:F,forceMoveMarkers:!0}])}}},H=function(b){var M=W.current.editor;M&&(M.focus(),M.trigger("","editor.action.".concat(b),function(){}))},Q=function(b,M){K(D()({},M))};return D()({formRef:f,monacoRef:W,handleValueChange:Q,handleInsert:z,handleAction:H},$)}},73152:function(s,N,e){"use strict";e.r(N),e.d(N,{default:function(){return Ae}});var S={root:"root___qSl4q",editor:"editor___Mz7Tx",container:"container___lGekF",tool:"tool___AL1YW",info:"info___bbqpm",info2:"info2___SivJ6"},D=e(61237),E=e(46858),U=e(157),O=e.n(U),r=e(78644),m=e.n(r),v=e(60715),P=e.n(v),X=e(61272),B=e.n(X),$=e(76426),K=e.n($),f=e(68136),W=e(47602);var z={comments:{lineComment:"--",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},H={defaultToken:"",tokenPostfix:".sql",ignoreCase:!0,brackets:[{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"}],keywords:["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BIGINT","BINARY","BLOB","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHAR","CHARACTER","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CUBE","CUME_DIST","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEC","DECIMAL","DECLARE","DEFAULT","DELAYED","DELETE","DENSE_RANK","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DOUBLE","DROP","DUAL","EACH","ELSE","ELSEIF","EMPTY","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FIRST_VALUE","FLOAT","FLOAT4","FLOAT8","FOR","FORCE","FOREIGN","FROM","FULLTEXT","FUNCTION","GENERATED","GET","GRANT","GROUP","GROUPING","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","INTERVAL","INTO","IO_AFTER_GTIDS","IO_BEFORE_GTIDS","IS","ITERATE","JOIN","JSON_TABLE","KEY","KEYS","KILL","LAG","LAST_VALUE","LATERAL","LEAD","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LONGBLOB","LONGTEXT","LOOP","LOW_PRIORITY","MASTER_BIND","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NTH_VALUE","NTILE","NULL","NUMERIC","OF","ON","OPTIMIZE","OPTIMIZER_COSTS","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PERCENT_RANK","PRECISION","PRIMARY","PROCEDURE","PURGE","RANGE","RANK","READ","READS","READ_WRITE","REAL","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","REVOKE","RIGHT","RLIKE","ROW","ROWS","ROW_NUMBER","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SMALLINT","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STORED","STRAIGHT_JOIN","SYSTEM","TABLE","TERMINATED","THEN","TINYBLOB","TINYINT","TINYTEXT","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VARBINARY","VARCHAR","VARCHARACTER","VARYING","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],operators:["AND","BETWEEN","IN","LIKE","NOT","OR","IS","NULL","INTERSECT","UNION","INNER","JOIN","LEFT","OUTER","RIGHT"],builtinFunctions:["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","Area","AsBinary","AsWKB","ASCII","ASIN","AsText","AsWKT","ASYMMETRIC_DECRYPT","ASYMMETRIC_DERIVE","ASYMMETRIC_ENCRYPT","ASYMMETRIC_SIGN","ASYMMETRIC_VERIFY","ATAN","ATAN2","ATAN","AVG","BENCHMARK","BIN","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","Buffer","CAST","CEIL","CEILING","Centroid","CHAR","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","Contains","CONV","CONVERT","CONVERT_TZ","ConvexHull","COS","COT","COUNT","CRC32","CREATE_ASYMMETRIC_PRIV_KEY","CREATE_ASYMMETRIC_PUB_KEY","CREATE_DH_PARAMETERS","CREATE_DIGEST","Crosses","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT","DEGREES","DES_DECRYPT","DES_ENCRYPT","DENSE_RANK","Dimension","Disjoint","Distance","ELT","ENCODE","ENCRYPT","EndPoint","Envelope","Equals","EXP","EXPORT_SET","ExteriorRing","EXTRACT","ExtractValue","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_PICO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEN_RANGE","GEN_RND_EMAIL","GEN_RND_PAN","GEN_RND_SSN","GEN_RND_US_PHONE","GeomCollection","GeomCollFromText","GeometryCollectionFromText","GeomCollFromWKB","GeometryCollectionFromWKB","GeometryCollection","GeometryN","GeometryType","GeomFromText","GeometryFromText","GeomFromWKB","GeometryFromWKB","GET_FORMAT","GET_LOCK","GLength","GREATEST","GROUP_CONCAT","GROUPING","GTID_SUBSET","GTID_SUBTRACT","HEX","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INSERT","INSTR","InteriorRingN","Intersects","INTERVAL","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS_USED_LOCK","IS_UUID","IsClosed","IsEmpty","ISNULL","IsSimple","JSON_APPEND","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_ARRAYAGG","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SCHEMA_VALID","JSON_SCHEMA_VALIDATION_REPORT","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TABLE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LineFromText","LineStringFromText","LineFromWKB","LineStringFromWKB","LineString","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASK_INNER","MASK_OUTER","MASK_PAN","MASK_PAN_RELAXED","MASK_SSN","MASTER_POS_WAIT","MAX","MBRContains","MBRCoveredBy","MBRCovers","MBRDisjoint","MBREqual","MBREquals","MBRIntersects","MBROverlaps","MBRTouches","MBRWithin","MD5","MEMBER OF","MICROSECOND","MID","MIN","MINUTE","MLineFromText","MultiLineStringFromText","MLineFromWKB","MultiLineStringFromWKB","MOD","MONTH","MONTHNAME","MPointFromText","MultiPointFromText","MPointFromWKB","MultiPointFromWKB","MPolyFromText","MultiPolygonFromText","MPolyFromWKB","MultiPolygonFromWKB","MultiLineString","MultiPoint","MultiPolygon","NAME_CONST","NOT IN","NOW","NTH_VALUE","NTILE","NULLIF","NumGeometries","NumInteriorRings","NumPoints","OCT","OCTET_LENGTH","OLD_PASSWORD","ORD","Overlaps","PASSWORD","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","Point","PointFromText","PointFromWKB","PointN","PolyFromText","PolygonFromText","PolyFromWKB","PolygonFromWKB","Polygon","POSITION","POW","POWER","PS_CURRENT_THREAD_ID","PS_THREAD_ID","PROCEDURE ANALYSE","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_REPLACE","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","ROLES_GRAPHML","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SHA1","SHA","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SOURCE_POS_WAIT","SPACE","SQRT","SRID","ST_Area","ST_AsBinary","ST_AsWKB","ST_AsGeoJSON","ST_AsText","ST_AsWKT","ST_Buffer","ST_Buffer_Strategy","ST_Centroid","ST_Collect","ST_Contains","ST_ConvexHull","ST_Crosses","ST_Difference","ST_Dimension","ST_Disjoint","ST_Distance","ST_Distance_Sphere","ST_EndPoint","ST_Envelope","ST_Equals","ST_ExteriorRing","ST_FrechetDistance","ST_GeoHash","ST_GeomCollFromText","ST_GeometryCollectionFromText","ST_GeomCollFromTxt","ST_GeomCollFromWKB","ST_GeometryCollectionFromWKB","ST_GeometryN","ST_GeometryType","ST_GeomFromGeoJSON","ST_GeomFromText","ST_GeometryFromText","ST_GeomFromWKB","ST_GeometryFromWKB","ST_HausdorffDistance","ST_InteriorRingN","ST_Intersection","ST_Intersects","ST_IsClosed","ST_IsEmpty","ST_IsSimple","ST_IsValid","ST_LatFromGeoHash","ST_Length","ST_LineFromText","ST_LineStringFromText","ST_LineFromWKB","ST_LineStringFromWKB","ST_LineInterpolatePoint","ST_LineInterpolatePoints","ST_LongFromGeoHash","ST_Longitude","ST_MakeEnvelope","ST_MLineFromText","ST_MultiLineStringFromText","ST_MLineFromWKB","ST_MultiLineStringFromWKB","ST_MPointFromText","ST_MultiPointFromText","ST_MPointFromWKB","ST_MultiPointFromWKB","ST_MPolyFromText","ST_MultiPolygonFromText","ST_MPolyFromWKB","ST_MultiPolygonFromWKB","ST_NumGeometries","ST_NumInteriorRing","ST_NumInteriorRings","ST_NumPoints","ST_Overlaps","ST_PointAtDistance","ST_PointFromGeoHash","ST_PointFromText","ST_PointFromWKB","ST_PointN","ST_PolyFromText","ST_PolygonFromText","ST_PolyFromWKB","ST_PolygonFromWKB","ST_Simplify","ST_SRID","ST_StartPoint","ST_SwapXY","ST_SymDifference","ST_Touches","ST_Transform","ST_Union","ST_Validate","ST_Within","ST_X","ST_Y","StartPoint","STATEMENT_DIGEST","STATEMENT_DIGEST_TEXT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","Touches","TRIM","TRUNCATE","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UpdateXML","UPPER","USER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VALUES","VAR_POP","VAR_SAMP","VARIANCE","VERSION","WAIT_FOR_EXECUTED_GTID_SET","WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","Within","X","Y","YEAR","YEARWEEK"],builtinVariables:[],tokenizer:{root:[{include:"@comments"},{include:"@whitespace"},{include:"@numbers"},{include:"@strings"},{include:"@complexIdentifiers"},{include:"@scopes"},[/[;,.]/,"delimiter"],[/[()]/,"@brackets"],[/[\w@]+/,{cases:{"@operators":"operator","@builtinVariables":"predefined","@builtinFunctions":"predefined","@keywords":"keyword","@default":"identifier"}}],[/[<>=!%&+\-*/|~^]/,"operator"]],whitespace:[[/\s+/,"white"]],comments:[[/--+.*/,"comment"],[/#+.*/,"comment"],[/\/\*/,{token:"comment.quote",next:"@comment"}]],comment:[[/[^*/]+/,"comment"],[/\*\//,{token:"comment.quote",next:"@pop"}],[/./,"comment"]],numbers:[[/0[xX][0-9a-fA-F]*/,"number"],[/[$][+-]*\d*(\.\d*)?/,"number"],[/((\d+(\.\d*)?)|(\.\d+))([eE][\-+]?\d+)?/,"number"]],strings:[[/'/,{token:"string",next:"@string"}],[/"/,{token:"string.double",next:"@stringDouble"}]],string:[[/\\'/,"string"],[/[^']+/,"string"],[/''/,"string"],[/'/,{token:"string",next:"@pop"}]],stringDouble:[[/[^"]+/,"string.double"],[/""/,"string.double"],[/"/,{token:"string.double",next:"@pop"}]],complexIdentifiers:[[/`/,{token:"identifier.quote",next:"@quotedIdentifier"}]],quotedIdentifier:[[/[^`]+/,"identifier"],[/``/,"identifier"],[/`/,{token:"identifier.quote",next:"@pop"}]],scopes:[]}},Q=e(1834),V=e.n(Q),b=e(27694),M=e.n(b),Y=e(5772),F=e.n(Y),G=e(69609),j=e(86850),J=V()(function t(n){var l=this,d,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return"\u8FD0\u884C"};M()(this,t),F()(this,"_editor",void 0),F()(this,"_render",void 0),F()(this,"_domNode",document.createElement("div")),F()(this,"_root",(0,j.createRoot)(this._domNode)),F()(this,"update",(0,G.debounce)(function(){var o,g,a=l._editor.getSelection(),_=a==null?void 0:a.getStartPosition(),A=a==null?void 0:a.getEndPosition();if(!_||!A||_.equals(A)){l._domNode.style.display="none",l._domNode.style.top="0px";return}l._domNode.style.display="block";var I=((o=l._editor.getPosition())===null||o===void 0?void 0:o.lineNumber)||1,C=l._editor.getTopForLineNumber(I);l._domNode.style.top="".concat(C,"px");var i=l._render((a?(g=l._editor.getModel())===null||g===void 0?void 0:g.getValueInRange(a):"")||"");l._root.render(i)},200)),F()(this,"dispose",function(){l._root.unmount(),l._domNode.remove()}),this._editor=n;var u=n.getDomNode(),T=u==null||(d=u.querySelector(".overflow-guard"))===null||d===void 0?void 0:d.children[0];this._domNode.className="tant-sql-monaco-editor-run-widget",T==null||T.append(this._domNode),this._domNode.style.display="none",this._domNode.style.top="0px",this._domNode.onmousedown=function(o){return o.stopPropagation()},this._render=R}),q=J,ee=function(){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};M()(this,t),F()(this,"id","sql-run-widget"),F()(this,"domNode",document.createElement("div")),this.domNode.style.position="absolute",this.domNode.innerHTML="\u6211\u662F\u81EA\u5B9A\u4E49\u5185\u5BB9",this.domNode.onclick=n}return V()(t,[{key:"getId",value:function(){return this.id}},{key:"getDomNode",value:function(){return this.domNode}},{key:"getPosition",value:function(){return{position:{lineNumber:1,column:2},preference:[monaco.editor.ContentWidgetPositionPreference.EXACT]}}}]),t}(),te=ee,ne=e(13407),oe=[].concat(K()(H.keywords),K()(H.operators),K()(H.builtinFunctions)),re=function(t){var n=(0,f.useRef)({}),l=function(){var R=B()(P()().mark(function u(T,o){return P()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.runWidget&&n.current.runWidget&&n.current.runWidget.update(),t.onSelectionChange&&t.onSelectionChange(T,o);case 2:case"end":return a.stop()}},u)}));return function(T,o){return R.apply(this,arguments)}}(),d=function(){var R=B()(P()().mark(function u(T,o){return P()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:T.editor.defineTheme("tant-sql-light",{base:"vs",inherit:!0,rules:[{token:"keyword",foreground:"FF0000",fontStyle:"bold"},{token:"operator.sql",foreground:"FF0000",fontStyle:"bold"},{token:"identifier",foreground:"00FF00"},{token:"number",foreground:"0000FF"},{token:"comment",foreground:"888888"},{token:"delimiter",foreground:"FFFF00"}],colors:[]}),T.editor.defineTheme("tant-sql-black",{base:"vs-dark",inherit:!0,rules:[{token:"keyword",foreground:"FF0000",fontStyle:"bold"},{token:"operator.sql",foreground:"FF0000",fontStyle:"bold"},{token:"identifier",foreground:"00FF00"},{token:"number",foreground:"0000FF"},{token:"comment",foreground:"000000"},{token:"delimiter",foreground:"FFFF00"}],colors:[]}),n.current.formatter=o.createContextKey("shouldShowSQLFormatter",t.formatter),o.addAction({id:"formatter",label:t.formatterText||"\u683C\u5F0F\u5316",precondition:"shouldShowSQLFormatter",contextMenuGroupId:"navigation",contextMenuOrder:2,keybindings:[T.KeyMod.Shift|T.KeyMod.Alt|T.KeyCode.KeyF],run:function(){var A=o==null?void 0:o.getModel();if(A){var I=o.getValue(),C=[],i=Date.now(),h=I.replace(/\$\{.*?\}/g,function(k){return C.push(k),"".concat(i," = ").concat(i)}),y=(0,W.WU)(h),p=-1,x=y.replaceAll("".concat(i," = ").concat(i),function(){return p+=1,C[p]});o.executeEdits("formatter",[{range:A.getFullModelRange(),text:x}])}}}),n.current.editor=o,n.current.completionItemProvider=T.languages.registerCompletionItemProvider("sql",{triggerCharacters:["."],provideCompletionItems:function(){var _=B()(P()().mark(function I(C,i){var h,y,p,x,k,w;return P()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(y=i.lineNumber,p=i.column,x=((h=C.getValueInRange({startLineNumber:y,startColumn:0,endLineNumber:y,endColumn:p}))===null||h===void 0?void 0:h.split(" "))||[],k=x[x.length-1]||"",!t.onCompletionItemProvider){L.next=9;break}return L.next=6,t.onCompletionItemProvider(k,oe);case 6:L.t0=L.sent,L.next=10;break;case 9:L.t0=[];case 10:return w=L.t0,L.abrupt("return",{suggestions:w,incomplete:!0,dispose:!0});case 12:case"end":return L.stop()}},I)}));function A(I,C){return _.apply(this,arguments)}return A}(),resolveCompletionItem:function(A){return A}}),t.runWidget&&(n.current.runWidget=new q(o,t.runWidgetRender)),n.current.contentWidget=new te,T.languages.registerHoverProvider("sql",{provideHover:function(A,I){var C=A.getWordAtPosition(I);if(C){var i=document.createElement("div");return i.innerHTML="<strong>Custom HTML Content</strong><br/>This is a custom tooltip for token: "+C.word,i.style.background="white",i.style.padding="80px",i.style.border="1px solid black",console.log(i.outerHTML),{range:new T.Range(I.lineNumber,C.startColumn,I.lineNumber,C.endColumn),content:[{isTrusted:!0,value:i.outerHTML,supportHtml:!0}]}}return null}});case 9:case"end":return a.stop()}},u)}));return function(T,o){return R.apply(this,arguments)}}();return(0,f.useEffect)(function(){n.current.formatter&&n.current.formatter.set(t.formatter)},[t.formatter]),(0,ne.Z)(function(){var R=n.current.editor;R&&(n.current.runWidget&&(n.current.runWidget.dispose(),n.current.runWidget=void 0),t.runWidget&&(n.current.runWidget=new q(R,t.runWidgetRender)))},[t.runWidget]),(0,f.useEffect)(function(){return function(){var R=n.current.completionItemProvider;R&&R.dispose()}},[]),{handleInit:d,handleSelectionChange:l}},ie={"zh-CN":"zh-cn","ko-KR":"ko","en-US":"es","ja-JP":"ja"};function ae(t){var n,l=window.require;((n=l.getConfig())===null||n===void 0||(n=n["vs/nls"])===null||n===void 0||(n=n.availableLanguages)===null||n===void 0?void 0:n["*"])!==t&&(l.reset(),l.locale=t,l.config({paths:{vs:"/monaco-editor/vs"},"vs/nls":{availableLanguages:{"*":t}}}))}var le=function(t,n){var l=(0,f.useRef)(null),d=(0,f.useRef)({}),R=function(){var u=B()(P()().mark(function T(){var o,g,a,_,A,I;return P()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=l.current,o){i.next=3;break}return i.abrupt("return");case 3:return g=window.require,ae(ie[t.locale||"zh-CN"]),i.next=7,new Promise(function(h,y){g(["".concat("/XM-MONACO-EDITOR-DEMO/dist/","vs/editor/editor.main")],function(p){h(p)},function(){y(null)})});case 7:if(d.current.monaco=i.sent,a=d.current.monaco,a){i.next=11;break}return i.abrupt("return");case 11:if(_=d.current.editor,A="",_&&(A=_.getValue(),_.dispose(),d.current.editor=void 0,_=void 0),d.current.editor=a.editor.create(o,O()({language:t.language||"text",value:A||t.value||""},t.initOptions||{})),_=d.current.editor,!_){i.next=24;break}if(!t.onInit){i.next=20;break}return i.next=20,t.onInit(a,_);case 20:_.onDidChangeModelContent(function(){t.onValueChange&&t.onValueChange(_,a)}),_.onDidChangeCursorSelection(function(){t.onSelectionChange&&t.onSelectionChange(_,a)}),(I=_.getModel())===null||I===void 0||I.onDidChangeOptions(function(){t.onOptionChange&&t.onOptionChange(_,a)}),_.onDidChangeConfiguration(function(h){t.onConfigureChange&&t.onConfigureChange(h.hasChanged,_,a)});case 24:case"end":return i.stop()}},T)}));return function(){return u.apply(this,arguments)}}();return(0,f.useEffect)(function(){R()},[t.locale]),(0,f.useEffect)(function(){return function(){var u=d.current.editor;u&&u.dispose()}},[]),(0,f.useEffect)(function(){var u=d.current.editor;u&&t.options&&u.updateOptions(t.options)},[t.options]),(0,f.useEffect)(function(){var u=d.current.editor;if(u){var T=u.getValue();if((t.value||"")!==T){var o=u.getPosition()||{lineNumber:1,column:1},g=(o==null?void 0:o.lineNumber)||1,a=(o==null?void 0:o.column)||1;u.executeEdits("",[{range:new monaco.Range(g,a,g,a),text:t.value||"",forceMoveMarkers:!0}])}}},[t.value]),(0,f.useImperativeHandle)(n,function(){return d.current},[d.current]),{continerRef:l}},ue=e(91150),Z=e.n(ue),c=e(33130),se=(0,f.forwardRef)(function(t,n){var l=le(t,n),d=l.continerRef;return(0,c.jsx)("div",{className:Z()("tant-monaco-editor",t.className),ref:d})}),Ee=se,Te=["className","locale"],_e=(0,f.forwardRef)(function(t,n){var l=t.className,d=t.locale,R=m()(t,Te),u=re(t),T=u.handleInit,o=u.handleSelectionChange;return(0,c.jsx)(Ee,O()(O()({className:Z()("tant-monaco-editor-sql",l),ref:n,language:"sql",locale:d},R),{},{onInit:T,onSelectionChange:o}))}),de=_e,Se=[{value:"sql",label:"Sql",otherKey:0},{value:"shell",label:"Shell",otherKey:1}],ce=[{value:"vs",label:"\u9ED8\u8BA4\u4EAE",otherKey:0},{value:"vs-dark",label:"\u9ED8\u8BA4\u9ED1",otherKey:1},{value:"hc-light",label:"\u9AD8\u5BF9\u6BD4\u4EAE",otherKey:2},{value:"hc-black",label:"\u9AD8\u5BF9\u6BD4\u9ED1",otherKey:3},{value:"tant-sql-light",label:"\u81EA\u5B9A\u4E49\u4EAE",otherKey:4},{value:"tant-sql-black",label:"\u81EA\u5B9A\u4E49\u9ED1",otherKey:5}],me=[{value:"zh-CN",label:"\u4E2D\u6587",otherKey:0},{value:"en-US",label:"\u82F1\u6587",otherKey:1},{value:"ko-KR",label:"\u97E9\u6587",otherKey:2},{value:"ja-JP",label:"\u65E5\u6587",otherKey:3}],Re=function(){var n=(0,D.default)(),l=n.total,d=n.col,R=n.row,u=n.tab,T=n.selectionNum,o=n.value,g=n.locale,a=n.showFormat,_=n.theme,A=n.widget,I=n.formRef,C=n.monacoRef,i=n.handleValueChange,h=n.handleInsert,y=n.handleAction;return(0,c.jsxs)("div",{className:S.root,children:[(0,c.jsx)("div",{className:S.container,children:(0,c.jsx)(de,{className:S.editor,value:o,ref:C,locale:g,formatter:a,runWidget:A,runWidgetRender:function(x){return(0,c.jsx)(E.zx,{onClick:function(w){w.stopPropagation(),w.nativeEvent.stopImmediatePropagation(),E.u_.confirm({title:"\u5C06\u6267\u884C\u4EE5\u4E0B\u8BED\u53E5",content:x})},children:"\u6267\u884C"})},options:{theme:_}})}),(0,c.jsx)("div",{className:S.tool,children:(0,c.jsxs)(E.l0,{labelPosition:"left",labelWidth:"120px",ref:I,onValueChange:i,initValues:{language:"sql",showMinMap:!0,showFormat:!0,theme:"vs",code:!0,insert:"\u6211\u662F\u8981\u63D2\u5165\u7684\u5185\u5BB9",selection:"",locale:"zh-CN",widget:!0},children:[(0,c.jsx)(E.l0.Select,{field:"language",label:"\u7F16\u7A0B\u8BED\u8A00",optionList:Se,style:{width:"100%"}}),(0,c.jsx)(E.l0.Select,{field:"locale",label:"\u7F16\u8F91\u5668\u8BED\u8A00",optionList:me,style:{width:"100%"}}),(0,c.jsx)(E.l0.Switch,{field:"showMinMap",label:"\u5C55\u793A\u5C0F\u5730\u56FE"}),(0,c.jsx)(E.l0.Switch,{field:"showFormat",label:"\u5C55\u793A\u683C\u5F0F\u5316\u83DC\u5355"}),(0,c.jsx)(E.l0.Select,{field:"theme",label:"\u4E3B\u9898",optionList:ce,style:{width:"100%"}}),(0,c.jsx)(E.l0.Switch,{field:"code",label:"\u4EE3\u7801\u8865\u5168",disabled:!0}),(0,c.jsx)(E.l0.Switch,{field:"widget",label:"\u4EE3\u7801\u9009\u62E9\u8FD0\u884C"}),(0,c.jsx)(E.l0.Input,{field:"insert",label:"\u5149\u6807\u63D2\u5165",addonAfter:(0,c.jsx)(E.zx,{type:"primary",onClick:h,children:"\u63D2\u5165"})}),(0,c.jsxs)("div",{className:S.info2,children:["\u603B\u5B57\u6570\uFF1A",l," ",T?"(\u5DF2\u9009\u62E9\uFF1A".concat(T,")"):""]}),(0,c.jsxs)("div",{className:S.info,onClick:function(){return y("gotoLine")},children:["\u5F53\u524D\u4F4D\u7F6E\uFF1A\u884C ",R,"\uFF0C\u5217 ",d]}),(0,c.jsxs)("div",{className:S.info,onClick:function(){return y("changeTabDisplaySize")},children:["\u7A7A\u683C\uFF1A",u]})]})})]})},Ae=Re},13407:function(s,N,e){"use strict";e.d(N,{Z:function(){return U}});var S=e(68136),D=function(O){return function(r,m){var v=(0,S.useRef)(!1);O(function(){return function(){v.current=!1}},[]),O(function(){if(!v.current)v.current=!0;else return r()},m)}},E=null,U=D(S.useEffect)},62082:function(s,N,e){var S=e(28144);function D(E){if(Array.isArray(E))return S(E)}s.exports=D,s.exports.__esModule=!0,s.exports.default=s.exports},23972:function(s){function N(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}s.exports=N,s.exports.__esModule=!0,s.exports.default=s.exports},37669:function(s){function N(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}s.exports=N,s.exports.__esModule=!0,s.exports.default=s.exports},76426:function(s,N,e){var S=e(62082),D=e(23972),E=e(80749),U=e(37669);function O(r){return S(r)||D(r)||E(r)||U()}s.exports=O,s.exports.__esModule=!0,s.exports.default=s.exports},91150:function(s,N){var e,S;(function(){"use strict";var D={}.hasOwnProperty;function E(){for(var r="",m=0;m<arguments.length;m++){var v=arguments[m];v&&(r=O(r,U(v)))}return r}function U(r){if(typeof r=="string"||typeof r=="number")return r;if(typeof r!="object")return"";if(Array.isArray(r))return E.apply(null,r);if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]"))return r.toString();var m="";for(var v in r)D.call(r,v)&&r[v]&&(m=O(m,v));return m}function O(r,m){return m?r?r+" "+m:r+m:r}s.exports?(E.default=E,s.exports=E):(e=[],S=function(){return E}.apply(N,e),S!==void 0&&(s.exports=S))})()}}]);
