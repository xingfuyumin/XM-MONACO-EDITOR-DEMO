"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3196],{23918:function(v,h,t){t.r(h);var D=t(60715),l=t.n(D),M=t(61272),E=t.n(M),a=t(68136),P=t(33465);h.default=function(n,g){var f=(0,a.useRef)({}),_=(0,a.useRef)(""),c=(0,a.useRef)(),R=function(){var C=E()(l()().mark(function O(){var o,i,m;return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(o=n.inputPrefix||"",i=f.current.terminal,i){s.next=4;break}return s.abrupt("return");case 4:_.current="",i.writeln(""),n.readonly||i.write(o),c.current&&(c.current.dispose(),c.current=void 0),m=0,o.split("").forEach(function(d){d.charCodeAt(0)<128?m+=1:m+=2}),c.current=i.onData(function(){var d=E()(l()().mark(function p(u){var b,r;return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b=n.inputPrefix||"",r=f.current.terminal,!(!r||n.readonly)){e.next=4;break}return e.abrupt("return");case 4:e.t0=u,e.next=e.t0===""?7:e.t0==="\r"?10:e.t0==="\x7F"?17:19;break;case 7:return r.writeln("^C"),r.write(b),e.abrupt("break",20);case 10:if(!n.onEnter){e.next=13;break}return e.next=13,n.onEnter(_.current);case 13:return r.writeln(""),r.write(b),_.current="",e.abrupt("break",20);case 17:return r._core.buffer.x>m&&(r.write("\b \b"),_.current.length>0&&(_.current=_.current.substr(0,_.current.length-1))),e.abrupt("break",20);case 19:(u>=String.fromCharCode(32)&&u<=String.fromCharCode(126)||u>="\xA0")&&(_.current+=u,r.write(u));case 20:case"end":return e.stop()}},p)}));return function(p){return d.apply(this,arguments)}}());case 11:case"end":return s.stop()}},O)}));return function(){return C.apply(this,arguments)}}();return(0,a.useEffect)(function(){R()},[n.inputPrefix,n.readonly]),(0,a.useImperativeHandle)(g,function(){return f.current},[]),{cacheRef:f}}},33465:function(){}}]);
